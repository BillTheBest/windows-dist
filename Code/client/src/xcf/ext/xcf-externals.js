(function(){var a,h,e,b,g,f,l,k,n,m,p,q,r,t,u,y,x,z,B,D,w={}.hasOwnProperty,A=[].indexOf||function(a){for(var b=0,e=this.length;b<e;b++)if(b in this&&this[b]===a)return b;return-1};f={is_unordered:!1,is_counting:!1,is_exclusive:!1,is_solitary:!1,prevent_default:!1,prevent_repeat:!1,normalize_caps_lock:!1};z="meta alt option ctrl shift cmd".split(" ");y="ctrl";D={debug:!1};a=function(){function a(b){var e,f;for(e in b)w.call(b,e)&&(f=b[e],!1!==f&&(this[e]=f));this.keys=this.keys||[];this.count=this.count||
0}a.prototype.allows_key_repeat=function(){return!this.prevent_repeat&&"function"===typeof this.on_keydown};a.prototype.reset=function(){this.count=0;return this.keyup_fired=null};return a}();D.Listener=function(){function k(a,b){var e,g;"undefined"!==typeof jQuery&&null!==jQuery&&a instanceof jQuery&&(1!==a.length&&u("Warning: your jQuery selector should have exactly one object."),a=a[0]);this.should_force_event_defaults=this.should_suppress_event_defaults=!1;this.sequence_delay=800;this._registered_combos=
[];this._keys_down=[];this._active_combos=[];this._sequence=[];this._sequence_timer=null;this._prevent_capture=!1;this._defaults=b||{};for(e in f)w.call(f,e)&&(g=f[e],this._defaults[e]=this._defaults[e]||g);this.element=a||document.body;e=function(a,e,b){a.addEventListener?a.addEventListener(e,b):a.attachEvent&&a.attachEvent("on"+e,b);return b};this.keydown_event=e(this.element,"keydown",function(a){return function(e){e=e||window.event;a._receive_input(e,!0);return a._bug_catcher(e)}}(this));this.keyup_event=
e(this.element,"keyup",function(a){return function(e){e=e||window.event;return a._receive_input(e,!1)}}(this));this.blur_event=e(window,"blur",function(a){return function(){var e,b,f,g;g=a._keys_down;b=0;for(f=g.length;b<f;b++)e=g[b],a._key_up(e,{});return a._keys_down=[]}}(this))}k.prototype.destroy=function(){var a;a=function(a,e,b){if(null!=a.removeEventListener)return a.removeEventListener(e,b);if(null!=a.removeEvent)return a.removeEvent("on"+e,b)};a(this.element,"keydown",this.keydown_event);
a(this.element,"keyup",this.keyup_event);return a(window,"blur",this.blur_event)};k.prototype._bug_catcher=function(a){var e,f;if("cmd"===y&&0<=A.call(this._keys_down,"cmd")&&"cmd"!==(e=b(null!=(f=a.keyCode)?f:a.key))&&"shift"!==e&&"alt"!==e&&"caps"!==e&&"tab"!==e)return this._receive_input(a,!1)};k.prototype._cmd_bug_check=function(a){return"cmd"===y&&0<=A.call(this._keys_down,"cmd")&&0>A.call(a,"cmd")?!1:!0};k.prototype._prevent_default=function(a,e,b){b=a.target;if(!b||-1==b.className.toLowerCase().indexOf("input"))if(16===
a.keyCode&&(this._shiftDown="keydown"===a.type),!this._shiftDown&&(e||this.should_suppress_event_defaults)&&!this.should_force_event_defaults&&!this._shiftDown&&(a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation))return a.stopPropagation()};k.prototype._get_active_combos=function(a){var e,b;e=[];b=l(this._keys_down,function(e){return e!==a});b.push(a);this._match_combo_arrays(b,function(a){return function(b){if(a._cmd_bug_check(b.keys))return e.push(b)}}(this));this._fuzzy_match_combo_arrays(b,
function(a){return function(b){if(!(0<=A.call(e,b)||b.is_solitary)&&a._cmd_bug_check(b.keys))return e.push(b)}}(this));return e};k.prototype._get_potential_combos=function(a){var e,b,f,g,k;g=[];k=this._registered_combos;b=0;for(f=k.length;b<f;b++)e=k[b],e.is_sequence||0<=A.call(e.keys,a)&&this._cmd_bug_check(e.keys)&&g.push(e);return g};k.prototype._add_to_active_combos=function(a){var e,b,f,g,k,l,m,h,n,r,p;p=!1;r=!0;f=!1;if(0<=A.call(this._active_combos,a))return!0;if(this._active_combos.length)for(g=
k=0,h=this._active_combos.length;0<=h?k<h:k>h;g=0<=h?++k:--k)if((e=this._active_combos[g])&&e.is_exclusive&&a.is_exclusive){e=e.keys;if(!p)for(m=0,l=e.length;m<l;m++)if(b=e[m],p=!0,0>A.call(a.keys,b)){p=!1;break}if(r&&!p)for(n=a.keys,m=0,l=n.length;m<l;m++)if(b=n[m],r=!1,0>A.call(e,b)){r=!0;break}p&&(f?(e=this._active_combos.splice(g,1)[0],null!=e&&e.reset()):(e=this._active_combos.splice(g,1,a)[0],null!=e&&e.reset(),f=!0),r=!1)}r&&this._active_combos.unshift(a);return p||r};k.prototype._remove_from_active_combos=
function(a){var e,b,f,g;b=f=0;for(g=this._active_combos.length;0<=g?f<g:f>g;b=0<=g?++f:--f)if(e=this._active_combos[b],e===a){a=this._active_combos.splice(b,1)[0];a.reset();break}};k.prototype._get_possible_sequences=function(){var a,e,b,f,g,k,m,h,n,r,p,q;m=[];n=this._registered_combos;b=0;for(f=n.length;b<f;b++)for(a=n[b],e=g=1,r=this._sequence.length;1<=r?g<=r:g>=r;e=1<=r?++g:--g)if(q=this._sequence.slice(-e),a.is_sequence){if(0>A.call(a.keys,"shift")&&(q=l(q,function(a){return"shift"!==a}),!q.length))continue;
e=h=0;for(p=q.length;0<=p?h<p:h>p;e=0<=p?++h:--h)if(a.keys[e]===q[e])k=!0;else{k=!1;break}k&&m.push(a)}return m};k.prototype._add_key_to_sequence=function(a,e){var b,f,g,k;this._sequence.push(a);k=this._get_possible_sequences();if(k.length){f=0;for(g=k.length;f<g;f++)b=k[f],this._prevent_default(e,b.prevent_default);this._sequence_timer&&clearTimeout(this._sequence_timer);-1<this.sequence_delay&&(this._sequence_timer=setTimeout(function(a){return function(){return a._sequence=[]}}(this),this.sequence_delay))}else this._sequence=
[]};k.prototype._get_sequence=function(a){var e,b,f,g,k,m,h,n,r,p,q,w;n=this._registered_combos;f=0;for(g=n.length;f<g;f++)if(e=n[f],e.is_sequence){b=k=1;for(r=this._sequence.length;1<=r?k<=r:k>=r;b=1<=r?++k:--k)if(w=l(this._sequence,function(a){return 0<=A.call(e.keys,"shift")?!0:"shift"!==a}).slice(-b),e.keys.length===w.length)for(b=h=0,p=w.length;0<=p?h<p:h>p;b=0<=p?++h:--h)if(q=w[b],!(0>A.call(e.keys,"shift")&&"shift"===q||"shift"===a&&0>A.call(e.keys,"shift")))if(e.keys[b]===q)m=!0;else{m=!1;
break}if(m)return e.is_exclusive&&(this._sequence=[]),e}return!1};k.prototype._receive_input=function(a,e){var f,g;if(this._prevent_capture)this._keys_down.length&&(this._keys_down=[]);else if(f=b(null!=(g=a.keyCode)?g:a.key),(e||this._keys_down.length||"alt"!==f&&f!==y)&&f)return e?this._key_down(f,a):this._key_up(f,a)};k.prototype._fire=function(a,e,b,f){"function"===typeof e["on_"+a]&&this._prevent_default(b,!0!==e["on_"+a].call(e["this"],b,e.count,f));"release"===a&&(e.count=0);if("keyup"===a)return e.keyup_fired=
!0};k.prototype._match_combo_arrays=function(a,b){var f,g,k,l,m;l=this._registered_combos;g=0;for(k=l.length;g<k;g++)m=l[g],f=a.slice(0),m.normalize_caps_lock&&0<=A.call(f,"caps")&&f.splice(f.indexOf("caps"),1),(!m.is_unordered&&e(f,m.keys)||m.is_unordered&&h(f,m.keys))&&b(m)};k.prototype._fuzzy_match_combo_arrays=function(a,e){var b,f,g,k;g=this._registered_combos;b=0;for(f=g.length;b<f;b++)k=g[b],(!k.is_unordered&&m(k.keys,a)||k.is_unordered&&n(k.keys,a))&&e(k)};k.prototype._keys_remain=function(a){var e,
b,f,g;g=a.keys;b=0;for(f=g.length;b<f;b++)if(a=g[b],0<=A.call(this._keys_down,a)){e=!0;break}return e};k.prototype._key_down=function(a,e){var b,f,k,l,m;(b=g(a,e))&&(a=b);this._add_key_to_sequence(a,e);(b=this._get_sequence(a))&&this._fire("keydown",b,e);for(m in x)b=x[m],e[b]&&(m===a||0<=A.call(this._keys_down,m)||this._keys_down.push(m));for(m in x)if(b=x[m],m!==a&&0<=A.call(this._keys_down,m)&&!e[b]&&("cmd"!==m||"cmd"===y))for(b=f=0,k=this._keys_down.length;0<=k?f<k:f>k;b=0<=k?++f:--f)this._keys_down[b]===
m&&this._keys_down.splice(b,1);f=this._get_active_combos(a);m=this._get_potential_combos(a);l=0;for(k=f.length;l<k;l++)b=f[l],this._handle_combo_down(b,m,a,e);if(m.length)for(f=0,b=m.length;f<b;f++)k=m[f],this._prevent_default(e,k.prevent_default);0>A.call(this._keys_down,a)&&this._keys_down.push(a)};k.prototype._handle_combo_down=function(a,e,b,f){var g,k,l,m,h;if(0>A.call(a.keys,b))return!1;this._prevent_default(f,a&&a.prevent_default);g=!1;if(0<=A.call(this._keys_down,b)&&(g=!0,!a.allows_key_repeat()))return!1;
h=this._add_to_active_combos(a,b);b=a.keyup_fired=!1;if(a.is_exclusive)for(k=0,l=e.length;k<l;k++)if(m=e[k],m.is_exclusive&&m.keys.length>a.keys.length){b=!0;break}if(!b&&(a.is_counting&&"function"===typeof a.on_keydown&&(a.count+=1),h))return this._fire("keydown",a,f,g)};k.prototype._key_up=function(a,e){var b,f,k,l,m,h;f=a;(b=g(a,e))&&(a=b);b=t[f];e.shiftKey?b&&0<=A.call(this._keys_down,b)||(a=f):f&&0<=A.call(this._keys_down,f)||(a=b);(l=this._get_sequence(a))&&this._fire("keyup",l,e);if(0>A.call(this._keys_down,
a))return!1;l=m=0;for(h=this._keys_down.length;0<=h?m<h:m>h;l=0<=h?++m:--m)if((k=this._keys_down[l])===a||k===b||k===f){this._keys_down.splice(l,1);break}f=this._active_combos.length;k=[];h=this._active_combos;m=0;for(l=h.length;m<l;m++)b=h[m],0<=A.call(b.keys,a)&&k.push(b);m=0;for(l=k.length;m<l;m++)b=k[m],this._handle_combo_up(b,e,a);if(1<f)for(m=this._active_combos,l=0,f=m.length;l<f;l++)b=m[l],void 0===b||0<=A.call(k,b)||this._keys_remain(b)||this._remove_from_active_combos(b)};k.prototype._handle_combo_up=
function(a,b,e){var f,g;this._prevent_default(b,a&&a.prevent_default);g=this._keys_remain(a);a.keyup_fired||(f=this._keys_down.slice(),f.push(e),a.is_solitary&&!h(f,a.keys))||(this._fire("keyup",a,b),a.is_counting&&"function"===typeof a.on_keyup&&"function"!==typeof a.on_keydown&&(a.count+=1));g||(this._fire("release",a,b),this._remove_from_active_combos(a))};k.prototype.simple_combo=function(a,b){return this.register_combo({keys:a,on_keydown:b})};k.prototype.counting_combo=function(a,b){return this.register_combo({keys:a,
is_counting:!0,is_unordered:!1,on_keydown:b})};k.prototype.sequence_combo=function(a,b){return this.register_combo({keys:a,on_keydown:b,is_sequence:!0,is_exclusive:!0})};k.prototype.register_combo=function(b){var e,f,g;"string"===typeof b.keys&&(b.keys=b.keys.split(" "));g=this._defaults;for(e in g)w.call(g,e)&&(f=g[e],void 0===b[e]&&(b[e]=f));b=new a(b);if(B(b))return this._registered_combos.push(b),b};k.prototype.register_many=function(a){var b,e,f,g;g=[];e=0;for(f=a.length;e<f;e++)b=a[e],g.push(this.register_combo(b));
return g};k.prototype.unregister_combo=function(b){var f,g,k,l,m,n;if(!b)return!1;g=function(a){return function(b){var e,f,g,k;k=[];e=f=0;for(g=a._registered_combos.length;0<=g?f<g:f>g;e=0<=g?++f:--f)if(b===a._registered_combos[e]){a._registered_combos.splice(e,1);break}else k.push(void 0);return k}}(this);if(b instanceof a)return g(b);"string"===typeof b&&(b=b.split(" "));m=this._registered_combos;n=[];k=0;for(l=m.length;k<l;k++)f=m[k],null!=f&&(f.is_unordered&&h(b,f.keys)||!f.is_unordered&&e(b,
f.keys)?n.push(g(f)):n.push(void 0));return n};k.prototype.unregister_many=function(a){var b,e,f,g;g=[];e=0;for(f=a.length;e<f;e++)b=a[e],g.push(this.unregister_combo(b));return g};k.prototype.get_registered_combos=function(){return this._registered_combos};k.prototype.reset=function(){return this._registered_combos=[]};k.prototype.listen=function(){return this._prevent_capture=!1};k.prototype.stop_listening=function(){return this._prevent_capture=!0};k.prototype.get_meta_key=function(){return y};
return k}();b=function(a){return r[a]};l=function(a,b){var e;if(a.filter)return a.filter(b);var f,g,k;k=[];f=0;for(g=a.length;f<g;f++)e=a[f],b(e)&&k.push(e);return k};h=function(a,b){var e,f,g;if(a.length!==b.length)return!1;f=0;for(g=a.length;f<g;f++)if(e=a[f],!(0<=__indexOf.call(b,e)))return!1;return!0};e=function(a,b){var e,f,g;if(a.length!==b.length)return!1;e=f=0;for(g=a.length;0<=g?f<g:f>g;e=0<=g?++f:--f)if(a[e]!==b[e])return!1;return!0};n=function(a,b){var e,f,g;f=0;for(g=a.length;f<g;f++)if(e=
a[f],0>__indexOf.call(b,e))return!1;return!0};k=Array.prototype.indexOf||function(a,b){var e,f,g;e=f=0;for(g=a.length;0<=g?f<=g:f>=g;e=0<=g?++f:--f)if(a[e]===b)return e;return-1};m=function(a,b){var e,f,g,l;g=f=0;for(l=a.length;g<l;g++)if(e=a[g],e=k.call(b,e),e>=f)f=e;else return!1;return!0};u=function(){if(D.debug)return console.log.apply(console,arguments)};p=function(a){var b,e,f;e=!1;for(b in r)if(f=r[b],a===f){e=!0;break}if(!e)for(b in t)if(f=t[b],a===f){e=!0;break}return e};B=function(a){var b,
e,g,l,m,h,n;n=!0;a.keys.length||u("You're trying to bind a combo with no keys:",a);e=l=0;for(m=a.keys.length;0<=m?l<m:l>m;e=0<=m?++l:--l)g=a.keys[e],(b=q[g])&&(g=a.keys[e]=b),"meta"===g&&a.keys.splice(e,1,y),"cmd"===g&&u('Warning: use the "meta" key rather than "cmd" for Windows compatibility');_ref1=a.keys;_j=0;for(_len=_ref1.length;_j<_len;_j++)g=_ref1[_j],p(g)||(u('Do not recognize the key "'+g+'"'),n=!1);if(0<=A.call(a.keys,"meta")||0<=A.call(a.keys,"cmd")){m=a.keys.slice();l=0;for(b=z.length;l<
b;l++)g=z[l],-1<(e=k.call(m,g))&&m.splice(e,1);1<m.length&&(u("META and CMD key combos cannot have more than 1 non-modifier keys",a,m),n=!1)}for(h in a)"undefined"===f[h]&&u("The property "+h+" is not a valid combo property. Your combo has still been registered.");return n};g=function(a,b){var e;if(!b.shiftKey)return!1;e=t[a];return null!=e?e:!1};x={cmd:"metaKey",ctrl:"ctrlKey",shift:"shiftKey",alt:"altKey"};q={escape:"esc",control:"ctrl",command:"cmd","break":"pause",windows:"cmd",option:"alt",caps_lock:"caps",
apostrophe:"'",semicolon:";",tilde:"~",accent:"`",scroll_lock:"scroll",num_lock:"num"};t={"/":"?",".":">",",":"<","'":'"',";":":","[":"{","]":"}","\\":"|","`":"~","=":"+","-":"_",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")"};r={0:"\\",8:"backspace",9:"tab",12:"num",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",44:"print",45:"insert",46:"delete",48:"0",49:"1",50:"2",
51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"cmd",92:"cmd",93:"cmd",96:"num_0",97:"num_1",98:"num_2",99:"num_3",100:"num_4",101:"num_5",102:"num_6",103:"num_7",104:"num_8",105:"num_9",106:"num_multiply",107:"num_add",108:"num_enter",109:"num_subtract",110:"num_decimal",111:"num_divide",112:"f1",113:"f2",114:"f3",
115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",124:"print",144:"num",145:"scroll",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"`",224:"cmd",225:"alt",57392:"ctrl",63289:"num",59:";",61:"=",173:"-"};D._keycode_dictionary=r;D._is_array_in_array_sorted=m;-1!==navigator.userAgent.indexOf("Mac OS X")&&(y="cmd");-1!==navigator.userAgent.indexOf("Opera")&&(r["17"]="cmd");window.keypress=D;"function"===typeof define&&define.amd||
("undefined"!==typeof exports&&null!==exports?exports.keypress=D:window.keypress=D)}).call(this);/*

 lodash 3.10.1 (Custom Build) lodash.com/license | Underscore.js 1.8.3 underscorejs.org/LICENSE
 Build: `lodash modern -o ./lodash.js`
*/
(function(){function a(a,b){if(a!==b){var e=null===a,f=a===w,g=a===a,k=null===b,l=b===w,m=b===b;if(a>b&&!k||!g||e&&!l&&m||f&&m)return 1;if(a<b&&!e||!m||k&&!f&&g||l&&g)return-1}return 0}function h(a,b,e){for(var f=a.length,g=e?f:-1;e?g--:++g<f;)if(b(a[g],g,a))return g;return-1}function e(a,b,e){if(b!==b)return r(a,e);--e;for(var f=a.length;++e<f;)if(a[e]===b)return e;return-1}function b(a){return"function"==typeof a||!1}function g(a){return null==a?"":a+""}function f(a,b){for(var e=-1,f=a.length;++e<
f&&-1<b.indexOf(a.charAt(e)););return e}function l(a,b){for(var e=a.length;e--&&-1<b.indexOf(a.charAt(e)););return e}function k(b,e){return a(b.a,e.a)||b.b-e.b}function n(a){return xb[a]}function m(a){return Va[a]}function p(a,b,e){return b?a=db[a]:e&&(a=lb[a]),"\\"+a}function q(a){return"\\"+lb[a]}function r(a,b,e){var f=a.length;for(b+=e?0:-1;e?b--:++b<f;){var g=a[b];if(g!==g)return b}return-1}function t(a){return!!a&&"object"==typeof a}function u(a){return 160>=a&&9<=a&&13>=a||32==a||160==a||5760==
a||6158==a||8192<=a&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function y(a,b){for(var e=-1,f=a.length,g=-1,k=[];++e<f;)a[e]===b&&(a[e]=la,k[++g]=e);return k}function x(a){for(var b=-1,e=a.length;++b<e&&u(a.charCodeAt(b)););return b}function z(a){for(var b=a.length;b--&&u(a.charCodeAt(b)););return b}function B(a){return Ea[a]}function D(u){function F(a){if(t(a)&&!(sa(a)||a instanceof oa)){if(a instanceof Ua)return a;if(ab.call(a,"__chain__")&&ab.call(a,"__wrapped__"))return vd(a)}return new Ua(a)}
function Ea(){}function Ua(a,b,e){this.__wrapped__=a;this.__actions__=e||[];this.__chain__=!!b}function oa(a){this.__wrapped__=a;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=uc;this.__views__=[]}function db(){this.__data__={}}function Ca(a){var b=a?a.length:0;for(this.data={hash:vc(null),set:new wc};b--;)this.push(a[b])}function lb(a,b){var e=a.data;return("string"==typeof b||Ka(b)?e.set.has(b):e.hash[b])?0:-1}function Ha(a,b){var e=-1,f=a.length;
for(b||(b=La(f));++e<f;)b[e]=a[e];return b}function $a(a,b){for(var e=-1,f=a.length;++e<f&&!1!==b(a[e],e,a););return a}function sb(a,b){for(var e=-1,f=a.length;++e<f;)if(!b(a[e],e,a))return!1;return!0}function xb(a,b){for(var e=-1,f=a.length,g=-1,k=[];++e<f;){var l=a[e];b(l,e,a)&&(k[++g]=l)}return k}function cb(a,b){for(var e=-1,f=a.length,g=La(f);++e<f;)g[e]=b(a[e],e,a);return g}function Va(a,b){for(var e=-1,f=b.length,g=a.length;++e<f;)a[g+e]=b[e];return a}function xc(a,b,e,f){var g=-1,k=a.length;
for(f&&k&&(e=a[++g]);++g<k;)e=b(e,a[g],g,a);return e}function fc(a,b){for(var e=-1,f=a.length;++e<f;)if(b(a[e],e,a))return!0;return!1}function Ib(a,b,e,f){return a!==w&&ab.call(f,e)?a:b}function Ob(a,b,e){for(var f=-1,g=hb(b),k=g.length;++f<k;){var l=g[f],m=a[l],h=e(m,b[l],l,a,b);(h===h?h===m:m!==m)&&(m!==w||l in a)||(a[l]=h)}return a}function Eb(a,b){return null==b?a:gc(b,hb(b),a)}function yc(a,b){for(var e=-1,f=null==a,g=!f&&fb(a),k=g?a.length:0,l=b.length,m=La(l);++e<l;){var h=b[e];m[e]=g?Jb(h,
k)?a[h]:w:f?w:a[h]}return m}function gc(a,b,e){e||(e={});for(var f=-1,g=b.length;++f<g;){var k=b[f];e[k]=a[k]}return e}function Xb(a,b,e){var f=typeof a;return"function"==f?b===w?a:ob(a,b,e):null==a?Pb:"object"==f?Qb(a):b===w?zc(a):Ac(a,b)}function Fb(a,b,e,f,g,k,l){var m;if(e&&(m=g?e(a,f,g):e(a)),m!==w)return m;if(!Ka(a))return a;if(f=sa(a)){if(m=cf(a),!b)return Ha(a,m)}else{var h=pb.call(a),n=h==ia;if(h!=Wa&&h!=Z&&(!n||g))return ta[h]?df(a,h,b):g?a:{};if(m=ef(n?{}:a),!b)return Eb(m,a)}k||(k=[]);
l||(l=[]);for(g=k.length;g--;)if(k[g]==a)return l[g];return k.push(a),l.push(m),(f?$a:yb)(a,function(f,g){m[g]=Fb(f,b,e,g,a,k,l)}),m}function Bc(a,b,e){if("function"!=typeof a)throw new tb(U);return Cc(function(){a.apply(w,e)},b)}function Kb(a,b){var f=a?a.length:0,g=[];if(!f)return g;var k=-1,l=Yb(),m=l===e,h=m&&b.length>=N&&vc&&wc?new Ca(b):null,n=b.length;h&&(l=lb,m=!1,b=h);a:for(;++k<f;)if(h=a[k],m&&h===h){for(var r=n;r--;)if(b[r]===h)continue a;g.push(h)}else 0>l(b,h,0)&&g.push(h);return g}function hc(a,
b){var e=!0;return zb(a,function(a,f,g){return e=!!b(a,f,g)}),e}function Dc(a,b,e,f){var g=f,k=g;return zb(a,function(a,l,m){l=+b(a,l,m);(e(l,g)||l===f&&l===k)&&(g=l,k=a)}),k}function Zb(a,b){var e=[];return zb(a,function(a,f,g){b(a,f,g)&&e.push(a)}),e}function Ec(a,b,e,f){var g;return e(a,function(a,e,k){return b(a,e,k)?(g=f?e:a,!1):void 0}),g}function ib(a,b,e,f){f||(f=[]);for(var g=-1,k=a.length;++g<k;){var l=a[g];t(l)&&fb(l)&&(e||sa(l)||Gb(l))?b?ib(l,b,e,f):Va(f,l):e||(f[f.length]=l)}return f}
function ic(a,b){Sc(a,b,Lb)}function yb(a,b){return Sc(a,b,hb)}function jc(a,b){return xd(a,b,hb)}function kc(a,b){for(var e=-1,f=b.length,g=-1,k=[];++e<f;){var l=b[e];Rb(a[l])&&(k[++g]=l)}return k}function qb(a,b,e){if(null!=a){e!==w&&e in Ab(a)&&(b=[e]);e=0;for(var f=b.length;null!=a&&e<f;)a=a[b[e++]];return e&&e==f?a:w}}function Sb(a,b,e,f,g,k){if(a===b)a=!0;else if(null==a||null==b||!Ka(a)&&!t(b))a=a!==a&&b!==b;else a:{var l=Sb,m=sa(a),h=sa(b),n=ma,r=ma;m||(n=pb.call(a),n==Z?n=Wa:n!=Wa&&(m=$b(a)));
h||(r=pb.call(b),r==Z?r=Wa:r!=Wa&&$b(b));var p=n==Wa,h=r==Wa,r=n==r;if(!r||m||p)if(!f&&(n=p&&ab.call(a,"__wrapped__"),h=h&&ab.call(b,"__wrapped__"),n||h))a=l(n?a.value():a,h?b.value():b,e,f,g,k);else if(r){g||(g=[]);k||(k=[]);for(n=g.length;n--;)if(g[n]==a){a=k[n]==b;break a}g.push(a);k.push(b);a=(m?ff:gf)(a,b,l,e,f,g,k);g.pop();k.pop()}else a=!1;else a=hf(a,b,n)}return a}function ac(a,b,e){var f=b.length,g=f,k=!e;if(null==a)return!g;for(a=Ab(a);f--;){var l=b[f];if(k&&l[2]?l[1]!==a[l[0]]:!(l[0]in
a))return!1}for(;++f<g;){var l=b[f],m=l[0],h=a[m],n=l[1];if(k&&l[2]){if(h===w&&!(m in a))return!1}else if(l=e?e(h,n,m):w,l===w?!Sb(n,h,e,!0):!l)return!1}return!0}function bc(a,b){var e=-1,f=fb(a)?La(a.length):[];return zb(a,function(a,g,k){f[++e]=b(a,g,k)}),f}function Qb(a){var b=yd(a);if(1==b.length&&b[0][2]){var e=b[0][0],f=b[0][1];return function(a){return null==a?!1:a[e]===f&&(f!==w||e in Ab(a))}}return function(a){return ac(a,b)}}function Ac(a,b){var e=sa(a),f=Tb(a)&&b===b&&!Ka(b),g=a+"";return a=
Mb(a),function(k){if(null==k)return!1;var l=g;if(k=Ab(k),!(!e&&f||l in k)){if(k=1==a.length?k:qb(k,ub(a,0,-1)),null==k)return!1;l=lc(a);k=Ab(k)}return k[l]===b?b!==w||l in k:Sb(b,k[l],w,!0)}}function Pa(a,b,e,f,g){if(!Ka(a))return a;var k=fb(b)&&(sa(b)||$b(b)),l=k?w:hb(b);return $a(l||b,function(m,h){if(l&&(h=m,m=b[h]),t(m)){f||(f=[]);g||(g=[]);a:{for(var n=h,r=f,p=g,q=r.length,u=b[n];q--;)if(r[q]==u){a[n]=p[q];break a}var q=a[n],A=e?e(q,u,n,a,b):w,x=A===w;x&&(A=u,fb(u)&&(sa(u)||$b(u))?A=sa(q)?q:
fb(q)?Ha(q):[]:Fc(u)||Gb(u)?A=Gb(q)?zd(q):Fc(q)?q:{}:x=!1);r.push(u);p.push(A);x?a[n]=Pa(A,u,e,r,p):(A===A?A!==q:q===q)&&(a[n]=A)}}else n=a[h],r=e?e(n,m,h,a,b):w,(p=r===w)&&(r=m),r===w&&(!k||h in a)||!p&&(r===r?r===n:n!==n)||(a[h]=r)}),a}function Tc(a){return function(b){return null==b?w:b[a]}}function jf(a){var b=a+"";return a=Mb(a),function(e){return qb(e,a,b)}}function Ad(a,b){for(var e=a?b.length:0;e--;){var f=b[e];if(f!=g&&Jb(f)){var g=f;Bd.call(a,f,1)}}}function Uc(a,b){return a+Ub(Cd()*(b-
a+1))}function kf(a,b,e,f,g){return g(a,function(a,g,k){e=f?(f=!1,a):b(e,a,g,k)}),e}function ub(a,b,e){var f=-1,g=a.length;b=null==b?0:+b||0;0>b&&(b=-b>g?0:g+b);e=e===w||e>g?g:+e||0;0>e&&(e+=g);g=b>e?0:e-b>>>0;b>>>=0;for(e=La(g);++f<g;)e[f]=a[f+b];return e}function lf(a,b){var e;return zb(a,function(a,f,g){return e=b(a,f,g),!e}),!!e}function Dd(a,b){var e=a.length;for(a.sort(b);e--;)a[e]=a[e].c;return a}function Ed(b,e,f){var g=Ia(),k=-1;return e=cb(e,function(a){return g(a)}),b=bc(b,function(a){return{a:cb(e,
function(b){return b(a)}),b:++k,c:a}}),Dd(b,function(b,e){var g;a:{for(var k=-1,l=b.a,m=e.a,h=l.length,n=f.length;++k<h;)if(g=a(l[k],m[k])){if(k>=n)break a;k=f[k];g*="asc"===k||!0===k?1:-1;break a}g=b.b-e.b}return g})}function mf(a,b){var e=0;return zb(a,function(a,f,g){e+=+b(a,f,g)||0}),e}function mc(a,b){var f=-1,g=Yb(),k=a.length,l=g===e,m=l&&k>=N,h=m&&vc&&wc?new Ca(void 0):null,n=[];h?(g=lb,l=!1):(m=!1,h=b?[]:n);a:for(;++f<k;){var r=a[f],p=b?b(r,f,a):r;if(l&&r===r){for(var q=h.length;q--;)if(h[q]===
p)continue a;b&&h.push(p);n.push(r)}else 0>g(h,p,0)&&((b||m)&&h.push(p),n.push(r))}return n}function Vc(a,b){for(var e=-1,f=b.length,g=La(f);++e<f;)g[e]=a[b[e]];return g}function Gc(a,b,e,f){for(var g=a.length,k=f?g:-1;(f?k--:++k<g)&&b(a[k],k,a););return e?ub(a,f?0:k,f?k+1:g):ub(a,f?k+1:0,f?g:k)}function Fd(a,b){var e=a;e instanceof oa&&(e=e.value());for(var f=-1,g=b.length;++f<g;)var k=b[f],e=k.func.apply(k.thisArg,Va([e],k.args));return e}function Wc(a,b,e){var f=0,g=a?a.length:f;if("number"==typeof b&&
b===b&&g<=nf){for(;f<g;){var k=f+g>>>1,l=a[k];(e?l<=b:l<b)&&null!==l?f=k+1:g=k}return g}return Gd(a,b,Pb,e)}function Gd(a,b,e,f){b=e(b);for(var g=0,k=a?a.length:0,l=b!==b,m=null===b,h=b===w;g<k;){var n=Ub((g+k)/2),r=e(a[n]),p=r!==w,q=r===r;(l?q||f:m?q&&p&&(f||null!=r):h?q&&(f||p):null==r?0:f?r<=b:r<b)?g=n+1:k=n}return mb(k,of)}function ob(a,b,e){if("function"!=typeof a)return Pb;if(b===w)return a;switch(e){case 1:return function(e){return a.call(b,e)};case 3:return function(e,f,g){return a.call(b,
e,f,g)};case 4:return function(e,f,g,k){return a.call(b,e,f,g,k)};case 5:return function(e,f,g,k,l){return a.call(b,e,f,g,k,l)}}return function(){return a.apply(b,arguments)}}function Hd(a){var b=new pf(a.byteLength);return(new Id(b)).set(new Id(a)),b}function Jd(a,b,e){for(var f=e.length,g=-1,k=gb(a.length-f,0),l=-1,m=b.length,h=La(m+k);++l<m;)h[l]=b[l];for(;++g<f;)h[e[g]]=a[g];for(;k--;)h[l++]=a[g++];return h}function Kd(a,b,e){for(var f=-1,g=e.length,k=-1,l=gb(a.length-g,0),m=-1,h=b.length,n=La(l+
h);++k<l;)n[k]=a[k];for(l=k;++m<h;)n[l+m]=b[m];for(;++f<g;)n[l+e[f]]=a[k++];return n}function Hc(a,b){return function(e,f,g){var k=b?b():{};if(f=Ia(f,g,3),sa(e)){g=-1;for(var l=e.length;++g<l;){var m=e[g];a(k,m,f(m,g,e),e)}}else zb(e,function(b,e,g){a(k,b,f(b,e,g),g)});return k}}function Ld(a){return Da(function(b,e){var f=-1,g=null==b?0:e.length,k=2<g?e[g-2]:w,l=2<g?e[2]:w,m=1<g?e[g-1]:w;"function"==typeof k?(k=ob(k,m,5),g-=2):(k="function"==typeof m?m:w,g-=k?1:0);for(l&&xa(e[0],e[1],l)&&(k=3>g?
w:k,g=1);++f<g;)(l=e[f])&&a(b,l,k);return b})}function Md(a,b){return function(e,f){var g=e?nc(e):0;if(!Db(g))return a(e,f);for(var k=b?g:-1,l=Ab(e);(b?k--:++k<g)&&!1!==f(l[k],k,l););return e}}function Nd(a){return function(b,e,f){var g=Ab(b);f=f(b);for(var k=f.length,l=a?k:-1;a?l--:++l<k;){var m=f[l];if(!1===e(g[m],m,g))break}return b}}function qf(a,b){function e(){return(this&&this!==Fa&&this instanceof e?f:a).apply(b,arguments)}var f=Ic(a);return e}function Jc(a){return function(b){var e=-1;b=
Od(Pd(b));for(var f=b.length,g="";++e<f;)g=a(g,b[e],e);return g}}function Ic(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var e=oc(a.prototype),b=a.apply(e,b);return Ka(b)?b:e}}function Qd(a){function b(e,
f,g){return g&&xa(e,f,g)&&(f=w),e=Nb(e,a,w,w,w,w,w,f),e.placeholder=b.placeholder,e}return b}function Rd(a,b){return Da(function(e){var f=e[0];return null==f?f:(e.push(b),a.apply(w,e))})}function Sd(a,b){return function(e,f,g){if(g&&xa(e,f,g)&&(f=w),f=Ia(f,g,3),1==f.length){g=e=sa(e)?e:Xc(e);for(var k=f,l=-1,m=g.length,h=b,n=h;++l<m;){var r=g[l],p=+k(r);a(p,h)&&(h=p,n=r)}if(g=n,!e.length||g!==b)return g}return Dc(e,f,a,b)}}function Td(a,b){return function(e,f,g){return f=Ia(f,g,3),sa(e)?(f=h(e,f,
b),-1<f?e[f]:w):Ec(e,f,a)}}function Ud(a){return function(b,e,f){return b&&b.length?(e=Ia(e,f,3),h(b,e,a)):-1}}function Vd(a){return function(b,e,f){return e=Ia(e,f,3),Ec(b,e,a,!0)}}function Wd(a){return function(){for(var b,e=arguments.length,f=a?e:-1,g=0,k=La(e);a?f--:++f<e;){var l=k[g++]=arguments[f];if("function"!=typeof l)throw new tb(U);!b&&Ua.prototype.thru&&"wrapper"==Kc(l)&&(b=new Ua([],!0))}for(f=b?-1:e;++f<e;){var l=k[f],g=Kc(l),m="wrapper"==g?Yc(l):w;b=m&&Zc(m[0])&&m[1]==(L|G|J|P)&&!m[4].length&&
1==m[9]?b[Kc(m[0])].apply(b,m[3]):1==l.length&&Zc(l)?b[g]():b.thru(l)}return function(){var a=arguments,f=a[0];if(b&&1==a.length&&sa(f)&&f.length>=N)return b.plant(f).value();for(var g=0,a=e?k[g].apply(this,a):f;++g<e;)a=k[g].call(this,a);return a}}}function Xd(a,b){return function(e,f,g){return"function"==typeof f&&g===w&&sa(e)?a(e,f):b(e,ob(f,g,3))}}function Yd(a){return function(b,e,f){return("function"!=typeof e||f!==w)&&(e=ob(e,f,3)),a(b,e,Lb)}}function Zd(a){return function(b,e,f){return("function"!=
typeof e||f!==w)&&(e=ob(e,f,3)),a(b,e)}}function $d(a){return function(b,e,f){var g={};return e=Ia(e,f,3),yb(b,function(b,f,k){k=e(b,f,k);f=a?k:f;b=a?b:k;g[f]=b}),g}}function ae(a){return function(b,e,f){return b=g(b),(a?b:"")+be(b,e,f)+(a?"":b)}}function ce(a){var b=Da(function(e,f){var g=y(f,b.placeholder);return Nb(e,a,w,f,g)});return b}function de(a,b){return function(e,f,g,k){var l=3>arguments.length;return"function"==typeof f&&k===w&&sa(e)?a(e,f,g,l):kf(e,Ia(f,k,4),g,l,b)}}function $c(a,b,e,
f,g,k,l,m,h,n){function r(){for(var D=arguments.length,B=D,Pa=La(D);B--;)Pa[B]=arguments[B];if(f&&(Pa=Jd(Pa,f,g)),k&&(Pa=Kd(Pa,k,l)),A||x){var B=r.placeholder,H=y(Pa,B),D=D-H.length;if(D<n){var F=m?Ha(m):w,D=gb(n-D,0),G=A?H:w,H=A?w:H,v=A?Pa:w,Pa=A?w:Pa;return b|=A?J:M,b&=~(A?M:J),t||(b&=~(C|E)),Pa=[a,b,e,v,G,Pa,H,F,h,D],F=$c.apply(w,Pa),Zc(a)&&ee(F,Pa),F.placeholder=B,F}}if(B=q?e:this,F=u?B[a]:a,m)for(D=Pa.length,G=mb(m.length,D),H=Ha(Pa);G--;)v=m[G],Pa[G]=Jb(v,D)?H[v]:w;return p&&h<Pa.length&&(Pa.length=
h),this&&this!==Fa&&this instanceof r&&(F=z||Ic(a)),F.apply(B,Pa)}var p=b&L,q=b&C,u=b&E,A=b&G,t=b&H,x=b&O,z=u?w:Ic(a);return r}function be(a,b,e){return a=a.length,b=+b,a<b&&cc(b)?(b-=a,e=null==e?" ":e+"",fe(e,Lc(b/e.length)).slice(0,b)):""}function rf(a,b,e,f){function g(){for(var b=-1,m=arguments.length,h=-1,n=f.length,r=La(n+m);++h<n;)r[h]=f[h];for(;m--;)r[h++]=arguments[++b];return(this&&this!==Fa&&this instanceof g?l:a).apply(k?e:this,r)}var k=b&C,l=Ic(a);return g}function ad(a){var b=Vb[a];
return function(a,e){return(e=e===w?0:+e||0)?(e=sf(10,e),b(a*e)/e):b(a)}}function ge(a){return function(b,e,f,g){var k=Ia(f);return null==f&&k===Xb?Wc(b,e,a):Gd(b,e,k(f,g,1),a)}}function Nb(a,b,e,f,g,k,l,m){var h=b&E;if(!h&&"function"!=typeof a)throw new tb(U);var n=f?f.length:0;if(n||(b&=~(J|M),f=g=w),n-=g?g.length:0,b&M){var r=f,p=g;f=g=w}var q=h?w:Yc(a);return e=[a,b,e,f,g,r,p,k,l,m],q&&(f=e[1],b=q[1],m=f|b,g=b==L&&f==G||b==L&&f==P&&e[7].length<=q[8]||b==(L|P)&&f==G,(m<L||g)&&(b&C&&(e[2]=q[2],
m|=f&C?0:H),(f=q[3])&&(g=e[3],e[3]=g?Jd(g,f,q[4]):Ha(f),e[4]=g?y(e[3],la):Ha(q[4])),(f=q[5])&&(g=e[5],e[5]=g?Kd(g,f,q[6]):Ha(f),e[6]=g?y(e[5],la):Ha(q[6])),(f=q[7])&&(e[7]=Ha(f)),b&L&&(e[8]=null==e[8]?q[8]:mb(e[8],q[8])),null==e[9]&&(e[9]=q[9]),e[0]=q[0],e[1]=m),b=e[1],m=e[9]),e[9]=null==m?h?0:a.length:gb(m-n,0)||0,(q?he:ee)(b==C?qf(e[0],e[2]):b!=J&&b!=(C|J)||e[4].length?$c.apply(w,e):rf.apply(w,e),e)}function ff(a,b,e,f,g,k,l){var m=-1,h=a.length,n=b.length;if(h!=n&&(!g||n<=h))return!1;for(;++m<
h;){var r=a[m],n=b[m],p=f?f(g?n:r,g?r:n,m):w;if(p!==w){if(p)continue;return!1}if(g){if(!fc(b,function(a){return r===a||e(r,a,f,g,k,l)}))return!1}else if(r!==n&&!e(r,n,f,g,k,l))return!1}return!0}function hf(a,b,e){switch(e){case pa:case qa:return+a==+b;case Xa:return a.name==b.name&&a.message==b.message;case Qa:return a!=+a?b!=+b:a==+b;case Ja:case eb:return a==b+""}return!1}function gf(a,b,e,f,g,k,l){var m=hb(a),h=m.length,n=hb(b).length;if(h!=n&&!g)return!1;for(n=h;n--;){var r=m[n];if(!(g?r in b:
ab.call(b,r)))return!1}for(var p=g;++n<h;){var r=m[n],q=a[r],u=b[r],A=f?f(g?u:q,g?q:u,r):w;if(A===w?!e(q,u,f,g,k,l):!A)return!1;p||(p="constructor"==r)}return p||(e=a.constructor,f=b.constructor,!(e!=f&&"constructor"in a&&"constructor"in b)||"function"==typeof e&&e instanceof e&&"function"==typeof f&&f instanceof f)?!0:!1}function Ia(a,b,e){var f=F.callback||Mc,f=f===Mc?Xb:f;return e?f(a,b,e):f}function Kc(a){for(var b=a.name+"",e=Nc[b],f=e?e.length:0;f--;){var g=e[f],k=g.func;if(null==k||k==a)return g.name}return b}
function Yb(a,b,f){var g=F.indexOf||bd,g=g===bd?e:g;return a?g(a,b,f):g}function yd(a){a=ie(a);for(var b=a.length;b--;){var e=a[b][1];a[b][2]=e===e&&!Ka(e)}return a}function dc(a,b){var e=null==a?w:a[b];return je(e)?e:w}function cf(a){var b=a.length,e=new a.constructor(b);return b&&"string"==typeof a[0]&&ab.call(a,"index")&&(e.index=a.index,e.input=a.input),e}function ef(a){return a=a.constructor,"function"==typeof a&&a instanceof a||(a=Wb),new a}function df(a,b,e){var f=a.constructor;switch(b){case Ra:return Hd(a);
case pa:case qa:return new f(+a);case vb:case jb:case ja:case v:case nb:case Ba:case da:case Sa:case K:return b=a.buffer,new f(e?Hd(b):b,a.byteOffset,a.length);case Qa:case eb:return new f(a);case Ja:var g=new f(a.source,Ma.exec(a));g.lastIndex=a.lastIndex}return g}function cd(a,b,e){return null==a||Tb(b,a)||(b=Mb(b),a=1==b.length?a:qb(a,ub(b,0,-1)),b=lc(b)),b=null==a?a:a[b],null==b?w:b.apply(a,e)}function fb(a){return null!=a&&Db(nc(a))}function Jb(a,b){return a="number"==typeof a||Za.test(a)?+a:
-1,b=null==b?ke:b,-1<a&&0==a%1&&a<b}function xa(a,b,e){if(!Ka(e))return!1;var f=typeof b;return("number"==f?fb(e)&&Jb(b,e.length):"string"==f&&b in e)?(b=e[b],a===a?a===b:b!==b):!1}function Tb(a,b){var e=typeof a;return"string"==e&&va.test(a)||"number"==e?!0:sa(a)?!1:!Q.test(a)||null!=b&&a in Ab(b)}function Zc(a){var b=Kc(a),e=F[b];return"function"==typeof e&&b in oa.prototype?a===e?!0:(b=Yc(e),!!b&&a===b[0]):!1}function Db(a){return"number"==typeof a&&-1<a&&0==a%1&&a<=ke}function le(a,b){return a===
w?b:dd(a,b,le)}function me(a,b){a=Ab(a);for(var e=-1,f=b.length,g={};++e<f;){var k=b[e];k in a&&(g[k]=a[k])}return g}function ne(a,b){var e={};return ic(a,function(a,f,g){b(a,f,g)&&(e[f]=a)}),e}function oe(a){for(var b=Lb(a),e=b.length,f=e&&a.length,g=!!f&&Db(f)&&(sa(a)||Gb(a)),k=-1,l=[];++k<e;){var m=b[k];(g&&Jb(m,f)||ab.call(a,m))&&l.push(m)}return l}function Xc(a){return null==a?[]:fb(a)?Ka(a)?a:Wb(a):Oc(a)}function Ab(a){return Ka(a)?a:Wb(a)}function Mb(a){if(sa(a))return a;var b=[];return g(a).replace(fa,
function(a,e,f,g){b.push(f?g.replace(Ta,"$1"):e||a)}),b}function vd(a){return a instanceof oa?a.clone():new Ua(a.__wrapped__,a.__chain__,Ha(a.__actions__))}function pe(a,b,e){return a&&a.length?((e?xa(a,b,e):null==b)&&(b=1),ub(a,0>b?0:b)):[]}function qe(a,b,e){var f=a?a.length:0;return f?((e?xa(a,b,e):null==b)&&(b=1),b=f-(+b||0),ub(a,0,0>b?0:b)):[]}function re(a){return a?a[0]:w}function bd(a,b,f){var g=a?a.length:0;if(!g)return-1;if("number"==typeof f)f=0>f?gb(g+f,0):f;else if(f)return f=Wc(a,b),
f<g&&(b===b?b===a[f]:a[f]!==a[f])?f:-1;return e(a,b,f||0)}function lc(a){var b=a?a.length:0;return b?a[b-1]:w}function se(a){return pe(a,1)}function te(a,b,f,g){if(!a||!a.length)return[];null!=b&&"boolean"!=typeof b&&(g=f,f=xa(a,b,g)?w:b,b=!1);var k=Ia();if((null!=f||k!==Xb)&&(f=k(f,g,3)),b&&Yb()===e){b=f;var l;f=-1;g=a.length;for(var k=-1,m=[];++f<g;){var h=a[f],n=b?b(h,f,a):h;f&&l===n||(l=n,m[++k]=h)}a=m}else a=mc(a,f);return a}function ed(a){if(!a||!a.length)return[];var b=-1,e=0;a=xb(a,function(a){return fb(a)?
(e=gb(a.length,e),!0):void 0});for(var f=La(e);++b<e;)f[b]=cb(a,Tc(b));return f}function ue(a,b,e){return a&&a.length?(a=ed(a),null==b?a:(b=ob(b,e,4),cb(a,function(a){return xc(a,b,w,!0)}))):[]}function ve(a,b){var e=-1,f=a?a.length:0,g={};for(!f||b||sa(a[0])||(b=[]);++e<f;){var k=a[e];b?g[k]=b[e]:k&&(g[k[0]]=k[1])}return g}function we(a){return a=F(a),a.__chain__=!0,a}function fd(a,b,e){return b.call(e,a)}function xe(a,b,e){var f=sa(a)?sb:hc;return e&&xa(a,b,e)&&(b=w),("function"!=typeof b||e!==
w)&&(b=Ia(b,e,3)),f(a,b)}function gd(a,b,e){var f=sa(a)?xb:Zb;return b=Ia(b,e,3),f(a,b)}function hd(a,b,e,f){var g=a?nc(a):0;return Db(g)||(a=Oc(a),g=a.length),e="number"!=typeof e||f&&xa(b,e,f)?0:0>e?gb(g+e,0):e||0,"string"==typeof a||!sa(a)&&id(a)?e<=g&&-1<a.indexOf(b,e):!!g&&-1<Yb(a,b,e)}function jd(a,b,e){var f=sa(a)?cb:bc;return b=Ia(b,e,3),f(a,b)}function Pc(a,b,e){if(e?xa(a,b,e):null==b){a=Xc(a);var f=a.length;return 0<f?a[Uc(0,f-1)]:w}e=-1;a=ye(a);var f=a.length,g=f-1;for(b=mb(0>b?0:+b||0,
f);++e<b;){var f=Uc(e,g),k=a[f];a[f]=a[e];a[e]=k}return a.length=b,a}function ze(a,b,e){var f=sa(a)?fc:lf;return e&&xa(a,b,e)&&(b=w),("function"!=typeof b||e!==w)&&(b=Ia(b,e,3)),f(a,b)}function Ae(a,b){var e;if("function"!=typeof b){if("function"!=typeof a)throw new tb(U);var f=a;a=b;b=f}return function(){return 0<--a&&(e=b.apply(this,arguments)),1>=a&&(b=w),e}}function Be(a,b,e){function f(b,e){e&&pc(e);h=q=u=w;b&&(A=qc(),n=a.apply(p,m),q||h||(m=p=w))}function g(){var a=b-(qc()-r);0>=a||a>b?f(u,
h):q=Cc(g,a)}function k(){f(x,q)}function l(){if(m=arguments,r=qc(),p=this,u=x&&(q||!z),!1===t)var e=z&&!q;else{h||z||(A=r);var f=t-(r-A),E=0>=f||f>t;E?(h&&(h=pc(h)),A=r,n=a.apply(p,m)):h||(h=Cc(k,f))}return E&&q?q=pc(q):q||b===t||(q=Cc(g,b)),e&&(E=!0,n=a.apply(p,m)),!E||q||h||(m=p=w),n}var m,h,n,r,p,q,u,A=0,t=!1,x=!0;if("function"!=typeof a)throw new tb(U);if(b=0>b?0:+b||0,!0===e)var z=!0,x=!1;else Ka(e)&&(z=!!e.leading,t="maxWait"in e&&gb(+e.maxWait||0,b),x="trailing"in e?!!e.trailing:x);return l.cancel=
function(){q&&pc(q);h&&pc(h);A=0;h=q=u=w},l}function kd(a,b){function e(){var f=arguments,g=b?b.apply(this,f):f[0],k=e.cache;return k.has(g)?k.get(g):(f=a.apply(this,f),e.cache=k.set(g,f),f)}if("function"!=typeof a||b&&"function"!=typeof b)throw new tb(U);return e.cache=new kd.Cache,e}function Da(a,b){if("function"!=typeof a)throw new tb(U);return b=gb(b===w?a.length-1:+b||0,0),function(){for(var e=arguments,f=-1,g=gb(e.length-b,0),k=La(g);++f<g;)k[f]=e[b+f];switch(b){case 0:return a.call(this,k);
case 1:return a.call(this,e[0],k);case 2:return a.call(this,e[0],e[1],k)}g=La(b+1);for(f=-1;++f<b;)g[f]=e[f];return g[b]=k,a.apply(this,g)}}function Ce(a,b){return a>b}function Gb(a){return t(a)&&fb(a)&&ab.call(a,"callee")&&!tf.call(a,"callee")}function De(a,b,e,f){return f=(e="function"==typeof e?ob(e,f,3):w)?e(a,b):w,f===w?Sb(a,b,e):!!f}function ld(a){return t(a)&&"string"==typeof a.message&&pb.call(a)==Xa}function Rb(a){return Ka(a)&&pb.call(a)==ia}function Ka(a){var b=typeof a;return!!a&&("object"==
b||"function"==b)}function je(a){return null==a?!1:Rb(a)?uf.test(Ee.call(a)):t(a)&&Oa.test(a)}function Fe(a){return"number"==typeof a||t(a)&&pb.call(a)==Qa}function Fc(a){var b;if(!t(a)||pb.call(a)!=Wa||Gb(a)||!(ab.call(a,"constructor")||(b=a.constructor,"function"!=typeof b||b instanceof b)))return!1;var e;return ic(a,function(a,b){e=b}),e===w||ab.call(a,e)}function Ge(a){return Ka(a)&&pb.call(a)==Ja}function id(a){return"string"==typeof a||t(a)&&pb.call(a)==eb}function $b(a){return t(a)&&Db(a.length)&&
!!ya[pb.call(a)]}function He(a,b){return a<b}function ye(a){var b=a?nc(a):0;return Db(b)?b?Ha(a):[]:Oc(a)}function zd(a){return gc(a,Lb(a))}function md(a){return kc(a,Lb(a))}function Lb(a){if(null==a)return[];Ka(a)||(a=Wb(a));for(var b=a.length,b=b&&Db(b)&&(sa(a)||Gb(a))&&b||0,e=a.constructor,f=-1,e="function"==typeof e&&e.prototype===a,g=La(b),k=0<b;++f<b;)g[f]=f+"";for(var l in a)k&&Jb(l,b)||"constructor"==l&&(e||!ab.call(a,l))||g.push(l);return g}function ie(a){a=Ab(a);for(var b=-1,e=hb(a),f=e.length,
g=La(f);++b<f;){var k=e[b];g[b]=[k,a[k]]}return g}function Oc(a){return Vc(a,hb(a))}function Pd(a){return(a=g(a))&&a.replace(kb,n).replace(bb,"")}function fe(a,b){var e="";if(a=g(a),b=+b,1>b||!a||!cc(b))return e;do b%2&&(e+=a),b=Ub(b/2),a+=a;while(b);return e}function Ie(a,b,e){var k=a;return(a=g(a))?(e?xa(k,b,e):null==b)?a.slice(x(a),z(a)+1):(b+="",a.slice(f(a,b),l(a,b)+1)):a}function Od(a,b,e){return e&&xa(a,b,e)&&(b=w),a=g(a),a.match(b||wb)||[]}function Mc(a,b,e){return e&&xa(a,b,e)&&(b=w),t(a)?
Je(a):Xb(a,b)}function Pb(a){return a}function Je(a){return Qb(Fb(a,!0))}function nd(a,b,e){if(null==e){var f=Ka(b),g=f?hb(b):w;((g=g&&g.length?kc(b,g):w)?g.length:f)||(g=!1,e=b,b=a,a=this)}g||(g=kc(b,hb(b)));var k=!0,f=-1,l=Rb(a),m=g.length;!1===e?k=!1:Ka(e)&&"chain"in e&&(k=e.chain);for(;++f<m;){e=g[f];var h=b[e];a[e]=h;l&&(a.prototype[e]=function(b){return function(){var e=this.__chain__;if(k||e){var f=a(this.__wrapped__);return(f.__actions__=Ha(this.__actions__)).push({func:b,args:arguments,thisArg:a}),
f.__chain__=e,f}return b.apply(a,Va([this.value()],arguments))}}(h))}return a}function Ke(){}function zc(a){return Tb(a)?Tc(a):jf(a)}u=u?rb.defaults(Fa.Object(),u,rb.pick(Fa,Bb)):Fa;var La=u.Array,Le=u.Date,vf=u.Error,Me=u.Function,Vb=u.Math,Ne=u.Number,Wb=u.Object,od=u.RegExp,Oe=u.String,tb=u.TypeError,Pe=La.prototype,pd=Wb.prototype,wf=Oe.prototype,Ee=Me.prototype.toString,ab=pd.hasOwnProperty,xf=0,pb=pd.toString,yf=Fa._,uf=od("^"+Ee.call(ab).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
"$1.*?")+"$"),pf=u.ArrayBuffer,pc=u.clearTimeout,zf=u.parseFloat,sf=Vb.pow,tf=pd.propertyIsEnumerable,wc=dc(u,"Set"),Cc=u.setTimeout,Bd=Pe.splice,Id=u.Uint8Array,Qe=dc(u,"WeakMap"),Lc=Vb.ceil,vc=dc(Wb,"create"),Ub=Vb.floor,Af=dc(La,"isArray"),cc=u.isFinite,Re=dc(Wb,"keys"),gb=Vb.max,mb=Vb.min,Bf=dc(Le,"now"),Cf=u.parseInt,Cd=Vb.random,Df=Ne.NEGATIVE_INFINITY,uc=Ne.POSITIVE_INFINITY,of=4294967294,nf=2147483647,ke=9007199254740991,Qc=Qe&&new Qe,Nc={};F.support={};F.templateSettings={escape:ga,evaluate:ea,
interpolate:wa,variable:"",imports:{_:F}};var oc=function(){function a(){}return function(b){if(Ka(b)){a.prototype=b;var e=new a;a.prototype=w}return e||{}}}(),zb=Md(yb),qd=Md(jc,!0),Sc=Nd(),xd=Nd(!0),he=Qc?function(a,b){return Qc.set(a,b),a}:Pb,Yc=Qc?function(a){return Qc.get(a)}:Ke,nc=Tc("length"),ee=function(){var a=0,b=0;return function(e,f){var g=qc(),k=Y-(g-b);if(b=g,0<k){if(++a>=R)return e}else a=0;return he(e,f)}}(),Ef=Da(function(a,b){return t(a)&&fb(a)?Kb(a,ib(b,!1,!0)):[]}),Ff=Ud(),Gf=
Ud(!0),Hf=Da(function(a){for(var b=a.length,f=b,g=La(r),k=Yb(),l=k===e,m=[];f--;){var h=a[f]=fb(h=a[f])?h:[];g[f]=l&&120<=h.length&&vc&&wc?new Ca(f&&h):null}var l=a[0],n=-1,r=l?l.length:0,p=g[0];a:for(;++n<r;)if(h=l[n],0>(p?lb(p,h):k(m,h,0))){for(f=b;--f;){var q=g[f];if(0>(q?lb(q,h):k(a[f],h,0)))continue a}p&&p.push(h);m.push(h)}return m}),If=Da(function(b,e){e=ib(e);var f=yc(b,e);return Ad(b,e.sort(a)),f}),Jf=ge(),Kf=ge(!0),Lf=Da(function(a){return mc(ib(a,!1,!0))}),Mf=Da(function(a,b){return fb(a)?
Kb(a,b):[]}),Nf=Da(ed),Of=Da(function(a){var b=a.length,e=2<b?a[b-2]:w,f=1<b?a[b-1]:w;return 2<b&&"function"==typeof e?b-=2:(e=1<b&&"function"==typeof f?(--b,f):w,f=w),a.length=b,ue(a,e,f)}),Pf=Da(function(a){return a=ib(a),this.thru(function(b){b=sa(b)?b:[Ab(b)];for(var e=a,f=-1,g=b.length,k=-1,l=e.length,m=La(g+l);++f<g;)m[f]=b[f];for(;++k<l;)m[f++]=e[k];return m})}),Qf=Da(function(a,b){return yc(a,ib(b))}),Rf=Hc(function(a,b,e){ab.call(a,e)?++a[e]:a[e]=1}),rd=Td(zb),Sf=Td(qd,!0),Se=Xd($a,zb),Te=
Xd(function(a,b){for(var e=a.length;e--&&!1!==b(a[e],e,a););return a},qd),Tf=Hc(function(a,b,e){ab.call(a,e)?a[e].push(b):a[e]=[b]}),Uf=Hc(function(a,b,e){a[e]=b}),Vf=Da(function(a,b,e){var f=-1,g="function"==typeof b,k=Tb(b),l=fb(a)?La(a.length):[];return zb(a,function(a){var m=g?b:k&&null!=a?a[b]:w;l[++f]=m?m.apply(a,e):cd(a,b,e)}),l}),Wf=Hc(function(a,b,e){a[e?0:1].push(b)},function(){return[[],[]]}),sd=de(xc,zb),Ue=de(function(a,b,e,f){var g=a.length;for(f&&g&&(e=a[--g]);g--;)e=b(e,a[g],g,a);
return e},qd),Xf=Da(function(a,b){if(null==a)return[];var e=b[2];return e&&xa(b[0],b[1],e)&&(b.length=1),Ed(a,ib(b),[])}),qc=Bf||function(){return(new Le).getTime()},Ve=Da(function(a,b,e){var f=C;if(e.length)var g=y(e,Ve.placeholder),f=f|J;return Nb(a,f,b,e,g)}),Yf=Da(function(a,b){b=b.length?ib(b):md(a);for(var e=-1,f=b.length;++e<f;){var g=b[e];a[g]=Nb(a[g],C,a)}return a}),We=Da(function(a,b,e){var f=C|E;if(e.length)var g=y(e,We.placeholder),f=f|J;return Nb(b,f,a,e,g)}),Zf=Qd(G),$f=Qd(O),ag=Da(function(a,
b){return Bc(a,1,b)}),bg=Da(function(a,b,e){return Bc(a,b,e)}),cg=Wd(),td=Wd(!0),dg=Da(function(a,e){if(e=ib(e),"function"!=typeof a||!sb(e,b))throw new tb(U);var f=e.length;return Da(function(b){for(var g=mb(b.length,f);g--;)b[g]=e[g](b[g]);return a.apply(this,b)})}),eg=ce(J),fg=ce(M),gg=Da(function(a,b){return Nb(a,P,w,w,w,ib(b))}),sa=Af||function(a){return t(a)&&Db(a.length)&&pb.call(a)==ma},dd=Ld(Pa),ud=Ld(function(a,b,e){return e?Ob(a,b,e):Eb(a,b)}),hg=Rd(ud,function(a,b){return a===w?b:a}),
ig=Rd(dd,le),jg=Vd(yb),kg=Vd(jc),lg=Yd(Sc),mg=Yd(xd),ng=Zd(yb),og=Zd(jc),hb=Re?function(a){var b=null==a?w:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&fb(a)?oe(a):Ka(a)?Re(a):[]}:oe,pg=$d(!0),qg=$d(),rg=Da(function(a,b){if(null==a)return{};if("function"!=typeof b[0])return b=cb(ib(b),Oe),me(a,Kb(Lb(a),b));var e=ob(b[0],b[1],3);return ne(a,function(a,b,f){return!e(a,b,f)})}),sg=Da(function(a,b){return null==a?{}:"function"==typeof b[0]?ne(a,ob(b[0],b[1],3)):me(a,
ib(b))}),tg=Jc(function(a,b,e){return b=b.toLowerCase(),a+(e?b.charAt(0).toUpperCase()+b.slice(1):b)}),ug=Jc(function(a,b,e){return a+(e?"-":"")+b.toLowerCase()}),vg=ae(),wg=ae(!0),xg=Jc(function(a,b,e){return a+(e?"_":"")+b.toLowerCase()}),yg=Jc(function(a,b,e){return a+(e?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Xe=Da(function(a,b){try{return a.apply(w,b)}catch(e){return ld(e)?e:new vf(e)}}),zg=Da(function(a,b){return function(e){return cd(e,a,b)}}),Ag=Da(function(a,b){return function(e){return cd(a,
e,b)}}),Bg=ad("ceil"),Cg=ad("floor"),Dg=Sd(Ce,Df),Eg=Sd(He,uc),Fg=ad("round");return F.prototype=Ea.prototype,Ua.prototype=oc(Ea.prototype),Ua.prototype.constructor=Ua,oa.prototype=oc(Ea.prototype),oa.prototype.constructor=oa,db.prototype["delete"]=function(a){return this.has(a)&&delete this.__data__[a]},db.prototype.get=function(a){return"__proto__"==a?w:this.__data__[a]},db.prototype.has=function(a){return"__proto__"!=a&&ab.call(this.__data__,a)},db.prototype.set=function(a,b){return"__proto__"!=
a&&(this.__data__[a]=b),this},Ca.prototype.push=function(a){var b=this.data;"string"==typeof a||Ka(a)?b.set.add(a):b.hash[a]=!0},kd.Cache=db,F.after=function(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new tb(U);var e=a;a=b;b=e}return a=cc(a=+a)?a:0,function(){return 1>--a?b.apply(this,arguments):void 0}},F.ary=function(a,b,e){return e&&xa(a,b,e)&&(b=w),b=a&&null==b?a.length:gb(+b||0,0),Nb(a,L,w,w,w,w,b)},F.assign=ud,F.at=Qf,F.before=Ae,F.bind=Ve,F.bindAll=Yf,F.bindKey=We,F.callback=
Mc,F.chain=we,F.chunk=function(a,b,e){b=(e?xa(a,b,e):null==b)?1:gb(Ub(b)||1,1);e=0;for(var f=a?a.length:0,g=-1,k=La(Lc(f/b));e<f;)k[++g]=ub(a,e,e+=b);return k},F.compact=function(a){for(var b=-1,e=a?a.length:0,f=-1,g=[];++b<e;){var k=a[b];k&&(g[++f]=k)}return g},F.constant=function(a){return function(){return a}},F.countBy=Rf,F.create=function(a,b,e){var f=oc(a);return e&&xa(a,b,e)&&(b=w),b?Eb(f,b):f},F.curry=Zf,F.curryRight=$f,F.debounce=Be,F.defaults=hg,F.defaultsDeep=ig,F.defer=ag,F.delay=bg,F.difference=
Ef,F.drop=pe,F.dropRight=qe,F.dropRightWhile=function(a,b,e){return a&&a.length?Gc(a,Ia(b,e,3),!0,!0):[]},F.dropWhile=function(a,b,e){return a&&a.length?Gc(a,Ia(b,e,3),!0):[]},F.fill=function(a,b,e,f){var g=a?a.length:0;if(!g)return[];e&&"number"!=typeof e&&xa(a,b,e)&&(e=0,f=g);g=a.length;e=null==e?0:+e||0;0>e&&(e=-e>g?0:g+e);f=f===w||f>g?g:+f||0;0>f&&(f+=g);g=e>f?0:f>>>0;for(e>>>=0;e<g;)a[e++]=b;return a},F.filter=gd,F.flatten=function(a,b,e){var f=a?a.length:0;return e&&xa(a,b,e)&&(b=!1),f?ib(a,
b):[]},F.flattenDeep=function(a){return a&&a.length?ib(a,!0):[]},F.flow=cg,F.flowRight=td,F.forEach=Se,F.forEachRight=Te,F.forIn=lg,F.forInRight=mg,F.forOwn=ng,F.forOwnRight=og,F.functions=md,F.groupBy=Tf,F.indexBy=Uf,F.initial=function(a){return qe(a,1)},F.intersection=Hf,F.invert=function(a,b,e){e&&xa(a,b,e)&&(b=w);e=-1;for(var f=hb(a),g=f.length,k={};++e<g;){var l=f[e],m=a[l];b?ab.call(k,m)?k[m].push(l):k[m]=[l]:k[m]=l}return k},F.invoke=Vf,F.keys=hb,F.keysIn=Lb,F.map=jd,F.mapKeys=pg,F.mapValues=
qg,F.matches=Je,F.matchesProperty=function(a,b){return Ac(a,Fb(b,!0))},F.memoize=kd,F.merge=dd,F.method=zg,F.methodOf=Ag,F.mixin=nd,F.modArgs=dg,F.negate=function(a){if("function"!=typeof a)throw new tb(U);return function(){return!a.apply(this,arguments)}},F.omit=rg,F.once=function(a){return Ae(2,a)},F.pairs=ie,F.partial=eg,F.partialRight=fg,F.partition=Wf,F.pick=sg,F.pluck=function(a,b){return jd(a,zc(b))},F.property=zc,F.propertyOf=function(a){return function(b){return qb(a,Mb(b),b+"")}},F.pull=
function(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var e=0,f=Yb(),g=a.length;++e<g;)for(var k=0,l=a[e];-1<(k=f(b,l,k));)Bd.call(b,k,1);return b},F.pullAt=If,F.range=function(a,b,e){e&&xa(a,b,e)&&(b=e=w);a=+a||0;e=null==e?1:+e||0;null==b?(b=a,a=0):b=+b||0;var f=-1;b=gb(Lc((b-a)/(e||1)),0);for(var g=La(b);++f<b;)g[f]=a,a+=e;return g},F.rearg=gg,F.reject=function(a,b,e){var f=sa(a)?xb:Zb;return b=Ia(b,e,3),f(a,function(a,e,f){return!b(a,e,f)})},F.remove=function(a,b,e){var f=[];if(!a||!a.length)return f;
var g=-1,k=[],l=a.length;for(b=Ia(b,e,3);++g<l;)e=a[g],b(e,g,a)&&(f.push(e),k.push(g));return Ad(a,k),f},F.rest=se,F.restParam=Da,F.set=function(a,b,e){if(null==a)return a;var f=b+"";b=null!=a[f]||Tb(b,a)?[f]:Mb(b);for(var f=-1,g=b.length,k=g-1,l=a;null!=l&&++f<g;){var m=b[f];Ka(l)&&(f==k?l[m]=e:null==l[m]&&(l[m]=Jb(b[f+1])?[]:{}));l=l[m]}return a},F.shuffle=function(a){return Pc(a,uc)},F.slice=function(a,b,e){var f=a?a.length:0;return f?(e&&"number"!=typeof e&&xa(a,b,e)&&(b=0,e=f),ub(a,b,e)):[]},
F.sortBy=function(a,b,e){if(null==a)return[];e&&xa(a,b,e)&&(b=w);var f=-1;return b=Ia(b,e,3),a=bc(a,function(a,e,g){return{a:b(a,e,g),b:++f,c:a}}),Dd(a,k)},F.sortByAll=Xf,F.sortByOrder=function(a,b,e,f){return null==a?[]:(f&&xa(b,e,f)&&(e=w),sa(b)||(b=null==b?[]:[b]),sa(e)||(e=null==e?[]:[e]),Ed(a,b,e))},F.spread=function(a){if("function"!=typeof a)throw new tb(U);return function(b){return a.apply(this,b)}},F.take=function(a,b,e){return a&&a.length?((e?xa(a,b,e):null==b)&&(b=1),ub(a,0,0>b?0:b)):[]},
F.takeRight=function(a,b,e){var f=a?a.length:0;return f?((e?xa(a,b,e):null==b)&&(b=1),b=f-(+b||0),ub(a,0>b?0:b)):[]},F.takeRightWhile=function(a,b,e){return a&&a.length?Gc(a,Ia(b,e,3),!1,!0):[]},F.takeWhile=function(a,b,e){return a&&a.length?Gc(a,Ia(b,e,3)):[]},F.tap=function(a,b,e){return b.call(e,a),a},F.throttle=function(a,b,e){var f=!0,g=!0;if("function"!=typeof a)throw new tb(U);return!1===e?f=!1:Ka(e)&&(f="leading"in e?!!e.leading:f,g="trailing"in e?!!e.trailing:g),Be(a,b,{leading:f,maxWait:+b,
trailing:g})},F.thru=fd,F.times=function(a,b,e){if(a=Ub(a),1>a||!cc(a))return[];var f=-1,g=La(mb(a,4294967295));for(b=ob(b,e,1);++f<a;)4294967295>f?g[f]=b(f):b(f);return g},F.toArray=ye,F.toPlainObject=zd,F.transform=function(a,b,e,f){var g=sa(a)||$b(a);return b=Ia(b,f,4),null==e&&(g||Ka(a)?(f=a.constructor,e=g?sa(a)?new f:[]:oc(Rb(f)?f.prototype:w)):e={}),(g?$a:yb)(a,function(a,f,g){return b(e,a,f,g)}),e},F.union=Lf,F.uniq=te,F.unzip=ed,F.unzipWith=ue,F.values=Oc,F.valuesIn=function(a){return Vc(a,
Lb(a))},F.where=function(a,b){return gd(a,Qb(b))},F.without=Mf,F.wrap=function(a,b){return b=null==b?Pb:b,Nb(b,J,w,[a],[])},F.xor=function(){for(var a=-1,b=arguments.length;++a<b;){var e=arguments[a];if(fb(e))var f=f?Va(Kb(f,e),Kb(e,f)):e}return f?mc(f):[]},F.zip=Nf,F.zipObject=ve,F.zipWith=Of,F.backflow=td,F.collect=jd,F.compose=td,F.each=Se,F.eachRight=Te,F.extend=ud,F.iteratee=Mc,F.methods=md,F.object=ve,F.select=gd,F.tail=se,F.unique=te,nd(F,F),F.add=function(a,b){return(+a||0)+(+b||0)},F.attempt=
Xe,F.camelCase=tg,F.capitalize=function(a){return(a=g(a))&&a.charAt(0).toUpperCase()+a.slice(1)},F.ceil=Bg,F.clone=function(a,b,e,f){return b&&"boolean"!=typeof b&&xa(a,b,e)?b=!1:"function"==typeof b&&(f=e,e=b,b=!1),"function"==typeof e?Fb(a,b,ob(e,f,3)):Fb(a,b)},F.cloneDeep=function(a,b,e){return"function"==typeof b?Fb(a,!0,ob(b,e,3)):Fb(a,!0)},F.deburr=Pd,F.endsWith=function(a,b,e){a=g(a);b+="";var f=a.length;return e=e===w?f:mb(0>e?0:+e||0,f),e-=b.length,0<=e&&a.indexOf(b,e)==e},F.escape=function(a){return(a=
g(a))&&ka.test(a)?a.replace(X,m):a},F.escapeRegExp=function(a){return(a=g(a))&&ra.test(a)?a.replace(ba,p):a||"(?:)"},F.every=xe,F.find=rd,F.findIndex=Ff,F.findKey=jg,F.findLast=Sf,F.findLastIndex=Gf,F.findLastKey=kg,F.findWhere=function(a,b){return rd(a,Qb(b))},F.first=re,F.floor=Cg,F.get=function(a,b,e){return a=null==a?w:qb(a,Mb(b),b+""),a===w?e:a},F.gt=Ce,F.gte=function(a,b){return a>=b},F.has=function(a,b){if(null==a)return!1;var e=ab.call(a,b);if(!e&&!Tb(b)){if(b=Mb(b),a=1==b.length?a:qb(a,ub(b,
0,-1)),null==a)return!1;b=lc(b);e=ab.call(a,b)}return e||Db(a.length)&&Jb(b,a.length)&&(sa(a)||Gb(a))},F.identity=Pb,F.includes=hd,F.indexOf=bd,F.inRange=function(a,b,e){return b=+b||0,e===w?(e=b,b=0):e=+e||0,a>=mb(b,e)&&a<gb(b,e)},F.isArguments=Gb,F.isArray=sa,F.isBoolean=function(a){return!0===a||!1===a||t(a)&&pb.call(a)==pa},F.isDate=function(a){return t(a)&&pb.call(a)==qa},F.isElement=function(a){return!!a&&1===a.nodeType&&t(a)&&!Fc(a)},F.isEmpty=function(a){return null==a?!0:fb(a)&&(sa(a)||id(a)||
Gb(a)||t(a)&&Rb(a.splice))?!a.length:!hb(a).length},F.isEqual=De,F.isError=ld,F.isFinite=function(a){return"number"==typeof a&&cc(a)},F.isFunction=Rb,F.isMatch=function(a,b,e,f){return e="function"==typeof e?ob(e,f,3):w,ac(a,yd(b),e)},F.isNaN=function(a){return Fe(a)&&a!=+a},F.isNative=je,F.isNull=function(a){return null===a},F.isNumber=Fe,F.isObject=Ka,F.isPlainObject=Fc,F.isRegExp=Ge,F.isString=id,F.isTypedArray=$b,F.isUndefined=function(a){return a===w},F.kebabCase=ug,F.last=lc,F.lastIndexOf=function(a,
b,e){var f=a?a.length:0;if(!f)return-1;var g=f;if("number"==typeof e)g=(0>e?gb(f+e,0):mb(e||0,f-1))+1;else if(e)return g=Wc(a,b,!0)-1,a=a[g],(b===b?b===a:a!==a)?g:-1;if(b!==b)return r(a,g,!0);for(;g--;)if(a[g]===b)return g;return-1},F.lt=He,F.lte=function(a,b){return a<=b},F.max=Dg,F.min=Eg,F.noConflict=function(){return Fa._=yf,this},F.noop=Ke,F.now=qc,F.pad=function(a,b,e){a=g(a);b=+b;var f=a.length;return f<b&&cc(b)?(f=(b-f)/2,b=Ub(f),f=Lc(f),e=be("",f,e),e.slice(0,b)+a+e):a},F.padLeft=vg,F.padRight=
wg,F.parseInt=function(a,b,e){return(e?xa(a,b,e):null==b)?b=0:b&&(b=+b),a=Ie(a),Cf(a,b||(ua.test(a)?16:10))},F.random=function(a,b,e){e&&xa(a,b,e)&&(b=e=w);var f=null==b;return null==e&&(f&&"boolean"==typeof a?(e=a,a=1):"boolean"==typeof b&&(e=b,f=!0)),null==a&&f&&(b=1,f=!1),a=+a||0,f?(b=a,a=0):b=+b||0,e||a%1||b%1?(e=Cd(),mb(a+e*(b-a+zf("1e-"+((e+"").length-1))),b)):Uc(a,b)},F.reduce=sd,F.reduceRight=Ue,F.repeat=fe,F.result=function(a,b,e){var f=null==a?w:a[b];return f===w&&(null==a||Tb(b,a)||(b=
Mb(b),a=1==b.length?a:qb(a,ub(b,0,-1)),f=null==a?w:a[lc(b)]),f=f===w?e:f),Rb(f)?f.call(a):f},F.round=Fg,F.runInContext=D,F.size=function(a){var b=a?nc(a):0;return Db(b)?b:hb(a).length},F.snakeCase=xg,F.some=ze,F.sortedIndex=Jf,F.sortedLastIndex=Kf,F.startCase=yg,F.startsWith=function(a,b,e){return a=g(a),e=null==e?0:mb(0>e?0:+e||0,a.length),a.lastIndexOf(b,e)==e},F.sum=function(a,b,e){if(e&&xa(a,b,e)&&(b=w),b=Ia(b,e,3),1==b.length){a=sa(a)?a:Xc(a);e=a.length;for(var f=0;e--;)f+=+b(a[e])||0;a=f}else a=
mf(a,b);return a},F.template=function(a,b,e){var f=F.templateSettings;e&&xa(a,b,e)&&(b=e=w);a=g(a);b=Ob(Eb({},e||b),f,Ib);e=Ob(Eb({},b.imports),f.imports,Ib);var k,l,m=hb(e),h=Vc(e,m),n=0;e=b.interpolate||Ga;var r="__p+='";e=od((b.escape||Ga).source+"|"+e.source+"|"+(e===wa?na:Ga).source+"|"+(b.evaluate||Ga).source+"|$","g");var p="sourceURL"in b?"//# sourceURL="+b.sourceURL+"\n":"";if(a.replace(e,function(b,e,f,g,m,h){return f||(f=g),r+=a.slice(n,h).replace(ha,q),e&&(k=!0,r+="'+__e("+e+")+'"),m&&
(l=!0,r+="';"+m+";\n__p+='"),f&&(r+="'+((__t=("+f+"))==null?'':__t)+'"),n=h+b.length,b}),r+="';",(b=b.variable)||(r="with(obj){"+r+"}"),r=(l?r.replace(Ya,""):r).replace(Hb,"$1").replace(za,"$1;"),r="function("+(b||"obj")+"){"+(b?"":"obj||(obj={});")+"var __t,__p=''"+(k?",__e=_.escape":"")+(l?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+r+"return __p}",b=Xe(function(){return Me(m,p+"return "+r).apply(w,h)}),b.source=r,ld(b))throw b;return b},F.trim=Ie,F.trimLeft=function(a,
b,e){var k=a;return(a=g(a))?a.slice((e?xa(k,b,e):null==b)?x(a):f(a,b+"")):a},F.trimRight=function(a,b,e){var f=a;return(a=g(a))?(e?xa(f,b,e):null==b)?a.slice(0,z(a)+1):a.slice(0,l(a,b+"")+1):a},F.trunc=function(a,b,e){e&&xa(a,b,e)&&(b=w);var f=T;if(e=V,null!=b)if(Ka(b)){var k="separator"in b?b.separator:k,f="length"in b?+b.length||0:f;e="omission"in b?g(b.omission):e}else f=+b||0;if(a=g(a),f>=a.length)return a;if(f-=e.length,1>f)return e;if(b=a.slice(0,f),null==k)return b+e;if(Ge(k)){if(a.slice(f).search(k)){var l,
m=a.slice(0,f);k.global||(k=od(k.source,(Ma.exec(k)||"")+"g"));for(k.lastIndex=0;a=k.exec(m);)l=a.index;b=b.slice(0,null==l?f:l)}}else a.indexOf(k,f)!=f&&(k=b.lastIndexOf(k),-1<k&&(b=b.slice(0,k)));return b+e},F.unescape=function(a){return(a=g(a))&&Na.test(a)?a.replace(Aa,B):a},F.uniqueId=function(a){var b=++xf;return g(a)+b},F.words=Od,F.all=xe,F.any=ze,F.contains=hd,F.eq=De,F.detect=rd,F.foldl=sd,F.foldr=Ue,F.head=re,F.include=hd,F.inject=sd,nd(F,function(){var a={};return yb(F,function(b,e){F.prototype[e]||
(a[e]=b)}),a}(),!1),F.sample=Pc,F.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return Pc(b,a)}):Pc(this.value())},F.VERSION=A,$a("bind bindKey curry curryRight partial partialRight".split(" "),function(a){F[a].placeholder=F}),$a(["drop","take"],function(a,b){oa.prototype[a]=function(e){var f=this.__filtered__;if(f&&!b)return new oa(this);e=null==e?1:gb(Ub(e)||0,0);var g=this.clone();return f?g.__takeCount__=mb(g.__takeCount__,e):g.__views__.push({size:e,type:a+
(0>g.__dir__?"Right":"")}),g};oa.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),$a(["filter","map","takeWhile"],function(a,b){var e=b+1,f=e!=ca;oa.prototype[a]=function(a,b){var g=this.clone();return g.__iteratees__.push({iteratee:Ia(a,b,1),type:e}),g.__filtered__=g.__filtered__||f,g}}),$a(["first","last"],function(a,b){var e="take"+(b?"Right":"");oa.prototype[a]=function(){return this[e](1).value()[0]}}),$a(["initial","rest"],function(a,b){var e="drop"+(b?"":"Right");oa.prototype[a]=
function(){return this.__filtered__?new oa(this):this[e](1)}}),$a(["pluck","where"],function(a,b){var e=b?"filter":"map",f=b?Qb:zc;oa.prototype[a]=function(a){return this[e](f(a))}}),oa.prototype.compact=function(){return this.filter(Pb)},oa.prototype.reject=function(a,b){return a=Ia(a,b,1),this.filter(function(b){return!a(b)})},oa.prototype.slice=function(a,b){a=null==a?0:+a||0;var e=this;return e.__filtered__&&(0<a||0>b)?new oa(e):(0>a?e=e.takeRight(-a):a&&(e=e.drop(a)),b!==w&&(b=+b||0,e=0>b?e.dropRight(-b):
e.take(b-a)),e)},oa.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()},oa.prototype.toArray=function(){return this.take(uc)},yb(oa.prototype,function(a,b){var e=/^(?:filter|map|reject)|While$/.test(b),f=/^(?:first|last)$/.test(b),g=F[f?"take"+("last"==b?"Right":""):b];g&&(F.prototype[b]=function(){function b(a){return f&&l?g(a,1)[0]:g.apply(w,Va([a],k))}var k=f?[1]:arguments,l=this.__chain__,m=this.__wrapped__,h=!!this.__actions__.length,n=m instanceof oa,r=k[0],
p=n||sa(m);return p&&e&&"function"==typeof r&&1!=r.length&&(n=p=!1),r={func:fd,args:[b],thisArg:w},h=n&&!h,f&&!l?h?(m=m.clone(),m.__actions__.push(r),a.call(m)):g.call(w,this.value())[0]:!f&&p?(m=h?m:new oa(this),m=a.apply(m,k),m.__actions__.push(r),new Ua(m,l)):this.thru(b)})}),$a("join pop push replace shift sort splice split unshift".split(" "),function(a){var b=(/^(?:replace|split)$/.test(a)?wf:Pe)[a],e=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",f=/^(?:join|pop|replace|shift)$/.test(a);F.prototype[a]=
function(){var a=arguments;return f&&!this.__chain__?b.apply(this.value(),a):this[e](function(e){return b.apply(e,a)})}}),yb(oa.prototype,function(a,b){var e=F[b];if(e){var f=e.name+"";(Nc[f]||(Nc[f]=[])).push({name:b,func:e})}}),Nc[$c(w,E).name]=[{name:"wrapper",func:w}],oa.prototype.clone=function(){var a=new oa(this.__wrapped__);return a.__actions__=Ha(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Ha(this.__iteratees__),a.__takeCount__=this.__takeCount__,
a.__views__=Ha(this.__views__),a},oa.prototype.reverse=function(){if(this.__filtered__){var a=new oa(this);a.__dir__=-1;a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a},oa.prototype.value=function(){var a,b=this.__wrapped__.value(),e=this.__dir__,f=sa(b),g=0>e,k=f?b.length:0;a=k;for(var l=this.__views__,m=0,h=-1,n=l.length;++h<n;){var r=l[h],p=r.size;switch(r.type){case "drop":m+=p;break;case "dropRight":a-=p;break;case "take":a=mb(a,m+p);break;case "takeRight":m=gb(m,a-p)}}if(a={start:m,
end:a},l=a.start,m=a.end,a=m-l,g=g?m:l-1,l=this.__iteratees__,m=l.length,h=0,n=mb(a,this.__takeCount__),!f||k<N||k==a&&n==a)return Fd(b,this.__actions__);f=[];a:for(;a--&&h<n;){g+=e;k=-1;for(r=b[g];++k<m;){var q=l[k],p=q.type,q=q.iteratee(r);if(p==ca)r=q;else if(!q){if(p==aa)continue a;break a}}f[h++]=r}return f},F.prototype.chain=function(){return we(this)},F.prototype.commit=function(){return new Ua(this.value(),this.__chain__)},F.prototype.concat=Pf,F.prototype.plant=function(a){for(var b,e=this;e instanceof
Ea;){var f=vd(e);b?g.__wrapped__=f:b=f;var g=f,e=e.__wrapped__}return g.__wrapped__=a,b},F.prototype.reverse=function(){function a(b){return b.reverse()}var b=this.__wrapped__;return b instanceof oa?(this.__actions__.length&&(b=new oa(this)),b=b.reverse(),b.__actions__.push({func:fd,args:[a],thisArg:w}),new Ua(b,this.__chain__)):this.thru(a)},F.prototype.toString=function(){return this.value()+""},F.prototype.run=F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=function(){return Fd(this.__wrapped__,
this.__actions__)},F.prototype.collect=F.prototype.map,F.prototype.head=F.prototype.first,F.prototype.select=F.prototype.filter,F.prototype.tail=F.prototype.rest,F}var w,A="3.10.1",C=1,E=2,H=4,G=8,O=16,J=32,M=64,L=128,P=256,T=30,V="...",R=150,Y=16,N=200,aa=1,ca=2,U="Expected a function",la="__lodash_placeholder__",Z="[object Arguments]",ma="[object Array]",pa="[object Boolean]",qa="[object Date]",Xa="[object Error]",ia="[object Function]",Qa="[object Number]",Wa="[object Object]",Ja="[object RegExp]",
eb="[object String]",Ra="[object ArrayBuffer]",vb="[object Float32Array]",jb="[object Float64Array]",ja="[object Int8Array]",v="[object Int16Array]",nb="[object Int32Array]",Ba="[object Uint8Array]",da="[object Uint8ClampedArray]",Sa="[object Uint16Array]",K="[object Uint32Array]",Ya=/\b__p\+='';/g,Hb=/\b(__p\+=)''\+/g,za=/(__e\(.*?\)|\b__t\))\+'';/g,Aa=/&(?:amp|lt|gt|quot|#39|#96);/g,X=/[&<>"'`]/g,Na=RegExp(Aa.source),ka=RegExp(X.source),ga=/<%-([\s\S]+?)%>/g,ea=/<%([\s\S]+?)%>/g,wa=/<%=([\s\S]+?)%>/g,
Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,va=/^\w*$/,fa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,ba=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,ra=RegExp(ba.source),bb=/[\u0300-\u036f\ufe20-\ufe23]/g,Ta=/\\(\\)?/g,na=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ma=/\w*$/,ua=/^0[xX]/,Oa=/^\[object .+?Constructor\]$/,Za=/^\d+$/,kb=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ga=/($^)/,ha=/['\n\r\u2028\u2029\\]/g,wb=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+",
"g"),Bb="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),ya={};ya[vb]=ya[jb]=ya[ja]=ya[v]=ya[nb]=ya[Ba]=ya[da]=ya[Sa]=ya[K]=!0;ya[Z]=ya[ma]=ya[Ra]=ya[pa]=ya[qa]=ya[Xa]=ya[ia]=ya["[object Map]"]=ya[Qa]=ya[Wa]=ya[Ja]=ya["[object Set]"]=ya[eb]=ya["[object WeakMap]"]=!1;var ta={};ta[Z]=
ta[ma]=ta[Ra]=ta[pa]=ta[qa]=ta[vb]=ta[jb]=ta[ja]=ta[v]=ta[nb]=ta[Qa]=ta[Wa]=ta[Ja]=ta[eb]=ta[Ba]=ta[da]=ta[Sa]=ta[K]=!0;ta[Xa]=ta[ia]=ta["[object Map]"]=ta["[object Set]"]=ta["[object WeakMap]"]=!1;var xb={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e",
"\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},
Va={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ea={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ua={"function":!0,object:!0},db={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},lb={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},sb=Ua[typeof exports]&&
exports&&!exports.nodeType&&exports,cb=Ua[typeof module]&&module&&!module.nodeType&&module,Ca=Ua[typeof self]&&self&&self.Object&&self,Ha=Ua[typeof window]&&window&&window.Object&&window,$a=cb&&cb.exports===sb&&sb,Fa=sb&&cb&&"object"==typeof global&&global&&global.Object&&global||Ha!==(this&&this.window)&&Ha||Ca||this,rb=D();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Fa._=rb,define(function(){return rb})):sb&&cb?$a?(cb.exports=rb)._=rb:sb._=rb:Fa._=rb}).call(this);(function(a,h,e,b,g,f){function l(a,b){var e=typeof a[b];return"function"==e||!("object"!=e||!a[b])||"unknown"==e}function k(){if(!u(navigator.plugins)&&"object"==typeof navigator.plugins["Shockwave Flash"]){var a=navigator.plugins["Shockwave Flash"].description;a&&!u(navigator.mimeTypes)&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(V=a.match(/\d+/g))}if(!V){var b;try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),
V=Array.prototype.slice.call(b.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1)}catch(e){}}if(!V)return!1;a=parseInt(V[0],10);b=parseInt(V[1],10);R=9<a&&0<b;return!0}function n(){if(!aa){aa=!0;for(var a=0;a<ca.length;a++)ca[a]();ca.length=0}}function m(a,b){aa?a.call(b):ca.push(function(){a.call(b)})}function p(){var a=parent;if(""!==O)for(var b=0,e=O.split(".");b<e.length;b++)a=a[e[b]];return a.easyXDM}function q(a){var b=a.toLowerCase().match(E);a=b[2];var e=b[3],b=b[4]||"";if("http:"==
a&&":80"==b||"https:"==a&&":443"==b)b="";return a+"//"+e+b}function r(a){a=a.replace(G,"$1/");if(!a.match(/^(http||https):\/\//)){var b="/"===a.substring(0,1)?"":e.pathname;"/"!==b.substring(b.length-1)&&(b=b.substring(0,b.lastIndexOf("/")+1));a=e.protocol+"//"+e.host+b+a}for(;H.test(a);)a=a.replace(H,"");return a}function t(a,b){var e="",g=a.indexOf("#");-1!==g&&(e=a.substring(g),a=a.substring(0,g));var g=[],k;for(k in b)b.hasOwnProperty(k)&&g.push(k+"="+f(b[k]));return a+(T?"#":-1==a.indexOf("?")?
"?":"&")+g.join("&")+e}function u(a){return"undefined"===typeof a}function y(a,b,e){var f,g;for(g in b)b.hasOwnProperty(g)&&(g in a?(f=b[g],"object"===typeof f?y(a[g],f,e):e||(a[g]=b[g])):a[g]=b[g]);return a}function x(a){if(u(P)){var b=h.body.appendChild(h.createElement("form")),e=b.appendChild(h.createElement("input"));e.name=L+"TEST"+A;P=e!==b.elements[e.name];h.body.removeChild(b)}P?b=h.createElement('<iframe name="'+a.props.name+'"/>'):(b=h.createElement("IFRAME"),b.name=a.props.name);b.id=b.name=
a.props.name;delete a.props.name;"string"==typeof a.container&&(a.container=h.getElementById(a.container));a.container||(y(b.style,{position:"absolute",top:"-2000px",left:"0px"}),a.container=h.body);e=a.props.src;a.props.src="javascript:false";y(b,a.props);b.border=b.frameBorder=0;b.allowTransparency=!0;a.container.appendChild(b);a.onLoad&&Y(b,"load",a.onLoad);if(a.usePost){var f=a.container.appendChild(h.createElement("form")),g;f.target=b.name;f.action=e;f.method="POST";if("object"===typeof a.usePost)for(var k in a.usePost)a.usePost.hasOwnProperty(k)&&
(P?g=h.createElement('<input name="'+k+'"/>'):(g=h.createElement("INPUT"),g.name=k),g.value=a.usePost[k],f.appendChild(g));f.submit();f.parentNode.removeChild(f)}else b.src=e;a.props.src=e;return b}function z(b){var f=b.protocol,g;b.isHost=b.isHost||u(Z.xdm_p);T=b.hash||!1;b.props||(b.props={});if(b.isHost)b.remote=r(b.remote),b.channel=b.channel||"default"+A++,b.secret=Math.random().toString(16).substring(2),u(f)&&(f=q(e.href)==q(b.remote)?"4":l(a,"postMessage")||l(h,"postMessage")?"1":b.swf&&l(a,
"ActiveXObject")&&k()?"6":"Gecko"===navigator.product&&"frameElement"in a&&-1==navigator.userAgent.indexOf("WebKit")?"5":b.remoteHelper?"2":"0");else{b.channel=Z.xdm_c.replace(/["'<>\\]/g,"");b.secret=Z.xdm_s;b.remote=Z.xdm_e.replace(/["'<>\\]/g,"");var f=Z.xdm_p,m;if(m=b.acl){a:{m=b.acl;var n=b.remote;"string"==typeof m&&(m=[m]);for(var p,w=m.length;w--;)if(p=m[w],p=new RegExp("^"==p.substr(0,1)?p:"^"+p.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),p.test(n)){m=!0;break a}m=!1}m=!m}if(m)throw Error("Access denied for "+
b.remote);}b.protocol=f;switch(f){case "0":y(b,{interval:100,delay:2E3,useResize:!0,useParent:!1,usePolling:!1},!0);if(b.isHost){if(!b.local){f=e.protocol+"//"+e.host;g=h.body.getElementsByTagName("img");for(n=g.length;n--;)if(m=g[n],m.src.substring(0,f.length)===f){b.local=m.src;break}b.local||(b.local=a)}f={xdm_c:b.channel,xdm_p:0};b.local===a?(b.usePolling=!0,b.useParent=!0,b.local=e.protocol+"//"+e.host+e.pathname+e.search,f.xdm_e=b.local,f.xdm_pa=1):f.xdm_e=r(b.local);b.container&&(b.useResize=
!1,f.xdm_po=1);b.remote=t(b.remote,f)}else y(b,{useParent:!u(Z.xdm_pa),usePolling:!u(Z.xdm_po),useResize:b.useParent?!1:b.useResize});g=[new J.stack.HashTransport(b),new J.stack.ReliableBehavior({}),new J.stack.QueueBehavior({encode:!0,maxLength:4E3-b.remote.length}),new J.stack.VerifyBehavior({initiate:b.isHost})];break;case "1":g=[new J.stack.PostMessageTransport(b)];break;case "2":b.isHost&&(b.remoteHelper=r(b.remoteHelper));g=[new J.stack.NameTransport(b),new J.stack.QueueBehavior,new J.stack.VerifyBehavior({initiate:b.isHost})];
break;case "3":g=[new J.stack.NixTransport(b)];break;case "4":g=[new J.stack.SameOriginTransport(b)];break;case "5":g=[new J.stack.FrameElementTransport(b)];break;case "6":V||k(),g=[new J.stack.FlashTransport(b)]}g.push(new J.stack.QueueBehavior({lazy:b.lazy,remove:!0}));return g}function B(a){for(var b,e={incoming:function(a,b){this.up.incoming(a,b)},outgoing:function(a,b){this.down.outgoing(a,b)},callback:function(a){this.up.callback(a)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},
f=0,g=a.length;f<g;f++)b=a[f],y(b,e,!0),0!==f&&(b.down=a[f-1]),f!==g-1&&(b.up=a[f+1]);return b}function D(a){a.up.down=a.down;a.down.up=a.up;a.up=a.down=null}var w=this,A=Math.floor(1E4*Math.random()),C=Function.prototype,E=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,H=/[\-\w]+\/\.\.\//,G=/([^:])\/\//g,O="",J={},M=a.easyXDM,L="easyXDM_",P,T=!1,V,R,Y,N;if(l(a,"addEventListener"))Y=function(a,b,e){a.addEventListener(b,e,!1)},N=function(a,b,e){a.removeEventListener(b,e,!1)};else if(l(a,"attachEvent"))Y=function(a,
b,e){a.attachEvent("on"+b,e)},N=function(a,b,e){a.detachEvent("on"+b,e)};else throw Error("Browser not supported");var aa=!1,ca=[],U;"readyState"in h?(U=h.readyState,aa="complete"==U||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==U||"interactive"==U)):aa=!!h.body;if(!aa){if(l(a,"addEventListener"))Y(h,"DOMContentLoaded",n);else if(Y(h,"readystatechange",function(){"complete"==h.readyState&&n()}),h.documentElement.doScroll&&a===top){var la=function(){if(!aa){try{h.documentElement.doScroll("left")}catch(a){b(la,
1);return}n()}};la()}Y(a,"load",n)}var Z=function(a){a=a.substring(1).split("&");for(var b={},e,f=a.length;f--;)e=a[f].split("="),b[e[0]]=g(e[1]);return b}(/xdm_e=/.test(e.search)?e.search:e.hash),ma=function(){var a={},b={a:[1,2,3]};if("undefined"!=typeof JSON&&"function"===typeof JSON.stringify&&'{"a":[1,2,3]}'===JSON.stringify(b).replace(/\s/g,""))return JSON;Object.toJSON&&'{"a":[1,2,3]}'===Object.toJSON(b).replace(/\s/g,"")&&(a.stringify=Object.toJSON);"function"===typeof String.prototype.evalJSON&&
(b='{"a":[1,2,3]}'.evalJSON(),b.a&&3===b.a.length&&3===b.a[2]&&(a.parse=function(a){return a.evalJSON()}));return a.stringify&&a.parse?(ma=function(){return a},a):null};y(J,{version:"2.4.20.7",query:Z,stack:{},apply:y,getJSONObject:ma,whenReady:m,noConflict:function(b){a.easyXDM=M;(O=b)&&(L="easyXDM_"+O.replace(".","_")+"_");return J}});J.DomHelper={on:Y,un:N,requiresJSON:function(b){"object"==typeof a.JSON&&a.JSON||h.write('<script type="text/javascript" src="'+b+'">\x3c/script>')}};(function(){var a=
{};J.Fn={set:function(b,e){a[b]=e},get:function(b,e){if(a.hasOwnProperty(b)){var f=a[b];e&&delete a[b];return f}}}})();J.Socket=function(a){var b=B(z(a).concat([{incoming:function(b,e){a.onMessage(b,e)},callback:function(b){if(a.onReady)a.onReady(b)}}])),e=q(a.remote);this.origin=q(a.remote);this.destroy=function(){b.destroy()};this.postMessage=function(a){b.outgoing(a,e)};b.init()};J.Rpc=function(a,b){if(b.local)for(var e in b.local)if(b.local.hasOwnProperty(e)){var f=b.local[e];"function"===typeof f&&
(b.local[e]={method:f})}var g=B(z(a).concat([new J.stack.RpcBehavior(this,b),{callback:function(b){if(a.onReady)a.onReady(b)}}]));this.origin=q(a.remote);this.destroy=function(){g.destroy()};g.init()};J.stack.SameOriginTransport=function(a){var f,g,k,l;return f={outgoing:function(a,b,e){k(a);e&&e()},destroy:function(){g&&(g.parentNode.removeChild(g),g=null)},onDOMReady:function(){l=q(a.remote);a.isHost?(y(a.props,{src:t(a.remote,{xdm_e:e.protocol+"//"+e.host+e.pathname,xdm_c:a.channel,xdm_p:4}),name:L+
a.channel+"_provider"}),g=x(a),J.Fn.set(a.channel,function(a){k=a;b(function(){f.up.callback(!0)},0);return function(a){f.up.incoming(a,l)}})):(k=p().Fn.get(a.channel,!0)(function(a){f.up.incoming(a,l)}),b(function(){f.up.callback(!0)},0))},init:function(){m(f.onDOMReady,f)}}};J.stack.FlashTransport=function(a){function g(a,e){b(function(){l.up.incoming(a,p)},0)}function k(b){var e=a.swf+"?host="+a.isHost,g="easyXDM_swf_"+Math.floor(1E4*Math.random());J.Fn.set("flash_loaded"+b.replace(/[\-.]/g,"_"),
function(){J.stack.FlashTransport[b].swf=u=A.firstChild;for(var a=J.stack.FlashTransport[b].queue,e=0;e<a.length;e++)a[e]();a.length=0});a.swfContainer?A="string"==typeof a.swfContainer?h.getElementById(a.swfContainer):a.swfContainer:(A=h.createElement("div"),y(A.style,R&&a.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),h.body.appendChild(A));var l="callback=flash_loaded"+f(b.replace(/[\-.]/g,
"_"))+"&proto="+w.location.protocol+"&domain="+f(w.location.href.match(E)[3])+"&port="+f(w.location.href.match(E)[4]||"")+"&ns="+f(O);A.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+g+"' data='"+e+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+e+"'></param><param name='flashvars' value='"+l+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+l+"' allowScriptAccess='always' wmode='transparent' src='"+
e+"' height='1' width='1'></embed></object>"}var l,n,p,u,A;return l={outgoing:function(b,e,f){u.postMessage(a.channel,b.toString());f&&f()},destroy:function(){try{u.destroyChannel(a.channel)}catch(b){}u=null;n&&(n.parentNode.removeChild(n),n=null)},onDOMReady:function(){p=a.remote;J.Fn.set("flash_"+a.channel+"_init",function(){b(function(){l.up.callback(!0)})});J.Fn.set("flash_"+a.channel+"_onMessage",g);a.swf=r(a.swf);var f=a.swf.match(E)[3],m=function(){J.stack.FlashTransport[f].init=!0;u=J.stack.FlashTransport[f].swf;
u.createChannel(a.channel,a.secret,q(a.remote),a.isHost);a.isHost&&(R&&a.swfNoThrottle&&y(a.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),y(a.props,{src:t(a.remote,{xdm_e:q(e.href),xdm_c:a.channel,xdm_p:6,xdm_s:a.secret}),name:L+a.channel+"_provider"}),n=x(a))};J.stack.FlashTransport[f]&&J.stack.FlashTransport[f].init?m():J.stack.FlashTransport[f]?J.stack.FlashTransport[f].queue.push(m):(J.stack.FlashTransport[f]={queue:[m]},k(f))},init:function(){m(l.onDOMReady,l)}}};J.stack.PostMessageTransport=
function(f){function g(a){if("string"===typeof a.data){var b;if(a.origin)b=q(a.origin);else if(a.uri)b=q(a.uri);else if(a.domain)b=e.protocol+"//"+a.domain;else throw"Unable to retrieve the origin of the event";b==r&&a.data.substring(0,f.channel.length+1)==f.channel+" "&&l.up.incoming(a.data.substring(f.channel.length+1),b)}}function k(e){e.data==f.channel+"-ready"&&(n="postMessage"in h.contentWindow?h.contentWindow:h.contentWindow.document,N(a,"message",k),Y(a,"message",g),b(function(){l.up.callback(!0)},
0))}var l,h,n,r;return l={outgoing:function(a,b,e){n.postMessage(f.channel+" "+a,b||r);e&&e()},destroy:function(){N(a,"message",k);N(a,"message",g);h&&(n=null,h.parentNode.removeChild(h),h=null)},onDOMReady:function(){r=q(f.remote);f.isHost?(Y(a,"message",k),y(f.props,{src:t(f.remote,{xdm_e:q(e.href),xdm_c:f.channel,xdm_p:1}),name:L+f.channel+"_provider"}),h=x(f)):(Y(a,"message",g),n="postMessage"in a.parent?a.parent:a.parent.document,n.postMessage(f.channel+"-ready",r),b(function(){l.up.callback(!0)},
0))},init:function(){m(l.onDOMReady,l)}}};J.stack.FrameElementTransport=function(f){var g,k,l,n;return g={outgoing:function(a,b,e){l.call(this,a);e&&e()},destroy:function(){k&&(k.parentNode.removeChild(k),k=null)},onDOMReady:function(){n=q(f.remote);f.isHost?(y(f.props,{src:t(f.remote,{xdm_e:q(e.href),xdm_c:f.channel,xdm_p:5}),name:L+f.channel+"_provider"}),k=x(f),k.fn=function(a){delete k.fn;l=a;b(function(){g.up.callback(!0)},0);return function(a){g.up.incoming(a,n)}}):(h.referrer&&q(h.referrer)!=
Z.xdm_e&&(a.top.location=Z.xdm_e),l=a.frameElement.fn(function(a){g.up.incoming(a,n)}),g.up.callback(!0))},init:function(){m(g.onDOMReady,g)}}};J.stack.NameTransport=function(a){function e(b){n.contentWindow.sendMessage(b,a.remoteHelper+(h?"#_3":"#_2")+a.channel)}function f(){h?2!==++w&&h||l.up.callback(!0):(e("ready"),l.up.callback(!0))}function g(a){l.up.incoming(a,A)}function k(){u&&b(function(){u(!0)},0)}var l,h,n,p,w,u,A,z;return l={outgoing:function(a,b,f){u=f;e(a)},destroy:function(){n.parentNode.removeChild(n);
n=null;h&&(p.parentNode.removeChild(p),p=null)},onDOMReady:function(){h=a.isHost;w=0;A=q(a.remote);a.local=r(a.local);h?(J.Fn.set(a.channel,function(b){h&&"ready"===b&&(J.Fn.set(a.channel,g),f())}),z=t(a.remote,{xdm_e:a.local,xdm_c:a.channel,xdm_p:2}),y(a.props,{src:z+"#"+a.channel,name:L+a.channel+"_provider"}),p=x(a)):(a.remoteHelper=a.remote,J.Fn.set(a.channel,g));var e=function(){var g=n||this;N(g,"load",e);J.Fn.set(a.channel+"_load",k);(function Sa(){"function"==typeof g.contentWindow.sendMessage?
f():b(Sa,50)})()};n=x({props:{src:a.local+"#_4"+a.channel},onLoad:e})},init:function(){m(l.onDOMReady,l)}}};J.stack.HashTransport=function(e){function f(){if(p){var a=p.location.href,b="",e=a.indexOf("#");-1!=e&&(b=a.substring(e));b&&b!=n&&(n=b,g.up.incoming(n.substring(n.indexOf("_")+1),A))}}var g,k,l,h,n,r,p,w,u,A;return g={outgoing:function(a,b){if(w){var f=e.remote+"#"+r++ +"_"+a;(k||!u?w.contentWindow:w).location=f}},destroy:function(){a.clearInterval(l);!k&&u||w.parentNode.removeChild(w);w=
null},onDOMReady:function(){k=e.isHost;h=e.interval;n="#"+e.channel;r=0;u=e.useParent;A=q(e.remote);if(k){y(e.props,{src:e.remote,name:L+e.channel+"_provider"});if(u)e.onLoad=function(){p=a;l=setInterval(f,h);g.up.callback(!0)};else{var m=0,t=e.delay/50;(function da(){if(++m>t)throw Error("Unable to reference listenerwindow");try{p=w.contentWindow.frames[L+e.channel+"_consumer"]}catch(a){}p?(l=setInterval(f,h),g.up.callback(!0)):b(da,50)})()}w=x(e)}else p=a,l=setInterval(f,h),u?(w=parent,g.up.callback(!0)):
(y(e,{props:{src:e.remote+"#"+e.channel+new Date,name:L+e.channel+"_consumer"},onLoad:function(){g.up.callback(!0)}}),w=x(e))},init:function(){m(g.onDOMReady,g)}}};J.stack.ReliableBehavior=function(a){var b,e,f=0,g=0,k="";return b={incoming:function(a,l){var m=a.indexOf("_"),h=a.substring(0,m).split(",");a=a.substring(m+1);h[0]==f&&(k="",e&&e(!0));0<a.length&&(b.down.outgoing(h[1]+","+f+"_"+k,l),g!=h[1]&&(g=h[1],b.up.incoming(a,l)))},outgoing:function(a,l,m){k=a;e=m;b.down.outgoing(g+","+ ++f+"_"+
a,l)}}};J.stack.QueueBehavior=function(a){function e(){if(a.remove&&0===l.length)D(k);else if(!m&&0!==l.length&&!n){m=!0;var f=l.shift();k.down.outgoing(f.data,f.origin,function(a){m=!1;f.callback&&b(function(){f.callback(a)},0);e()})}}var k,l=[],m=!0,h="",n,r=0,p=!1,q=!1;return k={init:function(){u(a)&&(a={});a.maxLength&&(r=a.maxLength,q=!0);a.lazy?p=!0:k.down.init()},callback:function(a){m=!1;var b=k.up;e();b.callback(a)},incoming:function(b,e){if(q){var f=b.indexOf("_"),l=parseInt(b.substring(0,
f),10);h+=b.substring(f+1);0===l&&(a.encode&&(h=g(h)),k.up.incoming(h,e),h="")}else k.up.incoming(b,e)},outgoing:function(b,g,m){a.encode&&(b=f(b));var h=[],n;if(q){for(;0!==b.length;)n=b.substring(0,r),b=b.substring(n.length),h.push(n);for(;n=h.shift();)l.push({data:h.length+"_"+n,origin:g,callback:0===h.length?m:null})}else l.push({data:b,origin:g,callback:m});p?k.down.init():e()},destroy:function(){n=!0;k.down.destroy()}}};J.stack.VerifyBehavior=function(a){function b(){f=Math.random().toString(16).substring(2);
e.down.outgoing(f)}var e,f,g;return e={incoming:function(k,l){var m=k.indexOf("_");-1===m?k===f?e.up.callback(!0):g||(g=k,a.initiate||b(),e.down.outgoing(k)):k.substring(0,m)===g&&e.up.incoming(k.substring(m+1),l)},outgoing:function(a,b,g){e.down.outgoing(f+"_"+a,b,g)},callback:function(e){a.initiate&&b()}}};J.stack.RpcBehavior=function(a,b){function e(a){a.jsonrpc="2.0";k.down.outgoing(l.stringify(a))}function f(a,b){var g=Array.prototype.slice;return function(){var f=arguments.length,k,l={method:b};
0<f&&"function"===typeof arguments[f-1]?(1<f&&"function"===typeof arguments[f-2]?(k={success:arguments[f-2],error:arguments[f-1]},l.params=g.call(arguments,0,f-2)):(k={success:arguments[f-1]},l.params=g.call(arguments,0,f-1)),h[""+ ++m]=k,l.id=m):l.params=g.call(arguments,0);a.namedParams&&1===l.params.length&&(l.params=l.params[0]);e(l)}}function g(a,b,f,k){if(f){var l,m;b?(l=function(a){l=C;e({id:b,result:a})},m=function(a,f){m=C;var g={id:b,error:{code:-32099,message:a}};f&&(g.error.data=f);e(g)}):
l=m=C;"[object Array]"!==Object.prototype.toString.call(k)&&(k=[k]);try{var h=f.method.apply(f.scope,k.concat([l,m]));u(h)||l(h)}catch(n){m(n.message)}}else b&&e({id:b,error:{code:-32601,message:"Procedure not found."}})}var k,l=b.serializer||ma(),m=0,h={};return k={incoming:function(a,f){var k=l.parse(a);if(k.method)b.handle?b.handle(k,e):g(k.method,k.id,b.local[k.method],k.params);else{var m=h[k.id];k.error?m.error&&m.error(k.error):m.success&&m.success(k.result);delete h[k.id]}},init:function(){if(b.remote)for(var e in b.remote)b.remote.hasOwnProperty(e)&&
(a[e]=f(b.remote[e],e));k.down.init()},destroy:function(){for(var e in b.remote)b.remote.hasOwnProperty(e)&&a.hasOwnProperty(e)&&delete a[e];k.down.destroy()}}};w.easyXDM=J})(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent);(function(a,h){"object"===typeof module&&"object"===typeof module.exports?module.exports=a.document?h(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return h(a)}:h(a)})("undefined"!==typeof window?window:this,function(a,h){function e(a){var b=!!a&&"length"in a&&a.length,e=v.type(a);return"function"===e||v.isWindow(a)?!1:"array"===e||0===b||"number"===typeof b&&0<b&&b-1 in a}function b(a,b,e){if(v.isFunction(b))return v.grep(a,function(a,f){return!!b.call(a,
f,a)!==e});if(b.nodeType)return v.grep(a,function(a){return a===b!==e});if("string"===typeof b){if(X.test(b))return v.filter(b,a,e);b=v.filter(b,a)}return v.grep(a,function(a){return-1<eb.call(b,a)!==e})}function g(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b={};v.each(a.match(wa)||[],function(a,e){b[e]=!0});return b}function l(){ia.removeEventListener("DOMContentLoaded",l);a.removeEventListener("load",l);v.ready()}function k(){this.expando=v.expando+k.uid++}function n(a,b,e){if(void 0===
e&&1===a.nodeType)if(e="data-"+b.replace(Ta,"-$&").toLowerCase(),e=a.getAttribute(e),"string"===typeof e){try{e="true"===e?!0:"false"===e?!1:"null"===e?null:+e+""===e?+e:bb.test(e)?v.parseJSON(e):e}catch(f){}ra.set(a,b,e)}else e=void 0;return e}function m(a,b,e,f){var g,k=1,l=20,m=f?function(){return f.cur()}:function(){return v.css(a,b,"")},h=m(),n=e&&e[3]||(v.cssNumber[b]?"":"px"),r=(v.cssNumber[b]||"px"!==n&&+h)&&Ma.exec(v.css(a,b));if(r&&r[3]!==n){n=n||r[3];e=e||[];r=+h||1;do k=k||".5",r/=k,v.style(a,
b,r+n);while(k!==(k=m()/h)&&1!==k&&--l)}e&&(r=+r||+h||0,g=e[1]?r+(e[1]+1)*e[2]:+e[2],f&&(f.unit=n,f.start=r,f.end=g));return g}function p(a,b){var e="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&v.nodeName(a,b)?v.merge([a],e):e}function q(a,b){for(var e=0,f=a.length;e<f;e++)ba.set(a[e],"globalEval",!b||ba.get(b[e],"globalEval"))}function r(a,b,e,f,g){for(var k,l,m,h=b.createDocumentFragment(),
n=[],r=0,w=a.length;r<w;r++)if((k=a[r])||0===k)if("object"===v.type(k))v.merge(n,k.nodeType?[k]:k);else if(wb.test(k)){l=l||h.appendChild(b.createElement("div"));m=(kb.exec(k)||["",""])[1].toLowerCase();m=ha[m]||ha._default;l.innerHTML=m[1]+v.htmlPrefilter(k)+m[2];for(m=m[0];m--;)l=l.lastChild;v.merge(n,l.childNodes);l=h.firstChild;l.textContent=""}else n.push(b.createTextNode(k));h.textContent="";for(r=0;k=n[r++];)if(f&&-1<v.inArray(k,f))g&&g.push(k);else if(a=v.contains(k.ownerDocument,k),l=p(h.appendChild(k),
"script"),a&&q(l),e)for(m=0;k=l[m++];)Ga.test(k.type||"")&&e.push(k);return h}function t(){return!0}function u(){return!1}function y(){try{return ia.activeElement}catch(a){}}function x(a,b,e,f,g,k){var l,m;if("object"===typeof b){"string"!==typeof e&&(f=f||e,e=void 0);for(m in b)x(a,m,e,f,b[m],k);return a}null==f&&null==g?(g=e,f=e=void 0):null==g&&("string"===typeof e?(g=f,f=void 0):(g=f,f=e,e=void 0));if(!1===g)g=u;else if(!g)return a;1===k&&(l=g,g=function(a){v().off(a);return l.apply(this,arguments)},
g.guid=l.guid||(l.guid=v.guid++));return a.each(function(){v.event.add(this,b,g,f,e)})}function z(a,b){return v.nodeName(a,"table")&&v.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function B(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}function D(a){var b=Ua.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function w(a,b){var e,f,g,k;if(1===b.nodeType){if(ba.hasData(a)&&(k=ba.access(a),
e=ba.set(b,k),k=k.events))for(g in delete e.handle,e.events={},k)for(e=0,f=k[g].length;e<f;e++)v.event.add(b,g,k[g][e]);ra.hasData(a)&&(g=ra.access(a),g=v.extend({},g),ra.set(b,g))}}function A(a,b,e,f){b=Wa.apply([],b);var g,k,l,m,h=0,n=a.length,q=n-1,w=b[0],u=v.isFunction(w);if(u||1<n&&"string"===typeof w&&!ja.checkClone&&Ea.test(w))return a.each(function(g){var k=a.eq(g);u&&(b[0]=w.call(this,g,k.html()));A(k,b,e,f)});if(n&&(g=r(b,a[0].ownerDocument,!1,a,f),k=g.firstChild,1===g.childNodes.length&&
(g=k),k||f)){k=v.map(p(g,"script"),B);for(l=k.length;h<n;h++)m=g,h!==q&&(m=v.clone(m,!0,!0),l&&v.merge(k,p(m,"script"))),e.call(a[h],m,h);if(l)for(g=k[k.length-1].ownerDocument,v.map(k,D),h=0;h<l;h++)m=k[h],Ga.test(m.type||"")&&!ba.access(m,"globalEval")&&v.contains(g,m)&&(m.src?v._evalUrl&&v._evalUrl(m.src):v.globalEval(m.textContent.replace(db,"")))}return a}function C(a,b,e){for(var f=b?v.filter(b,a):a,g=0;null!=(b=f[g]);g++)e||1!==b.nodeType||v.cleanData(p(b)),b.parentNode&&(e&&v.contains(b.ownerDocument,
b)&&q(p(b,"script")),b.parentNode.removeChild(b));return a}function E(a,b){var e=v(b.createElement(a)).appendTo(b.body),f=v.css(e[0],"display");e.detach();return f}function H(a){var b=ia,e=sb[a];e||(e=E(a,b),"none"!==e&&e||(lb=(lb||v("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=lb[0].contentDocument,b.write(),b.close(),e=E(a,b),lb.detach()),sb[a]=e);return e}function G(a,b,e){var f,g,k=a.style;g=(e=e||Ha(a))?e.getPropertyValue(b)||e[b]:void 0;""!==g&&void 0!==g||
v.contains(a.ownerDocument,a)||(g=v.style(a,b));e&&!ja.pixelMarginRight()&&Ca.test(g)&&cb.test(b)&&(a=k.width,b=k.minWidth,f=k.maxWidth,k.minWidth=k.maxWidth=k.width=g,g=e.width,k.width=a,k.minWidth=b,k.maxWidth=f);return void 0!==g?g+"":g}function O(a,b){return{get:function(){if(a())delete this.get;else return(this.get=b).apply(this,arguments)}}}function J(a){if(a in Cb)return a;for(var b=a[0].toUpperCase()+a.slice(1),e=sc.length;e--;)if(a=sc[e]+b,a in Cb)return a}function M(a,b,e){return(a=Ma.exec(b))?
Math.max(0,a[2]-(e||0))+(a[3]||"px"):b}function L(a,b,e,f,g){b=e===(f?"border":"content")?4:"width"===b?1:0;for(var k=0;4>b;b+=2)"margin"===e&&(k+=v.css(a,e+ua[b],!0,g)),f?("content"===e&&(k-=v.css(a,"padding"+ua[b],!0,g)),"margin"!==e&&(k-=v.css(a,"border"+ua[b]+"Width",!0,g))):(k+=v.css(a,"padding"+ua[b],!0,g),"padding"!==e&&(k+=v.css(a,"border"+ua[b]+"Width",!0,g)));return k}function P(a,b,e){var f=!0,g="width"===b?a.offsetWidth:a.offsetHeight,k=Ha(a),l="border-box"===v.css(a,"boxSizing",!1,k);
if(0>=g||null==g){g=G(a,b,k);if(0>g||null==g)g=a.style[b];if(Ca.test(g))return g;f=l&&(ja.boxSizingReliable()||g===a.style[b]);g=parseFloat(g)||0}return g+L(a,b,e||(l?"border":"content"),f,k)+"px"}function T(a,b){for(var e,f,g,k=[],l=0,m=a.length;l<m;l++)f=a[l],f.style&&(k[l]=ba.get(f,"olddisplay"),e=f.style.display,b?(k[l]||"none"!==e||(f.style.display=""),""===f.style.display&&Oa(f)&&(k[l]=ba.access(f,"olddisplay",H(f.nodeName)))):(g=Oa(f),"none"===e&&g||ba.set(f,"olddisplay",g?e:v.css(f,"display"))));
for(l=0;l<m;l++)f=a[l],!f.style||b&&"none"!==f.style.display&&""!==f.style.display||(f.style.display=b?k[l]||"":"none");return a}function V(a,b,e,f,g){return new V.prototype.init(a,b,e,f,g)}function R(){a.setTimeout(function(){oa=void 0});return oa=v.now()}function Y(a,b){var e,f=0,g={height:a};for(b=b?1:0;4>f;f+=2-b)e=ua[f],g["margin"+e]=g["padding"+e]=a;b&&(g.opacity=g.width=a);return g}function N(a,b,e){for(var f,g=(ca.tweeners[b]||[]).concat(ca.tweeners["*"]),k=0,l=g.length;k<l;k++)if(f=g[k].call(e,
b,a))return f}function aa(a,b){var e,f,g,k,l;for(e in a)if(f=v.camelCase(e),g=b[f],k=a[e],v.isArray(k)&&(g=k[1],k=a[e]=k[0]),e!==f&&(a[f]=k,delete a[e]),(l=v.cssHooks[f])&&"expand"in l)for(e in k=l.expand(k),delete a[f],k)e in a||(a[e]=k[e],b[e]=g);else b[f]=g}function ca(a,b,e){var f,g=0,k=ca.prefilters.length,l=v.Deferred().always(function(){delete m.elem}),m=function(){if(f)return!1;for(var b=oa||R(),b=Math.max(0,h.startTime+h.duration-b),e=1-(b/h.duration||0),g=0,k=h.tweens.length;g<k;g++)h.tweens[g].run(e);
l.notifyWith(a,[h,e,b]);if(1>e&&k)return b;l.resolveWith(a,[h]);return!1},h=l.promise({elem:a,props:v.extend({},b),opts:v.extend(!0,{specialEasing:{},easing:v.easing._default},e),originalProperties:b,originalOptions:e,startTime:oa||R(),duration:e.duration,tweens:[],createTween:function(b,e){var f=v.Tween(a,h.opts,b,e,h.opts.specialEasing[b]||h.opts.easing);h.tweens.push(f);return f},stop:function(b){var e=0,g=b?h.tweens.length:0;if(f)return this;for(f=!0;e<g;e++)h.tweens[e].run(1);b?(l.notifyWith(a,
[h,1,0]),l.resolveWith(a,[h,b])):l.rejectWith(a,[h,b]);return this}});e=h.props;for(aa(e,h.opts.specialEasing);g<k;g++)if(b=ca.prefilters[g].call(h,a,e,h.opts))return v.isFunction(b.stop)&&(v._queueHooks(h.elem,h.opts.queue).stop=v.proxy(b.stop,b)),b;v.map(e,N,h);v.isFunction(h.opts.start)&&h.opts.start.call(a,h);v.fx.timer(v.extend(m,{elem:a,anim:h,queue:h.opts.queue}));return h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function U(a){return a.getAttribute&&
a.getAttribute("class")||""}function la(a){return function(b,e){"string"!==typeof b&&(e=b,b="*");var f,g=0,k=b.toLowerCase().match(wa)||[];if(v.isFunction(e))for(;f=k[g++];)"+"===f[0]?(f=f.slice(1)||"*",(a[f]=a[f]||[]).unshift(e)):(a[f]=a[f]||[]).push(e)}}function Z(a,b,e,f){function g(m){var h;k[m]=!0;v.each(a[m]||[],function(a,m){var n=m(b,e,f);if("string"===typeof n&&!l&&!k[n])return b.dataTypes.unshift(n),g(n),!1;if(l)return!(h=n)});return h}var k={},l=a===hc;return g(b.dataTypes[0])||!k["*"]&&
g("*")}function ma(a,b){var e,f,g=v.ajaxSettings.flatOptions||{};for(e in b)void 0!==b[e]&&((g[e]?a:f||(f={}))[e]=b[e]);f&&v.extend(!0,a,f);return a}function pa(a,b,e,f){var g;if(v.isArray(b))v.each(b,function(b,g){e||ib.test(a)?f(a,g):pa(a+"["+("object"===typeof g&&null!=g?b:"")+"]",g,e,f)});else if(e||"object"!==v.type(b))f(a,b);else for(g in b)pa(a+"["+g+"]",b[g],e,f)}function qa(a){return v.isWindow(a)?a:9===a.nodeType&&a.defaultView}var Xa=[],ia=a.document,Qa=Xa.slice,Wa=Xa.concat,Ja=Xa.push,
eb=Xa.indexOf,Ra={},vb=Ra.toString,jb=Ra.hasOwnProperty,ja={},v=function(a,b){return new v.fn.init(a,b)},nb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Ba=/^-ms-/,da=/-([\da-z])/gi,Sa=function(a,b){return b.toUpperCase()};v.fn=v.prototype={jquery:"2.2.4",constructor:v,selector:"",length:0,toArray:function(){return Qa.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:Qa.call(this)},pushStack:function(a){a=v.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},
each:function(a){return v.each(this,a)},map:function(a){return this.pushStack(v.map(this,function(b,e){return a.call(b,e,b)}))},slice:function(){return this.pushStack(Qa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:Ja,sort:Xa.sort,splice:Xa.splice};v.extend=v.fn.extend=function(){var a,b,e,
f,g,k=arguments[0]||{},l=1,m=arguments.length,h=!1;"boolean"===typeof k&&(h=k,k=arguments[l]||{},l++);"object"===typeof k||v.isFunction(k)||(k={});l===m&&(k=this,l--);for(;l<m;l++)if(null!=(a=arguments[l]))for(b in a)e=k[b],f=a[b],k!==f&&(h&&f&&(v.isPlainObject(f)||(g=v.isArray(f)))?(g?(g=!1,e=e&&v.isArray(e)?e:[]):e=e&&v.isPlainObject(e)?e:{},k[b]=v.extend(h,e,f)):void 0!==f&&(k[b]=f));return k};v.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);
},noop:function(){},isFunction:function(a){return"function"===v.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!v.isArray(a)&&0<=b-parseFloat(b)+1},isPlainObject:function(a){var b;if("object"!==v.type(a)||a.nodeType||v.isWindow(a)||a.constructor&&!jb.call(a,"constructor")&&!jb.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||jb.call(a,b)},isEmptyObject:function(a){for(var b in a)return!1;
return!0},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?Ra[vb.call(a)]||"object":typeof a},globalEval:function(a){var b;b=eval;if(a=v.trim(a))1===a.indexOf("use strict")?(b=ia.createElement("script"),b.text=a,ia.head.appendChild(b).parentNode.removeChild(b)):b(a)},camelCase:function(a){return a.replace(Ba,"ms-").replace(da,Sa)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var f,g=0;if(e(a))for(f=a.length;g<
f&&!1!==b.call(a[g],g,a[g]);g++);else for(g in a)if(!1===b.call(a[g],g,a[g]))break;return a},trim:function(a){return null==a?"":(a+"").replace(nb,"")},makeArray:function(a,b){var f=b||[];null!=a&&(e(Object(a))?v.merge(f,"string"===typeof a?[a]:a):Ja.call(f,a));return f},inArray:function(a,b,e){return null==b?-1:eb.call(b,a,e)},merge:function(a,b){for(var e=+b.length,f=0,g=a.length;f<e;f++)a[g++]=b[f];a.length=g;return a},grep:function(a,b,e){for(var f=[],g=0,k=a.length,l=!e;g<k;g++)e=!b(a[g],g),e!==
l&&f.push(a[g]);return f},map:function(a,b,f){var g,k,l=0,m=[];if(e(a))for(g=a.length;l<g;l++)k=b(a[l],l,f),null!=k&&m.push(k);else for(l in a)k=b(a[l],l,f),null!=k&&m.push(k);return Wa.apply([],m)},guid:1,proxy:function(a,b){var e,f;"string"===typeof b&&(e=a[b],b=a,a=e);if(v.isFunction(a))return f=Qa.call(arguments,2),e=function(){return a.apply(b||this,f.concat(Qa.call(arguments)))},e.guid=a.guid=a.guid||v.guid++,e},now:Date.now,support:ja});"function"===typeof Symbol&&(v.fn[Symbol.iterator]=Xa[Symbol.iterator]);
v.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){Ra["[object "+b+"]"]=b.toLowerCase()});var K=function(a){function b(a,e,f,g){var k,l,m,h,n,p=e&&e.ownerDocument,w=e?e.nodeType:9;f=f||[];if("string"!==typeof a||!a||1!==w&&9!==w&&11!==w)return f;if(!g&&((e?e.ownerDocument||e:aa)!==da&&O(e),e=e||da,Ea)){if(11!==w&&(h=qa.exec(a)))if(k=h[1])if(9===w)if(l=e.getElementById(k)){if(l.id===k)return f.push(l),f}else return f;else{if(p&&(l=p.getElementById(k))&&
T(e,l)&&l.id===k)return f.push(l),f}else{if(h[2])return Ya.apply(f,e.getElementsByTagName(a)),f;if((k=h[3])&&C.getElementsByClassName&&e.getElementsByClassName)return Ya.apply(f,e.getElementsByClassName(k)),f}if(!(!C.qsa||R[a+" "]||ha&&ha.test(a))){if(1!==w)p=e,n=a;else if("object"!==e.nodeName.toLowerCase()){(m=e.getAttribute("id"))?m=m.replace(Aa,"\\$&"):e.setAttribute("id",m=M);h=H(a);k=h.length;for(l=P.test(m)?"#"+m:"[id='"+m+"']";k--;)h[k]=l+" "+q(h[k]);n=h.join(",");p=X.test(a)&&r(e.parentNode)||
e}if(n)try{return Ya.apply(f,p.querySelectorAll(n)),f}catch(u){}finally{m===M&&e.removeAttribute("id")}}}return G(a.replace(za,"$1"),e,f,g)}function e(){function a(e,f){b.push(e+" ")>y.cacheLength&&delete a[b.shift()];return a[e+" "]=f}var b=[];return a}function f(a){a[M]=!0;return a}function g(a){var b=da.createElement("div");try{return!!a(b)}catch(e){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function k(a,b){for(var e=a.split("|"),f=e.length;f--;)y.attrHandle[e[f]]=b}function l(a,
b){var e=b&&a,f=e&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(f)return f;if(e)for(;e=e.nextSibling;)if(e===b)return-1;return a?1:-1}function m(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function h(a){return function(b){var e=b.nodeName.toLowerCase();return("input"===e||"button"===e)&&b.type===a}}function n(a){return f(function(b){b=+b;return f(function(e,f){for(var g,k=a([],e.length,b),l=k.length;l--;)e[g=k[l]]&&
(e[g]=!(f[g]=e[g]))})})}function r(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function p(){}function q(a){for(var b=0,e=a.length,f="";b<e;b++)f+=a[b].value;return f}function w(a,b,e){var f=b.dir,g=e&&"parentNode"===f,k=sc++;return b.first?function(b,e,k){for(;b=b[f];)if(1===b.nodeType||g)return a(b,e,k)}:function(b,e,l){var m,h,n=[Sa,k];if(l)for(;b=b[f];){if((1===b.nodeType||g)&&a(b,e,l))return!0}else for(;b=b[f];)if(1===b.nodeType||g){h=b[M]||(b[M]={});h=h[b.uniqueID]||(h[b.uniqueID]=
{});if((m=h[f])&&m[0]===Sa&&m[1]===k)return n[2]=m[2];h[f]=n;if(n[2]=a(b,e,l))return!0}}}function u(a){return 1<a.length?function(b,e,f){for(var g=a.length;g--;)if(!a[g](b,e,f))return!1;return!0}:a[0]}function A(a,b,e,f,g){for(var k,l=[],m=0,h=a.length,n=null!=b;m<h;m++)if(k=a[m])if(!e||e(k,f,g))l.push(k),n&&b.push(m);return l}function t(a,e,g,k,l,m){k&&!k[M]&&(k=t(k));l&&!l[M]&&(l=t(l,m));return f(function(f,m,h,n){var r,p,q=[],w=[],u=m.length,t;if(!(t=f)){t=e||"*";for(var x=h.nodeType?[h]:h,z=[],
E=0,C=x.length;E<C;E++)b(t,x[E],z);t=z}t=!a||!f&&e?t:A(t,q,a,h,n);x=g?l||(f?a:u||k)?[]:m:t;g&&g(t,x,h,n);if(k)for(r=A(x,w),k(r,[],h,n),h=r.length;h--;)if(p=r[h])x[w[h]]=!(t[w[h]]=p);if(f){if(l||a){if(l){r=[];for(h=x.length;h--;)(p=x[h])&&r.push(t[h]=p);l(null,x=[],r,n)}for(h=x.length;h--;)(p=x[h])&&-1<(r=l?Cb(f,p):q[h])&&(f[r]=!(m[r]=p))}}else x=A(x===m?x.splice(u,x.length):x),l?l(null,m,x,n):Ya.apply(m,x)})}function x(a){var b,e,f,g=a.length,k=y.relative[a[0].type];e=k||y.relative[" "];for(var l=
k?1:0,m=w(function(a){return a===b},e,!0),h=w(function(a){return-1<Cb(b,a)},e,!0),n=[function(a,e,f){a=!k&&(f||e!==v)||((b=e).nodeType?m(a,e,f):h(a,e,f));b=null;return a}];l<g;l++)if(e=y.relative[a[l].type])n=[w(u(n),e)];else{e=y.filter[a[l].type].apply(null,a[l].matches);if(e[M]){for(f=++l;f<g&&!y.relative[a[f].type];f++);return t(1<l&&u(n),1<l&&q(a.slice(0,l-1).concat({value:" "===a[l-2].type?"*":""})).replace(za,"$1"),e,l<f&&x(a.slice(l,f)),f<g&&x(a=a.slice(f)),f<g&&q(a))}n.push(e)}return u(n)}
function z(a,e){var g=0<e.length,k=0<a.length,l=function(f,l,m,h,n){var r,p,q,w=0,u="0",t=f&&[],x=[],z=v,E=f||k&&y.find.TAG("*",n),C=Sa+=null==z?1:Math.random()||.1,D=E.length;for(n&&(v=l===da||l||n);u!==D&&null!=(r=E[u]);u++){if(k&&r){p=0;l||r.ownerDocument===da||(O(r),m=!Ea);for(;q=a[p++];)if(q(r,l||da,m)){h.push(r);break}n&&(Sa=C)}g&&((r=!q&&r)&&w--,f&&t.push(r))}w+=u;if(g&&u!==w){for(p=0;q=e[p++];)q(t,x,l,m);if(f){if(0<w)for(;u--;)t[u]||x[u]||(x[u]=wb.call(h));x=A(x)}Ya.apply(h,x);n&&!f&&0<x.length&&
1<w+e.length&&b.uniqueSort(h)}n&&(Sa=C,v=z);return t};return g?f(l):l}var E,C,y,D,B,H,F,G,v,Y,N,O,da,J,Ea,ha,U,K,T,M="sizzle"+1*new Date,aa=a.document,Sa=0,sc=0,ja=e(),la=e(),R=e(),ca=function(a,b){a===b&&(N=!0);return 0},Ua={}.hasOwnProperty,V=[],wb=V.pop,L=V.push,Ya=V.push,Z=V.slice,Cb=function(a,b){for(var e=0,f=a.length;e<f;e++)if(a[e]===b)return e;return-1},ma=RegExp("[\\x20\\t\\r\\n\\f]+","g"),za=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Wa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,
Hb=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,nb=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),oa=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,P=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,pa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,
CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},Qa=/^(?:input|select|textarea|button)$/i,Bb=/^h\d$/i,db=
/^[^{]+\{\s*\[native \w/,qa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,X=/[+~]/,Aa=/'|\\/g,Ca=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),Ba=function(a,b,e){a="0x"+b-65536;return a!==a||e?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)},Xa=function(){O()};try{Ya.apply(V=Z.call(aa.childNodes),aa.childNodes),V[aa.childNodes.length].nodeType}catch(lb){Ya={apply:V.length?function(a,b){L.apply(a,Z.call(b))}:function(a,b){for(var e=a.length,f=
0;a[e++]=b[f++];);a.length=e-1}}}C=b.support={};B=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};O=b.setDocument=function(a){var b;a=a?a.ownerDocument||a:aa;if(a===da||9!==a.nodeType||!a.documentElement)return da;da=a;J=da.documentElement;Ea=!B(da);(b=da.defaultView)&&b.top!==b&&(b.addEventListener?b.addEventListener("unload",Xa,!1):b.attachEvent&&b.attachEvent("onunload",Xa));C.attributes=g(function(a){a.className="i";return!a.getAttribute("className")});
C.getElementsByTagName=g(function(a){a.appendChild(da.createComment(""));return!a.getElementsByTagName("*").length});C.getElementsByClassName=db.test(da.getElementsByClassName);C.getById=g(function(a){J.appendChild(a).id=M;return!da.getElementsByName||!da.getElementsByName(M).length});C.getById?(y.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&Ea){var e=b.getElementById(a);return e?[e]:[]}},y.filter.ID=function(a){var b=a.replace(Ca,Ba);return function(a){return a.getAttribute("id")===
b}}):(delete y.find.ID,y.filter.ID=function(a){var b=a.replace(Ca,Ba);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});y.find.TAG=C.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a);if(C.qsa)return b.querySelectorAll(a)}:function(a,b){var e,f=[],g=0,k=b.getElementsByTagName(a);if("*"===a){for(;e=k[g++];)1===e.nodeType&&f.push(e);return f}return k};y.find.CLASS=C.getElementsByClassName&&
function(a,b){if("undefined"!==typeof b.getElementsByClassName&&Ea)return b.getElementsByClassName(a)};U=[];ha=[];if(C.qsa=db.test(da.querySelectorAll))g(function(a){J.appendChild(a).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&ha.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||ha.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll("[id~="+M+"-]").length||ha.push("~=");a.querySelectorAll(":checked").length||ha.push(":checked");a.querySelectorAll("a#"+M+"+*").length||ha.push(".#.+[+~]")}),g(function(a){var b=da.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&ha.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||ha.push(":enabled",":disabled");a.querySelectorAll("*,:x");ha.push(",.*:")});(C.matchesSelector=
db.test(K=J.matches||J.webkitMatchesSelector||J.mozMatchesSelector||J.oMatchesSelector||J.msMatchesSelector))&&g(function(a){C.disconnectedMatch=K.call(a,"div");K.call(a,"[s!='']:x");U.push("!=",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
ha=ha.length&&new RegExp(ha.join("|"));U=U.length&&new RegExp(U.join("|"));T=(b=db.test(J.compareDocumentPosition))||db.test(J.contains)?function(a,b){var e=9===a.nodeType?a.documentElement:a,f=b&&b.parentNode;return a===f||!!(f&&1===f.nodeType&&(e.contains?e.contains(f):a.compareDocumentPosition&&a.compareDocumentPosition(f)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};ca=b?function(a,b){if(a===b)return N=!0,0;var e=!a.compareDocumentPosition-!b.compareDocumentPosition;
if(e)return e;e=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;return e&1||!C.sortDetached&&b.compareDocumentPosition(a)===e?a===da||a.ownerDocument===aa&&T(aa,a)?-1:b===da||b.ownerDocument===aa&&T(aa,b)?1:Y?Cb(Y,a)-Cb(Y,b):0:e&4?-1:1}:function(a,b){if(a===b)return N=!0,0;var e,f=0;e=a.parentNode;var g=b.parentNode,k=[a],m=[b];if(!e||!g)return a===da?-1:b===da?1:e?-1:g?1:Y?Cb(Y,a)-Cb(Y,b):0;if(e===g)return l(a,b);for(e=a;e=e.parentNode;)k.unshift(e);for(e=b;e=e.parentNode;)m.unshift(e);
for(;k[f]===m[f];)f++;return f?l(k[f],m[f]):k[f]===aa?-1:m[f]===aa?1:0};return da};b.matches=function(a,e){return b(a,null,null,e)};b.matchesSelector=function(a,e){(a.ownerDocument||a)!==da&&O(a);e=e.replace(nb,"='$1']");if(!(!C.matchesSelector||!Ea||R[e+" "]||U&&U.test(e)||ha&&ha.test(e)))try{var f=K.call(a,e);if(f||C.disconnectedMatch||a.document&&11!==a.document.nodeType)return f}catch(g){}return 0<b(e,da,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==da&&O(a);return T(a,b)};
b.attr=function(a,b){(a.ownerDocument||a)!==da&&O(a);var e=y.attrHandle[b.toLowerCase()],e=e&&Ua.call(y.attrHandle,b.toLowerCase())?e(a,b,!Ea):void 0;return void 0!==e?e:C.attributes||!Ea?a.getAttribute(b):(e=a.getAttributeNode(b))&&e.specified?e.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,e=[],f=0,g=0;N=!C.detectDuplicates;Y=!C.sortStable&&a.slice(0);a.sort(ca);if(N){for(;b=a[g++];)b===a[g]&&(f=e.push(g));for(;f--;)a.splice(e[f],
1)}Y=null;return a};D=b.getText=function(a){var b,e="",f=0;b=a.nodeType;if(!b)for(;b=a[f++];)e+=D(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)e+=D(a)}else if(3===b||4===b)return a.nodeValue;return e};y=b.selectors={cacheLength:50,createPseudo:f,match:pa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=
a[1].replace(Ca,Ba);a[3]=(a[3]||a[4]||a[5]||"").replace(Ca,Ba);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,e=!a[6]&&a[2];if(pa.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":e&&oa.test(e)&&(b=H(e,!0))&&(b=e.indexOf(")",e.length-b)-e.length)&&(a[0]=a[0].slice(0,
b),a[2]=e.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(Ca,Ba).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=ja[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&ja(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,e,f){return function(g){g=
b.attr(g,a);if(null==g)return"!="===e;if(!e)return!0;g+="";return"="===e?g===f:"!="===e?g!==f:"^="===e?f&&0===g.indexOf(f):"*="===e?f&&-1<g.indexOf(f):"$="===e?f&&g.slice(-f.length)===f:"~="===e?-1<(" "+g.replace(ma," ")+" ").indexOf(f):"|="===e?g===f||g.slice(0,f.length+1)===f+"-":!1}},CHILD:function(a,b,e,f,g){var k="nth"!==a.slice(0,3),l="last"!==a.slice(-4),m="of-type"===b;return 1===f&&0===g?function(a){return!!a.parentNode}:function(b,e,h){var n,r,p,q,w;e=k!==l?"nextSibling":"previousSibling";
var u=b.parentNode,A=m&&b.nodeName.toLowerCase();h=!h&&!m;n=!1;if(u){if(k){for(;e;){for(p=b;p=p[e];)if(m?p.nodeName.toLowerCase()===A:1===p.nodeType)return!1;w=e="only"===a&&!w&&"nextSibling"}return!0}w=[l?u.firstChild:u.lastChild];if(l&&h)for(p=u,r=p[M]||(p[M]={}),r=r[p.uniqueID]||(r[p.uniqueID]={}),n=r[a]||[],n=(q=n[0]===Sa&&n[1])&&n[2],p=q&&u.childNodes[q];p=++q&&p&&p[e]||(n=q=0)||w.pop();){if(1===p.nodeType&&++n&&p===b){r[a]=[Sa,q,n];break}}else if(h&&(p=b,r=p[M]||(p[M]={}),r=r[p.uniqueID]||(r[p.uniqueID]=
{}),n=r[a]||[],n=q=n[0]===Sa&&n[1]),!1===n)for(;(p=++q&&p&&p[e]||(n=q=0)||w.pop())&&((m?p.nodeName.toLowerCase()!==A:1!==p.nodeType)||!++n||(h&&(r=p[M]||(p[M]={}),r=r[p.uniqueID]||(r[p.uniqueID]={}),r[a]=[Sa,n]),p!==b)););n-=g;return n===f||0===n%f&&0<=n/f}}},PSEUDO:function(a,e){var g,k=y.pseudos[a]||y.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return k[M]?k(e):1<k.length?(g=[a,a,"",e],y.setFilters.hasOwnProperty(a.toLowerCase())?f(function(a,b){for(var f,g=k(a,e),l=g.length;l--;)f=
Cb(a,g[l]),a[f]=!(b[f]=g[l])}):function(a){return k(a,0,g)}):k}},pseudos:{not:f(function(a){var b=[],e=[],g=F(a.replace(za,"$1"));return g[M]?f(function(a,b,e,f){f=g(a,null,f,[]);for(var k=a.length;k--;)if(e=f[k])a[k]=!(b[k]=e)}):function(a,f,k){b[0]=a;g(b,null,k,e);b[0]=null;return!e.pop()}}),has:f(function(a){return function(e){return 0<b(a,e).length}}),contains:f(function(a){a=a.replace(Ca,Ba);return function(b){return-1<(b.textContent||b.innerText||D(b)).indexOf(a)}}),lang:f(function(a){P.test(a||
"")||b.error("unsupported lang: "+a);a=a.replace(Ca,Ba).toLowerCase();return function(b){var e;do if(e=Ea?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return e=e.toLowerCase(),e===a||0===e.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var e=a.location&&a.location.hash;return e&&e.slice(1)===b.id},root:function(a){return a===J},focus:function(a){return a===da.activeElement&&(!da.hasFocus||da.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===
a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!y.pseudos.empty(a)},header:function(a){return Bb.test(a.nodeName)},input:function(a){return Qa.test(a.nodeName)},button:function(a){var b=
a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:n(function(){return[0]}),last:n(function(a,b){return[b-1]}),eq:n(function(a,b,e){return[0>e?e+b:e]}),even:n(function(a,b){for(var e=0;e<b;e+=2)a.push(e);return a}),odd:n(function(a,b){for(var e=1;e<b;e+=2)a.push(e);return a}),lt:n(function(a,b,e){for(b=0>e?e+b:e;0<=--b;)a.push(b);
return a}),gt:n(function(a,b,e){for(e=0>e?e+b:e;++e<b;)a.push(e);return a})}};y.pseudos.nth=y.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[E]=m(E);for(E in{submit:!0,reset:!0})y.pseudos[E]=h(E);p.prototype=y.filters=y.pseudos;y.setFilters=new p;H=b.tokenize=function(a,e){var f,g,k,l,m,h,n;if(m=la[a+" "])return e?0:m.slice(0);m=a;h=[];for(n=y.preFilter;m;){if(!f||(g=Wa.exec(m)))g&&(m=m.slice(g[0].length)||m),h.push(k=[]);f=!1;if(g=Hb.exec(m))f=g.shift(),k.push({value:f,
type:g[0].replace(za," ")}),m=m.slice(f.length);for(l in y.filter)!(g=pa[l].exec(m))||n[l]&&!(g=n[l](g))||(f=g.shift(),k.push({value:f,type:l,matches:g}),m=m.slice(f.length));if(!f)break}return e?m.length:m?b.error(a):la(a,h).slice(0)};F=b.compile=function(a,b){var e,f=[],g=[],k=R[a+" "];if(!k){b||(b=H(a));for(e=b.length;e--;)k=x(b[e]),k[M]?f.push(k):g.push(k);k=R(a,z(g,f));k.selector=a}return k};G=b.select=function(a,b,e,f){var g,k,l,m,h="function"===typeof a&&a,n=!f&&H(a=h.selector||a);e=e||[];
if(1===n.length){k=n[0]=n[0].slice(0);if(2<k.length&&"ID"===(l=k[0]).type&&C.getById&&9===b.nodeType&&Ea&&y.relative[k[1].type]){b=(y.find.ID(l.matches[0].replace(Ca,Ba),b)||[])[0];if(!b)return e;h&&(b=b.parentNode);a=a.slice(k.shift().value.length)}for(g=pa.needsContext.test(a)?0:k.length;g--;){l=k[g];if(y.relative[m=l.type])break;if(m=y.find[m])if(f=m(l.matches[0].replace(Ca,Ba),X.test(k[0].type)&&r(b.parentNode)||b)){k.splice(g,1);a=f.length&&q(k);if(!a)return Ya.apply(e,f),e;break}}}(h||F(a,n))(f,
b,!Ea,e,!b||X.test(a)&&r(b.parentNode)||b);return e};C.sortStable=M.split("").sort(ca).join("")===M;C.detectDuplicates=!!N;O();C.sortDetached=g(function(a){return a.compareDocumentPosition(da.createElement("div"))&1});g(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||k("type|href|height|width",function(a,b,e){if(!e)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});C.attributes&&g(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value",
"");return""===a.firstChild.getAttribute("value")})||k("value",function(a,b,e){if(!e&&"input"===a.nodeName.toLowerCase())return a.defaultValue});g(function(a){return null==a.getAttribute("disabled")})||k("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,e){var f;if(!e)return!0===a[b]?b.toLowerCase():(f=a.getAttributeNode(b))&&f.specified?f.value:null});return b}(a);v.find=K;v.expr=K.selectors;v.expr[":"]=v.expr.pseudos;
v.uniqueSort=v.unique=K.uniqueSort;v.text=K.getText;v.isXMLDoc=K.isXML;v.contains=K.contains;var Ya=function(a,b,e){for(var f=[],g=void 0!==e;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(g&&v(a).is(e))break;f.push(a)}return f},Hb=function(a,b){for(var e=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&e.push(a);return e},za=v.expr.match.needsContext,Aa=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,X=/^.[^:#\[\.,]*$/;v.filter=function(a,b,e){var f=b[0];e&&(a=":not("+a+")");return 1===b.length&&1===f.nodeType?v.find.matchesSelector(f,
a)?[f]:[]:v.find.matches(a,v.grep(b,function(a){return 1===a.nodeType}))};v.fn.extend({find:function(a){var b,e=this.length,f=[],g=this;if("string"!==typeof a)return this.pushStack(v(a).filter(function(){for(b=0;b<e;b++)if(v.contains(g[b],this))return!0}));for(b=0;b<e;b++)v.find(a,g[b],f);f=this.pushStack(1<e?v.unique(f):f);f.selector=this.selector?this.selector+" "+a:a;return f},filter:function(a){return this.pushStack(b(this,a||[],!1))},not:function(a){return this.pushStack(b(this,a||[],!0))},is:function(a){return!!b(this,
"string"===typeof a&&za.test(a)?v(a):a||[],!1).length}});var Na,ka=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(v.fn.init=function(a,b,e){var f;if(!a)return this;e=e||Na;if("string"===typeof a){f="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:ka.exec(a);if(!f||!f[1]&&b)return!b||b.jquery?(b||e).find(a):this.constructor(b).find(a);if(f[1]){if(b=b instanceof v?b[0]:b,v.merge(this,v.parseHTML(f[1],b&&b.nodeType?b.ownerDocument||b:ia,!0)),Aa.test(f[1])&&v.isPlainObject(b))for(f in b)if(v.isFunction(this[f]))this[f](b[f]);
else this.attr(f,b[f])}else(b=ia.getElementById(f[2]))&&b.parentNode&&(this.length=1,this[0]=b),this.context=ia,this.selector=a;return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(v.isFunction(a))return void 0!==e.ready?e.ready(a):a(v);void 0!==a.selector&&(this.selector=a.selector,this.context=a.context);return v.makeArray(a,this)}).prototype=v.fn;Na=v(ia);var ga=/^(?:parents|prev(?:Until|All))/,ea={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({has:function(a){var b=
v(a,this),e=b.length;return this.filter(function(){for(var a=0;a<e;a++)if(v.contains(this,b[a]))return!0})},closest:function(a,b){for(var e,f=0,g=this.length,k=[],l=za.test(a)||"string"!==typeof a?v(a,b||this.context):0;f<g;f++)for(e=this[f];e&&e!==b;e=e.parentNode)if(11>e.nodeType&&(l?-1<l.index(e):1===e.nodeType&&v.find.matchesSelector(e,a))){k.push(e);break}return this.pushStack(1<k.length?v.uniqueSort(k):k)},index:function(a){return a?"string"===typeof a?eb.call(v(a),this[0]):eb.call(this,a.jquery?
a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(v.uniqueSort(v.merge(this.get(),v(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});v.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return Ya(a,"parentNode")},parentsUntil:function(a,b,e){return Ya(a,"parentNode",e)},next:function(a){return g(a,"nextSibling")},prev:function(a){return g(a,"previousSibling")},
nextAll:function(a){return Ya(a,"nextSibling")},prevAll:function(a){return Ya(a,"previousSibling")},nextUntil:function(a,b,e){return Ya(a,"nextSibling",e)},prevUntil:function(a,b,e){return Ya(a,"previousSibling",e)},siblings:function(a){return Hb((a.parentNode||{}).firstChild,a)},children:function(a){return Hb(a.firstChild)},contents:function(a){return a.contentDocument||v.merge([],a.childNodes)}},function(a,b){v.fn[a]=function(e,f){var g=v.map(this,b,e);"Until"!==a.slice(-5)&&(f=e);f&&"string"===
typeof f&&(g=v.filter(f,g));1<this.length&&(ea[a]||v.uniqueSort(g),ga.test(a)&&g.reverse());return this.pushStack(g)}});var wa=/\S+/g;v.Callbacks=function(a){a="string"===typeof a?f(a):v.extend({},a);var b,e,g,k,l=[],m=[],h=-1,n=function(){k=a.once;for(g=b=!0;m.length;h=-1)for(e=m.shift();++h<l.length;)!1===l[h].apply(e[0],e[1])&&a.stopOnFalse&&(h=l.length,e=!1);a.memory||(e=!1);b=!1;k&&(l=e?[]:"")},r={add:function(){l&&(e&&!b&&(h=l.length-1,m.push(e)),function mc(b){v.each(b,function(b,e){v.isFunction(e)?
a.unique&&r.has(e)||l.push(e):e&&e.length&&"string"!==v.type(e)&&mc(e)})}(arguments),e&&!b&&n());return this},remove:function(){v.each(arguments,function(a,b){for(var e;-1<(e=v.inArray(b,l,e));)l.splice(e,1),e<=h&&h--});return this},has:function(a){return a?-1<v.inArray(a,l):0<l.length},empty:function(){l&&(l=[]);return this},disable:function(){k=m=[];l=e="";return this},disabled:function(){return!l},lock:function(){k=m=[];e||(l=e="");return this},locked:function(){return!!k},fireWith:function(a,
e){k||(e=e||[],e=[a,e.slice?e.slice():e],m.push(e),b||n());return this},fire:function(){r.fireWith(this,arguments);return this},fired:function(){return!!g}};return r};v.extend({Deferred:function(a){var b=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],e="pending",f={state:function(){return e},always:function(){g.done(arguments).fail(arguments);return this},then:function(){var a=arguments;
return v.Deferred(function(e){v.each(b,function(b,k){var l=v.isFunction(a[b])&&a[b];g[k[1]](function(){var a=l&&l.apply(this,arguments);if(a&&v.isFunction(a.promise))a.promise().progress(e.notify).done(e.resolve).fail(e.reject);else e[k[0]+"With"](this===f?e.promise():this,l?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?v.extend(a,f):f}},g={};f.pipe=f.then;v.each(b,function(a,k){var l=k[2],m=k[3];f[k[1]]=l.add;m&&l.add(function(){e=m},b[a^1][2].disable,b[2][2].lock);g[k[0]]=
function(){g[k[0]+"With"](this===g?f:this,arguments);return this};g[k[0]+"With"]=l.fireWith});f.promise(g);a&&a.call(g,g);return g},when:function(a){var b=0,e=Qa.call(arguments),f=e.length,g=1!==f||a&&v.isFunction(a.promise)?f:0,k=1===g?a:v.Deferred(),l=function(a,b,e){return function(f){b[a]=this;e[a]=1<arguments.length?Qa.call(arguments):f;e===m?k.notifyWith(b,e):--g||k.resolveWith(b,e)}},m,h,n;if(1<f)for(m=Array(f),h=Array(f),n=Array(f);b<f;b++)e[b]&&v.isFunction(e[b].promise)?e[b].promise().progress(l(b,
h,m)).done(l(b,n,e)).fail(k.reject):--g;g||k.resolveWith(n,e);return k.promise()}});var Q;v.fn.ready=function(a){v.ready.promise().done(a);return this};v.extend({isReady:!1,readyWait:1,holdReady:function(a){a?v.readyWait++:v.ready(!0)},ready:function(a){(!0===a?--v.readyWait:v.isReady)||(v.isReady=!0,!0!==a&&0<--v.readyWait||(Q.resolveWith(ia,[v]),v.fn.triggerHandler&&(v(ia).triggerHandler("ready"),v(ia).off("ready"))))}});v.ready.promise=function(b){Q||(Q=v.Deferred(),"complete"===ia.readyState||
"loading"!==ia.readyState&&!ia.documentElement.doScroll?a.setTimeout(v.ready):(ia.addEventListener("DOMContentLoaded",l),a.addEventListener("load",l)));return Q.promise(b)};v.ready.promise();var va=function(a,b,e,f,g,k,l){var m=0,h=a.length,n=null==e;if("object"===v.type(e))for(m in g=!0,e)va(a,b,m,e[m],!0,k,l);else if(void 0!==f&&(g=!0,v.isFunction(f)||(l=!0),n&&(l?(b.call(a,f),b=null):(n=b,b=function(a,b,e){return n.call(v(a),e)})),b))for(;m<h;m++)b(a[m],e,l?f:f.call(a[m],m,b(a[m],e)));return g?
a:n?b.call(a):h?b(a[0],e):k},fa=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};k.uid=1;k.prototype={register:function(a,b){var e=b||{};a.nodeType?a[this.expando]=e:Object.defineProperty(a,this.expando,{value:e,writable:!0,configurable:!0});return a[this.expando]},cache:function(a){if(!fa(a))return{};var b=a[this.expando];b||(b={},fa(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0})));return b},set:function(a,b,e){var f;a=this.cache(a);
if("string"===typeof b)a[b]=e;else for(f in b)a[f]=b[f];return a},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,e){if(void 0===b||b&&"string"===typeof b&&void 0===e)return e=this.get(a,b),void 0!==e?e:this.get(a,v.camelCase(b));this.set(a,b,e);return void 0!==e?e:b},remove:function(a,b){var e,f,g=a[this.expando];if(void 0!==g){if(void 0===b)this.register(a);else for(v.isArray(b)?f=b.concat(b.map(v.camelCase)):(e=v.camelCase(b),b in g?f=
[b,e]:(f=e,f=f in g?[f]:f.match(wa)||[])),e=f.length;e--;)delete g[f[e]];if(void 0===b||v.isEmptyObject(g))a.nodeType?a[this.expando]=void 0:delete a[this.expando]}},hasData:function(a){a=a[this.expando];return void 0!==a&&!v.isEmptyObject(a)}};var ba=new k,ra=new k,bb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ta=/[A-Z]/g;v.extend({hasData:function(a){return ra.hasData(a)||ba.hasData(a)},data:function(a,b,e){return ra.access(a,b,e)},removeData:function(a,b){ra.remove(a,b)},_data:function(a,b,e){return ba.access(a,
b,e)},_removeData:function(a,b){ba.remove(a,b)}});v.fn.extend({data:function(a,b){var e,f,g,k=this[0],l=k&&k.attributes;if(void 0===a){if(this.length&&(g=ra.get(k),1===k.nodeType&&!ba.get(k,"hasDataAttrs"))){for(e=l.length;e--;)l[e]&&(f=l[e].name,0===f.indexOf("data-")&&(f=v.camelCase(f.slice(5)),n(k,f,g[f])));ba.set(k,"hasDataAttrs",!0)}return g}return"object"===typeof a?this.each(function(){ra.set(this,a)}):va(this,function(b){var e,f;if(k&&void 0===b){e=ra.get(k,a)||ra.get(k,a.replace(Ta,"-$&").toLowerCase());
if(void 0!==e)return e;f=v.camelCase(a);e=ra.get(k,f);if(void 0!==e)return e;e=n(k,f,void 0);if(void 0!==e)return e}else f=v.camelCase(a),this.each(function(){var e=ra.get(this,f);ra.set(this,f,b);-1<a.indexOf("-")&&void 0!==e&&ra.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){ra.remove(this,a)})}});v.extend({queue:function(a,b,e){var f;if(a)return b=(b||"fx")+"queue",f=ba.get(a,b),e&&(!f||v.isArray(e)?f=ba.access(a,b,v.makeArray(e)):f.push(e)),
f||[]},dequeue:function(a,b){b=b||"fx";var e=v.queue(a,b),f=e.length,g=e.shift(),k=v._queueHooks(a,b),l=function(){v.dequeue(a,b)};"inprogress"===g&&(g=e.shift(),f--);g&&("fx"===b&&e.unshift("inprogress"),delete k.stop,g.call(a,l,k));!f&&k&&k.empty.fire()},_queueHooks:function(a,b){var e=b+"queueHooks";return ba.get(a,e)||ba.access(a,e,{empty:v.Callbacks("once memory").add(function(){ba.remove(a,[b+"queue",e])})})}});v.fn.extend({queue:function(a,b){var e=2;"string"!==typeof a&&(b=a,a="fx",e--);return arguments.length<
e?v.queue(this[0],a):void 0===b?this:this.each(function(){var e=v.queue(this,a,b);v._queueHooks(this,a);"fx"===a&&"inprogress"!==e[0]&&v.dequeue(this,a)})},dequeue:function(a){return this.each(function(){v.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var e,f=1,g=v.Deferred(),k=this,l=this.length,m=function(){--f||g.resolveWith(k,[k])};"string"!==typeof a&&(b=a,a=void 0);for(a=a||"fx";l--;)(e=ba.get(k[l],a+"queueHooks"))&&e.empty&&(f++,e.empty.add(m));
m();return g.promise(b)}});var na=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ma=new RegExp("^(?:([+-])=|)("+na+")([a-z%]*)$","i"),ua=["Top","Right","Bottom","Left"],Oa=function(a,b){a=b||a;return"none"===v.css(a,"display")||!v.contains(a.ownerDocument,a)},Za=/^(?:checkbox|radio)$/i,kb=/<([\w:-]+)/,Ga=/^$|\/(?:java|ecma)script/i,ha={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ha.optgroup=ha.option;ha.tbody=ha.tfoot=ha.colgroup=ha.caption=ha.thead;ha.th=ha.td;var wb=/<|&#?\w+;/;(function(){var a=ia.createDocumentFragment().appendChild(ia.createElement("div")),b=ia.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");a.appendChild(b);ja.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";ja.noCloneChecked=
!!a.cloneNode(!0).lastChild.defaultValue})();var Bb=/^key/,ya=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ta=/^([^.]*)(?:\.(.+)|)/;v.event={global:{},add:function(a,b,e,f,g){var k,l,m,h,n,r,p,q,w;if(n=ba.get(a))for(e.handler&&(k=e,e=k.handler,g=k.selector),e.guid||(e.guid=v.guid++),(h=n.events)||(h=n.events={}),(l=n.handle)||(l=n.handle=function(b){return"undefined"!==typeof v&&v.event.triggered!==b.type?v.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(wa)||[""],n=b.length;n--;)m=
ta.exec(b[n])||[],q=r=m[1],w=(m[2]||"").split(".").sort(),q&&(m=v.event.special[q]||{},q=(g?m.delegateType:m.bindType)||q,m=v.event.special[q]||{},r=v.extend({type:q,origType:r,data:f,handler:e,guid:e.guid,selector:g,needsContext:g&&v.expr.match.needsContext.test(g),namespace:w.join(".")},k),(p=h[q])||(p=h[q]=[],p.delegateCount=0,m.setup&&!1!==m.setup.call(a,f,w,l)||a.addEventListener&&a.addEventListener(q,l)),m.add&&(m.add.call(a,r),r.handler.guid||(r.handler.guid=e.guid)),g?p.splice(p.delegateCount++,
0,r):p.push(r),v.event.global[q]=!0)},remove:function(a,b,e,f,g){var k,l,m,h,n,r,p,q,w,u,A,t=ba.hasData(a)&&ba.get(a);if(t&&(h=t.events)){b=(b||"").match(wa)||[""];for(n=b.length;n--;)if(m=ta.exec(b[n])||[],w=A=m[1],u=(m[2]||"").split(".").sort(),w){p=v.event.special[w]||{};w=(f?p.delegateType:p.bindType)||w;q=h[w]||[];m=m[2]&&new RegExp("(^|\\.)"+u.join("\\.(?:.*\\.|)")+"(\\.|$)");for(l=k=q.length;k--;)r=q[k],!g&&A!==r.origType||e&&e.guid!==r.guid||m&&!m.test(r.namespace)||f&&f!==r.selector&&("**"!==
f||!r.selector)||(q.splice(k,1),r.selector&&q.delegateCount--,p.remove&&p.remove.call(a,r));l&&!q.length&&(p.teardown&&!1!==p.teardown.call(a,u,t.handle)||v.removeEvent(a,w,t.handle),delete h[w])}else for(w in h)v.event.remove(a,w+b[n],e,f,!0);v.isEmptyObject(h)&&ba.remove(a,"handle events")}},dispatch:function(a){a=v.event.fix(a);var b,e,f,g,k=[],l=Qa.call(arguments);b=(ba.get(this,"events")||{})[a.type]||[];var m=v.event.special[a.type]||{};l[0]=a;a.delegateTarget=this;if(!m.preDispatch||!1!==m.preDispatch.call(this,
a)){k=v.event.handlers.call(this,a,b);for(b=0;(g=k[b++])&&!a.isPropagationStopped();)for(a.currentTarget=g.elem,e=0;(f=g.handlers[e++])&&!a.isImmediatePropagationStopped();)if(!a.rnamespace||a.rnamespace.test(f.namespace))a.handleObj=f,a.data=f.data,f=((v.event.special[f.origType]||{}).handle||f.handler).apply(g.elem,l),void 0!==f&&!1===(a.result=f)&&(a.preventDefault(),a.stopPropagation());m.postDispatch&&m.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var e,f,g,k,l=[],m=b.delegateCount,
h=a.target;if(m&&h.nodeType&&("click"!==a.type||isNaN(a.button)||1>a.button))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&(!0!==h.disabled||"click"!==a.type)){f=[];for(e=0;e<m;e++)k=b[e],g=k.selector+" ",void 0===f[g]&&(f[g]=k.needsContext?-1<v(g,this).index(h):v.find(g,this,null,[h]).length),f[g]&&f.push(k);f.length&&l.push({elem:h,handlers:f})}m<b.length&&l.push({elem:this,handlers:b.slice(m)});return l},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var e,f,g=b.button;null==a.pageX&&null!=b.clientX&&(e=a.target.ownerDocument||ia,f=e.documentElement,e=e.body,a.pageX=b.clientX+(f&&f.scrollLeft||e&&e.scrollLeft||0)-(f&&f.clientLeft||e&&e.clientLeft||0),a.pageY=
b.clientY+(f&&f.scrollTop||e&&e.scrollTop||0)-(f&&f.clientTop||e&&e.clientTop||0));a.which||void 0===g||(a.which=g&1?1:g&2?3:g&4?2:0);return a}},fix:function(a){if(a[v.expando])return a;var b,e,f;b=a.type;var g=a,k=this.fixHooks[b];k||(this.fixHooks[b]=k=ya.test(b)?this.mouseHooks:Bb.test(b)?this.keyHooks:{});f=k.props?this.props.concat(k.props):this.props;a=new v.Event(g);for(b=f.length;b--;)e=f[b],a[e]=g[e];a.target||(a.target=ia);3===a.target.nodeType&&(a.target=a.target.parentNode);return k.filter?
k.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==y()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===y()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&v.nodeName(this,"input"))return this.click(),!1},_default:function(a){return v.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=
a.result)}}}};v.removeEvent=function(a,b,e){a.removeEventListener&&a.removeEventListener(b,e)};v.Event=function(a,b){if(!(this instanceof v.Event))return new v.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?t:u):this.type=a;b&&v.extend(this,b);this.timeStamp=a&&a.timeStamp||v.now();this[v.expando]=!0};v.Event.prototype={constructor:v.Event,isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,
isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=t;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=t;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=t;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};v.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",
pointerleave:"pointerout"},function(a,b){v.event.special[a]={delegateType:b,bindType:b,handle:function(a){var e,f=a.relatedTarget,g=a.handleObj;if(!f||f!==this&&!v.contains(this,f))a.type=g.origType,e=g.handler.apply(this,arguments),a.type=b;return e}}});v.fn.extend({on:function(a,b,e,f){return x(this,a,b,e,f)},one:function(a,b,e,f){return x(this,a,b,e,f,1)},off:function(a,b,e){var f;if(a&&a.preventDefault&&a.handleObj)return f=a.handleObj,v(a.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:
f.origType,f.selector,f.handler),this;if("object"===typeof a){for(f in a)this.off(f,b,a[f]);return this}if(!1===b||"function"===typeof b)e=b,b=void 0;!1===e&&(e=u);return this.each(function(){v.event.remove(this,a,e,b)})}});var xb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Va=/<script|<style|<link/i,Ea=/checked\s*(?:[^=]|=\s*.checked.)/i,Ua=/^true\/(.*)/,db=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;v.extend({htmlPrefilter:function(a){return a.replace(xb,"<$1></$2>")},
clone:function(a,b,e){var f,g,k,l,m=a.cloneNode(!0),h=v.contains(a.ownerDocument,a);if(!(ja.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||v.isXMLDoc(a)))for(l=p(m),k=p(a),f=0,g=k.length;f<g;f++){var n=k[f],r=l[f],u=r.nodeName.toLowerCase();if("input"===u&&Za.test(n.type))r.checked=n.checked;else if("input"===u||"textarea"===u)r.defaultValue=n.defaultValue}if(b)if(e)for(k=k||p(a),l=l||p(m),f=0,g=k.length;f<g;f++)w(k[f],l[f]);else w(a,m);l=p(m,"script");0<l.length&&q(l,!h&&p(a,"script"));return m},
cleanData:function(a){for(var b,e,f,g=v.event.special,k=0;void 0!==(e=a[k]);k++)if(fa(e)){if(b=e[ba.expando]){if(b.events)for(f in b.events)g[f]?v.event.remove(e,f):v.removeEvent(e,f,b.handle);e[ba.expando]=void 0}e[ra.expando]&&(e[ra.expando]=void 0)}}});v.fn.extend({domManip:A,detach:function(a){return C(this,a,!0)},remove:function(a){return C(this,a)},text:function(a){return va(this,function(a){return void 0===a?v.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||
9===this.nodeType)this.textContent=a})},null,a,arguments.length)},append:function(){return A(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||z(this,a).appendChild(a)})},prepend:function(){return A(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=z(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return A(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return A(this,
arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(v.cleanData(p(a,!1)),a.textContent="");return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return v.clone(this,a,b)})},html:function(a){return va(this,function(a){var b=this[0]||{},e=0,f=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"===typeof a&&!Va.test(a)&&!ha[(kb.exec(a)||["",
""])[1].toLowerCase()]){a=v.htmlPrefilter(a);try{for(;e<f;e++)b=this[e]||{},1===b.nodeType&&(v.cleanData(p(b,!1)),b.innerHTML=a);b=0}catch(g){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return A(this,arguments,function(b){var e=this.parentNode;0>v.inArray(this,a)&&(v.cleanData(p(this)),e&&e.replaceChild(b,this))},a)}});v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){v.fn[a]=function(a){for(var e=
[],f=v(a),g=f.length-1,k=0;k<=g;k++)a=k===g?this:this.clone(!0),v(f[k])[b](a),Ja.apply(e,a.get());return this.pushStack(e)}});var lb,sb={HTML:"block",BODY:"block"},cb=/^margin/,Ca=new RegExp("^("+na+")(?!px)[a-z%]+$","i"),Ha=function(b){var e=b.ownerDocument.defaultView;e&&e.opener||(e=a);return e.getComputedStyle(b)},$a=function(a,b,e,f){var g,k={};for(g in b)k[g]=a.style[g],a.style[g]=b[g];e=e.apply(a,f||[]);for(g in b)a.style[g]=k[g];return e},Fa=ia.documentElement;(function(){function b(){m.style.cssText=
"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";m.innerHTML="";Fa.appendChild(l);var h=a.getComputedStyle(m);e="1%"!==h.top;k="2px"===h.marginLeft;f="4px"===h.width;m.style.marginRight="50%";g="4px"===h.marginRight;Fa.removeChild(l)}var e,f,g,k,l=ia.createElement("div"),m=ia.createElement("div");m.style&&(m.style.backgroundClip="content-box",m.cloneNode(!0).style.backgroundClip="",
ja.clearCloneStyle="content-box"===m.style.backgroundClip,l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.appendChild(m),v.extend(ja,{pixelPosition:function(){b();return e},boxSizingReliable:function(){null==f&&b();return f},pixelMarginRight:function(){null==f&&b();return g},reliableMarginLeft:function(){null==f&&b();return k},reliableMarginRight:function(){var b,e=m.appendChild(ia.createElement("div"));e.style.cssText=m.style.cssText=
"-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";e.style.marginRight=e.style.width="0";m.style.width="1px";Fa.appendChild(l);b=!parseFloat(a.getComputedStyle(e).marginRight);Fa.removeChild(l);m.removeChild(e);return b}}))})();var rb=/^(none|table(?!-c[ea]).+)/,rc={position:"absolute",visibility:"hidden",display:"block"},F={letterSpacing:"0",fontWeight:"400"},sc=["Webkit","O","Moz","ms"],Cb=ia.createElement("div").style;v.extend({cssHooks:{opacity:{get:function(a,
b){if(b){var e=G(a,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,e,f){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,k,l,h=v.camelCase(b),n=a.style;b=v.cssProps[h]||(v.cssProps[h]=J(h)||h);l=v.cssHooks[b]||v.cssHooks[h];if(void 0!==e)k=typeof e,"string"===k&&(g=Ma.exec(e))&&g[1]&&
(e=m(a,b,g),k="number"),null!=e&&e===e&&("number"===k&&(e+=g&&g[3]||(v.cssNumber[h]?"":"px")),ja.clearCloneStyle||""!==e||0!==b.indexOf("background")||(n[b]="inherit"),l&&"set"in l&&void 0===(e=l.set(a,e,f))||(n[b]=e));else return l&&"get"in l&&void 0!==(g=l.get(a,!1,f))?g:n[b]}},css:function(a,b,e,f){var g,k;k=v.camelCase(b);b=v.cssProps[k]||(v.cssProps[k]=J(k)||k);(k=v.cssHooks[b]||v.cssHooks[k])&&"get"in k&&(g=k.get(a,!0,e));void 0===g&&(g=G(a,b,f));"normal"===g&&b in F&&(g=F[b]);return""===e||
e?(a=parseFloat(g),!0===e||isFinite(a)?a||0:g):g}});v.each(["height","width"],function(a,b){v.cssHooks[b]={get:function(a,e,f){if(e)return rb.test(v.css(a,"display"))&&0===a.offsetWidth?$a(a,rc,function(){return P(a,b,f)}):P(a,b,f)},set:function(a,e,f){var g,k=f&&Ha(a);(f=f&&L(a,b,f,"border-box"===v.css(a,"boxSizing",!1,k),k))&&(g=Ma.exec(e))&&"px"!==(g[3]||"px")&&(a.style[b]=e,e=v.css(a,b));return M(a,e,f)}}});v.cssHooks.marginLeft=O(ja.reliableMarginLeft,function(a,b){if(b)return(parseFloat(G(a,
"marginLeft"))||a.getBoundingClientRect().left-$a(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"});v.cssHooks.marginRight=O(ja.reliableMarginRight,function(a,b){if(b)return $a(a,{display:"inline-block"},G,[a,"marginRight"])});v.each({margin:"",padding:"",border:"Width"},function(a,b){v.cssHooks[a+b]={expand:function(e){var f=0,g={};for(e="string"===typeof e?e.split(" "):[e];4>f;f++)g[a+ua[f]+b]=e[f]||e[f-2]||e[0];return g}};cb.test(a)||(v.cssHooks[a+b].set=M)});v.fn.extend({css:function(a,
b){return va(this,function(a,b,e){var f,g={},k=0;if(v.isArray(b)){e=Ha(a);for(f=b.length;k<f;k++)g[b[k]]=v.css(a,b[k],!1,e);return g}return void 0!==e?v.style(a,b,e):v.css(a,b)},a,b,1<arguments.length)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){Oa(this)?v(this).show():v(this).hide()})}});v.Tween=V;V.prototype={constructor:V,init:function(a,b,e,f,g,k){this.elem=a;this.prop=e;this.easing=
g||v.easing._default;this.options=b;this.start=this.now=this.cur();this.end=f;this.unit=k||(v.cssNumber[e]?"":"px")},cur:function(){var a=V.propHooks[this.prop];return a&&a.get?a.get(this):V.propHooks._default.get(this)},run:function(a){var b,e=V.propHooks[this.prop];this.pos=this.options.duration?b=v.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);e&&e.set?e.set(this):
V.propHooks._default.set(this);return this}};V.prototype.init.prototype=V.prototype;V.propHooks={_default:{get:function(a){return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(a=v.css(a.elem,a.prop,""))&&"auto"!==a?a:0},set:function(a){if(v.fx.step[a.prop])v.fx.step[a.prop](a);else 1!==a.elem.nodeType||null==a.elem.style[v.cssProps[a.prop]]&&!v.cssHooks[a.prop]?a.elem[a.prop]=a.now:v.style(a.elem,a.prop,a.now+a.unit)}}};V.propHooks.scrollTop=V.propHooks.scrollLeft=
{set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};v.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};v.fx=V.prototype.init;v.fx.step={};var oa,tc,Ye=/^(?:toggle|show|hide)$/,Ze=/queueHooks$/;v.Animation=v.extend(ca,{tweeners:{"*":[function(a,b){var e=this.createTween(a,b);m(e.elem,a,Ma.exec(b),e);return e}]},tweener:function(a,b){v.isFunction(a)?(b=a,a=["*"]):a=a.match(wa);for(var e,f=0,g=a.length;f<g;f++)e=a[f],ca.tweeners[e]=
ca.tweeners[e]||[],ca.tweeners[e].unshift(b)},prefilters:[function(a,b,e){var f,g,k,l,m,h,n=this,r={},p=a.style,q=a.nodeType&&Oa(a),w=ba.get(a,"fxshow");e.queue||(l=v._queueHooks(a,"fx"),null==l.unqueued&&(l.unqueued=0,m=l.empty.fire,l.empty.fire=function(){l.unqueued||m()}),l.unqueued++,n.always(function(){n.always(function(){l.unqueued--;v.queue(a,"fx").length||l.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(e.overflow=[p.overflow,p.overflowX,p.overflowY],h=v.css(a,"display"),
g="none"===h?ba.get(a,"olddisplay")||H(a.nodeName):h,"inline"===g&&"none"===v.css(a,"float")&&(p.display="inline-block"));e.overflow&&(p.overflow="hidden",n.always(function(){p.overflow=e.overflow[0];p.overflowX=e.overflow[1];p.overflowY=e.overflow[2]}));for(f in b)if(g=b[f],Ye.exec(g)){delete b[f];k=k||"toggle"===g;if(g===(q?"hide":"show"))if("show"===g&&w&&void 0!==w[f])q=!0;else continue;r[f]=w&&w[f]||v.style(a,f)}else h=void 0;if(v.isEmptyObject(r))"inline"===("none"===h?H(a.nodeName):h)&&(p.display=
h);else for(f in w?"hidden"in w&&(q=w.hidden):w=ba.access(a,"fxshow",{}),k&&(w.hidden=!q),q?v(a).show():n.done(function(){v(a).hide()}),n.done(function(){var b;ba.remove(a,"fxshow");for(b in r)v.style(a,b,r[b])}),r)b=N(q?w[f]:0,f,n),f in w||(w[f]=b.start,q&&(b.end=b.start,b.start="width"===f||"height"===f?1:0))}],prefilter:function(a,b){b?ca.prefilters.unshift(a):ca.prefilters.push(a)}});v.speed=function(a,b,e){var f=a&&"object"===typeof a?v.extend({},a):{complete:e||!e&&b||v.isFunction(a)&&a,duration:a,
easing:e&&b||b&&!v.isFunction(b)&&b};f.duration=v.fx.off?0:"number"===typeof f.duration?f.duration:f.duration in v.fx.speeds?v.fx.speeds[f.duration]:v.fx.speeds._default;if(null==f.queue||!0===f.queue)f.queue="fx";f.old=f.complete;f.complete=function(){v.isFunction(f.old)&&f.old.call(this);f.queue&&v.dequeue(this,f.queue)};return f};v.fn.extend({fadeTo:function(a,b,e,f){return this.filter(Oa).css("opacity",0).show().end().animate({opacity:b},a,e,f)},animate:function(a,b,e,f){var g=v.isEmptyObject(a),
k=v.speed(b,e,f);b=function(){var b=ca(this,v.extend({},a),k);(g||ba.get(this,"finish"))&&b.stop(!0)};b.finish=b;return g||!1===k.queue?this.each(b):this.queue(k.queue,b)},stop:function(a,b,e){var f=function(a){var b=a.stop;delete a.stop;b(e)};"string"!==typeof a&&(e=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,g=null!=a&&a+"queueHooks",k=v.timers,l=ba.get(this);if(g)l[g]&&l[g].stop&&f(l[g]);else for(g in l)l[g]&&l[g].stop&&Ze.test(g)&&f(l[g]);for(g=k.length;g--;)k[g].elem!==
this||null!=a&&k[g].queue!==a||(k[g].anim.stop(e),b=!1,k.splice(g,1));!b&&e||v.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,e=ba.get(this),f=e[a+"queue"];b=e[a+"queueHooks"];var g=v.timers,k=f?f.length:0;e.finish=!0;v.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=g.length;b--;)g[b].elem===this&&g[b].queue===a&&(g[b].anim.stop(!0),g.splice(b,1));for(b=0;b<k;b++)f[b]&&f[b].finish&&f[b].finish.call(this);delete e.finish})}});v.each(["toggle","show",
"hide"],function(a,b){var e=v.fn[b];v.fn[b]=function(a,f,g){return null==a||"boolean"===typeof a?e.apply(this,arguments):this.animate(Y(b,!0),a,f,g)}});v.each({slideDown:Y("show"),slideUp:Y("hide"),slideToggle:Y("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){v.fn[a]=function(a,e,f){return this.animate(b,a,e,f)}});v.timers=[];v.fx.tick=function(){var a,b=0,e=v.timers;for(oa=v.now();b<e.length;b++)a=e[b],a()||e[b]!==a||e.splice(b--,1);e.length||
v.fx.stop();oa=void 0};v.fx.timer=function(a){v.timers.push(a);a()?v.fx.start():v.timers.pop()};v.fx.interval=13;v.fx.start=function(){tc||(tc=a.setInterval(v.fx.tick,v.fx.interval))};v.fx.stop=function(){a.clearInterval(tc);tc=null};v.fx.speeds={slow:600,fast:200,_default:400};v.fn.delay=function(b,e){b=v.fx?v.fx.speeds[b]||b:b;return this.queue(e||"fx",function(e,f){var g=a.setTimeout(e,b);f.stop=function(){a.clearTimeout(g)}})};(function(){var a=ia.createElement("input"),b=ia.createElement("select"),
e=b.appendChild(ia.createElement("option"));a.type="checkbox";ja.checkOn=""!==a.value;ja.optSelected=e.selected;b.disabled=!0;ja.optDisabled=!e.disabled;a=ia.createElement("input");a.value="t";a.type="radio";ja.radioValue="t"===a.value})();var wd,ec=v.expr.attrHandle;v.fn.extend({attr:function(a,b){return va(this,v.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){v.removeAttr(this,a)})}});v.extend({attr:function(a,b,e){var f,g,k=a.nodeType;if(3!==k&&8!==k&&2!==k){if("undefined"===
typeof a.getAttribute)return v.prop(a,b,e);1===k&&v.isXMLDoc(a)||(b=b.toLowerCase(),g=v.attrHooks[b]||(v.expr.match.bool.test(b)?wd:void 0));if(void 0!==e){if(null===e){v.removeAttr(a,b);return}if(g&&"set"in g&&void 0!==(f=g.set(a,e,b)))return f;a.setAttribute(b,e+"");return e}if(g&&"get"in g&&null!==(f=g.get(a,b)))return f;f=v.find.attr(a,b);return null==f?void 0:f}},attrHooks:{type:{set:function(a,b){if(!ja.radioValue&&"radio"===b&&v.nodeName(a,"input")){var e=a.value;a.setAttribute("type",b);e&&
(a.value=e);return b}}}},removeAttr:function(a,b){var e,f,g=0,k=b&&b.match(wa);if(k&&1===a.nodeType)for(;e=k[g++];)f=v.propFix[e]||e,v.expr.match.bool.test(e)&&(a[f]=!1),a.removeAttribute(e)}});wd={set:function(a,b,e){!1===b?v.removeAttr(a,e):a.setAttribute(e,e);return e}};v.each(v.expr.match.bool.source.match(/\w+/g),function(a,b){var e=ec[b]||v.find.attr;ec[b]=function(a,b,f){var g,k;f||(k=ec[b],ec[b]=g,g=null!=e(a,b,f)?b.toLowerCase():null,ec[b]=k);return g}});var $e=/^(?:input|select|textarea|button)$/i,
af=/^(?:a|area)$/i;v.fn.extend({prop:function(a,b){return va(this,v.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[v.propFix[a]||a]})}});v.extend({prop:function(a,b,e){var f,g,k=a.nodeType;if(3!==k&&8!==k&&2!==k)return 1===k&&v.isXMLDoc(a)||(b=v.propFix[b]||b,g=v.propHooks[b]),void 0!==e?g&&"set"in g&&void 0!==(f=g.set(a,e,b))?f:a[b]=e:g&&"get"in g&&null!==(f=g.get(a,b))?f:a[b]},propHooks:{tabIndex:{get:function(a){var b=v.find.attr(a,"tabindex");return b?
parseInt(b,10):$e.test(a.nodeName)||af.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});ja.optSelected||(v.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null},set:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex}});v.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){v.propFix[this.toLowerCase()]=
this});var Rc=/[\t\r\n\f]/g;v.fn.extend({addClass:function(a){var b,e,f,g,k,l,m=0;if(v.isFunction(a))return this.each(function(b){v(this).addClass(a.call(this,b,U(this)))});if("string"===typeof a&&a)for(b=a.match(wa)||[];e=this[m++];)if(g=U(e),f=1===e.nodeType&&(" "+g+" ").replace(Rc," ")){for(l=0;k=b[l++];)0>f.indexOf(" "+k+" ")&&(f+=k+" ");f=v.trim(f);g!==f&&e.setAttribute("class",f)}return this},removeClass:function(a){var b,e,f,g,k,l,m=0;if(v.isFunction(a))return this.each(function(b){v(this).removeClass(a.call(this,
b,U(this)))});if(!arguments.length)return this.attr("class","");if("string"===typeof a&&a)for(b=a.match(wa)||[];e=this[m++];)if(g=U(e),f=1===e.nodeType&&(" "+g+" ").replace(Rc," ")){for(l=0;k=b[l++];)for(;-1<f.indexOf(" "+k+" ");)f=f.replace(" "+k+" "," ");f=v.trim(f);g!==f&&e.setAttribute("class",f)}return this},toggleClass:function(a,b){var e=typeof a;return"boolean"===typeof b&&"string"===e?b?this.addClass(a):this.removeClass(a):v.isFunction(a)?this.each(function(e){v(this).toggleClass(a.call(this,
e,U(this),b),b)}):this.each(function(){var b,f,g,k;if("string"===e)for(f=0,g=v(this),k=a.match(wa)||[];b=k[f++];)g.hasClass(b)?g.removeClass(b):g.addClass(b);else if(void 0===a||"boolean"===e)(b=U(this))&&ba.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":ba.get(this,"__className__")||"")})},hasClass:function(a){var b,e=0;for(a=" "+a+" ";b=this[e++];)if(1===b.nodeType&&-1<(" "+U(b)+" ").replace(Rc," ").indexOf(a))return!0;return!1}});var bf=/\r/g,xc=/[\x20\t\r\n\f]+/g;
v.fn.extend({val:function(a){var b,e,f,g=this[0];if(arguments.length)return f=v.isFunction(a),this.each(function(e){1===this.nodeType&&(e=f?a.call(this,e,v(this).val()):a,null==e?e="":"number"===typeof e?e+="":v.isArray(e)&&(e=v.map(e,function(a){return null==a?"":a+""})),b=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(g){if((b=v.valHooks[g.type]||v.valHooks[g.nodeName.toLowerCase()])&&"get"in b&&void 0!==(e=b.get(g,
"value")))return e;e=g.value;return"string"===typeof e?e.replace(bf,""):null==e?"":e}}});v.extend({valHooks:{option:{get:function(a){var b=v.find.attr(a,"value");return null!=b?b:v.trim(v.text(a)).replace(xc," ")}},select:{get:function(a){for(var b,e=a.options,f=a.selectedIndex,g=(a="select-one"===a.type||0>f)?null:[],k=a?f+1:e.length,l=0>f?k:a?f:0;l<k;l++)if(b=e[l],!(!b.selected&&l!==f||(ja.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&v.nodeName(b.parentNode,
"optgroup"))){b=v(b).val();if(a)return b;g.push(b)}return g},set:function(a,b){for(var e,f,g=a.options,k=v.makeArray(b),l=g.length;l--;)if(f=g[l],f.selected=-1<v.inArray(v.valHooks.option.get(f),k))e=!0;e||(a.selectedIndex=-1);return k}}}});v.each(["radio","checkbox"],function(){v.valHooks[this]={set:function(a,b){if(v.isArray(b))return a.checked=-1<v.inArray(v(a).val(),b)}};ja.checkOn||(v.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var fc=/^(?:focusinfocus|focusoutblur)$/;
v.extend(v.event,{trigger:function(b,e,f,g){var k,l,m,h,n,r,p=[f||ia],q=jb.call(b,"type")?b.type:b;r=jb.call(b,"namespace")?b.namespace.split("."):[];l=k=f=f||ia;if(3!==f.nodeType&&8!==f.nodeType&&!fc.test(q+v.event.triggered)&&(-1<q.indexOf(".")&&(r=q.split("."),q=r.shift(),r.sort()),h=0>q.indexOf(":")&&"on"+q,b=b[v.expando]?b:new v.Event(q,"object"===typeof b&&b),b.isTrigger=g?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=
void 0,b.target||(b.target=f),e=null==e?[b]:v.makeArray(e,[b]),r=v.event.special[q]||{},g||!r.trigger||!1!==r.trigger.apply(f,e))){if(!g&&!r.noBubble&&!v.isWindow(f)){m=r.delegateType||q;fc.test(m+q)||(l=l.parentNode);for(;l;l=l.parentNode)p.push(l),k=l;k===(f.ownerDocument||ia)&&p.push(k.defaultView||k.parentWindow||a)}for(k=0;(l=p[k++])&&!b.isPropagationStopped();)b.type=1<k?m:r.bindType||q,(n=(ba.get(l,"events")||{})[b.type]&&ba.get(l,"handle"))&&n.apply(l,e),(n=h&&l[h])&&n.apply&&fa(l)&&(b.result=
n.apply(l,e),!1===b.result&&b.preventDefault());b.type=q;g||b.isDefaultPrevented()||r._default&&!1!==r._default.apply(p.pop(),e)||!fa(f)||!h||!v.isFunction(f[q])||v.isWindow(f)||((k=f[h])&&(f[h]=null),v.event.triggered=q,f[q](),v.event.triggered=void 0,k&&(f[h]=k));return b.result}},simulate:function(a,b,e){a=v.extend(new v.Event,e,{type:a,isSimulated:!0});v.event.trigger(a,null,b)}});v.fn.extend({trigger:function(a,b){return this.each(function(){v.event.trigger(a,b,this)})},triggerHandler:function(a,
b){var e=this[0];if(e)return v.event.trigger(a,b,e,!0)}});v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){v.fn[b]=function(a,e){return 0<arguments.length?this.on(b,null,a,e):this.trigger(b)}});v.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});ja.focusin="onfocusin"in a;ja.focusin||v.each({focus:"focusin",
blur:"focusout"},function(a,b){var e=function(a){v.event.simulate(b,a.target,v.event.fix(a))};v.event.special[b]={setup:function(){var f=this.ownerDocument||this,g=ba.access(f,b);g||f.addEventListener(a,e,!0);ba.access(f,b,(g||0)+1)},teardown:function(){var f=this.ownerDocument||this,g=ba.access(f,b)-1;g?ba.access(f,b,g):(f.removeEventListener(a,e,!0),ba.remove(f,b))}}});var Ib=a.location,Ob=v.now(),Eb=/\?/;v.parseJSON=function(a){return JSON.parse(a+"")};v.parseXML=function(b){var e;if(!b||"string"!==
typeof b)return null;try{e=(new a.DOMParser).parseFromString(b,"text/xml")}catch(f){e=void 0}e&&!e.getElementsByTagName("parsererror").length||v.error("Invalid XML: "+b);return e};var yc=/#.*$/,gc=/([?&])_=[^&]*/,Xb=/^(.*?):[ \t]*([^\r\n]*)$/mg,Fb=/^(?:GET|HEAD)$/,Bc=/^\/\//,Kb={},hc={},Dc="*/".concat("*"),Zb=ia.createElement("a");Zb.href=Ib.href;v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ib.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ib.protocol),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?
ma(ma(a,v.ajaxSettings),b):ma(v.ajaxSettings,a)},ajaxPrefilter:la(Kb),ajaxTransport:la(hc),ajax:function(b,e){function f(b,e,m,n){var p,z,E,y;y=e;if(2!==C){C=2;h&&a.clearTimeout(h);g=void 0;l=n||"";D.readyState=0<b?4:0;n=200<=b&&300>b||304===b;if(m){E=q;for(var B=D,H,F,G,Y,N=E.contents,da=E.dataTypes;"*"===da[0];)da.shift(),void 0===H&&(H=E.mimeType||B.getResponseHeader("Content-Type"));if(H)for(F in N)if(N[F]&&N[F].test(H)){da.unshift(F);break}if(da[0]in m)G=da[0];else{for(F in m){if(!da[0]||E.converters[F+
" "+da[0]]){G=F;break}Y||(Y=F)}G=G||Y}G?(G!==da[0]&&da.unshift(G),E=m[G]):E=void 0}a:{m=q;H=E;F=D;G=n;var O,J,ha,B={},N=m.dataTypes.slice();if(N[1])for(J in m.converters)B[J.toLowerCase()]=m.converters[J];for(Y=N.shift();Y;)if(m.responseFields[Y]&&(F[m.responseFields[Y]]=H),!ha&&G&&m.dataFilter&&(H=m.dataFilter(H,m.dataType)),ha=Y,Y=N.shift())if("*"===Y)Y=ha;else if("*"!==ha&&ha!==Y){J=B[ha+" "+Y]||B["* "+Y];if(!J)for(O in B)if(E=O.split(" "),E[1]===Y&&(J=B[ha+" "+E[0]]||B["* "+E[0]])){!0===J?J=B[O]:
!0!==B[O]&&(Y=E[0],N.unshift(E[1]));break}if(!0!==J)if(J&&m["throws"])H=J(H);else try{H=J(H)}catch(Ea){E={state:"parsererror",error:J?Ea:"No conversion from "+ha+" to "+Y};break a}}E={state:"success",data:H}}if(n)q.ifModified&&((y=D.getResponseHeader("Last-Modified"))&&(v.lastModified[k]=y),(y=D.getResponseHeader("etag"))&&(v.etag[k]=y)),204===b||"HEAD"===q.type?y="nocontent":304===b?y="notmodified":(y=E.state,p=E.data,z=E.error,n=!z);else if(z=y,b||!y)y="error",0>b&&(b=0);D.status=b;D.statusText=
(e||y)+"";n?A.resolveWith(w,[p,y,D]):A.rejectWith(w,[D,y,z]);D.statusCode(x);x=void 0;r&&u.trigger(n?"ajaxSuccess":"ajaxError",[D,q,n?p:z]);t.fireWith(w,[D,y]);r&&(u.trigger("ajaxComplete",[D,q]),--v.active||v.event.trigger("ajaxStop"))}}"object"===typeof b&&(e=b,b=void 0);e=e||{};var g,k,l,m,h,n,r,p,q=v.ajaxSetup({},e),w=q.context||q,u=q.context&&(w.nodeType||w.jquery)?v(w):v.event,A=v.Deferred(),t=v.Callbacks("once memory"),x=q.statusCode||{},z={},E={},C=0,y="canceled",D={readyState:0,getResponseHeader:function(a){var b;
if(2===C){if(!m)for(m={};b=Xb.exec(l);)m[b[1].toLowerCase()]=b[2];b=m[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===C?l:null},setRequestHeader:function(a,b){var e=a.toLowerCase();C||(a=E[e]=E[e]||a,z[a]=b);return this},overrideMimeType:function(a){C||(q.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>C)for(b in a)x[b]=[x[b],a[b]];else D.always(a[D.status]);return this},abort:function(a){a=a||y;g&&g.abort(a);f(0,a);return this}};A.promise(D).complete=
t.add;D.success=D.done;D.error=D.fail;q.url=((b||q.url||Ib.href)+"").replace(yc,"").replace(Bc,Ib.protocol+"//");q.type=e.method||e.type||q.method||q.type;q.dataTypes=v.trim(q.dataType||"*").toLowerCase().match(wa)||[""];if(null==q.crossDomain){n=ia.createElement("a");try{n.href=q.url,n.href=n.href,q.crossDomain=Zb.protocol+"//"+Zb.host!==n.protocol+"//"+n.host}catch(B){q.crossDomain=!0}}q.data&&q.processData&&"string"!==typeof q.data&&(q.data=v.param(q.data,q.traditional));Z(Kb,q,e,D);if(2===C)return D;
(r=v.event&&q.global)&&0===v.active++&&v.event.trigger("ajaxStart");q.type=q.type.toUpperCase();q.hasContent=!Fb.test(q.type);k=q.url;q.hasContent||(q.data&&(k=q.url+=(Eb.test(k)?"&":"?")+q.data,delete q.data),!1===q.cache&&(q.url=gc.test(k)?k.replace(gc,"$1_="+Ob++):k+(Eb.test(k)?"&":"?")+"_="+Ob++));q.ifModified&&(v.lastModified[k]&&D.setRequestHeader("If-Modified-Since",v.lastModified[k]),v.etag[k]&&D.setRequestHeader("If-None-Match",v.etag[k]));(q.data&&q.hasContent&&!1!==q.contentType||e.contentType)&&
D.setRequestHeader("Content-Type",q.contentType);D.setRequestHeader("Accept",q.dataTypes[0]&&q.accepts[q.dataTypes[0]]?q.accepts[q.dataTypes[0]]+("*"!==q.dataTypes[0]?", "+Dc+"; q=0.01":""):q.accepts["*"]);for(p in q.headers)D.setRequestHeader(p,q.headers[p]);if(q.beforeSend&&(!1===q.beforeSend.call(w,D,q)||2===C))return D.abort();y="abort";for(p in{success:1,error:1,complete:1})D[p](q[p]);if(g=Z(hc,q,e,D)){D.readyState=1;r&&u.trigger("ajaxSend",[D,q]);if(2===C)return D;q.async&&0<q.timeout&&(h=a.setTimeout(function(){D.abort("timeout")},
q.timeout));try{C=1,g.send(z,f)}catch(H){if(2>C)f(-1,H);else throw H;}}else f(-1,"No Transport");return D},getJSON:function(a,b,e){return v.get(a,b,e,"json")},getScript:function(a,b){return v.get(a,void 0,b,"script")}});v.each(["get","post"],function(a,b){v[b]=function(a,e,f,g){v.isFunction(e)&&(g=g||f,f=e,e=void 0);return v.ajax(v.extend({url:a,type:b,dataType:g,data:e,success:f},v.isPlainObject(a)&&a))}});v._evalUrl=function(a){return v.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,
"throws":!0})};v.fn.extend({wrapAll:function(a){var b;if(v.isFunction(a))return this.each(function(b){v(this).wrapAll(a.call(this,b))});this[0]&&(b=v(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this));return this},wrapInner:function(a){return v.isFunction(a)?this.each(function(b){v(this).wrapInner(a.call(this,b))}):this.each(function(){var b=v(this),e=b.contents();
e.length?e.wrapAll(a):b.append(a)})},wrap:function(a){var b=v.isFunction(a);return this.each(function(e){v(this).wrapAll(b?a.call(this,e):a)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()}});v.expr.filters.hidden=function(a){return!v.expr.filters.visible(a)};v.expr.filters.visible=function(a){return 0<a.offsetWidth||0<a.offsetHeight||0<a.getClientRects().length};var Ec=/%20/g,ib=/\[\]$/,ic=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,
jc=/^(?:input|select|textarea|keygen)/i;v.param=function(a,b){var e,f=[],g=function(a,b){b=v.isFunction(b)?b():null==b?"":b;f[f.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};void 0===b&&(b=v.ajaxSettings&&v.ajaxSettings.traditional);if(v.isArray(a)||a.jquery&&!v.isPlainObject(a))v.each(a,function(){g(this.name,this.value)});else for(e in a)pa(e,a[e],b,g);return f.join("&").replace(Ec,"+")};v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=
v.prop(this,"elements");return a?v.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!v(this).is(":disabled")&&jc.test(this.nodeName)&&!yb.test(a)&&(this.checked||!Za.test(a))}).map(function(a,b){var e=v(this).val();return null==e?null:v.isArray(e)?v.map(e,function(a){return{name:b.name,value:a.replace(ic,"\r\n")}}):{name:b.name,value:e.replace(ic,"\r\n")}}).get()}});v.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var kc={0:200,1223:204},qb=v.ajaxSettings.xhr();
ja.cors=!!qb&&"withCredentials"in qb;ja.ajax=qb=!!qb;v.ajaxTransport(function(b){var e,f;if(ja.cors||qb&&!b.crossDomain)return{send:function(g,k){var l,m=b.xhr();m.open(b.type,b.url,b.async,b.username,b.password);if(b.xhrFields)for(l in b.xhrFields)m[l]=b.xhrFields[l];b.mimeType&&m.overrideMimeType&&m.overrideMimeType(b.mimeType);b.crossDomain||g["X-Requested-With"]||(g["X-Requested-With"]="XMLHttpRequest");for(l in g)m.setRequestHeader(l,g[l]);e=function(a){return function(){e&&(e=f=m.onload=m.onerror=
m.onabort=m.onreadystatechange=null,"abort"===a?m.abort():"error"===a?"number"!==typeof m.status?k(0,"error"):k(m.status,m.statusText):k(kc[m.status]||m.status,m.statusText,"text"!==(m.responseType||"text")||"string"!==typeof m.responseText?{binary:m.response}:{text:m.responseText},m.getAllResponseHeaders()))}};m.onload=e();f=m.onerror=e("error");void 0!==m.onabort?m.onabort=f:m.onreadystatechange=function(){4===m.readyState&&a.setTimeout(function(){e&&f()})};e=e("abort");try{m.send(b.hasContent&&
b.data||null)}catch(h){if(e)throw h;}},abort:function(){e&&e()}}});v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){v.globalEval(a);return a}}});v.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});v.ajaxTransport("script",function(a){if(a.crossDomain){var b,e;return{send:function(f,g){b=v("<script>").prop({charset:a.scriptCharset,
src:a.url}).on("load error",e=function(a){b.remove();e=null;a&&g("error"===a.type?404:200,a.type)});ia.head.appendChild(b[0])},abort:function(){e&&e()}}}});var Sb=[],ac=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Sb.pop()||v.expando+"_"+Ob++;this[a]=!0;return a}});v.ajaxPrefilter("json jsonp",function(b,e,f){var g,k,l,m=!1!==b.jsonp&&(ac.test(b.url)?"url":"string"===typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ac.test(b.data)&&
"data");if(m||"jsonp"===b.dataTypes[0])return g=b.jsonpCallback=v.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,m?b[m]=b[m].replace(ac,"$1"+g):!1!==b.jsonp&&(b.url+=(Eb.test(b.url)?"&":"?")+b.jsonp+"="+g),b.converters["script json"]=function(){l||v.error(g+" was not called");return l[0]},b.dataTypes[0]="json",k=a[g],a[g]=function(){l=arguments},f.always(function(){void 0===k?v(a).removeProp(g):a[g]=k;b[g]&&(b.jsonpCallback=e.jsonpCallback,Sb.push(g));l&&v.isFunction(k)&&k(l[0]);l=
k=void 0}),"script"});v.parseHTML=function(a,b,e){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(e=b,b=!1);b=b||ia;var f=Aa.exec(a);e=!e&&[];if(f)return[b.createElement(f[1])];f=r([a],b,e);e&&e.length&&v(e).remove();return v.merge([],f.childNodes)};var bc=v.fn.load;v.fn.load=function(a,b,e){if("string"!==typeof a&&bc)return bc.apply(this,arguments);var f,g,k,l=this,m=a.indexOf(" ");-1<m&&(f=v.trim(a.slice(m)),a=a.slice(0,m));v.isFunction(b)?(e=b,b=void 0):b&&"object"===typeof b&&(g=
"POST");0<l.length&&v.ajax({url:a,type:g||"GET",dataType:"html",data:b}).done(function(a){k=arguments;l.html(f?v("<div>").append(v.parseHTML(a)).find(f):a)}).always(e&&function(a,b){l.each(function(){e.apply(this,k||[a.responseText,b,a])})});return this};v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){v.fn[b]=function(a){return this.on(b,a)}});v.expr.filters.animated=function(a){return v.grep(v.timers,function(b){return a===b.elem}).length};v.offset=
{setOffset:function(a,b,e){var f,g,k,l=v.css(a,"position"),m=v(a),h={};"static"===l&&(a.style.position="relative");k=m.offset();g=v.css(a,"top");f=v.css(a,"left");("absolute"===l||"fixed"===l)&&-1<(g+f).indexOf("auto")?(f=m.position(),g=f.top,f=f.left):(g=parseFloat(g)||0,f=parseFloat(f)||0);v.isFunction(b)&&(b=b.call(a,e,v.extend({},k)));null!=b.top&&(h.top=b.top-k.top+g);null!=b.left&&(h.left=b.left-k.left+f);"using"in b?b.using.call(a,h):m.css(h)}};v.fn.extend({offset:function(a){if(arguments.length)return void 0===
a?this:this.each(function(b){v.offset.setOffset(this,a,b)});var b,e;e=this[0];var f={top:0,left:0},g=e&&e.ownerDocument;if(g){b=g.documentElement;if(!v.contains(b,e))return f;f=e.getBoundingClientRect();e=qa(g);return{top:f.top+e.pageYOffset-b.clientTop,left:f.left+e.pageXOffset-b.clientLeft}}},position:function(){if(this[0]){var a,b,e=this[0],f={top:0,left:0};"fixed"===v.css(e,"position")?b=e.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),v.nodeName(a[0],"html")||(f=a.offset()),f.top+=
v.css(a[0],"borderTopWidth",!0),f.left+=v.css(a[0],"borderLeftWidth",!0));return{top:b.top-f.top-v.css(e,"marginTop",!0),left:b.left-f.left-v.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===v.css(a,"position");)a=a.offsetParent;return a||Fa})}});v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var e="pageYOffset"===b;v.fn[a]=function(f){return va(this,function(a,f,g){var k=qa(a);if(void 0===g)return k?k[b]:
a[f];k?k.scrollTo(e?k.pageXOffset:g,e?g:k.pageYOffset):a[f]=g},a,f,arguments.length)}});v.each(["top","left"],function(a,b){v.cssHooks[b]=O(ja.pixelPosition,function(a,e){if(e)return e=G(a,b),Ca.test(e)?v(a).position()[b]+"px":e})});v.each({Height:"height",Width:"width"},function(a,b){v.each({padding:"inner"+a,content:b,"":"outer"+a},function(e,f){v.fn[f]=function(f,g){var k=arguments.length&&(e||"boolean"!==typeof f),l=e||(!0===f||!0===g?"margin":"border");return va(this,function(b,e,f){return v.isWindow(b)?
b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===f?v.css(b,e,l):v.style(b,e,f,l)},b,k?f:void 0,k,null)}})});v.fn.extend({bind:function(a,b,e){return this.on(a,null,b,e)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,e,f){return this.on(b,a,e,f)},undelegate:function(a,b,e){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",e)},size:function(){return this.length}});
v.fn.andSelf=v.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return v});var Qb=a.jQuery,Ac=a.$;v.noConflict=function(b){a.$===v&&(a.$=Ac);b&&a.jQuery===v&&(a.jQuery=Qb);return v};h||(a.jQuery=a.$=v);return v});(function(a,h){function e(e,f){var g,m,h,q=e.nodeName.toLowerCase();return"area"===q?(g=e.parentNode,m=g.name,e.href&&m&&"map"===g.nodeName.toLowerCase()?(h=a("img[usemap=#"+m+"]")[0],!!h&&b(h)):!1):(/input|select|textarea|button|object/.test(q)?!e.disabled:"a"===q?e.href||f:f)&&b(e)}function b(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var g=0,f=/^ui-id-\d+$/;a.ui=a.ui||{};a.ui.version||(a.extend(a.ui,{version:"1.10.1",
keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({_focus:a.fn.focus,focus:function(b,e){return"number"==typeof b?this.each(function(){var f=this;setTimeout(function(){a(f).focus();e&&e.call(f)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.ui.ie&&
/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(b){if(b!==
h)return this.css("zIndex",b);if(this.length){b=a(this[0]);for(var e;b.length&&b[0]!==document;){e=b.css("position");if("absolute"===e||"relative"===e||"fixed"===e)if(e=parseInt(b.css("zIndex"),10),!isNaN(e)&&0!==e)return e;b=b.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++g)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(e){return!!a.data(e,
b)}}):function(b,e,f){return!!a.data(b,f[3])},focusable:function(b){return e(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var f=a.attr(b,"tabindex"),g=isNaN(f);return(g||0<=f)&&e(b,!g)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,e){function f(b,e,k,l){return a.each(g,function(){e-=parseFloat(a.css(b,"padding"+this))||0;k&&(e-=parseFloat(a.css(b,"border"+this+"Width"))||0);l&&(e-=parseFloat(a.css(b,"margin"+this))||0)}),e}var g="Width"===e?["Left","Right"]:["Top",
"Bottom"],p=e.toLowerCase(),q={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+e]=function(b){return b===h?q["inner"+e].call(this):this.each(function(){a(this).css(p,f(this,b)+"px")})};a.fn["outer"+e]=function(b,g){return"number"!=typeof b?q["outer"+e].call(this,b):this.each(function(){a(this).css(p,f(this,b,!0,g)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),
a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(e){return arguments.length?b.call(this,a.camelCase(e)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),
a.extend(a.ui,{plugin:{add:function(b,e,f){var g;b=a.ui[b].prototype;for(g in f)b.plugins[g]=b.plugins[g]||[],b.plugins[g].push([e,f[g]])},call:function(a,b,e){var f=a.plugins[b];if(f&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;b<f.length;b++)a.options[f[b][0]]&&f[b][1].apply(a.element,e)}},hasScroll:function(b,e){if("hidden"===a(b).css("overflow"))return!1;var f=e&&"left"===e?"scrollLeft":"scrollTop",g=!1;return 0<b[f]?!0:(b[f]=1,g=0<b[f],b[f]=0,g)}}))})(jQuery);
(function(a,h){var e=0,b=Array.prototype.slice,g=a.cleanData;a.cleanData=function(b){for(var e=0,k;null!=(k=b[e]);e++)try{a(k).triggerHandler("remove")}catch(h){}g(b)};a.widget=function(b,e,g){var h,m,p,q,r={},t=b.split(".")[0];b=b.split(".")[1];h=t+"-"+b;g||(g=e,e=a.Widget);a.expr[":"][h.toLowerCase()]=function(b){return!!a.data(b,h)};a[t]=a[t]||{};m=a[t][b];p=a[t][b]=function(a,b){if(!this._createWidget)return new p(a,b);arguments.length&&this._createWidget(a,b)};a.extend(p,m,{version:g.version,
_proto:a.extend({},g),_childConstructors:[]});q=new e;q.options=a.widget.extend({},q.options);a.each(g,function(b,f){a.isFunction(f)?r[b]=function(){var a=function(){return e.prototype[b].apply(this,arguments)},g=function(a){return e.prototype[b].apply(this,a)};return function(){var b=this._super,e=this._superApply,k;return this._super=a,this._superApply=g,k=f.apply(this,arguments),this._super=b,this._superApply=e,k}}():r[b]=f});p.prototype=a.widget.extend(q,{widgetEventPrefix:m?q.widgetEventPrefix:
b},r,{constructor:p,namespace:t,widgetName:b,widgetFullName:h});m?(a.each(m._childConstructors,function(b,e){var f=e.prototype;a.widget(f.namespace+"."+f.widgetName,p,e._proto)}),delete m._childConstructors):e._childConstructors.push(p);a.widget.bridge(b,p)};a.widget.extend=function(e){for(var g=b.call(arguments,1),k=0,n=g.length,m,p;k<n;k++)for(m in g[k])p=g[k][m],g[k].hasOwnProperty(m)&&p!==h&&(a.isPlainObject(p)?e[m]=a.isPlainObject(e[m])?a.widget.extend({},e[m],p):a.widget.extend({},p):e[m]=p);
return e};a.widget.bridge=function(e,g){var k=g.prototype.widgetFullName||e;a.fn[e]=function(n){var m="string"==typeof n,p=b.call(arguments,1),q=this;return n=!m&&p.length?a.widget.extend.apply(null,[n].concat(p)):n,m?this.each(function(){var b,g=a.data(this,k);if(!g)return a.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+n+"'");if(!a.isFunction(g[n])||"_"===n.charAt(0))return a.error("no such method '"+n+"' for "+e+" widget instance");b=g[n].apply(g,p);if(b!==
g&&b!==h)return q=b&&b.jquery?q.pushStack(b.get()):b,!1}):this.each(function(){var b=a.data(this,k);b?b.option(n||{})._init():a.data(this,k,new g(n,this))}),q}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,g){g=a(g||this.defaultElement||this)[0];this.element=a(g);this.uuid=e++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},
this.options,this._getCreateOptions(),b);this.bindings=a();this.hoverable=a();this.focusable=a();g!==this&&(a.data(g,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===g&&this.destroy()}}),this.document=a(g.style?g.ownerDocument:g.document||g),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,
_init:a.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},
option:function(b,e){var g=b,n,m,p;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(g={},n=b.split("."),b=n.shift(),n.length){m=g[b]=a.widget.extend({},this.options[b]);for(p=0;p<n.length-1;p++)m[n[p]]=m[n[p]]||{},m=m[n[p]];b=n.pop();if(e===h)return m[b]===h?null:m[b];m[b]=e}else{if(e===h)return this.options[b]===h?null:this.options[b];g[b]=e}return this._setOptions(g),this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,
b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,e,g){var h,m=this;"boolean"!=typeof b&&(g=e,e=b,b=!1);g?(e=h=a(e),this.bindings=this.bindings.add(e)):(g=e,e=this.element,h=
this.widget());a.each(g,function(g,k){function r(){if(b||!0!==m.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"==typeof k?m[k]:k).apply(m,arguments)}"string"!=typeof k&&(r.guid=k.guid=k.guid||r.guid||a.guid++);var t=g.match(/^(\w+)\s*(.*)$/),u=t[1]+m.eventNamespace;(t=t[2])?h.delegate(t,u,r):e.bind(u,r)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var e=this;return setTimeout(function(){return("string"==
typeof a?e[a]:a).apply(e,arguments)},b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,e,g){var h,
m=this.options[b];g=g||{};e=a.Event(e);e.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();e.target=this.element[0];if(b=e.originalEvent)for(h in b)h in e||(e[h]=b[h]);return this.element.trigger(e,g),!(a.isFunction(m)&&!1===m.apply(this.element[0],[e].concat(g))||e.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,e){a.Widget.prototype["_"+b]=function(g,h,m){"string"==typeof h&&(h={effect:h});var p,q=h?!0===h||"number"==typeof h?e:h.effect||e:b;h=h||
{};"number"==typeof h&&(h={duration:h});p=!a.isEmptyObject(h);h.complete=m;h.delay&&g.delay(h.delay);p&&a.effects&&a.effects.effect[q]?g[b](h):q!==b&&g[q]?g[q](h.duration,h.easing,m):g.queue(function(e){a(this)[b]();m&&m.call(g[0]);e()})}})})(jQuery);
(function(a,h){var e=!1;a(document).mouseup(function(){e=!1});a.widget("ui.mouse",{version:"1.10.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(e){if(!0===a.data(e.target,b.widgetName+".preventClickEvent"))return a.removeData(e.target,b.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!e){this._mouseStarted&&this._mouseUp(b);this._mouseDownEvent=b;var g=this,f=1===b.which,l="string"==typeof this.options.cancel&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;if(!f||l||!this._mouseCapture(b))return!0;(this.mouseDelayMet=
!this.options.delay)||(this._mouseDelayTimer=setTimeout(function(){g.mouseDelayMet=!0},this.options.delay));return this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(b),!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return g._mouseMove(a)},this._mouseUpDelegate=function(a){return g._mouseUp(a)},a(document).bind("mousemove."+
this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),e=!0,!0)}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b),this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},
_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(a,h){function e(a,b,e){return[parseFloat(a[0])*(r.test(a[0])?b/100:1),parseFloat(a[1])*(r.test(a[1])?e/100:1)]}function b(b){var e=b[0];return 9===e.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(e)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var g,f=Math.max,l=Math.abs,k=
Math.round,n=/left|center|right/,m=/top|center|bottom/,p=/[\+\-]\d+(\.[\d]+)?%?/,q=/^\w+/,r=/%$/,t=a.fn.position;a.position={scrollbarWidth:function(){if(g!==h)return g;var b,e,f=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),k=f.children()[0];return a("body").append(f),b=k.offsetWidth,f.css("overflow","scroll"),e=k.offsetWidth,b===e&&(e=f[0].clientWidth),f.remove(),g=b-e},getScrollInfo:function(b){var e=b.isWindow?"":b.element.css("overflow-x"),
f=b.isWindow?"":b.element.css("overflow-y"),f="scroll"===f||"auto"===f&&b.height<b.element[0].scrollHeight;return{width:"scroll"===e||"auto"===e&&b.width<b.element[0].scrollWidth?a.position.scrollbarWidth():0,height:f?a.position.scrollbarWidth():0}},getWithinInfo:function(b){b=a(b||window);var e=a.isWindow(b[0]);return{element:b,isWindow:e,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:e?b.width():b.outerWidth(),height:e?b.height():b.outerHeight()}}};a.fn.position=
function(g){if(!g||!g.of)return t.apply(this,arguments);g=a.extend({},g);var h,r,z,B,D,w,A=a(g.of),C=a.position.getWithinInfo(g.within),E=a.position.getScrollInfo(C),H=(g.collision||"flip").split(" "),G={};return w=b(A),A[0].preventDefault&&(g.at="left top"),r=w.width,z=w.height,B=w.offset,D=a.extend({},B),a.each(["my","at"],function(){var a=(g[this]||"").split(" "),b,e;1===a.length&&(a=n.test(a[0])?a.concat(["center"]):m.test(a[0])?["center"].concat(a):["center","center"]);a[0]=n.test(a[0])?a[0]:
"center";a[1]=m.test(a[1])?a[1]:"center";b=p.exec(a[0]);e=p.exec(a[1]);G[this]=[b?b[0]:0,e?e[0]:0];g[this]=[q.exec(a[0])[0],q.exec(a[1])[0]]}),1===H.length&&(H[1]=H[0]),"right"===g.at[0]?D.left+=r:"center"===g.at[0]&&(D.left+=r/2),"bottom"===g.at[1]?D.top+=z:"center"===g.at[1]&&(D.top+=z/2),h=e(G.at,r,z),D.left+=h[0],D.top+=h[1],this.each(function(){var b,m,n=a(this),p=n.outerWidth(),q=n.outerHeight(),w=parseInt(a.css(this,"marginLeft"),10)||0,t=parseInt(a.css(this,"marginTop"),10)||0,R=p+w+(parseInt(a.css(this,
"marginRight"),10)||0)+E.width,Y=q+t+(parseInt(a.css(this,"marginBottom"),10)||0)+E.height,N=a.extend({},D),aa=e(G.my,n.outerWidth(),n.outerHeight());"right"===g.my[0]?N.left-=p:"center"===g.my[0]&&(N.left-=p/2);"bottom"===g.my[1]?N.top-=q:"center"===g.my[1]&&(N.top-=q/2);N.left+=aa[0];N.top+=aa[1];a.support.offsetFractions||(N.left=k(N.left),N.top=k(N.top));b={marginLeft:w,marginTop:t};a.each(["left","top"],function(e,f){a.ui.position[H[e]]&&a.ui.position[H[e]][f](N,{targetWidth:r,targetHeight:z,
elemWidth:p,elemHeight:q,collisionPosition:b,collisionWidth:R,collisionHeight:Y,offset:[h[0]+aa[0],h[1]+aa[1]],my:g.my,at:g.at,within:C,elem:n})});g.using&&(m=function(a){var b=B.left-N.left,e=b+r-p,k=B.top-N.top,m=k+z-q,h={target:{element:A,left:B.left,top:B.top,width:r,height:z},element:{element:n,left:N.left,top:N.top,width:p,height:q},horizontal:0>e?"left":0<b?"right":"center",vertical:0>m?"top":0<k?"bottom":"middle"};r<p&&l(b+e)<r&&(h.horizontal="center");z<q&&l(k+m)<z&&(h.vertical="middle");
f(l(b),l(e))>f(l(k),l(m))?h.important="horizontal":h.important="vertical";g.using.call(this,a,h)});n.offset(a.extend(N,{using:m}))})};a.ui.position={fit:{left:function(a,b){var e=b.within,g=e.isWindow?e.scrollLeft:e.offset.left,e=e.width,k=a.left-b.collisionPosition.marginLeft,l=g-k,m=k+b.collisionWidth-e-g,h;b.collisionWidth>e?0<l&&0>=m?(h=a.left+l+b.collisionWidth-e-g,a.left+=l-h):0<m&&0>=l?a.left=g:l>m?a.left=g+e-b.collisionWidth:a.left=g:0<l?a.left+=l:0<m?a.left-=m:a.left=f(a.left-k,a.left)},
top:function(a,b){var e=b.within,e=e.isWindow?e.scrollTop:e.offset.top,g=b.within.height,k=a.top-b.collisionPosition.marginTop,l=e-k,m=k+b.collisionHeight-g-e,h;b.collisionHeight>g?0<l&&0>=m?(h=a.top+l+b.collisionHeight-g-e,a.top+=l-h):0<m&&0>=l?a.top=e:l>m?a.top=e+g-b.collisionHeight:a.top=e:0<l?a.top+=l:0<m?a.top-=m:a.top=f(a.top-k,a.top)}},flip:{left:function(a,b){var e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,k=e.isWindow?e.scrollLeft:e.offset.left,m=a.left-b.collisionPosition.marginLeft,
e=m-k,h=m+b.collisionWidth-g-k,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,r=-2*b.offset[0];if(0>e){if(f=a.left+m+n+r+b.collisionWidth-g-f,0>f||f<l(e))a.left+=m+n+r}else 0<h&&(f=a.left-b.collisionPosition.marginLeft+m+n+r-k,0<f||l(f)<h)&&(a.left+=m+n+r)},top:function(a,b){var e=b.within,f=e.offset.top+e.scrollTop,g=e.height,e=e.isWindow?e.scrollTop:e.offset.top,k=a.top-b.collisionPosition.marginTop,m=k-e,k=k+b.collisionHeight-
g-e,h="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,n="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,r=-2*b.offset[1],p,q;0>m?(q=a.top+h+n+r+b.collisionHeight-g-f,a.top+h+n+r>m&&(0>q||q<l(m))&&(a.top+=h+n+r)):0<k&&(p=a.top-b.collisionPosition.marginTop+h+n+r-e,a.top+h+n+r>k&&(0<p||l(p)<k)&&(a.top+=h+n+r))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,
arguments);a.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,e,f,g,k=document.getElementsByTagName("body")[0];f=document.createElement("div");b=document.createElement(k?"div":"body");e={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};k&&a.extend(e,{position:"absolute",left:"-1000px",top:"-1000px"});for(g in e)b.style[g]=e[g];b.appendChild(f);e=k||document.documentElement;e.insertBefore(b,e.firstChild);f.style.cssText="position: absolute; left: 10.7432222px;";
f=a(f).offset().left;a.support.offsetFractions=10<f&&11>f;b.innerHTML="";e.removeChild(b)})()})(jQuery);
(function(a,h){var e=0,b={},g={};b.height=b.paddingTop=b.paddingBottom=b.borderTopWidth=b.borderBottomWidth="hide";g.height=g.paddingTop=g.paddingBottom=g.borderTopWidth=g.borderBottomWidth="show";a.widget("ui.accordion",{version:"1.10.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var b=this.options;
this.prevShow=this.prevHide=a();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");b.collapsible||!1!==b.active&&null!=b.active||(b.active=0);this._processPanels();0>b.active&&(b.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():a(),content:this.active.length?this.active.next():a()}},_createIcons:function(){var b=this.options.icons;b&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+
b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&
this.removeAttribute("id")});this._destroyIcons();a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){"active"===a?this._activate(b):
("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"===a&&!b&&!1===this.options.active&&this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),"disabled"===a&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b))},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var e=a.ui.keyCode,g=this.headers.length,h=this.headers.index(b.target),m=!1;switch(b.keyCode){case e.RIGHT:case e.DOWN:m=
this.headers[(h+1)%g];break;case e.LEFT:case e.UP:m=this.headers[(h-1+g)%g];break;case e.SPACE:case e.ENTER:this._eventHandler(b);break;case e.HOME:m=this.headers[0];break;case e.END:m=this.headers[g-1]}m&&(a(b.target).attr("tabIndex",-1),a(m).attr("tabIndex",0),m.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().focus()},refresh:function(){var b=this.options;this._processPanels();if(!1===b.active&&!0===b.collapsible||!this.headers.length)b.active=
!1,this.active=a();!1===b.active?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=a()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},
_refresh:function(){var b,g=this.options,k=g.heightStyle,h=this.element.parent(),m=this.accordionId="ui-accordion-"+(this.element.attr("id")||++e);this.active=this._findActive(g.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(b){var e=a(this),f=e.attr("id"),g=e.next(),k=g.attr("id");f||(f=m+"-header-"+b,e.attr("id",f));k||(k=m+"-panel-"+
b,g.attr("id",k));e.attr("aria-controls",k);g.attr("aria-labelledby",f)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(g.event);"fill"===k?(b=h.height(),this.element.siblings(":visible").each(function(){var e=
a(this),g=e.css("position");"absolute"!==g&&"fixed"!==g&&(b-=e.outerHeight(!0))}),this.headers.each(function(){b-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,b-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===k&&(b=0,this.headers.next().each(function(){b=Math.max(b,a(this).css("height","").height())}).height(b))},_activate:function(b){b=this._findActive(b)[0];b!==this.active[0]&&(b=b||this.active[0],this._eventHandler({target:b,
currentTarget:b,preventDefault:a.noop}))},_findActive:function(b){return"number"==typeof b?this.headers.eq(b):a()},_setupEvents:function(b){var e={keydown:"_keydown"};b&&a.each(b.split(" "),function(a,b){e[b]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,e);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(b){var e=this.options,g=this.active,h=a(b.currentTarget),m=h[0]===
g[0],p=m&&e.collapsible,q=p?a():h.next(),r=g.next(),q={oldHeader:g,oldPanel:r,newHeader:p?a():h,newPanel:q};b.preventDefault();m&&!e.collapsible||!1===this._trigger("beforeActivate",b,q)||(e.active=p?!1:this.headers.index(h),this.active=m?a():h,this._toggle(q),g.removeClass("ui-accordion-header-active ui-state-active"),e.icons&&g.children(".ui-accordion-header-icon").removeClass(e.icons.activeHeader).addClass(e.icons.header),m||(h.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),
e.icons&&h.children(".ui-accordion-header-icon").removeClass(e.icons.header).addClass(e.icons.activeHeader),h.next().addClass("ui-accordion-content-active")))},_toggle:function(b){var e=b.newPanel,g=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=e;this.prevHide=g;this.options.animate?this._animate(e,g,b):(g.hide(),e.show(),this._toggleComplete(b));g.attr({"aria-expanded":"false","aria-hidden":"true"});g.prev().attr("aria-selected","false");
e.length&&g.length?g.prev().attr("tabIndex",-1):e.length&&this.headers.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);e.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(a,e,k){var h,m,p,q=this,r=0,t=a.length&&(!e.length||a.index()<e.index()),u=this.options.animate||{},t=t&&u.down||u,y=function(){q._toggleComplete(k)};"number"==typeof t&&(p=t);"string"==typeof t&&(m=t);m=m||t.easing||u.easing;p=p||
t.duration||u.duration;if(!e.length)return a.animate(g,p,m,y);if(!a.length)return e.animate(b,p,m,y);h=a.show().outerHeight();e.animate(b,{duration:p,easing:m,step:function(a,b){b.now=Math.round(a)}});a.hide().animate(g,{duration:p,easing:m,complete:y,step:function(a,b){b.now=Math.round(a);"height"!==b.prop?r+=b.now:"content"!==q.options.heightStyle&&(b.now=Math.round(h-e.outerHeight()-r),r=0)}})},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");
b.length&&(b.parent()[0].className=b.parent()[0].className);this._trigger("activate",null,a)}})})(jQuery);
(function(a,h){var e=0;a.widget("ui.autocomplete",{version:"1.10.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var b,e,f,l=this.element[0].nodeName.toLowerCase(),k="textarea"===l,l="input"===l;this.isMultiLine=k?!0:l?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[k||
l?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(k){if(this.element.prop("readOnly"))e=f=b=!0;else{e=f=b=!1;var l=a.ui.keyCode;switch(k.keyCode){case l.PAGE_UP:b=!0;this._move("previousPage",k);break;case l.PAGE_DOWN:b=!0;this._move("nextPage",k);break;case l.UP:b=!0;this._keyEvent("previous",k);break;case l.DOWN:b=!0;this._keyEvent("next",k);break;case l.ENTER:case l.NUMPAD_ENTER:this.menu.active&&
(b=!0,k.preventDefault(),this.menu.select(k));break;case l.TAB:this.menu.active&&this.menu.select(k);break;case l.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(k),k.preventDefault());break;default:e=!0,this._searchTimeout(k)}}},keypress:function(f){if(b)b=!1,f.preventDefault();else if(!e){var k=a.ui.keyCode;switch(f.keyCode){case k.PAGE_UP:this._move("previousPage",f);break;case k.PAGE_DOWN:this._move("nextPage",f);break;case k.UP:this._keyEvent("previous",f);break;case k.DOWN:this._keyEvent("next",
f)}}},input:function(a){f?(f=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({input:a(),role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(b){b.preventDefault();this.cancelBlur=
!0;this._delay(function(){delete this.cancelBlur});var e=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(f){f.target!==b.element[0]&&f.target!==e&&!a.contains(e,f.target)&&b.close()})})},menufocus:function(b,e){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)});return}var f=
e.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:f})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(f.value):this.liveRegion.text(f.value)},menuselect:function(a,b){var e=b.item.data("ui-autocomplete-item"),f=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=f,this._delay(function(){this.previous=f;this.selectedItem=e}));!1!==this._trigger("select",a,{item:e})&&this._value(e.value);this.term=this._value();this.close(a);
this.selectedItem=e}});this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,e){this._super(a,e);"source"===a&&this._initSource();"appendTo"===
a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b||(b=this.element.closest(".ui-front")),b.length||(b=this.document[0].body),b},_initSource:function(){var b,e,f=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(e,f){f(a.ui.autocomplete.filter(b,e.term))}):"string"==typeof this.options.source?(e=this.options.source,
this.source=function(b,k){f.xhr&&f.xhr.abort();f.xhr=a.ajax({url:e,data:b,dataType:"json",success:function(a){k(a)},error:function(){k([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,e){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(e);if(!1!==this._trigger("search",
e))return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var a=this,g=++e;return function(f){g===e&&a.__response(f);a.pending--;a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):
this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},
_suggest:function(b){var e=this.menu.element.empty();this._renderMenu(e,b);this.menu.refresh();e.show();this._resizeMenu();e.position(a.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,e){var f=this;a.each(e,function(a,e){f._renderItemData(b,e)})},_renderItemData:function(a,e){return this._renderItem(a,e).data("ui-autocomplete-item",
e)},_renderItem:function(b,e){return a("<li>").append(a("<a>").text(e.label)).appendTo(b)},_move:function(a,e){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this._value(this.term),this.menu.blur();else this.menu[a](e);else this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,e){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,
e),e.preventDefault()}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,e){var f=new RegExp(a.ui.autocomplete.escapeRegex(e),"i");return a.grep(b,function(a){return f.test(a.label||a.value||a)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var e;
this._superApply(arguments);this.options.disabled||this.cancelSearch||(a&&a.length?e=this.options.messages.results(a.length):e=this.options.messages.noResults,this.liveRegion.text(e))}})})(jQuery);
(function(a,h){var e,b,g,f,l=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},k=function(b){var e=b.name,f=b.form,g=a([]);return e&&(e=e.replace(/'/g,"\\'"),f?g=a(f).find("[name='"+e+"']"):g=a("[name='"+e+"']",b.ownerDocument).filter(function(){return!this.form})),g};a.widget("ui.button",{version:"1.10.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+
this.eventNamespace).bind("reset"+this.eventNamespace,l);"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var h=this,m=this.options,p="checkbox"===this.type||"radio"===this.type,q=p?"":"ui-state-active";null===m.label&&(m.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);
this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){m.disabled||this===e&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){m.disabled||a(this).removeClass(q)}).bind("click"+this.eventNamespace,function(a){m.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});this.element.bind("focus"+this.eventNamespace,function(){h.buttonElement.addClass("ui-state-focus")}).bind("blur"+
this.eventNamespace,function(){h.buttonElement.removeClass("ui-state-focus")});p&&(this.element.bind("change"+this.eventNamespace,function(){f||h.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(a){m.disabled||(f=!1,b=a.pageX,g=a.pageY)}).bind("mouseup"+this.eventNamespace,function(a){m.disabled||b===a.pageX&&g===a.pageY||(f=!0)}));"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(m.disabled||f)return!1}):"radio"===this.type?this.buttonElement.bind("click"+
this.eventNamespace,function(){if(m.disabled||f)return!1;a(this).addClass("ui-state-active");h.buttonElement.attr("aria-pressed","true");var b=h.element[0];k(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(m.disabled)return!1;a(this).addClass("ui-state-active");e=this;h.document.one("mouseup",function(){e=null})}).bind("mouseup"+this.eventNamespace,function(){if(m.disabled)return!1;
a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){if(m.disabled)return!1;b.keyCode!==a.ui.keyCode.SPACE&&b.keyCode!==a.ui.keyCode.ENTER||a(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()}));this._setOption("disabled",m.disabled);this._resetButton()},
_determineButtonType:function(){var a,b,e;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";"checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=
a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),e=this.element.is(":checked"),e&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",e)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){this._super(a,b);"disabled"===a?b?this.element.prop("disabled",!0):this.element.prop("disabled",!1):this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b);"radio"===this.type?k(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
"true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
e=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),f=this.options.icons,g=f.primary&&f.secondary,k=[];f.primary||f.secondary?(this.options.text&&k.push("ui-button-text-icon"+(g?"s":f.primary?"-primary":"-secondary")),f.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+f.primary+"'></span>"),f.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+f.secondary+"'></span>"),this.options.text||(k.push(g?"ui-button-icons-only":
"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(e)))):k.push("ui-button-text-only");b.addClass(k.join(" "))}}});a.widget("ui.buttonset",{version:"1.10.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b);this._super(a,b)},refresh:function(){var b=
"rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);
(function(a,h){function e(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";
this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",
firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,
onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};a.extend(this._defaults,this.regional[""]);this.dpDiv=b(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function b(b){return b.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){a(this).removeClass("ui-state-hover");
-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){a.datepicker._isDisabledDatepicker(l.inline?b.parent()[0]:l.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),
-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))})}function g(b,e){a.extend(b,e);for(var f in e)null==e[f]&&(b[f]=e[f]);return b}a.extend(a.ui,{datepicker:{version:"1.10.1"}});var f=(new Date).getTime(),l;a.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return g(this._defaults,
a||{}),this},_attachDatepicker:function(b,e){var f,g,l;f=b.nodeName.toLowerCase();g="div"===f||"span"===f;b.id||(this.uuid+=1,b.id="dp"+this.uuid);l=this._newInst(a(b),g);l.settings=a.extend({},e||{});"input"===f?this._connectDatepicker(b,l):g&&this._inlineDatepicker(b,l)},_newInst:function(e,f){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:f,dpDiv:f?b(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(b,e){var f=a(b);e.append=a([]);e.trigger=a([]);f.hasClass(this.markerClassName)||(this._attachments(f,e),f.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(e),a.data(b,"datepicker",e),e.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,e){var f,g;f=this._get(e,"appendText");var l=this._get(e,"isRTL");e.append&&e.append.remove();f&&(e.append=a("<span class='"+this._appendClass+
"'>"+f+"</span>"),b[l?"before":"after"](e.append));b.unbind("focus",this._showDatepicker);e.trigger&&e.trigger.remove();f=this._get(e,"showOn");"focus"!==f&&"both"!==f||b.focus(this._showDatepicker);if("button"===f||"both"===f)f=this._get(e,"buttonText"),g=this._get(e,"buttonImage"),e.trigger=a(this._get(e,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):a("<button type='button'></button>").addClass(this._triggerClass).html(g?a("<img/>").attr({src:g,alt:f,title:f}):
f)),b[l?"before":"after"](e.trigger),e.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1})},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,e,f,g,l=new Date(2009,11,20),h=this._get(a,"dateFormat");h.match(/[DM]/)&&(b=function(a){for(g=
f=e=0;g<a.length;g++)a[g].length>e&&(e=a[g].length,f=g);return f},l.setMonth(b(this._get(a,h.match(/MM/)?"monthNames":"monthNamesShort"))),l.setDate(b(this._get(a,h.match(/DD/)?"dayNames":"dayNamesShort"))+20-l.getDay()));a.input.attr("size",this._formatDate(a,l).length)}},_inlineDatepicker:function(b,e){var f=a(b);f.hasClass(this.markerClassName)||(f.addClass(this.markerClassName).append(e.dpDiv),a.data(b,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),
e.settings.disabled&&this._disableDatepicker(b),e.dpDiv.css("display","block"))},_dialogDatepicker:function(b,e,f,l,h){var r,t,u,y,x;b=this._dialogInst;return b||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),b=this._dialogInst=this._newInst(this._dialogInput,!1),b.settings={},a.data(this._dialogInput[0],"datepicker",b)),g(b.settings,
l||{}),e=e&&e.constructor===Date?this._formatDate(b,e):e,this._dialogInput.val(e),this._pos=h?h.length?h:[h.pageX,h.pageY]:null,this._pos||(t=document.documentElement.clientWidth,u=document.documentElement.clientHeight,y=document.documentElement.scrollLeft||document.body.scrollLeft,x=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[t/2-100+y,u/2-150+x]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),b.settings.onSelect=f,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),
this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],"datepicker",b),this},_destroyDatepicker:function(b){var e,f=a(b),g=a.data(b,"datepicker");f.hasClass(this.markerClassName)&&(e=b.nodeName.toLowerCase(),a.removeData(b,"datepicker"),"input"===e?(g.append.remove(),g.trigger.remove(),f.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):
("div"===e||"span"===e)&&f.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var e,f=a(b),g=a.data(b,"datepicker");if(f.hasClass(this.markerClassName)){e=b.nodeName.toLowerCase();if("input"===e)b.disabled=!1,g.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"===e||"span"===e)e=f.children("."+this._inlineClass),e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a})}},_disableDatepicker:function(b){var e,f=a(b),g=a.data(b,"datepicker");if(f.hasClass(this.markerClassName)){e=b.nodeName.toLowerCase();if("input"===e)b.disabled=!0,g.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"===e||"span"===e)e=f.children("."+this._inlineClass),e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a});this._disabledInputs[this._disabledInputs.length]=b}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(e){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(b,e,f){var l,q,r,t,u=this._getInst(b);if(2===arguments.length&&"string"==
typeof e)return"defaults"===e?a.extend({},a.datepicker._defaults):u?"all"===e?a.extend({},u.settings):this._get(u,e):null;l=e||{};"string"==typeof e&&(l={},l[e]=f);u&&(this._curInst===u&&this._hideDatepicker(),q=this._getDateDatepicker(b,!0),r=this._getMinMaxDate(u,"min"),t=this._getMinMaxDate(u,"max"),g(u.settings,l),null!==r&&l.dateFormat!==h&&l.minDate===h&&(u.settings.minDate=this._formatDate(u,r)),null!==t&&l.dateFormat!==h&&l.maxDate===h&&(u.settings.maxDate=this._formatDate(u,t)),"disabled"in
l&&(l.disabled?this._disableDatepicker(b):this._enableDatepicker(b)),this._attachments(a(b),u),this._autoSize(u),this._setDate(u,q),this._updateAlternate(u),this._updateDatepicker(u))},_changeDatepicker:function(a,b,e){this._optionDatepicker(a,b,e)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){var e=this._getInst(a);e&&(this._setDate(e,b),this._updateDatepicker(e),this._updateAlternate(e))},_getDateDatepicker:function(a,b){var e=
this._getInst(a);return e&&!e.inline&&this._setDateFromField(e,b),e?this._getDate(e):null},_doKeyDown:function(b){var e,f,g,l=a.datepicker._getInst(b.target),h=!0,t=l.dpDiv.is(".ui-datepicker-rtl");l._keyEvent=!0;if(a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker();h=!1;break;case 13:return g=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",l.dpDiv),g[0]&&a.datepicker._selectDay(b.target,l.selectedMonth,l.selectedYear,g[0]),e=a.datepicker._get(l,
"onSelect"),e?(f=a.datepicker._formatDate(l),e.apply(l.input?l.input[0]:null,[f,l])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(l,"stepBigMonths"):-a.datepicker._get(l,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(l,"stepBigMonths"):+a.datepicker._get(l,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target);
h=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target);h=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,t?1:-1,"D");h=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(l,"stepBigMonths"):-a.datepicker._get(l,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D");h=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&
a.datepicker._adjustDate(b.target,t?-1:1,"D");h=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(l,"stepBigMonths"):+a.datepicker._get(l,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D");h=b.ctrlKey||b.metaKey;break;default:h=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):h=!1;h&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var e,f,g=a.datepicker._getInst(b.target);
if(a.datepicker._get(g,"constrainInput"))return e=a.datepicker._possibleChars(a.datepicker._get(g,"dateFormat")),f=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">f||!e||-1<e.indexOf(f)},_doKeyUp:function(b){var e;b=a.datepicker._getInst(b.target);if(b.input.val()!==b.lastVal)try{(e=a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,a.datepicker._getFormatConfig(b)))&&(a.datepicker._setDateFromField(b),a.datepicker._updateAlternate(b),
a.datepicker._updateDatepicker(b))}catch(f){}return!0},_showDatepicker:function(b){b=b.target||b;"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]);if(!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var e,f,l,h,r;e=a.datepicker._getInst(b);a.datepicker._curInst&&a.datepicker._curInst!==e&&(a.datepicker._curInst.dpDiv.stop(!0,!0),e&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0]));f=(f=a.datepicker._get(e,"beforeShow"))?
f.apply(b,[b,e]):{};!1!==f&&(g(e.settings,f),e.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(e),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),l=!1,a(b).parents().each(function(){return l|="fixed"===a(this).css("position"),!l}),f={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
a.datepicker._updateDatepicker(e),f=a.datepicker._checkOffset(e,f,l),e.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":l?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),e.inline||(h=a.datepicker._get(e,"showAnim"),r=a.datepicker._get(e,"duration"),e.dpDiv.zIndex(a(b).zIndex()+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[h]?e.dpDiv.show(h,a.datepicker._get(e,"showOptions"),r):e.dpDiv[h||"show"](h?r:null),e.input.is(":visible")&&!e.input.is(":disabled")&&
e.input.focus(),a.datepicker._curInst=e))}},_updateDatepicker:function(b){this.maxRows=4;l=b;b.dpDiv.empty().append(this._generateHTML(b));this._attachHandlers(b);b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e,f=this._getNumberOfMonths(b),g=f[1];b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<g&&b.dpDiv.addClass("ui-datepicker-multi-"+g).css("width",17*g+"em");b.dpDiv[(1!==f[0]||1!==f[1]?"add":"remove")+"Class"]("ui-datepicker-multi");
b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&b.input&&b.input.is(":visible")&&!b.input.is(":disabled")&&b.input[0]!==document.activeElement&&b.input.focus();b.yearshtml&&(e=b.yearshtml,setTimeout(function(){e===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);e=b.yearshtml=null},0))},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||
a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(b,e,f){var g=b.dpDiv.outerWidth(),l=b.dpDiv.outerHeight(),h=b.input?b.input.outerWidth():0,t=b.input?b.input.outerHeight():0,u=document.documentElement.clientWidth+(f?0:a(document).scrollLeft()),y=document.documentElement.clientHeight+(f?0:a(document).scrollTop());return e.left-=this._get(b,"isRTL")?g-h:0,e.left-=f&&e.left===b.input.offset().left?a(document).scrollLeft():0,e.top-=f&&
e.top===b.input.offset().top+t?a(document).scrollTop():0,e.left-=Math.min(e.left,e.left+g>u&&u>g?Math.abs(e.left+g-u):0),e.top-=Math.min(e.top,e.top+l>y&&y>l?Math.abs(l+t):0),e},_findPos:function(b){for(var e,f=this._getInst(b),f=this._get(f,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[f?"previousSibling":"nextSibling"];return e=a(b).offset(),[e.left,e.top]},_hideDatepicker:function(b){var e,f,g,l,h=this._curInst;!h||b&&h!==a.data(b,"datepicker")||this._datepickerShowing&&
(e=this._get(h,"showAnim"),f=this._get(h,"duration"),g=function(){a.datepicker._tidyDialog(h)},a.effects&&(a.effects.effect[e]||a.effects[e])?h.dpDiv.hide(e,a.datepicker._get(h,"showOptions"),f,g):h.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?f:null,g),e||g(),this._datepickerShowing=!1,l=this._get(h,"onClose"),l&&l.apply(h.input?h.input[0]:null,[h.input?h.input.val():"",h]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),
a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){b=a(b.target);var e=a.datepicker._getInst(b[0]);(!(b[0].id===a.datepicker._mainDivId||0!==b.parents("#"+a.datepicker._mainDivId).length||b.hasClass(a.datepicker.markerClassName)||b.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&
a.blockUI)||b.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==e)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,e,f){b=a(b);var g=this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(g,e+("M"===f?this._get(g,"showCurrentAtPos"):0),f),this._updateDatepicker(g))},_gotoToday:function(b){var e;b=a(b);var f=this._getInst(b[0]);this._get(f,"gotoCurrent")&&f.currentDay?(f.selectedDay=f.currentDay,f.drawMonth=f.selectedMonth=f.currentMonth,f.drawYear=f.selectedYear=
f.currentYear):(e=new Date,f.selectedDay=e.getDate(),f.drawMonth=f.selectedMonth=e.getMonth(),f.drawYear=f.selectedYear=e.getFullYear());this._notifyChange(f);this._adjustDate(b)},_selectMonthYear:function(b,e,f){b=a(b);var g=this._getInst(b[0]);g["selected"+("M"===f?"Month":"Year")]=g["draw"+("M"===f?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10);this._notifyChange(g);this._adjustDate(b)},_selectDay:function(b,e,f,g){var l;l=a(b);a(g).hasClass(this._unselectableClass)||this._isDisabledDatepicker(l[0])||
(l=this._getInst(l[0]),l.selectedDay=l.currentDay=a("a",g).html(),l.selectedMonth=l.currentMonth=e,l.selectedYear=l.currentYear=f,this._selectDate(b,this._formatDate(l,l.currentDay,l.currentMonth,l.currentYear)))},_clearDate:function(b){b=a(b);this._selectDate(b,"")},_selectDate:function(b,e){var f;f=a(b);var g=this._getInst(f[0]);e=null!=e?e:this._formatDate(g);g.input&&g.input.val(e);this._updateAlternate(g);(f=this._get(g,"onSelect"))?f.apply(g.input?g.input[0]:null,[e,g]):g.input&&g.input.trigger("change");
g.inline?this._updateDatepicker(g):(this._hideDatepicker(),this._lastInput=g.input[0],"object"!=typeof g.input[0]&&g.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var e,f,g,l=this._get(b,"altField");l&&(e=this._get(b,"altFormat")||this._get(b,"dateFormat"),f=this._getDate(b),g=this.formatDate(e,f,this._getFormatConfig(b)),a(l).each(function(){a(this).val(g)}))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b;a=new Date(a.getTime());return a.setDate(a.getDate()+
4-(a.getDay()||7)),b=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(b,e,f){if(null==b||null==e)throw"Invalid arguments";e="object"==typeof e?e.toString():e+"";if(""===e)return null;var g,l,h,t=0;l=(f?f.shortYearCutoff:null)||this._defaults.shortYearCutoff;l="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10);h=(f?f.dayNamesShort:null)||this._defaults.dayNamesShort;var u=(f?f.dayNames:null)||this._defaults.dayNames,y=(f?f.monthNamesShort:
null)||this._defaults.monthNamesShort,x=(f?f.monthNames:null)||this._defaults.monthNames,z=f=-1,B=-1,D=-1,w=!1,A,C=function(a){a=g+1<b.length&&b.charAt(g+1)===a;return a&&g++,a},E=function(a){var b=C(a);a=new RegExp("^\\d{1,"+("@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2)+"}");a=e.substring(t).match(a);if(!a)throw"Missing number at position "+t;return t+=a[0].length,parseInt(a[0],10)},H=function(b,f,g){var k=-1;b=a.map(C(b)?g:f,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-
b[1].length)});a.each(b,function(a,b){var f=b[1];if(e.substr(t,f.length).toLowerCase()===f.toLowerCase())return k=b[0],t+=f.length,!1});if(-1!==k)return k+1;throw"Unknown name at position "+t;},G=function(){if(e.charAt(t)!==b.charAt(g))throw"Unexpected literal at position "+t;t++};for(g=0;g<b.length;g++)if(w)"'"!==b.charAt(g)||C("'")?G():w=!1;else switch(b.charAt(g)){case "d":B=E("d");break;case "D":H("D",h,u);break;case "o":D=E("o");break;case "m":z=E("m");break;case "M":z=H("M",y,x);break;case "y":f=
E("y");break;case "@":A=new Date(E("@"));f=A.getFullYear();z=A.getMonth()+1;B=A.getDate();break;case "!":A=new Date((E("!")-this._ticksTo1970)/1E4);f=A.getFullYear();z=A.getMonth()+1;B=A.getDate();break;case "'":C("'")?G():w=!0;break;default:G()}if(t<e.length&&(h=e.substr(t),!/^\s+/.test(h)))throw"Extra/unparsed characters found in date: "+h;-1===f?f=(new Date).getFullYear():100>f&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=l?0:-100));if(-1<D){z=1;B=D;do{l=this._getDaysInMonth(f,
z-1);if(B<=l)break;z++;B-=l}while(1)}A=this._daylightSavingAdjust(new Date(f,z-1,B));if(A.getFullYear()!==f||A.getMonth()+1!==z||A.getDate()!==B)throw"Invalid date";return A},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,e){if(!b)return"";
var f,g=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,l=(e?e.dayNames:null)||this._defaults.dayNames,h=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort;e=(e?e.monthNames:null)||this._defaults.monthNames;var u=function(b){b=f+1<a.length&&a.charAt(f+1)===b;return b&&f++,b},y=function(a,b,e){b=""+b;if(u(a))for(;b.length<e;)b="0"+b;return b},x=function(a,b,e,f){return u(a)?f[b]:e[b]},z="",B=!1;if(b)for(f=0;f<a.length;f++)if(B)"'"!==a.charAt(f)||u("'")?z+=a.charAt(f):B=!1;else switch(a.charAt(f)){case "d":z+=
y("d",b.getDate(),2);break;case "D":z+=x("D",b.getDay(),g,l);break;case "o":z+=y("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":z+=y("m",b.getMonth()+1,2);break;case "M":z+=x("M",b.getMonth(),h,e);break;case "y":z+=u("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":z+=b.getTime();break;case "!":z+=1E4*b.getTime()+this._ticksTo1970;break;case "'":u("'")?z+="'":B=!0;break;
default:z+=a.charAt(f)}return z},_possibleChars:function(a){var b,e="",f=!1,g=function(e){e=b+1<a.length&&a.charAt(b+1)===e;return e&&b++,e};for(b=0;b<a.length;b++)if(f)"'"!==a.charAt(b)||g("'")?e+=a.charAt(b):f=!1;else switch(a.charAt(b)){case "d":case "m":case "y":case "@":e+="0123456789";break;case "D":case "M":return null;case "'":g("'")?e+="'":f=!0;break;default:e+=a.charAt(b)}return e},_get:function(a,b){return a.settings[b]!==h?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,
b){if(a.input.val()!==a.lastVal){var e=this._get(a,"dateFormat"),f=a.lastVal=a.input?a.input.val():null,g=this._getDefaultDate(a),l=g,h=this._getFormatConfig(a);try{l=this.parseDate(e,f,h)||g}catch(u){f=b?"":f}a.selectedDay=l.getDate();a.drawMonth=a.selectedMonth=l.getMonth();a.drawYear=a.selectedYear=l.getFullYear();a.currentDay=f?l.getDate():0;a.currentMonth=f?l.getMonth():0;a.currentYear=f?l.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,
this._get(a,"defaultDate"),new Date))},_determineDate:function(b,e,f){var g=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},l=function(e){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),e,a.datepicker._getFormatConfig(b))}catch(f){}for(var g=(e.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,l=g.getFullYear(),h=g.getMonth(),g=g.getDate(),m=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,n=m.exec(e);n;){switch(n[2]||"d"){case "d":case "D":g+=parseInt(n[1],
10);break;case "w":case "W":g+=7*parseInt(n[1],10);break;case "m":case "M":h+=parseInt(n[1],10);g=Math.min(g,a.datepicker._getDaysInMonth(l,h));break;case "y":case "Y":l+=parseInt(n[1],10),g=Math.min(g,a.datepicker._getDaysInMonth(l,h))}n=m.exec(e)}return new Date(l,h,g)};e=null==e||""===e?f:"string"==typeof e?l(e):"number"==typeof e?isNaN(e)?f:g(e):new Date(e.getTime());return e=e&&"Invalid Date"===e.toString()?f:e,e&&(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)),this._daylightSavingAdjust(e)},
_daylightSavingAdjust:function(a){return a?(a.setHours(12<a.getHours()?a.getHours()+2:0),a):null},_setDate:function(a,b,e){var f=!b,g=a.selectedMonth,l=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();g===a.selectedMonth&&l===a.selectedYear||e||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(f?"":this._formatDate(a))},
_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(b){var e=this._get(b,"stepMonths"),g="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){a(this).bind(this.getAttribute("data-event"),{prev:function(){window["DP_jQuery_"+f].datepicker._adjustDate(g,-e,"M")},next:function(){window["DP_jQuery_"+f].datepicker._adjustDate(g,+e,"M")},hide:function(){window["DP_jQuery_"+
f].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+f].datepicker._gotoToday(g)},selectDay:function(){return window["DP_jQuery_"+f].datepicker._selectDay(g,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+f].datepicker._selectMonthYear(g,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+f].datepicker._selectMonthYear(g,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,
e,f,g,l,h,u,y,x,z,B,D,w,A,C,E,H,G,O,J,M,L,P,T,V,R,Y,N=new Date,N=this._daylightSavingAdjust(new Date(N.getFullYear(),N.getMonth(),N.getDate())),aa=this._get(a,"isRTL");h=this._get(a,"showButtonPanel");f=this._get(a,"hideIfNoPrevNext");l=this._get(a,"navigationAsDateFormat");var ca=this._getNumberOfMonths(a),U=this._get(a,"showCurrentAtPos");g=this._get(a,"stepMonths");var la=1!==ca[0]||1!==ca[1],Z=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,
9,9)),ma=this._getMinMaxDate(a,"min"),pa=this._getMinMaxDate(a,"max"),U=a.drawMonth-U,qa=a.drawYear;0>U&&(U+=12,qa--);if(pa)for(b=this._daylightSavingAdjust(new Date(pa.getFullYear(),pa.getMonth()-ca[0]*ca[1]+1,pa.getDate())),b=ma&&b<ma?ma:b;this._daylightSavingAdjust(new Date(qa,U,1))>b;)U--,0>U&&(U=11,qa--);a.drawMonth=U;a.drawYear=qa;b=this._get(a,"prevText");b=l?this.formatDate(b,this._daylightSavingAdjust(new Date(qa,U-g,1)),this._getFormatConfig(a)):b;b=this._canAdjustMonth(a,-1,qa,U)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+
b+"'><span class='ui-icon ui-icon-circle-triangle-"+(aa?"e":"w")+"'>"+b+"</span></a>":f?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(aa?"e":"w")+"'>"+b+"</span></a>";e=this._get(a,"nextText");e=l?this.formatDate(e,this._daylightSavingAdjust(new Date(qa,U+g,1)),this._getFormatConfig(a)):e;f=this._canAdjustMonth(a,1,qa,U)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+
(aa?"w":"e")+"'>"+e+"</span></a>":f?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(aa?"w":"e")+"'>"+e+"</span></a>";g=this._get(a,"currentText");e=this._get(a,"gotoCurrent")&&a.currentDay?Z:N;g=l?this.formatDate(g,e,this._getFormatConfig(a)):g;l=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+
"</button>";h=h?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(aa?l:"")+(this._isInRange(a,e)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(aa?"":l)+"</div>":"";l=parseInt(this._get(a,"firstDay"),10);l=isNaN(l)?0:l;g=this._get(a,"showWeek");e=this._get(a,"dayNames");u=this._get(a,"dayNamesMin");y=this._get(a,"monthNames");x=this._get(a,"monthNamesShort");z=this._get(a,
"beforeShowDay");B=this._get(a,"showOtherMonths");D=this._get(a,"selectOtherMonths");w=this._getDefaultDate(a);A="";C;for(E=0;E<ca[0];E++){H="";this.maxRows=4;for(G=0;G<ca[1];G++){O=this._daylightSavingAdjust(new Date(qa,U,a.selectedDay));C=" ui-corner-all";J="";if(la){J+="<div class='ui-datepicker-group";if(1<ca[1])switch(G){case 0:J+=" ui-datepicker-group-first";C=" ui-corner-"+(aa?"right":"left");break;case ca[1]-1:J+=" ui-datepicker-group-last";C=" ui-corner-"+(aa?"left":"right");break;default:J+=
" ui-datepicker-group-middle",C=""}J+="'>"}J+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===E?aa?f:b:"")+(/all|right/.test(C)&&0===E?aa?b:f:"")+this._generateMonthYearHeader(a,U,qa,ma,pa,0<E||0<G,y,x)+"</div><table class='ui-datepicker-calendar'><thead><tr>";M=g?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(C=0;7>C;C++)L=(C+l)%7,M+="<th"+(5<=(C+l+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+e[L]+
"'>"+u[L]+"</span></th>";J+=M+"</tr></thead><tbody>";M=this._getDaysInMonth(qa,U);qa===a.selectedYear&&U===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,M));C=(this._getFirstDayOfMonth(qa,U)-l+7)%7;M=Math.ceil((C+M)/7);this.maxRows=M=la?this.maxRows>M?this.maxRows:M:M;L=this._daylightSavingAdjust(new Date(qa,U,1-C));for(P=0;P<M;P++){J+="<tr>";T=g?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(L)+"</td>":"";for(C=0;7>C;C++)V=z?z.apply(a.input?a.input[0]:null,[L]):[!0,""],
Y=(R=L.getMonth()!==U)&&!D||!V[0]||ma&&L<ma||pa&&L>pa,T+="<td class='"+(5<=(C+l+6)%7?" ui-datepicker-week-end":"")+(R?" ui-datepicker-other-month":"")+(L.getTime()===O.getTime()&&U===a.selectedMonth&&a._keyEvent||w.getTime()===L.getTime()&&w.getTime()===O.getTime()?" "+this._dayOverClass:"")+(Y?" "+this._unselectableClass+" ui-state-disabled":"")+(R&&!B?"":" "+V[1]+(L.getTime()===Z.getTime()?" "+this._currentClass:"")+(L.getTime()===N.getTime()?" ui-datepicker-today":""))+"'"+(R&&!B||!V[2]?"":" title='"+
V[2].replace(/'/g,"&#39;")+"'")+(Y?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(R&&!B?"&#xa0;":Y?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===N.getTime()?" ui-state-highlight":"")+(L.getTime()===Z.getTime()?" ui-state-active":"")+(R?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);J+=T+"</tr>"}U++;
11<U&&(U=0,qa++);J+="</tbody></table>"+(la?"</div>"+(0<ca[0]&&G===ca[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");H+=J}A+=H}return A+=h,a._keyEvent=!1,A},_generateMonthYearHeader:function(a,b,e,f,g,l,h,u){var y,x,z,B=this._get(a,"changeMonth"),D=this._get(a,"changeYear"),w=this._get(a,"showMonthAfterYear"),A="<div class='ui-datepicker-title'>",C="";if(l||!B)C+="<span class='ui-datepicker-month'>"+h[b]+"</span>";else{h=f&&f.getFullYear()===e;y=g&&g.getFullYear()===e;C+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";
for(x=0;12>x;x++)(!h||x>=f.getMonth())&&(!y||x<=g.getMonth())&&(C+="<option value='"+x+"'"+(x===b?" selected='selected'":"")+">"+u[x]+"</option>");C+="</select>"}w||(A+=C+(!l&&B&&D?"":"&#xa0;"));if(!a.yearshtml)if(a.yearshtml="",l||!D)A+="<span class='ui-datepicker-year'>"+e+"</span>";else{u=this._get(a,"yearRange").split(":");z=(new Date).getFullYear();h=function(a){a=a.match(/c[+\-].*/)?e+parseInt(a.substring(1),10):a.match(/[+\-].*/)?z+parseInt(a,10):parseInt(a,10);return isNaN(a)?z:a};b=h(u[0]);
u=Math.max(b,h(u[1]||""));b=f?Math.max(b,f.getFullYear()):b;u=g?Math.min(u,g.getFullYear()):u;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";b<=u;b++)a.yearshtml+="<option value='"+b+"'"+(b===e?" selected='selected'":"")+">"+b+"</option>";a.yearshtml+="</select>";A+=a.yearshtml;a.yearshtml=null}return A+=this._get(a,"yearSuffix"),w&&(A+=(!l&&B&&D?"":"&#xa0;")+C),A+="</div>",A},_adjustInstDate:function(a,b,e){var f=a.drawYear+("Y"===e?b:0),g=a.drawMonth+
("M"===e?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(f,g))+("D"===e?b:0);f=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(f,g,b)));a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();"M"!==e&&"Y"!==e||this._notifyChange(a)},_restrictMinMax:function(a,b){var e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),e=e&&b<e?e:b;return f&&e>f?f:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?
a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,e,f){var g=this._getNumberOfMonths(a);e=this._daylightSavingAdjust(new Date(e,
f+(0>b?b:g[0]*g[1]),1));return 0>b&&e.setDate(this._getDaysInMonth(e.getFullYear(),e.getMonth())),this._isInRange(a,e)},_isInRange:function(a,b){var e,f,g=this._getMinMaxDate(a,"min"),l=this._getMinMaxDate(a,"max"),h=null,u=null,y=this._get(a,"yearRange");return y&&(e=y.split(":"),f=(new Date).getFullYear(),h=parseInt(e[0],10),u=parseInt(e[1],10),e[0].match(/[+\-].*/)&&(h+=f),e[1].match(/[+\-].*/)&&(u+=f)),(!g||b.getTime()>=g.getTime())&&(!l||b.getTime()<=l.getTime())&&(!h||b.getFullYear()>=h)&&(!u||
b.getFullYear()<=u)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,e,f){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(f,
e,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0);0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==
b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(e)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(e))};a.datepicker=new e;a.datepicker.initialized=!1;a.datepicker.uuid=(new Date).getTime();a.datepicker.version=
"1.10.1";window["DP_jQuery_"+f]=a})(jQuery);
(function(a,h){var e={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},b={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.10.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var e=a(this).css(b).offset().top;
0>e&&a(this).css("top",b.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};
this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&a.fn.draggable&&this._makeDraggable();this.options.resizable&&a.fn.resizable&&this._makeResizable();this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=
this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);a=b.parent.children().eq(b.index);a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},
widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var e=this;this._isOpen&&!1!==this._trigger("beforeClose",b)&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||a(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",b)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(a,b){var e=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;
return e&&!b&&this._trigger("focus",a),e},open:function(){var b=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable();b._trigger("focus")}),this._trigger("open"))},_focusTabbable:function(){var a=this.element.find("[autofocus]");a.length||(a=this.element.find(":tabbable"));a.length||
(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));a.length||(a=this.uiDialog);a.eq(0).focus()},_keepFocus:function(b){function e(){var b=this.document[0].activeElement;this.uiDialog[0]===b||a.contains(this.uiDialog[0],b)||this._focusTabbable()}b.preventDefault();e.call(this);this._delay(e)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,
role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)b.preventDefault(),this.close(b);else if(b.keyCode===a.ui.keyCode.TAB){var e=this.uiDialog.find(":tabbable"),l=e.filter(":first"),e=e.filter(":last");b.target!==e[0]&&b.target!==this.uiDialog[0]||b.shiftKey?(b.target===l[0]||b.target===this.uiDialog[0])&&b.shiftKey&&(e.focus(1),b.preventDefault()):(l.focus(1),b.preventDefault())}},
mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});this.uiDialogTitlebarClose=
a("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});b=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(b);this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title||a.html("&#160;");a.text(this.options.title)},
_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var b=this,e=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();a.isEmptyObject(e)||a.isArray(e)&&!e.length?this.uiDialog.removeClass("ui-dialog-buttons"):(a.each(e,function(e,f){var h,m;f=a.isFunction(f)?
{click:f,text:e}:f;f=a.extend({type:"button"},f);h=f.click;f.click=function(){h.apply(b.element[0],arguments)};m={icons:f.icons,text:f.showText};delete f.icons;delete f.showText;a("<button></button>",f).button(m).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var e=this,l=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",
handle:".ui-dialog-titlebar",containment:"document",start:function(k,l){a(this).addClass("ui-dialog-dragging");e._blockFrames();e._trigger("dragStart",k,b(l))},drag:function(a,l){e._trigger("drag",a,b(l))},stop:function(k,h){l.position=[h.position.left-e.document.scrollLeft(),h.position.top-e.document.scrollTop()];a(this).removeClass("ui-dialog-dragging");e._unblockFrames();e._trigger("dragStop",k,b(h))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,
position:a.position,size:a.size}}var e=this,l=this.options,k=l.resizable,h=this.uiDialog.css("position"),k="string"==typeof k?k:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:l.maxWidth,maxHeight:l.maxHeight,minWidth:l.minWidth,minHeight:this._minHeight(),handles:k,start:function(k,l){a(this).addClass("ui-dialog-resizing");e._blockFrames();e._trigger("resizeStart",k,b(l))},resize:function(a,k){e._trigger("resize",
a,b(k))},stop:function(k,h){l.height=a(this).height();l.width=a(this).width();a(this).removeClass("ui-dialog-resizing");e._unblockFrames();e._trigger("resizeStop",k,b(h))}}).css("position",h)},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show();this.uiDialog.position(this.options.position);a||this.uiDialog.hide()},_setOptions:function(g){var f=this,l=!1,k={};a.each(g,
function(a,g){f._setOption(a,g);a in e&&(l=!0);a in b&&(k[a]=g)});l&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",k)},_setOption:function(a,b){var e,k,h=this.uiDialog;"dialogClass"===a&&h.removeClass(this.options.dialogClass).addClass(b);"disabled"!==a&&(this._super(a,b),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+b}),"draggable"===
a&&(e=h.is(":data(ui-draggable)"),e&&!b&&h.draggable("destroy"),!e&&b&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&(k=h.is(":data(ui-resizable)"),k&&!b&&h.resizable("destroy"),k&&"string"==typeof b&&h.resizable("option","handles",b),!k&&!1!==b&&this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,e,k=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});k.minWidth>
k.width&&(k.width=k.minWidth);a=this.uiDialog.css({height:"auto",width:k.width}).outerHeight();b=Math.max(0,k.minHeight-a);e="number"==typeof k.maxHeight?Math.max(0,k.maxHeight-a):"none";"auto"===k.height?this.element.css({minHeight:b,maxHeight:e,height:"auto"}):this.element.height(Math.max(0,k.height-a));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=
a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_createOverlay:function(){this.options.modal&&(a.ui.dialog.overlayInstances||this._delay(function(){a.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(b){a(b.target).closest(".ui-dialog").length||a(b.target).closest(".ui-datepicker").length||
(b.preventDefault(),a(".ui-dialog:visible:last .ui-dialog-content").data("ui-dialog")._focusTabbable())})}),this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),a.ui.dialog.overlayInstances++)},_destroyOverlay:function(){this.options.modal&&this.overlay&&(a.ui.dialog.overlayInstances--,a.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}});a.ui.dialog.overlayInstances=
0;!1!==a.uiBackCompat&&a.widget("ui.dialog",a.ui.dialog,{_position:function(){var b=this.options.position,e=[],l=[0,0],k;if(b){if("string"==typeof b||"object"==typeof b&&"0"in b)e=b.split?b.split(" "):[b[0],b[1]],1===e.length&&(e[1]=e[0]),a.each(["left","top"],function(a,b){+e[a]===e[a]&&(l[a]=e[a],e[a]=b)}),b={my:e[0]+(0>l[0]?l[0]:"+"+l[0])+" "+e[1]+(0>l[1]?l[1]:"+"+l[1]),at:e.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;(k=this.uiDialog.is(":visible"))||
this.uiDialog.show();this.uiDialog.position(b);k||this.uiDialog.hide()}})})(jQuery);
(function(a,h){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&
!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(e){var b=this.options;return this.helper||b.disabled||0<a(e.target).closest(".ui-resizable-handle").length?
!1:(this.handle=this._getHandle(e),this.handle?(a(!0===b.iframeFix?"iframe":b.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var b=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),
a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),
this.originalPageX=e.pageX,this.originalPageY=e.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),b.containment&&this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,b){this.position=this._generatePosition(e);this.positionAbs=this._convertPositionTo("absolute");if(!b){var g=
this._uiHash();if(!1===this._trigger("drag",e,g))return this._mouseUp({}),!1;this.position=g.position}this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");return a.ui.ddmanager&&a.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var b,g=this,f=!1,l=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(l=a.ui.ddmanager.drop(this,e));this.dropped&&(l=this.dropped,this.dropped=
!1);for(b=this.element[0];b&&(b=b.parentNode);)b===document&&(f=!0);return f||"original"!==this.options.helper?("invalid"===this.options.revert&&!l||"valid"===this.options.revert&&l||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,l)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==g._trigger("stop",e)&&g._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1):!1},_mouseUp:function(e){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),
a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,e),a.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){var b=this.options.handle&&a(this.options.handle,this.element).length?!1:!0;return a(this.options.handle,this.element).find("*").addBack().each(function(){this===e.target&&(b=!0)}),b},_createHelper:function(e){var b=this.options;e=a.isFunction(b.helper)?a(b.helper.apply(this.element[0],
[e])):"clone"===b.helper?this.element.clone().removeAttr("id"):this.element;return e.parents("body").length||e.appendTo("parent"===b.appendTo?this.element[0].parentNode:b.appendTo),e[0]!==this.element[0]&&!/(fixed|absolute)/.test(e.css("position"))&&e.css("position","absolute"),e},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" "));a.isArray(e)&&(e={left:+e[0],top:+e[1]||0});"left"in e&&(this.offset.click.left=e.left+this.margins.left);"right"in e&&(this.offset.click.left=this.helperProportions.width-
e.right+this.margins.left);"top"in e&&(this.offset.click.top=e.top+this.margins.top);"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===
document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)e={top:0,left:0};return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||
0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,b,g;e=this.options;"parent"===e.containment&&
(e.containment=this.helper[0].parentNode);if("document"===e.containment||"window"===e.containment)this.containment=["document"===e.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"===e.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"===e.containment?0:a(window).scrollLeft())+a("document"===e.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"===e.containment?0:
a(window).scrollTop())+(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(/^(document|window|parent)$/.test(e.containment)||e.containment.constructor===Array)e.containment.constructor===Array&&(this.containment=e.containment);else if(b=a(e.containment),g=b[0])e="hidden"!==a(g).css("overflow"),this.containment=[(parseInt(a(g).css("borderLeftWidth"),10)||0)+(parseInt(a(g).css("paddingLeft"),10)||0),(parseInt(a(g).css("borderTopWidth"),
10)||0)+(parseInt(a(g).css("paddingTop"),10)||0),(e?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(a(g).css("borderLeftWidth"),10)||0)-(parseInt(a(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(a(g).css("borderTopWidth"),10)||0)-(parseInt(a(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=b},
_convertPositionTo:function(e,b){b||(b=this.position);var g="absolute"===e?1:-1,f="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(f[0].tagName);return{top:b.top+this.offset.relative.top*g+this.offset.parent.top*g-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:f.scrollTop())*g,left:b.left+this.offset.relative.left*g+this.offset.parent.left*g-("fixed"===this.cssPosition?
-this.scrollParent.scrollLeft():l?0:f.scrollLeft())*g}},_generatePosition:function(e){var b,g,f,l,k=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,m=/(html|body)/i.test(h[0].tagName),p=e.pageX,q=e.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(g=this.relative_container.offset(),b=[this.containment[0]+g.left,this.containment[1]+g.top,this.containment[2]+
g.left,this.containment[3]+g.top]):b=this.containment,e.pageX-this.offset.click.left<b[0]&&(p=b[0]+this.offset.click.left),e.pageY-this.offset.click.top<b[1]&&(q=b[1]+this.offset.click.top),e.pageX-this.offset.click.left>b[2]&&(p=b[2]+this.offset.click.left),e.pageY-this.offset.click.top>b[3]&&(q=b[3]+this.offset.click.top)),k.grid&&(f=k.grid[1]?this.originalPageY+Math.round((q-this.originalPageY)/k.grid[1])*k.grid[1]:this.originalPageY,q=b?f-this.offset.click.top>=b[1]||f-this.offset.click.top>b[3]?
f:f-this.offset.click.top>=b[1]?f-k.grid[1]:f+k.grid[1]:f,l=k.grid[0]?this.originalPageX+Math.round((p-this.originalPageX)/k.grid[0])*k.grid[0]:this.originalPageX,p=b?l-this.offset.click.left>=b[0]||l-this.offset.click.left>b[2]?l:l-this.offset.click.left>=b[0]?l-k.grid[0]:l+k.grid[0]:l)),{top:q-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():m?0:h.scrollTop()),left:p-this.offset.click.left-this.offset.relative.left-
this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():m?0:h.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(e,b,g){return g=g||this._uiHash(),a.ui.plugin.call(this,e,[b,g]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,e,b,g)},plugins:{},
_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(e,b){var g=a(this).data("ui-draggable"),f=g.options,l=a.extend({},b,{item:g.element});g.sortables=[];a(f.connectToSortable).each(function(){var b=a.data(this,"ui-sortable");b&&!b.options.disabled&&(g.sortables.push({instance:b,shouldRevert:b.options.revert}),b.refreshPositions(),b._trigger("activate",
e,l))})},stop:function(e,b){var g=a(this).data("ui-draggable"),f=a.extend({},b,{item:g.element});a.each(g.sortables,function(){this.instance.isOver?(this.instance.isOver=0,g.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===g.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",
e,f))})},drag:function(e,b){var g=a(this).data("ui-draggable"),f=this;a.each(g.sortables,function(){var l=!1,k=this;this.instance.positionAbs=g.positionAbs;this.instance.helperProportions=g.helperProportions;this.instance.offset.click=g.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&(l=!0,a.each(g.sortables,function(){return this.instance.positionAbs=g.positionAbs,this.instance.helperProportions=g.helperProportions,this.instance.offset.click=g.offset.click,this!==k&&this.instance._intersectsWith(this.instance.containerCache)&&
a.contains(k.instance.element[0],this.instance.element[0])&&(l=!1),l}));l?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(f).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return b.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=g.offset.click.top,
this.instance.offset.click.left=g.offset.click.left,this.instance.offset.parent.left-=g.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=g.offset.parent.top-this.instance.offset.parent.top,g._trigger("toSortable",e),g.dropped=this.instance.element,g.currentItem=g.element,this.instance.fromOutside=g),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=
!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),g._trigger("fromSortable",e),g.dropped=!1)})}});a.ui.plugin.add("draggable","cursor",{start:function(){var e=a("body"),b=a(this).data("ui-draggable").options;e.css("cursor")&&(b._cursor=e.css("cursor"));e.css("cursor",b.cursor)},stop:function(){var e=
a(this).data("ui-draggable").options;e._cursor&&a("body").css("cursor",e._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(e,b){var g=a(b.helper),f=a(this).data("ui-draggable").options;g.css("opacity")&&(f._opacity=g.css("opacity"));g.css("opacity",f.opacity)},stop:function(e,b){var g=a(this).data("ui-draggable").options;g._opacity&&a(b.helper).css("opacity",g._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var e=a(this).data("ui-draggable");e.scrollParent[0]!==
document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var b=a(this).data("ui-draggable"),g=b.options,f=!1;b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName?(g.axis&&"x"===g.axis||(b.overflowOffset.top+b.scrollParent[0].offsetHeight-e.pageY<g.scrollSensitivity?b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop+g.scrollSpeed:e.pageY-b.overflowOffset.top<g.scrollSensitivity&&(b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop-
g.scrollSpeed)),g.axis&&"y"===g.axis||(b.overflowOffset.left+b.scrollParent[0].offsetWidth-e.pageX<g.scrollSensitivity?b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft+g.scrollSpeed:e.pageX-b.overflowOffset.left<g.scrollSensitivity&&(b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft-g.scrollSpeed))):(g.axis&&"x"===g.axis||(e.pageY-a(document).scrollTop()<g.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed):a(window).height()-(e.pageY-a(document).scrollTop())<
g.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed))),g.axis&&"y"===g.axis||(e.pageX-a(document).scrollLeft()<g.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed):a(window).width()-(e.pageX-a(document).scrollLeft())<g.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed))));!1!==f&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(b,e)}});a.ui.plugin.add("draggable","snap",{start:function(){var e=
a(this).data("ui-draggable"),b=e.options;e.snapElements=[];a(b.snap.constructor!==String?b.snap.items||":data(ui-draggable)":b.snap).each(function(){var b=a(this),f=b.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:f.top,left:f.left})})},drag:function(e,b){var g,f,l,k,h,m,p,q,r,t,u=a(this).data("ui-draggable"),y=u.options,x=y.snapTolerance,z=b.offset.left,B=z+u.helperProportions.width,D=b.offset.top,w=D+u.helperProportions.height;for(r=
u.snapElements.length-1;0<=r;r--)h=u.snapElements[r].left,m=h+u.snapElements[r].width,p=u.snapElements[r].top,q=p+u.snapElements[r].height,h-x<z&&z<m+x&&p-x<D&&D<q+x||h-x<z&&z<m+x&&p-x<w&&w<q+x||h-x<B&&B<m+x&&p-x<D&&D<q+x||h-x<B&&B<m+x&&p-x<w&&w<q+x?("inner"!==y.snapMode&&(g=Math.abs(p-w)<=x,f=Math.abs(q-D)<=x,l=Math.abs(h-B)<=x,k=Math.abs(m-z)<=x,g&&(b.position.top=u._convertPositionTo("relative",{top:p-u.helperProportions.height,left:0}).top-u.margins.top),f&&(b.position.top=u._convertPositionTo("relative",
{top:q,left:0}).top-u.margins.top),l&&(b.position.left=u._convertPositionTo("relative",{top:0,left:h-u.helperProportions.width}).left-u.margins.left),k&&(b.position.left=u._convertPositionTo("relative",{top:0,left:m}).left-u.margins.left)),t=g||f||l||k,"outer"!==y.snapMode&&(g=Math.abs(p-D)<=x,f=Math.abs(q-w)<=x,l=Math.abs(h-z)<=x,k=Math.abs(m-B)<=x,g&&(b.position.top=u._convertPositionTo("relative",{top:p,left:0}).top-u.margins.top),f&&(b.position.top=u._convertPositionTo("relative",{top:q-u.helperProportions.height,
left:0}).top-u.margins.top),l&&(b.position.left=u._convertPositionTo("relative",{top:0,left:h}).left-u.margins.left),k&&(b.position.left=u._convertPositionTo("relative",{top:0,left:m-u.helperProportions.width}).left-u.margins.left)),!u.snapElements[r].snapping&&(g||f||l||k||t)&&u.options.snap.snap&&u.options.snap.snap.call(u.element,e,a.extend(u._uiHash(),{snapItem:u.snapElements[r].item})),u.snapElements[r].snapping=g||f||l||k||t):(u.snapElements[r].snapping&&u.options.snap.release&&u.options.snap.release.call(u.element,
e,a.extend(u._uiHash(),{snapItem:u.snapElements[r].item})),u.snapElements[r].snapping=!1)}});a.ui.plugin.add("draggable","stack",{start:function(){var e,b=this.data("ui-draggable").options,b=a.makeArray(a(b.stack)).sort(function(b,e){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(e).css("zIndex"),10)||0)});b.length&&(e=parseInt(a(b[0]).css("zIndex"),10)||0,a(b).each(function(b){a(this).css("zIndex",e+b)}),this.css("zIndex",e+b.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(e,
b){var g=a(b.helper),f=a(this).data("ui-draggable").options;g.css("zIndex")&&(f._zIndex=g.css("zIndex"));g.css("zIndex",f.zIndex)},stop:function(e,b){var g=a(this).data("ui-draggable").options;g._zIndex&&a(b.helper).css("zIndex",g._zIndex)}})})(jQuery);
(function(a,h){a.widget("ui.droppable",{version:"1.10.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,b=e.accept;this.isover=!1;this.isout=!0;this.accept=a.isFunction(b)?b:function(a){return a.is(b)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[e.scope]=
a.ui.ddmanager.droppables[e.scope]||[];a.ui.ddmanager.droppables[e.scope].push(this);e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,b=a.ui.ddmanager.droppables[this.options.scope];e<b.length;e++)b[e]===this&&b.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,b){"accept"===e&&(this.accept=a.isFunction(b)?b:function(a){return a.is(b)});a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var b=
a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);b&&this._trigger("activate",e,this.ui(b))},_deactivate:function(e){var b=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);b&&this._trigger("deactivate",e,this.ui(b))},_over:function(e){var b=a.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!==this.element[0]&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),
this._trigger("over",e,this.ui(b)))},_out:function(e){var b=a.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!==this.element[0]&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(b)))},_drop:function(e,b){var g=b||a.ui.ddmanager.current,f=!1;return g&&(g.currentItem||g.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=
a.data(this,"ui-droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope===g.options.scope&&b.accept.call(b.element[0],g.currentItem||g.element)&&a.ui.intersect(g,a.extend(b,{offset:b.element.offset()}),b.options.tolerance))return f=!0,!1}),f?!1:this.accept.call(this.element[0],g.currentItem||g.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(g)),
this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.ui.intersect=function(a,b,g){if(!b.offset)return!1;var f,l,k=(a.positionAbs||a.position.absolute).left,h=k+a.helperProportions.width,m=(a.positionAbs||a.position.absolute).top,p=m+a.helperProportions.height,q=b.offset.left,r=q+b.proportions.width,t=b.offset.top,u=t+b.proportions.height;switch(g){case "fit":return q<=k&&h<=r&&t<=m&&p<=u;case "intersect":return q<
k+a.helperProportions.width/2&&h-a.helperProportions.width/2<r&&t<m+a.helperProportions.height/2&&p-a.helperProportions.height/2<u;case "pointer":return f=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,l=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,l>t&&l<t+b.proportions.height&&f>q&&f<q+b.proportions.width;case "touch":return(m>=t&&m<=u||p>=t&&p<=u||m<t&&p>u)&&(k>=q&&k<=r||h>=q&&h<=r||k<q&&h>r);default:return!1}};a.ui.ddmanager={current:null,
droppables:{"default":[]},prepareOffsets:function(e,b){var g,f,l=a.ui.ddmanager.droppables[e.options.scope]||[],k=b?b.type:null,h=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();g=0;a:for(;g<l.length;g++)if(!(l[g].options.disabled||e&&!l[g].accept.call(l[g].element[0],e.currentItem||e.element))){for(f=0;f<h.length;f++)if(h[f]===l[g].element[0]){l[g].proportions.height=0;continue a}l[g].visible="none"!==l[g].element.css("display");l[g].visible&&("mousedown"===k&&l[g]._activate.call(l[g],
b),l[g].offset=l[g].element.offset(),l[g].proportions={width:l[g].element[0].offsetWidth,height:l[g].element[0].offsetHeight})}},drop:function(e,b){var g=!1;return a.each(a.ui.ddmanager.droppables[e.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(e,this,this.options.tolerance)&&(g=this._drop.call(this,b)||g),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,
b)))}),g},dragStart:function(e,b){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||a.ui.ddmanager.prepareOffsets(e,b)})},drag:function(e,b){e.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(e,b);a.each(a.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var g,f,l,k=a.ui.intersect(e,this,this.options.tolerance);if(k=!k&&this.isover?"isout":k&&!this.isover?"isover":null)this.options.greedy&&
(f=this.options.scope,l=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===f}),l.length&&(g=a.data(l[0],"ui-droppable"),g.greedyChild="isover"===k)),g&&"isover"===k&&(g.isover=!1,g.isout=!0,g._out.call(g,b)),this[k]=!0,this["isout"===k?"isover":"isout"]=!1,this["isover"===k?"_over":"_out"].call(this,b),g&&"isout"===k&&(g.isout=!1,g.isover=!0,g._over.call(g,b))}})},dragStop:function(e,b){e.element.parentsUntil("body").unbind("scroll.droppable");
e.options.refreshPositions||a.ui.ddmanager.prepareOffsets(e,b)}}})(jQuery);
jQuery.effects||function(a,h){a.effects={effect:{}};(function(a,b){function g(a,b,e){var f=q[b.type]||{};return null==a?e||!b.def?null:b.def:(a=f.floor?~~a:parseFloat(a),isNaN(a)?b.def:f.mod?(a+f.mod)%f.mod:0>a?0:f.max<a?f.max:a)}function f(b){var f=m(),g=f._rgba=[];return b=b.toLowerCase(),y(h,function(a,e){var k,l=e.re.exec(b),l=l&&e.parse(l),h=e.space||"rgba";if(l)return k=f[h](l),f[p[h].cache]=k[p[h].cache],g=f._rgba=k._rgba,!1}),g.length?("0,0,0,0"===g.join()&&a.extend(g,u.transparent),f):u[b]}
function l(a,b,e){return e=(e+1)%1,1>6*e?a+(b-a)*e*6:1>2*e?b:2>3*e?a+(b-a)*(2/3-e)*6:a}var k=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],
16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],m=a.Color=function(b,f,g,k){return new a.Color.fn.parse(b,f,g,k)},p={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,
type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},q={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},r=m.support={},t=a("<p>")[0],u,y=a.each;t.style.cssText="background-color:rgba(1,1,1,.5)";r.rgba=-1<t.style.backgroundColor.indexOf("rgba");y(p,function(a,b){b.cache="_"+a;b.props.alpha={idx:3,type:"percent",def:1}});m.fn=a.extend(m.prototype,{parse:function(k,l,h,n){if(k===b)return this._rgba=[null,null,
null,null],this;if(k.jquery||k.nodeType)k=a(k).css(l),l=b;var r=this,q=a.type(k),t=this._rgba=[];l!==b&&(k=[k,l,h,n],q="array");if("string"===q)return this.parse(f(k)||u._default);if("array"===q)return y(p.rgba.props,function(a,b){t[b.idx]=g(k[b.idx],b)}),this;if("object"===q)return k instanceof m?y(p,function(a,b){k[b.cache]&&(r[b.cache]=k[b.cache].slice())}):y(p,function(b,f){var l=f.cache;y(f.props,function(a,b){if(!r[l]&&f.to){if("alpha"===a||null==k[a])return;r[l]=f.to(r._rgba)}r[l][b.idx]=g(k[a],
b,!0)});r[l]&&0>a.inArray(null,r[l].slice(0,3))&&(r[l][3]=1,f.from&&(r._rgba=f.from(r[l])))}),this},is:function(a){var b=m(a),e=!0,f=this;return y(p,function(a,g){var k,l=b[g.cache];return l&&(k=f[g.cache]||g.to&&g.to(f._rgba)||[],y(g.props,function(a,b){if(null!=l[b.idx])return e=l[b.idx]===k[b.idx],e})),e}),e},_space:function(){var a=[],b=this;return y(p,function(e,f){b[f.cache]&&a.push(e)}),a.pop()},transition:function(a,b){var e=m(a),f=e._space(),k=p[f],l=0===this.alpha()?m("transparent"):this,
h=l[k.cache]||k.to(l._rgba),n=h.slice();return e=e[k.cache],y(k.props,function(a,f){var k=f.idx,l=h[k],m=e[k],r=q[f.type]||{};null!==m&&(null===l?n[k]=m:(r.mod&&(m-l>r.mod/2?l+=r.mod:l-m>r.mod/2&&(l-=r.mod)),n[k]=g((m-l)*b+l,f)))}),this[f](n)},blend:function(b){if(1===this._rgba[3])return this;var f=this._rgba.slice(),g=f.pop(),k=m(b)._rgba;return m(a.map(f,function(a,b){return(1-g)*k[b]+g*a}))},toRgbaString:function(){var b="rgba(",f=a.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});return 1===
f[3]&&(f.pop(),b="rgb("),b+f.join()+")"},toHslaString:function(){var b="hsla(",f=a.map(this.hsla(),function(a,b){return null==a&&(a=2<b?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===f[3]&&(f.pop(),b="hsl("),b+f.join()+")"},toHexString:function(b){var f=this._rgba.slice(),g=f.pop();return b&&f.push(~~(255*g)),"#"+a.map(f,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});m.fn.parse.prototype=
m.fn;p.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/255,e=a[1]/255,f=a[2]/255;a=a[3];var g=Math.max(b,e,f),k=Math.min(b,e,f),l=g-k,h=g+k,m=.5*h,n,r;return k===g?n=0:b===g?n=60*(e-f)/l+360:e===g?n=60*(f-b)/l+120:n=60*(b-e)/l+240,0===l?r=0:.5>=m?r=l/h:r=l/(2-h),[Math.round(n)%360,r,m,null==a?1:a]};p.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,e=a[1],f=a[2];a=a[3];e=.5>=f?f*(1+e):f+e-f*e;f=
2*f-e;return[Math.round(255*l(f,e,b+1/3)),Math.round(255*l(f,e,b)),Math.round(255*l(f,e,b-1/3)),a]};y(p,function(f,l){var h=l.props,n=l.cache,r=l.to,q=l.from;m.fn[f]=function(f){r&&!this[n]&&(this[n]=r(this._rgba));if(f===b)return this[n].slice();var k,l=a.type(f),p="array"===l||"object"===l?f:arguments,u=this[n].slice();return y(h,function(a,b){var e=p["object"===l?a:b.idx];null==e&&(e=u[b.idx]);u[b.idx]=g(e,b)}),q?(k=m(q(u)),k[n]=u,k):m(u)};y(h,function(b,g){m.fn[b]||(m.fn[b]=function(l){var h=
a.type(l),m="alpha"===b?this._hsla?"hsla":"rgba":f,n=this[m](),r=n[g.idx],q;return"undefined"===h?r:("function"===h&&(l=l.call(this,r),h=a.type(l)),null==l&&g.empty?this:("string"===h&&(q=k.exec(l),q&&(l=r+parseFloat(q[2])*("+"===q[1]?1:-1))),n[g.idx]=l,this[m](n)))})})});m.hook=function(b){b=b.split(" ");y(b,function(b,g){a.cssHooks[g]={set:function(b,k){var l,h="";if("transparent"!==k&&("string"!==a.type(k)||(l=f(k)))){k=m(l||k);if(!r.rgba&&1!==k._rgba[3]){for(l="backgroundColor"===g?b.parentNode:
b;(""===h||"transparent"===h)&&l&&l.style;)try{h=a.css(l,"backgroundColor"),l=l.parentNode}catch(n){}k=k.blend(h&&"transparent"!==h?h:"_default")}k=k.toRgbaString()}try{b.style[g]=k}catch(q){}}};a.fx.step[g]=function(b){b.colorInit||(b.start=m(b.elem,g),b.end=m(b.end),b.colorInit=!0);a.cssHooks[g].set(b.elem,b.start.transition(b.end,b.pos))}})};m.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");
a.cssHooks.borderColor={expand:function(a){var b={};return y(["Top","Right","Bottom","Left"],function(e,f){b["border"+f+"Color"]=a}),b}};u=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){function e(b){var e,
g=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,h={};if(g&&g.length&&g[0]&&g[g[0]])for(b=g.length;b--;)e=g[b],"string"==typeof g[e]&&(h[a.camelCase(e)]=g[e]);else for(e in g)"string"==typeof g[e]&&(h[e]=g[e]);return h}var b=["add","remove","toggle"],g={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,
e){a.fx.step[e]=function(a){if("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)jQuery.style(a.elem,e,a.end),a.setAttr=!0}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a.effects.animateClass=function(f,l,k,h){var m=a.speed(l,k,h);return this.queue(function(){var k=a(this),l=k.attr("class")||"",h,n=m.children?k.find("*").addBack():k,n=n.map(function(){return{el:a(this),start:e(this)}});h=function(){a.each(b,function(a,b){f[b]&&k[b+
"Class"](f[b])})};h();n=n.map(function(){this.end=e(this.el[0]);var b=this.start,f=this.end,k={},l,h;for(l in f)h=f[l],b[l]===h||g[l]||!a.fx.step[l]&&isNaN(parseFloat(h))||(k[l]=h);return this.diff=k,this});k.attr("class",l);n=n.map(function(){var b=this,e=a.Deferred(),f=a.extend({},m,{queue:!1,complete:function(){e.resolve(b)}});return this.el.animate(this.diff,f),e.promise()});a.when.apply(a,n.get()).done(function(){h();a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,
"")})});m.complete.call(k[0])})})};a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,e,g,h){return e?a.effects.animateClass.call(this,{add:b},e,g,h):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,e,g,h){return 1<arguments.length?a.effects.animateClass.call(this,{remove:b},e,g,h):this._removeClass.apply(this,arguments)},_toggleClass:a.fn.toggleClass,toggleClass:function(b,e,g,n,m){return"boolean"==typeof e||e===h?g?a.effects.animateClass.call(this,e?{add:b}:{remove:b},
g,n,m):this._toggleClass(b,e):a.effects.animateClass.call(this,{toggle:b},e,g,n)},switchClass:function(b,e,g,h,m){return a.effects.animateClass.call(this,{add:e,remove:b},g,h,m)}})})();(function(){function e(b,e,l,k){a.isPlainObject(b)&&(e=b,b=b.effect);b={effect:b};null==e&&(e={});a.isFunction(e)&&(k=e,l=null,e={});if("number"==typeof e||a.fx.speeds[e])k=l,l=e,e={};return a.isFunction(l)&&(k=l,l=null),e&&a.extend(b,e),l=l||e.duration,b.duration=a.fx.off?0:"number"==typeof l?l:l in a.fx.speeds?a.fx.speeds[l]:
a.fx.speeds._default,b.complete=k||e.complete,b}function b(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"==typeof b&&!a.effects.effect[b]}a.extend(a.effects,{version:"1.10.1",save:function(a,b){for(var e=0;e<b.length;e++)null!==b[e]&&a.data("ui-effects-"+b[e],a[0].style[b[e]])},restore:function(a,b){var e,k;for(k=0;k<b.length;k++)null!==b[k]&&(e=a.data("ui-effects-"+b[k]),e===h&&(e=""),a.css(b[k],e))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,
b){var e,k;switch(a[0]){case "top":e=0;break;case "middle":e=.5;break;case "bottom":e=1;break;default:e=a[0]/b.height}switch(a[1]){case "left":k=0;break;case "center":k=.5;break;case "right":k=1;break;default:k=a[1]/b.width}return{x:k,y:e}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var e={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},l=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",
margin:0,padding:0}),k={width:b.width(),height:b.height()},h=document.activeElement;try{h.id}catch(m){h=document.body}return b.wrap(l),(b[0]===h||a.contains(b[0],h))&&a(h).focus(),l=b.parent(),"static"===b.css("position")?(l.css({position:"relative"}),b.css({position:"relative"})):(a.extend(e,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,k){e[k]=b.css(k);isNaN(parseInt(e[k],10))&&(e[k]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",
bottom:"auto"})),b.css(k),l.css(e).show()},removeWrapper:function(b){var e=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===e||a.contains(b[0],e))&&a(e).focus()),b},setTransition:function(b,e,l,k){return k=k||{},a.each(e,function(a,e){var f=b.cssUnit(e);0<f[0]&&(k[e]=f[0]*l+f[1])}),k}});a.fn.extend({effect:function(){function b(e){function g(){a.isFunction(l)&&l.call(k[0]);a.isFunction(e)&&e()}var k=a(this),l=f.complete,t=f.mode;(k.is(":hidden")?
"hide"===t:"show"===t)?g():h.call(k[0],f,g)}var f=e.apply(this,arguments),l=f.mode,k=f.queue,h=a.effects.effect[f.effect];return a.fx.off||!h?l?this[l](f.duration,f.complete):this.each(function(){f.complete&&f.complete.call(this)}):!1===k?this.each(b):this.queue(k||"fx",b)},_show:a.fn.show,show:function(a){if(b(a))return this._show.apply(this,arguments);var f=e.apply(this,arguments);return f.mode="show",this.effect.call(this,f)},_hide:a.fn.hide,hide:function(a){if(b(a))return this._hide.apply(this,
arguments);var f=e.apply(this,arguments);return f.mode="hide",this.effect.call(this,f)},__toggle:a.fn.toggle,toggle:function(g){if(b(g)||"boolean"==typeof g||a.isFunction(g))return this.__toggle.apply(this,arguments);var f=e.apply(this,arguments);return f.mode="toggle",this.effect.call(this,f)},cssUnit:function(b){var e=this.css(b),l=[];return a.each(["em","px","%","pt"],function(a,b){0<e.indexOf(b)&&(l=[parseFloat(e),b])}),l}})})();(function(){var e={};a.each(["Quad","Cubic","Quart","Quint","Expo"],
function(a,g){e[g]=function(e){return Math.pow(e,a+2)}});a.extend(e,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var e,f=4;a<((e=Math.pow(2,--f))-1)/11;);return 1/Math.pow(4,3-f)-7.5625*Math.pow((3*e-2)/22-a,2)}});a.each(e,function(b,e){a.easing["easeIn"+b]=e;a.easing["easeOut"+b]=function(a){return 1-
e(1-a)};a.easing["easeInOut"+b]=function(a){return.5>a?e(2*a)/2:1-e(-2*a+2)/2}})})()}(jQuery);
(function(a,h){var e=/up|down|vertical/,b=/up|left|vertical|horizontal/;a.effects.effect.blind=function(g,f){var l=a(this),k="position top bottom left right height width".split(" "),h=a.effects.setMode(l,g.mode||"hide"),m=g.direction||"up",p=e.test(m),q=p?"height":"width",r=p?"top":"left",m=b.test(m),t={},u="show"===h,y,x,z;l.parent().is(".ui-effects-wrapper")?a.effects.save(l.parent(),k):a.effects.save(l,k);l.show();y=a.effects.createWrapper(l).css({overflow:"hidden"});x=y[q]();z=parseFloat(y.css(r))||
0;t[q]=u?x:0;m||(l.css(p?"bottom":"right",0).css(p?"top":"left","auto").css({position:"absolute"}),t[r]=u?z:x+z);u&&(y.css(q,0),m||y.css(r,z+x));y.animate(t,{duration:g.duration,easing:g.easing,queue:!1,complete:function(){"hide"===h&&l.hide();a.effects.restore(l,k);a.effects.removeWrapper(l);f()}})}})(jQuery);
(function(a,h){a.effects.effect.bounce=function(e,b){var g=a(this),f="position top bottom left right height width".split(" "),l=a.effects.setMode(g,e.mode||"effect"),k="hide"===l,h="show"===l,m=e.direction||"up",l=e.distance,p=e.times||5,q=2*p+(h||k?1:0),r=e.duration/q,t=e.easing,u="up"===m||"down"===m?"top":"left",m="up"===m||"left"===m,y,x,z=g.queue(),B=z.length;(h||k)&&f.push("opacity");a.effects.save(g,f);g.show();a.effects.createWrapper(g);l||(l=g["top"===u?"outerHeight":"outerWidth"]()/3);h&&
(x={opacity:1},x[u]=0,g.css("opacity",0).css(u,m?2*-l:2*l).animate(x,r,t));k&&(l/=Math.pow(2,p-1));x={};for(h=x[u]=0;h<p;h++)y={},y[u]=(m?"-=":"+=")+l,g.animate(y,r,t).animate(x,r,t),l=k?2*l:l/2;k&&(y={opacity:0},y[u]=(m?"-=":"+=")+l,g.animate(y,r,t));g.queue(function(){k&&g.hide();a.effects.restore(g,f);a.effects.removeWrapper(g);b()});1<B&&z.splice.apply(z,[1,0].concat(z.splice(B,q+1)));g.dequeue()}})(jQuery);
(function(a,h){a.effects.effect.clip=function(e,b){var g=a(this),f="position top bottom left right height width".split(" "),l="show"===a.effects.setMode(g,e.mode||"hide"),k="vertical"===(e.direction||"vertical"),h=k?"height":"width",k=k?"top":"left",m={},p,q;a.effects.save(g,f);g.show();p=a.effects.createWrapper(g).css({overflow:"hidden"});p="IMG"===g[0].tagName?p:g;q=p[h]();l&&(p.css(h,0),p.css(k,q/2));m[h]=l?q:0;m[k]=l?0:q/2;p.animate(m,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){l||
g.hide();a.effects.restore(g,f);a.effects.removeWrapper(g);b()}})}})(jQuery);
(function(a,h){a.effects.effect.drop=function(e,b){var g=a(this),f="position top bottom left right opacity height width".split(" "),l=a.effects.setMode(g,e.mode||"hide"),k="show"===l,h=e.direction||"left",m="up"===h||"down"===h?"top":"left",h="up"===h||"left"===h?"pos":"neg",p={opacity:k?1:0},q;a.effects.save(g,f);g.show();a.effects.createWrapper(g);q=e.distance||g["top"===m?"outerHeight":"outerWidth"](!0)/2;k&&g.css("opacity",0).css(m,"pos"===h?-q:q);p[m]=(k?"pos"===h?"+=":"-=":"pos"===h?"-=":"+=")+
q;g.animate(p,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===l&&g.hide();a.effects.restore(g,f);a.effects.removeWrapper(g);b()}})}})(jQuery);
(function(a,h){a.effects.effect.explode=function(e,b){function g(){r.push(this);r.length===f*l&&(k.css({visibility:"visible"}),a(r).remove(),h||k.hide(),b())}var f=e.pieces?Math.round(Math.sqrt(e.pieces)):3,l=f,k=a(this),h="show"===a.effects.setMode(k,e.mode||"hide"),m=k.show().css("visibility","hidden").offset(),p=Math.ceil(k.outerWidth()/l),q=Math.ceil(k.outerHeight()/f),r=[],t,u,y,x,z,B;for(t=0;t<f;t++)for(x=m.top+t*q,B=t-(f-1)/2,u=0;u<l;u++)y=m.left+u*p,z=u-(l-1)/2,k.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",
visibility:"visible",left:-u*p,top:-t*q}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:q,left:y+(h?z*p:0),top:x+(h?B*q:0),opacity:h?0:1}).animate({left:y+(h?0:z*p),top:x+(h?0:B*q),opacity:h?1:0},e.duration||500,e.easing,g)}})(jQuery);(function(a,h){a.effects.effect.fade=function(e,b){var g=a(this),f=a.effects.setMode(g,e.mode||"toggle");g.animate({opacity:f},{queue:!1,duration:e.duration,easing:e.easing,complete:b})}})(jQuery);
(function(a,h){a.effects.effect.fold=function(e,b){var g=a(this),f="position top bottom left right height width".split(" "),l=a.effects.setMode(g,e.mode||"hide"),k="show"===l,h="hide"===l,l=e.size||15,m=/([0-9]+)%/.exec(l),p=!!e.horizFirst,q=k!==p,r=q?["width","height"]:["height","width"],t=e.duration/2,u,y={},x={};a.effects.save(g,f);g.show();u=a.effects.createWrapper(g).css({overflow:"hidden"});q=q?[u.width(),u.height()]:[u.height(),u.width()];m&&(l=parseInt(m[1],10)/100*q[h?0:1]);k&&u.css(p?{height:0,
width:l}:{height:l,width:0});y[r[0]]=k?q[0]:l;x[r[1]]=k?q[1]:0;u.animate(y,t,e.easing).animate(x,t,e.easing,function(){h&&g.hide();a.effects.restore(g,f);a.effects.removeWrapper(g);b()})}})(jQuery);
(function(a,h){a.effects.effect.highlight=function(e,b){var g=a(this),f=["backgroundImage","backgroundColor","opacity"],l=a.effects.setMode(g,e.mode||"show"),k={backgroundColor:g.css("backgroundColor")};"hide"===l&&(k.opacity=0);a.effects.save(g,f);g.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(k,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===l&&g.hide();a.effects.restore(g,f);b()}})}})(jQuery);
(function(a,h){a.effects.effect.pulsate=function(e,b){var g=a(this),f=a.effects.setMode(g,e.mode||"show"),l="show"===f,k="hide"===f,f=2*(e.times||5)+(l||"hide"===f?1:0),h=e.duration/f,m=0,p=g.queue(),q=p.length;if(l||!g.is(":visible"))g.css("opacity",0).show(),m=1;for(l=1;l<f;l++)g.animate({opacity:m},h,e.easing),m=1-m;g.animate({opacity:m},h,e.easing);g.queue(function(){k&&g.hide();b()});1<q&&p.splice.apply(p,[1,0].concat(p.splice(q,f+1)));g.dequeue()}})(jQuery);
(function(a,h){a.effects.effect.puff=function(e,b){var g=a(this),f=a.effects.setMode(g,e.mode||"hide"),l="hide"===f,k=parseInt(e.percent,10)||150,h=k/100,m={height:g.height(),width:g.width(),outerHeight:g.outerHeight(),outerWidth:g.outerWidth()};a.extend(e,{effect:"scale",queue:!1,fade:!0,mode:f,complete:b,percent:l?k:100,from:l?m:{height:m.height*h,width:m.width*h,outerHeight:m.outerHeight*h,outerWidth:m.outerWidth*h}});g.effect(e)};a.effects.effect.scale=function(e,b){var g=a(this),f=a.extend(!0,
{},e),l=a.effects.setMode(g,e.mode||"effect"),k=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===l?0:100),h=e.direction||"both",m=e.origin,p={height:g.height(),width:g.width(),outerHeight:g.outerHeight(),outerWidth:g.outerWidth()},q="horizontal"!==h?k/100:1,k="vertical"!==h?k/100:1;f.effect="size";f.queue=!1;f.complete=b;"effect"!==l&&(f.origin=m||["middle","center"],f.restore=!0);f.from=e.from||("show"===l?{height:0,width:0,outerHeight:0,outerWidth:0}:p);f.to={height:p.height*q,width:p.width*
k,outerHeight:p.outerHeight*q,outerWidth:p.outerWidth*k};f.fade&&("show"===l&&(f.from.opacity=0,f.to.opacity=1),"hide"===l&&(f.from.opacity=1,f.to.opacity=0));g.effect(f)};a.effects.effect.size=function(e,b){var g,f,l,k,h,m,p=a(this),q="position top bottom left right width height overflow opacity".split(" ");h="position top bottom left right overflow opacity".split(" ");var r=["width","height","overflow"],t=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],y=["borderLeftWidth",
"borderRightWidth","paddingLeft","paddingRight"],x=a.effects.setMode(p,e.mode||"effect"),z=e.restore||"effect"!==x,B=e.scale||"both",D=e.origin||["middle","center"],w=p.css("position"),A=z?q:h,C={height:0,width:0,outerHeight:0,outerWidth:0};"show"===x&&p.show();h={height:p.height(),width:p.width(),outerHeight:p.outerHeight(),outerWidth:p.outerWidth()};"toggle"===e.mode&&"show"===x?(p.from=e.to||C,p.to=e.from||h):(p.from=e.from||("show"===x?C:h),p.to=e.to||("hide"===x?C:h));l=p.from.height/h.height;
k=p.from.width/h.width;g=p.to.height/h.height;f=p.to.width/h.width;if("box"===B||"both"===B)l!==g&&(A=A.concat(u),p.from=a.effects.setTransition(p,u,l,p.from),p.to=a.effects.setTransition(p,u,g,p.to)),k!==f&&(A=A.concat(y),p.from=a.effects.setTransition(p,y,k,p.from),p.to=a.effects.setTransition(p,y,f,p.to));("content"===B||"both"===B)&&l!==g&&(A=A.concat(t).concat(r),p.from=a.effects.setTransition(p,t,l,p.from),p.to=a.effects.setTransition(p,t,g,p.to));a.effects.save(p,A);p.show();a.effects.createWrapper(p);
p.css("overflow","hidden").css(p.from);D&&(m=a.effects.getBaseline(D,h),p.from.top=(h.outerHeight-p.outerHeight())*m.y,p.from.left=(h.outerWidth-p.outerWidth())*m.x,p.to.top=(h.outerHeight-p.to.outerHeight)*m.y,p.to.left=(h.outerWidth-p.to.outerWidth)*m.x);p.css(p.from);if("content"===B||"both"===B)u=u.concat(["marginTop","marginBottom"]).concat(t),y=y.concat(["marginLeft","marginRight"]),r=q.concat(u).concat(y),p.find("*[width]").each(function(){var b=a(this),h=b.height(),m=b.width(),n=b.outerHeight(),
q=b.outerWidth();z&&a.effects.save(b,r);b.from={height:h*l,width:m*k,outerHeight:n*l,outerWidth:q*k};b.to={height:h*g,width:m*f,outerHeight:h*g,outerWidth:m*f};l!==g&&(b.from=a.effects.setTransition(b,u,l,b.from),b.to=a.effects.setTransition(b,u,g,b.to));k!==f&&(b.from=a.effects.setTransition(b,y,k,b.from),b.to=a.effects.setTransition(b,y,f,b.to));b.css(b.from);b.animate(b.to,e.duration,e.easing,function(){z&&a.effects.restore(b,r)})});p.animate(p.to,{queue:!1,duration:e.duration,easing:e.easing,
complete:function(){0===p.to.opacity&&p.css("opacity",p.from.opacity);"hide"===x&&p.hide();a.effects.restore(p,A);z||("static"===w?p.css({position:"relative",top:p.to.top,left:p.to.left}):a.each(["top","left"],function(a,b){p.css(b,function(b,e){var f=parseInt(e,10),g=a?p.to.left:p.to.top;return"auto"===e?g+"px":f+g+"px"})}));a.effects.removeWrapper(p);b()}})}})(jQuery);
(function(a,h){a.effects.effect.shake=function(e,b){var g=a(this),f="position top bottom left right height width".split(" "),l=a.effects.setMode(g,e.mode||"effect"),k=e.direction||"left",h=e.distance||20,m=e.times||3,p=2*m+1,q=Math.round(e.duration/p),r="up"===k||"down"===k?"top":"left",t="up"===k||"left"===k,k={},u={},y={},x=g.queue(),z=x.length;a.effects.save(g,f);g.show();a.effects.createWrapper(g);k[r]=(t?"-=":"+=")+h;u[r]=(t?"+=":"-=")+2*h;y[r]=(t?"-=":"+=")+2*h;g.animate(k,q,e.easing);for(h=
1;h<m;h++)g.animate(u,q,e.easing).animate(y,q,e.easing);g.animate(u,q,e.easing).animate(k,q/2,e.easing).queue(function(){"hide"===l&&g.hide();a.effects.restore(g,f);a.effects.removeWrapper(g);b()});1<z&&x.splice.apply(x,[1,0].concat(x.splice(z,p+1)));g.dequeue()}})(jQuery);
(function(a,h){a.effects.effect.slide=function(e,b){var g=a(this),f="position top bottom left right width height".split(" "),l=a.effects.setMode(g,e.mode||"show"),k="show"===l,h=e.direction||"left",m="up"===h||"down"===h?"top":"left",h="up"===h||"left"===h,p,q={};a.effects.save(g,f);g.show();p=e.distance||g["top"===m?"outerHeight":"outerWidth"](!0);a.effects.createWrapper(g).css({overflow:"hidden"});k&&g.css(m,h?isNaN(p)?"-"+p:-p:p);q[m]=(k?h?"+=":"-=":h?"-=":"+=")+p;g.animate(q,{queue:!1,duration:e.duration,
easing:e.easing,complete:function(){"hide"===l&&g.hide();a.effects.restore(g,f);a.effects.removeWrapper(g);b()}})}})(jQuery);
(function(a,h){a.effects.effect.transfer=function(e,b){var g=a(this),f=a(e.to),l="fixed"===f.css("position"),k=a("body"),h=l?k.scrollTop():0,k=l?k.scrollLeft():0,m=f.offset(),f={top:m.top-h,left:m.left-k,height:f.innerHeight(),width:f.innerWidth()},m=g.offset(),p=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:m.top-h,left:m.left-k,height:g.innerHeight(),width:g.innerWidth(),position:l?"fixed":"absolute"}).animate(f,e.duration,e.easing,function(){p.remove();
b()})}})(jQuery);
(function(a,h){a.widget("ui.menu",{version:"1.10.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,
a.proxy(function(a){this.options.disabled&&a.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(e){var b=a(e.target).closest(".ui-menu-item");!this.mouseHandled&&b.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),b.has(".ui-menu").length?
this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var b=a(e.currentTarget);b.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(e,b)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var g=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,g)},blur:function(e){this._delay(function(){a.contains(this.element[0],
this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(e){a(e.target).closest(".ui-menu").length||this.collapseAll(e);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=a(this);e.data("ui-menu-submenu-carat")&&e.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function b(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var g,f,l,k,h=!0;switch(e.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(e);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case a.ui.keyCode.HOME:this._move("first","first",e);break;case a.ui.keyCode.END:this._move("last","last",e);break;case a.ui.keyCode.UP:this.previous(e);break;case a.ui.keyCode.DOWN:this.next(e);break;case a.ui.keyCode.LEFT:this.collapse(e);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(e);
break;case a.ui.keyCode.ESCAPE:this.collapse(e);break;default:h=!1,g=this.previousFilter||"",f=String.fromCharCode(e.keyCode),l=!1,clearTimeout(this.filterTimer),f===g?l=!0:f=g+f,k=new RegExp("^"+b(f),"i"),g=this.activeMenu.children(".ui-menu-item").filter(function(){return k.test(a(this).children("a").text())}),g=l&&-1!==g.index(this.active.next())?this.active.nextAll(".ui-menu-item"):g,g.length||(f=String.fromCharCode(e.keyCode),k=new RegExp("^"+b(f),"i"),g=this.activeMenu.children(".ui-menu-item").filter(function(){return k.test(a(this).children("a").text())})),
g.length?(this.focus(e,g),1<g.length?(this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}h&&e.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var e,b=this.options.icons.submenu;e=this.element.find(this.options.menus);e.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,
"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=a(this),f=e.prev("a"),l=a("<span>").addClass("ui-menu-icon ui-icon "+b).data("ui-menu-submenu-carat",!0);f.attr("aria-haspopup","true").prepend(l);e.attr("aria-labelledby",f.attr("id"))});e=e.add(this.element);e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});e.children(":not(.ui-menu-item)").each(function(){var b=
a(this);/[^\-\u2014\u2013\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")});e.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu);this._super(a,b)},focus:function(a,b){var g;this.blur(a,a&&
"focus"===a.type);this._scrollIntoView(b);this.active=b.first();g=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",g.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);g=b.children(".ui-menu");g.length&&/^mouse/.test(a.type)&&this._startOpening(g);this.activeMenu=b.parent();this._trigger("focus",
a,{item:b})},_scrollIntoView:function(e){var b,g,f,l,k,h;this._hasScroll()&&(b=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,g=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,f=e.offset().top-this.activeMenu.offset().top-b-g,l=this.activeMenu.scrollTop(),k=this.activeMenu.height(),h=e.height(),0>f?this.activeMenu.scrollTop(l+f):f+h>k&&this.activeMenu.scrollTop(l+f-k+h))},blur:function(a,b){b||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),
this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(e){var b=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true");e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(b)},collapseAll:function(e,
b){clearTimeout(this.timer);this.timer=this._delay(function(){var g=b?this.element:a(e&&e.target).closest(this.element.find(".ui-menu"));g.length||(g=this.element);this._close(g);this.blur(e);this.activeMenu=g},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",
this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},
_move:function(a,b,g){var f;this.active&&("first"===a||"last"===a?f=this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):f=this.active[a+"All"](".ui-menu-item").eq(0));f&&f.length&&this.active||(f=this.activeMenu.children(".ui-menu-item")[b]());this.focus(g,f)},nextPage:function(e){var b,g,f;this.active?this.isLastItem()||(this._hasScroll()?(g=this.active.offset().top,f=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return b=a(this),0>b.offset().top-g-f}),
this.focus(e,b)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var b,g,f;this.active?this.isFirstItem()||(this._hasScroll()?(g=this.active.offset().top,f=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return b=a(this),0<b.offset().top-g+f}),this.focus(e,b)):this.focus(e,this.activeMenu.children(".ui-menu-item").first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(e){this.active=this.active||a(e.target).closest(".ui-menu-item");var b={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0);this._trigger("select",e,b)}})})(jQuery);
(function(a,h){a.widget("ui.progressbar",{version:"1.10.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove()},value:function(a){if(a===h)return this.options.value;this.options.value=this._constrainedValue(a);this._refreshValue()},_constrainedValue:function(a){return a===h&&(a=this.options.value),this.indeterminate=!1===a,"number"!=typeof a&&(a=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value;this._super(a);this.options.value=this._constrainedValue(b);this._refreshValue()},_setOption:function(a,b){"max"===
a&&(b=Math.max(this.min,b));this._super(a,b)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,b=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(b.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||
(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==e&&(this.oldValue=e,this._trigger("change"));e===this.options.max&&this._trigger("complete")}})})(jQuery);
(function(a,h){function e(a){return parseInt(a,10)||0}function b(a){return!isNaN(parseInt(a,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var b,e,l,k,h,m=this,p=this.options;this.element.addClass("ui-resizable");
a.extend(this,{_aspectRatio:!!p.aspectRatio,aspectRatio:p.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:p.helper||p.ghost||p.animate?p.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=p.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");
if(this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),this.handles={},e=0;e<b.length;e++)l=a.trim(b[e]),h="ui-resizable-"+l,k=a("<div class='ui-resizable-handle "+h+"'></div>"),k.css({zIndex:p.zIndex}),"se"===l&&k.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[l]=".ui-resizable-"+l,this.element.append(k);this._renderAxis=function(b){var e,f,g,k;b=b||this.element;for(e in this.handles)this.handles[e].constructor===
String&&(this.handles[e]=a(this.handles[e],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(f=a(this.handles[e],this.element),k=/sw|ne|nw|se|n|s/.test(e)?f.outerHeight():f.outerWidth(),g=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),b.css(g,k),this._proportionallyResize()),a(this.handles[e])};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){m.resizing||(this.className&&(k=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),m.axis=k&&k[1]?k[1]:"se")});p.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){p.disabled||(a(this).removeClass("ui-resizable-autohide"),m._handles.show())}).mouseleave(function(){p.disabled||m.resizing||(a(this).addClass("ui-resizable-autohide"),m._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var b,e=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(e(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),
this},_mouseCapture:function(b){var e,l,k=!1;for(e in this.handles)if(l=a(this.handles[e])[0],l===b.target||a.contains(l,b.target))k=!0;return!this.options.disabled&&k},_mouseStart:function(b){var f,l,k,h=this.options,m=this.element.position(),p=this.element;return this.resizing=!0,/absolute/.test(p.css("position"))?p.css({position:"absolute",top:p.css("top"),left:p.css("left")}):p.is(".ui-draggable")&&p.css({position:"absolute",top:m.top,left:m.left}),this._renderProxy(),f=e(this.helper.css("left")),
l=e(this.helper.css("top")),h.containment&&(f+=a(h.containment).scrollLeft()||0,l+=a(h.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:l},this.size=this._helper?{width:p.outerWidth(),height:p.outerHeight()}:{width:p.width(),height:p.height()},this.originalSize=this._helper?{width:p.outerWidth(),height:p.outerHeight()}:{width:p.width(),height:p.height()},this.originalPosition={left:f,top:l},this.sizeDiff={width:p.outerWidth()-p.width(),height:p.outerHeight()-
p.height()},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio="number"==typeof h.aspectRatio?h.aspectRatio:this.originalSize.width/this.originalSize.height||1,k=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===k?this.axis+"-resize":k),p.addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(b){var e,l=this.helper,k={};e=this.originalMousePosition;var h=this.position.top,m=this.position.left,p=this.size.width,q=this.size.height,
r=this._change[this.axis];if(!r)return!1;e=r.apply(this,[b,b.pageX-e.left||0,b.pageY-e.top||0]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)e=this._updateRatio(e,b);return e=this._respectSize(e,b),this._updateCache(e),this._propagate("resize",b),this.position.top!==h&&(k.top=this.position.top+"px"),this.position.left!==m&&(k.left=this.position.left+"px"),this.size.width!==p&&(k.width=this.size.width+"px"),this.size.height!==q&&(k.height=this.size.height+"px"),l.css(k),
!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(k)||this._trigger("resize",b,this.ui()),!1},_mouseStop:function(b){this.resizing=!1;var e,l,k,h,m,p,q,r=this.options;return this._helper&&(e=this._proportionallyResizeElements,l=e.length&&/textarea/i.test(e[0].nodeName),k=l&&a.ui.hasScroll(e[0],"left")?0:this.sizeDiff.height,h=l?0:this.sizeDiff.width,m={width:this.helper.width()-h,height:this.helper.height()-k},p=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,q=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,r.animate||this.element.css(a.extend(m,{top:q,left:p})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!r.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var e,
l,k,h;h=this.options;h={minWidth:b(h.minWidth)?h.minWidth:0,maxWidth:b(h.maxWidth)?h.maxWidth:Infinity,minHeight:b(h.minHeight)?h.minHeight:0,maxHeight:b(h.maxHeight)?h.maxHeight:Infinity};if(this._aspectRatio||a)a=h.minHeight*this.aspectRatio,l=h.minWidth/this.aspectRatio,e=h.maxHeight*this.aspectRatio,k=h.maxWidth/this.aspectRatio,a>h.minWidth&&(h.minWidth=a),l>h.minHeight&&(h.minHeight=l),e<h.maxWidth&&(h.maxWidth=e),k<h.maxHeight&&(h.maxHeight=k);this._vBoundaries=h},_updateCache:function(a){this.offset=
this.helper.offset();b(a.left)&&(this.position.left=a.left);b(a.top)&&(this.position.top=a.top);b(a.height)&&(this.size.height=a.height);b(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var e=this.position,l=this.size,k=this.axis;return b(a.height)?a.width=a.height*this.aspectRatio:b(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===k&&(a.left=e.left+(l.width-a.width),a.top=null),"nw"===k&&(a.top=e.top+(l.height-a.height),a.left=e.left+(l.width-a.width)),a},_respectSize:function(a){var e=
this._vBoundaries,l=this.axis,k=b(a.width)&&e.maxWidth&&e.maxWidth<a.width,h=b(a.height)&&e.maxHeight&&e.maxHeight<a.height,m=b(a.width)&&e.minWidth&&e.minWidth>a.width,p=b(a.height)&&e.minHeight&&e.minHeight>a.height,q=this.originalPosition.left+this.originalSize.width,r=this.position.top+this.size.height,t=/sw|nw|w/.test(l),l=/nw|ne|n/.test(l);return m&&(a.width=e.minWidth),p&&(a.height=e.minHeight),k&&(a.width=e.maxWidth),h&&(a.height=e.maxHeight),m&&t&&(a.left=q-e.minWidth),k&&t&&(a.left=q-e.maxWidth),
p&&l&&(a.top=r-e.minHeight),h&&l&&(a.top=r-e.maxHeight),a.width||a.height||a.left||!a.top?!a.width&&!a.height&&!a.top&&a.left&&(a.left=null):a.top=null,a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,b,e,k,h,m=this.helper||this.element;for(a=0;a<this._proportionallyResizeElements.length;a++){h=this._proportionallyResizeElements[a];if(!this.borderDif)for(this.borderDif=[],e=[h.css("borderTopWidth"),h.css("borderRightWidth"),h.css("borderBottomWidth"),h.css("borderLeftWidth")],
k=[h.css("paddingTop"),h.css("paddingRight"),h.css("paddingBottom"),h.css("paddingLeft")],b=0;b<e.length;b++)this.borderDif[b]=(parseInt(e[b],10)||0)+(parseInt(k[b],10)||0);h.css({height:m.height()-this.borderDif[0]-this.borderDif[2]||0,width:m.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,e){return{top:this.originalPosition.top+e,height:this.originalSize.height-e}},s:function(a,b,e){return{height:this.originalSize.height+
e}},se:function(b,e,l){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,e,l]))},sw:function(b,e,l){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,e,l]))},ne:function(b,e,l){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,e,l]))},nw:function(b,e,l){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,e,l]))}},_propagate:function(b,e){a.ui.plugin.call(this,b,[e,this.ui()]);
"resize"!==b&&this._trigger(b,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable","animate",{stop:function(b){var e=a(this).data("ui-resizable"),l=e.options,k=e._proportionallyResizeElements,h=k.length&&/textarea/i.test(k[0].nodeName),m=h&&a.ui.hasScroll(k[0],"left")?0:e.sizeDiff.height,h=
{width:e.size.width-(h?0:e.sizeDiff.width),height:e.size.height-m},m=parseInt(e.element.css("left"),10)+(e.position.left-e.originalPosition.left)||null,p=parseInt(e.element.css("top"),10)+(e.position.top-e.originalPosition.top)||null;e.element.animate(a.extend(h,p&&m?{top:p,left:m}:{}),{duration:l.animateDuration,easing:l.animateEasing,step:function(){var l={width:parseInt(e.element.css("width"),10),height:parseInt(e.element.css("height"),10),top:parseInt(e.element.css("top"),10),left:parseInt(e.element.css("left"),
10)};k&&k.length&&a(k[0]).css({width:l.width,height:l.height});e._updateCache(l);e._propagate("resize",b)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var b,f,l,k,h,m,p,q=a(this).data("ui-resizable"),r=q.element,t=q.options.containment;if(r=t instanceof a?t.get(0):/parent/.test(t)?r.parent().get(0):t)q.containerElement=a(r),/document/.test(t)||t===document?(q.containerOffset={left:0,top:0},q.containerPosition={left:0,top:0},q.parentData={element:a(document),left:0,top:0,width:a(document).width(),
height:a(document).height()||document.body.parentNode.scrollHeight}):(b=a(r),f=[],a(["Top","Right","Left","Bottom"]).each(function(a,k){f[a]=e(b.css("padding"+k))}),q.containerOffset=b.offset(),q.containerPosition=b.position(),q.containerSize={height:b.innerHeight()-f[3],width:b.innerWidth()-f[1]},l=q.containerOffset,k=q.containerSize.height,h=q.containerSize.width,m=a.ui.hasScroll(r,"left")?r.scrollWidth:h,p=a.ui.hasScroll(r)?r.scrollHeight:k,q.parentData={element:r,left:l.left,top:l.top,width:m,
height:p})},resize:function(b){var e,l,k,h,m=a(this).data("ui-resizable");e=m.options;l=m.containerOffset;k=m.position;b=m._aspectRatio||b.shiftKey;h={top:0,left:0};var p=m.containerElement;p[0]!==document&&/static/.test(p.css("position"))&&(h=l);k.left<(m._helper?l.left:0)&&(m.size.width+=m._helper?m.position.left-l.left:m.position.left-h.left,b&&(m.size.height=m.size.width/m.aspectRatio),m.position.left=e.helper?l.left:0);k.top<(m._helper?l.top:0)&&(m.size.height+=m._helper?m.position.top-l.top:
m.position.top,b&&(m.size.width=m.size.height*m.aspectRatio),m.position.top=m._helper?l.top:0);m.offset.left=m.parentData.left+m.position.left;m.offset.top=m.parentData.top+m.position.top;e=Math.abs(m.offset.left-h.left+m.sizeDiff.width);l=Math.abs((m._helper?m.offset.top-h.top:m.offset.top-l.top)+m.sizeDiff.height);k=m.containerElement.get(0)===m.element.parent().get(0);h=/relative|absolute/.test(m.containerElement.css("position"));k&&h&&(e-=m.parentData.left);e+m.size.width>=m.parentData.width&&
(m.size.width=m.parentData.width-e,b&&(m.size.height=m.size.width/m.aspectRatio));l+m.size.height>=m.parentData.height&&(m.size.height=m.parentData.height-l,b&&(m.size.width=m.size.height*m.aspectRatio))},stop:function(){var b=a(this).data("ui-resizable"),e=b.options,l=b.containerOffset,k=b.containerPosition,h=b.containerElement,m=a(b.helper),p=m.offset(),q=m.outerWidth()-b.sizeDiff.width,m=m.outerHeight()-b.sizeDiff.height;b._helper&&!e.animate&&/relative/.test(h.css("position"))&&a(this).css({left:p.left-
k.left-l.left,width:q,height:m});b._helper&&!e.animate&&/static/.test(h.css("position"))&&a(this).css({left:p.left-k.left-l.left,width:q,height:m})}});a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("ui-resizable").options,e=function(b){a(b).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof b.alsoResize||b.alsoResize.parentNode?
e(b.alsoResize):b.alsoResize.length?(b.alsoResize=b.alsoResize[0],e(b.alsoResize)):a.each(b.alsoResize,function(a){e(a)})},resize:function(b,e){var l=a(this).data("ui-resizable"),k=l.options,h=l.originalSize,m=l.originalPosition,p={height:l.size.height-h.height||0,width:l.size.width-h.width||0,top:l.position.top-m.top||0,left:l.position.left-m.left||0},q=function(b,g){a(b).each(function(){var b=a(this),k=a(this).data("ui-resizable-alsoresize"),l={},h=g&&g.length?g:b.parents(e.originalElement[0]).length?
["width","height"]:["width","height","top","left"];a.each(h,function(a,b){var e=(k[b]||0)+(p[b]||0);e&&0<=e&&(l[b]=e||null)});b.css(l)})};"object"!=typeof k.alsoResize||k.alsoResize.nodeType?q(k.alsoResize):a.each(k.alsoResize,function(a,b){q(a,b)})},stop:function(){a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("ui-resizable"),e=b.options,l=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:.25,display:"block",position:"relative",
height:l.height,width:l.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof e.ghost?e.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("ui-resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("ui-resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("ui-resizable"),
e=b.options,l=b.size,k=b.originalSize,h=b.originalPosition,m=b.axis,p="number"==typeof e.grid?[e.grid,e.grid]:e.grid,q=p[0]||1,r=p[1]||1,t=Math.round((l.width-k.width)/q)*q,l=Math.round((l.height-k.height)/r)*r,u=k.width+t,k=k.height+l,y=e.maxWidth&&e.maxWidth<u,x=e.maxHeight&&e.maxHeight<k,z=e.minWidth&&e.minWidth>u,B=e.minHeight&&e.minHeight>k;e.grid=p;z&&(u+=q);B&&(k+=r);y&&(u-=q);x&&(k-=r);/^(se|s|e)$/.test(m)?(b.size.width=u,b.size.height=k):/^(ne)$/.test(m)?(b.size.width=u,b.size.height=k,b.position.top=
h.top-l):/^(sw)$/.test(m)?(b.size.width=u,b.size.height=k,b.position.left=h.left-t):(b.size.width=u,b.size.height=k,b.position.top=h.top-l,b.position.left=h.left-t)}})})(jQuery);
(function(a,h){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,b=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){e=a(b.options.filter,b.element[0]);e.addClass("ui-selectee");e.each(function(){var b=a(this),e=b.offset();a.data(this,"selectable-item",{element:this,$element:b,
left:e.left,top:e.top,right:e.left+b.outerWidth(),bottom:e.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})};this.refresh();this.selectees=e.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");
this._mouseDestroy()},_mouseStart:function(e){var b=this,g=this.options;this.opos=[e.pageX,e.pageY];this.options.disabled||(this.selectees=a(g.filter,this.element[0]),this._trigger("start",e),a(g.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),g.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var f=a.data(this,"selectable-item");f.startselected=!0;e.metaKey||e.ctrlKey||(f.$element.removeClass("ui-selected"),f.selected=!1,
f.$element.addClass("ui-unselecting"),f.unselecting=!0,b._trigger("unselecting",e,{unselecting:f.element}))}),a(e.target).parents().addBack().each(function(){var f,g=a.data(this,"selectable-item");if(g)return f=!e.metaKey&&!e.ctrlKey||!g.$element.hasClass("ui-selected"),g.$element.removeClass(f?"ui-unselecting":"ui-selected").addClass(f?"ui-selecting":"ui-unselecting"),g.unselecting=!f,g.selecting=f,g.selected=f,f?b._trigger("selecting",e,{selecting:g.element}):b._trigger("unselecting",e,{unselecting:g.element}),
!1}))},_mouseDrag:function(e){this.dragged=!0;if(!this.options.disabled){var b,g=this,f=this.options,l=this.opos[0],k=this.opos[1],h=e.pageX,m=e.pageY;return l>h&&(b=h,h=l,l=b),k>m&&(b=m,m=k,k=b),this.helper.css({left:l,top:k,width:h-l,height:m-k}),this.selectees.each(function(){var b=a.data(this,"selectable-item"),q=!1;b&&b.element!==g.element[0]&&("touch"===f.tolerance?q=!(b.left>h||b.right<l||b.top>m||b.bottom<k):"fit"===f.tolerance&&(q=b.left>l&&b.right<h&&b.top>k&&b.bottom<m),q?(b.selected&&
(b.$element.removeClass("ui-selected"),b.selected=!1),b.unselecting&&(b.$element.removeClass("ui-unselecting"),b.unselecting=!1),b.selecting||(b.$element.addClass("ui-selecting"),b.selecting=!0,g._trigger("selecting",e,{selecting:b.element}))):(b.selecting&&((e.metaKey||e.ctrlKey)&&b.startselected?(b.$element.removeClass("ui-selecting"),b.selecting=!1,b.$element.addClass("ui-selected"),b.selected=!0):(b.$element.removeClass("ui-selecting"),b.selecting=!1,b.startselected&&(b.$element.addClass("ui-unselecting"),
b.unselecting=!0),g._trigger("unselecting",e,{unselecting:b.element}))),b.selected&&!e.metaKey&&!e.ctrlKey&&!b.startselected&&(b.$element.removeClass("ui-selected"),b.selected=!1,b.$element.addClass("ui-unselecting"),b.unselecting=!0,g._trigger("unselecting",e,{unselecting:b.element}))))}),!1}},_mouseStop:function(e){var b=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var g=a.data(this,"selectable-item");g.$element.removeClass("ui-unselecting");g.unselecting=!1;
g.startselected=!1;b._trigger("unselected",e,{unselected:g.element})}),a(".ui-selecting",this.element[0]).each(function(){var g=a.data(this,"selectable-item");g.$element.removeClass("ui-selecting").addClass("ui-selected");g.selecting=!1;g.selected=!0;g.startselected=!0;b._trigger("selected",e,{selected:g.element})}),this._trigger("stop",e),this.helper.remove(),!1}})})(jQuery);
(function(a,h){a.widget("ui.slider",a.ui.mouse,{version:"1.10.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();
this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var e,b;e=this.options;var g=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f=[];b=e.values&&e.values.length||1;g.length>b&&(g.slice(b).remove(),g=g.slice(0,b));for(e=g.length;e<b;e++)f.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=g.add(a(f.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var e=this.options,b="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:a.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",
bottom:""}):(this.range=a("<div></div>").appendTo(this.element),b="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(b+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=a([])},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a);this._on(a,this._handleEvents);this._hoverable(a);this._focusable(a)},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(e){var b,g,f,l,k,h,m,p,q=this,r=this.options;return r.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),b={x:e.pageX,y:e.pageY},g=this._normValueFromMouse(b),f=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var e=Math.abs(g-q.values(b));if(f>e||f===e&&(b===q._lastChangedValue||q.values(b)===r.min))f=e,l=a(this),k=b}),h=this._start(e,k),!1===h?!1:
(this._mouseSliding=!0,this._handleIndex=k,l.addClass("ui-state-active").focus(),m=l.offset(),p=!a(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=p?{left:0,top:0}:{left:e.pageX-m.left-l.width()/2,top:e.pageY-m.top-l.height()/2-(parseInt(l.css("borderTopWidth"),10)||0)-(parseInt(l.css("borderBottomWidth"),10)||0)+(parseInt(l.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,k,g),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b=
this._normValueFromMouse({x:a.pageX,y:a.pageY});return this._slide(a,this._handleIndex,b),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,g,f,l,k;return"horizontal"===
this.orientation?(b=this.elementSize.width,g=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,g=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),f=g/b,1<f&&(f=1),0>f&&(f=0),"vertical"===this.orientation&&(f=1-f),l=this._valueMax()-this._valueMin(),k=this._valueMin()+f*l,this._trimAlignValue(k)},_start:function(a,b){var g={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(g.value=
this.values(b),g.values=this.values()),this._trigger("start",a,g)},_slide:function(a,b,g){var f,l,k;this.options.values&&this.options.values.length?(f=this.values(b?0:1),2===this.options.values.length&&!0===this.options.range&&(0===b&&g>f||1===b&&g<f)&&(g=f),g!==this.values(b)&&(l=this.values(),l[b]=g,k=this._trigger("slide",a,{handle:this.handles[b],value:g,values:l}),this.values(b?0:1),!1!==k&&this.values(b,g,!0))):g!==this.value()&&(k=this._trigger("slide",a,{handle:this.handles[b],value:g}),!1!==
k&&this.value(g))},_stop:function(a,b){var g={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(g.value=this.values(b),g.values=this.values());this._trigger("stop",a,g)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var g={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(g.value=this.values(b),g.values=this.values());this._lastChangedValue=b;this._trigger("change",a,g)}},value:function(a){if(arguments.length)this.options.value=
this._trimAlignValue(a),this._refreshValue(),this._change(null,0);else return this._value()},values:function(e,b){var g,f,l;if(1<arguments.length)this.options.values[e]=this._trimAlignValue(b),this._refreshValue(),this._change(null,e);else{if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();g=this.options.values;f=arguments[0];for(l=0;l<g.length;l+=1)g[l]=this._trimAlignValue(f[l]),this._change(null,
l);this._refreshValue()}},_setOption:function(e,b){var g,f=0;"range"===e&&!0===this.options.range&&("min"===b?(this.options.value=this._values(0),this.options.values=null):"max"===b&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));a.isArray(this.options.values)&&(f=this.options.values.length);a.Widget.prototype._setOption.apply(this,arguments);switch(e){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(g=0;g<f;g+=1)this._change(null,g);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a),
a},_values:function(a){var b,g;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b),b;if(this.options.values&&this.options.values.length){b=this.options.values.slice();for(g=0;g<b.length;g+=1)b[g]=this._trimAlignValue(b[g]);return b}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=0<this.options.step?this.options.step:1,g=(a-this._valueMin())%b;a-=g;return 2*Math.abs(g)>=b&&(a+=0<g?b:
-b),parseFloat(a.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,b,g,f,l,k=this.options.range,h=this.options,m=this,p=this._animateOff?!1:h.animate,q={};this.options.values&&this.options.values.length?this.handles.each(function(f){b=(m.values(f)-m._valueMin())/(m._valueMax()-m._valueMin())*100;q["horizontal"===m.orientation?"left":"bottom"]=b+"%";a(this).stop(1,1)[p?"animate":"css"](q,h.animate);!0===m.options.range&&
("horizontal"===m.orientation?(0===f&&m.range.stop(1,1)[p?"animate":"css"]({left:b+"%"},h.animate),1===f&&m.range[p?"animate":"css"]({width:b-e+"%"},{queue:!1,duration:h.animate})):(0===f&&m.range.stop(1,1)[p?"animate":"css"]({bottom:b+"%"},h.animate),1===f&&m.range[p?"animate":"css"]({height:b-e+"%"},{queue:!1,duration:h.animate})));e=b}):(g=this.value(),f=this._valueMin(),l=this._valueMax(),b=l!==f?(g-f)/(l-f)*100:0,q["horizontal"===this.orientation?"left":"bottom"]=b+"%",this.handle.stop(1,1)[p?
"animate":"css"](q,h.animate),"min"===k&&"horizontal"===this.orientation&&this.range.stop(1,1)[p?"animate":"css"]({width:b+"%"},h.animate),"max"===k&&"horizontal"===this.orientation&&this.range[p?"animate":"css"]({width:100-b+"%"},{queue:!1,duration:h.animate}),"min"===k&&"vertical"===this.orientation&&this.range.stop(1,1)[p?"animate":"css"]({height:b+"%"},h.animate),"max"===k&&"vertical"===this.orientation&&this.range[p?"animate":"css"]({height:100-b+"%"},{queue:!1,duration:h.animate}))},_handleEvents:{keydown:function(e){var b,
g,f,l=a(e.target).data("ui-slider-handle-index");switch(e.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(e.target).addClass("ui-state-active"),b=this._start(e,l),!1===b))return}b=this.options.step;this.options.values&&this.options.values.length?g=f=this.values(l):g=f=this.value();switch(e.keyCode){case a.ui.keyCode.HOME:f=
this._valueMin();break;case a.ui.keyCode.END:f=this._valueMax();break;case a.ui.keyCode.PAGE_UP:f=this._trimAlignValue(g+(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(g-(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(g===this._valueMax())return;f=this._trimAlignValue(g+b);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(g===this._valueMin())return;f=this._trimAlignValue(g-b)}this._slide(e,l,f)},click:function(a){a.preventDefault()},
keyup:function(e){var b=a(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,b),this._change(e,b),a(e.target).removeClass("ui-state-active"))}}})})(jQuery);
(function(a,h){function e(a,e,f){return a>e&&a<e+f}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,
deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===a.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");
this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,e){"disabled"===b?(this.options[b]=e,this.widget().toggleClass("ui-sortable-disabled",!!e)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,e){var f=null,l=!1,k=this;if(this.reverting||this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(b);a(b.target).parents().each(function(){if(a.data(this,
k.widgetName+"-item")===k)return f=a(this),!1});a.data(b.target,k.widgetName+"-item")===k&&(f=a(b.target));return!f||this.options.handle&&!e&&(a(this.options.handle,f).find("*").addBack().each(function(){this===b.target&&(l=!0)}),!l)?!1:(this.currentItem=f,this._removeCurrentsFromItems(),!0)},_mouseStart:function(b,e,f){e=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(b);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();
this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt);
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();e.containment&&this._setContainment();e.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",e.cursor));e.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity));e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=
this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex));this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",b,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!f)for(f=this.containers.length-1;0<=f;f--)this.containers[f]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,
b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var e,f,l,k;e=this.options;f=!1;this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?this.scrollParent[0].scrollTop=
f=this.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-this.overflowOffset.top<e.scrollSensitivity&&(this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop-e.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-this.overflowOffset.left<e.scrollSensitivity&&(this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft-e.scrollSpeed)):(b.pageY-a(document).scrollTop()<
e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed)),b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))),!1!==f&&a.ui.ddmanager&&
!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(e=this.items.length-1;0<=e;e--)if(f=this.items[e],l=f.item[0],(k=this._intersectsWithPointer(f))&&f.instance===this.currentContainer&&l!==this.currentItem[0]&&this.placeholder[1===k?"next":"prev"]()[0]!==
l&&!a.contains(this.placeholder[0],l)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],l):1)){this.direction=1===k?"down":"up";if("pointer"!==this.options.tolerance&&!this._intersectsWithSides(f))break;this._rearrange(b,f);this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,e){if(b){a.ui.ddmanager&&!this.options.dropBehaviour&&
a.ui.ddmanager.drop(this,b);if(this.options.revert){var f=this,l=this.placeholder.offset();this.reverting=!0;a(this.helper).animate({left:l.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft),top:l.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){f._clear(b)})}else this._clear(b,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});
"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;0<=b;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var e=this._getItemsAsjQuery(b&&b.connected),f=[];return b=b||{},a(e).each(function(){var e=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);e&&f.push((b.key||
e[1]+"[]")+"="+(b.key&&b.expression?e[1]:e[2]))}),!f.length&&b.key&&f.push(b.key+"="),f.join("&")},toArray:function(b){var e=this._getItemsAsjQuery(b&&b.connected),f=[];return b=b||{},e.each(function(){f.push(a(b.item||this).attr(b.attribute||"id")||"")}),f},_intersectsWith:function(a){var e=this.positionAbs.left,f=e+this.helperProportions.width,l=this.positionAbs.top,k=l+this.helperProportions.height,h=a.left,m=h+a.width,p=a.top,q=p+a.height,r=this.offset.click.top,t=this.offset.click.left;return"pointer"===
this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?l+r>p&&l+r<q&&e+t>h&&e+t<m:h<e+this.helperProportions.width/2&&f-this.helperProportions.width/2<m&&p<l+this.helperProportions.height/2&&k-this.helperProportions.height/2<q},_intersectsWithPointer:function(a){var g="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,a.top,a.height);a="y"===this.options.axis||
e(this.positionAbs.left+this.offset.click.left,a.left,a.width);g=g&&a;a=this._getDragVerticalDirection();var f=this._getDragHorizontalDirection();return g?this.floating?f&&"right"===f||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(a){var g=e(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=e(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var f=this._getDragVerticalDirection(),l=this._getDragHorizontalDirection();return this.floating&&
l?"right"===l&&a||"left"===l&&!a:f&&("down"===f&&g||"up"===f&&!g)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},
_getItemsAsjQuery:function(b){var e,f,l,k=[],h=[],m=this._connectWith();if(m&&b)for(b=m.length-1;0<=b;b--)for(f=a(m[b]),e=f.length-1;0<=e;e--)(l=a.data(f[e],this.widgetFullName))&&l!==this&&!l.options.disabled&&h.push([a.isFunction(l.options.items)?l.options.items.call(l.element):a(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l]);h.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):
a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=h.length-1;0<=b;b--)h[b][0].each(function(){k.push(this)});return a(k)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var e=0;e<b.length;e++)if(b[e]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[];this.containers=[this];var e,f,l,k,h,m=this.items,p=[[a.isFunction(this.options.items)?
this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]];if((h=this._connectWith())&&this.ready)for(e=h.length-1;0<=e;e--)for(l=a(h[e]),f=l.length-1;0<=f;f--)(k=a.data(l[f],this.widgetFullName))&&k!==this&&!k.options.disabled&&(p.push([a.isFunction(k.options.items)?k.options.items.call(k.element[0],b,{item:this.currentItem}):a(k.options.items,k.element),k]),this.containers.push(k));for(e=p.length-1;0<=e;e--)for(b=p[e][1],l=p[e][0],f=0,h=l.length;f<
h;f++)k=a(l[f]),k.data(this.widgetName+"-item",b),m.push({item:k,instance:b,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var e,f,l;for(e=this.items.length-1;0<=e;e--)f=this.items[e],f.instance!==this.currentContainer&&this.currentContainer&&f.item[0]!==this.currentItem[0]||(l=this.options.toleranceElement?a(this.options.toleranceElement,f.item):f.item,b||(f.width=l.outerWidth(),f.height=l.outerHeight()),
l=l.offset(),f.left=l.left,f.top=l.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)l=this.containers[e].element.offset(),this.containers[e].containerCache.left=l.left,this.containers[e].containerCache.top=l.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(b){b=
b||this;var e,f=b.options;f.placeholder&&f.placeholder.constructor!==String||(e=f.placeholder,f.placeholder={element:function(){var f=a(document.createElement(b.currentItem[0].nodeName)).addClass(e||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return e||(f.style.visibility="hidden"),f},update:function(a,k){if(!e||f.forcePlaceholderSize)k.height()||k.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||
0,10)),k.width()||k.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10))}});b.placeholder=a(f.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);f.placeholder.update(b,b.placeholder)},_contactContainers:function(b){var e,f,l,k,h,m,p,q,r=f=null;for(e=this.containers.length-1;0<=e;e--)a.contains(this.currentItem[0],this.containers[e].element[0])||(this._intersectsWith(this.containers[e].containerCache)?
f&&a.contains(this.containers[e].element[0],f.element[0])||(f=this.containers[e],r=e):this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0));if(f)if(1===this.containers.length)this.containers[r]._trigger("over",b,this._uiHash(this)),this.containers[r].containerCache.over=1;else{f=1E4;l=null;k=this.containers[r].floating?"left":"top";h=this.containers[r].floating?"width":"height";m=this.positionAbs[k]+this.offset.click[k];
for(e=this.items.length-1;0<=e;e--)a.contains(this.containers[r].element[0],this.items[e].item[0])&&this.items[e].item[0]!==this.currentItem[0]&&(p=this.items[e].item.offset()[k],q=!1,Math.abs(p-m)>Math.abs(p+this.items[e][h]-m)&&(q=!0,p+=this.items[e][h]),Math.abs(p-m)<f&&(f=Math.abs(p-m),l=this.items[e],this.direction=q?"up":"down"));if(l||this.options.dropOnEmpty)this.currentContainer=this.containers[r],l?this._rearrange(b,l,null,!0):this._rearrange(b,null,this.containers[r].element,!0),this._trigger("change",
b,this._uiHash()),this.containers[r]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[r]._trigger("over",b,this._uiHash(this)),this.containers[r].containerCache.over=1}},_createHelper:function(b){var e=this.options;b=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[b,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return b.parents("body").length||a("parent"!==e.appendTo?e.appendTo:
this.currentItem[0].parentNode)[0].appendChild(b[0]),b[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!b[0].style.width||e.forceHelperSize)&&b.width(this.currentItem.width()),(!b[0].style.height||e.forceHelperSize)&&b.height(this.currentItem.height()),b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));
a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==
document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=
this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,
e,f,l=this.options;"parent"===l.containment&&(l.containment=this.helper[0].parentNode);if("document"===l.containment||"window"===l.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===l.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===l.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];
/^(document|window|parent)$/.test(l.containment)||(b=a(l.containment)[0],e=a(l.containment).offset(),f="hidden"!==a(b).css("overflow"),this.containment=[e.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,e.left+(f?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),
10)||0)-this.helperProportions.width-this.margins.left,e.top+(f?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,e){e||(e=this.position);var f="absolute"===b?1:-1,l="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,k=/(html|body)/i.test(l[0].tagName);
return{top:e.top+this.offset.relative.top*f+this.offset.parent.top*f-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():k?0:l.scrollTop())*f,left:e.left+this.offset.relative.left*f+this.offset.parent.left*f-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():k?0:l.scrollLeft())*f}},_generatePosition:function(b){var e,f,l=this.options,k=b.pageX,h=b.pageY,m="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:
this.offsetParent,p=/(html|body)/i.test(m[0].tagName);return"relative"===this.cssPosition&&(this.scrollParent[0]===document||this.scrollParent[0]===this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(k=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(h=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&
(k=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(h=this.containment[3]+this.offset.click.top)),l.grid&&(e=this.originalPageY+Math.round((h-this.originalPageY)/l.grid[1])*l.grid[1],h=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-l.grid[1]:e+l.grid[1]:e,f=this.originalPageX+Math.round((k-this.originalPageX)/l.grid[0])*l.grid[0],k=this.containment?
f-this.offset.click.left>=this.containment[0]&&f-this.offset.click.left<=this.containment[2]?f:f-this.offset.click.left>=this.containment[0]?f-l.grid[0]:f+l.grid[0]:f)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():p?0:m.scrollTop()),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():p?0:m.scrollLeft())}},_rearrange:function(a,
e,f,l){f?f[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling);var k=this.counter=this.counter?++this.counter:1;this._delay(function(){k===this.counter&&this.refreshPositions(!l)})},_clear:function(b,e){this.reverting=!1;var f,l=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(f in this._storedCSS)if("auto"===
this._storedCSS[f]||"static"===this._storedCSS[f])this._storedCSS[f]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!e&&l.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||l.push(function(a){this._trigger("update",a,this._uiHash())});this!==this.currentContainer&&
(e||(l.push(function(a){this._trigger("remove",a,this._uiHash())}),l.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),l.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer))));for(f=this.containers.length-1;0<=f;f--)e||l.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over&&
(l.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over=0);this._storedCursor&&a("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",b,this._uiHash());for(f=0;f<l.length;f++)l[f].call(this,
b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!1}e||this._trigger("beforeStop",b,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null;if(!e){for(f=0;f<l.length;f++)l[f].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(b){var e=b||this;
return{helper:e.helper,placeholder:e.placeholder||a([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:b?b.element:null}}})})(jQuery);
(function(a){function h(a){return function(){var b=this.element.val();a.apply(this,arguments);this._refresh();b!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.10.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);
this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},b=this.element;return a.each(["min","max","step"],function(a,f){var l=b.attr(f);void 0!==l&&l.length&&(e[f]=l)}),e},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",
focus:function(){this.previous=this.element.val()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a))},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((0<b?1:-1)*this.options.step,a);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100);a.preventDefault()}},"mousedown .ui-spinner-button":function(e){function b(){this.element[0]===
this.document[0].activeElement||(this.element.focus(),this.previous=g,this._delay(function(){this.previous=g}))}var g;g=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();e.preventDefault();b.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;b.call(this)});!1!==this._start(e)&&this._repeat(null,a(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(a(e.currentTarget).hasClass("ui-state-active")){if(!1===
this._start(e))return!1;this._repeat(null,a(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(.5*a.height())&&0<a.height()&&
a.height(a.height());this.options.disabled&&this.disable()},_keydown:function(e){var b=this.options,g=a.ui.keyCode;switch(e.keyCode){case g.UP:return this._repeat(null,1,e),!0;case g.DOWN:return this._repeat(null,-1,e),!0;case g.PAGE_UP:return this._repeat(null,b.page,e),!0;case g.PAGE_DOWN:return this._repeat(null,-b.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+
this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return this.spinning||!1!==this._trigger("start",a)?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,b,g){a=a||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,b,g)},a);this._spin(b*this.options.step,g)},_spin:function(a,b){var g=this.value()||0;this.counter||
(this.counter=1);g=this._adjustValue(g+a*this._increment(this.counter));this.spinning&&!1===this._trigger("spin",b,{value:g})||(this._value(g),this.counter++)},_increment:function(e){var b=this.options.incremental;return b?a.isFunction(b)?b(e):Math.floor(e*e*e/5E4-e*e/500+17*e/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){a=a.toString();var b=a.indexOf(".");
return-1===b?0:a.length-b-1},_adjustValue:function(a){var b,g,f=this.options;return b=null!==f.min?f.min:0,g=a-b,g=Math.round(g/f.step)*f.step,a=b+g,a=parseFloat(a.toFixed(this._precision())),null!==f.max&&a>f.max?f.max:null!==f.min&&a<f.min?f.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){if("culture"===a||"numberFormat"===a){var g=this._parse(this.element.val());
this.options[a]=b;this.element.val(this._format(g))}else"max"!==a&&"min"!==a&&"step"!==a||"string"!=typeof b||(b=this._parse(b)),"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(b.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(b.down)),this._super(a,b),"disabled"===a&&(b?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:h(function(a){this._super(a);
this._value(this.element.val())}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},
_value:function(a,b){var g;""!==a&&(g=this._parse(a),null!==g&&(b||(g=this._adjustValue(g)),a=this._format(g)));this.element.val(a);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:h(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),
this._stop())},stepDown:h(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:h(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:h(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){if(!arguments.length)return this._parse(this.element.val());h(this._value).call(this,a)},widget:function(){return this.uiSpinner}})})(jQuery);
(function(a,h){function e(a){return 1<a.hash.length&&decodeURIComponent(a.href.replace(g,""))===decodeURIComponent(location.href.replace(g,""))}var b=0,g=/#.*$/;a.widget("ui.tabs",{version:"1.10.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,e=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",
e.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()});this._processTabs();e.active=this._initialActive();a.isArray(e.disabled)&&(e.disabled=a.unique(e.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort());!1!==this.options.active&&
this.anchors.length?this.active=this._findActive(e.active):this.active=a();this._refresh();this.active.length&&this.load(e.active)},_initialActive:function(){var b=this.options.active,e=this.options.collapsible,g=location.hash.substring(1);null===b&&(g&&this.tabs.each(function(e,l){if(a(l).attr("aria-controls")===g)return b=e,!1}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null===b||-1===b)&&(b=this.tabs.length?0:!1);return!1!==b&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&
(b=e?!1:0)),!e&&!1===b&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var e=a(this.document[0].activeElement).closest("li"),g=this.tabs.index(e),h=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:g++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:h=!1;g--;break;case a.ui.keyCode.END:g=this.anchors.length-1;break;case a.ui.keyCode.HOME:g=
0;break;case a.ui.keyCode.SPACE:b.preventDefault();clearTimeout(this.activating);this._activate(g);return;case a.ui.keyCode.ENTER:b.preventDefault();clearTimeout(this.activating);this._activate(g===this.options.active?!1:g);return;default:return}b.preventDefault();clearTimeout(this.activating);g=this._focusNextTab(g,h);b.ctrlKey||(e.attr("aria-selected","false"),this.tabs.eq(g).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",g)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||
b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(b,e){for(var g=this.tabs.length-1;-1!==a.inArray((b>g&&(b=0),0>b&&(b=g),b),this.options.disabled);)b=e?b+1:b-1;return b},_focusNextTab:function(a,
b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){"active"===a?this._activate(b):"disabled"===a?this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),!b&&!1===this.options.active&&this._activate(0)),"event"===a&&this._setupEvents(b),"heightStyle"===a&&this._setupHeightStyle(b))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+ ++b},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,
"\\$&"):""},refresh:function(){var b=this.options,e=this.tablist.children(":has(a[href])");b.disabled=a.map(e.filter(".ui-state-disabled"),function(a){return e.index(a)});this._processTabs();!1!==b.active&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a());this._refresh()},
_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true",
"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=
a();this.anchors.each(function(g,k){var h,m,p,q=a(k).uniqueId().attr("id"),r=a(k).closest("li"),t=r.attr("aria-controls");e(k)?(h=k.hash,m=b.element.find(b._sanitizeSelector(h))):(p=b._tabId(r),h="#"+p,m=b.element.find(h),m.length||(m=b._createPanel(p),m.insertAfter(b.panels[g-1]||b.tablist)),m.attr("aria-live","polite"));m.length&&(b.panels=b.panels.add(m));t&&r.data("ui-tabs-aria-controls",t);r.attr({"aria-controls":h.substring(1),"aria-labelledby":q});m.attr("aria-labelledby",q)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role",
"tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var e=0,g;g=this.tabs[e];e++)!0===b||-1!==a.inArray(e,b)?a(g).addClass("ui-state-disabled").attr("aria-disabled","true"):a(g).removeClass("ui-state-disabled").removeAttr("aria-disabled");
this.options.disabled=b},_setupEvents:function(b){var e={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){e[b]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,e);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(b){var e,g=this.element.parent();"fill"===b?(e=g.height(),e-=this.element.outerHeight()-this.element.height(),
this.element.siblings(":visible").each(function(){var b=a(this),f=b.css("position");"absolute"!==f&&"fixed"!==f&&(e-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){e-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,e-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(e=0,this.panels.each(function(){e=Math.max(e,a(this).height("").height())}).height(e))},_eventHandler:function(b){var e=this.options,g=this.active,
h=a(b.currentTarget).closest("li"),m=h[0]===g[0],p=m&&e.collapsible,q=p?a():this._getPanelForTab(h),r=g.length?this._getPanelForTab(g):a(),g={oldTab:g,oldPanel:r,newTab:p?a():h,newPanel:q};b.preventDefault();h.hasClass("ui-state-disabled")||h.hasClass("ui-tabs-loading")||this.running||m&&!e.collapsible||!1===this._trigger("beforeActivate",b,g)||(e.active=p?!1:this.tabs.index(h),this.active=m?a():h,this.xhr&&this.xhr.abort(),r.length||q.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),
q.length&&this.load(this.tabs.index(h),b),this._toggle(b,g))},_toggle:function(b,e){function g(){m.running=!1;m._trigger("activate",b,e)}function h(){e.newTab.closest("li").addClass("ui-tabs-active ui-state-active");p.length&&m.options.show?m._show(p,m.options.show,g):(p.show(),g())}var m=this,p=e.newPanel,q=e.oldPanel;this.running=!0;q.length&&this.options.hide?this._hide(q,this.options.hide,function(){e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");h()}):(e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
q.hide(),h());q.attr({"aria-expanded":"false","aria-hidden":"true"});e.oldTab.attr("aria-selected","false");p.length&&q.length?e.oldTab.attr("tabIndex",-1):p.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);p.attr({"aria-expanded":"true","aria-hidden":"false"});e.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){b=this._findActive(b);b[0]!==this.active[0]&&(b.length||(b=this.active),b=b.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,
currentTarget:b,preventDefault:a.noop}))},_findActive:function(b){return!1===b?a():this.tabs.eq(b)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();
this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var b=a(this),e=b.data("ui-tabs-aria-controls");
e?b.attr("aria-controls",e).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var e=this.options.disabled;!1!==e&&(b===h?e=!1:(b=this._getIndex(b),a.isArray(e)?e=a.map(e,function(a){return a!==b?a:null}):e=a.map(this.tabs,function(a,e){return e!==b?e:null})),this._setupDisabled(e))},disable:function(b){var e=this.options.disabled;if(!0!==e){if(b===h)e=!0;else{b=this._getIndex(b);
if(-1!==a.inArray(b,e))return;a.isArray(e)?e=a.merge([b],e).sort():e=[b]}this._setupDisabled(e)}},load:function(b,g){b=this._getIndex(b);var k=this,h=this.tabs.eq(b),m=h.find(".ui-tabs-anchor"),p=this._getPanelForTab(h),q={tab:h,panel:p};e(m[0])||(this.xhr=a.ajax(this._ajaxSettings(m,g,q)))&&"canceled"!==this.xhr.statusText&&(h.addClass("ui-tabs-loading"),p.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){p.html(a);k._trigger("load",g,q)},1)}).complete(function(a,b){setTimeout(function(){"abort"===
b&&k.panels.stop(!1,!0);h.removeClass("ui-tabs-loading");p.removeAttr("aria-busy");a===k.xhr&&delete k.xhr},1)}))},_ajaxSettings:function(b,e,g){var h=this;return{url:b.attr("href"),beforeSend:function(b,f){return h._trigger("beforeLoad",e,a.extend({jqXHR:b,ajaxSettings:f},g))}}},_getPanelForTab:function(b){b=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+b))}})})(jQuery);
(function(a){function h(b,e){var l=(b.attr("aria-describedby")||"").split(/\s+/);l.push(e);b.data("ui-tooltip-id",e).attr("aria-describedby",a.trim(l.join(" ")))}function e(b){var e=b.data("ui-tooltip-id"),l=(b.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(e,l);-1!==e&&l.splice(e,1);b.removeData("ui-tooltip-id");(l=a.trim(l.join(" ")))?b.attr("aria-describedby",l):b.removeAttr("aria-describedby")}var b=0;a.widget("ui.tooltip",{version:"1.10.1",options:{content:function(){var b=a(this).attr("title")||
"";return a("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable()},_setOption:function(b,e){var l=this;"disabled"===b?(this[e?"_disable":"_enable"](),this.options[b]=e):(this._super(b,e),"content"===b&&a.each(this.tooltips,function(a,
b){l._updateContent(b)}))},_disable:function(){var b=this;a.each(this.tooltips,function(e,l){var k=a.Event("blur");k.target=k.currentTarget=l[0];b.close(k,!0)});this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(b){var e=
this,l=a(b?b.target:this.element).closest(this.options.items);l.length&&!l.data("ui-tooltip-id")&&(l.attr("title")&&l.data("ui-tooltip-title",l.attr("title")),l.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&l.parents().each(function(){var b=a(this),g;b.data("ui-tooltip-open")&&(g=a.Event("blur"),g.target=g.currentTarget=this,e.close(g,!0));b.attr("title")&&(b.uniqueId(),e.parents[this.id]={element:this,title:b.attr("title")},b.attr("title",""))}),this._updateContent(l,b))},_updateContent:function(a,
b){var e;e=this.options.content;var k=this,h=b?b.type:null;if("string"==typeof e)return this._open(b,a,e);(e=e.call(a[0],function(e){a.data("ui-tooltip-open")&&k._delay(function(){b&&(b.type=h);this._open(b,a,e)})}))&&this._open(b,a,e)},_open:function(b,e,l){function k(a){p.of=a;n.is(":hidden")||n.position(p)}var n,m,p=a.extend({},this.options.position);l&&(n=this._find(e),n.length?n.find(".ui-tooltip-content").html(l):(e.is("[title]")&&(b&&"mouseover"===b.type?e.attr("title",""):e.removeAttr("title")),
n=this._tooltip(e),h(e,n.attr("id")),n.find(".ui-tooltip-content").html(l),this.options.track&&b&&/^mouse/.test(b.type)?(this._on(this.document,{mousemove:k}),k(b)):n.position(a.extend({of:e},this.options.position)),n.hide(),this._show(n,this.options.show),this.options.show&&this.options.show.delay&&(m=this.delayedShow=setInterval(function(){n.is(":visible")&&(k(p.of),clearInterval(m))},a.fx.interval)),this._trigger("open",b,{tooltip:n}),l={keyup:function(b){b.keyCode===a.ui.keyCode.ESCAPE&&(b=a.Event(b),
b.currentTarget=e[0],this.close(b,!0))},remove:function(){this._removeTooltip(n)}},b&&"mouseover"!==b.type||(l.mouseleave="close"),b&&"focusin"!==b.type||(l.focusout="close"),this._on(!0,e,l)))},close:function(b){var f=this,l=a(b?b.currentTarget:this.element),k=this._find(l);this.closing||(clearInterval(this.delayedShow),l.data("ui-tooltip-title")&&l.attr("title",l.data("ui-tooltip-title")),e(l),k.stop(!0),this._hide(k,this.options.hide,function(){f._removeTooltip(a(this))}),l.removeData("ui-tooltip-open"),
this._off(l,"mouseleave focusout keyup"),l[0]!==this.element[0]&&this._off(l,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&a.each(this.parents,function(b,e){a(e.element).attr("title",e.title);delete f.parents[b]}),this.closing=!0,this._trigger("close",b,{tooltip:k}),this.closing=!1)},_tooltip:function(e){var f="ui-tooltip-"+b++,l=a("<div>").attr({id:f,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return a("<div>").addClass("ui-tooltip-content").appendTo(l),
l.appendTo(this.document[0].body),this.tooltips[f]=e,l},_find:function(b){return(b=b.data("ui-tooltip-id"))?a("#"+b):a()},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_destroy:function(){var b=this;a.each(this.tooltips,function(e,l){var k=a.Event("blur");k.target=k.currentTarget=l[0];b.close(k,!0);a("#"+e).remove();l.data("ui-tooltip-title")&&(l.attr("title",l.data("ui-tooltip-title")),l.removeData("ui-tooltip-title"))})}})})(jQuery);!function(a){"function"==typeof define&&define.amd?define("position-calculator",["jquery"],a):jQuery.PositionCalculator=a(jQuery)}(function(a){function h(a){return"string"==typeof a&&("window"===a?a=r:"document"===a&&(a=t)),a}function e(a){a=a.split(" ");return{y:y.test(a[0])?a[0]:"top",x:x.test(a[1])?a[1]:"left"}}function b(a,b){return a===b?!0:a&&b?a.top===b.top&&a.left===b.left&&a.height===b.height&&a.width===b.width:!1}function g(b){var e=b[0];if(9===e.nodeType)return{width:b.outerWidth(),height:b.outerHeight(),
top:0,left:0};if(a.isWindow(e))return{width:b.outerWidth(),height:b.outerHeight(),top:b.scrollTop(),left:b.scrollLeft()};if(e.preventDefault)return{width:0,height:0,top:e.pageY,left:e.pageX};e=b.offset();return{width:b.outerWidth(),height:b.outerHeight(),top:e.top,left:e.left}}function f(b,e){var f=b[0];if(9!==f.nodeType){if(a.isWindow(f)&&(e.top=b.scrollTop(),e.left=b.scrollLeft()),f.preventDefault)return e.top=f.pageY,void(e.left=f.pageX);f=b.offset();e.top=f.top;e.left=f.left}}function l(a,b){return{y:parseFloat(a.y)*
(z.test(a.y)?b.height/100:1),x:parseFloat(a.x)*(z.test(a.x)?b.width/100:1),mirror:a.mirror}}function k(a,b,e){a={top:0,left:0,middle:.5*a.height,center:.5*a.width,bottom:a.height,right:a.width};return 0!==b.y&&(a.middle+=b.y,b.mirror?(a.top+="top"!==e.y?-1*b.y:b.y,a.bottom+="bottom"!==e.y?-1*b.y:b.y):(a.top+=b.y,a.bottom+=b.y)),0!==b.x&&(a.center+=b.x,b.mirror?(a.left+="left"!==e.x?-1*b.x:b.x,a.right+="right"!==e.x?-1*b.x:b.x):(a.left+=b.x,a.right+=b.x)),a}function n(a){var b=[];return 0<a.top&&b.push("top"),
0<a.left&&b.push("left"),0>a.bottom&&b.push("bottom"),0>a.right&&b.push("right"),a.overflow=b.length?b:null,a}function m(a,b){return n({top:a.top-b.top,left:a.left-b.left,bottom:a.top+a.height-(b.top+b.height),right:a.left+a.width-(b.left+b.width),overflow:[]})}function p(a,b,e){var f,g,k,l,h;return h=e?["top","bottom"]:["left","right"],f=a[h[0]],k=b[h[0]],g=-1*a[h[1]],l=-1*b[h[1]],0>f&&(f=0),0>g&&(g=0),0>k&&(k=0),0>l&&(l=0),0>f&&0>g?!0:0>k&&0>l?!1:k+l>f+g}function q(a){return this instanceof q?(this.options=
this.$itm=this.$trg=this.$bnd=this.itmAt=this.trgAt=this.itmPos=this.trgPos=this.bndPos=this.itmOffset=this.trgOffset=null,void this._init(a)):new q(a)}var r=window,t=document,u=t.documentElement,y=/top|middle|bottom/,x=/left|center|right/,z=/%$/,B={left:"right",center:"center",right:"left",top:"bottom",middle:"middle",bottom:"top"};return q.prototype._init=function(b){b=this.options=a.extend({},q.defaults,b);return b.item?(this.$itm=b.item.jquery?b.item:a(b.item),0===this.$itm.length?null:(this.$trg=
b.target&&b.target.jquery?b.target:a(h(b.target)),this.$bnd=b.boundary&&b.boundary.jquery?b.boundary:a(h(b.boundary)),this.itmAt=e(b.itemAt),this.trgAt=e(b.targetAt),this.resize(),this)):null},q.prototype.resize=function(){var e=this.options,f=g(this.$itm),h=this.$trg.length?g(this.$trg):null,m;if(this.$bnd.length){m=this.$bnd;var r,n=m[0];m=(9===n.nodeType?(n=u,r={top:0,left:0}):a.isWindow(n)?(n=u,r={top:m.scrollTop(),left:m.scrollLeft()}):r=m.offset(),{width:n.clientWidth,height:n.clientHeight,
top:r.top+n.clientTop,left:r.left+n.clientLeft})}else m=null;(this.bndPos=m,this.itmPos&&b(f,this.itmPos))||(this.itmPos=f,r=l(e.itemOffset,f),r.x*=-1,r.y*=-1,this.itmOffset=k(f,r,this.itmAt));return this.trgPos&&b(h,this.trgPos)||(this.trgPos=h,h&&(this.trgOffset=k(h,l(e.targetOffset,h),this.trgAt))),this},q.prototype.calcVariant=function(a,b){var e={moveBy:null,distance:null,itemAt:null,targetAt:null};if(this.trgPos&&a&&b){var f={top:this.trgPos.top+this.trgOffset[b.y]-this.itmOffset[a.y],left:this.trgPos.left+
this.trgOffset[b.x]-this.itmOffset[a.x],height:this.itmPos.height,width:this.itmPos.width};e.moveBy={y:f.top-this.itmPos.top,x:f.left-this.itmPos.left};e.distance=this.bndPos?m(this.bndPos,f):null;e.itemAt=a.y+" "+a.x;e.targetAt=b.y+" "+b.x}else e.moveBy={y:0,x:0},e.distance=this.bndPos?m(this.bndPos,this.itmPos):null;return e},q.prototype.calculate=function(){if(null===this.itmPos)return null;var b=this.options;f(this.$itm,this.itmPos);this.trgPos&&f(this.$trg,this.trgPos);if(this.bndPos){var e=
this.$bnd,g=this.bndPos,k,l=e[0];9===l.nodeType?(l=u,k={top:0,left:0}):a.isWindow(l)?(l=u,k={top:e.scrollTop(),left:e.scrollLeft()}):k=e.offset();g.top=k.top+l.clientTop;g.left=k.left+l.clientLeft}e=this.calcVariant(this.itmAt,this.trgAt);if(!e.distance||!e.distance.overflow)return e;if(b.flip&&"none"!==b.flip&&this.trgPos){var h,m;var g=b.flip,l=this.itmAt,r=this.trgAt;k=e.distance;var q,l={y:l.y,x:l.x},r={y:r.y,x:r.x};if(-1!==k.overflow.indexOf("top")&&(m="top"),-1!==k.overflow.indexOf("bottom")&&
(m=m?null:"bottom"),-1!==k.overflow.indexOf("left")&&(q="left"),-1!==k.overflow.indexOf("right")&&(q=q?null:"right"),m||q){switch(g=!0===g?"both":g,k=0,g){case "item":k=1;break;case "target":k=2;break;case "both":k=3}m=(1&k&&(m&&(l.y=B[l.y]),q&&(l.x=B[l.x])),2&k&&(m&&(r.y=B[r.y]),q&&(r.x=B[r.x])),{item_at:l,tar_at:r})}else m=null;if(m){if(h=this.calcVariant(m.item_at,m.tar_at),!h.distance.overflow)return h;g=q=!1;if(q=p(h.distance,e.distance,!0),g=p(h.distance,e.distance,!1),q!==g){if(e=this.calcVariant({y:q?
m.item_at.y:this.itmAt.y,x:g?m.item_at.x:this.itmAt.x},{y:q?m.tar_at.y:this.trgAt.y,x:g?m.tar_at.x:this.trgAt.x}),!e.distance.overflow)return e}else q&&g&&(e=h)}}var t;if(b.stick&&"none"!==b.stick)if(h=e,b=b.stick,"all"===b&&(b=!0),m=h.distance.overflow,m.length){g=e=!1;for(k=m.length-1;0<=k;k--)switch(q=m[k]){case "top":case "bottom":(!g&&!0===b||-1!==b.indexOf(q))&&(t=h.distance[q],h.moveBy.y+=t,h.distance.top-=t,h.distance.bottom-=t,g=!0);break;case "left":case "right":(!e&&!0===b||-1!==b.indexOf(q))&&
(t=h.distance[q],h.moveBy.x+=t,h.distance.left-=t,h.distance.right-=t,e=!0)}t=(n(h.distance),h)}else t=h;else t=e;return t},q.defaults={item:null,target:null,boundary:window,itemAt:"top left",targetAt:"top left",itemOffset:{y:0,x:0,mirror:!0},targetOffset:{y:0,x:0,mirror:!0},flip:"none",stick:"none"},q});var JSON;JSON||(JSON={});
(function(){function a(b,e){var g,k,t,u,y=f,x,z=e[b];z&&"object"==typeof z&&"function"==typeof z.toJSON&&(z=z.toJSON(b));"function"==typeof n&&(z=n.call(e,b,z));switch(typeof z){case "string":return h(z);case "number":return isFinite(z)?String(z):"null";case "boolean":case "null":return String(z);case "object":if(!z)return"null";f+=l;x=[];if("[object Array]"===Object.prototype.toString.apply(z)){u=z.length;for(g=0;g<u;g+=1)x[g]=a(g,z)||"null";t=0===x.length?"[]":f?"[\n"+f+x.join(",\n"+f)+"\n"+y+"]":
"["+x.join(",")+"]";f=y;return t}if(n&&"object"==typeof n)for(u=n.length,g=0;g<u;g+=1)"string"==typeof n[g]&&(k=n[g],t=a(k,z),t&&x.push(h(k)+(f?": ":":")+t));else for(k in z)Object.prototype.hasOwnProperty.call(z,k)&&(t=a(k,z),t&&x.push(h(k)+(f?": ":":")+t));t=0===x.length?"{}":f?"{\n"+f+x.join(",\n"+f)+"\n"+y+"}":"{"+x.join(",")+"}";f=y;return t}}function h(a){g.lastIndex=0;return g.test(a)?'"'+a.replace(g,function(a){var b=k[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+
'"':'"'+a+'"'}function e(a){return 10>a?"0"+a:a}"use strict";"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var b=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,l,k={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;"function"!=typeof JSON.stringify&&(JSON.stringify=function(b,e,g){var k;l=f="";if("number"==typeof g)for(k=0;k<g;k+=1)l+=" ";else"string"==typeof g&&(l=g);n=e;if(!e||"function"==typeof e||"object"==typeof e&&"number"==typeof e.length)return a("",{"":b});throw Error("JSON.stringify");});"function"!=
typeof JSON.parse&&(JSON.parse=function(a,e){function f(a,b){var g,k,l=a[b];if(l&&"object"==typeof l)for(g in l)Object.prototype.hasOwnProperty.call(l,g)&&(k=f(l,g),void 0!==k?l[g]=k:delete l[g]);return e.call(a,b,l)}var g;a=String(a);b.lastIndex=0;b.test(a)&&(a=a.replace(b,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return g=eval("("+a+")"),"function"==typeof e?f({"":g},""):g;throw new SyntaxError("JSON.parse");})})();
SockJS=function(){var a=document,h=window,e={},b=function(){};b.prototype.addEventListener=function(a,b){this._listeners||(this._listeners={});a in this._listeners||(this._listeners[a]=[]);var f=this._listeners[a];-1===e.arrIndexOf(f,b)&&f.push(b)};b.prototype.removeEventListener=function(a,b){if(this._listeners&&a in this._listeners){var f=this._listeners[a],g=e.arrIndexOf(f,b);-1!==g&&(1<f.length?this._listeners[a]=f.slice(0,g).concat(f.slice(g+1)):delete this._listeners[a])}};b.prototype.dispatchEvent=
function(a){var b=a.type,e=Array.prototype.slice.call(arguments,0);this["on"+b]&&this["on"+b].apply(this,e);if(this._listeners&&b in this._listeners)for(var f=0;f<this._listeners[b].length;f++)this._listeners[b][f].apply(this,e)};var g=function(a,b){this.type=a;if("undefined"!=typeof b)for(var e in b)b.hasOwnProperty(e)&&(this[e]=b[e])};g.prototype.toString=function(){var a=[],b;for(b in this)if(this.hasOwnProperty(b)){var e=this[b];"function"==typeof e&&(e="[function]");a.push(b+"="+e)}return"SimpleEvent("+
a.join(", ")+")"};var f=function(a){this._events=a||[];this._listeners={}};f.prototype.emit=function(a){this._verifyType(a);if(!this._nuked){var b=Array.prototype.slice.call(arguments,1);this["on"+a]&&this["on"+a].apply(this,b);if(a in this._listeners)for(var e=0;e<this._listeners[a].length;e++)this._listeners[a][e].apply(this,b)}};f.prototype.on=function(a,b){this._verifyType(a);this._nuked||(a in this._listeners||(this._listeners[a]=[]),this._listeners[a].push(b))};f.prototype._verifyType=function(a){-1===
e.arrIndexOf(this._events,a)&&e.log("Event "+JSON.stringify(a)+" not listed "+JSON.stringify(this._events)+" in "+this)};f.prototype.nuke=function(){this._nuked=!0;for(var a=0;a<this._events.length;a++)delete this[this._events[a]];this._listeners={}};e.random_string=function(a,b){b=b||37;var e,f=[];for(e=0;e<a;e++)f.push("abcdefghijklmnopqrstuvwxyz0123456789_".substr(Math.floor(Math.random()*b),1));return f.join("")};e.random_number=function(a){return Math.floor(Math.random()*a)};e.random_number_string=
function(a){var b=(""+(a-1)).length;return(Array(b+1).join("0")+e.random_number(a)).slice(-b)};e.getOrigin=function(a){return(a+"/").split("/").slice(0,3).join("/")};e.isSameOriginUrl=function(a,b){return b||(b=h.location.href),a.split("/").slice(0,3).join("/")===b.split("/").slice(0,3).join("/")};e.getParentDomain=function(a){return/^[0-9.]*$/.test(a)||/^\[/.test(a)||!/[.]/.test(a)?a:a.split(".").slice(1).join(".")};e.objectExtend=function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);return a};
e.polluteGlobalNamespace=function(){"_jp"in h||(h._jp={})};e.closeFrame=function(a,b){return"c"+JSON.stringify([a,b])};e.userSetCode=function(a){return 1E3===a||3E3<=a&&4999>=a};e.countRTO=function(a){var b;return 100<a?b=3*a:b=a+200,b};e.log=function(){h.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)};e.bind=function(a,b){return a.bind?a.bind(b):function(){return a.apply(b,arguments)}};e.flatUrl=function(a){return-1===a.indexOf("?")&&-1===a.indexOf("#")};e.amendUrl=
function(b){var f=a.location;if(!b)throw Error("Wrong url for SockJS");if(!e.flatUrl(b))throw Error("Only basic urls are supported in SockJS");return 0===b.indexOf("//")&&(b=f.protocol+b),0===b.indexOf("/")&&(b=f.protocol+"//"+f.host+b),b=b.replace(/[/]+$/,""),b};e.arrIndexOf=function(a,b){for(var e=0;e<a.length;e++)if(a[e]===b)return e;return-1};e.arrSkip=function(a,b){var f=e.arrIndexOf(a,b);return-1===f?a.slice():a.slice(0,f).concat(a.slice(f+1))};e.isArray=Array.isArray||function(a){return 0<=
{}.toString.call(a).indexOf("Array")};e.delay=function(a,b){return"function"==typeof a&&(b=a,a=0),setTimeout(b,a)};var l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k={"\x00":"\\u0000","\u0001":"\\u0001","\u0002":"\\u0002","\u0003":"\\u0003","\u0004":"\\u0004","\u0005":"\\u0005","\u0006":"\\u0006","\u0007":"\\u0007","\b":"\\b","\t":"\\t","\n":"\\n","\x0B":"\\u000b","\f":"\\f","\r":"\\r","\u000e":"\\u000e","\u000f":"\\u000f",
"\u0010":"\\u0010","\u0011":"\\u0011","\u0012":"\\u0012","\u0013":"\\u0013","\u0014":"\\u0014","\u0015":"\\u0015","\u0016":"\\u0016","\u0017":"\\u0017","\u0018":"\\u0018","\u0019":"\\u0019","\u001a":"\\u001a","\u001b":"\\u001b","\u001c":"\\u001c","\u001d":"\\u001d","\u001e":"\\u001e","\u001f":"\\u001f",'"':'\\"',"\\":"\\\\","\u007f":"\\u007f","\u0080":"\\u0080","\u0081":"\\u0081","\u0082":"\\u0082","\u0083":"\\u0083","\u0084":"\\u0084","\u0085":"\\u0085","\u0086":"\\u0086","\u0087":"\\u0087","\u0088":"\\u0088",
"\u0089":"\\u0089","\u008a":"\\u008a","\u008b":"\\u008b","\u008c":"\\u008c","\u008d":"\\u008d","\u008e":"\\u008e","\u008f":"\\u008f","\u0090":"\\u0090","\u0091":"\\u0091","\u0092":"\\u0092","\u0093":"\\u0093","\u0094":"\\u0094","\u0095":"\\u0095","\u0096":"\\u0096","\u0097":"\\u0097","\u0098":"\\u0098","\u0099":"\\u0099","\u009a":"\\u009a","\u009b":"\\u009b","\u009c":"\\u009c","\u009d":"\\u009d","\u009e":"\\u009e","\u009f":"\\u009f","\u00ad":"\\u00ad","\u0600":"\\u0600","\u0601":"\\u0601","\u0602":"\\u0602",
"\u0603":"\\u0603","\u0604":"\\u0604","\u070f":"\\u070f","\u17b4":"\\u17b4","\u17b5":"\\u17b5","\u200c":"\\u200c","\u200d":"\\u200d","\u200e":"\\u200e","\u200f":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","\u202a":"\\u202a","\u202b":"\\u202b","\u202c":"\\u202c","\u202d":"\\u202d","\u202e":"\\u202e","\u202f":"\\u202f","\u2060":"\\u2060","\u2061":"\\u2061","\u2062":"\\u2062","\u2063":"\\u2063","\u2064":"\\u2064","\u2065":"\\u2065","\u2066":"\\u2066","\u2067":"\\u2067","\u2068":"\\u2068","\u2069":"\\u2069",
"\u206a":"\\u206a","\u206b":"\\u206b","\u206c":"\\u206c","\u206d":"\\u206d","\u206e":"\\u206e","\u206f":"\\u206f","\ufeff":"\\ufeff","\ufff0":"\\ufff0","\ufff1":"\\ufff1","\ufff2":"\\ufff2","\ufff3":"\\ufff3","\ufff4":"\\ufff4","\ufff5":"\\ufff5","\ufff6":"\\ufff6","\ufff7":"\\ufff7","\ufff8":"\\ufff8","\ufff9":"\\ufff9","\ufffa":"\\ufffa","\ufffb":"\\ufffb","\ufffc":"\\ufffc","\ufffd":"\\ufffd","\ufffe":"\\ufffe","\uffff":"\\uffff"},n=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,
m,p=JSON&&JSON.stringify||function(a){return l.lastIndex=0,l.test(a)&&(a=a.replace(l,function(a){return k[a]})),'"'+a+'"'},q=function(a){var b,e={},f=[];for(b=0;65536>b;b++)f.push(String.fromCharCode(b));return a.lastIndex=0,f.join("").replace(a,function(a){return e[a]="\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4),""}),a.lastIndex=0,e};e.quote=function(a){a=p(a);return n.lastIndex=0,n.test(a)?(m||(m=q(n)),a.replace(n,function(a){return m[a]})):a};var r="websocket xdr-streaming xhr-streaming iframe-eventsource iframe-htmlfile xdr-polling xhr-polling iframe-xhr-polling jsonp-polling".split(" ");
e.probeProtocols=function(){for(var a={},b=0;b<r.length;b++){var e=r[b];a[e]=z[e]&&z[e].enabled()}return a};e.detectProtocols=function(a,b,e){var f={},g=[];b||(b=r);for(var k=0;k<b.length;k++){var l=b[k];f[l]=a[l]}var h=function(a){var b=a.shift();f[b]?g.push(b):0<a.length&&h(a)};return!1!==e.websocket&&h(["websocket"]),f["xhr-streaming"]&&!e.null_origin?g.push("xhr-streaming"):!f["xdr-streaming"]||e.cookie_needed||e.null_origin?h(["iframe-eventsource","iframe-htmlfile"]):g.push("xdr-streaming"),
f["xhr-polling"]&&!e.null_origin?g.push("xhr-polling"):!f["xdr-polling"]||e.cookie_needed||e.null_origin?h(["iframe-xhr-polling","jsonp-polling"]):g.push("xdr-polling"),g};e.createHook=function(){var a="a"+e.random_string(8);if(!("_sockjs_global"in h)){var b={};h._sockjs_global=function(a){return a in b||(b[a]={id:a,del:function(){delete b[a]}}),b[a]}}return h._sockjs_global(a)};e.attachMessage=function(a){e.attachEvent("message",a)};e.attachEvent=function(b,e){"undefined"!=typeof h.addEventListener?
h.addEventListener(b,e,!1):(a.attachEvent("on"+b,e),h.attachEvent("on"+b,e))};e.detachMessage=function(a){e.detachEvent("message",a)};e.detachEvent=function(b,e){"undefined"!=typeof h.addEventListener?h.removeEventListener(b,e,!1):(a.detachEvent("on"+b,e),h.detachEvent("on"+b,e))};var t={},u=!1,y=function(){for(var a in t)t[a](),delete t[a]};e.attachEvent("unload",function(){u||(u=!0,y())});e.unload_add=function(a){var b=e.random_string(8);return t[b]=a,u&&e.delay(y),b};e.unload_del=function(a){a in
t&&delete t[a]};e.createIframe=function(b,f){var g=a.createElement("iframe"),k,l,h=function(){clearTimeout(k);try{g.onload=null}catch(a){}g.onerror=null},m=function(){g&&(h(),setTimeout(function(){g&&g.parentNode.removeChild(g);g=null},0),e.unload_del(l))};return g.src=b,g.style.display="none",g.style.position="absolute",g.onerror=function(){g&&(m(),f("onerror"))},g.onload=function(){clearTimeout(k);k=setTimeout(function(){g&&(m(),f("onload timeout"))},2E3)},a.body.appendChild(g),k=setTimeout(function(){g&&
(m(),f("timeout"))},15E3),l=e.unload_add(m),{post:function(a,b){try{g&&g.contentWindow&&g.contentWindow.postMessage(a,b)}catch(e){}},cleanup:m,loaded:h}};e.createHtmlfile=function(a,b){var f=new ActiveXObject("htmlfile"),g,k,l,m=function(){clearTimeout(g)},r=function(){f&&(m(),e.unload_del(k),l.parentNode.removeChild(l),l=f=null,CollectGarbage())};f.open();f.write('<html><script>document.domain="'+document.domain+'";\x3c/script></html>');f.close();f.parentWindow._jp=h._jp;var n=f.createElement("div");
return f.body.appendChild(n),l=f.createElement("iframe"),n.appendChild(l),l.src=a,g=setTimeout(function(){f&&(r(),b("timeout"))},15E3),k=e.unload_add(r),{post:function(a,b){try{l&&l.contentWindow&&l.contentWindow.postMessage(a,b)}catch(e){}},cleanup:r,loaded:m}};var x=function(){};x.prototype=new f(["chunk","finish"]);x.prototype._start=function(a,b,f,g){var k=this;try{k.xhr=new XMLHttpRequest}catch(l){}if(!k.xhr)try{k.xhr=new h.ActiveXObject("Microsoft.XMLHTTP")}catch(m){}if(h.ActiveXObject||h.XDomainRequest)b+=
(-1===b.indexOf("?")?"?":"&")+"t="+ +new Date;k.unload_ref=e.unload_add(function(){k._cleanup(!0)});try{k.xhr.open(a,b,!0)}catch(r){k.emit("finish",0,"");k._cleanup();return}g&&g.no_credentials||(k.xhr.withCredentials="true");if(g&&g.headers)for(var n in g.headers)k.xhr.setRequestHeader(n,g.headers[n]);k.xhr.onreadystatechange=function(){if(k.xhr){var a=k.xhr;switch(a.readyState){case 3:try{var b=a.status,e=a.responseText}catch(f){}1223===b&&(b=204);e&&0<e.length&&k.emit("chunk",b,e);break;case 4:b=
a.status,1223===b&&(b=204),k.emit("finish",b,a.responseText),k._cleanup(!1)}}};k.xhr.send(f)};x.prototype._cleanup=function(a){if(this.xhr){e.unload_del(this.unload_ref);this.xhr.onreadystatechange=function(){};if(a)try{this.xhr.abort()}catch(b){}this.unload_ref=this.xhr=null}};x.prototype.close=function(){this.nuke();this._cleanup(!0)};(e.XHRCorsObject=function(){var a=this,b=arguments;e.delay(function(){a._start.apply(a,b)})}).prototype=new x;(e.XHRLocalObject=function(a,b,f){var g=this;e.delay(function(){g._start(a,
b,f,{no_credentials:!0})})}).prototype=new x;x=e.XDRObject=function(a,b,f){var g=this;e.delay(function(){g._start(a,b,f)})};x.prototype=new f(["chunk","finish"]);x.prototype._start=function(a,b,f){var g=this,k=new XDomainRequest;b+=(-1===b.indexOf("?")?"?":"&")+"t="+ +new Date;var l=k.ontimeout=k.onerror=function(){g.emit("finish",0,"");g._cleanup(!1)};k.onprogress=function(){g.emit("chunk",200,k.responseText)};k.onload=function(){g.emit("finish",200,k.responseText);g._cleanup(!1)};g.xdr=k;g.unload_ref=
e.unload_add(function(){g._cleanup(!0)});try{g.xdr.open(a,b),g.xdr.send(f)}catch(h){l()}};x.prototype._cleanup=function(a){if(this.xdr){e.unload_del(this.unload_ref);this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null;if(a)try{this.xdr.abort()}catch(b){}this.unload_ref=this.xdr=null}};x.prototype.close=function(){this.nuke();this._cleanup(!0)};e.isXHRCorsCapable=function(){return h.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:h.XDomainRequest&&a.domain?2:G.enabled()?
3:4};var z=function(a,b,f){if(this===h)return new z(a,b,f);var g=this,k;g._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0};f&&e.objectExtend(g._options,f);g._base_url=e.amendUrl(a);g._server=g._options.server||e.random_number_string(1E3);g._options.protocols_whitelist&&g._options.protocols_whitelist.length?k=g._options.protocols_whitelist:("string"==typeof b&&0<b.length?k=[b]:e.isArray(b)?k=b:k=null,k&&g._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.'));
g._protocols=[];g.protocol=null;g.readyState=z.CONNECTING;g._ir=V(g._base_url);g._ir.onfinish=function(a,b){g._ir=null;a?(g._options.info&&(a=e.objectExtend(a,g._options.info)),g._options.rtt&&(b=g._options.rtt),g._applyInfo(a,b,k),g._didClose()):g._didClose(1002,"Can't connect to server",!0)}};z.prototype=new b;z.version="0.3.4";z.CONNECTING=0;z.OPEN=1;z.CLOSING=2;z.CLOSED=3;z.prototype._debug=function(){this._options.debug&&e.log.apply(e,arguments)};z.prototype._dispatchOpen=function(){this.readyState===
z.CONNECTING?(this._transport_tref&&(clearTimeout(this._transport_tref),this._transport_tref=null),this.readyState=z.OPEN,this.dispatchEvent(new g("open"))):this._didClose(1006,"Server lost session")};z.prototype._dispatchMessage=function(a){this.readyState===z.OPEN&&this.dispatchEvent(new g("message",{data:a}))};z.prototype._dispatchHeartbeat=function(a){this.readyState===z.OPEN&&this.dispatchEvent(new g("heartbeat",{}))};z.prototype._didClose=function(a,b,f){var k=this;if(k.readyState!==z.CONNECTING&&
k.readyState!==z.OPEN&&k.readyState!==z.CLOSING)throw Error("INVALID_STATE_ERR");k._ir&&(k._ir.nuke(),k._ir=null);k._transport&&(k._transport.doCleanup(),k._transport=null);var l=new g("close",{code:a,reason:b,wasClean:e.userSetCode(a)});if(!e.userSetCode(a)&&k.readyState===z.CONNECTING&&!f){if(k._try_next_protocol(l))return;l=new g("close",{code:2E3,reason:"All transports failed",wasClean:!1,last_event:l})}k.readyState=z.CLOSED;e.delay(function(){k.dispatchEvent(l)})};z.prototype._didMessage=function(a){switch(a.slice(0,
1)){case "o":this._dispatchOpen();break;case "a":a=JSON.parse(a.slice(1)||"[]");for(var b=0;b<a.length;b++)this._dispatchMessage(a[b]);break;case "m":a=JSON.parse(a.slice(1)||"null");this._dispatchMessage(a);break;case "c":a=JSON.parse(a.slice(1)||"[]");this._didClose(a[0],a[1]);break;case "h":this._dispatchHeartbeat()}};z.prototype._try_next_protocol=function(b){var f=this;f.protocol&&(f._debug("Closed transport:",f.protocol,""+b),f.protocol=null);for(f._transport_tref&&(clearTimeout(f._transport_tref),
f._transport_tref=null);;){b=f.protocol=f._protocols.shift();if(!b)return!1;if(z[b]&&!0===z[b].need_body&&(!a.body||"undefined"!=typeof a.readyState&&"complete"!==a.readyState))return f._protocols.unshift(b),f.protocol="waiting-for-load",e.attachEvent("load",function(){f._try_next_protocol()}),!0;if(z[b]&&z[b].enabled(f._options)){f._transport_tref=e.delay((f._options.rto||0)*(z[b].roundTrips||1)||5E3,function(){f.readyState===z.CONNECTING&&f._didClose(2007,"Transport timeouted")});var g=e.random_string(8),
g=f._base_url+"/"+f._server+"/"+g;return f._debug("Opening transport:",b," url:"+g," RTO:"+f._options.rto),f._transport=new z[b](f,g,f._base_url),!0}f._debug("Skipping transport:",b)}};z.prototype.close=function(a,b){if(a&&!e.userSetCode(a))throw Error("INVALID_ACCESS_ERR");return this.readyState!==z.CONNECTING&&this.readyState!==z.OPEN?!1:(this.readyState=z.CLOSING,this._didClose(a||1E3,b||"Normal closure"),!0)};z.prototype.send=function(a){if(this.readyState===z.CONNECTING)throw Error("INVALID_STATE_ERR");
return this.readyState===z.OPEN&&this._transport.doSend(e.quote(""+a)),!0};z.prototype._applyInfo=function(b,f,g){this._options.info=b;this._options.rtt=f;this._options.rto=e.countRTO(f);this._options.info.null_origin=!a.domain;f=e.probeProtocols();this._protocols=e.detectProtocols(f,g,b)};x=z.websocket=function(a,b){var f=this,g=b+"/websocket";"https"===g.slice(0,5)?g="wss"+g.slice(5):g="ws"+g.slice(4);f.ri=a;f.url=g;f.ws=new (h.WebSocket||h.MozWebSocket)(f.url);f.ws.onmessage=function(a){f.ri._didMessage(a.data)};
f.unload_ref=e.unload_add(function(){f.ws.close()});f.ws.onclose=function(){f.ri._didMessage(e.closeFrame(1006,"WebSocket connection broken"))}};x.prototype.doSend=function(a){this.ws.send("["+a+"]")};x.prototype.doCleanup=function(){var a=this.ws;a&&(a.onmessage=a.onclose=null,a.close(),e.unload_del(this.unload_ref),this.unload_ref=this.ri=this.ws=null)};x.enabled=function(){return!!h.WebSocket||!!h.MozWebSocket};x.roundTrips=2;var B=function(){};B.prototype.send_constructor=function(a){this.send_buffer=
[];this.sender=a};B.prototype.doSend=function(a){this.send_buffer.push(a);this.send_stop||this.send_schedule()};B.prototype.send_schedule_wait=function(){var a=this,b;a.send_stop=function(){a.send_stop=null;clearTimeout(b)};b=e.delay(25,function(){a.send_stop=null;a.send_schedule()})};B.prototype.send_schedule=function(){var a=this;if(0<a.send_buffer.length){var b="["+a.send_buffer.join(",")+"]";a.send_stop=a.sender(a.trans_url,b,function(b,e){a.send_stop=null;!1===b?a.ri._didClose(1006,"Sending error "+
e):a.send_schedule_wait()});a.send_buffer=[]}};B.prototype.send_destructor=function(){this._send_stop&&this._send_stop();this._send_stop=null};var D=function(b,f,g){if(!("_send_form"in this)){var k=this._send_form=a.createElement("form"),l=this._send_area=a.createElement("textarea");l.name="d";k.style.display="none";k.style.position="absolute";k.method="POST";k.enctype="application/x-www-form-urlencoded";k.acceptCharset="UTF-8";k.appendChild(l);a.body.appendChild(k)}var k=this._send_form,l=this._send_area,
h="a"+e.random_string(8);k.target=h;k.action=b+"/jsonp_send?i="+h;var m;try{m=a.createElement('<iframe name="'+h+'">')}catch(r){m=a.createElement("iframe"),m.name=h}m.id=h;k.appendChild(m);m.style.display="none";try{l.value=f}catch(n){e.log("Your browser is seriously broken. Go home! "+n.message)}k.submit();var q=function(a){m.onerror&&(m.onreadystatechange=m.onerror=m.onload=null,e.delay(500,function(){m.parentNode.removeChild(m);m=null}),l.value="",g(!0))};return m.onerror=m.onload=q,m.onreadystatechange=
function(a){"complete"==m.readyState&&q()},q},w=function(a){return function(b,e,f){return(new a("POST",b+"/xhr_send",e)).onfinish=function(a,b){f(200===a||204===a,"http status "+a)},function(a){f(!1,a)}}},A=function(b,f){var g,k=a.createElement("script"),l,h=function(a){l&&(l.parentNode.removeChild(l),l=null);k&&(clearTimeout(g),k.parentNode.removeChild(k),k.onreadystatechange=k.onerror=k.onload=k.onclick=null,k=null,f(a),f=null)},m=!1,r=null;k.id="a"+e.random_string(8);k.src=b;k.type="text/javascript";
k.charset="UTF-8";k.onerror=function(a){r||(r=setTimeout(function(){m||h(e.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1E3))};k.onload=function(a){h(e.closeFrame(1006,"JSONP script loaded abnormally (onload)"))};k.onreadystatechange=function(a){if(/loaded|closed/.test(k.readyState)){if(k&&k.htmlFor&&k.onclick){m=!0;try{k.onclick()}catch(b){}}k&&h(e.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}};if("undefined"==typeof k.async&&a.attachEvent)if(/opera/i.test(navigator.userAgent))l=
a.createElement("script"),l.text="try{var a = document.getElementById('"+k.id+"'); if(a)a.onerror();}catch(x){};",k.async=l.async=!1;else{try{k.htmlFor=k.id,k.event="onclick"}catch(n){}k.async=!0}"undefined"!=typeof k.async&&(k.async=!0);g=setTimeout(function(){h(e.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35E3);var q=a.getElementsByTagName("head")[0];return q.insertBefore(k,q.firstChild),l&&q.insertBefore(l,q.firstChild),h},x=z["jsonp-polling"]=function(a,b){e.polluteGlobalNamespace();
this.ri=a;this.trans_url=b;this.send_constructor(D);this._schedule_recv()};x.prototype=new B;x.prototype._schedule_recv=function(){var a=this;a._recv_stop=C(a.trans_url+"/jsonp",A,function(b){a._recv_stop=null;b&&(a._is_closing||a.ri._didMessage(b));a._is_closing||a._schedule_recv()})};x.enabled=function(){return!0};x.need_body=!0;x.prototype.doCleanup=function(){this._is_closing=!0;this._recv_stop&&this._recv_stop();this.ri=this._recv_stop=null;this.send_destructor()};var C=function(a,b,f){var g=
"a"+e.random_string(6);a=a+"?c="+escape("_jp."+g);var k=0;b=b(a,function(a){switch(k){case 0:delete h._jp[g];f(a);break;case 1:f(a);k=2;break;case 2:delete h._jp[g]}});h._jp[g]=b;return function(){h._jp[g]&&(k=1,h._jp[g](e.closeFrame(1E3,"JSONP user aborted read")))}},x=function(){};x.prototype=new B;x.prototype.run=function(a,b,e,f,g){this.ri=a;this.trans_url=b;this.send_constructor(w(g));this.poll=new R(a,f,b+e,g)};x.prototype.doCleanup=function(){this.poll&&(this.poll.abort(),this.poll=null)};
var E=z["xhr-streaming"]=function(a,b){this.run(a,b,"/xhr_streaming",ca,e.XHRCorsObject)};E.prototype=new x;E.enabled=function(){return h.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)};E.roundTrips=2;E.need_body=!0;B=z["xdr-streaming"]=function(a,b){this.run(a,b,"/xhr_streaming",ca,e.XDRObject)};B.prototype=new x;B.enabled=function(){return!!h.XDomainRequest};B.roundTrips=2;var H=z["xhr-polling"]=function(a,b){this.run(a,b,"/xhr",ca,e.XHRCorsObject)};
H.prototype=new x;H.enabled=E.enabled;H.roundTrips=2;E=z["xdr-polling"]=function(a,b){this.run(a,b,"/xhr",ca,e.XDRObject)};E.prototype=new x;E.enabled=B.enabled;E.roundTrips=2;var G=function(){};G.prototype.i_constructor=function(a,b,f){var g=this;g.ri=a;g.origin=e.getOrigin(f);g.base_url=f;g.trans_url=b;a=f+"/iframe.html";g.ri._options.devel&&(a+="?t="+ +new Date);g.window_id=e.random_string(8);a+="#"+g.window_id;g.iframeObj=e.createIframe(a,function(a){g.ri._didClose(1006,"Unable to load an iframe ("+
a+")")});g.onmessage_cb=e.bind(g.onmessage,g);e.attachMessage(g.onmessage_cb)};G.prototype.doCleanup=function(){if(this.iframeObj){e.detachMessage(this.onmessage_cb);try{this.iframeObj.iframe.contentWindow&&this.postMessage("c")}catch(a){}this.iframeObj.cleanup();this.onmessage_cb=this.iframeObj=this.iframeObj=null}};G.prototype.onmessage=function(a){if(a.origin===this.origin){var b=a.data.slice(0,8),e=a.data.slice(8,9);a=a.data.slice(9);if(b===this.window_id)switch(e){case "s":this.iframeObj.loaded();
this.postMessage("s",JSON.stringify([z.version,this.protocol,this.trans_url,this.base_url]));break;case "t":this.ri._didMessage(a)}}};G.prototype.postMessage=function(a,b){this.iframeObj.post(this.window_id+a+(b||""),this.origin)};G.prototype.doSend=function(a){this.postMessage("m",a)};G.enabled=function(){var a=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof h.postMessage||"object"==typeof h.postMessage)&&!a};var O,J=function(a,b){parent!==
h?parent.postMessage(O+a+(b||""),"*"):e.log("Can't postMessage, no parent window.",a,b)},M=function(){};M.prototype._didClose=function(a,b){J("t",e.closeFrame(a,b))};M.prototype._didMessage=function(a){J("t",a)};M.prototype._doSend=function(a){this._transport.doSend(a)};M.prototype._doCleanup=function(){this._transport.doCleanup()};e.parent_origin=void 0;z.bootstrap_iframe=function(){var b;O=a.location.hash.slice(1);e.attachMessage(function(a){if(a.source===parent&&("undefined"==typeof e.parent_origin&&
(e.parent_origin=a.origin),a.origin===e.parent_origin)){var f=a.data.slice(0,8),g=a.data.slice(8,9);a=a.data.slice(9);if(f===O)switch(g){case "s":var k=JSON.parse(a),f=k[0],g=k[1];a=k[2];k=k[3];f!==z.version&&e.log('Incompatibile SockJS! Main site uses: "'+f+'", the iframe: "'+z.version+'".');if(!e.flatUrl(a)||!e.flatUrl(k)){e.log("Only basic urls are supported in SockJS");break}if(!e.isSameOriginUrl(a)||!e.isSameOriginUrl(k)){e.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([h.location.href,
a,k])+")");break}b=new M;b._transport=new M[g](b,a,k);break;case "m":b._doSend(a);break;case "c":b&&b._doCleanup(),b=null}}});J("s")};var L=function(a,b){var f=this;e.delay(function(){f.doXhr(a,b)})};L.prototype=new f(["finish"]);L.prototype.doXhr=function(a,b){var f=this,g=(new Date).getTime(),k=new b("GET",a+"/info"),l=e.delay(8E3,function(){k.ontimeout()});k.onfinish=function(a,b){clearTimeout(l);l=null;if(200===a){var e=(new Date).getTime()-g,k=JSON.parse(b);"object"!=typeof k&&(k={});f.emit("finish",
k,e)}else f.emit("finish")};k.ontimeout=function(){k.close();f.emit("finish")}};var P=function(b){var f=this,g=function(){var a=new G;a.protocol="w-iframe-info-receiver";var e=function(b){"string"==typeof b&&"m"===b.substr(0,1)?(b=JSON.parse(b.substr(1)),f.emit("finish",b[0],b[1])):f.emit("finish");a.doCleanup();a=null};a.i_constructor({_options:{},_didClose:e,_didMessage:e},b,b)};a.body?g():e.attachEvent("load",g)};P.prototype=new f(["finish"]);var T=function(){var a=this;e.delay(function(){a.emit("finish",
{},2E3)})};T.prototype=new f(["finish"]);var V=function(a){if(e.isSameOriginUrl(a))return new L(a,e.XHRLocalObject);switch(e.isXHRCorsCapable()){case 1:return new L(a,e.XHRLocalObject);case 2:return new L(a,e.XDRObject);case 3:return new P(a);default:return new T}};(M["w-iframe-info-receiver"]=function(a,b,f){(new L(f,e.XHRLocalObject)).onfinish=function(b,e){a._didMessage("m"+JSON.stringify([b,e]));a._didClose()}}).prototype.doCleanup=function(){};f=z["iframe-eventsource"]=function(){this.protocol=
"w-iframe-eventsource";this.i_constructor.apply(this,arguments)};f.prototype=new G;f.enabled=function(){return"EventSource"in h&&G.enabled()};f.need_body=!0;f.roundTrips=3;(M["w-iframe-eventsource"]=function(a,b){this.run(a,b,"/eventsource",Y,e.XHRLocalObject)}).prototype=new x;f=z["iframe-xhr-polling"]=function(){this.protocol="w-iframe-xhr-polling";this.i_constructor.apply(this,arguments)};f.prototype=new G;f.enabled=function(){return h.XMLHttpRequest&&G.enabled()};f.need_body=!0;f.roundTrips=3;
(M["w-iframe-xhr-polling"]=function(a,b){this.run(a,b,"/xhr",ca,e.XHRLocalObject)}).prototype=new x;f=z["iframe-htmlfile"]=function(){this.protocol="w-iframe-htmlfile";this.i_constructor.apply(this,arguments)};f.prototype=new G;f.enabled=function(){return G.enabled()};f.need_body=!0;f.roundTrips=3;(M["w-iframe-htmlfile"]=function(a,b){this.run(a,b,"/htmlfile",aa,e.XHRLocalObject)}).prototype=new x;var R=function(a,b,e,f){this.ri=a;this.Receiver=b;this.recv_url=e;this.AjaxObject=f;this._scheduleRecv()};
R.prototype._scheduleRecv=function(){var a=this,b=a.poll=new a.Receiver(a.recv_url,a.AjaxObject);b.onmessage=function(b){a.ri._didMessage(b.data)};b.onclose=function(e){a.poll=b=b.onmessage=b.onclose=null;a.poll_is_closing||("permanent"===e.reason?a.ri._didClose(1006,"Polling error ("+e.reason+")"):a._scheduleRecv())}};R.prototype.abort=function(){this.poll_is_closing=!0;this.poll&&this.poll.abort()};var Y=function(a){var b=this,f=new EventSource(a);f.onmessage=function(a){b.dispatchEvent(new g("message",
{data:unescape(a.data)}))};b.es_close=f.onerror=function(a,k){var l=k?"user":2!==f.readyState?"network":"permanent";b.es_close=f.onmessage=f.onerror=null;f.close();f=null;e.delay(200,function(){b.dispatchEvent(new g("close",{reason:l}))})}};Y.prototype=new b;Y.prototype.abort=function(){this.es_close&&this.es_close({},!0)};var N,aa=function(a){var b=this;e.polluteGlobalNamespace();b.id="a"+e.random_string(6,26);a+=(-1===a.indexOf("?")?"?":"&")+"c="+escape("_jp."+b.id);if(void 0===N)if("ActiveXObject"in
h)try{N=!!new ActiveXObject("htmlfile")}catch(f){}else N=!1;var k=N?e.createHtmlfile:e.createIframe,l;h._jp[b.id]={start:function(){l.loaded()},message:function(a){b.dispatchEvent(new g("message",{data:a}))},stop:function(){b.iframe_close({},"network")}};b.iframe_close=function(a,e){l.cleanup();b.iframe_close=l=null;delete h._jp[b.id];b.dispatchEvent(new g("close",{reason:e}))};l=k(a,function(a){b.iframe_close({},"permanent")})};aa.prototype=new b;aa.prototype.abort=function(){this.iframe_close&&
this.iframe_close({},"user")};var ca=function(a,b){var e=this,f=0;e.xo=new b("POST",a,null);e.xo.onchunk=function(a,b){if(200===a)for(;;){var k=b.slice(f),l=k.indexOf("\n");if(-1===l)break;f+=l+1;k=k.slice(0,l);e.dispatchEvent(new g("message",{data:k}))}};e.xo.onfinish=function(a,b){e.xo.onchunk(a,b);e.xo=null;e.dispatchEvent(new g("close",{reason:200===a?"network":"permanent"}))}};return ca.prototype=new b,ca.prototype.abort=function(){this.xo&&(this.xo.close(),this.dispatchEvent(new g("close",{reason:"user"})),
this.xo=null)},z.getUtils=function(){return e},z.getIframeTransport=function(){return G},z}();"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1);"function"==typeof define&&define.amd&&define("sockjs",[],function(){return SockJS});!function(a,h){"function"==typeof define&&define.amd?define("stackframe",[],h):"object"==typeof exports?module.exports=h():a.StackFrame=h()}(this,function(){function a(a){return!isNaN(parseFloat(a))&&isFinite(a)}function h(a,b,g,f,l,k){void 0!==a&&this.setFunctionName(a);void 0!==b&&this.setArgs(b);void 0!==g&&this.setFileName(g);void 0!==f&&this.setLineNumber(f);void 0!==l&&this.setColumnNumber(l);void 0!==k&&this.setSource(k)}return h.prototype={getFunctionName:function(){return this.functionName},
setFunctionName:function(a){this.functionName=String(a)},getArgs:function(){return this.args},setArgs:function(a){if("[object Array]"!==Object.prototype.toString.call(a))throw new TypeError("Args must be an Array");this.args=a},getFileName:function(){return this.fileName},setFileName:function(a){this.fileName=String(a)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(e){if(!a(e))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(e)},getColumnNumber:function(){return this.columnNumber},
setColumnNumber:function(e){if(!a(e))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(e)},getSource:function(){return this.source},setSource:function(a){this.source=String(a)},toString:function(){var e=this.getFunctionName()||"{anonymous}",b="("+(this.getArgs()||[]).join(",")+")",g=this.getFileName()?"@"+this.getFileName():"",f=a(this.getLineNumber())?":"+this.getLineNumber():"",l=a(this.getColumnNumber())?":"+this.getColumnNumber():"";return e+b+g+f+l}},h});
var SourceMap=function(a){function h(b){if(e[b])return e[b].exports;var g=e[b]={exports:{},id:b,loaded:!1};return a[b].call(g.exports,g,g.exports,h),g.loaded=!0,g.exports}var e={};return h.m=a,h.c=e,h.p="",h(0)}([function(a,h,e){function b(a){var b=a;return"string"==typeof a&&(b=JSON.parse(a.replace(/^\)\]\}'/,""))),null!=b.sections?new l(b):new g(b)}function g(a){var b=a;"string"==typeof a&&(b=JSON.parse(a.replace(/^\)\]\}'/,"")));a=k.getArg(b,"version");var e=k.getArg(b,"sources"),f=k.getArg(b,
"names",[]),g=k.getArg(b,"sourceRoot",null),l=k.getArg(b,"sourcesContent",null),h=k.getArg(b,"mappings"),b=k.getArg(b,"file",null);if(a!=this._version)throw Error("Unsupported version: "+a);e=e.map(k.normalize).map(function(a){return g&&k.isAbsolute(g)&&k.isAbsolute(a)?k.relative(g,a):a});this._names=m.fromArray(f,!0);this._sources=m.fromArray(e,!0);this.sourceRoot=g;this.sourcesContent=l;this._mappings=h;this.file=b}function f(){this.generatedColumn=this.generatedLine=0;this.name=this.originalColumn=
this.originalLine=this.source=null}function l(a){var e=a;"string"==typeof a&&(e=JSON.parse(a.replace(/^\)\]\}'/,"")));a=k.getArg(e,"version");e=k.getArg(e,"sections");if(a!=this._version)throw Error("Unsupported version: "+a);this._sources=new m;this._names=new m;var f={line:-1,column:0};this._sections=e.map(function(a){if(a.url)throw Error("Support for url field in sections not implemented.");var e=k.getArg(a,"offset"),g=k.getArg(e,"line"),l=k.getArg(e,"column");if(g<f.line||g===f.line&&l<f.column)throw Error("Section offsets must be ordered and non-overlapping.");
return f=e,{generatedOffset:{generatedLine:g+1,generatedColumn:l+1},consumer:new b(k.getArg(a,"map"))}})}var k=e(1),n=e(2),m=e(3).ArraySet,p=e(4),q=e(6).quickSort;b.fromSourceMap=function(a){return g.fromSourceMap(a)};b.prototype._version=3;b.prototype.__generatedMappings=null;Object.defineProperty(b.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});b.prototype.__originalMappings=null;Object.defineProperty(b.prototype,
"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});b.prototype._charIsMappingSeparator=function(a,b){var e=a.charAt(b);return";"===e||","===e};b.prototype._parseMappings=function(a,b){throw Error("Subclasses must implement _parseMappings");};b.GENERATED_ORDER=1;b.ORIGINAL_ORDER=2;b.GREATEST_LOWER_BOUND=1;b.LEAST_UPPER_BOUND=2;b.prototype.eachMapping=function(a,e,f){e=e||null;switch(f||b.GENERATED_ORDER){case b.GENERATED_ORDER:f=
this._generatedMappings;break;case b.ORIGINAL_ORDER:f=this._originalMappings;break;default:throw Error("Unknown order of iteration.");}var g=this.sourceRoot;f.map(function(a){var b=null===a.source?null:this._sources.at(a.source);return null!=b&&null!=g&&(b=k.join(g,b)),{source:b,generatedLine:a.generatedLine,generatedColumn:a.generatedColumn,originalLine:a.originalLine,originalColumn:a.originalColumn,name:null===a.name?null:this._names.at(a.name)}},this).forEach(a,e)};b.prototype.allGeneratedPositionsFor=
function(a){var b=k.getArg(a,"line"),e={source:k.getArg(a,"source"),originalLine:b,originalColumn:k.getArg(a,"column",0)};if(null!=this.sourceRoot&&(e.source=k.relative(this.sourceRoot,e.source)),!this._sources.has(e.source))return[];e.source=this._sources.indexOf(e.source);var f=[],e=this._findMapping(e,this._originalMappings,"originalLine","originalColumn",k.compareByOriginalPositions,n.LEAST_UPPER_BOUND);if(0<=e){var g=this._originalMappings[e];if(void 0===a.column)for(b=g.originalLine;g&&g.originalLine===
b;)f.push({line:k.getArg(g,"generatedLine",null),column:k.getArg(g,"generatedColumn",null),lastColumn:k.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++e];else for(a=g.originalColumn;g&&g.originalLine===b&&g.originalColumn==a;)f.push({line:k.getArg(g,"generatedLine",null),column:k.getArg(g,"generatedColumn",null),lastColumn:k.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++e]}return f};h.SourceMapConsumer=b;g.prototype=Object.create(b.prototype);g.prototype.consumer=
b;g.fromSourceMap=function(a){var b=Object.create(g.prototype),e=b._names=m.fromArray(a._names.toArray(),!0),l=b._sources=m.fromArray(a._sources.toArray(),!0);b.sourceRoot=a._sourceRoot;b.sourcesContent=a._generateSourcesContent(b._sources.toArray(),b.sourceRoot);b.file=a._file;a=a._mappings.toArray().slice();for(var h=b.__generatedMappings=[],n=b.__originalMappings=[],p=0,D=a.length;D>p;p++){var w=a[p],A=new f;A.generatedLine=w.generatedLine;A.generatedColumn=w.generatedColumn;w.source&&(A.source=
l.indexOf(w.source),A.originalLine=w.originalLine,A.originalColumn=w.originalColumn,w.name&&(A.name=e.indexOf(w.name)),n.push(A));h.push(A)}return q(b.__originalMappings,k.compareByOriginalPositions),b};g.prototype._version=3;Object.defineProperty(g.prototype,"sources",{get:function(){return this._sources.toArray().map(function(a){return null!=this.sourceRoot?k.join(this.sourceRoot,a):a},this)}});g.prototype._parseMappings=function(a,b){for(var e,g,l,h,m,n=1,w=0,A=0,C=0,E=0,H=0,G=a.length,O=0,J={},
M={},L=[],P=[];G>O;)if(";"===a.charAt(O))n++,O++,w=0;else if(","===a.charAt(O))O++;else{e=new f;e.generatedLine=n;for(h=O;G>h&&!this._charIsMappingSeparator(a,h);h++);if(g=a.slice(O,h),l=J[g])O+=g.length;else{for(l=[];h>O;)p.decode(a,O,M),m=M.value,O=M.rest,l.push(m);if(2===l.length)throw Error("Found a source, but no line and column");if(3===l.length)throw Error("Found a source and line, but no column");J[g]=l}e.generatedColumn=w+l[0];w=e.generatedColumn;1<l.length&&(e.source=E+l[1],E+=l[1],e.originalLine=
A+l[2],A=e.originalLine,e.originalLine+=1,e.originalColumn=C+l[3],C=e.originalColumn,4<l.length&&(e.name=H+l[4],H+=l[4]));P.push(e);"number"==typeof e.originalLine&&L.push(e)}q(P,k.compareByGeneratedPositionsDeflated);this.__generatedMappings=P;q(L,k.compareByOriginalPositions);this.__originalMappings=L};g.prototype._findMapping=function(a,b,e,f,g,k){if(0>=a[e])throw new TypeError("Line must be greater than or equal to 1, got "+a[e]);if(0>a[f])throw new TypeError("Column must be greater than or equal to 0, got "+
a[f]);return n.search(a,b,g,k)};g.prototype.computeColumnSpans=function(){for(var a=0;a<this._generatedMappings.length;++a){var b=this._generatedMappings[a];if(a+1<this._generatedMappings.length){var e=this._generatedMappings[a+1];if(b.generatedLine===e.generatedLine){b.lastGeneratedColumn=e.generatedColumn-1;continue}}b.lastGeneratedColumn=1/0}};g.prototype.originalPositionFor=function(a){var e={generatedLine:k.getArg(a,"line"),generatedColumn:k.getArg(a,"column")};a=this._findMapping(e,this._generatedMappings,
"generatedLine","generatedColumn",k.compareByGeneratedPositionsDeflated,k.getArg(a,"bias",b.GREATEST_LOWER_BOUND));if(0<=a&&(a=this._generatedMappings[a],a.generatedLine===e.generatedLine)){e=k.getArg(a,"source",null);null!==e&&(e=this._sources.at(e),null!=this.sourceRoot&&(e=k.join(this.sourceRoot,e)));var f=k.getArg(a,"name",null);return null!==f&&(f=this._names.at(f)),{source:e,line:k.getArg(a,"originalLine",null),column:k.getArg(a,"originalColumn",null),name:f}}return{source:null,line:null,column:null,
name:null}};g.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(a){return null==a}):!1};g.prototype.sourceContentFor=function(a,b){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(a=k.relative(this.sourceRoot,a)),this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];var e;if(null!=this.sourceRoot&&(e=k.urlParse(this.sourceRoot))){var f=a.replace(/^file:\/\//,
"");if("file"==e.scheme&&this._sources.has(f))return this.sourcesContent[this._sources.indexOf(f)];if((!e.path||"/"==e.path)&&this._sources.has("/"+a))return this.sourcesContent[this._sources.indexOf("/"+a)]}if(b)return null;throw Error('"'+a+'" is not in the SourceMap.');};g.prototype.generatedPositionFor=function(a){var e=k.getArg(a,"source");if(null!=this.sourceRoot&&(e=k.relative(this.sourceRoot,e)),!this._sources.has(e))return{line:null,column:null,lastColumn:null};e=this._sources.indexOf(e);
e={source:e,originalLine:k.getArg(a,"line"),originalColumn:k.getArg(a,"column")};a=this._findMapping(e,this._originalMappings,"originalLine","originalColumn",k.compareByOriginalPositions,k.getArg(a,"bias",b.GREATEST_LOWER_BOUND));return 0<=a&&(a=this._originalMappings[a],a.source===e.source)?{line:k.getArg(a,"generatedLine",null),column:k.getArg(a,"generatedColumn",null),lastColumn:k.getArg(a,"lastGeneratedColumn",null)}:{line:null,column:null,lastColumn:null}};h.BasicSourceMapConsumer=g;l.prototype=
Object.create(b.prototype);l.prototype.constructor=b;l.prototype._version=3;Object.defineProperty(l.prototype,"sources",{get:function(){for(var a=[],b=0;b<this._sections.length;b++)for(var e=0;e<this._sections[b].consumer.sources.length;e++)a.push(this._sections[b].consumer.sources[e]);return a}});l.prototype.originalPositionFor=function(a){var b={generatedLine:k.getArg(a,"line"),generatedColumn:k.getArg(a,"column")},e=n.search(b,this._sections,function(a,b){var e=a.generatedLine-b.generatedOffset.generatedLine;
return e?e:a.generatedColumn-b.generatedOffset.generatedColumn});return(e=this._sections[e])?e.consumer.originalPositionFor({line:b.generatedLine-(e.generatedOffset.generatedLine-1),column:b.generatedColumn-(e.generatedOffset.generatedLine===b.generatedLine?e.generatedOffset.generatedColumn-1:0),bias:a.bias}):{source:null,line:null,column:null,name:null}};l.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(a){return a.consumer.hasContentsOfAllSources()})};l.prototype.sourceContentFor=
function(a,b){for(var e=0;e<this._sections.length;e++){var f=this._sections[e].consumer.sourceContentFor(a,!0);if(f)return f}if(b)return null;throw Error('"'+a+'" is not in the SourceMap.');};l.prototype.generatedPositionFor=function(a){for(var b=0;b<this._sections.length;b++){var e=this._sections[b];if(-1!==e.consumer.sources.indexOf(k.getArg(a,"source"))){var f=e.consumer.generatedPositionFor(a);if(f)return{line:f.line+(e.generatedOffset.generatedLine-1),column:f.column+(e.generatedOffset.generatedLine===
f.line?e.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}};l.prototype._parseMappings=function(a,b){this.__generatedMappings=[];this.__originalMappings=[];for(var e=0;e<this._sections.length;e++)for(var f=this._sections[e],g=f.consumer._generatedMappings,l=0;l<g.length;l++){var h=g[e],m=f.consumer._sources.at(h.source);null!==f.consumer.sourceRoot&&(m=k.join(f.consumer.sourceRoot,m));this._sources.add(m);var m=this._sources.indexOf(m),n=f.consumer._names.at(h.name);this._names.add(n);
n=this._names.indexOf(n);h={source:m,generatedLine:h.generatedLine+(f.generatedOffset.generatedLine-1),generatedColumn:h.column+(f.generatedOffset.generatedLine===h.generatedLine)?f.generatedOffset.generatedColumn-1:0,originalLine:h.originalLine,originalColumn:h.originalColumn,name:n};this.__generatedMappings.push(h);"number"==typeof h.originalLine&&this.__originalMappings.push(h)}q(this.__generatedMappings,k.compareByGeneratedPositionsDeflated);q(this.__originalMappings,k.compareByOriginalPositions)};
h.IndexedSourceMapConsumer=l},function(a,h){function e(a){return(a=a.match(f))?{scheme:a[1],auth:a[2],host:a[3],port:a[4],path:a[5]}:null}function b(a){var b="";return a.scheme&&(b+=a.scheme+":"),b+="//",a.auth&&(b+=a.auth+"@"),a.host&&(b+=a.host),a.port&&(b+=":"+a.port),a.path&&(b+=a.path),b}function g(a){var f=a,g=e(a);if(g){if(!g.path)return a;f=g.path}for(var l=h.isAbsolute(f),q=f.split(/\/+/),r=0,t=q.length-1;0<=t;t--)a=q[t],"."===a?q.splice(t,1):".."===a?r++:0<r&&(""===a?(q.splice(t+1,r),r=
0):(q.splice(t,2),r--));return f=q.join("/"),""===f&&(f=l?"/":"."),g?(g.path=f,b(g)):f}h.getArg=function(a,b,e){if(b in a)return a[b];if(3===arguments.length)return e;throw Error('"'+b+'" is a required argument.');};var f=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,l=/^data:.+\,.+$/;h.urlParse=e;h.urlGenerate=b;h.normalize=g;h.join=function(a,f){""===a&&(a=".");""===f&&(f=".");var h=e(f),p=e(a);if(p&&(a=p.path||"/"),h&&!h.scheme)return p&&(h.scheme=p.scheme),b(h);if(h||f.match(l))return f;
if(p&&!p.host&&!p.path)return p.host=f,b(p);h="/"===f.charAt(0)?f:g(a.replace(/\/+$/,"")+"/"+f);return p?(p.path=h,b(p)):h};h.isAbsolute=function(a){return"/"===a.charAt(0)||!!a.match(f)};h.relative=function(a,b){""===a&&(a=".");a=a.replace(/\/$/,"");for(var e=0;0!==b.indexOf(a+"/");){var f=a.lastIndexOf("/");if(0>f||(a=a.slice(0,f),a.match(/^([^\/]+:\/)?\/*$/)))return b;++e}return Array(e+1).join("../")+b.substr(a.length+1)};h.toSetString=function(a){return"$"+a};h.fromSetString=function(a){return a.substr(1)};
h.compareByOriginalPositions=function(a,b,e){var f=a.source-b.source;return 0!==f?f:(f=a.originalLine-b.originalLine,0!==f?f:(f=a.originalColumn-b.originalColumn,0!==f||e?f:(f=a.generatedColumn-b.generatedColumn,0!==f?f:(f=a.generatedLine-b.generatedLine,0!==f?f:a.name-b.name))))};h.compareByGeneratedPositionsDeflated=function(a,b,e){var f=a.generatedLine-b.generatedLine;return 0!==f?f:(f=a.generatedColumn-b.generatedColumn,0!==f||e?f:(f=a.source-b.source,0!==f?f:(f=a.originalLine-b.originalLine,
0!==f?f:(f=a.originalColumn-b.originalColumn,0!==f?f:a.name-b.name))))};h.compareByGeneratedPositionsInflated=function(a,b){var e=a.generatedLine-b.generatedLine;if(0===e&&(e=a.generatedColumn-b.generatedColumn,0===e)){var e=a.source,f=b.source,e=e===f?0:e>f?1:-1;0===e&&(e=a.originalLine-b.originalLine,0===e&&(e=a.originalColumn-b.originalColumn,0===e&&(e=a.name,f=b.name,e=e===f?0:e>f?1:-1)))}return e}},function(a,h){function e(a,g,f,l,k,n){var m=Math.floor((g-a)/2)+a,p=k(f,l[m],!0);return 0===p?
m:0<p?1<g-m?e(m,g,f,l,k,n):n==h.LEAST_UPPER_BOUND?g<l.length?g:-1:m:1<m-a?e(a,m,f,l,k,n):n==h.LEAST_UPPER_BOUND?m:0>a?-1:a}h.GREATEST_LOWER_BOUND=1;h.LEAST_UPPER_BOUND=2;h.search=function(a,g,f,l){if(0===g.length)return-1;a=e(-1,g.length,a,g,f,l||h.GREATEST_LOWER_BOUND);if(0>a)return-1;for(;0<=a-1&&0===f(g[a],g[a-1],!0);)--a;return a}},function(a,h,e){function b(){this._array=[];this._set={}}var g=e(1);b.fromArray=function(a,e){for(var g=new b,h=0,m=a.length;m>h;h++)g.add(a[h],e);return g};b.prototype.size=
function(){return Object.getOwnPropertyNames(this._set).length};b.prototype.add=function(a,b){var e=g.toSetString(a),h=this._set.hasOwnProperty(e),m=this._array.length;h&&!b||this._array.push(a);h||(this._set[e]=m)};b.prototype.has=function(a){a=g.toSetString(a);return this._set.hasOwnProperty(a)};b.prototype.indexOf=function(a){var b=g.toSetString(a);if(this._set.hasOwnProperty(b))return this._set[b];throw Error('"'+a+'" is not in the set.');};b.prototype.at=function(a){if(0<=a&&a<this._array.length)return this._array[a];
throw Error("No element indexed by "+a);};b.prototype.toArray=function(){return this._array.slice()};h.ArraySet=b},function(a,h,e){var b=e(5);h.encode=function(a){var e="",l=0>a?(-a<<1)+1:(a<<1)+0;do a=l&31,l>>>=5,0<l&&(a|=32),e+=b.encode(a);while(0<l);return e};h.decode=function(a,e,l){var k,h,m=a.length,p=0,q=0;do{if(e>=m)throw Error("Expected more digits in base 64 VLQ value.");if(h=b.decode(a.charCodeAt(e++)),-1===h)throw Error("Invalid base64 digit: "+a.charAt(e-1));k=!!(h&32);h&=31;p+=h<<q;
q+=5}while(k);a=p>>1;l.value=1===(1&p)?-a:a;l.rest=e}},function(a,h){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");h.encode=function(a){if(0<=a&&a<e.length)return e[a];throw new TypeError("Must be between 0 and 63: "+a);};h.decode=function(a){return 65<=a&&90>=a?a-65:97<=a&&122>=a?a-97+26:48<=a&&57>=a?a-48+52:43==a?62:47==a?63:-1}},function(a,h){function e(a,b,e){var k=a[b];a[b]=a[e];a[e]=k}function b(a,f,l,k){if(k>l){var h;h=Math.round(l+Math.random()*(k-l));
var m=l-1;e(a,h,k);h=a[k];for(var p=l;k>p;p++)0>=f(a[p],h)&&(m+=1,e(a,m,p));e(a,m+1,p);m+=1;b(a,f,l,m-1);b(a,f,m+1,k)}}h.quickSort=function(a,e){b(a,e,0,a.length-1)}}]);
!function(a,h){"function"==typeof define&&define.amd?define("stacktrace-gps",["source-map","stackframe"],h):"object"==typeof exports?module.exports=h(require("source-map/lib/source-map-consumer"),require("stackframe")):a.StackTraceGPS=h(a.SourceMap,a.StackFrame)}(this,function(a,h){function e(a){return new Promise(function(b,e){var g=new XMLHttpRequest;g.open("get",a);g.onerror=e;g.onreadystatechange=function(){4===g.readyState&&(200<=g.status&&300>g.status?b(g.responseText):e(Error("HTTP status: "+
g.status+" retrieving "+a)))};g.send()})}function b(a){if("object"!=typeof a)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof a.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof a.lineNumber||0!==a.lineNumber%1||1>a.lineNumber)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof a.columnNumber||0!==a.columnNumber%1||0>a.columnNumber)throw new TypeError("Given column number must be a non-negative integer");
return!0}function g(a){if((a=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)$/.exec(a))&&a[1])return a[1];throw Error("sourceMappingURL not found");}return function l(k){return this instanceof l?(k=k||{},this.sourceCache=k.sourceCache||{},this.ajax=e,this._get=function(a){return new Promise(function(b,e){var g="data:"===a.substr(0,5);this.sourceCache[a]?b(this.sourceCache[a]):k.offline&&!g?e(Error("Cannot make network requests in offline mode")):g?"application/json;base64"!==a.substr(5,23)?e(Error("The encoding of the inline sourcemap is not supported")):
(g=a.substr(29),g=window.atob(g),this.sourceCache[a]=g,b(g)):(g=this.ajax(a,{method:"get"}),this.sourceCache[a]=g,g.then(b,e))}.bind(this))},this.pinpoint=function(a){return new Promise(function(b,e){this.getMappedLocation(a).then(function(a){function e(){b(a)}this.findFunctionName(a).then(b,e)["catch"](e)}.bind(this),e)}.bind(this))},this.findFunctionName=function(a){return new Promise(function(e,g){b(a);this._get(a.fileName).then(function(b){var g;a:{g=a.lineNumber;var k,l,p,x=/function\s+([^(]*?)\s*\(([^)]*)\)/,
z=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,B=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/;b=b.split("\n");for(var D="",w=Math.min(g,20),A=0;w>A;++A)if(k=b[g-A-1],p=k.indexOf("//"),0<=p&&(k=k.substr(0,p)),k){if(D=k+D,l=z.exec(D),l&&l[1]){g=l[1];break a}if(l=x.exec(D),l&&l[1]){g=l[1];break a}if(l=B.exec(D),l&&l[1]){g=l[1];break a}}g=void 0}e(new h(g,a.args,a.fileName,a.lineNumber,a.columnNumber))},g)["catch"](g)}.bind(this))},void(this.getMappedLocation=
function(e){return new Promise(function(k,l){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw Error("Unable to consume source maps in older browsers");b(e);var q=this.sourceCache,r=e.fileName;this._get(r).then(function(b){b=g(b);var u="data:"===b.substr(0,5);"/"===b[0]||u||(b=r.substring(0,r.lastIndexOf("/")+1)+b);this._get(b).then(function(b){var g;g=e.args;var l=e.lineNumber,r=e.columnNumber;b=new a.SourceMapConsumer(b);l=b.originalPositionFor({line:l,column:r});
r=b.sourceContentFor(l.source);g=(r&&(q[l.source]=r),new h(l.name,g,l.source,l.line,l.column));k(g)},l)["catch"](l)}.bind(this),l)["catch"](l)}.bind(this))})):new l(k)}});
(function(a,h){"function"==typeof define&&define.amd?define("stack-generator",["stackframe"],h):"object"==typeof exports?module.exports=h(require("stackframe")):a.StackGenerator=h(a.StackFrame)})(this,function(a){return{backtrace:function(h){var e=[],b=10;"object"==typeof h&&"number"==typeof h.maxStackSize&&(b=h.maxStackSize);for(var g=arguments.callee;g&&e.length<b;){for(var f=Array(g.arguments.length),l=0;l<f.length;++l)f[l]=g.arguments[l];/function(?:\s+([\w$]+))+\s*\(/.test(g.toString())?e.push(new a(RegExp.$1||
void 0,f)):e.push(new a(void 0,f));try{g=g.caller}catch(k){break}}return e}}});
(function(a,h){"function"==typeof define&&define.amd?define("error-stack-parser",["stackframe"],h):"object"==typeof exports?module.exports=h(require("stackframe")):a.ErrorStackParser=h(a.StackFrame)})(this,function(a){var h=/(^|@)\S+\:\d+/,e=/\s+at .*(\S+\:\d+|\(native\))/;return{parse:function(a){if("undefined"!=typeof a.stacktrace||"undefined"!=typeof a["opera#sourceloc"])return this.parseOpera(a);if(a.stack&&a.stack.match(e))return this.parseV8OrIE(a);if(a.stack&&a.stack.match(h))return this.parseFFOrSafari(a);
throw Error("Cannot parse given Error object");},extractLocation:function(a){if(-1===a.indexOf(":"))return[a];a=a.replace(/[\(\)\s]/g,"").split(":");var e=a.pop(),f=a[a.length-1];return!isNaN(parseFloat(f))&&isFinite(f)?(f=a.pop(),[a.join(":"),f,e]):[a.join(":"),e,void 0]},parseV8OrIE:function(b){return b.stack.split("\n").filter(function(a){return!!a.match(e)},this).map(function(b){var e=b.replace(/^\s+/,"").split(/\s+/).slice(1),l=this.extractLocation(e.pop());return new a(e[0]&&"Anonymous"!==e[0]?
e[0]:void 0,void 0,l[0],l[1],l[2],b)},this)},parseFFOrSafari:function(b){return b.stack.split("\n").filter(function(a){return!!a.match(h)},this).map(function(b){var e=b.split("@"),l=this.extractLocation(e.pop()),e=e.shift()||void 0;return new a(e,void 0,l[0],l[1],l[2],b)},this)},parseOpera:function(a){return!a.stacktrace||-1<a.message.indexOf("\n")&&a.message.split("\n").length>a.stacktrace.split("\n").length?this.parseOpera9(a):a.stack?this.parseOpera11(a):this.parseOpera10(a)},parseOpera9:function(b){var e=
/Line (\d+).*script (?:in )?(\S+)/i;b=b.message.split("\n");for(var f=[],l=2,k=b.length;k>l;l+=2){var h=e.exec(b[l]);h&&f.push(new a(void 0,void 0,h[2],h[1],void 0,b[l]))}return f},parseOpera10:function(b){var e=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;b=b.stacktrace.split("\n");for(var f=[],l=0,k=b.length;k>l;l+=2){var h=e.exec(b[l]);h&&f.push(new a(h[3]||void 0,void 0,h[2],h[1],void 0,b[l]))}return f},parseOpera11:function(b){return b.stack.split("\n").filter(function(a){return!!a.match(h)&&
!a.match(/^Error created at/)},this).map(function(b){var e,l=b.split("@"),k=this.extractLocation(l.pop()),h=l.shift()||"",l=h.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;h.match(/\(([^\)]*)\)/)&&(e=h.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));e=void 0===e||"[arguments not available]"===e?void 0:e.split(",");return new a(l,e,k[0],k[1],k[2],b)},this)}}});
(function(a,h){"function"==typeof define&&define.amd?define("stacktrace",["error-stack-parser","stack-generator","stacktrace-gps"],h):"object"==typeof exports?module.exports=h(require("error-stack-parser"),require("stack-generator"),require("stacktrace-gps")):a.StackTrace=h(a.ErrorStackParser,a.StackGenerator,a.StackTraceGPS)})(this,function(a,h,e){function b(a,b){var e={};return[a,b].forEach(function(a){for(var b in a)a.hasOwnProperty(b)&&(e[b]=a[b]);return e}),e}var g={filter:function(a){return-1===
(a.functionName||"").indexOf("StackTrace$$")&&-1===(a.functionName||"").indexOf("ErrorStackParser$$")&&-1===(a.functionName||"").indexOf("StackTraceGPS$$")&&-1===(a.functionName||"").indexOf("StackGenerator$$")}};return{get:function(a){try{throw Error();}catch(b){return b.stack||b["opera#sourceloc"]?this.fromError(b,a):this.generateArtificially(a)}},fromError:function(f,l){return l=b(g,l),new Promise(function(b){var g=a.parse(f);"function"==typeof l.filter&&(g=g.filter(l.filter));b(Promise.all(g.map(function(a){return new Promise(function(b){function f(e){b(a)}
(new e(l)).pinpoint(a).then(b,f)["catch"](f)})})))}.bind(this))},generateArtificially:function(a){a=b(g,a);var e=h.backtrace(a);return"function"==typeof a.filter&&(e=e.filter(a.filter)),Promise.resolve(e)},instrument:function(a,b,e,g){if("function"!=typeof a)throw Error("Cannot instrument non-function object");if("function"==typeof a.__stacktraceOriginalFn)return a;var h=function(){try{this.get().then(b,e)["catch"](e),a.apply(g||this,arguments)}catch(h){throw(h.stack||h["opera#sourceloc"])&&this.fromError(h).then(b,
e)["catch"](e),h;}}.bind(this);return h.__stacktraceOriginalFn=a,h},deinstrument:function(a){if("function"!=typeof a)throw Error("Cannot de-instrument non-function object");return"function"==typeof a.__stacktraceOriginalFn?a.__stacktraceOriginalFn:a},report:function(a,b){return new Promise(function(e,g){var h=new XMLHttpRequest;h.onerror=g;h.onreadystatechange=function(){4===h.readyState&&(200<=h.status&&400>h.status?e(h.responseText):g(Error("POST to "+b+" failed with status: "+h.status)))};h.open("post",
b);h.setRequestHeader("Content-Type","application/json");h.send(JSON.stringify({stack:a}))})}}});(function(){var a,h=Object.prototype.hasOwnProperty,e=document.getElementsByTagName("head")[0];a=function(){var a=[document.location.protocol+"//"+document.location.host],e,f;if("undefined"===typeof window.__vogue__){e=document.getElementsByTagName("script");for(var l=0;l<e.length&&(!(f=e[l].getAttribute("src"))||"vogue-client.js"!==f.slice(-15));l++);e=window.location.href.substr(0,location.href.lastIndexOf("/")+1);e=e.replace(/([^:]\/)\/+/g,"$1");(f=f.match(/\bbase=(.*)(&|$)/))&&(a=a.concat(f[1].split(",")));
return{rootUrl:e,bases:a}}window.__vogue__.bases=a;return window.__vogue__}();(function(){function b(a){if(f&&-1!=a.indexOf(".css")){a=a.split("//").join("/");a=a.split("\\").join("/");var b=!1,h;for(h in f){var m=h.split("//").join("/");b||-1==m.indexOf(a)||(a=""+h,b=!0)}null==f[a]&&(f=g());b=!1;if(null==f[a])for(h in f)m=h.split("//").join("/"),!b&&m&&-1!=m.indexOf(a)&&(a=""+h,b=!0);null==f[a]?console.error("coudnt find "+a):(console.info("reload css : "+a),b="",b=f[a].href+(0<=a.indexOf("?")?"&":
"?")+"_vogue_nocache="+(new Date).getTime(),h=null,f[a].setAttribute?f[a].href=b:(h=document.createElement("link"),h.setAttribute("rel","stylesheet"),h.setAttribute("href",b),e.appendChild(h),f[a]=h))}}function g(){function e(b){var f,g=!0;if("stylesheet"!==b.getAttribute("rel"))return!1;b=b.href;for(f=0;f<a.bases.length;f+=1)if(-1<b.indexOf(a.bases[f])){g=!1;break}return!(g&&b.match(/^https?:/))}function f(b){var e,g;for(g=0;g<a.bases.length;g+=1)if(e=a.bases[g],-1<b.indexOf(e))return b.substr(e.length);
return!1}function g(a){return this[a]}window.xappOnStyleSheetChanged=b;var h={},p=/@import\s+url\(["']?([^"'\)]+)["']?\)/g,q=document.getElementsByTagName("link"),r,t,u,y,x;y=0;for(x=q.length;y<x;y+=1)r=q[y],"print"!==r.getAttribute("media")&&e(r)&&(t=f(r.href),!1!==t&&(h[t]=r));q=document.getElementsByTagName("style");y=0;for(x=q.length;y<x;y+=1)if("print"!==q[y].getAttribute("media"))for(u=q[y].text||q[y].textContent;r=p.exec(u);)r={rel:"stylesheet",href:r[1],getAttribute:g},e(r)&&(t=f(r.href),
!1!==t&&(h[t]=r));return h}var f;f=g();(function(){for(var a in f)h.call(f,a)})()})()})();var kCHARSET_RULE_MISSING_SEMICOLON="Missing semicolon at the end of @charset rule",kCHARSET_RULE_CHARSET_IS_STRING="The charset in the @charset rule should be a string",kCHARSET_RULE_MISSING_WS="Missing mandatory whitespace after @charset",kIMPORT_RULE_MISSING_URL="Missing URL in @import rule",kURL_EOF="Unexpected end of stylesheet",kURL_WS_INSIDE="Multiple tokens inside a url() notation",kVARIABLES_RULE_POSITION="@variables rule invalid at this position in the stylesheet",kIMPORT_RULE_POSITION=
"@import rule invalid at this position in the stylesheet",kNAMESPACE_RULE_POSITION="@namespace rule invalid at this position in the stylesheet",kCHARSET_RULE_CHARSET_SOF="@charset rule invalid at this position in the stylesheet",kUNKNOWN_AT_RULE="Unknow @-rule",kENGINES=["presto","trident","generic"],kCSS_VENDOR_VALUES={"-moz-box":{webkit:"-webkit-box",presto:"",trident:"",generic:"box"},"-moz-inline-box":{webkit:"-webkit-inline-box",presto:"",trident:"",generic:"inline-box"},"-moz-initial":{webkit:"",
presto:"",trident:"",generic:"initial"},"-moz-linear-gradient":{webkit20110101:FilterLinearGradientForOutput,webkit:FilterLinearGradientForOutput,presto:"",trident:"",generic:FilterLinearGradientForOutput},"-moz-radial-gradient":{webkit20110101:FilterRadialGradientForOutput,webkit:FilterRadialGradientForOutput,presto:"",trident:"",generic:FilterRadialGradientForOutput},"-moz-repeating-linear-gradient":{webkit20110101:"",webkit:FilterRepeatingGradientForOutput,presto:"",trident:"",generic:FilterRepeatingGradientForOutput},
"-moz-repeating-radial-gradient":{webkit20110101:"",webkit:FilterRepeatingGradientForOutput,presto:"",trident:"",generic:FilterRepeatingGradientForOutput}},kCSS_VENDOR_PREFIXES={lastUpdate:1304175007,properties:[{gecko:"",webkit:"",presto:"",trident:"-ms-accelerator",status:"P"},{gecko:"",webkit:"",presto:"-wap-accesskey",trident:"",status:""},{gecko:"-moz-animation",webkit:"-webkit-animation",presto:"",trident:"",status:"WD"},{gecko:"-moz-animation-delay",webkit:"-webkit-animation-delay",presto:"",
trident:"",status:"WD"},{gecko:"-moz-animation-direction",webkit:"-webkit-animation-direction",presto:"",trident:"",status:"WD"},{gecko:"-moz-animation-duration",webkit:"-webkit-animation-duration",presto:"",trident:"",status:"WD"},{gecko:"-moz-animation-fill-mode",webkit:"-webkit-animation-fill-mode",presto:"",trident:"",status:"ED"},{gecko:"-moz-animation-iteration-count",webkit:"-webkit-animation-iteration-count",presto:"",trident:"",status:"WD"},{gecko:"-moz-animation-name",webkit:"-webkit-animation-name",
presto:"",trident:"",status:"WD"},{gecko:"-moz-animation-play-state",webkit:"-webkit-animation-play-state",presto:"",trident:"",status:"WD"},{gecko:"-moz-animation-timing-function",webkit:"-webkit-animation-timing-function",presto:"",trident:"",status:"WD"},{gecko:"-moz-appearance",webkit:"-webkit-appearance",presto:"",trident:"",status:"CR"},{gecko:"",webkit:"-webkit-backface-visibility",presto:"",trident:"",status:"WD"},{gecko:"background-clip",webkit:"-webkit-background-clip",presto:"background-clip",
trident:"background-clip",status:"WD"},{gecko:"",webkit:"-webkit-background-composite",presto:"",trident:"",status:""},{gecko:"-moz-background-inline-policy",webkit:"",presto:"",trident:"",status:"P"},{gecko:"background-origin",webkit:"-webkit-background-origin",presto:"background-origin",trident:"background-origin",status:"WD"},{gecko:"",webkit:"background-position-x",presto:"",trident:"-ms-background-position-x",status:""},{gecko:"",webkit:"background-position-y",presto:"",trident:"-ms-background-position-y",
status:""},{gecko:"background-size",webkit:"",presto:"background-size",trident:"background-size",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-behavior",status:""},{gecko:"-moz-binding",webkit:"",presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"",trident:"-ms-block-progression",status:""},{gecko:"",webkit:"-webkit-border-after",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-after-color",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-after-style",
presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-after-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-before",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-before-color",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-before-style",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-before-width",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-bottom-colors",webkit:"",presto:"",trident:"",status:"P"},
{gecko:"border-bottom-left-radius",webkit:"-webkit-border-bottom-left-radius",presto:"border-bottom-left-radius",trident:"border-bottom-left-radius",status:"WD"},{gecko:"",webkit:"-webkit-border-bottom-left-radius = border-bottom-left-radius",presto:"",trident:"",status:""},{gecko:"border-bottom-right-radius",webkit:"-webkit-border-bottom-right-radius",presto:"border-bottom-right-radius",trident:"border-bottom-right-radius",status:"WD"},{gecko:"",webkit:"-webkit-border-bottom-right-radius = border-bottom-right-radius",
presto:"",trident:"",status:""},{gecko:"-moz-border-end",webkit:"-webkit-border-end",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-end-color",webkit:"-webkit-border-end-color",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-end-style",webkit:"-webkit-border-end-style",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-end-width",webkit:"-webkit-border-end-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-fit",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-border-horizontal-spacing",
presto:"",trident:"",status:""},{gecko:"-moz-border-image",webkit:"-webkit-border-image",presto:"-o-border-image",trident:"",status:"WD"},{gecko:"-moz-border-left-colors",webkit:"",presto:"",trident:"",status:"P"},{gecko:"border-radius",webkit:"",presto:"border-radius",trident:"border-radius",status:"WD"},{gecko:"-moz-border-right-colors",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-border-start",webkit:"-webkit-border-start",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-start-color",
webkit:"-webkit-border-start-color",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-start-style",webkit:"-webkit-border-start-style",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-start-width",webkit:"-webkit-border-start-width",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-top-colors",webkit:"",presto:"",trident:"",status:"P"},{gecko:"border-top-left-radius",webkit:"-webkit-border-top-left-radius",presto:"border-top-left-radius",trident:"border-top-left-radius",status:"WD"},
{gecko:"",webkit:"-webkit-border-top-left-radius = border-top-left-radius",presto:"",trident:"",status:""},{gecko:"border-top-right-radius",webkit:"-webkit-border-top-right-radius",presto:"border-top-right-radius",trident:"border-top-right-radius",status:"WD"},{gecko:"",webkit:"-webkit-border-top-right-radius = border-top-right-radius",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-border-vertical-spacing",presto:"",trident:"",status:""},{gecko:"-moz-box-align",webkit:"-webkit-box-align",
presto:"",trident:"-ms-box-align",status:"WD"},{gecko:"-moz-box-direction",webkit:"-webkit-box-direction",presto:"",trident:"-ms-box-direction",status:"WD"},{gecko:"-moz-box-flex",webkit:"-webkit-box-flex",presto:"",trident:"-ms-box-flex",status:"WD"},{gecko:"",webkit:"-webkit-box-flex-group",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-box-line-progression",status:""},{gecko:"",webkit:"-webkit-box-lines",presto:"",trident:"-ms-box-lines",status:"WD"},{gecko:"-moz-box-ordinal-group",
webkit:"-webkit-box-ordinal-group",presto:"",trident:"-ms-box-ordinal-group",status:"WD"},{gecko:"-moz-box-orient",webkit:"-webkit-box-orient",presto:"",trident:"-ms-box-orient",status:"WD"},{gecko:"-moz-box-pack",webkit:"-webkit-box-pack",presto:"",trident:"-ms-box-pack",status:"WD"},{gecko:"",webkit:"-webkit-box-reflect",presto:"",trident:"",status:""},{gecko:"box-shadow",webkit:"",presto:"box-shadow",trident:"box-shadow",status:"WD"},{gecko:"-moz-box-sizing",webkit:"box-sizing",presto:"box-sizing",
trident:"",status:"CR"},{gecko:"",webkit:"-webkit-box-sizing = box-sizing",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-caption-side = caption-side",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-color-correction",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-column-break-after",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-column-break-before",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-column-break-inside",presto:"",trident:"",status:""},
{gecko:"-moz-column-count",webkit:"-webkit-column-count",presto:"column-count",trident:"column-count",status:"CR"},{gecko:"-moz-column-gap",webkit:"-webkit-column-gap",presto:"column-gap",trident:"column-gap",status:"CR"},{gecko:"-moz-column-rule",webkit:"-webkit-column-rule",presto:"column-rule",trident:"column-rule",status:"CR"},{gecko:"-moz-column-rule-color",webkit:"-webkit-column-rule-color",presto:"column-rule-color",trident:"column-rule-color",status:"CR"},{gecko:"-moz-column-rule-style",webkit:"-webkit-column-rule-style",
presto:"column-rule-style",trident:"column-rule-style",status:"CR"},{gecko:"-moz-column-rule-width",webkit:"-webkit-column-rule-width",presto:"column-rule-width",trident:"column-rule-width",status:"CR"},{gecko:"",webkit:"-webkit-column-span",presto:"column-span",trident:"column-span",status:"CR"},{gecko:"-moz-column-width",webkit:"-webkit-column-width",presto:"column-width",trident:"column-width",status:"CR"},{gecko:"",webkit:"-webkit-columns",presto:"columns",trident:"columns",status:"CR"},{gecko:"",
webkit:"-webkit-dashboard-region",presto:"-apple-dashboard-region",trident:"",status:""},{gecko:"filter",webkit:"",presto:"filter",trident:"-ms-filter",status:""},{gecko:"-moz-float-edge",webkit:"",presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"-o-focus-opacity",trident:"",status:""},{gecko:"-moz-font-feature-settings",webkit:"",presto:"",trident:"",status:""},{gecko:"-moz-font-language-override",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-font-size-delta",presto:"",
trident:"",status:""},{gecko:"",webkit:"-webkit-font-smoothing",presto:"",trident:"",status:""},{gecko:"-moz-force-broken-image-icon",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-column",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-column-align",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-column-span",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-columns",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-layer",
status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-row",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-row-align",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-row-span",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-rows",status:"WD"},{gecko:"",webkit:"-webkit-highlight",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-hyphenate-character",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-hyphenate-limit-after",presto:"",trident:"",
status:""},{gecko:"",webkit:"-webkit-hyphenate-limit-before",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-hyphens",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-epub-hyphens = -webkit-hyphens",presto:"",trident:"",status:""},{gecko:"-moz-image-region",webkit:"",presto:"",trident:"",status:"P"},{gecko:"ime-mode",webkit:"",presto:"",trident:"-ms-ime-mode",status:""},{gecko:"",webkit:"",presto:"-wap-input-format",trident:"",status:""},{gecko:"",webkit:"",presto:"-wap-input-required",
trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-interpolation-mode",status:""},{gecko:"",webkit:"",presto:"-xv-interpret-as",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-flow",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid-char",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid-line",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid-mode",
status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid-type",status:""},{gecko:"",webkit:"-webkit-line-box-contain",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-line-break",presto:"",trident:"-ms-line-break",status:""},{gecko:"",webkit:"-webkit-line-clamp",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-line-grid-mode",status:""},{gecko:"",webkit:"",presto:"-o-link",trident:"",status:""},{gecko:"",webkit:"",presto:"-o-link-source",trident:"",status:""},
{gecko:"",webkit:"-webkit-locale",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-logical-height",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-logical-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-margin-after",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-margin-after-collapse",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-margin-before",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-margin-before-collapse",presto:"",
trident:"",status:""},{gecko:"",webkit:"-webkit-margin-bottom-collapse",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-margin-collapse",presto:"",trident:"",status:""},{gecko:"-moz-margin-end",webkit:"-webkit-margin-end",presto:"",trident:"",status:"ED"},{gecko:"-moz-margin-start",webkit:"-webkit-margin-start",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-margin-top-collapse",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-marquee",presto:"",trident:"",status:""},
{gecko:"",webkit:"",presto:"-wap-marquee-dir",trident:"",status:""},{gecko:"",webkit:"-webkit-marquee-direction",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-marquee-increment",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"-wap-marquee-loop",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-marquee-repetition",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-marquee-speed",presto:"-wap-marquee-speed",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-marquee-style",
presto:"-wap-marquee-style",trident:"",status:"WD"},{gecko:"mask",webkit:"-webkit-mask",presto:"mask",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-attachment",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-box-image",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-clip",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-composite",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-image",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-origin",
presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-position",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-position-x",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-position-y",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-repeat",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-repeat-x",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-repeat-y",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-size",
presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-match-nearest-mail-blockquote-color",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-max-logical-height",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-max-logical-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-min-logical-height",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-min-logical-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"",presto:"-o-mini-fold",trident:"",status:""},
{gecko:"",webkit:"-webkit-nbsp-mode",presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"-o-object-fit",trident:"",status:"ED"},{gecko:"",webkit:"",presto:"-o-object-position",trident:"",status:"ED"},{gecko:"opacity",webkit:"",presto:"opacity",trident:"opacity",status:"WD"},{gecko:"",webkit:"-webkit-opacity = opacity",presto:"",trident:"",status:""},{gecko:"-moz-outline-radius",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-outline-radius-bottomleft",webkit:"",presto:"",trident:"",
status:"P"},{gecko:"-moz-outline-radius-bottomright",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-outline-radius-topleft",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-outline-radius-topright",webkit:"",presto:"",trident:"",status:"P"},{gecko:"overflow-x",webkit:"overflow-x",presto:"overflow-x",trident:"-ms-overflow-x",status:"WD"},{gecko:"overflow-y",webkit:"overflow-y",presto:"overflow-y",trident:"-ms-overflow-y",status:"WD"},{gecko:"",webkit:"-webkit-padding-after",presto:"",
trident:"",status:"ED"},{gecko:"",webkit:"-webkit-padding-before",presto:"",trident:"",status:"ED"},{gecko:"-moz-padding-end",webkit:"-webkit-padding-end",presto:"",trident:"",status:"ED"},{gecko:"-moz-padding-start",webkit:"-webkit-padding-start",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-perspective",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-perspective-origin",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-perspective-origin-x",presto:"",trident:"",
status:""},{gecko:"",webkit:"-webkit-perspective-origin-y",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-phonemes",trident:"",status:""},{gecko:"",webkit:"-webkit-rtl-ordering",presto:"",trident:"",status:"P"},{gecko:"-moz-script-level",webkit:"",presto:"",trident:"",status:""},{gecko:"-moz-script-min-size",webkit:"",presto:"",trident:"",status:""},{gecko:"-moz-script-size-multiplier",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"scrollbar-3dlight-color",
trident:"-ms-scrollbar-3dlight-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-arrow-color",trident:"-ms-scrollbar-arrow-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-base-color",trident:"-ms-scrollbar-base-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-darkshadow-color",trident:"-ms-scrollbar-darkshadow-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-face-color",trident:"-ms-scrollbar-face-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-highlight-color",
trident:"-ms-scrollbar-highlight-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-shadow-color",trident:"-ms-scrollbar-shadow-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-track-color",trident:"-ms-scrollbar-track-color",status:"P"},{gecko:"-moz-stack-sizing",webkit:"",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-svg-shadow",presto:"",trident:"",status:""},{gecko:"-moz-tab-size",webkit:"",presto:"-o-tab-size",trident:"",status:""},{gecko:"",webkit:"",presto:"-o-table-baseline",
trident:"",status:""},{gecko:"",webkit:"-webkit-tap-highlight-color",presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"",trident:"-ms-text-align-last",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-text-autospace",status:"WD"},{gecko:"-moz-text-blink",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-combine",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-text-combine = -webkit-text-combine",presto:"",trident:"",status:""},{gecko:"-moz-text-decoration-color",
webkit:"",presto:"",trident:"",status:""},{gecko:"-moz-text-decoration-line",webkit:"",presto:"",trident:"",status:""},{gecko:"-moz-text-decoration-style",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-decorations-in-effect",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-emphasis",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-text-emphasis = -webkit-text-emphasis",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-emphasis-color",presto:"",
trident:"",status:""},{gecko:"",webkit:"-epub-text-emphasis-color = -webkit-text-emphasis-color",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-emphasis-position",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-emphasis-style",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-text-emphasis-style = -webkit-text-emphasis-style",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-fill-color",presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"",
trident:"-ms-text-justify",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-text-kashida-space",status:"P"},{gecko:"",webkit:"-webkit-text-orientation",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-text-orientation = -webkit-text-orientation",presto:"",trident:"",status:""},{gecko:"",webkit:"text-overflow",presto:"text-overflow",trident:"-ms-text-overflow",status:"WD"},{gecko:"",webkit:"-webkit-text-security",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-text-size-adjust",
presto:"",trident:"-ms-text-size-adjust",status:""},{gecko:"",webkit:"-webkit-text-stroke",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-text-stroke-color",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-text-stroke-width",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-epub-text-transform = text-transform",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-text-underline-position",status:"P"},{gecko:"",webkit:"-webkit-touch-callout",presto:"",trident:"",
status:"P"},{gecko:"-moz-transform",webkit:"-webkit-transform",presto:"-o-transform",trident:"-ms-transform",status:"WD"},{gecko:"-moz-transform-origin",webkit:"-webkit-transform-origin",presto:"-o-transform-origin",trident:"-ms-transform-origin",status:"WD"},{gecko:"",webkit:"-webkit-transform-origin-x",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-transform-origin-y",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-transform-origin-z",presto:"",trident:"",status:"P"},{gecko:"",
webkit:"-webkit-transform-style",presto:"",trident:"",status:"WD"},{gecko:"-moz-transition",webkit:"-webkit-transition",presto:"-o-transition",trident:"",status:"WD"},{gecko:"-moz-transition-delay",webkit:"-webkit-transition-delay",presto:"-o-transition-delay",trident:"",status:"WD"},{gecko:"-moz-transition-duration",webkit:"-webkit-transition-duration",presto:"-o-transition-duration",trident:"",status:"WD"},{gecko:"-moz-transition-property",webkit:"-webkit-transition-property",presto:"-o-transition-property",
trident:"",status:"WD"},{gecko:"-moz-transition-timing-function",webkit:"-webkit-transition-timing-function",presto:"-o-transition-timing-function",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-user-drag",presto:"",trident:"",status:"P"},{gecko:"-moz-user-focus",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-user-input",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-user-modify",webkit:"-webkit-user-modify",presto:"",trident:"",status:"P"},{gecko:"-moz-user-select",webkit:"-webkit-user-select",
presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"-xv-voice-balance",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-duration",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-pitch",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-pitch-range",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-rate",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-stress",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-volume",trident:"",
status:""},{gecko:"-moz-window-shadow",webkit:"",presto:"",trident:"",status:"P"},{gecko:"",webkit:"word-break",presto:"",trident:"-ms-word-break",status:"WD"},{gecko:"",webkit:"-epub-word-break = word-break",presto:"",trident:"",status:""},{gecko:"word-wrap",webkit:"word-wrap",presto:"word-wrap",trident:"-ms-word-wrap",status:"WD"},{gecko:"",webkit:"-webkit-writing-mode",presto:"writing-mode",trident:"-ms-writing-mode",status:"ED"},{gecko:"",webkit:"-epub-writing-mode = -webkit-writing-mode",presto:"",
trident:"",status:""},{gecko:"",webkit:"zoom",presto:"",trident:"-ms-zoom",status:""}]},kCSS_PREFIXED_VALUE=[{gecko:"-moz-box",webkit:"-moz-box",presto:"",trident:"",generic:"box"}],CssInspector={mVENDOR_PREFIXES:null,kEXPORTS_FOR_GECKO:!0,kEXPORTS_FOR_WEBKIT:!0,kEXPORTS_FOR_PRESTO:!0,kEXPORTS_FOR_TRIDENT:!0,cleanPrefixes:function(){this.mVENDOR_PREFIXES=null},prefixesForProperty:function(a){if(!this.mVENDOR_PREFIXES){this.mVENDOR_PREFIXES={};for(var h=0;h<kCSS_VENDOR_PREFIXES.properties.length;h++){var e=
kCSS_VENDOR_PREFIXES.properties[h];if(e.gecko&&(e.webkit||e.presto||e.trident)){var b={};this.kEXPORTS_FOR_GECKO&&(b[e.gecko]=!0);this.kEXPORTS_FOR_WEBKIT&&e.webkit&&(b[e.webkit]=!0);this.kEXPORTS_FOR_PRESTO&&e.presto&&(b[e.presto]=!0);this.kEXPORTS_FOR_TRIDENT&&e.trident&&(b[e.trident]=!0);this.mVENDOR_PREFIXES[e.gecko]=[];for(var g in b)this.mVENDOR_PREFIXES[e.gecko].push(g)}}}return a in this.mVENDOR_PREFIXES?this.mVENDOR_PREFIXES[a].sort():null},parseColorStop:function(a,h){var e=a.parseColor(h),
b="";if(!e)return null;h=a.getToken(!0,!0);if(h.isPercentage()||h.isDimensionOfUnit("cm")||h.isDimensionOfUnit("mm")||h.isDimensionOfUnit("in")||h.isDimensionOfUnit("pc")||h.isDimensionOfUnit("px")||h.isDimensionOfUnit("em")||h.isDimensionOfUnit("ex")||h.isDimensionOfUnit("pt"))b=h.value,a.getToken(!0,!0);return{color:e,position:b}},parseGradient:function(a,h){var e={isRepeating:!1};if(h.isNotNull()&&(h.isFunction("-moz-linear-gradient(")||h.isFunction("-moz-radial-gradient(")||h.isFunction("-moz-repeating-linear-gradient(")||
h.isFunction("-moz-repeating-radial-gradient("))){if(h.isFunction("-moz-radial-gradient(")||h.isFunction("-moz-repeating-radial-gradient("))e.isRadial=!0;if(h.isFunction("-moz-repeating-linear-gradient(")||h.isFunction("-moz-repeating-radial-gradient("))e.isRepeating=!0;h=a.getToken(!0,!0);var b=!1,g=!1,f=!1;h.isAngle()&&(e.angle=h.value,f=b=!0,h=a.getToken(!0,!0));if(h.isLength()||h.isIdent("top")||h.isIdent("center")||h.isIdent("bottom")||h.isIdent("left")||h.isIdent("right")){b=!0;if(h.isLength()||
h.isIdent("left")||h.isIdent("right"))g=!0;e.position=h.value;h=a.getToken(!0,!0)}if(b){if(!f&&h.isAngle())e.angle=h.value,f=!0,h=a.getToken(!0,!0);else if(h.isLength()||g&&(h.isIdent("top")||h.isIdent("center")||h.isIdent("bottom"))||!g&&(h.isLength()||h.isIdent("top")||h.isIdent("center")||h.isIdent("bottom")||h.isIdent("left")||h.isIdent("right")))e.position="position"in e?e.position+" ":"",e.position+=h.value,h=a.getToken(!0,!0);!f&&h.isAngle()&&(e.angle=h.value,h=a.getToken(!0,!0));if(!h.isSymbol(","))return null;
h=a.getToken(!0,!0)}if(e.isRadial){if(h.isIdent("circle")||h.isIdent("ellipse"))e.shape=h.value,h=a.getToken(!0,!0);if(h.isIdent("closest-side")||h.isIdent("closest-corner")||h.isIdent("farthest-side")||h.isIdent("farthest-corner")||h.isIdent("contain")||h.isIdent("cover"))e.size=h.value,h=a.getToken(!0,!0);"shape"in e||!h.isIdent("circle")&&!h.isIdent("ellipse")||(e.shape=h.value,h=a.getToken(!0,!0));if(("shape"in e||"size"in e)&&!h.isSymbol(","))return null;if("shape"in e||"size"in e)h=a.getToken(!0,
!0)}b=this.parseColorStop(a,h);if(!b)return null;h=a.currentToken();if(!h.isSymbol(","))return null;h=a.getToken(!0,!0);g=this.parseColorStop(a,h);if(!g)return null;h=a.currentToken();h.isSymbol(",")&&(h=a.getToken(!0,!0));for(e.stops=[b,g];!h.isSymbol(")");){b=this.parseColorStop(a,h);if(!b)return null;h=a.currentToken();if(!h.isSymbol(")")&&!h.isSymbol(","))return null;h.isSymbol(",")&&(h=a.getToken(!0,!0));e.stops.push(b)}return e}return null},parseBoxShadows:function(a){var h=new CSSParser;h._init();
h.mPreserveWS=!1;h.mPreserveComments=!1;h.mPreservedTokens=[];h.mScanner.init(a);a=[];for(var e=h.getToken(!0,!0),b="",g="0px",f="0px",l="0px",k="0px",n=!1;e.isNotNull();)if(e.isIdent("none"))a.push({none:!0}),e=h.getToken(!0,!0);else{e.isIdent("inset")&&(n=!0,e=h.getToken(!0,!0));if(e.isPercentage()||e.isDimensionOfUnit("cm")||e.isDimensionOfUnit("mm")||e.isDimensionOfUnit("in")||e.isDimensionOfUnit("pc")||e.isDimensionOfUnit("px")||e.isDimensionOfUnit("em")||e.isDimensionOfUnit("ex")||e.isDimensionOfUnit("pt"))e=
h.getToken(!0,!0);else return[];!n&&e.isIdent("inset")&&(n=!0,e=h.getToken(!0,!0));if(e.isPercentage()||e.isDimensionOfUnit("cm")||e.isDimensionOfUnit("mm")||e.isDimensionOfUnit("in")||e.isDimensionOfUnit("pc")||e.isDimensionOfUnit("px")||e.isDimensionOfUnit("em")||e.isDimensionOfUnit("ex")||e.isDimensionOfUnit("pt"))f=e.value,e=h.getToken(!0,!0);else return[];!n&&e.isIdent("inset")&&(n=!0,e=h.getToken(!0,!0));if(e.isPercentage()||e.isDimensionOfUnit("cm")||e.isDimensionOfUnit("mm")||e.isDimensionOfUnit("in")||
e.isDimensionOfUnit("pc")||e.isDimensionOfUnit("px")||e.isDimensionOfUnit("em")||e.isDimensionOfUnit("ex")||e.isDimensionOfUnit("pt"))g=e.value,e=h.getToken(!0,!0);!n&&e.isIdent("inset")&&(n=!0,e=h.getToken(!0,!0));if(e.isPercentage()||e.isDimensionOfUnit("cm")||e.isDimensionOfUnit("mm")||e.isDimensionOfUnit("in")||e.isDimensionOfUnit("pc")||e.isDimensionOfUnit("px")||e.isDimensionOfUnit("em")||e.isDimensionOfUnit("ex")||e.isDimensionOfUnit("pt"))k=e.value,e=h.getToken(!0,!0);!n&&e.isIdent("inset")&&
(n=!0,e=h.getToken(!0,!0));if(e.isFunction("rgb(")||e.isFunction("rgba(")||e.isFunction("hsl(")||e.isFunction("hsla(")||e.isSymbol("#")||e.isIdent())b=h.parseColor(e),e=h.getToken(!0,!0);!n&&e.isIdent("inset")&&(e=h.getToken(!0,!0));a.push({none:!1,color:b,offsetX:f,offsetY:l,blurRadius:g,spreadRadius:k});if(e.isSymbol(","))n=!1,b="",l=k=g="0px",e=h.getToken(!0,!0);else{if(e.isNotNull())return[];break}}return a},parseTextShadows:function(a){var h=new CSSParser;h._init();h.mPreserveWS=!1;h.mPreserveComments=
!1;h.mPreservedTokens=[];h.mScanner.init(a);a=[];for(var e=h.getToken(!0,!0),b="",g="0px",f="0px",l="0px";e.isNotNull();)if(e.isIdent("none"))a.push({none:!0}),e=h.getToken(!0,!0);else{if(e.isFunction("rgb(")||e.isFunction("rgba(")||e.isFunction("hsl(")||e.isFunction("hsla(")||e.isSymbol("#")||e.isIdent())b=h.parseColor(e),e=h.getToken(!0,!0);if(e.isPercentage()||e.isDimensionOfUnit("cm")||e.isDimensionOfUnit("mm")||e.isDimensionOfUnit("in")||e.isDimensionOfUnit("pc")||e.isDimensionOfUnit("px")||
e.isDimensionOfUnit("em")||e.isDimensionOfUnit("ex")||e.isDimensionOfUnit("pt"))f=e.value,e=h.getToken(!0,!0);else return[];if(e.isPercentage()||e.isDimensionOfUnit("cm")||e.isDimensionOfUnit("mm")||e.isDimensionOfUnit("in")||e.isDimensionOfUnit("pc")||e.isDimensionOfUnit("px")||e.isDimensionOfUnit("em")||e.isDimensionOfUnit("ex")||e.isDimensionOfUnit("pt"))l=e.value,e=h.getToken(!0,!0);else return[];if(e.isPercentage()||e.isDimensionOfUnit("cm")||e.isDimensionOfUnit("mm")||e.isDimensionOfUnit("in")||
e.isDimensionOfUnit("pc")||e.isDimensionOfUnit("px")||e.isDimensionOfUnit("em")||e.isDimensionOfUnit("ex")||e.isDimensionOfUnit("pt"))g=e.value,e=h.getToken(!0,!0);!b&&(e.isFunction("rgb(")||e.isFunction("rgba(")||e.isFunction("hsl(")||e.isFunction("hsla(")||e.isSymbol("#")||e.isIdent())&&(b=h.parseColor(e),e=h.getToken(!0,!0));a.push({none:!1,color:b,offsetX:f,offsetY:l,blurRadius:g});if(e.isSymbol(","))b="",g="0px",e=h.getToken(!0,!0);else{if(e.isNotNull())return[];break}}return a},parseBackgroundImages:function(a){var h=
new CSSParser;h._init();h.mPreserveWS=!1;h.mPreserveComments=!1;h.mPreservedTokens=[];h.mScanner.init(a);a=[];for(var e=h.getToken(!0,!0);e.isNotNull();){if(e.isFunction("url("))e=h.getToken(!0,!0),e=h.parseURL(e),a.push({type:"image",value:"url("+e}),e=h.getToken(!0,!0);else if(e.isFunction("-moz-linear-gradient(")||e.isFunction("-moz-radial-gradient(")||e.isFunction("-moz-repeating-linear-gradient(")||e.isFunction("-moz-repeating-radial-gradient("))e=this.parseGradient(h,e),a.push({type:e.isRadial?
"radial-gradient":"linear-gradient",value:e}),e=h.getToken(!0,!0);else return null;if(e.isSymbol(",")&&(e=h.getToken(!0,!0),!e.isNotNull()))return null}return a},serializeGradient:function(a){var h=a.isRadial?a.isRepeating?"-moz-repeating-radial-gradient(":"-moz-radial-gradient(":a.isRepeating?"-moz-repeating-linear-gradient(":"-moz-linear-gradient(";if(a.angle||a.position)h+=(a.angle?a.angle+" ":"")+(a.position?a.position:"")+", ";a.isRadial&&(a.shape||a.size)&&(h+=(a.shape?a.shape:"")+" "+(a.size?
a.size:"")+", ");for(var e=0;e<a.stops.length;e++){var b=a.stops[e],h=h+(b.color+(b.position?" "+b.position:""));e!=a.stops.length-1&&(h+=", ")}return h+")"},parseBorderImage:function(a){var h=new CSSParser;h._init();h.mPreserveWS=!1;h.mPreserveComments=!1;h.mPreservedTokens=[];h.mScanner.init(a);a={url:"",offsets:[],widths:[],sizes:[]};var e=h.getToken(!0,!0);if(e.isFunction("url("))if(e=h.getToken(!0,!0),e=h.parseURL(e)){if(a.url=e.substr(0,e.length-1).trim(),'"'==a.url[0]&&'"'==a.url[a.url.length-
1]||"'"==a.url[0]&&"'"==a.url[a.url.length-1])a.url=a.url.substr(1,a.url.length-2)}else return null;else return null;e=h.getToken(!0,!0);if(e.isNumber()||e.isPercentage())a.offsets.push(e.value);else return null;var b;for(b=0;3>b;b++)if(e=h.getToken(!0,!0),e.isNumber()||e.isPercentage())a.offsets.push(e.value);else break;3==b&&(e=h.getToken(!0,!0));if(e.isSymbol("/")){e=h.getToken(!0,!0);if(e.isDimension()||e.isNumber("0")||e.isIdent()&&e.value in h.kBORDER_WIDTH_NAMES)a.widths.push(e.value);else return null;
for(b=0;3>b;b++)if(e=h.getToken(!0,!0),e.isDimension()||e.isNumber("0")||e.isIdent()&&e.value in h.kBORDER_WIDTH_NAMES)a.widths.push(e.value);else break;3==b&&(e=h.getToken(!0,!0))}for(b=0;2>b;b++){if(e.isIdent("stretch")||e.isIdent("repeat")||e.isIdent("round"))a.sizes.push(e.value);else break;e=h.getToken(!0,!0)}return e.isNotNull()?null:a},parseMediaQuery:function(a){var h={width:!0,"min-width":!0,"max-width":!0,height:!0,"min-height":!0,"max-height":!0,"device-width":!0,"min-device-width":!0,
"max-device-width":!0,"device-height":!0,"min-device-height":!0,"max-device-height":!0,orientation:!0,"aspect-ratio":!0,"min-aspect-ratio":!0,"max-aspect-ratio":!0,"device-aspect-ratio":!0,"min-device-aspect-ratio":!0,"max-device-aspect-ratio":!0,color:!0,"min-color":!0,"max-color":!0,"color-index":!0,"min-color-index":!0,"max-color-index":!0,monochrome:!0,"min-monochrome":!0,"max-monochrome":!0,resolution:!0,"min-resolution":!0,"max-resolution":!0,scan:!0,grid:!0},e=new CSSParser;e._init();e.mPreserveWS=
!1;e.mPreserveComments=!1;e.mPreservedTokens=[];e.mScanner.init(a);a={amplifier:"",medium:"",constraints:[]};var b=e.getToken(!0,!0);if(b.isIdent("all")||b.isIdent("aural")||b.isIdent("braille")||b.isIdent("handheld")||b.isIdent("print")||b.isIdent("projection")||b.isIdent("screen")||b.isIdent("tty")||b.isIdent("tv"))a.medium=b.value,b=e.getToken(!0,!0);else if(b.isIdent("not")||b.isIdent("only"))if(a.amplifier=b.value,b=e.getToken(!0,!0),b.isIdent("all")||b.isIdent("aural")||b.isIdent("braille")||
b.isIdent("handheld")||b.isIdent("print")||b.isIdent("projection")||b.isIdent("screen")||b.isIdent("tty")||b.isIdent("tv"))a.medium=b.value,b=e.getToken(!0,!0);else return null;if(a.medium){if(!b.isNotNull())return a;if(b.isIdent("and"))b=e.getToken(!0,!0);else return null}for(;b.isSymbol("(");)if(b=e.getToken(!0,!0),b.isIdent()&&b.value in h){var g=b.value,b=e.getToken(!0,!0);if(b.isSymbol(":")){for(var b=e.getToken(!0,!0),f=[];!b.isSymbol(")");)f.push(b.value),b=e.getToken(!0,!0);if(b.isSymbol(")"))if(a.constraints.push({constraint:g,
value:f}),b=e.getToken(!0,!0),b.isNotNull())if(b.isIdent("and"))b=e.getToken(!0,!0);else return null;else break;else return null}else if(b.isSymbol(")"))if(a.constraints.push({constraint:g,value:null}),b=e.getToken(!0,!0),b.isNotNull())if(b.isIdent("and"))b=e.getToken(!0,!0);else return null;else break;else return null}else return null;return a}},CSS_ESCAPE="\\",IS_HEX_DIGIT=1,START_IDENT=2,IS_IDENT=4,IS_WHITESPACE=8,W=IS_WHITESPACE,I=IS_IDENT,S=START_IDENT,SI=IS_IDENT|START_IDENT,XI=IS_IDENT|IS_HEX_DIGIT,
XSI=IS_IDENT|START_IDENT|IS_HEX_DIGIT;function CSSScanner(a){this.init(a)}
CSSScanner.prototype={kLexTable:[0,0,0,0,0,0,0,0,0,W,W,0,W,W,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,W,0,0,0,0,0,0,0,0,0,0,0,0,I,0,0,XI,XI,XI,XI,XI,XI,XI,XI,XI,XI,0,0,0,0,0,0,0,XSI,XSI,XSI,XSI,XSI,XSI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,0,S,0,0,SI,0,XSI,XSI,XSI,XSI,XSI,XSI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,
SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI],kHexValues:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15},mString:"",mPos:0,mPreservedPos:[],init:function(a){this.mString=a;this.mPos=0;this.mPreservedPos=[]},getCurrentPos:function(){return this.mPos},getAlreadyScanned:function(){return this.mString.substr(0,this.mPos)},
preserveState:function(){this.mPreservedPos.push(this.mPos)},restoreState:function(){this.mPreservedPos.length&&(this.mPos=this.mPreservedPos.pop())},forgetState:function(){this.mPreservedPos.length&&this.mPreservedPos.pop()},read:function(){return this.mPos<this.mString.length?this.mString.charAt(this.mPos++):-1},peek:function(){return this.mPos<this.mString.length?this.mString.charAt(this.mPos):-1},isHexDigit:function(a){a=a.charCodeAt(0);return 256>a&&0!=(this.kLexTable[a]&IS_HEX_DIGIT)},isIdentStart:function(a){a=
a.charCodeAt(0);return 256<=a||0!=(this.kLexTable[a]&START_IDENT)},startsWithIdent:function(a,h){a.charCodeAt(0);return this.isIdentStart(a)||"-"==a&&this.isIdentStart(h)},isIdent:function(a){a=a.charCodeAt(0);return 256<=a||0!=(this.kLexTable[a]&IS_IDENT)},pushback:function(){this.mPos--},nextHexValue:function(){var a=this.read();if(-1==a||!this.isHexDigit(a))return new jscsspToken(jscsspToken.NULL_TYPE,null);for(var h=a,a=this.read();-1!=a&&this.isHexDigit(a);)h+=a,a=this.read();-1!=a&&this.pushback();
return new jscsspToken(jscsspToken.HEX_TYPE,h)},gatherEscape:function(){var a=this.peek();if(-1==a)return"";if(this.isHexDigit(a)){for(var h=0,e=0;6>e;e++)if(a=this.read(),this.isHexDigit(a))h=16*h+this.kHexValues[a.toLowerCase()];else{this.isHexDigit(a)||this.isWhiteSpace(a)||this.pushback();break}6==e&&(a=this.peek(),this.isWhiteSpace(a)&&this.read());return String.fromCharCode(h)}a=this.read();return"\n"!=a?a:""},gatherIdent:function(a){var h="",h=a==CSS_ESCAPE?h+this.gatherEscape():h+a;for(a=
this.read();-1!=a&&(this.isIdent(a)||a==CSS_ESCAPE);)h=a==CSS_ESCAPE?h+this.gatherEscape():h+a,a=this.read();-1!=a&&this.pushback();return h},parseIdent:function(a){a=this.gatherIdent(a);return"("==this.peek()?(a+=this.read(),new jscsspToken(jscsspToken.FUNCTION_TYPE,a)):new jscsspToken(jscsspToken.IDENT_TYPE,a)},isDigit:function(a){return"0"<=a&&"9">=a},parseComment:function(a){for(var h=a;-1!=(a=this.read());)if(h+=a,"*"==a){a=this.read();if(-1==a)break;if("/"==a){h+=a;break}this.pushback()}return new jscsspToken(jscsspToken.COMMENT_TYPE,
h)},parseNumber:function(a){for(var h=a,e=!1;-1!=(a=this.read());)if("."==a)if(e)break;else h+=a,e=!0;else if(this.isDigit(a))h+=a;else break;if(-1!=a&&this.startsWithIdent(a,this.peek()))return a=this.gatherIdent(a),new jscsspToken(jscsspToken.DIMENSION_TYPE,h+a,a);if("%"==a)return h+="%",new jscsspToken(jscsspToken.PERCENTAGE_TYPE,h);-1!=a&&this.pushback();return new jscsspToken(jscsspToken.NUMBER_TYPE,h)},parseString:function(a){for(var h=a,e=a,b;-1!=(b=this.read());){if(b==a&&e!=CSS_ESCAPE){h+=
b;break}else if(b==CSS_ESCAPE)if(b=this.peek(),-1==b)break;else"\n"==b||"\r"==b||"\f"==b?(d=b,b=this.read(),"\r"==d&&(b=this.peek(),"\n"==b&&(b=this.read()))):(h+=this.gatherEscape(),b=this.peek());else if("\n"==b||"\r"==b||"\f"==b)break;else h+=b;e=b}return new jscsspToken(jscsspToken.STRING_TYPE,h)},isWhiteSpace:function(a){a=a.charCodeAt(0);return 256>a&&0!=(this.kLexTable[a]&IS_WHITESPACE)},eatWhiteSpace:function(a){for(var h=a;-1!=(a=this.read())&&this.isWhiteSpace(a);)h+=a;-1!=a&&this.pushback();
return h},parseAtKeyword:function(a){return new jscsspToken(jscsspToken.ATRULE_TYPE,this.gatherIdent(a))},nextToken:function(){var a=this.read();if(-1==a)return new jscsspToken(jscsspToken.NULL_TYPE,null);if(this.startsWithIdent(a,this.peek()))return this.parseIdent(a);if("@"==a){var h=this.read();if(-1!=h){var e=this.peek();this.pushback();if(this.startsWithIdent(h,e))return this.parseAtKeyword(a)}}if("."==a||"+"==a||"-"==a)if(h=this.peek(),this.isDigit(h)||"."==h&&"."!=a&&(firstChar=this.read(),
h=this.peek(),this.pushback(),this.isDigit(h)))return this.parseNumber(a);if(this.isDigit(a))return this.parseNumber(a);if("'"==a||'"'==a)return this.parseString(a);if(this.isWhiteSpace(a))return a=this.eatWhiteSpace(a),new jscsspToken(jscsspToken.WHITESPACE_TYPE,a);if("|"==a||"~"==a||"^"==a||"$"==a||"*"==a)if(h=this.read(),"="==h)switch(a){case "~":return new jscsspToken(jscsspToken.INCLUDES_TYPE,"~=");case "|":return new jscsspToken(jscsspToken.DASHMATCH_TYPE,"|=");case "^":return new jscsspToken(jscsspToken.BEGINSMATCH_TYPE,
"^=");case "$":return new jscsspToken(jscsspToken.ENDSMATCH_TYPE,"$=");case "*":return new jscsspToken(jscsspToken.CONTAINSMATCH_TYPE,"*=")}else-1!=h&&this.pushback();return"/"==a&&"*"==this.peek()?this.parseComment(a):new jscsspToken(jscsspToken.SYMBOL_TYPE,a)}};function CSSParser(a){this.mLookAhead=this.mToken=null;this.mScanner=new CSSScanner(a);this.mPreserveComments=this.mPreserveWS=!0;this.mPreservedTokens=[];this.mError=null}
CSSParser.prototype={_init:function(){this.mLookAhead=this.mToken=null},kINHERIT:"inherit",kBORDER_WIDTH_NAMES:{thin:!0,medium:!0,thick:!0},kBORDER_STYLE_NAMES:{none:!0,hidden:!0,dotted:!0,dashed:!0,solid:!0,"double":!0,groove:!0,ridge:!0,inset:!0,outset:!0},kCOLOR_NAMES:{transparent:!0,black:!0,silver:!0,gray:!0,white:!0,maroon:!0,red:!0,purple:!0,fuchsia:!0,green:!0,lime:!0,olive:!0,yellow:!0,navy:!0,blue:!0,teal:!0,aqua:!0,aliceblue:!0,antiquewhite:!0,aqua:!0,aquamarine:!0,azure:!0,beige:!0,bisque:!0,
black:!0,blanchedalmond:!0,blue:!0,blueviolet:!0,brown:!0,burlywood:!0,cadetblue:!0,chartreuse:!0,chocolate:!0,coral:!0,cornflowerblue:!0,cornsilk:!0,crimson:!0,cyan:!0,darkblue:!0,darkcyan:!0,darkgoldenrod:!0,darkgray:!0,darkgreen:!0,darkgrey:!0,darkkhaki:!0,darkmagenta:!0,darkolivegreen:!0,darkorange:!0,darkorchid:!0,darkred:!0,darksalmon:!0,darkseagreen:!0,darkslateblue:!0,darkslategray:!0,darkslategrey:!0,darkturquoise:!0,darkviolet:!0,deeppink:!0,deepskyblue:!0,dimgray:!0,dimgrey:!0,dodgerblue:!0,
firebrick:!0,floralwhite:!0,forestgreen:!0,fuchsia:!0,gainsboro:!0,ghostwhite:!0,gold:!0,goldenrod:!0,gray:!0,green:!0,greenyellow:!0,grey:!0,honeydew:!0,hotpink:!0,indianred:!0,indigo:!0,ivory:!0,khaki:!0,lavender:!0,lavenderblush:!0,lawngreen:!0,lemonchiffon:!0,lightblue:!0,lightcoral:!0,lightcyan:!0,lightgoldenrodyellow:!0,lightgray:!0,lightgreen:!0,lightgrey:!0,lightpink:!0,lightsalmon:!0,lightseagreen:!0,lightskyblue:!0,lightslategray:!0,lightslategrey:!0,lightsteelblue:!0,lightyellow:!0,lime:!0,
limegreen:!0,linen:!0,magenta:!0,maroon:!0,mediumaquamarine:!0,mediumblue:!0,mediumorchid:!0,mediumpurple:!0,mediumseagreen:!0,mediumslateblue:!0,mediumspringgreen:!0,mediumturquoise:!0,mediumvioletred:!0,midnightblue:!0,mintcream:!0,mistyrose:!0,moccasin:!0,navajowhite:!0,navy:!0,oldlace:!0,olive:!0,olivedrab:!0,orange:!0,orangered:!0,orchid:!0,palegoldenrod:!0,palegreen:!0,paleturquoise:!0,palevioletred:!0,papayawhip:!0,peachpuff:!0,peru:!0,pink:!0,plum:!0,powderblue:!0,purple:!0,red:!0,rosybrown:!0,
royalblue:!0,saddlebrown:!0,salmon:!0,sandybrown:!0,seagreen:!0,seashell:!0,sienna:!0,silver:!0,skyblue:!0,slateblue:!0,slategray:!0,slategrey:!0,snow:!0,springgreen:!0,steelblue:!0,tan:!0,teal:!0,thistle:!0,tomato:!0,turquoise:!0,violet:!0,wheat:!0,white:!0,whitesmoke:!0,yellow:!0,yellowgreen:!0,activeborder:!0,activecaption:!0,appworkspace:!0,background:!0,buttonface:!0,buttonhighlight:!0,buttonshadow:!0,buttontext:!0,captiontext:!0,graytext:!0,highlight:!0,highlighttext:!0,inactiveborder:!0,inactivecaption:!0,
inactivecaptiontext:!0,infobackground:!0,infotext:!0,menu:!0,menutext:!0,scrollbar:!0,threeddarkshadow:!0,threedface:!0,threedhighlight:!0,threedlightshadow:!0,threedshadow:!0,window:!0,windowframe:!0,windowtext:!0},kLIST_STYLE_TYPE_NAMES:{decimal:!0,"decimal-leading-zero":!0,"lower-roman":!0,"upper-roman":!0,georgian:!0,armenian:!0,"lower-latin":!0,"lower-alpha":!0,"upper-latin":!0,"upper-alpha":!0,"lower-greek":!0,disc:!0,circle:!0,square:!0,none:!0,box:!0,check:!0,diamond:!0,hyphen:!0,"lower-armenian":!0,
"cjk-ideographic":!0,"ethiopic-numeric":!0,hebrew:!0,"japanese-formal":!0,"japanese-informal":!0,"simp-chinese-formal":!0,"simp-chinese-informal":!0,syriac:!0,tamil:!0,"trad-chinese-formal":!0,"trad-chinese-informal":!0,"upper-armenian":!0,"arabic-indic":!0,binary:!0,bengali:!0,cambodian:!0,khmer:!0,devanagari:!0,gujarati:!0,gurmukhi:!0,kannada:!0,"lower-hexadecimal":!0,lao:!0,malayalam:!0,mongolian:!0,myanmar:!0,octal:!0,oriya:!0,persian:!0,urdu:!0,telugu:!0,tibetan:!0,"upper-hexadecimal":!0,afar:!0,
"ethiopic-halehame-aa-et":!0,"ethiopic-halehame-am-et":!0,"amharic-abegede":!0,"ehiopic-abegede-am-et":!0,"cjk-earthly-branch":!0,"cjk-heavenly-stem":!0,ethiopic:!0,"ethiopic-abegede":!0,"ethiopic-abegede-gez":!0,"hangul-consonant":!0,hangul:!0,"hiragana-iroha":!0,hiragana:!0,"katakana-iroha":!0,katakana:!0,"lower-norwegian":!0,oromo:!0,"ethiopic-halehame-om-et":!0,sidama:!0,"ethiopic-halehame-sid-et":!0,somali:!0,"ethiopic-halehame-so-et":!0,tigre:!0,"ethiopic-halehame-tig":!0,"tigrinya-er-abegede":!0,
"ethiopic-abegede-ti-er":!0,"tigrinya-et":!0,"ethiopic-halehame-ti-et":!0,"upper-greek":!0,asterisks:!0,footnotes:!0,"circled-decimal":!0,"circled-lower-latin":!0,"circled-upper-latin":!0,"dotted-decimal":!0,"double-circled-decimal":!0,"filled-circled-decimal":!0,"parenthesised-decimal":!0,"parenthesised-lower-latin":!0},reportError:function(a){this.mError=a},consumeError:function(){var a=this.mError;this.mError=null;return a},currentToken:function(){return this.mToken},getHexValue:function(){return this.mToken=
this.mScanner.nextHexValue()},getToken:function(a,h){if(this.mLookAhead)return this.mToken=this.mLookAhead,this.mLookAhead=null,this.mToken;for(this.mToken=this.mScanner.nextToken();this.mToken&&(a&&this.mToken.isWhiteSpace()||h&&this.mToken.isComment());)this.mToken=this.mScanner.nextToken();return this.mToken},lookAhead:function(a,h){var e=this.mToken;this.mScanner.preserveState();var b=this.getToken(a,h);this.mScanner.restoreState();this.mToken=e;return b},ungetToken:function(){this.mLookAhead=
this.mToken},addUnknownAtRule:function(a,h){for(var e=CountLF(this.mScanner.getAlreadyScanned()),b=[],g=this.getToken(!1,!1);g.isNotNull();){h+=g.value;if(g.isSymbol(";")&&!b.length)break;else if(g.isSymbol("{")||g.isSymbol("(")||g.isSymbol("[")||"function"==g.type)b.push(g.isFunction()?"(":g.value);else if((g.isSymbol("}")||g.isSymbol(")")||g.isSymbol("]"))&&b.length){var f=b[b.length-1];if(g.isSymbol("}")&&"{"==f||g.isSymbol(")")&&"("==f||g.isSymbol("]")&&"["==f)if(b.pop(),!b.length&&g.isSymbol("}"))break}g=
this.getToken(!1,!1)}this.addUnknownRule(a,h,e)},addUnknownRule:function(a,h,e){var b=this.consumeError(),b=new jscsspErrorRule(b);b.currentLine=e;b.parsedCssText=h;b.parentStyleSheet=a;a.cssRules.push(b)},addWhitespace:function(a,h){var e=new jscsspWhitespace;e.parsedCssText=h;e.parentStyleSheet=a;a.cssRules.push(e)},addComment:function(a,h){var e=new jscsspComment;e.parsedCssText=h;e.parentStyleSheet=a;a.cssRules.push(e)},parseCharsetRule:function(a,h){var e=a.value,b=this.getToken(!1,!1),e=e+b.value;
if(b.isWhiteSpace(" "))if(b=this.getToken(!1,!1),e+=b.value,b.isString()){var g=b.value,b=this.getToken(!1,!1),e=e+b.value;if(b.isSymbol(";"))return b=new jscsspCharsetRule,b.encoding=g,b.parsedCssText=e,b.parentStyleSheet=h,h.cssRules.push(b),!0;this.reportError(kCHARSET_RULE_MISSING_SEMICOLON)}else this.reportError(kCHARSET_RULE_CHARSET_IS_STRING);else this.reportError(kCHARSET_RULE_MISSING_WS);this.addUnknownAtRule(h,e);return!1},parseImportRule:function(a,h){var e=CountLF(this.mScanner.getAlreadyScanned()),
b=a.value;this.preserveState();var g=this.getToken(!0,!0),f=[],l="";if(g.isString())l=g.value,b+=" "+l;else if(g.isFunction("url(")){if(g=this.getToken(!0,!0),g=this.parseURL(g))l="url("+g,b+=" "+l}else this.reportError(kIMPORT_RULE_MISSING_URL);if(l){for(g=this.getToken(!0,!0);g.isIdent();){b+=" "+g.value;f.push(g.value);g=this.getToken(!0,!0);if(!g)break;if(g.isSymbol(","))b+=",";else{g.isSymbol(";");break}g=this.getToken(!0,!0)}f.length||f.push("all");if(g.isSymbol(";"))return b+=";",this.forgetState(),
g=new jscsspImportRule,g.currentLine=e,g.parsedCssText=b,g.href=l,g.media=f,g.parentStyleSheet=h,h.cssRules.push(g),!0}this.restoreState();this.addUnknownAtRule(h,"@import");return!1},parseVariablesRule:function(a,h){var e=CountLF(this.mScanner.getAlreadyScanned()),b=a.value,g=[],f=!1;this.preserveState();a=this.getToken(!0,!0);for(var l=[],k=!1;a.isNotNull();){if(a.isIdent())if(k=!0,b+=" "+a.value,l.push(a.value),a=this.getToken(!0,!0),a.isSymbol(","))b+=",";else if(a.isSymbol("{"))this.ungetToken();
else{a.type=jscsspToken.NULL_TYPE;break}else if(a.isSymbol("{"))break;else if(k){a.type=jscsspToken.NULL_TYPE;break}a=this.getToken(!0,!0)}if(a.isSymbol("{"))for(b+=" {",a=this.getToken(!0,!0);;){if(!a.isNotNull()){f=!0;break}if(a.isSymbol("}")){b+="}";f=!0;break}else f=this.parseDeclaration(a,g,!0,!1,h),b+=(f&&g.length?" ":"")+f;a=this.getToken(!0,!1)}if(f)return this.forgetState(),f=new jscsspVariablesRule,f.currentLine=e,f.parsedCssText=b,f.declarations=g,f.media=l,f.parentStyleSheet=h,h.cssRules.push(f),
!0;this.restoreState();return!1},parseNamespaceRule:function(a,h){var e=CountLF(this.mScanner.getAlreadyScanned()),b=a.value;this.preserveState();var g=this.getToken(!0,!0);if(g.isNotNull()){var f="",l="";g.isIdent()&&(f=g.value,b+=" "+f,g=this.getToken(!0,!0));if(g){var k=!1;g.isString()?(k=!0,l=g.value,b+=" "+l):g.isFunction("url(")&&(g=this.getToken(!0,!0),g=this.parseURL(g))&&(l+="url("+g,k=!0,b+=" "+g)}if(k&&(g=this.getToken(!0,!0),g.isSymbol(";")))return b+=";",this.forgetState(),k=new jscsspNamespaceRule,
k.currentLine=e,k.parsedCssText=b,k.prefix=f,k.url=l,k.parentStyleSheet=h,h.cssRules.push(k),!0}this.restoreState();this.addUnknownAtRule(h,"@namespace");return!1},parseFontFaceRule:function(a,h){var e=CountLF(this.mScanner.getAlreadyScanned()),b=a.value,g=!1,f=[];this.preserveState();var l=this.getToken(!0,!0);if(l.isNotNull()&&l.isSymbol("{"))for(b+=" "+l.value,l=this.getToken(!0,!1);;){if(l.isSymbol("}")){b+="}";g=!0;break}else g=this.parseDeclaration(l,f,!1,!1,h),b+=(g&&f.length?" ":"")+g;l=this.getToken(!0,
!1)}if(g)return this.forgetState(),g=new jscsspFontFaceRule,g.currentLine=e,g.parsedCssText=b,g.descriptors=f,g.parentStyleSheet=h,h.cssRules.push(g),!0;this.restoreState();return!1},parsePageRule:function(a,h){var e=CountLF(this.mScanner.getAlreadyScanned()),b=a.value,g=!1,f=[];this.preserveState();var l=this.getToken(!0,!0),k="";if(l.isSymbol(":")||l.isIdent())l.isSymbol(":")&&(k=":",l=this.getToken(!1,!1)),l.isIdent()&&(k+=l.value,b+=" "+k,l=this.getToken(!0,!0));if(l.isNotNull()&&l.isSymbol("{"))for(b+=
" "+l.value,l=this.getToken(!0,!1);;){if(l.isSymbol("}")){b+="}";g=!0;break}else g=this.parseDeclaration(l,f,!0,!0,h),b+=(g&&f.length?" ":"")+g;l=this.getToken(!0,!1)}if(g)return this.forgetState(),g=new jscsspPageRule,g.currentLine=e,g.parsedCssText=b,g.pageSelector=k,g.declarations=f,g.parentStyleSheet=h,h.cssRules.push(g),!0;this.restoreState();return!1},parseDefaultPropertyValue:function(a,h,e,b,g){e="";for(var f=[],l=[];a.isNotNull();){if((a.isSymbol(";")||a.isSymbol("}")||a.isSymbol("!"))&&
!f.length){a.isSymbol("}")&&this.ungetToken();break}if(a.isIdent(this.kINHERIT)){if(l.length)return"";e=this.kINHERIT;var k=new jscsspVariable(kJscsspINHERIT_VALUE,g);l.push(k);this.getToken(!0,!0);break}else a.isSymbol("{")||a.isSymbol("(")||a.isSymbol("[")?f.push(a.value):(a.isSymbol("}")||a.isSymbol("]"))&&f.length&&(k=f[f.length-1],(a.isSymbol("}")&&"{"==k||a.isSymbol(")")&&"("==k||a.isSymbol("]")&&"["==k)&&f.pop());if(a.isFunction())if(a.isFunction("var("))if(a=this.getToken(!0,!0),a.isIdent()){var n=
a.value;a=this.getToken(!0,!0);if(a.isSymbol(")"))k=new jscsspVariable(kJscsspVARIABLE_VALUE,g),e+="var("+n+")",k.name=n,l.push(k);else return""}else return"";else if(n=a.value,a=this.getToken(!1,!0),a=this.parseFunctionArgument(a))e+=n+a,k=new jscsspVariable(kJscsspPRIMITIVE_VALUE,g),k.value=n+a,l.push(k);else return"";else if(a.isSymbol("#"))if(a=this.parseColor(a))e+=a,k=new jscsspVariable(kJscsspPRIMITIVE_VALUE,g),k.value=a,l.push(k);else return"";else a.isWhiteSpace()||a.isSymbol(",")||(k=new jscsspVariable(kJscsspPRIMITIVE_VALUE,
g),k.value=a.value,l.push(k)),e+=a.value;a=this.getToken(!1,!0)}return l.length&&e?(this.forgetState(),h.push(this._createJscsspDeclarationFromValuesArray(b,l,e)),e):""},parseMarginOrPaddingShorthand:function(a,h,e,b){for(var g=null,f=null,l=null,k=null,n=[];a.isNotNull();){if(a.isSymbol(";")||e&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!n.length&&a.isIdent(this.kINHERIT)){n.push(a.value);this.getToken(!0,!0);break}else if(a.isDimension()||a.isNumber("0")||
a.isPercentage()||a.isIdent("auto"))n.push(a.value);else return"";a=this.getToken(!0,!0)}switch(n.length){case 1:k=l=f=g=n[0];break;case 2:f=g=n[0];k=l=n[1];break;case 3:g=n[0];k=l=n[1];f=n[2];break;case 4:g=n[0];k=n[1];f=n[2];l=n[3];break;default:return""}this.forgetState();h.push(this._createJscsspDeclarationFromValue(b+"-top",g));h.push(this._createJscsspDeclarationFromValue(b+"-right",k));h.push(this._createJscsspDeclarationFromValue(b+"-bottom",f));h.push(this._createJscsspDeclarationFromValue(b+
"-left",l));return g+" "+k+" "+f+" "+l},parseBorderColorShorthand:function(a,h,e){var b=null,g=null,f=null,l=null;for(h=[];a.isNotNull();){if(a.isSymbol(";")||e&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!h.length&&a.isIdent(this.kINHERIT)){h.push(a.value);this.getToken(!0,!0);break}else if(a=this.parseColor(a))h.push(a);else return"";a=this.getToken(!0,!0)}switch(h.length){case 1:l=f=g=b=h[0];break;case 2:g=b=h[0];l=f=h[1];break;case 3:b=h[0];l=f=h[1];g=h[2];
break;case 4:b=h[0];l=h[1];g=h[2];f=h[3];break;default:return""}this.forgetState();return b+" "+l+" "+g+" "+f},parseCueShorthand:function(a,h,e){for(var b=h="",b=[],b=[];a.isNotNull();){if(a.isSymbol(";")||e&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!b.length&&a.isIdent(this.kINHERIT))b.push(a.value);else if(a.isIdent("none"))b.push(a.value);else if(a.isFunction("url("))if(a=this.getToken(!0,!0),a=this.parseURL(a))b.push("url("+a);else return"";else return"";
a=this.getToken(!0,!0)}switch(b.length){case 1:b=h=b[0];break;case 2:h=b[0];b=b[1];break;default:return""}this.forgetState();aDecl.push(this._createJscsspDeclarationFromValue("cue-before",h));aDecl.push(this._createJscsspDeclarationFromValue("cue-after",b));return h+" "+b},parsePauseShorthand:function(a,h,e){for(var b=h="",b=[],b=[];a.isNotNull();){if(a.isSymbol(";")||e&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!b.length&&a.isIdent(this.kINHERIT))b.push(a.value);
else if(a.isDimensionOfUnit("ms")||a.isDimensionOfUnit("s")||a.isPercentage()||a.isNumber("0"))b.push(a.value);else return"";a=this.getToken(!0,!0)}switch(b.length){case 1:b=h=b[0];break;case 2:h=b[0];b=b[1];break;default:return""}this.forgetState();aDecl.push(this._createJscsspDeclarationFromValue("pause-before",h));aDecl.push(this._createJscsspDeclarationFromValue("pause-after",b));return h+" "+b},parseBorderWidthShorthand:function(a,h,e){console.error("parseBorderWidthShorthand");h=null;for(h=
[];a.isNotNull();){if(a.isSymbol(";")||e&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!h.length&&a.isIdent(this.kINHERIT))h.push(a.value);else if(a.isDimension()||a.isNumber("0")||a.isIdent()&&a.value in this.kBORDER_WIDTH_NAMES)h.push(a.value);else return"";a=this.getToken(!0,!0)}switch(h.length){case 1:h=h[0];break;case 2:h=h[0];break;case 3:h=h[0];break;case 4:h=h[0];break;default:return""}this.forgetState();return h},parseBorderStyleShorthand:function(a,
h,e){for(var b=null,g=null,f=null,l=null,k=[];a.isNotNull();){if(a.isSymbol(";")||e&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!k.length&&a.isIdent(this.kINHERIT))k.push(a.value);else if(a.isIdent()&&a.value in this.kBORDER_STYLE_NAMES)k.push(a.value);else return"";a=this.getToken(!0,!0)}switch(k.length){case 1:l=f=g=b=k[0];break;case 2:g=b=k[0];l=f=k[1];break;case 3:b=k[0];l=f=k[1];g=k[2];break;case 4:b=k[0];l=k[1];g=k[2];f=k[3];break;default:return""}this.forgetState();
h.push(this._createJscsspDeclarationFromValue("border-top-style",b));h.push(this._createJscsspDeclarationFromValue("border-right-style",l));h.push(this._createJscsspDeclarationFromValue("border-bottom-style",g));h.push(this._createJscsspDeclarationFromValue("border-left-style",f));return b+" "+l+" "+g+" "+f},parseBorderEdgeOrOutlineShorthand:function(a,h,e,b){function g(a,b,e,f,g,k){b.push(a._createJscsspDeclarationFromValue(e+"-width",f));b.push(a._createJscsspDeclarationFromValue(e+"-style",g));
b.push(a._createJscsspDeclarationFromValue(e+"-color",k))}for(var f=null,l=null,k=null;a.isNotNull();){if(a.isSymbol(";")||e&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(f||l||k||!a.isIdent(this.kINHERIT))if(!f&&(a.isDimension()||a.isIdent()&&a.value in this.kBORDER_WIDTH_NAMES||a.isNumber("0")))f=a.value;else if(!l&&a.isIdent()&&a.value in this.kBORDER_STYLE_NAMES)l=a.value;else if(a="outline"==b&&a.isIdent("invert")?"invert":this.parseColor(a),!k&&a)k=a;else return"";
else k=l=f=this.kINHERIT;a=this.getToken(!0,!0)}this.forgetState();f=f?f:"medium";l=l?l:"none";k=k?k:"-moz-initial";"border"==b?(g(this,h,"border-top",f,l,k),g(this,h,"border-right",f,l,k),g(this,h,"border-bottom",f,l,k),g(this,h,"border-left",f,l,k)):g(this,h,b,f,l,k);return f+" "+l+" "+k},parseBackgroundShorthand:function(a,h,e){for(var b={left:!0,right:!0},g={top:!0,bottom:!0},f={left:!0,right:!0,top:!0,bottom:!0,center:!0},l=null,k=null,n=null,m=null,p=null;a.isNotNull();){if(a.isSymbol(";")||
e&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(l||k||n||m||p||!a.isIdent(this.kINHERIT))if(n||!a.isIdent("scroll")&&!a.isIdent("fixed"))if(!p&&(a.isIdent()&&a.value in f||a.isDimension()||a.isNumber("0")||a.isPercentage()))if(p=a.value,a=this.getToken(!0,!0),a.isDimension()||a.isNumber("0")||a.isPercentage())p+=" "+a.value;else if(a.isIdent()&&a.value in f){if(p in b&&a.value in b||p in g&&a.value in g)return"";p+=" "+a.value}else this.ungetToken(),p+=" center";
else if(!k&&(a.isIdent("repeat")||a.isIdent("repeat-x")||a.isIdent("repeat-y")||a.isIdent("no-repeat")))k=a.value;else if(m||!a.isFunction("url(")&&!a.isIdent("none"))if(!m&&(a.isFunction("-moz-linear-gradient(")||a.isFunction("-moz-radial-gradient(")||a.isFunction("-moz-repeating-linear-gradient(")||a.isFunction("-moz-repeating-radial-gradient(")))if(m=CssInspector.parseGradient(this,a))m=CssInspector.serializeGradient(m);else return"";else if(a=this.parseColor(a),!l&&a)l=a;else return"";else{if(m=
a.value,a.isFunction("url("))if(a=this.getToken(!0,!0),a=this.parseURL(a))m+=a;else return""}else n=a.value;else p=m=n=k=l=this.kINHERIT;a=this.getToken(!0,!0)}this.forgetState();l=l?l:"transparent";m=m?m:"none";k=k?k:"repeat";n=n?n:"scroll";p=p?p:"top left";h.push(this._createJscsspDeclarationFromValue("background-color",l));h.push(this._createJscsspDeclarationFromValue("background-image",m));h.push(this._createJscsspDeclarationFromValue("background-repeat",k));h.push(this._createJscsspDeclarationFromValue("background-attachment",
n));h.push(this._createJscsspDeclarationFromValue("background-position",p));return l+" "+m+" "+k+" "+n+" "+p},parseListStyleShorthand:function(a,h,e){for(var b={inside:!0,outside:!0},g=null,f=null,l=null;a.isNotNull();){if(a.isSymbol(";")||e&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!g&&!f&&!l&&a.isIdent(this.kINHERIT))l=f=g=this.kINHERIT;else if(!g&&a.isIdent()&&a.value in this.kLIST_STYLE_TYPE_NAMES)g=a.value;else if(!f&&a.isIdent()&&a.value in b)f=a.value;
else if(!l&&a.isFunction("url"))if(a=this.getToken(!0,!0),a=this.parseURL(a))l="url("+a;else return"";else if(!a.isIdent("none"))return"";a=this.getToken(!0,!0)}this.forgetState();g=g?g:"none";l=l?l:"none";f=f?f:"outside";h.push(this._createJscsspDeclarationFromValue("list-style-type",g));h.push(this._createJscsspDeclarationFromValue("list-style-position",f));h.push(this._createJscsspDeclarationFromValue("list-style-image",l));return g+" "+f+" "+l},parseFontShorthand:function(a,h,e){console.error("parseFontShorthand");
for(var b={italic:!0,oblique:!0},g={"small-caps":!0},f={bold:!0,bolder:!0,lighter:!0,100:!0,200:!0,300:!0,400:!0,500:!0,600:!0,700:!0,800:!0,900:!0},l={"xx-small":!0,"x-small":!0,small:!0,medium:!0,large:!0,"x-large":!0,"xx-large":!0,larger:!0,smaller:!0},k={caption:!0,icon:!0,menu:!0,"message-box":!0,"small-caption":!0,"status-bar":!0},n={serif:!0,"sans-serif":!0,cursive:!0,fantasy:!0,monospace:!0},m=null,p=null,q=null,r=null,t=null,u="",y=null,x=[],z=0;a.isNotNull();){if(a.isSymbol(";")||e&&a.isSymbol("!")||
a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(m||p||q||r||t||u||y||!a.isIdent(this.kINHERIT))if(!y&&a.isIdent()&&a.value in k){y=a.value;break}else if(!m&&a.isIdent()&&a.value in b)m=a.value;else if(!p&&a.isIdent()&&a.value in g)p=a.value;else if(!q&&(a.isIdent()||a.isNumber())&&a.value in f)q=a.value;else if(!r&&(a.isIdent()&&a.value in l||a.isDimension()||a.isPercentage()))if(r=a.value,a=this.getToken(!1,!1),a.isSymbol("/"))if(a=this.getToken(!1,!1),!t&&(a.isDimension()||a.isNumber()||
a.isPercentage()))t=a.value;else return"";else this.ungetToken();else if(a.isIdent("normal")){if(z++,3<z)return""}else{if(u||!a.isString()&&!a.isIdent())return"";for(var B=!1;;){if(a.isNotNull())if(a.isSymbol(";")||e&&a.isSymbol("!")||a.isSymbol("}")){this.ungetToken();break}else if(a.isIdent()&&a.value in n){B=new jscsspVariable(kJscsspPRIMITIVE_VALUE,null);B.value=a.value;x.push(B);u+=a.value;break}else if(a.isString()||a.isIdent())B=new jscsspVariable(kJscsspPRIMITIVE_VALUE,null),B.value=a.value,
x.push(B),u+=a.value,B=!1;else if(!B&&a.isSymbol(","))u+=", ",B=!0;else return"";else break;a=this.getToken(!0,!0)}}else y=u=t=r=q=p=m=this.kINHERIT;a=this.getToken(!0,!0)}this.forgetState();return y?(h.push(this._createJscsspDeclarationFromValue("font",y)),y):(m?m:"normal")+" "+(p?p:"normal")+" "+(q?q:"normal")+" "+(r?r:"medium")+"/"+(t?t:"normal")+" "+(u?u:"-moz-initial")},_createJscsspDeclaration:function(a,h){var e=new jscsspDeclaration;e.property=a;e.value=this.trim11(h);e.parsedCssText=a+": "+
h+";";return e},_createJscsspDeclarationFromValue:function(a,h){var e=new jscsspDeclaration;e.property=a;var b=new jscsspVariable(kJscsspPRIMITIVE_VALUE,null);b.value=h;e.values=[b];e.valueText=h;e.parsedCssText=a+": "+h+";";return e},_createJscsspDeclarationFromValuesArray:function(a,h,e){var b=new jscsspDeclaration;b.property=a;b.values=h;b.valueText=e;b.parsedCssText=a+": "+e+";";return b},parseURL:function(a){var h="";if(a.isString())h+=a.value,a=this.getToken(!0,!0);else for(;;){if(!a.isNotNull())return this.reportError(kURL_EOF),
"";if(a.isWhiteSpace()&&(nextToken=this.lookAhead(!0,!0),!nextToken.isSymbol(")"))){this.reportError(kURL_WS_INSIDE);a=this.currentToken();break}if(a.isSymbol(")"))break;h+=a.value;a=this.getToken(!1,!1)}return a.isSymbol(")")?h+")":""},parseFunctionArgument:function(a){var h="";if(a.isString())h+=a.value,a=this.getToken(!0,!0);else for(var e=1;;){if(!a.isNotNull())return"";(a.isFunction()||a.isSymbol("("))&&e++;if(a.isSymbol(")")&&(e--,!e))break;h+=a.value;a=this.getToken(!1,!1)}return a.isSymbol(")")?
h+")":""},parseColor:function(a){var h="";if(a.isFunction("rgb(")||a.isFunction("rgba(")){var h=a.value,e=a.isFunction("rgba(");a=this.getToken(!0,!0);if(!a.isNumber()&&!a.isPercentage())return"";h+=a.value;a=this.getToken(!0,!0);if(!a.isSymbol(","))return"";h+=", ";a=this.getToken(!0,!0);if(!a.isNumber()&&!a.isPercentage())return"";h+=a.value;a=this.getToken(!0,!0);if(!a.isSymbol(","))return"";h+=", ";a=this.getToken(!0,!0);if(!a.isNumber()&&!a.isPercentage())return"";h+=a.value;if(e){a=this.getToken(!0,
!0);if(!a.isSymbol(","))return"";h+=", ";a=this.getToken(!0,!0);if(!a.isNumber())return"";h+=a.value}a=this.getToken(!0,!0);if(!a.isSymbol(")"))return"";h+=a.value}else if(a.isFunction("hsl(")||a.isFunction("hsla(")){h=a.value;e=a.isFunction("hsla(");a=this.getToken(!0,!0);if(!a.isNumber())return"";h+=a.value;a=this.getToken(!0,!0);if(!a.isSymbol(","))return"";h+=", ";a=this.getToken(!0,!0);if(!a.isPercentage())return"";h+=a.value;a=this.getToken(!0,!0);if(!a.isSymbol(","))return"";h+=", ";a=this.getToken(!0,
!0);if(!a.isPercentage())return"";h+=a.value;if(e){a=this.getToken(!0,!0);if(!a.isSymbol(","))return"";h+=", ";a=this.getToken(!0,!0);if(!a.isNumber())return"";h+=a.value}a=this.getToken(!0,!0);if(!a.isSymbol(")"))return"";h+=a.value}else if(a.isIdent()&&a.value in this.kCOLOR_NAMES)h=a.value;else if(a.isSymbol("#")){a=this.getHexValue();if(!a.isHex())return"";h=a.value.length;if(3!=h&&6!=h||a.value.match(/[a-fA-F0-9]/g).length!=h)return"";h="#"+a.value}return h},parseDeclaration:function(a,h,e,b,
g){this.preserveState();var f=[];b=!1;if(a.isIdent()){if(f=a.value.toLowerCase(),a=this.getToken(!0,!0),a.isSymbol(":")){a=this.getToken(!0,!0);var l="",k=[];if(b)switch(f){case "background":l=this.parseBackgroundShorthand(a,k,e);break;case "margin":case "padding":l=this.parseMarginOrPaddingShorthand(a,k,e,f);break;case "border-color":l=this.parseBorderColorShorthand(a,k,e);break;case "border-style":l=this.parseBorderStyleShorthand(a,k,e);break;case "border-width":l=this.parseBorderWidthShorthand(a,
k,e);break;case "border-top":case "border-right":case "border-bottom":case "border-left":case "border":case "outline":l=this.parseBorderEdgeOrOutlineShorthand(a,k,e,f);break;case "cue":l=this.parseCueShorthand(a,k,e);break;case "pause":l=this.parsePauseShorthand(a,k,e);break;case "font":l=this.parseFontShorthand(a,k,e);break;case "list-style":l=this.parseListStyleShorthand(a,k,e);break;default:l=this.parseDefaultPropertyValue(a,k,e,f,g)}else l=this.parseDefaultPropertyValue(a,k,e,f,g);a=this.currentToken();
if(l){e=!1;if(a.isSymbol("!"))if(a=this.getToken(!0,!0),a.isIdent("important"))if(e=!0,a=this.getToken(!0,!0),a.isSymbol(";")||a.isSymbol("}"))a.isSymbol("}")&&this.ungetToken();else return"";else return"";else if(a.isNotNull()&&!a.isSymbol(";")&&!a.isSymbol("}"))return"";for(a=0;a<k.length;a++)k[a].priority=e,h.push(k[a]);return f+": "+l+";"}}}else if(a.isComment())return this.mPreserveComments&&(this.forgetState(),e=new jscsspComment,e.parsedCssText=a.value,h.push(e)),a.value;this.restoreState();
f=[];for(a=this.getToken(!1,!1);a.isNotNull();){if(!a.isSymbol(";")&&!a.isSymbol("}")||f.length)a.isSymbol("{")||a.isSymbol("(")||a.isSymbol("[")||a.isFunction()?f.push(a.isFunction()?"(":a.value):(a.isSymbol("}")||a.isSymbol(")")||a.isSymbol("]"))&&f.length&&(h=f[f.length-1],(a.isSymbol("}")&&"{"==h||a.isSymbol(")")&&"("==h||a.isSymbol("]")&&"["==h)&&f.pop());else{a.isSymbol("}")&&this.ungetToken();break}a=this.getToken(!1,!1)}return""},parseKeyframesRule:function(a,h){var e=CountLF(this.mScanner.getAlreadyScanned()),
b=a.value,g=!1,f=new jscsspKeyframesRule;f.currentLine=e;this.preserveState();for(var l=this.getToken(!0,!0),k=!1;l.isNotNull();){if(l.isIdent())if(k=!0,b+=" "+l.value,f.name=l.value,l=this.getToken(!0,!0),l.isSymbol("{"))this.ungetToken();else{l.type=jscsspToken.NULL_TYPE;break}else{l.isSymbol("{")?k||(l.type=jscsspToken.NULL_TYPE):l.type=jscsspToken.NULL_TYPE;break}l=this.getToken(!0,!0)}if(l.isSymbol("{")&&f.name)for(b+=" { ",l=this.getToken(!0,!1);l.isNotNull();){if(l.isComment()&&this.mPreserveComments)b+=
" "+l.value,k=new jscsspComment,k.parsedCssText=l.value,f.cssRules.push(k);else if(l.isSymbol("}")){g=!0;break}else(l=this.parseKeyframeRule(l,f,!0))&&(b+=l);l=this.getToken(!0,!1)}if(g)return this.forgetState(),f.currentLine=e,f.parsedCssText=b,h.cssRules.push(f),!0;this.restoreState();return!1},parseKeyframeRule:function(a,h){var e=CountLF(this.mScanner.getAlreadyScanned());this.preserveState();for(var b=a,g="";b.isNotNull();){if(b.isIdent()||b.isPercentage()){if(b.isIdent()&&!b.isIdent("from")&&
!b.isIdent("to")){g="";break}g+=b.value;b=this.getToken(!0,!0);if(b.isSymbol("{")){this.ungetToken();break}else if(b.isSymbol(","))g+=", ";else{g="";break}}else{g="";break}b=this.getToken(!0,!0)}var f=!1,l=[];if(g){var k=g,b=this.getToken(!0,!0);if(b.isSymbol("{"))for(k+=" { ",b=this.getToken(!0,!1);;){if(!b.isNotNull()){f=!0;break}if(b.isSymbol("}")){k+="}";f=!0;break}else b=this.parseDeclaration(b,l,!0,!0,h),k+=(b&&l.length?" ":"")+b;b=this.getToken(!0,!1)}}if(f)return b=new jscsspKeyframeRule,
b.currentLine=e,b.parsedCssText=k,b.declarations=l,b.keyText=g,b.parentRule=h,h.cssRules.push(b),k;this.restoreState();k=this.currentToken().value;this.addUnknownAtRule(h,k);return""},parseMediaRule:function(a,h){var e=CountLF(this.mScanner.getAlreadyScanned()),b=a.value,g=!1,f=new jscsspMediaRule;f.currentLine=e;this.preserveState();for(var e=this.getToken(!0,!0),l=!1;e.isNotNull();){if(e.isIdent())if(l=!0,b+=" "+e.value,f.media.push(e.value),e=this.getToken(!0,!0),e.isSymbol(","))b+=",";else if(e.isSymbol("{"))this.ungetToken();
else{e.type=jscsspToken.NULL_TYPE;break}else if(e.isSymbol("{"))break;else if(l){e.type=jscsspToken.NULL_TYPE;break}e=this.getToken(!0,!0)}if(e.isSymbol("{")&&f.media.length)for(b+=" { ",e=this.getToken(!0,!1);e.isNotNull();){if(e.isComment()&&this.mPreserveComments)b+=" "+e.value,l=new jscsspComment,l.parsedCssText=e.value,f.cssRules.push(l);else if(e.isSymbol("}")){g=!0;break}else(e=this.parseStyleRule(e,f,!0))&&(b+=e);e=this.getToken(!0,!1)}if(g)return this.forgetState(),f.parsedCssText=b,h.cssRules.push(f),
!0;this.restoreState();return!1},trim11:function(a){a=a.replace(/^\s+/,"");for(var h=a.length-1;0<=h;h--)if(/\S/.test(a.charAt(h))){a=a.substring(0,h+1);break}return a},parseStyleRule:function(a,h,e){var b=CountLF(this.mScanner.getAlreadyScanned());this.preserveState();a=this.parseSelector(a,!1);var g=!1,f=[];if(a){var l=a=this.trim11(a.selector),k=this.getToken(!0,!0);if(k.isSymbol("{"))for(l+=" { ",k=this.getToken(!0,!1);;){if(!k.isNotNull()){g=!0;break}if(k.isSymbol("}")){l+="}";g=!0;break}else g=
this.parseDeclaration(k,f,!0,!0,h),l+=(g&&f.length?" ":"")+g;k=this.getToken(!0,!1)}}if(g)return g=new jscsspStyleRule,g.currentLine=b,g.parsedCssText=l,g.declarations=f,g.mSelectorText=a,e?g.parentRule=h:g.parentStyleSheet=h,h.cssRules.push(g),l;this.restoreState();l=this.currentToken().value;this.addUnknownAtRule(h,l);return""},parseSelector:function(a,h){for(var e="",b={a:0,b:0,c:0,d:0},g=!0,f=a,l=!1,k=!1;;){if(!f.isNotNull())return h?{selector:e,specificity:b}:"";if(!h&&f.isSymbol("{")){(l=!k)&&
this.ungetToken();break}if(f.isSymbol(","))e+=f.value,g=!0,k=!1,f=this.getToken(!1,!0);else if(!k&&(f.isWhiteSpace()||f.isSymbol(">")||f.isSymbol("+")||f.isSymbol("~"))){if(f.isWhiteSpace()){e+=" ";g=this.lookAhead(!0,!0);if(!g.isNotNull())return h?{selector:e,specificity:b}:"";if(g.isSymbol(">")||g.isSymbol("+")||g.isSymbol("~"))f=this.getToken(!0,!0),e+=f.value+" ",k=!0}else e+=f.value,k=!0;g=!0;f=this.getToken(!0,!0)}else{k=this.parseSimpleSelector(f,g,!0);if(!k)break;e+=k.selector;b.b+=k.specificity.b;
b.c+=k.specificity.c;b.d+=k.specificity.d;k=g=!1;f=this.getToken(!1,!0)}}return l?{selector:e,specificity:b}:""},isPseudoElement:function(a){switch(a){case "first-letter":case "first-line":case "before":case "after":case "marker":return!0;default:return!1}},parseSimpleSelector:function(a,h,e){var b="",g={a:0,b:0,c:0,d:0};if(h&&(a.isSymbol("*")||a.isSymbol("|")||a.isIdent()))if(a.isSymbol("*")||a.isIdent())if(b+=a.value,h=a.isIdent(),a=this.getToken(!1,!0),a.isSymbol("|"))if(b+=a.value,a=this.getToken(!1,
!0),a.isIdent()||a.isSymbol("*"))b+=a.value,a.isIdent()&&g.d++;else return null;else this.ungetToken(),h&&g.d++;else{if(a.isSymbol("|"))if(b+=a.value,a=this.getToken(!1,!0),a.isIdent()||a.isSymbol("*"))b+=a.value,a.isIdent()&&g.d++;else return null}else if(a.isSymbol(".")||a.isSymbol("#"))if(h=a.isSymbol("."),b+=a.value,a=this.getToken(!1,!0),a.isIdent())b+=a.value,h?g.c++:g.b++;else return null;else if(a.isSymbol(":"))if(b+=a.value,a=this.getToken(!1,!0),a.isSymbol(":")&&(b+=a.value,a=this.getToken(!1,
!0)),a.isIdent())b+=a.value,this.isPseudoElement(a.value)?g.d++:g.c++;else if(a.isFunction()){b+=a.value;if(a.isFunction(":not(")){if(!e)return null;a=this.getToken(!0,!0);if(a=this.parseSimpleSelector(a,h,!1))if(b+=a.selector,a=this.getToken(!0,!0),a.isSymbol(")"))b+=")";else return null;else return null}else for(;;)if(a=this.getToken(!1,!0),a.isSymbol(")")){b+=")";break}else b+=a.value;g.c++}else return null;else if(a.isSymbol("[")){b+="[";a=this.getToken(!0,!0);if(a.isIdent()||a.isSymbol("*"))if(b+=
a.value,this.getToken(!0,!0),a.isSymbol("|"))if(b+="|",a=this.getToken(!0,!0),a.isIdent())b+=a.value;else return null;else this.ungetToken();else if(a.isSymbol("|"))if(b+="|",a=this.getToken(!0,!0),a.isIdent())b+=a.value;else return null;else return null;a=this.getToken(!0,!0);if(a.isIncludes()||a.isDashmatch()||a.isBeginsmatch()||a.isEndsmatch()||a.isContainsmatch()||a.isSymbol("="))if(b+=a.value,a=this.getToken(!0,!0),a.isString()||a.isIdent())b+=a.value,a=this.getToken(!0,!0);else return null;
if(a.isSymbol("]"))b+=a.value,g.c++;else return null}else if(a.isWhiteSpace()&&this.lookAhead(!0,!0).isSymbol("{"))return"";return b?{selector:b,specificity:g}:null},preserveState:function(){this.mPreservedTokens.push(this.currentToken());this.mScanner.preserveState()},restoreState:function(){this.mPreservedTokens.length&&(this.mScanner.restoreState(),this.mToken=this.mPreservedTokens.pop())},forgetState:function(){this.mPreservedTokens.length&&(this.mScanner.forgetState(),this.mPreservedTokens.pop())},
parse:function(a,h,e){if(!a)return null;this.mPreserveWS=h;this.mPreserveComments=e;this.mPreservedTokens=[];this.mScanner.init(a);a=new jscsspStylesheet;e=this.getToken(!1,!1);if(e.isNotNull()){e.isAtRule("@charset")&&(this.parseCharsetRule(e,a),e=this.getToken(!1,!1));for(var b=!1,g=!1,f=!1;e.isNotNull();)e.isWhiteSpace()?h&&this.addWhitespace(a,e.value):e.isComment()?this.mPreserveComments&&this.addComment(a,e.value):e.isAtRule()?e.isAtRule("@variables")?g||b?(this.reportError(kVARIABLES_RULE_POSITION),
this.addUnknownAtRule(a,e.value)):this.parseVariablesRule(e,a):e.isAtRule("@import")?b||f?(this.reportError(kIMPORT_RULE_POSITION),this.addUnknownAtRule(a,e.value)):g=this.parseImportRule(e,a):e.isAtRule("@namespace")?b?(this.reportError(kNAMESPACE_RULE_POSITION),this.addUnknownAtRule(a,e.value)):f=this.parseNamespaceRule(e,a):e.isAtRule("@font-face")?this.parseFontFaceRule(e,a)?b=!0:this.addUnknownAtRule(a,e.value):e.isAtRule("@page")?this.parsePageRule(e,a)?b=!0:this.addUnknownAtRule(a,e.value):
e.isAtRule("@media")?this.parseMediaRule(e,a)?b=!0:this.addUnknownAtRule(a,e.value):e.isAtRule("@keyframes")?this.parseKeyframesRule(e,a)||this.addUnknownAtRule(a,e.value):(e.isAtRule("@charset")?this.reportError(kCHARSET_RULE_CHARSET_SOF):this.reportError(kUNKNOWN_AT_RULE),this.addUnknownAtRule(a,e.value)):this.parseStyleRule(e,a,!1)&&(b=!0),e=this.getToken(!1);return a}}};function jscsspToken(a,h,e){this.type=a;this.value=h;this.unit=e}jscsspToken.NULL_TYPE=0;jscsspToken.WHITESPACE_TYPE=1;
jscsspToken.STRING_TYPE=2;jscsspToken.COMMENT_TYPE=3;jscsspToken.NUMBER_TYPE=4;jscsspToken.IDENT_TYPE=5;jscsspToken.FUNCTION_TYPE=6;jscsspToken.ATRULE_TYPE=7;jscsspToken.INCLUDES_TYPE=8;jscsspToken.DASHMATCH_TYPE=9;jscsspToken.BEGINSMATCH_TYPE=10;jscsspToken.ENDSMATCH_TYPE=11;jscsspToken.CONTAINSMATCH_TYPE=12;jscsspToken.SYMBOL_TYPE=13;jscsspToken.DIMENSION_TYPE=14;jscsspToken.PERCENTAGE_TYPE=15;jscsspToken.HEX_TYPE=16;
jscsspToken.prototype={isNotNull:function(){return this.type},_isOfType:function(a,h){return this.type==a&&(!h||this.value.toLowerCase()==h)},isWhiteSpace:function(a){return this._isOfType(jscsspToken.WHITESPACE_TYPE,a)},isString:function(){return this._isOfType(jscsspToken.STRING_TYPE)},isComment:function(){return this._isOfType(jscsspToken.COMMENT_TYPE)},isNumber:function(a){return this._isOfType(jscsspToken.NUMBER_TYPE,a)},isSymbol:function(a){return this._isOfType(jscsspToken.SYMBOL_TYPE,a)},
isIdent:function(a){return this._isOfType(jscsspToken.IDENT_TYPE,a)},isFunction:function(a){return this._isOfType(jscsspToken.FUNCTION_TYPE,a)},isAtRule:function(a){return this._isOfType(jscsspToken.ATRULE_TYPE,a)},isIncludes:function(){return this._isOfType(jscsspToken.INCLUDES_TYPE)},isDashmatch:function(){return this._isOfType(jscsspToken.DASHMATCH_TYPE)},isBeginsmatch:function(){return this._isOfType(jscsspToken.BEGINSMATCH_TYPE)},isEndsmatch:function(){return this._isOfType(jscsspToken.ENDSMATCH_TYPE)},
isContainsmatch:function(){return this._isOfType(jscsspToken.CONTAINSMATCH_TYPE)},isSymbol:function(a){return this._isOfType(jscsspToken.SYMBOL_TYPE,a)},isDimension:function(){return this._isOfType(jscsspToken.DIMENSION_TYPE)},isPercentage:function(){return this._isOfType(jscsspToken.PERCENTAGE_TYPE)},isHex:function(){return this._isOfType(jscsspToken.HEX_TYPE)},isDimensionOfUnit:function(a){return this.isDimension()&&this.unit==a},isLength:function(){return this.isPercentage()||this.isDimensionOfUnit("cm")||
this.isDimensionOfUnit("mm")||this.isDimensionOfUnit("in")||this.isDimensionOfUnit("pc")||this.isDimensionOfUnit("px")||this.isDimensionOfUnit("em")||this.isDimensionOfUnit("ex")||this.isDimensionOfUnit("pt")},isAngle:function(){return this.isDimensionOfUnit("deg")||this.isDimensionOfUnit("rad")||this.isDimensionOfUnit("grad")}};
var kJscsspUNKNOWN_RULE=0,kJscsspSTYLE_RULE=1,kJscsspCHARSET_RULE=2,kJscsspIMPORT_RULE=3,kJscsspMEDIA_RULE=4,kJscsspFONT_FACE_RULE=5,kJscsspPAGE_RULE=6,kJscsspKEYFRAMES_RULE=7,kJscsspKEYFRAME_RULE=8,kJscsspNAMESPACE_RULE=100,kJscsspCOMMENT=101,kJscsspWHITE_SPACE=102,kJscsspVARIABLES_RULE=200,kJscsspSTYLE_DECLARATION=1E3,gTABS="";function jscsspStylesheet(){this.cssRules=[];this.variables={};this.path=null}
jscsspStylesheet.prototype={path:null,insertRule:function(a,h){try{this.cssRules.splice(h,1,a)}catch(e){}},deleteRule:function(a){try{this.cssRules.splice(a)}catch(h){}},cssText:function(){for(var a="",h=0;h<this.cssRules.length;h++)a+=this.cssRules[h].cssText()+"\n";return a},resolveVariables:function(a){for(var h=0;h<this.cssRules.length;h++){var e=this.cssRules[h];if(e.type==kJscsspSTYLE_RULE||e.type==kJscsspIMPORT_RULE)break;else{var b;if((b=e.type==kJscsspVARIABLES_RULE)&&!(b=!e.media.length))a:{b=
e.media;for(var g=0;g<b.length;g++)if(a==b[g]){b=!0;break a}b=!1}if(b)for(b=0;b<e.declarations.length;b++){for(var g="",f=0;f<e.declarations[b].values.length;f++)g+=(f?" ":"")+e.declarations[b].values[f].value;this.variables[e.declarations[b].property]=g}}}}};function jscsspCharsetRule(){this.type=kJscsspCHARSET_RULE;this.parentRule=this.parentStyleSheet=this.parsedCssText=this.encoding=null}
jscsspCharsetRule.prototype={cssText:function(){return"@charset "+this.encoding+";"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var e=a.getToken(!1,!1);if(e.isAtRule("@charset")&&a.parseCharsetRule(e,h))h=h.cssRules[0],this.encoding=h.encoding,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;}};function jscsspErrorRule(a){this.error=a?a:"INVALID";this.type=kJscsspUNKNOWN_RULE;this.parentRule=this.parentStyleSheet=this.parsedCssText=null}
jscsspErrorRule.prototype={cssText:function(){return this.parsedCssText}};function jscsspComment(){this.type=kJscsspCOMMENT;this.parentRule=this.parentStyleSheet=this.parsedCssText=null}jscsspComment.prototype={cssText:function(){return this.parsedCssText},setCssText:function(a){a=(new CSSParser(a)).getToken(!0,!1);if(a.isComment())this.parsedCssText=a.value;else throw DOMException.SYNTAX_ERR;}};
function jscsspWhitespace(){this.type=kJscsspWHITE_SPACE;this.parentRule=this.parentStyleSheet=this.parsedCssText=null}jscsspWhitespace.prototype={cssText:function(){return this.parsedCssText}};function jscsspImportRule(){this.type=kJscsspIMPORT_RULE;this.href=this.parsedCssText=null;this.media=[];this.parentRule=this.parentStyleSheet=null}
jscsspImportRule.prototype={cssText:function(){var a=this.media.join(", ");return"@import "+this.href+(a&&"all"!=a?a+" ":"")+";"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var e=a.getToken(!0,!0);if(e.isAtRule("@import")&&a.parseImportRule(e,h))h=h.cssRules[0],this.href=h.href,this.media=h.media,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;}};
function jscsspNamespaceRule(){this.type=kJscsspNAMESPACE_RULE;this.parentRule=this.parentStyleSheet=this.url=this.prefix=this.parsedCssText=null}
jscsspNamespaceRule.prototype={cssText:function(){return"@namespace "+(this.prefix?this.prefix+" ":"")+this.url+";"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var e=a.getToken(!0,!0);if(e.isAtRule("@namespace")&&a.parseNamespaceRule(e,h))h=h.cssRules[0],this.url=h.url,this.prefix=h.prefix,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;}};
function jscsspDeclaration(){this.type=kJscsspSTYLE_DECLARATION;this.property=null;this.values=[];this.parentRule=this.parentStyleSheet=this.parsedCssText=this.priority=this.valueText=null}
jscsspDeclaration.prototype={kCOMMA_SEPARATED:{cursor:!0,"font-family":!0,"voice-family":!0,"background-image":!0},kUNMODIFIED_COMMA_SEPARATED_PROPERTIES:{"text-shadow":!0,"box-shadow":!0,"-moz-transition":!0,"-moz-transition-property":!0,"-moz-transition-duration":!0,"-moz-transition-timing-function":!0,"-moz-transition-delay":!0},cssText:function(){var a=CssInspector.prefixesForProperty(this.property);if(this.property in this.kUNMODIFIED_COMMA_SEPARATED_PROPERTIES){if(a){for(var h="",e=0;e<a.length;e++)var b=
a[e],h=h+((e?gTABS:"")+b+": "),h=h+(this.valueText+(this.priority?" !important":"")+";"),h=h+(1<a.length&&e!=a.length-1?"\n":"");return h}return this.property+": "+this.valueText+(this.priority?" !important":"")+";"}if(a){h="";for(e=0;e<a.length;e++){var b=a[e],h=h+((e?gTABS:"")+b+": "),b=b in this.kCOMMA_SEPARATED?", ":" ",g=0;for(;g<this.values.length;g++)if(null!=this.values[g].cssText())h+=(g?b:"")+this.values[g].cssText();else return null;h+=(this.priority?" !important":"")+";"+(1<a.length&&
e!=a.length-1?"\n":"")}return h}h=this.property+": ";b=this.property in this.kCOMMA_SEPARATED?", ":" ";a={webkit:!1,presto:!1,trident:!1,generic:!1};for(g=0;g<this.values.length;g++){var f=this.values[g].cssText();if(null!=f){var l=f.indexOf("("),k=f;-1!=l&&(k=f.substr(0,l));if(k in kCSS_VENDOR_VALUES)for(e in kCSS_VENDOR_VALUES[k])a[e]=a[e]||""!=kCSS_VENDOR_VALUES[k][e];h+=(g?b:"")+f}else return null}h+=(this.priority?" !important":"")+";";for(e in a)if(a[e]){for(var n="\n"+gTABS+this.property+": ",
g=0;g<this.values.length;g++)if(f=this.values[g].cssText(),null!=f){l=f.indexOf("(");k=f;-1!=l&&(k=f.substr(0,l));if(k in kCSS_VENDOR_VALUES&&(functor=kCSS_VENDOR_VALUES[k][e])&&(f="string"==typeof functor?functor:functor(f,e),!f)){n=null;break}n+=(g?b:"")+f}else return null;h=n?h+(n+";"):h+("\n"+gTABS+"/* Impossible to translate property "+this.property+" for "+e+" */")}return h},setCssText:function(a){var h=[];a=new CSSParser(a);var e=a.getToken(!0,!0);if(a.parseDeclaration(e,h,!0,!0,null)&&h.length&&
h[0].type==kJscsspSTYLE_DECLARATION)h=h.cssRules[0],this.property=h.property,this.value=h.value,this.priority=h.priority,this.parsedCssText=newRule.parsedCssText;else throw DOMException.SYNTAX_ERR;}};function jscsspFontFaceRule(){this.type=kJscsspFONT_FACE_RULE;this.parsedCssText=null;this.descriptors=[];this.parentRule=this.parentStyleSheet=null}
jscsspFontFaceRule.prototype={cssText:function(){var a=gTABS+"@font-face {\n",h=gTABS;gTABS+="  ";for(var e=0;e<this.descriptors.length;e++)a+=gTABS+this.descriptors[e].cssText()+"\n";gTABS=h;return a+gTABS+"}"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var e=a.getToken(!0,!0);if(e.isAtRule("@font-face")&&a.parseFontFaceRule(e,h))h=h.cssRules[0],this.descriptors=h.descriptors,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;}};
function jscsspKeyframesRule(){this.type=kJscsspKEYFRAMES_RULE;this.parsedCssText=null;this.cssRules=[];this.parentRule=this.parentStyleSheet=this.name=null}
jscsspKeyframesRule.prototype={cssText:function(){var a=gTABS+"@keyframes "+this.name+" {\n",h=gTABS;gTABS+="  ";for(var e=0;e<this.cssRules.length;e++)a+=gTABS+this.cssRules[e].cssText()+"\n";gTABS=h;return a+=gTABS+"}\n"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var e=a.getToken(!0,!0);if(e.isAtRule("@keyframes")&&a.parseKeyframesRule(e,h))h=h.cssRules[0],this.cssRules=h.cssRules,this.name=h.name,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;}};
function jscsspKeyframeRule(){this.type=kJscsspKEYFRAME_RULE;this.parsedCssText=null;this.declarations=[];this.parentRule=this.parentStyleSheet=this.keyText=null}
jscsspKeyframeRule.prototype={cssText:function(){var a=this.keyText+" {\n",h=gTABS;gTABS+="  ";for(var e=0;e<this.declarations.length;e++)this.declarations[e].cssText()&&(a+=gTABS+this.declarations[e].cssText()+"\n");gTABS=h;return a+gTABS+"}"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var e=a.getToken(!0,!0);if(!e.isNotNull()&&a.parseKeyframeRule(e,h,!1))h=h.cssRules[0],this.keyText=h.keyText,this.declarations=h.declarations,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;
}};function jscsspMediaRule(){this.type=kJscsspMEDIA_RULE;this.parsedCssText=null;this.cssRules=[];this.media=[];this.parentRule=this.parentStyleSheet=null}
jscsspMediaRule.prototype={cssText:function(){var a=gTABS+"@media "+this.media.join(", ")+" {\n",h=gTABS;gTABS+="  ";for(var e=0;e<this.cssRules.length;e++)a+=gTABS+this.cssRules[e].cssText()+"\n";gTABS=h;return a+gTABS+"}"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var e=a.getToken(!0,!0);if(e.isAtRule("@media")&&a.parseMediaRule(e,h))h=h.cssRules[0],this.cssRules=h.cssRules,this.media=h.media,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;}};
function jscsspStyleRule(){this.type=kJscsspSTYLE_RULE;this.parsedCssText=null;this.declarations=[];this.parentRule=this.parentStyleSheet=this.mSelectorText=null}
jscsspStyleRule.prototype={cssText:function(){var a=this.mSelectorText+" {\n",h=gTABS;gTABS+="  ";for(var e=0;e<this.declarations.length;e++)this.declarations[e].cssText()&&(a+=gTABS+this.declarations[e].cssText()+"\n");gTABS=h;return a+gTABS+"}"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var e=a.getToken(!0,!0);if(!e.isNotNull()&&a.parseStyleRule(e,h,!1))h=h.cssRules[0],this.mSelectorText=h.mSelectorText,this.declarations=h.declarations,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;
},selectorText:function(){return this.mSelectorText},setSelectorText:function(a){a=new CSSParser(a);var h=a.getToken(!0,!0);if(!h.isNotNull()&&(a=a.parseSelector(h,!0))){this.mSelectorText=a.selector;return}throw DOMException.SYNTAX_ERR;}};function jscsspPageRule(){this.type=kJscsspPAGE_RULE;this.pageSelector=this.parsedCssText=null;this.declarations=[];this.parentRule=this.parentStyleSheet=null}
jscsspPageRule.prototype={cssText:function(){var a=gTABS+"@page "+(this.pageSelector?this.pageSelector+" ":"")+"{\n",h=gTABS;gTABS+="  ";for(var e=0;e<this.declarations.length;e++)a+=gTABS+this.declarations[e].cssText()+"\n";gTABS=h;return a+gTABS+"}"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var e=a.getToken(!0,!0);if(e.isAtRule("@page")&&a.parsePageRule(e,h))h=h.cssRules[0],this.pageSelector=h.pageSelector,this.declarations=h.declarations,this.parsedCssText=h.parsedCssText;
else throw DOMException.SYNTAX_ERR;}};function jscsspVariablesRule(){this.type=kJscsspVARIABLES_RULE;this.parsedCssText=null;this.declarations=[];this.media=this.parentRule=this.parentStyleSheet=null}
jscsspVariablesRule.prototype={cssText:function(){var a=gTABS+"@variables "+(this.media.length?this.media.join(", ")+" ":"")+"{\n",h=gTABS;gTABS+="  ";for(var e=0;e<this.declarations.length;e++)a+=gTABS+this.declarations[e].cssText()+"\n";gTABS=h;return a+gTABS+"}"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var e=a.getToken(!0,!0);if(e.isAtRule("@variables")&&a.parseVariablesRule(e,h))h=h.cssRules[0],this.declarations=h.declarations,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;
}};var kJscsspINHERIT_VALUE=0,kJscsspPRIMITIVE_VALUE=1,kJscsspVARIABLE_VALUE=4;function jscsspVariable(a,h){this.value="";this.type=a;this.parentRule=this.name=null;this.parentStyleSheet=h}
jscsspVariable.prototype={cssText:function(){return this.type==kJscsspVARIABLE_VALUE?this.resolveVariable(this.name,this.parentRule,this.parentStyleSheet):this.value},setCssText:function(a){if(this.type==kJscsspVARIABLE_VALUE)throw DOMException.SYNTAX_ERR;this.value=a},resolveVariable:function(a,h,e){return a.toLowerCase()in e.variables?e.variables[a.toLowerCase()]:null}};
function ParseURL(a){for(var h={protocol:"",user:"",password:"",host:"",port:"",path:"",query:""},e="PROTOCOL",b=0,g=!1;b<a.length;)if("PROTOCOL"==e)":"==a.charAt(b)?(e="AFTER_PROTOCOL",b++):"/"==a.charAt(b)&&0==h.protocol.length()?e=PATH:h.protocol+=a.charAt(b++);else if("AFTER_PROTOCOL"==e)if("/"==a.charAt(b))g?(g=!1,e="USER"):g=!0,b++;else throw new ParseException("Protocol shell be separated with 2 slashes");else"USER"==e?"/"==a.charAt(b)?(h.host=h.user,h.user="",e="PATH"):"?"==a.charAt(b)?(h.host=
h.user,h.user="",e="QUERY",b++):":"==a.charAt(b)?(e="PASSWORD",b++):"@"==a.charAt(b)?(e="HOST",b++):h.user+=a.charAt(b++):"PASSWORD"==e?"/"==a.charAt(b)?(h.host=h.user,h.port=h.password,h.user="",h.password="",e="PATH"):"?"==a.charAt(b)?(h.host=h.user,h.port=h.password,h.user="",h.password="",e="QUERY",b++):"@"==a.charAt(b)?(e="HOST",b++):h.password+=a.charAt(b++):"HOST"==e?"/"==a.charAt(b)?e="PATH":":"==a.charAt(b)?(e="PORT",b++):"?"==a.charAt(b)?(e="QUERY",b++):h.host+=a.charAt(b++):"PORT"==e?"/"==
a.charAt(b)?e="PATH":"?"==a.charAt(b)?(e="QUERY",b++):h.port+=a.charAt(b++):"PATH"==e?"?"==a.charAt(b)?(e="QUERY",b++):h.path+=a.charAt(b++):"QUERY"==e&&(h.query+=a.charAt(b++));if("PROTOCOL"==e)h.host=h.protocol,h.protocol="http";else{if("AFTER_PROTOCOL"==e)throw new ParseException("Invalid url");"USER"==e?(h.host=h.user,h.user=""):"PASSWORD"==e&&(h.host=h.user,h.port=h.password,h.user="",h.password="")}return h}function ParseException(a){this.description=a}
function CountLF(a){return(a=a.match(/\n/g))?a.length+1:1}
function FilterLinearGradientForOutput(a,h){if("generic"==h)return a.substr(5);if("webkit"==h)return a.replace(/\-moz\-/g,"-webkit-");if("webkit20110101"!=h)return"";var e=CssInspector.parseBackgroundImages(a)[0],b=!1,g="-webkit-gradient(linear, ",f="position"in e.value?e.value.position.toLowerCase():"",l="angle"in e.value?e.value.angle.toLowerCase():"";if(l){var k=l.match(/^([0-9\-\.\\+]+)([a-z]*)/),l=parseFloat(k[1]),k=k[2];switch(k){case "grad":l=90*l/100;break;case "rad":l=180*l/Math.PI}for(;0>
l;)l+=360;for(;360<=l;)l-=360}var n=[],m=[];if(""!=f)if("center"==f&&(f="center center"),n=f.split(" "),""==l&&0!=l){switch(n[0]){case "left":m.push("right");break;case "center":m.push("center");break;case "right":m.push("left");break;default:k=n[0].match(/^([0-9\-\.\\+]+)([a-z]*)/),f=parseFloat(k[0]),k=k[1],"%"==k?m.push(100-f+"%"):b=!0}if(!b)switch(n[1]){case "top":m.push("bottom");break;case "center":m.push("center");break;case "bottom":m.push("top");break;default:k=n[1].match(/^([0-9\-\.\\+]+)([a-z]*)/),
f=parseFloat(k[0]),k=k[1],"%"==k?m.push(100-f+"%"):b=!0}}else switch(l){case 0:m.push("right");m.push(n[1]);break;case 90:m.push(n[0]);m.push("top");break;case 180:m.push("left");m.push(n[1]);break;case 270:m.push(n[0]);m.push("bottom");break;default:b=!0}else switch(""==l&&(l=270),l){case 0:n=["left","center"];m=["right","center"];break;case 90:n=["center","bottom"];m=["center","top"];break;case 180:n=["right","center"];m=["left","center"];break;case 270:n=["center","top"];m=["center","bottom"];
break;default:b=!0}if(b)return"";g+=n.join(" ")+", "+m.join(" ");e.value.stops[0].position||(e.value.stops[0].position="0%");e.value.stops[e.value.stops.length-1].position||(e.value.stops[e.value.stops.length-1].position="100%");for(m=n=0;m<e.value.stops.length&&!b;m++){f=e.value.stops[m];if(f.position){if(-1==f.position.indexOf("%")){b=!0;break}}else{for(l=m+1;l<e.value.stops.length&&!e.value.stops[l].position;)l++;for(var k=parseFloat(e.value.stops[l].position)-n,p=m;p<l;p++)e.value.stops[p].position=
n+k*(p-m+1)/(l-m+1)+"%"}n=parseFloat(f.position);g+=", color-stop("+parseFloat(n)/100+", "+f.color+")"}return b?"":g+")"}
function FilterRadialGradientForOutput(a,h){if("generic"==h)return a.substr(5);if("webkit"==h)return a.replace(/\-moz\-/g,"-webkit-");if("webkit20110101"!=h)return"";var e=CssInspector.parseBackgroundImages(a)[0],b="size"in e.value?e.value.size:"";if("circle"!=("shape"in e.value?e.value.shape:"")||"farthest-corner"!=b&&"cover"!=b||!(!(2>e.value.stops.length)&&"position"in e.value.stops[0]&&e.value.stops[e.value.stops.length-1].position&&"position"in e.value.stops[0]&&e.value.stops[e.value.stops.length-
1].position))return"";for(var g=0;g<e.value.stops.length;g++){var f=e.value.stops[g];if("position"in f&&f.position&&-1==f.position.indexOf("px"))return""}var g="position"in e.value?e.value.position:"center center",b="-webkit-gradient(radial, "+(g+", "+parseFloat(e.value.stops[0].position)+", "),b=b+(g+", "+parseFloat(e.value.stops[e.value.stops.length-1].position)),l=parseFloat(e.value.stops[0].position),g=0;for(;g<e.value.stops.length;g++){f=e.value.stops[g];if(!("position"in f&&f.position)){for(var k=
g+1;k<e.value.stops.length&&!e.value.stops[k].position;)k++;for(var n=parseFloat(e.value.stops[k].position)-l,m=g;m<k;m++)e.value.stops[m].position=l+n*(m-g+1)/(k-g+1)+"px"}l=parseFloat(f.position);k=(l-parseFloat(e.value.stops[0].position))/(parseFloat(e.value.stops[e.value.stops.length-1].position)-parseFloat(e.value.stops[0].position));b+=", color-stop("+k+", "+f.color+")"}return b+")"}
function FilterRepeatingGradientForOutput(a,h){return"generic"==h?a.substr(5):"webkit"==h?a.replace(/\-moz\-/g,"-webkit-"):""};(function(a){function h(a,b,e){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:e;default:throw Error("Implement me");}}function e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function b(a){!1===K.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function g(a,e){var f=!0;return p(function(){f&&
(b(a),f=!1);return e.apply(this,arguments)},e)}function f(a,b){return function(e){return t(a.call(this,e),b)}}function l(a,b){return function(e){return this.localeData().ordinal(a.call(this,e),b)}}function k(){}function n(a,b){!1!==b&&M(a);q(this,a);this._d=new Date(+a._d)}function m(a){a=C(a);var b=a.year||0,e=a.quarter||0,f=a.month||0,g=a.week||0,k=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=+k+7*g;this._months=+f+3*e+12*b;this._data=
{};this._locale=K.localeData();this._bubble()}function p(a,b){for(var e in b)Aa.call(b,e)&&(a[e]=b[e]);Aa.call(b,"toString")&&(a.toString=b.toString);Aa.call(b,"valueOf")&&(a.valueOf=b.valueOf);return a}function q(a,b){var e,f,g;"undefined"!==typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject);"undefined"!==typeof b._i&&(a._i=b._i);"undefined"!==typeof b._f&&(a._f=b._f);"undefined"!==typeof b._l&&(a._l=b._l);"undefined"!==typeof b._strict&&(a._strict=b._strict);"undefined"!==typeof b._tzm&&
(a._tzm=b._tzm);"undefined"!==typeof b._isUTC&&(a._isUTC=b._isUTC);"undefined"!==typeof b._offset&&(a._offset=b._offset);"undefined"!==typeof b._pf&&(a._pf=b._pf);"undefined"!==typeof b._locale&&(a._locale=b._locale);if(0<ka.length)for(e in ka)f=ka[e],g=b[f],"undefined"!==typeof g&&(a[f]=g);return a}function r(a){return 0>a?Math.ceil(a):Math.floor(a)}function t(a,b,e){for(var f=""+Math.abs(a);f.length<b;)f="0"+f;return(0<=a?e?"+":"":"-")+f}function u(a,b){var e={milliseconds:0,months:0};e.months=
b.month()-a.month()+12*(b.year()-a.year());a.clone().add(e.months,"M").isAfter(b)&&--e.months;e.milliseconds=+b-+a.clone().add(e.months,"M");return e}function y(a,b){var e;b=V(b,a);a.isBefore(b)?e=u(a,b):(e=u(b,a),e.milliseconds=-e.milliseconds,e.months=-e.months);return e}function x(a,e){return function(f,g){var k;null===g||isNaN(+g)||(rb[e]||(b("moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),rb[e]=!0),k=f,f=g,g=k);k=K.duration("string"===typeof f?+f:f,
g);z(this,k,a);return this}}function z(a,b,e,f){var g=b._milliseconds,k=b._days;b=b._months;f=null==f?!0:f;g&&a._d.setTime(+a._d+g*e);k&&nb(a,"Date",v(a,"Date")+k*e);b&&ja(a,v(a,"Month")+b*e);f&&K.updateOffset(a,k||b)}function B(a){return"[object Array]"===Object.prototype.toString.call(a)}function D(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function w(a,b,e){var f=Math.min(a.length,b.length),g=Math.abs(a.length-b.length),k=0,l;for(l=0;l<f;l++)(e&&a[l]!==b[l]||
!e&&H(a[l])!==H(b[l]))&&k++;return k+g}function A(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=lb[a]||sb[b]||b}return a}function C(a){var b={},e,f;for(f in a)Aa.call(a,f)&&(e=A(f))&&(b[e]=a[f]);return b}function E(b){var e,f;if(0===b.indexOf("week"))e=7,f="day";else if(0===b.indexOf("month"))e=12,f="month";else return;K[b]=function(g,k){var l,h,m=K._locale[b],r=[];"number"===typeof g&&(k=g,g=a);h=function(a){a=K().utc().set(f,a);return m.call(K._locale,a,g||"")};if(null!=k)return h(k);for(l=
0;l<e;l++)r.push(h(l));return r}}function H(a){a=+a;var b=0;0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a));return b}function G(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function O(a,b,e){return Ra(K([a,11,31+b-e]),b,e).week}function J(a){return 0===a%4&&0!==a%100||0===a%400}function M(a){var b;a._a&&-2===a._pf.overflow&&(b=0>a._a[1]||11<a._a[1]?1:1>a._a[2]||a._a[2]>G(a._a[0],a._a[1])?2:0>a._a[3]||24<a._a[3]||24===a._a[3]&&(0!==a._a[4]||0!==a._a[5]||0!==a._a[6])?3:0>a._a[4]||59<
a._a[4]?4:0>a._a[5]||59<a._a[5]?5:0>a._a[6]||999<a._a[6]?6:-1,a._pf._overflowDayOfYear&&(0>b||2<b)&&(b=2),a._pf.overflow=b)}function L(b){null==b._isValid&&(b._isValid=!isNaN(b._d.getTime())&&0>b._pf.overflow&&!b._pf.empty&&!b._pf.invalidMonth&&!b._pf.nullInput&&!b._pf.invalidFormat&&!b._pf.userInvalidated,b._strict&&(b._isValid=b._isValid&&0===b._pf.charsLeftOver&&0===b._pf.unusedTokens.length&&b._pf.bigHour===a));return b._isValid}function P(a){return a?a.toLowerCase().replace("_","-"):a}function T(a){var b=
null;if(!Na[a]&&ga)try{b=K.locale(),require("./locale/"+a),K.locale(b)}catch(e){}return Na[a]}function V(a,b){var e,f;return b._isUTC?(e=b.clone(),f=(K.isMoment(a)||D(a)?+a:+K(a))-+e,e._d.setTime(+e._d+f),K.updateOffset(e,!1),e):K(a).local()}function R(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function Y(a){var b=a.match(va),e,f;e=0;for(f=b.length;e<f;e++)b[e]=Fa[b[e]]?Fa[b[e]]:R(b[e]);return function(g){var k="";for(e=0;e<f;e++)k+=b[e]instanceof Function?b[e].call(g,
a):b[e];return k}}function N(a,b){if(!a.isValid())return a.localeData().invalidDate();b=aa(b,a.localeData());cb[b]||(cb[b]=Y(b));return cb[b](a)}function aa(a,b){function e(a){return b.longDateFormat(a)||a}var f=5;for(fa.lastIndex=0;0<=f&&fa.test(a);)a=a.replace(fa,e),fa.lastIndex=0,--f;return a}function ca(a,b){var e=b._strict;switch(a){case "Q":return Ga;case "DDDD":return wb;case "YYYY":case "GGGG":case "gggg":return e?Bb:bb;case "Y":case "G":case "g":return ta;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return e?
ya:Ta;case "S":if(e)return Ga;case "SS":if(e)return ha;case "SSS":if(e)return wb;case "DDD":return ra;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return Ma;case "a":case "A":return b._locale._meridiemParse;case "x":return Za;case "X":return kb;case "Z":case "ZZ":return ua;case "T":return Oa;case "SSSS":return na;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return e?ha:ba;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return ba;
case "Do":return e?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:var e=RegExp,f;f=pa(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new e(f)}}function U(a){a=(a||"").match(ua)||[];a=((a[a.length-1]||[])+"").match(Ua)||["-",0,0];var b=+(60*a[1])+H(a[2]);return"+"===a[0]?-b:b}function la(a){var b,e,f=[],g;if(!a._d){g=new Date;g=a._useUTC?[g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()]:[g.getFullYear(),g.getMonth(),g.getDate()];if(a._w&&null==a._a[2]&&null==
a._a[1]){var k,l,m;k=a._w;null!=k.GG||null!=k.W||null!=k.E?(b=1,m=4,e=h(k.GG,a._a[0],Ra(K(),1,4).year),l=h(k.W,1),k=h(k.E,1)):(b=a._locale._week.dow,m=a._locale._week.doy,e=h(k.gg,a._a[0],Ra(K(),b,m).year),l=h(k.w,1),null!=k.d?(k=k.d,k<b&&++l):k=null!=k.e?k.e+b:b);var r=Ja(e,0,1).getUTCDay(),r=0===r?7:r;m=7*(l-1)+((null!=k?k:b)-b)+(b-r+(r>m?7:0)-(r<b?7:0))+1;b=0<m?e:e-1;e=0<m?m:(J(e-1)?366:365)+m;a._a[0]=b;a._dayOfYear=e}a._dayOfYear&&(e=h(a._a[0],g[0]),a._dayOfYear>(J(e)?366:365)&&(a._pf._overflowDayOfYear=
!0),e=Ja(e,0,a._dayOfYear),a._a[1]=e.getUTCMonth(),a._a[2]=e.getUTCDate());for(e=0;3>e&&null==a._a[e];++e)a._a[e]=f[e]=g[e];for(;7>e;e++)a._a[e]=f[e]=null==a._a[e]?2===e?1:0:a._a[e];24===a._a[3]&&0===a._a[4]&&0===a._a[5]&&0===a._a[6]&&(a._nextDay=!0,a._a[3]=0);a._d=(a._useUTC?Ja:Wa).apply(null,f);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+a._tzm);a._nextDay&&(a._a[3]=24)}}function Z(a){var b;a._d||(b=C(a._i),a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],la(a))}
function ma(b){if(b._f===K.ISO_8601)qa(b);else{b._a=[];b._pf.empty=!0;var e=""+b._i,f,g,k,l,h,m=e.length,r=0;k=aa(b._f,b._locale).match(va)||[];for(f=0;f<k.length;f++){l=k[f];if(g=(e.match(ca(l,b))||[])[0])h=e.substr(0,e.indexOf(g)),0<h.length&&b._pf.unusedInput.push(h),e=e.slice(e.indexOf(g)+g.length),r+=g.length;if(Fa[l]){g?b._pf.empty=!1:b._pf.unusedTokens.push(l);h=b;var n=void 0,q=h._a;switch(l){case "Q":null!=g&&(q[1]=3*(H(g)-1));break;case "M":case "MM":null!=g&&(q[1]=H(g)-1);break;case "MMM":case "MMMM":n=
h._locale.monthsParse(g,l,h._strict);null!=n?q[1]=n:h._pf.invalidMonth=g;break;case "D":case "DD":null!=g&&(q[2]=H(g));break;case "Do":null!=g&&(q[2]=H(parseInt(g.match(/\d{1,2}/)[0],10)));break;case "DDD":case "DDDD":null!=g&&(h._dayOfYear=H(g));break;case "YY":q[0]=K.parseTwoDigitYear(g);break;case "YYYY":case "YYYYY":case "YYYYYY":q[0]=H(g);break;case "a":case "A":h._isPm=h._locale.isPM(g);break;case "h":case "hh":h._pf.bigHour=!0;case "H":case "HH":q[3]=H(g);break;case "m":case "mm":q[4]=H(g);
break;case "s":case "ss":q[5]=H(g);break;case "S":case "SS":case "SSS":case "SSSS":q[6]=H(1E3*("0."+g));break;case "x":h._d=new Date(H(g));break;case "X":h._d=new Date(1E3*parseFloat(g));break;case "Z":case "ZZ":h._useUTC=!0;h._tzm=U(g);break;case "dd":case "ddd":case "dddd":n=h._locale.weekdaysParse(g);null!=n?(h._w=h._w||{},h._w.d=n):h._pf.invalidWeekday=g;break;case "w":case "ww":case "W":case "WW":case "d":case "e":case "E":l=l.substr(0,1);case "gggg":case "GGGG":case "GGGGG":l=l.substr(0,2);
g&&(h._w=h._w||{},h._w[l]=H(g));break;case "gg":case "GG":h._w=h._w||{},h._w[l]=K.parseTwoDigitYear(g)}}else b._strict&&!g&&b._pf.unusedTokens.push(l)}b._pf.charsLeftOver=m-r;0<e.length&&b._pf.unusedInput.push(e);!0===b._pf.bigHour&&12>=b._a[3]&&(b._pf.bigHour=a);b._isPm&&12>b._a[3]&&(b._a[3]+=12);!1===b._isPm&&12===b._a[3]&&(b._a[3]=0);la(b);M(b)}}function pa(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,e,f,g){return b||e||f||g})}function qa(a){var b,e,f=a._i,g=xb.exec(f);
if(g){a._pf.iso=!0;b=0;for(e=Va.length;b<e;b++)if(Va[b][1].exec(f)){a._f=Va[b][0]+(g[6]||" ");break}b=0;for(e=Ea.length;b<e;b++)if(Ea[b][1].exec(f)){a._f+=Ea[b][0];break}f.match(ua)&&(a._f+="Z");ma(a)}else a._isValid=!1}function Xa(a){qa(a);!1===a._isValid&&(delete a._isValid,K.createFromInputFallback(a))}function ia(a,b){var e=[],f;for(f=0;f<a.length;++f)e.push(b(a[f],f));return e}function Qa(b){var e=b._i,f;e===a?b._d=new Date:D(e)?b._d=new Date(+e):null!==(f=ea.exec(e))?b._d=new Date(+f[1]):"string"===
typeof e?Xa(b):B(e)?(b._a=ia(e.slice(0),function(a){return parseInt(a,10)}),la(b)):"object"===typeof e?Z(b):"number"===typeof e?b._d=new Date(e):K.createFromInputFallback(b)}function Wa(a,b,e,f,g,k,l){b=new Date(a,b,e,f,g,k,l);1970>a&&b.setFullYear(a);return b}function Ja(a){var b=new Date(Date.UTC.apply(null,arguments));1970>a&&b.setUTCFullYear(a);return b}function eb(a,b,e,f,g){return g.relativeTime(b||1,!!e,a,f)}function Ra(a,b,e){b=e-b;e-=a.day();e>b&&(e-=7);e<b-7&&(e+=7);a=K(a).add(e,"d");return{week:Math.ceil(a.dayOfYear()/
7),year:a.year()}}function vb(b){var f=b._i,g=b._f;b._locale=b._locale||K.localeData(b._l);if(null===f||g===a&&""===f)return K.invalid({nullInput:!0});"string"===typeof f&&(b._i=f=b._locale.preparse(f));if(K.isMoment(f))return new n(f,!0);if(g)if(B(g)){var k,l,h;if(0===b._f.length)b._pf.invalidFormat=!0,b._d=new Date(NaN);else{for(f=0;f<b._f.length;f++)if(g=0,k=q({},b),null!=b._useUTC&&(k._useUTC=b._useUTC),k._pf=e(),k._f=b._f[f],ma(k),L(k)&&(g+=k._pf.charsLeftOver,g+=10*k._pf.unusedTokens.length,
k._pf.score=g,null==h||g<h))h=g,l=k;p(b,l||k)}}else ma(b);else Qa(b);b=new n(b);b._nextDay&&(b.add(1,"d"),b._nextDay=a);return b}function jb(a,b){var e,f;1===b.length&&B(b[0])&&(b=b[0]);if(!b.length)return K();e=b[0];for(f=1;f<b.length;++f)b[f][a](e)&&(e=b[f]);return e}function ja(a,b){var e;if("string"===typeof b&&(b=a.localeData().monthsParse(b),"number"!==typeof b))return a;e=Math.min(a.date(),G(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,e);return a}function v(a,b){return a._d["get"+
(a._isUTC?"UTC":"")+b]()}function nb(a,b,e){return"Month"===b?ja(a,e):a._d["set"+(a._isUTC?"UTC":"")+b](e)}function Ba(a,b){return function(e){return null!=e?(nb(this,a,e),K.updateOffset(this,b),this):v(this,a)}}function da(a){K.duration.fn[a]=function(){return this._data[a]}}function Sa(a){"undefined"===typeof ender&&(Hb=Ya.moment,Ya.moment=a?g("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",K):K)}for(var K,Ya="undefined"!==typeof global?global:
this,Hb,za=Math.round,Aa=Object.prototype.hasOwnProperty,X,Na={},ka=[],ga="undefined"!==typeof module&&module&&module.exports,ea=/^\/?Date\((\-?\d+)/i,wa=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Q=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,va=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,
fa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ba=/\d\d?/,ra=/\d{1,3}/,bb=/\d{1,4}/,Ta=/[+\-]?\d{1,6}/,na=/\d+/,Ma=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ua=/Z|[\+\-]\d\d:?\d\d/gi,Oa=/T/i,Za=/[\+\-]?\d+/,kb=/[\+\-]?\d+(\.\d{1,3})?/,Ga=/\d/,ha=/\d\d/,wb=/\d{3}/,Bb=/\d{4}/,ya=/[+-]?\d{6}/,ta=/[+-]?\d+/,xb=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
Va=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Ea=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ua=/([\+\-]|\d\d)/gi,db={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},lb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",
M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},sb={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},cb={},Ca={s:45,m:45,h:22,d:26,M:11},Ha="DDD w W M D d".split(" "),$a="MDHhmswW".split(""),Fa={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},
DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return t(this.year()%100,2)},YYYY:function(){return t(this.year(),4)},YYYYY:function(){return t(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":
"-")+t(Math.abs(a),6)},gg:function(){return t(this.weekYear()%100,2)},gggg:function(){return t(this.weekYear(),4)},ggggg:function(){return t(this.weekYear(),5)},GG:function(){return t(this.isoWeekYear()%100,2)},GGGG:function(){return t(this.isoWeekYear(),4)},GGGGG:function(){return t(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),
this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return H(this.milliseconds()/100)},SS:function(){return t(H(this.milliseconds()/10),2)},SSS:function(){return t(this.milliseconds(),3)},SSSS:function(){return t(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+t(H(a/60),2)+":"+t(H(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";0>
a&&(a=-a,b="-");return b+t(H(a/60),2)+t(H(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},rb={},rc=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Ha.length;)X=Ha.pop(),Fa[X+"o"]=l(Fa[X],X);for(;$a.length;)X=$a.pop(),Fa[X+X]=f(Fa[X],2);Fa.DDDD=f(Fa.DDD,3);p(k.prototype,{set:function(a){var b,e;for(e in a)b=a[e],"function"===typeof b?this[e]=
b:this["_"+e]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,e){var f,g;this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=
[]);for(f=0;12>f;f++)if(g=K.utc([2E3,f]),e&&!this._longMonthsParse[f]&&(this._longMonthsParse[f]=new RegExp("^"+this.months(g,"").replace(".","")+"$","i"),this._shortMonthsParse[f]=new RegExp("^"+this.monthsShort(g,"").replace(".","")+"$","i")),e||this._monthsParse[f]||(g="^"+this.months(g,"")+"|^"+this.monthsShort(g,""),this._monthsParse[f]=new RegExp(g.replace(".",""),"i")),e&&"MMMM"===b&&this._longMonthsParse[f].test(a)||e&&"MMM"===b&&this._shortMonthsParse[f].test(a)||!e&&this._monthsParse[f].test(a))return f},
_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,e;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(e=K([2E3,1]).day(b),
e="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[b]=new RegExp(e.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),
this._longDateFormat[a]=b);return b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,e){return 11<a?e?"pm":"PM":e?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b,e){a=this._calendar[a];return"function"===typeof a?a.apply(b,[e]):a},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",
m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,e,f){var g=this._relativeTime[e];return"function"===typeof g?g(a,b,e,f):g.replace(/%d/i,a)},pastFuture:function(a,b){var e=this._relativeTime[0<a?"future":"past"];return"function"===typeof e?e(b):e.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},
week:function(a){return Ra(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});K=function(b,f,g,k){var l;"boolean"===typeof g&&(k=g,g=a);l={_isAMomentObject:!0};l._i=b;l._f=f;l._l=g;l._strict=k;l._isUTC=!1;l._pf=e();return vb(l)};K.suppressDeprecationWarnings=!1;K.createFromInputFallback=g("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",
function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});K.min=function(){var a=[].slice.call(arguments,0);return jb("isBefore",a)};K.max=function(){var a=[].slice.call(arguments,0);return jb("isAfter",a)};K.utc=function(b,f,g,k){var l;"boolean"===typeof g&&(k=g,g=a);l={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0};l._l=g;l._i=b;l._f=f;l._strict=k;l._pf=e();return vb(l).utc()};K.unix=function(a){return K(1E3*a)};K.duration=function(a,b){var e=a,f=null,g;K.isDuration(a)?e={ms:a._milliseconds,d:a._days,
M:a._months}:"number"===typeof a?(e={},b?e[b]=a:e.milliseconds=a):(f=wa.exec(a))?(g="-"===f[1]?-1:1,e={y:0,d:H(f[2])*g,h:H(f[3])*g,m:H(f[4])*g,s:H(f[5])*g,ms:H(f[6])*g}):(f=Q.exec(a))?(g="-"===f[1]?-1:1,e=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*g},e={y:e(f[2]),M:e(f[3]),d:e(f[4]),h:e(f[5]),m:e(f[6]),s:e(f[7]),w:e(f[8])}):"object"===typeof e&&("from"in e||"to"in e)&&(f=y(K(e.from),K(e.to)),e={},e.ms=f.milliseconds,e.M=f.months);e=new m(e);K.isDuration(a)&&Aa.call(a,"_locale")&&
(e._locale=a._locale);return e};K.version="2.8.4";K.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";K.ISO_8601=function(){};K.momentProperties=ka;K.updateOffset=function(){};K.relativeTimeThreshold=function(b,e){if(Ca[b]===a)return!1;if(e===a)return Ca[b];Ca[b]=e;return!0};K.lang=g("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return K.locale(a,b)});K.locale=function(a,b){var e;a&&(e="undefined"!==typeof b?K.defineLocale(a,b):K.localeData(a))&&(K.duration._locale=K._locale=e);return K._locale._abbr};
K.defineLocale=function(a,b){if(null!==b)return b.abbr=a,Na[a]||(Na[a]=new k),Na[a].set(b),K.locale(a),Na[a];delete Na[a];return null};K.langData=g("moment.langData is deprecated. Use moment.localeData instead.",function(a){return K.localeData(a)});K.localeData=function(a){var b;a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr);if(!a)return K._locale;if(!B(a)){if(b=T(a))return b;a=[a]}a:{b=0;for(var e,f,g,k;b<a.length;){k=P(a[b]).split("-");e=k.length;for(f=(f=P(a[b+1]))?f.split("-"):null;0<e;){if(g=
T(k.slice(0,e).join("-"))){a=g;break a}if(f&&f.length>=e&&w(k,f,!0)>=e-1)break;e--}b++}a=null}return a};K.isMoment=function(a){return a instanceof n||null!=a&&Aa.call(a,"_isAMomentObject")};K.isDuration=function(a){return a instanceof m};for(X=rc.length-1;0<=X;--X)E(rc[X]);K.normalizeUnits=function(a){return A(a)};K.invalid=function(a){var b=K.utc(NaN);null!=a?p(b._pf,a):b._pf.userInvalidated=!0;return b};K.parseZone=function(){return K.apply(null,arguments).parseZone()};K.parseTwoDigitYear=function(a){return H(a)+
(68<H(a)?1900:2E3)};p(K.fn=n.prototype,{clone:function(){return K(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=K(this).utc();return 0<a.year()&&9999>=a.year()?"function"===typeof Date.prototype.toISOString?this.toDate().toISOString():N(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):
N(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return L(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<w(this._a,(this._isUTC?K.utc(this._a):K(this._a)).toArray()):!1},parsingFlags:function(){return p({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.zone(0,a)},local:function(a){this._isUTC&&(this.zone(0,
a),this._isUTC=!1,a&&this.add(this._dateTzOffset(),"m"));return this},format:function(a){a=N(this,a||K.defaultFormat);return this.localeData().postformat(a)},add:x(1,"add"),subtract:x(-1,"subtract"),diff:function(a,b,e){a=V(a,this);var f=6E4*(this.zone()-a.zone()),g,k;b=A(b);"year"===b||"month"===b?(g=432E5*(this.daysInMonth()+a.daysInMonth()),f=12*(this.year()-a.year())+(this.month()-a.month()),k=this-K(this).startOf("month")-(a-K(a).startOf("month")),k-=6E4*(this.zone()-K(this).startOf("month").zone()-
(a.zone()-K(a).startOf("month").zone())),f+=k/g,"year"===b&&(f/=12)):(g=this-a,f="second"===b?g/1E3:"minute"===b?g/6E4:"hour"===b?g/36E5:"day"===b?(g-f)/864E5:"week"===b?(g-f)/6048E5:g);return e?f:r(f)},from:function(a,b){return K.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(K(),a)},calendar:function(a){a=a||K();var b=V(a,this).startOf("day"),b=this.diff(b,"days",!0),b=-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":
7>b?"nextWeek":"sameElse";return this.format(this.localeData().calendar(b,this,K(a)))},isLeapYear:function(){return J(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a){a:{var e=this.localeData();if("string"===typeof a)if(isNaN(a)){if(a=e.weekdaysParse(a),"number"!==typeof a){a=null;break a}}else a=parseInt(a,10)}return this.add(a-b,"d")}return b},
month:Ba("Month",!0),startOf:function(a){a=A(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1);"quarter"===a&&this.month(3*Math.floor(this.month()/3));return this},endOf:function(b){b=A(b);return b===a||"millisecond"===b?this:this.startOf(b).add(1,"isoWeek"===b?"week":
b).subtract(1,"ms")},isAfter:function(a,b){b=A("undefined"!==typeof b?b:"millisecond");return"millisecond"===b?(a=K.isMoment(a)?a:K(a),+this>+a):(K.isMoment(a)?+a:+K(a))<+this.clone().startOf(b)},isBefore:function(a,b){var e;b=A("undefined"!==typeof b?b:"millisecond");if("millisecond"===b)return a=K.isMoment(a)?a:K(a),+this<+a;e=K.isMoment(a)?+a:+K(a);return+this.clone().endOf(b)<e},isSame:function(a,b){var e;b=A(b||"millisecond");if("millisecond"===b)return a=K.isMoment(a)?a:K(a),+this===+a;e=+K(a);
return+this.clone().startOf(b)<=e&&e<=+this.clone().endOf(b)},min:g("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){a=K.apply(null,arguments);return a<this?this:a}),max:g("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){a=K.apply(null,arguments);return a>this?this:a}),zone:function(a,b){var e=this._offset||0,f;if(null!=a)"string"===typeof a&&(a=U(a)),16>Math.abs(a)&&(a*=60),
!this._isUTC&&b&&(f=this._dateTzOffset()),this._offset=a,this._isUTC=!0,null!=f&&this.subtract(f,"m"),e!==a&&(!b||this._changeInProgress?z(this,K.duration(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,K.updateOffset(this,!0),this._changeInProgress=null));else return this._isUTC?e:this._dateTzOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){this._tzm?this.zone(this._tzm):
"string"===typeof this._i&&this.zone(this._i);return this},hasAlignedHourOffset:function(a){a=a?K(a).zone():0;return 0===(this.zone()-a)%60},daysInMonth:function(){return G(this.year(),this.month())},dayOfYear:function(a){var b=za((K(this).startOf("day")-K(this).startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=Ra(this,this.localeData()._week.dow,this.localeData()._week.doy).year;
return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=Ra(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=Ra(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return O(this.year(),
1,4)},weeksInYear:function(){var a=this.localeData()._week;return O(this.year(),a.dow,a.doy)},get:function(a){a=A(a);return this[a]()},set:function(a,b){a=A(a);if("function"===typeof this[a])this[a](b);return this},locale:function(b){if(b===a)return this._locale._abbr;b=K.localeData(b);null!=b&&(this._locale=b);return this},lang:g("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return b===
a?this.localeData():this.locale(b)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}});K.fn.millisecond=K.fn.milliseconds=Ba("Milliseconds",!1);K.fn.second=K.fn.seconds=Ba("Seconds",!1);K.fn.minute=K.fn.minutes=Ba("Minutes",!1);K.fn.hour=K.fn.hours=Ba("Hours",!0);K.fn.date=Ba("Date",!0);K.fn.dates=g("dates accessor is deprecated. Use date instead.",Ba("Date",!0));K.fn.year=Ba("FullYear",!0);K.fn.years=g("years accessor is deprecated. Use year instead.",
Ba("FullYear",!0));K.fn.days=K.fn.day;K.fn.months=K.fn.month;K.fn.weeks=K.fn.week;K.fn.isoWeeks=K.fn.isoWeek;K.fn.quarters=K.fn.quarter;K.fn.toJSON=K.fn.toISOString;p(K.duration.fn=m.prototype,{_bubble:function(){var a=this._milliseconds,b=this._days,e=this._months,f=this._data,g=0;f.milliseconds=a%1E3;a=r(a/1E3);f.seconds=a%60;a=r(a/60);f.minutes=a%60;a=r(a/60);f.hours=a%24;b+=r(a/24);g=r(400*b/146097);b-=r(146097*g/400);e+=r(b/30);b%=30;g+=r(e/12);f.days=b;f.months=e%12;f.years=g},abs:function(){this._milliseconds=
Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this},weeks:function(){return r(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+
this._months%12*2592E6+31536E6*H(this._months/12)},humanize:function(a){var b;b=!a;var e=this.localeData(),f=K.duration(this).abs(),g=za(f.as("s")),k=za(f.as("m")),l=za(f.as("h")),h=za(f.as("d")),m=za(f.as("M")),f=za(f.as("y")),g=g<Ca.s&&["s",g]||1===k&&["m"]||k<Ca.m&&["mm",k]||1===l&&["h"]||l<Ca.h&&["hh",l]||1===h&&["d"]||h<Ca.d&&["dd",h]||1===m&&["M"]||m<Ca.M&&["MM",m]||1===f&&["y"]||["yy",f];g[2]=b;g[3]=0<+this;g[4]=e;b=eb.apply({},g);a&&(b=this.localeData().pastFuture(+this,b));return this.localeData().postformat(b)},
add:function(a,b){var e=K.duration(a,b);this._milliseconds+=e._milliseconds;this._days+=e._days;this._months+=e._months;this._bubble();return this},subtract:function(a,b){var e=K.duration(a,b);this._milliseconds-=e._milliseconds;this._days-=e._days;this._months-=e._months;this._bubble();return this},get:function(a){a=A(a);return this[a.toLowerCase()+"s"]()},as:function(a){var b;a=A(a);if("month"===a||"year"===a)return b=this._days+this._milliseconds/864E5,b=this._months+400*b/146097*12,"month"===
a?b:b/12;b=this._days+Math.round(this._months/12*146097/400);switch(a){case "week":return b/7+this._milliseconds/6048E5;case "day":return b+this._milliseconds/864E5;case "hour":return 24*b+this._milliseconds/36E5;case "minute":return 1440*b+this._milliseconds/6E4;case "second":return 86400*b+this._milliseconds/1E3;case "millisecond":return Math.floor(864E5*b)+this._milliseconds;default:throw Error("Unknown unit "+a);}},lang:K.fn.lang,locale:K.fn.locale,toIsoString:g("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",
function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),e=Math.abs(this.days()),f=Math.abs(this.hours()),g=Math.abs(this.minutes()),k=Math.abs(this.seconds()+this.milliseconds()/1E3);return this.asSeconds()?(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(e?e+"D":"")+(f||g||k?"T":"")+(f?f+"H":"")+(g?g+"M":"")+(k?k+"S":""):"P0D"},localeData:function(){return this._locale}});K.duration.fn.toString=K.duration.fn.toISOString;for(X in db)Aa.call(db,
X)&&da(X.toLowerCase());K.duration.fn.asMilliseconds=function(){return this.as("ms")};K.duration.fn.asSeconds=function(){return this.as("s")};K.duration.fn.asMinutes=function(){return this.as("m")};K.duration.fn.asHours=function(){return this.as("h")};K.duration.fn.asDays=function(){return this.as("d")};K.duration.fn.asWeeks=function(){return this.as("weeks")};K.duration.fn.asMonths=function(){return this.as("M")};K.duration.fn.asYears=function(){return this.as("y")};K.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,
ordinal:function(a){var b=a%10,b=1===H(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});Sa();ga?module.exports=K:"function"===typeof define&&define.amd?(define("moment",function(a,b,e){e.config&&e.config()&&!0===e.config().noGlobal&&(Ya.moment=Hb);return K}),Sa(!0)):Sa()}).call(this);(function e$$0(h,e,b){function g(k,l){if(!e[k]){if(!h[k]){var m="function"==typeof require&&require;if(!l&&m)return m(k,!0);if(f)return f(k,!0);m=Error("Cannot find module '"+k+"'");throw m.code="MODULE_NOT_FOUND",m;}m=e[k]={exports:{}};h[k][0].call(m.exports,function(b){var e=h[k][1][b];return g(e?e:b)},m,m.exports,e$$0,h,e,b)}return e[k].exports}for(var f="function"==typeof require&&require,l=0;l<b.length;l++)g(b[l]);return g})({1:[function(a,h,e){window.micromatch=a("micromatch");window.mm=window.micromatch},
{micromatch:30}],2:[function(a,h,e){var b=a("arr-flatten"),g=[].slice;h.exports=function(a,e){var k=arguments.length,h=a.length,m=-1,p=[];if(1===k)return a;for(2<k&&(e=b(g.call(arguments,1)));++m<h;)~e.indexOf(a[m])||p.push(a[m]);return p}},{"arr-flatten":3}],3:[function(a,h,e){function b(a,e){for(var l=a.length,k=-1;l--;){var h=a[++k];Array.isArray(h)?b(h,e):e.push(h)}return e}h.exports=function(a){return b(a,[])}},{}],4:[function(a,h,e){h.exports=function(a){if(!Array.isArray(a))throw new TypeError("array-unique expects an array.");
for(var e=a.length,f=-1;f++<e;)for(var l=f+1;l<a.length;++l)a[f]===a[l]&&a.splice(l--,1);return a}},{}],5:[function(a,h,e){function b(a,b,e){for(var f=[],l=b;l<e;l+=3)b=(a[l]<<16)+(a[l+1]<<8)+a[l+2],f.push(g[b>>18&63]+g[b>>12&63]+g[b>>6&63]+g[b&63]);return f.join("")}e.toByteArray=function(a){var b,e,g,h,r;b=a.length;if(0<b%4)throw Error("Invalid string. Length must be a multiple of 4");h="="===a[b-2]?2:"="===a[b-1]?1:0;r=new l(3*b/4-h);e=0<h?b-4:b;var t=0;for(b=0;b<e;b+=4)g=f[a.charCodeAt(b)]<<18|
f[a.charCodeAt(b+1)]<<12|f[a.charCodeAt(b+2)]<<6|f[a.charCodeAt(b+3)],r[t++]=g>>16&255,r[t++]=g>>8&255,r[t++]=g&255;2===h?(g=f[a.charCodeAt(b)]<<2|f[a.charCodeAt(b+1)]>>4,r[t++]=g&255):1===h&&(g=f[a.charCodeAt(b)]<<10|f[a.charCodeAt(b+1)]<<4|f[a.charCodeAt(b+2)]>>2,r[t++]=g>>8&255,r[t++]=g&255);return r};e.fromByteArray=function(a){for(var e=a.length,f=e%3,l="",h=[],r=0,t=e-f;r<t;r+=16383)h.push(b(a,r,r+16383>t?t:r+16383));1===f?(a=a[e-1],l+=g[a>>2],l+=g[a<<4&63],l+="=="):2===f&&(a=(a[e-2]<<8)+a[e-
1],l+=g[a>>10],l+=g[a>>4&63],l+=g[a<<2&63],l+="=");h.push(l);return h.join("")};var g=[],f=[],l="undefined"!==typeof Uint8Array?Uint8Array:Array;(function(){for(var a=0;64>a;++a)g[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a],f["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(a)]=a;f[45]=62;f[95]=63})()},{}],6:[function(a,h,e){function b(a,e,h){if(""===a)return[];Array.isArray(e)||(h=e,e=[]);h=h||{};e=e||[];"undefined"===typeof h.nodupes&&(h.nodupes=
!0);var p=h.fn,w;"function"===typeof h&&(p=h,h={});y instanceof RegExp||(y=/\${|( (?=[{,}])|(?=[{,}]) )|{}|{,}|\\,(?=.*[{}])|\/\.(?=.*[{}])|\\\.(?={)|\\{|\\}/);switch((a.match(y)||[])[0]){case "\\,":return m(a,e,h);case "\\.":return k(a,e,h);case "/.":return n(a,e,h);case " ":a=a.split(" ");e=a.length;h=[];for(w=0;e--;)h.push.apply(h,b(a[w++]));return h;case "{,}":e=h;w=b;"function"===typeof e&&(w=e,e=null);e=e||{};h=0;a=a.split("{,}");if(e.nodupes)a=w(a.join(""),e);else{h=a.length-1;a=w(a.join("__ESC_EXP__"),
e);w=a.length;for(var A=[],p=0;w--;){var C=a[p++];if(-1===C.indexOf("__ESC_EXP__"))A.push(C);else if((C=C.split("__ESC_EXP__").join(""))&&!1!==e.nodupes)A.push(C);else{var E=Math.pow(2,h);A.push.apply(A,r(C,E))}}a=A}return a;case "{}":return b(a.split("{}").join("\\{\\}"),e,h);case "\\{":case "\\}":return l(a,e,h);case "${":if(/\{[^{]+\{/.test(a))w=!0,a=t.before(a,/\$\{([^}]+)\}/);else return e.concat(a)}u instanceof RegExp||(u=/.*(\\?\{([^}]+)\})/);C=u.exec(a);if(null==C)return[a];A=C[1];C=C[2];
if(""===C)return[a];if(-1!==C.indexOf(".."))p=q(C,h,p)||C.split(","),C=p.length;else{if('"'===C[0]||"'"===C[0])return e.concat(a.split(/['"]/).join(""));p=C.split(",");if(h.makeRe)return b(a.replace(A,g(p,"|")),h);C=p.length;1===C&&h.bash&&(p[0]=g(p[0],"\\"))}for(var E=p.length,H=0,G;E--;){var O=p[H++];if(/(\.[^.\/])/.test(O))return 1<C?p:[a];G=a;var J=A,M=G.indexOf(J);G=G.substr(0,M)+O+G.substr(M+J.length);/\{[^{}]+?\}/.test(G)?e=b(G,e,h):""===G||h.nodupes&&-1!==e.indexOf(G)||e.push(w?t.after(G):
G)}if(h.strict){a=e;e=f;if(null==a)a=[];else{if("function"!==typeof e)throw new TypeError("braces: filter expects a callback function.");h=a.length;w=a.slice();for(A=0;h--;)e(a[h],A++)||w.splice(h,1);a=w}return a}return e}function g(a,b){if("|"===b)return"("+a.join(b)+")";if(","===b)return"{"+a.join(b)+"}";if("-"===b)return"["+a.join(b)+"]";if("\\"===b)return"\\{"+a+"\\}"}function f(a){return!!a&&"\\"!==a}function l(a,e,f){return/\{[^{]+\{/.test(a)?(a=a.split("\\{").join("__LT_BRACE__"),a=a.split("\\}").join("__RT_BRACE__"),
p(b(a,e,f),function(a){a=a.split("__LT_BRACE__").join("{");return a.split("__RT_BRACE__").join("}")})):e.concat(a.split("\\").join(""))}function k(a,e,f){return/[^\\]\..+\\\./.test(a)?(a=a.split("\\.").join("__ESC_DOT__"),p(b(a,e,f),function(a){return a.split("__ESC_DOT__").join(".")})):e.concat(a.split("\\").join(""))}function n(a,e,f){a=a.split("/.").join("__ESC_PATH__");return p(b(a,e,f),function(a){return a.split("__ESC_PATH__").join("/.")})}function m(a,e,f){return/\w,/.test(a)?(a=a.split("\\,").join("__ESC_COMMA__"),
p(b(a,e,f),function(a){return a.split("__ESC_COMMA__").join(",")})):e.concat(a.split("\\").join(""))}function p(a,b){if(null==a)return[];for(var e=a.length,f=Array(e),g=-1;++g<e;)f[g]=b(a[g],g,a);return f}var q=a("expand-range"),r=a("repeat-element"),t=a("preserve");h.exports=function(a,e){if("string"!==typeof a)throw Error("braces expects a string");return b(a,e)};var u,y},{"expand-range":9,preserve:39,"repeat-element":43}],7:[function(a,h,e){(function(b){function g(){try{var a=new Uint8Array(1);
a.foo=function(){return 42};return 42===a.foo()&&"function"===typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(b){return!1}}function f(a,b){if((l.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<b)throw new RangeError("Invalid typed array length");l.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=l.prototype):(null===a&&(a=new l(b)),a.length=b);return a}function l(a,b,e){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(a,b,e);if("number"===typeof a){if("string"===typeof b)throw Error("If encoding is specified then the first argument must be a string");
return m(this,a)}return k(this,a,b,e)}function k(a,b,e,g){if("number"===typeof b)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&b instanceof ArrayBuffer){b.byteLength;if(0>e||b.byteLength<e)throw new RangeError("'offset' is out of bounds");if(b.byteLength<e+(g||0))throw new RangeError("'length' is out of bounds");b=void 0===g?new Uint8Array(b,e):new Uint8Array(b,e,g);l.TYPED_ARRAY_SUPPORT?(a=b,a.__proto__=l.prototype):a=p(a,b);return a}if("string"===
typeof b){g=a;if("string"!==typeof e||""===e)e="utf8";if(!l.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');a=t(b,e)|0;g=f(g,a);g.write(b,e);return g}return q(a,b)}function h(a){if("number"!==typeof a)throw new TypeError('"size" argument must be a number');}function m(a,b){h(b);a=f(a,0>b?0:r(b)|0);if(!l.TYPED_ARRAY_SUPPORT)for(var e=0;e<b;e++)a[e]=0;return a}function p(a,b){var e=r(b.length)|0;a=f(a,e);for(var g=0;g<e;g+=1)a[g]=b[g]&255;return a}function q(a,b){if(l.isBuffer(b)){var e=
r(b.length)|0;a=f(a,e);if(0===a.length)return a;b.copy(a,0,0,e);return a}if(b){if("undefined"!==typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return(e="number"!==typeof b.length)||(e=b.length,e=e!==e),e?f(a,0):p(a,b);if("Buffer"===b.type&&T(b.data))return p(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function r(a){if(a>=(l.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+
(l.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return a|0}function t(a,b){if(l.isBuffer(a))return a.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!==typeof a&&(a=""+a);var e=a.length;if(0===e)return 0;for(var f=!1;;)switch(b){case "ascii":case "binary":case "raw":case "raws":return e;case "utf8":case "utf-8":case void 0:return O(a).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*
e;case "hex":return e>>>1;case "base64":return L.toByteArray(G(a)).length;default:if(f)return O(a).length;b=(""+b).toLowerCase();f=!0}}function u(a,b,e){var f=!1;if(void 0===b||0>b)b=0;if(b>this.length)return"";if(void 0===e||e>this.length)e=this.length;if(0>=e)return"";e>>>=0;b>>>=0;if(e<=b)return"";for(a||(a="utf8");;)switch(a){case "hex":a=b;b=this.length;if(!a||0>a)a=0;if(!e||0>e||e>b)e=b;for(b="";a<e;a++)f=this[a],f=16>f?"0"+f.toString(16):f.toString(16),b+=f;return b;case "utf8":case "utf-8":return z(this,
b,e);case "ascii":a=b;b="";for(e=Math.min(this.length,e);a<e;a++)b+=String.fromCharCode(this[a]&127);return b;case "binary":a=b;b="";for(e=Math.min(this.length,e);a<e;a++)b+=String.fromCharCode(this[a]);return b;case "base64":return a=b,e=0===a&&e===this.length?L.fromByteArray(this):L.fromByteArray(this.slice(a,e)),e;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":e=this.slice(b,e);a="";for(b=0;b<e.length;b+=2)a+=String.fromCharCode(e[b]+256*e[b+1]);return a;default:if(f)throw new TypeError("Unknown encoding: "+
a);a=(a+"").toLowerCase();f=!0}}function y(a,b,e){var f=a[b];a[b]=a[e];a[e]=f}function x(a,b,e,f){function g(a,b){return 1===k?a[b]:a.readUInt16BE(b*k)}var k=1,l=a.length,h=b.length;if(void 0!==f&&(f=String(f).toLowerCase(),"ucs2"===f||"ucs-2"===f||"utf16le"===f||"utf-16le"===f)){if(2>a.length||2>b.length)return-1;k=2;l/=2;h/=2;e/=2}f=-1;for(var m=0;e+m<l;m++)if(g(a,e+m)===g(b,-1===f?0:m-f)){if(-1===f&&(f=m),m-f+1===h)return(e+f)*k}else-1!==f&&(m-=m-f),f=-1;return-1}function z(a,b,e){e=Math.min(a.length,
e);for(var f=[];b<e;){var g=a[b],k=null,l=239<g?4:223<g?3:191<g?2:1;if(b+l<=e){var h,m,r;switch(l){case 1:128>g&&(k=g);break;case 2:h=a[b+1];128===(h&192)&&(g=(g&31)<<6|h&63,127<g&&(k=g));break;case 3:h=a[b+1];m=a[b+2];128===(h&192)&&128===(m&192)&&(g=(g&15)<<12|(h&63)<<6|m&63,2047<g&&(55296>g||57343<g)&&(k=g));break;case 4:h=a[b+1],m=a[b+2],r=a[b+3],128===(h&192)&&128===(m&192)&&128===(r&192)&&(g=(g&15)<<18|(h&63)<<12|(m&63)<<6|r&63,65535<g&&1114112>g&&(k=g))}}null===k?(k=65533,l=1):65535<k&&(k-=
65536,f.push(k>>>10&1023|55296),k=56320|k&1023);f.push(k);b+=l}a=f.length;if(a<=V)f=String.fromCharCode.apply(String,f);else{e="";for(b=0;b<a;)e+=String.fromCharCode.apply(String,f.slice(b,b+=V));f=e}return f}function B(a,b,e){if(0!==a%1||0>a)throw new RangeError("offset is not uint");if(a+b>e)throw new RangeError("Trying to access beyond buffer length");}function D(a,b,e,f,g,k){if(!l.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>g||b<k)throw new RangeError('"value" argument is out of bounds');
if(e+f>a.length)throw new RangeError("Index out of range");}function w(a,b,e,f){0>b&&(b=65535+b+1);for(var g=0,k=Math.min(a.length-e,2);g<k;g++)a[e+g]=(b&255<<8*(f?g:1-g))>>>8*(f?g:1-g)}function A(a,b,e,f){0>b&&(b=4294967295+b+1);for(var g=0,k=Math.min(a.length-e,4);g<k;g++)a[e+g]=b>>>8*(f?g:3-g)&255}function C(a,b,e,f,g,k){if(e+f>a.length)throw new RangeError("Index out of range");if(0>e)throw new RangeError("Index out of range");}function E(a,b,e,f,g){g||C(a,b,e,4,3.4028234663852886E38,-3.4028234663852886E38);
P.write(a,b,e,f,23,4);return e+4}function H(a,b,e,f,g){g||C(a,b,e,8,1.7976931348623157E308,-1.7976931348623157E308);P.write(a,b,e,f,52,8);return e+8}function G(a){a=a.trim?a.trim():a.replace(/^\s+|\s+$/g,"");a=a.replace(R,"");if(2>a.length)return"";for(;0!==a.length%4;)a+="=";return a}function O(a,b){b=b||Infinity;for(var e,f=a.length,g=null,k=[],h=0;h<f;h++){e=a.charCodeAt(h);if(55295<e&&57344>e){if(!g){if(56319<e){-1<(b-=3)&&k.push(239,191,189);continue}else if(h+1===f){-1<(b-=3)&&k.push(239,191,
189);continue}g=e;continue}if(56320>e){-1<(b-=3)&&k.push(239,191,189);g=e;continue}e=(g-55296<<10|e-56320)+65536}else g&&-1<(b-=3)&&k.push(239,191,189);g=null;if(128>e){if(0>--b)break;k.push(e)}else if(2048>e){if(0>(b-=2))break;k.push(e>>6|192,e&63|128)}else if(65536>e){if(0>(b-=3))break;k.push(e>>12|224,e>>6&63|128,e&63|128)}else if(1114112>e){if(0>(b-=4))break;k.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw Error("Invalid code point");}return k}function J(a){for(var b=[],e=0;e<a.length;e++)b.push(a.charCodeAt(e)&
255);return b}function M(a,b,e,f){for(var g=0;g<f&&!(g+e>=b.length||g>=a.length);g++)b[g+e]=a[g];return g}var L=a("base64-js"),P=a("ieee754"),T=a("isarray");e.Buffer=l;e.SlowBuffer=function(a){+a!=a&&(a=0);return l.alloc(+a)};e.INSPECT_MAX_BYTES=50;l.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:g();e.kMaxLength=l.TYPED_ARRAY_SUPPORT?2147483647:1073741823;l.poolSize=8192;l._augment=function(a){a.__proto__=l.prototype;return a};l.from=function(a,b,e){return k(null,a,b,e)};
l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0}));l.alloc=function(a,b,e){h(a);a=0>=a?f(null,a):void 0!==b?"string"===typeof e?f(null,a).fill(b,e):f(null,a).fill(b):f(null,a);return a};l.allocUnsafe=function(a){return m(null,a)};l.allocUnsafeSlow=function(a){return m(null,a)};l.isBuffer=function(a){return!(null==a||!a._isBuffer)};
l.compare=function(a,b){if(!l.isBuffer(a)||!l.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var e=a.length,f=b.length,g=0,k=Math.min(e,f);g<k;++g)if(a[g]!==b[g]){e=a[g];f=b[g];break}return e<f?-1:f<e?1:0};l.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "raw":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};l.concat=function(a,b){if(!T(a))throw new TypeError('"list" argument must be an Array of Buffers');
if(0===a.length)return l.alloc(0);var e;if(void 0===b)for(e=b=0;e<a.length;e++)b+=a[e].length;var f=l.allocUnsafe(b),g=0;for(e=0;e<a.length;e++){var k=a[e];if(!l.isBuffer(k))throw new TypeError('"list" argument must be an Array of Buffers');k.copy(f,g);g+=k.length}return f};l.byteLength=t;l.prototype._isBuffer=!0;l.prototype.swap16=function(){var a=this.length;if(0!==a%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)y(this,b,b+1);return this};l.prototype.swap32=
function(){var a=this.length;if(0!==a%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)y(this,b,b+3),y(this,b+1,b+2);return this};l.prototype.toString=function(){var a=this.length|0;return 0===a?"":0===arguments.length?z(this,0,a):u.apply(this,arguments)};l.prototype.equals=function(a){if(!l.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:0===l.compare(this,a)};l.prototype.inspect=function(){var a="",b=e.INSPECT_MAX_BYTES;0<this.length&&
(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... "));return"<Buffer "+a+">"};l.prototype.compare=function(a,b,e,f,g){if(!l.isBuffer(a))throw new TypeError("Argument must be a Buffer");void 0===b&&(b=0);void 0===e&&(e=a?a.length:0);void 0===f&&(f=0);void 0===g&&(g=this.length);if(0>b||e>a.length||0>f||g>this.length)throw new RangeError("out of range index");if(f>=g&&b>=e)return 0;if(f>=g)return-1;if(b>=e)return 1;b>>>=0;e>>>=0;f>>>=0;g>>>=0;if(this===a)return 0;var k=g-
f,h=e-b,m=Math.min(k,h);f=this.slice(f,g);a=a.slice(b,e);for(b=0;b<m;++b)if(f[b]!==a[b]){k=f[b];h=a[b];break}return k<h?-1:h<k?1:0};l.prototype.indexOf=function(a,b,e){"string"===typeof b?(e=b,b=0):2147483647<b?b=2147483647:-2147483648>b&&(b=-2147483648);b>>=0;if(0===this.length||b>=this.length)return-1;0>b&&(b=Math.max(this.length+b,0));"string"===typeof a&&(a=l.from(a,e));if(l.isBuffer(a))return 0===a.length?-1:x(this,a,b,e);if("number"===typeof a)return l.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?
Uint8Array.prototype.indexOf.call(this,a,b):x(this,[a],b,e);throw new TypeError("val must be string, number or Buffer");};l.prototype.includes=function(a,b,e){return-1!==this.indexOf(a,b,e)};l.prototype.write=function(a,b,e,f){if(void 0===b)f="utf8",e=this.length,b=0;else if(void 0===e&&"string"===typeof b)f=b,e=this.length,b=0;else if(isFinite(b))b|=0,isFinite(e)?(e|=0,void 0===f&&(f="utf8")):(f=e,e=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
var g=this.length-b;if(void 0===e||e>g)e=g;if(0<a.length&&(0>e||0>b)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");f||(f="utf8");for(g=!1;;)switch(f){case "hex":a:{b=Number(b)||0;f=this.length-b;e?(e=Number(e),e>f&&(e=f)):e=f;f=a.length;if(0!==f%2)throw Error("Invalid hex string");e>f/2&&(e=f/2);for(f=0;f<e;f++){g=parseInt(a.substr(2*f,2),16);if(isNaN(g)){a=f;break a}this[b+f]=g}a=f}return a;case "utf8":case "utf-8":return M(O(a,this.length-b),this,b,e);case "ascii":return M(J(a),
this,b,e);case "binary":return M(J(a),this,b,e);case "base64":return M(L.toByteArray(G(a)),this,b,e);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":f=this.length-b;for(var k=void 0,k=g=void 0,h=[],l=0;l<a.length&&!(0>(f-=2));l++)k=a.charCodeAt(l),g=k>>8,k%=256,h.push(k),h.push(g);return M(h,this,b,e);default:if(g)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase();g=!0}};l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};
var V=4096;l.prototype.slice=function(a,b){var e=this.length;a=~~a;b=void 0===b?e:~~b;0>a?(a+=e,0>a&&(a=0)):a>e&&(a=e);0>b?(b+=e,0>b&&(b=0)):b>e&&(b=e);b<a&&(b=a);if(l.TYPED_ARRAY_SUPPORT)e=this.subarray(a,b),e.__proto__=l.prototype;else for(var f=b-a,e=new l(f,void 0),g=0;g<f;g++)e[g]=this[g+a];return e};l.prototype.readUIntLE=function(a,b,e){a|=0;b|=0;e||B(a,b,this.length);e=this[a];for(var f=1,g=0;++g<b&&(f*=256);)e+=this[a+g]*f;return e};l.prototype.readUIntBE=function(a,b,e){a|=0;b|=0;e||B(a,
b,this.length);e=this[a+--b];for(var f=1;0<b&&(f*=256);)e+=this[a+--b]*f;return e};l.prototype.readUInt8=function(a,b){b||B(a,1,this.length);return this[a]};l.prototype.readUInt16LE=function(a,b){b||B(a,2,this.length);return this[a]|this[a+1]<<8};l.prototype.readUInt16BE=function(a,b){b||B(a,2,this.length);return this[a]<<8|this[a+1]};l.prototype.readUInt32LE=function(a,b){b||B(a,4,this.length);return(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]};l.prototype.readUInt32BE=function(a,b){b||
B(a,4,this.length);return 16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])};l.prototype.readIntLE=function(a,b,e){a|=0;b|=0;e||B(a,b,this.length);e=this[a];for(var f=1,g=0;++g<b&&(f*=256);)e+=this[a+g]*f;e>=128*f&&(e-=Math.pow(2,8*b));return e};l.prototype.readIntBE=function(a,b,e){a|=0;b|=0;e||B(a,b,this.length);e=b;for(var f=1,g=this[a+--e];0<e&&(f*=256);)g+=this[a+--e]*f;g>=128*f&&(g-=Math.pow(2,8*b));return g};l.prototype.readInt8=function(a,b){b||B(a,1,this.length);return this[a]&128?
-1*(255-this[a]+1):this[a]};l.prototype.readInt16LE=function(a,b){b||B(a,2,this.length);var e=this[a]|this[a+1]<<8;return e&32768?e|4294901760:e};l.prototype.readInt16BE=function(a,b){b||B(a,2,this.length);var e=this[a+1]|this[a]<<8;return e&32768?e|4294901760:e};l.prototype.readInt32LE=function(a,b){b||B(a,4,this.length);return this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};l.prototype.readInt32BE=function(a,b){b||B(a,4,this.length);return this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};l.prototype.readFloatLE=
function(a,b){b||B(a,4,this.length);return P.read(this,a,!0,23,4)};l.prototype.readFloatBE=function(a,b){b||B(a,4,this.length);return P.read(this,a,!1,23,4)};l.prototype.readDoubleLE=function(a,b){b||B(a,8,this.length);return P.read(this,a,!0,52,8)};l.prototype.readDoubleBE=function(a,b){b||B(a,8,this.length);return P.read(this,a,!1,52,8)};l.prototype.writeUIntLE=function(a,b,e,f){a=+a;b|=0;e|=0;f||(f=Math.pow(2,8*e)-1,D(this,a,b,e,f,0));f=1;var g=0;for(this[b]=a&255;++g<e&&(f*=256);)this[b+g]=a/
f&255;return b+e};l.prototype.writeUIntBE=function(a,b,e,f){a=+a;b|=0;e|=0;f||(f=Math.pow(2,8*e)-1,D(this,a,b,e,f,0));f=e-1;var g=1;for(this[b+f]=a&255;0<=--f&&(g*=256);)this[b+f]=a/g&255;return b+e};l.prototype.writeUInt8=function(a,b,e){a=+a;b|=0;e||D(this,a,b,1,255,0);l.TYPED_ARRAY_SUPPORT||(a=Math.floor(a));this[b]=a&255;return b+1};l.prototype.writeUInt16LE=function(a,b,e){a=+a;b|=0;e||D(this,a,b,2,65535,0);l.TYPED_ARRAY_SUPPORT?(this[b]=a&255,this[b+1]=a>>>8):w(this,a,b,!0);return b+2};l.prototype.writeUInt16BE=
function(a,b,e){a=+a;b|=0;e||D(this,a,b,2,65535,0);l.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a&255):w(this,a,b,!1);return b+2};l.prototype.writeUInt32LE=function(a,b,e){a=+a;b|=0;e||D(this,a,b,4,4294967295,0);l.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=a&255):A(this,a,b,!0);return b+4};l.prototype.writeUInt32BE=function(a,b,e){a=+a;b|=0;e||D(this,a,b,4,4294967295,0);l.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a&255):A(this,
a,b,!1);return b+4};l.prototype.writeIntLE=function(a,b,e,f){a=+a;b|=0;f||(f=Math.pow(2,8*e-1),D(this,a,b,e,f-1,-f));f=0;var g=1,k=0;for(this[b]=a&255;++f<e&&(g*=256);)0>a&&0===k&&0!==this[b+f-1]&&(k=1),this[b+f]=(a/g>>0)-k&255;return b+e};l.prototype.writeIntBE=function(a,b,e,f){a=+a;b|=0;f||(f=Math.pow(2,8*e-1),D(this,a,b,e,f-1,-f));f=e-1;var g=1,k=0;for(this[b+f]=a&255;0<=--f&&(g*=256);)0>a&&0===k&&0!==this[b+f+1]&&(k=1),this[b+f]=(a/g>>0)-k&255;return b+e};l.prototype.writeInt8=function(a,b,e){a=
+a;b|=0;e||D(this,a,b,1,127,-128);l.TYPED_ARRAY_SUPPORT||(a=Math.floor(a));0>a&&(a=255+a+1);this[b]=a&255;return b+1};l.prototype.writeInt16LE=function(a,b,e){a=+a;b|=0;e||D(this,a,b,2,32767,-32768);l.TYPED_ARRAY_SUPPORT?(this[b]=a&255,this[b+1]=a>>>8):w(this,a,b,!0);return b+2};l.prototype.writeInt16BE=function(a,b,e){a=+a;b|=0;e||D(this,a,b,2,32767,-32768);l.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a&255):w(this,a,b,!1);return b+2};l.prototype.writeInt32LE=function(a,b,e){a=+a;b|=0;e||D(this,
a,b,4,2147483647,-2147483648);l.TYPED_ARRAY_SUPPORT?(this[b]=a&255,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):A(this,a,b,!0);return b+4};l.prototype.writeInt32BE=function(a,b,e){a=+a;b|=0;e||D(this,a,b,4,2147483647,-2147483648);0>a&&(a=4294967295+a+1);l.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a&255):A(this,a,b,!1);return b+4};l.prototype.writeFloatLE=function(a,b,e){return E(this,a,b,!0,e)};l.prototype.writeFloatBE=function(a,b,e){return E(this,a,b,!1,
e)};l.prototype.writeDoubleLE=function(a,b,e){return H(this,a,b,!0,e)};l.prototype.writeDoubleBE=function(a,b,e){return H(this,a,b,!1,e)};l.prototype.copy=function(a,b,e,f){e||(e=0);f||0===f||(f=this.length);b>=a.length&&(b=a.length);b||(b=0);0<f&&f<e&&(f=e);if(f===e||0===a.length||0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>e||e>=this.length)throw new RangeError("sourceStart out of bounds");if(0>f)throw new RangeError("sourceEnd out of bounds");f>this.length&&
(f=this.length);a.length-b<f-e&&(f=a.length-b+e);var g=f-e;if(this===a&&e<b&&b<f)for(f=g-1;0<=f;f--)a[f+b]=this[f+e];else if(1E3>g||!l.TYPED_ARRAY_SUPPORT)for(f=0;f<g;f++)a[f+b]=this[f+e];else Uint8Array.prototype.set.call(a,this.subarray(e,e+g),b);return g};l.prototype.fill=function(a,b,e,f){if("string"===typeof a){"string"===typeof b?(f=b,b=0,e=this.length):"string"===typeof e&&(f=e,e=this.length);if(1===a.length){var g=a.charCodeAt(0);256>g&&(a=g)}if(void 0!==f&&"string"!==typeof f)throw new TypeError("encoding must be a string");
if("string"===typeof f&&!l.isEncoding(f))throw new TypeError("Unknown encoding: "+f);}else"number"===typeof a&&(a&=255);if(0>b||this.length<b||this.length<e)throw new RangeError("Out of range index");if(e<=b)return this;b>>>=0;e=void 0===e?this.length:e>>>0;a||(a=0);if("number"===typeof a)for(f=b;f<e;f++)this[f]=a;else for(a=l.isBuffer(a)?a:O((new l(a,f)).toString()),g=a.length,f=0;f<e-b;f++)this[f+b]=a[f%g];return this};var R=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!==typeof global?global:"undefined"!==
typeof self?self:"undefined"!==typeof window?window:{})},{"base64-js":5,ieee754:17,isarray:27}],8:[function(a,h,e){function b(a){if(!g(a))return a;var b=!1;-1!==a.indexOf("[^")&&(b=!0,a=a.split("[^").join("["));-1!==a.indexOf("[!")&&(b=!0,a=a.split("[!").join("["));for(var e=a.split("["),h=a.split("]"),e=e.length!==h.length,p=a.split(/(?::\]\[:|\[?\[:|:\]\]?)/),q=p.length,r=0,h=a="",t=[];q--;){var u=p[r++];if("^[!"===u||"[!"===u)u="",b=!0;var y=b?"^":"",x=f[u];x?t.push("["+y+x+"]"):u&&(/^\[?\w-\w\]?$/.test(u)?
r===p.length?t.push("["+y+u):1===r?t.push(y+u+"]"):t.push(y+u):1===r?h+=u:r===p.length?a+=u:t.push("["+y+u+"]"))}b=t.join("|");t=t.length||1;1<t&&(b="(?:"+b+")",t=1);h&&(t++,"["===h.charAt(0)&&(h=e?"\\["+h.slice(1):h+"]"),b=h+b);a&&(t++,"]"===a.slice(-1)&&(a=e?a.slice(0,a.length-1)+"\\]":"["+a),b+=a);1<t&&(b=b.split("][").join("]|["),-1===b.indexOf("|")||/\(\?/.test(b)||(b="(?:"+b+")"));return b=b.replace(/\[+=|=\]+/g,"\\b")}var g=a("is-posix-bracket"),f={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",blank:" \\t",
cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E",punct:"-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};h.exports=b;b.makeRe=function(a){try{return new RegExp(b(a))}catch(e){}};b.isMatch=function(a,e){try{return b.makeRe(e).test(a)}catch(f){return!1}};b.match=function(a,e){for(var f=a.length,g=0,h=a.slice(),q=b.makeRe(e);g<f;){var r=a[g++];q.test(r)&&h.splice(g,1)}return h}},{"is-posix-bracket":25}],
9:[function(a,h,e){var b=a("fill-range");h.exports=function(a,e,h){if("string"!==typeof a)throw new TypeError("expand-range expects a string.");"function"===typeof e&&(h=e,e={});"boolean"===typeof e&&(e={makeRe:!0});e=e||{};var k=a.split(".."),n=k.length;if(3<n)return a;if(1===n)return k;"boolean"===typeof h&&!0===h&&(e.makeRe=!0);k.push(e);return b.apply(null,k.concat(h))}},{"fill-range":12}],10:[function(a,h,e){function b(a,b,e){e&&(a=g(a));switch(b){case "!":return"(?!"+a+")[^/]"+(e?"%%%~":"*?");
case "@":return"(?:"+a+")";case "+":return"(?:"+a+")+";case "*":return"(?:"+a+")"+(e?"%%":"*");case "?":return"(?:"+a+"|)";default:return a}}function g(a){a=a.split("*").join("[^/]%%%~");return a=a.split(".").join("\\.")}function f(a,b,e){var f=b?"^":"";a="(?:"+a+")"+(b?"$":"");e&&(a=f+("(?!^"+a+").*$"));return new RegExp(f+a)}a("is-extglob");var l,k={};h.exports=function(a,e){e=e||{};var h={},q=0;a=a.replace(/!\(([^\w*()])/g,"$1!(");a=a.replace(/([*\/])\.!\([*]\)/g,function(a,b){return"/"===b?g("\\/[^.]+"):
g("[^.]+")});var r=a+String(!!e.regex)+String(!!e.contains)+String(!!e.escape);if(k.hasOwnProperty(r))return k[r];l instanceof RegExp||(l=/(\\?[@?!+*$]\\?)(\(([^()]*?)\))/);e.negate=!1;for(var t;t=l.exec(a);){var u=t[1],y=t[3];"!"===u&&(e.negate=!0);var x="__EXTGLOB_"+q++ +"__";h[x]=b(y,u,e.escape);a=a.split(t[0]).join(x)}q=Object.keys(h);for(t=q.length;t--;)u=q[t],a=a.split(u).join(h[u]);h=e.regex?f(a,e.contains,e.negate):a;h=h.split(".").join("\\.");return k[r]=h}},{"is-extglob":22}],11:[function(a,
h,e){h.exports=function(){return/([^\\\/]+)$/}},{}],12:[function(a,h,e){function b(a,b,e){"~"===b&&(b="-");a=a.join(b);e=e&&e.regexPrefix;"|"===b&&(a="("+(e?e+a:a)+")");"-"===b&&(a=e&&"^"===e?e+a:a,a="["+a+"]");return[a]}function g(a,b,e,f,g){return(g?0:f?9>=a&&9>=b:a<b&&1===e)?"~":"|"}function f(a){return/^-*0+$/.test(a.toString())?"0":a}function l(a,b){if(/[^.]\.|^-*0+[0-9]/.test(a)||/[^.]\.|^-*0+[0-9]/.test(b)){var e=a.toString().length,f=b.toString().length,g=e>=f?e:f;return function(a){return p("0",
g-a.toString().length)}}return!1}var k=a("isobject"),n=a("is-number"),m=a("randomatic"),p=a("repeat-string"),q=a("repeat-element");h.exports=function(a,e,h,p,x){if(null==a||null==e)throw Error("fill-range expects the first and second args to be strings.");"function"===typeof h&&(x=h,p={},h=null);"function"===typeof p&&(x=p,p={});k(h)&&(p=h,h="");var z,B=!1,D="";p=p||{};"undefined"===typeof p.silent&&(p.silent=!0);h=h||p.step;var w=a,A=e;e="-0"===e.toString()?0:e;if(p.optimize||p.makeRe)h=h?h+="~":
h,B=z=!0,D="~";if("string"===typeof h){var C=/\?|>|\||\+|\~/g.exec(h);if(C){var E=C.index,C=C[0];if("+"===C)return q(a,e);if("?"===C)return[m(a,e)];">"===C?(h=h.substr(0,E)+h.substr(E+1),z=!0):"|"===C?(h=h.substr(0,E)+h.substr(E+1),B=z=!0,D=C):"~"===C&&(h=h.substr(0,E)+h.substr(E+1),B=z=!0,D=C)}else if(!n(h)){if(!p.silent)throw new TypeError("fill-range: invalid step.");return null}}if(/[.&*()[\]^%$#@!]/.test(a)||/[.&*()[\]^%$#@!]/.test(e)){if(!p.silent)throw new RangeError("fill-range: invalid range arguments.");
return null}if(!/[a-z0-9]/i.test(a)||!/[a-z0-9]/i.test(e)||/[a-z][0-9]|[0-9][a-z]/i.test(a)||/[a-z][0-9]|[0-9][a-z]/i.test(e)){if(!p.silent)throw new RangeError("fill-range: invalid range arguments.");return null}E=n(f(a));C=n(f(e));if(!E&&C||E&&!C){if(!p.silent)throw new TypeError("fill-range: first range argument is incompatible with second.");return null}h=Math.abs(h>>0)||1;E?(a=+a,e=+e):(a=a.charCodeAt(0),e=e.charCodeAt(0));C=a>e;if(0>a||0>e)B=z=!1;var H=l(w,A),G,O=[],J=0;if(B&&(E&&(9<a||9<e)?
0:!H&&1===h&&a<e)){if("|"===D||"~"===D)D=g(a,e,h,E,C);return b([w,A],D,p)}for(;C?a>=e:a<=e;){H&&E&&(G=H(a));if("function"===typeof x)w=x(a,E,G,J++);else if(E){var w=a,M=(A=G)?A+w:w;A&&"-"===w.toString().charAt(0)&&(M="-"+A+w.toString().substr(1));w=M.toString()}else{if(w=B)w=String.fromCharCode(a),w="\\"===w||"["===w||"]"===w||"^"===w||"("===w||")"===w||"`"===w;w=w?null:String.fromCharCode(a)}null!==w&&O.push(w);a=C?a-h:a+h}if((B||z)&&!p.noexpand){if("|"===D||"~"===D)D=g(a,e,h,E,C);return 1===O.length||
0>a||0>e?O:b(O,D,p)}return O}},{"is-number":24,isobject:28,randomatic:41,"repeat-element":43,"repeat-string":44}],13:[function(a,h,e){h.exports=function(a,e,f){for(var h in a)if(!1===e.call(f,a[h],h,a))break}},{}],14:[function(a,h,e){var b=a("for-in"),g=Object.prototype.hasOwnProperty;h.exports=function(a,e,k){b(a,function(b,h){if(g.call(a,h))return e.call(k,a[h],h,a)})}},{"for-in":13}],15:[function(a,h,e){var b=a("path"),g=a("glob-parent"),f=a("is-glob");h.exports=function(a){if("string"!==typeof a)throw new TypeError("glob-base expects a string.");
var e={};e.base=g(a);e.isGlob=f(a);"."!==e.base?(e.glob=a.substr(e.base.length),"/"===e.glob.charAt(0)&&(e.glob=e.glob.substr(1))):e.glob=a;if(!e.isGlob){var h;h="/"===a.slice(-1)?a:b.dirname(a);e.base=h;e.glob="."!==e.base?a.substr(e.base.length):a}"./"===e.glob.substr(0,2)&&(e.glob=e.glob.substr(2));"/"===e.glob.charAt(0)&&(e.glob=e.glob.substr(1));return e}},{"glob-parent":16,"is-glob":23,path:38}],16:[function(a,h,e){var b=a("path"),g=a("is-glob");h.exports=function(a){a+="a";do a=b.dirname(a);
while(g(a));return a}},{"is-glob":23,path:38}],17:[function(a,h,e){e.read=function(a,e,f,h,k){var n;n=8*k-h-1;var m=(1<<n)-1,p=m>>1,q=-7;k=f?k-1:0;var r=f?-1:1,t=a[e+k];k+=r;f=t&(1<<-q)-1;t>>=-q;for(q+=n;0<q;f=256*f+a[e+k],k+=r,q-=8);n=f&(1<<-q)-1;f>>=-q;for(q+=h;0<q;n=256*n+a[e+k],k+=r,q-=8);if(0===f)f=1-p;else{if(f===m)return n?NaN:Infinity*(t?-1:1);n+=Math.pow(2,h);f-=p}return(t?-1:1)*n*Math.pow(2,f-h)};e.write=function(a,e,f,h,k,n){var m,p=8*n-k-1,q=(1<<p)-1,r=q>>1,t=23===k?Math.pow(2,-24)-Math.pow(2,
-77):0;n=h?0:n-1;var u=h?1:-1,y=0>e||0===e&&0>1/e?1:0;e=Math.abs(e);isNaN(e)||Infinity===e?(e=isNaN(e)?1:0,h=q):(h=Math.floor(Math.log(e)/Math.LN2),1>e*(m=Math.pow(2,-h))&&(h--,m*=2),e=1<=h+r?e+t/m:e+t*Math.pow(2,1-r),2<=e*m&&(h++,m/=2),h+r>=q?(e=0,h=q):1<=h+r?(e=(e*m-1)*Math.pow(2,k),h+=r):(e=e*Math.pow(2,r-1)*Math.pow(2,k),h=0));for(;8<=k;a[f+n]=e&255,n+=u,e/=256,k-=8);h=h<<k|e;for(p+=k;0<p;a[f+n]=h&255,n+=u,h/=256,p-=8);a[f+n-u]|=128*y}},{}],18:[function(a,h,e){h.exports=function(a){return!(null==
a||!(a._isBuffer||a.constructor&&"function"===typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)))}},{}],19:[function(a,h,e){h.exports=function(a){if(46===a.charCodeAt(0)&&-1===a.indexOf("/",1))return!0;var e=a.lastIndexOf("/");return-1!==e?46===a.charCodeAt(e+1):!1}},{}],20:[function(a,h,e){var b=a("is-primitive");h.exports=function(a,e){if(!a&&!e)return!0;if(!a&&e||a&&!e)return!1;var h=0,k=0,n;for(n in e)if(k++,!b(e[n])||!a.hasOwnProperty(n)||a[n]!==e[n])return!1;for(n in a)h++;return h===
k}},{"is-primitive":26}],21:[function(a,h,e){h.exports=function(a){return"undefined"!==typeof a&&null!==a&&("object"===typeof a||"function"===typeof a)}},{}],22:[function(a,h,e){h.exports=function(a){return"string"===typeof a&&/[@?!+*]\(/.test(a)}},{}],23:[function(a,h,e){var b=a("is-extglob");h.exports=function(a){return"string"===typeof a&&(/[*!?{}(|)[\]]/.test(a)||b(a))}},{"is-extglob":22}],24:[function(a,h,e){var b=a("kind-of");h.exports=function(a){var e=b(a);if("number"!==e&&"string"!==e)return!1;
e=+a;return 0<=e-e+1&&""!==a}},{"kind-of":29}],25:[function(a,h,e){h.exports=function(a){return"string"===typeof a&&/\[([:.=+])(?:[^\[\]]|)+\1\]/.test(a)}},{}],26:[function(a,h,e){h.exports=function(a){return null==a||"function"!==typeof a&&"object"!==typeof a}},{}],27:[function(a,h,e){var b={}.toString;h.exports=Array.isArray||function(a){return"[object Array]"==b.call(a)}},{}],28:[function(a,h,e){var b=a("isarray");h.exports=function(a){return null!=a&&"object"===typeof a&&!1===b(a)}},{isarray:27}],
29:[function(a,h,e){(function(b){var e=a("is-buffer"),f=Object.prototype.toString;h.exports=function(a){if("undefined"===typeof a)return"undefined";if(null===a)return"null";if(!0===a||!1===a||a instanceof Boolean)return"boolean";if("string"===typeof a||a instanceof String)return"string";if("number"===typeof a||a instanceof Number)return"number";if("function"===typeof a||a instanceof Function)return"function";if("undefined"!==typeof Array.isArray&&Array.isArray(a))return"array";if(a instanceof RegExp)return"regexp";
if(a instanceof Date)return"date";var h=f.call(a);return"[object RegExp]"===h?"regexp":"[object Date]"===h?"date":"[object Arguments]"===h?"arguments":"undefined"!==typeof b&&e(a)?"buffer":"[object Set]"===h?"set":"[object WeakSet]"===h?"weakset":"[object Map]"===h?"map":"[object WeakMap]"===h?"weakmap":"[object Symbol]"===h?"symbol":"[object Int8Array]"===h?"int8array":"[object Uint8Array]"===h?"uint8array":"[object Uint8ClampedArray]"===h?"uint8clampedarray":"[object Int16Array]"===h?"int16array":
"[object Uint16Array]"===h?"uint16array":"[object Int32Array]"===h?"int32array":"[object Uint32Array]"===h?"uint32array":"[object Float32Array]"===h?"float32array":"[object Float64Array]"===h?"float64array":"object"}}).call(this,a("buffer").Buffer)},{buffer:7,"is-buffer":18}],30:[function(a,h,e){function b(a,b,e){if(!a||!b)return[];e=e||{};"undefined"===typeof e.cache&&(e.cache=!0);if(!Array.isArray(b))return g(a,b,e);for(var f=b.length,h=0,k=[],l=[];f--;){var m=b[h++];"string"===typeof m&&33===m.charCodeAt(0)?
k.push.apply(k,g(a,m.slice(1),e)):l.push.apply(l,g(a,m,e))}return p.diff(l,k)}function g(a,e,g){if("string"!==p.typeOf(a)&&!Array.isArray(a))throw Error(n("match","files","a string or array"));a=p.arrayify(a);g=g||{};var h=g.negate||!1,k=e;"string"===typeof e&&((h="!"===e.charAt(0))&&(e=e.slice(1)),!0===g.nonegate&&(h=!1));e=f(e,g);for(var l=a.length,m=0,B=[];m<l;){var D=a[m++],D=p.unixify(D,g);e(D)&&B.push(D)}if(0===B.length){if(!0===g.failglob)throw Error('micromatch.match() found no matches for: "'+
k+'".');(g.nonull||g.nullglob)&&B.push(p.unescapeGlob(k))}h&&(B=p.diff(a,B));g.ignore&&g.ignore.length&&(e=g.ignore,g=p.omit(g,["ignore"]),B=p.diff(B,b(B,e,g)));return g.nodupes?p.unique(B):B}function f(a,b){if("function"===typeof a)return a;if(a instanceof RegExp)return function(b){return a.test(b)};if("string"!==typeof a)throw new TypeError(n("matcher","pattern","a string, regex, or function"));a=p.unixify(a,b);if(!p.isGlob(a))return p.matchPath(a,b);var e=k(a,b);return b&&b.matchBase?p.hasFilename(e,
b):function(a){a=p.unixify(a,b);return e.test(a)}}function l(a,b){var e=Object.create(b||{}),f=e.flags||"";e.nocase&&-1===f.indexOf("i")&&(f+="i");var g=m(a,e);e.negated=e.negated||g.negated;e.negate=e.negated;var g=g.pattern,h=e&&!e.contains?"^":"",g="(?:"+g+")"+(e&&!e.contains?"$":"");a=e&&e.negate?h+("(?!^"+g+").*$"):h+g;var k;try{return k=new RegExp(a,f)}catch(l){if(l.reason="micromatch invalid regex: ("+k+")",e.strict)throw new SyntaxError(l);}return/$^/}function k(a,b){if("string"!==p.typeOf(a))throw Error(n("makeRe",
"glob","a string"));return p.cache(l,a,b)}function n(a,b,e){return"micromatch."+a+"(): "+b+" should be "+e+"."}var m=a("./lib/expand"),p=a("./lib/utils");b.any=function(a,b,e){if(!Array.isArray(b)&&"string"!==typeof b)throw new TypeError(n("any","patterns","a string or array"));b=p.arrayify(b);var g=b.length;for(a=p.unixify(a,e);g--;)if(f(b[g],e)(a))return!0;return!1};b.braces=b.braceExpand=p.braces;b.contains=function(a,b,e){if("string"!==typeof a)throw new TypeError(n("contains","pattern","a string"));
e=e||{};e.contains=""!==b;a=p.unixify(a,e);return e.contains&&!p.isGlob(b)?-1!==a.indexOf(b):f(b,e)(a)};b.expand=m;b.filter=function(a,b){if(!Array.isArray(a)&&"string"!==typeof a)throw new TypeError(n("filter","patterns","a string or array"));a=p.arrayify(a);for(var e=a.length,g=0,h=Array(e);g<e;)h[g]=f(a[g++],b);return function(a){if(null==a)return[];var e=h.length,f=0,g=!0;for(a=p.unixify(a,b);f<e;)if(!(0,h[f++])(a)){g=!1;break}return g}};b.isMatch=function(a,b,e){if("string"!==typeof a)throw new TypeError(n("isMatch",
"filepath","a string"));a=p.unixify(a,e);return"object"===p.typeOf(b)?f(a,b):f(b,e)(a)};b.makeRe=k;b.match=g;b.matcher=f;b.matchKeys=function(a,b,e){if("object"!==p.typeOf(a))throw new TypeError(n("matchKeys","first argument","an object"));b=f(b,e);e={};for(var g in a)a.hasOwnProperty(g)&&b(g)&&(e[g]=a[g]);return e};h.exports=b},{"./lib/expand":32,"./lib/utils":34}],31:[function(a,h,e){function b(a,b){return Object.keys(a).reduce(function(e,f){e[a[f]]=b?b+f:f;return e},{})}a={};var g,f;a.escapeRegex=
{"?":/\?/g,"@":/\@/g,"!":/\!/g,"+":/\+/g,"*":/\*/g,"(":/\(/g,")":/\)/g,"[":/\[/g,"]":/\]/g};a.ESC={"?":"__UNESC_QMRK__","@":"__UNESC_AMPE__","!":"__UNESC_EXCL__","+":"__UNESC_PLUS__","*":"__UNESC_STAR__",",":"__UNESC_COMMA__","(":"__UNESC_LTPAREN__",")":"__UNESC_RTPAREN__","[":"__UNESC_LTBRACK__","]":"__UNESC_RTBRACK__"};a.UNESC=g||(g=b(a.ESC,"\\"));a.ESC_TEMP={"?":"__TEMP_QMRK__","@":"__TEMP_AMPE__","!":"__TEMP_EXCL__","*":"__TEMP_STAR__","+":"__TEMP_PLUS__",",":"__TEMP_COMMA__","(":"__TEMP_LTPAREN__",
")":"__TEMP_RTPAREN__","[":"__TEMP_LTBRACK__","]":"__TEMP_RTBRACK__"};a.TEMP=f||(f=b(a.ESC_TEMP));h.exports=a},{}],32:[function(a,h,e){function b(a,b){var e=a.split(b),f=""===e[0],g=""===e[e.length-1],e=e.filter(Boolean);f&&e.unshift("");g&&e.push("");return e.join(b)}function g(a){return a.replace(/\[\^([^\]]*?)\]/g,function(a,b){-1===b.indexOf("/")&&(b="\\/"+b);return"[^"+b+"]"})}function f(a,b,e){var f=a.split(b),g=f.join("").length,h=a.split(e).join("").length;return g!==h?(a=f.join("\\"+b),a.split(e).join("\\"+
e)):a}function l(a){return a?"(?!"+t+")(?=.)"+q:r+q}function k(a){return a?y:"(?:(?!(?:\\/|^)\\.).)*?"}var n=a("./utils"),m=a("./glob");h.exports=function(a,e){if("string"!==typeof a)throw new TypeError("micromatch.expand(): argument should be a string.");var h=new m(a,e||{}),t=h.options;if(!n.isGlob(a))return h.pattern=h.pattern.replace(/([\/.])/g,"\\$1"),h;h.pattern=h.pattern.replace(/(\+)(?!\()/g,"\\$1");h.pattern=h.pattern.split("$").join("\\$");"boolean"!==typeof t.braces&&"boolean"!==typeof t.nobraces&&
(t.braces=!0);if(".*"===h.pattern)return{pattern:"\\."+q,tokens:w,options:t};if("*"===h.pattern)return{pattern:l(t.dot),tokens:w,options:t};h.parse();var w=h.tokens;w.is.negated=t.negated;!0!==t.dotfiles&&!w.is.dotfile||!1===t.dot||(t.dotfiles=!0,t.dot=!0);!0!==t.dotdirs&&!w.is.dotdir||!1===t.dot||(t.dotdirs=!0,t.dot=!0);/[{,]\./.test(h.pattern)&&(t.makeRe=!1,t.dot=!0);!0!==t.nonegate&&(t.negated=h.negated);"."===h.pattern.charAt(0)&&"/"!==h.pattern.charAt(1)&&(h.pattern="\\"+h.pattern);h.track("before braces");
w.is.braces&&h.braces();h.track("after braces");h.track("before extglob");w.is.extglob&&h.extglob();h.track("after extglob");h.track("before brackets");w.is.brackets&&h.brackets();h.track("after brackets");h._replace("[!","[^");h._replace("(?","(%~");h._replace(/\[\]/,"\\[\\]");h._replace("/[","/"+(t.dot?u:r)+"[",!0);h._replace("/?","/"+(t.dot?u:r)+"[^/]",!0);h._replace("/.","/(?=.)\\.",!0);h._replace(/^(\w):([\\\/]+?)/gi,"(?=.)$1:$2",!0);-1!==h.pattern.indexOf("[^")&&(h.pattern=g(h.pattern));!1!==
t.globstar&&"**"===h.pattern?h.pattern=k(t.dot):(h._replace(/(\/\*)+/g,function(a){var b=a.length/2;return 1===b?a:"(?:\\/*){"+b+"}"}),h.pattern=f(h.pattern,"[","]"),h.escape(h.pattern),w.is.globstar&&(h.pattern=b(h.pattern,"/**"),h.pattern=b(h.pattern,"**/"),h._replace("/**/","(?:/"+k(t.dot)+"/|/)",!0),h._replace(/\*{2,}/g,"**"),h._replace(/(\w+)\*(?!\/)/g,"$1[^/]*?",!0),h._replace(/\*\*\/\*(\w)/g,k(t.dot)+"\\/"+(t.dot?u:r)+"[^/]*?$1",!0),!0!==t.dot&&h._replace(/\*\*\/(.)/g,"(?:**\\/|)$1"),(""!==
w.path.dirname||/,\*\*|\*\*,/.test(h.orig))&&h._replace("**",k(t.dot),!0)),h._replace(/\/\*$/,"\\/"+l(t.dot),!0),h._replace(/(?!\/)\*$/,q,!0),h._replace(/([^\/]+)\*/,"$1"+l(!0),!0),h._replace("*",l(t.dot),!0),h._replace("?.","?\\.",!0),h._replace("?:","?:",!0),h._replace(/\?+/g,function(a){a=a.length;return 1===a?p:p+"{"+a+"}"}),h._replace(/\.([*\w]+)/g,"\\.$1"),h._replace(/\[\^[\\\/]+\]/g,p),h._replace(/\/+/g,"\\/"),h._replace(/\\{2,}/g,"\\"));h.unescape(h.pattern);h._replace("__UNESC_STAR__","*");
h._replace("?.","?\\.");h._replace("[^\\/]",p);1<h.pattern.length&&/^[\[?*]/.test(h.pattern)&&(h.pattern=(t.dot?u:r)+h.pattern);return h};var p="[^/]",q=p+"*?",r="(?!\\.)(?=.)",t="(?:\\/|^)\\.{1,2}($|\\/)",u="(?!"+t+")(?=.)",y="(?:(?!"+t+").)*?"},{"./glob":33,"./utils":34}],33:[function(a,h,e){function b(a){a=a.split("%~").join("?");return a=a.split("%%").join("*")}var g=a("./chars"),f=a("./utils");a=h.exports=function k(a,b){if(!(this instanceof k))return new k(a,b);this.options=b||{};this.pattern=
a;this.history=[];this.tokens={};this.init(a)};a.prototype.init=function(a){this.orig=a;this.negated=this.isNegated();this.options.track=this.options.track||!1;this.options.makeRe=!0};a.prototype.track=function(a){this.options.track&&this.history.push({msg:a,pattern:this.pattern})};a.prototype.isNegated=function(){return 33===this.pattern.charCodeAt(0)?(this.pattern=this.pattern.slice(1),!0):!1};a.prototype.braces=function(){if(!0!==this.options.nobraces&&!0!==this.options.nobrace){var a=this.pattern.match(/[\{\(\[]/g),
b=this.pattern.match(/[\}\)\]]/g);a&&b&&a.length!==b.length&&(this.options.makeRe=!1);this.pattern=f.braces(this.pattern,this.options).join("|")}};a.prototype.brackets=function(){!0!==this.options.nobrackets&&(this.pattern=f.brackets(this.pattern))};a.prototype.extglob=function(){!0!==this.options.noextglob&&f.isExtglob(this.pattern)&&(this.pattern=f.extglob(this.pattern,{escape:!0}))};a.prototype.parse=function(a){return this.tokens=f.parseGlob(a||this.pattern,!0)};a.prototype._replace=function(a,
b,e){this.track('before (find): "'+a+'" (replace with): "'+b+'"');e&&(b=b.split("?").join("%~"),b=b.split("*").join("%%"));this.pattern=a&&b&&"string"===typeof a?this.pattern.split(a).join(b):this.pattern.replace(a,b);this.track("after")};a.prototype.escape=function(a){this.track("before escape: ");this.pattern=a.replace(/["\\](['"]?[^"'\\]['"]?)/g,function(a,b){var e=g.ESC;return(e=e&&e[b])?e:/[a-z]/i.test(a)?a.split("\\").join(""):a});this.track("after escape: ")};a.prototype.unescape=function(a){this.pattern=
a.replace(/__([A-Z]+)_([A-Z]+)__/g,function(a,b){return g[b][a]});this.pattern=b(this.pattern)}},{"./chars":31,"./utils":34}],34:[function(a,h,e){(function(b){var e=b&&"win32"===b.platform,f=a("path"),l=a("filename-regex"),k=h.exports;k.diff=a("arr-diff");k.unique=a("array-unique");k.braces=a("braces");k.brackets=a("expand-brackets");k.extglob=a("extglob");k.isExtglob=a("is-extglob");k.isGlob=a("is-glob");k.typeOf=a("kind-of");k.normalize=a("normalize-path");k.omit=a("object.omit");k.parseGlob=a("parse-glob");
k.cache=a("regex-cache");k.filename=function(a){return(a=a.match(l()))&&a[0]};k.isPath=function(a,b){return function(e){return a===k.unixify(e,b)}};k.hasPath=function(a,b){return function(e){return-1!==k.unixify(a,b).indexOf(e)}};k.matchPath=function(a,b){return b&&b.contains?k.hasPath(a,b):k.isPath(a,b)};k.hasFilename=function(a){return function(b){return(b=k.filename(b))&&a.test(b)}};k.arrayify=function(a){return Array.isArray(a)?a:[a]};k.unixify=function(a,b){return b&&!1===b.unixify?a:b&&!0===
b.unixify||e||"\\"===f.sep?k.normalize(a,!1):b&&!0===b.unescape?a?a.toString().replace(/\\(\w)/g,"$1"):"":a};k.escapePath=function(a){return a.replace(/[\\.]/g,"\\$&")};k.unescapeGlob=function(a){return a.replace(/[\\"']/g,"")};k.escapeRe=function(a){return a.replace(/[-[\\$*+?.#^\s{}(|)\]]/g,"\\$&")};h.exports=k}).call(this,a("_process"))},{_process:40,"arr-diff":2,"array-unique":4,braces:6,"expand-brackets":8,extglob:10,"filename-regex":11,"is-extglob":22,"is-glob":23,"kind-of":29,"normalize-path":35,
"object.omit":36,"parse-glob":37,path:38,"regex-cache":42}],35:[function(a,h,e){h.exports=function(a,e){if("string"!==typeof a)throw new TypeError("expected a string");a=a.replace(/[\\\/]+/g,"/");!1!==e&&(a=a.replace(/\/$/,""));return a}},{}],36:[function(a,h,e){var b=a("is-extendable"),g=a("for-own");h.exports=function(a,e){if(!b(a))return{};e=[].concat.apply([],[].slice.call(arguments,1));var h={},n;"function"===typeof e[e.length-1]&&(n=e.pop());var m="function"===typeof n;if(!e.length&&!m)return a;
g(a,function(b,g){-1===e.indexOf(g)&&(m?n(b,g,a)&&(h[g]=b):h[g]=b)});return h}},{"for-own":14,"is-extendable":21}],37:[function(a,h,e){function b(a){return a.replace(/\{([^{}]*?)}|\(([^()]*?)\)|\[([^\[\]]*?)\]/g,function(a,b,e,f){return(b=b||e||f)?a.split(b).join(g(b)):a})}function g(a){a=a.split("/").join("__SLASH__");return a=a.split(".").join("__DOT__")}function f(a){a=a.split("__SLASH__").join("/");return a=a.split("__DOT__").join(".")}var l=a("is-glob"),k=a("glob-base"),n=a("is-extglob"),m=a("is-dotfile"),
p=h.exports.cache={};h.exports=function(a){if(p.hasOwnProperty(a))return p[a];var e={};e.orig=a;e.is={};a=b(a);var g=k(a);e.is.glob=g.isGlob;e.glob=g.glob;e.base=g.base;g=/([^\/]*)$/.exec(a);e.path={};e.path.dirname="";e.path.basename=g[1]||"";e.path.dirname=a.split(e.path.basename).join("")||"";g=(e.path.basename||"").split(".")||"";e.path.filename=g[0]||"";e.path.extname=g.slice(1).join(".")||"";e.path.ext="";l(e.path.dirname)&&!e.path.basename&&(/\/$/.test(e.glob)||(e.path.basename=e.glob),e.path.dirname=
e.base);-1!==a.indexOf("/")||e.is.globstar||(e.path.dirname="",e.path.basename=e.orig);g=e.path.basename.indexOf(".");-1!==g&&(e.path.filename=e.path.basename.slice(0,g),e.path.extname=e.path.basename.slice(g));"."===e.path.extname.charAt(0)&&(g=e.path.extname.split("."),e.path.ext=g[g.length-1]);e.glob=f(e.glob);e.path.dirname=f(e.path.dirname);e.path.basename=f(e.path.basename);e.path.filename=f(e.path.filename);e.path.extname=f(e.path.extname);g=a&&e.is.glob;e.is.negated=a&&"!"===a.charAt(0);e.is.extglob=
a&&n(a);e.is.braces=g&&-1!==a.indexOf("{");e.is.brackets=g&&-1!==a.indexOf("[:");e.is.globstar=g&&-1!==a.indexOf("**");e.is.dotfile=m(e.path.basename)||m(e.path.filename);var g=e.is,h;h=e.path.dirname;h=-1!==h.indexOf("/.")?!0:"."===h.charAt(0)&&"/"!==h.charAt(1)?!0:!1;g.dotdir=h;return p[a]=e}},{"glob-base":15,"is-dotfile":19,"is-extglob":22,"is-glob":23}],38:[function(a,h,e){(function(a){function g(a,b){for(var e=0,f=a.length-1;0<=f;f--){var g=a[f];"."===g?a.splice(f,1):".."===g?(a.splice(f,1),
e++):e&&(a.splice(f,1),e--)}if(b)for(;e--;e)a.unshift("..");return a}function f(a,b){if(a.filter)return a.filter(b);for(var e=[],f=0;f<a.length;f++)b(a[f],f,a)&&e.push(a[f]);return e}var h=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;e.resolve=function(){for(var e="",h=!1,k=arguments.length-1;-1<=k&&!h;k--){var l=0<=k?arguments[k]:a.cwd();if("string"!==typeof l)throw new TypeError("Arguments to path.resolve must be strings");l&&(e=l+"/"+e,h="/"===l.charAt(0))}e=g(f(e.split("/"),
function(a){return!!a}),!h).join("/");return(h?"/":"")+e||"."};e.normalize=function(a){var b=e.isAbsolute(a),h="/"===k(a,-1);(a=g(f(a.split("/"),function(a){return!!a}),!b).join("/"))||b||(a=".");a&&h&&(a+="/");return(b?"/":"")+a};e.isAbsolute=function(a){return"/"===a.charAt(0)};e.join=function(){var a=Array.prototype.slice.call(arguments,0);return e.normalize(f(a,function(a,b){if("string"!==typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))};e.relative=
function(a,b){function f(a){for(var b=0;b<a.length&&""===a[b];b++);for(var e=a.length-1;0<=e&&""===a[e];e--);return b>e?[]:a.slice(b,e-b+1)}a=e.resolve(a).substr(1);b=e.resolve(b).substr(1);for(var g=f(a.split("/")),h=f(b.split("/")),k=Math.min(g.length,h.length),l=k,y=0;y<k;y++)if(g[y]!==h[y]){l=y;break}k=[];for(y=l;y<g.length;y++)k.push("..");k=k.concat(h.slice(l));return k.join("/")};e.sep="/";e.delimiter=":";e.dirname=function(a){var b=h.exec(a).slice(1);a=b[0];b=b[1];if(!a&&!b)return".";b&&(b=
b.substr(0,b.length-1));return a+b};e.basename=function(a,b){var e=h.exec(a).slice(1)[2];b&&e.substr(-1*b.length)===b&&(e=e.substr(0,e.length-b.length));return e};e.extname=function(a){return h.exec(a).slice(1)[3]};var k="b"==="ab".substr(-1)?function(a,b,e){return a.substr(b,e)}:function(a,b,e){0>b&&(b=a.length+b);return a.substr(b,e)}}).call(this,a("_process"))},{_process:40}],39:[function(a,h,e){e.before=function(a,e){return a.replace(e,function(a){var e=Math.random().toString().slice(2,7);b[e]=
a;return"__ID"+e+"__"})};e.after=function(a){return a.replace(/__ID(.{5})__/g,function(a,e){return b[e]})};var b={}},{}],40:[function(a,h,e){function b(){p&&q&&(p=!1,q.length?m=q.concat(m):r=-1,m.length&&g())}function g(){if(!p){var a=k(b);p=!0;for(var e=m.length;e;){q=m;for(m=[];++r<e;)q&&q[r].run();r=-1;e=m.length}q=null;p=!1;n(a)}}function f(a,b){this.fun=a;this.array=b}function l(){}a=h.exports={};var k,n;(function(){try{k=setTimeout}catch(a){k=function(){throw Error("setTimeout is not defined");
}}try{n=clearTimeout}catch(b){n=function(){throw Error("clearTimeout is not defined");}}})();var m=[],p=!1,q,r=-1;a.nextTick=function(a){var b=Array(arguments.length-1);if(1<arguments.length)for(var e=1;e<arguments.length;e++)b[e-1]=arguments[e];m.push(new f(a,b));1!==m.length||p||k(g,0)};f.prototype.run=function(){this.fun.apply(null,this.array)};a.title="browser";a.browser=!0;a.env={};a.argv=[];a.version="";a.versions={};a.on=l;a.addListener=l;a.once=l;a.off=l;a.removeListener=l;a.removeAllListeners=
l;a.emit=l;a.binding=function(a){throw Error("process.binding is not supported");};a.cwd=function(){return"/"};a.chdir=function(a){throw Error("process.chdir is not supported");};a.umask=function(){return 0}},{}],41:[function(a,h,e){var b=a("is-number"),g=a("kind-of");h.exports=function(a,e,h){if("undefined"===typeof a)throw Error("randomatic expects a string or number.");var m=!1;1===arguments.length&&("string"===typeof a?e=a.length:b(a)&&(h={},e=a,a="*"));"object"===g(e)&&e.hasOwnProperty("chars")&&
(h=e,a=h.chars,e=a.length,m=!0);var p=h||{},q="",r="";-1!==a.indexOf("?")&&(q+=p.chars);-1!==a.indexOf("a")&&(q+=f.lower);-1!==a.indexOf("A")&&(q+=f.upper);-1!==a.indexOf("0")&&(q+=f.number);-1!==a.indexOf("!")&&(q+=f.special);-1!==a.indexOf("*")&&(q+=f.all);for(m&&(q+=a);e--;)r+=q.charAt(parseInt(Math.random()*q.length,10));return r};var f={lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",number:"0123456789",special:"~!@#$%^&()_+-={}[];',."};f.all=f.lower+f.upper+f.number},{"is-number":24,
"kind-of":29}],42:[function(a,h,e){a("is-primitive");var b=a("is-equal-shallow"),g={},f={};h.exports=function(a,e,h){var m="_default_",p;if(!e&&!h)return"function"!==typeof a?a:g[m]||(g[m]=a(e));if("string"===typeof e){if(!h)return g[e]||(g[e]=a(e));m=e}else h=e;if((p=f[m])&&b(p.opts,h))return p.regex;e=a=a(e,h);f[m]={regex:e,opts:h};return a};h.exports.cache=f;h.exports.basic=g},{"is-equal-shallow":20,"is-primitive":26}],43:[function(a,h,e){h.exports=function(a,e){for(var f=Array(e),h=0;h<e;h++)f[h]=
a;return f}},{}],44:[function(a,h,e){var b="",g;h.exports=function(a,e){if("string"!==typeof a)throw new TypeError("repeat-string expects a string.");if(1===e)return a;if(2===e)return a+a;var h=a.length*e;if(g!==a||"undefined"===typeof g)g=a,b="";for(;h>b.length&&0<e;){e&1&&(b+=a);e>>=1;if(!e)break;a+=a}return b.substr(0,h)}},{}]},{},[1]);!function(a){var h="object"==typeof window&&window||"object"==typeof self&&self;"undefined"!=typeof exports?a(exports):h&&(h.hljs=a({}),"function"==typeof define&&define.amd&&define([],function(){return h.hljs}))}(function(a){function h(a){return a.replace(/[&<>]/gm,function(a){return C[a]})}function e(a,b){var e=a&&a.exec(b);return e&&0===e.index}function b(a,b){var e,f={};for(e in a)f[e]=a[e];if(b)for(e in b)f[e]=b[e];return f}function g(a){var b=[];return function O(a,e){for(var f=a.firstChild;f;f=
f.nextSibling)3===f.nodeType?e+=f.nodeValue.length:1===f.nodeType&&(b.push({event:"start",offset:e,node:f}),e=O(f,e),f.nodeName.toLowerCase().match(/br|hr|img|input/)||b.push({event:"stop",offset:e,node:f}));return e}(a,0),b}function f(a,b,e){function f(){return a.length&&b.length?a[0].offset!==b[0].offset?a[0].offset<b[0].offset?a:b:"start"===b[0].event?a:b:a.length?a:b}function g(a){r+="<"+a.nodeName.toLowerCase()+t.map.call(a.attributes,function(a){return" "+a.nodeName+'="'+h(a.value)+'"'}).join("")+
">"}function k(a){r+="</"+a.nodeName.toLowerCase()+">"}function l(a){("start"===a.event?g:k)(a.node)}for(var m=0,r="",n=[];a.length||b.length;){var q=f();if(r+=h(e.substr(m,q[0].offset-m)),m=q[0].offset,q===a){n.reverse().forEach(k);do l(q.splice(0,1)[0]),q=f();while(q===a&&q.length&&q[0].offset===m);n.reverse().forEach(g)}else"start"===q[0].event?n.push(q[0].node):n.pop(),l(q.splice(0,1)[0])}return r+h(e.substr(m))}function l(a){function e(a){return a&&a.source||a}function f(b,g){return new RegExp(e(b),
"m"+(a.cI?"i":"")+(g?"g":""))}function g(h,k){if(!h.compiled){if(h.compiled=!0,h.k=h.k||h.bK,h.k){var l={},m=function(b,e){a.cI&&(e=e.toLowerCase());e.split(" ").forEach(function(a){a=a.split("|");l[a[0]]=[b,a[1]?Number(a[1]):1]})};"string"==typeof h.k?m("keyword",h.k):u(h.k).forEach(function(a){m(a,h.k[a])});h.k=l}h.lR=f(h.l||/\w+/,!0);k&&(h.bK&&(h.b="\\b("+h.bK.split(" ").join("|")+")\\b"),h.b||(h.b=/\B|\b/),h.bR=f(h.b),h.e||h.eW||(h.e=/\B|\b/),h.e&&(h.eR=f(h.e)),h.tE=e(h.e)||"",h.eW&&k.tE&&(h.tE+=
(h.e?"|":"")+k.tE));h.i&&(h.iR=f(h.i));null==h.r&&(h.r=1);h.c||(h.c=[]);var r=[];h.c.forEach(function(a){a.v?a.v.forEach(function(e){r.push(b(a,e))}):r.push("self"===a?h:a)});h.c=r;h.c.forEach(function(a){g(a,h)});h.starts&&g(h.starts,k);var n=h.c.map(function(a){return a.bK?"\\.?("+a.b+")\\.?":a.b}).concat([h.tE,h.i]).map(e).filter(Boolean);h.t=n.length?f(n.join("|"),!0):{exec:function(){return null}}}}g(a)}function k(a,b,f,g){function m(a,b){if(e(a.eR,b)){for(;a.endsParent&&a.parent;)a=a.parent;
return a}return a.eW?m(a.parent,b):void 0}function q(a,b,e,f){f='<span class="'+(f?"":A.classPrefix);e=e?"":w;return f+=a+'">',f+b+e}function p(){var a=D,b;if(null!=z.sL)if((b="string"==typeof z.sL)&&!y[z.sL])b=h(B);else{var e=b?k(z.sL,B,!0,x[z.sL]):n(B,z.sL.length?z.sL:void 0);b=(0<z.r&&(ca+=e.r),b&&(x[z.sL]=e.top),q(e.language,e.value,!1,!0))}else{var f;if(z.k){e="";f=0;z.lR.lastIndex=0;for(b=z.lR.exec(B);b;){e+=h(B.substr(f,b.index-f));f=z;var g=b,g=C.cI?g[0].toLowerCase():g[0];(f=f.k.hasOwnProperty(g)&&
f.k[g])?(ca+=f[1],e+=q(f[0],h(b[0]))):e+=h(b[0]);f=z.lR.lastIndex;b=z.lR.exec(B)}b=e+h(B.substr(f))}else b=h(B)}D=a+b;B=""}function u(a){D+=a.cN?q(a.cN,"",!0):"";z=Object.create(a,{parent:{value:z}})}function t(a,b){if(B+=a,null==b)return p(),0;var g;a:{g=z;var h,k;h=0;for(k=g.c.length;k>h;h++)if(e(g.c[h].bR,b)){g=g.c[h];break a}g=void 0}if(g)return g.skip?B+=b:(g.eB&&(B+=b),p(),g.rB||g.eB||(B=b)),u(g,b),g.rB?0:b.length;if(g=m(z,b)){h=z;h.skip?B+=b:(h.rE||h.eE||(B+=b),p(),h.eE&&(B=b));do z.cN&&(D+=
w),z.skip||(ca+=z.r),z=z.parent;while(z!==g.parent);return g.starts&&u(g.starts,""),h.rE?0:b.length}if(!f&&e(z.iR,b))throw Error('Illegal lexeme "'+b+'" for mode "'+(z.cN||"<unnamed>")+'"');return B+=b,b.length||1}var C=r(a);if(!C)throw Error('Unknown language: "'+a+'"');l(C);var z=g||C,x={},D="";for(g=z;g!==C;g=g.parent)g.cN&&(D=q(g.cN,"",!0)+D);var B="",ca=0;try{for(var U,la,Z=0;z.t.lastIndex=Z,U=z.t.exec(b),U;)la=t(b.substr(Z,U.index-Z),U[0]),Z=U.index+la;t(b.substr(Z));for(g=z;g.parent;g=g.parent)g.cN&&
(D+=w);return{r:ca,value:D,language:a,top:z}}catch(ma){if(ma.message&&-1!==ma.message.indexOf("Illegal"))return{r:0,value:h(b)};throw ma;}}function n(a,b){b=b||A.languages||u(y);var e={r:0,value:h(a)},f=e;return b.filter(r).forEach(function(b){var g=k(b,a,!1);g.language=b;g.r>f.r&&(f=g);g.r>e.r&&(f=e,e=g)}),f.language&&(e.second_best=f),e}function m(a){return A.tabReplace||A.useBR?a.replace(D,function(a,b){return A.useBR&&"\n"===a?"<br>":A.tabReplace?b.replace(/\t/g,A.tabReplace):void 0}):a}function p(a){var b,
e,h,l,q;a:{var p;q=a.className+" ";if(q+=a.parentNode?a.parentNode.className:"",l=B.exec(q))q=r(l[1])?l[1]:"no-highlight";else{q=q.split(/\s+/);l=0;for(p=q.length;p>l;l++)if(e=q[l],z.test(e)||r(e)){q=e;break a}q=void 0}}z.test(q)||(A.useBR?(b=document.createElementNS("http://www.w3.org/1999/xhtml","div"),b.innerHTML=a.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):b=a,l=b.textContent,e=q?k(q,l,!0):n(l),b=g(b),b.length&&(h=document.createElementNS("http://www.w3.org/1999/xhtml","div"),h.innerHTML=
e.value,e.value=f(b,g(h),l)),e.value=m(e.value),a.innerHTML=e.value,h=a.className,b=q?x[q]:e.language,q=[h.trim()],h=(h.match(/\bhljs\b/)||q.push("hljs"),-1===h.indexOf(b)&&q.push(b),q.join(" ").trim()),a.className=h,a.result={language:e.language,re:e.r},e.second_best&&(a.second_best={language:e.second_best.language,re:e.second_best.r}))}function q(){if(!q.called){q.called=!0;var a=document.querySelectorAll("pre code");t.forEach.call(a,p)}}function r(a){return a=(a||"").toLowerCase(),y[a]||y[x[a]]}
var t=[],u=Object.keys,y={},x={},z=/^(no-?highlight|plain|text)$/i,B=/\blang(?:uage)?-([\w-]+)\b/i,D=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,w="</span>",A={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},C={"&":"&amp;","<":"&lt;",">":"&gt;"};return a.highlight=k,a.highlightAuto=n,a.fixMarkup=m,a.highlightBlock=p,a.configure=function(a){A=b(A,a)},a.initHighlighting=q,a.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",q,!1);addEventListener("load",q,!1)},a.registerLanguage=
function(b,e){var f=y[b]=e(a);f.aliases&&f.aliases.forEach(function(a){x[a]=b})},a.listLanguages=function(){return u(y)},a.getLanguage=r,a.inherit=b,a.IR="[a-zA-Z]\\w*",a.UIR="[a-zA-Z_]\\w*",a.NR="\\b\\d+(\\.\\d+)?",a.CNR="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",a.BNR="\\b(0b[01]+)",a.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",a.BE={b:"\\\\[\\s\\S]",r:0},a.ASM={cN:"string",
b:"'",e:"'",i:"\\n",c:[a.BE]},a.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[a.BE]},a.PWM={b:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|like)\b/},a.C=function(b,e,f){b=a.inherit({cN:"comment",b:b,e:e,c:[]},f||{});return b.c.push(a.PWM),b.c.push({cN:"doctag",b:"(?:TODO|FIXME|NOTE|BUG|XXX):",r:0}),b},a.CLCM=a.C("//","$"),a.CBCM=a.C("/\\*","\\*/"),a.HCM=a.C("#","$"),a.NM={cN:"number",b:a.NR,r:0},a.CNM={cN:"number",b:a.CNR,r:0},
a.BNM={cN:"number",b:a.BNR,r:0},a.CSSNM={cN:"number",b:a.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},a.RM={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[a.BE,{b:/\[/,e:/\]/,r:0,c:[a.BE]}]},a.TM={cN:"title",b:a.IR,r:0},a.UTM={cN:"title",b:a.UIR,r:0},a.METHOD_GUARD={b:"\\.\\s*"+a.UIR,r:0},a});
hljs.registerLanguage("diff",function(a){return{aliases:["patch"],c:[{cN:"meta",r:10,v:[{b:/^@@ +\-\d+,\d+ +\+\d+,\d+ +@@$/},{b:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{b:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{cN:"comment",v:[{b:/Index: /,e:/$/},{b:/={3,}/,e:/$/},{b:/^\-{3}/,e:/$/},{b:/^\*{3} /,e:/$/},{b:/^\+{3}/,e:/$/},{b:/\*{5}/,e:/\*{5}$/}]},{cN:"addition",b:"^\\+",e:"$"},{cN:"deletion",b:"^\\-",e:"$"},{cN:"addition",b:"^\\!",e:"$"}]}});
hljs.registerLanguage("javascript",function(a){var h={keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},
e={cN:"number",v:[{b:"\\b(0[bB][01]+)"},{b:"\\b(0[oO][0-7]+)"},{b:a.CNR}],r:0},b={cN:"subst",b:"\\$\\{",e:"\\}",k:h,c:[]},g={cN:"string",b:"`",e:"`",c:[a.BE,b]};b.c=[a.ASM,a.QSM,g,e,a.RM];b=b.c.concat([a.CBCM,a.CLCM]);return{aliases:["js","jsx"],k:h,c:[{cN:"meta",r:10,b:/^\s*['"]use (strict|asm)['"]/},{cN:"meta",b:/^#!/,e:/$/},a.ASM,a.QSM,g,a.CLCM,a.CBCM,e,{b:/[{,]\s*/,r:0,c:[{b:"[A-Za-z$_][0-9A-Za-z$_]*\\s*:",rB:!0,r:0,c:[{cN:"attr",b:"[A-Za-z$_][0-9A-Za-z$_]*",r:0}]}]},{b:"("+a.RSR+"|\\b(case|return|throw)\\b)\\s*",
k:"return throw case",c:[a.CLCM,a.CBCM,a.RM,{cN:"function",b:"(\\(.*?\\)|[A-Za-z$_][0-9A-Za-z$_]*)\\s*=>",rB:!0,e:"\\s*=>",c:[{cN:"params",v:[{b:"[A-Za-z$_][0-9A-Za-z$_]*"},{b:/\(\s*\)/},{b:/\(/,e:/\)/,eB:!0,eE:!0,k:h,c:b}]}]},{b:/</,e:/(\/\w+|\w+\/)>/,sL:"xml",c:[{b:/<\w+\s*\/>/,skip:!0},{b:/<\w+/,e:/(\/\w+|\w+\/)>/,skip:!0,c:[{b:/<\w+\s*\/>/,skip:!0},"self"]}]}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[a.inherit(a.TM,{b:"[A-Za-z$_][0-9A-Za-z$_]*"}),{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,
c:b}],i:/\[|%/},{b:/\$[(.]/},a.METHOD_GUARD,{cN:"class",bK:"class",e:/[{;=]/,eE:!0,i:/[:"\[\]]/,c:[{bK:"extends"},a.UTM]},{bK:"constructor",e:/\{/,eE:!0}],i:/#(?!!)/}});
hljs.registerLanguage("css",function(a){return{cI:!0,i:/[=\/|'\$]/,c:[a.CBCM,{cN:"selector-id",b:/#[A-Za-z0-9_-]+/},{cN:"selector-class",b:/\.[A-Za-z0-9_-]+/},{cN:"selector-attr",b:/\[/,e:/\]/,i:"$"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{b:"@",e:"[{;]",i:/:/,c:[{cN:"keyword",b:/\w+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[a.ASM,a.QSM,a.CSSNM]}]},{cN:"selector-tag",b:"[a-zA-Z-][a-zA-Z0-9_-]*",r:0},{b:"{",e:"}",i:/\S/,c:[a.CBCM,{b:/[A-Z\_\.\-]+\s*:/,
rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:/\S/,e:":",eE:!0,starts:{eW:!0,eE:!0,c:[{b:/[\w-]+\(/,rB:!0,c:[{cN:"built_in",b:/[\w-]+/},{b:/\(/,e:/\)/,c:[a.ASM,a.QSM]}]},a.CSSNM,a.QSM,a.ASM,a.CBCM,{cN:"number",b:"#[0-9A-Fa-f]+"},{cN:"meta",b:"!important"}]}}]}]}]}});
hljs.registerLanguage("apache",function(a){var h={cN:"number",b:"[\\$%]\\d+"};return{aliases:["apacheconf"],cI:!0,c:[a.HCM,{cN:"section",b:"</?",e:">"},{cN:"attribute",b:/\w+/,r:0,k:{nomarkup:"order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"},starts:{e:/$/,r:0,k:{literal:"on off all"},c:[{cN:"meta",b:"\\s\\[",e:"\\]$"},{cN:"variable",b:"[\\$%]\\{",e:"\\}",c:["self",h]},h,a.QSM]}}],i:/\S/}});
hljs.registerLanguage("ini",function(a){var h={cN:"string",c:[a.BE],v:[{b:"'''",e:"'''",r:10},{b:'"""',e:'"""',r:10},{b:'"',e:'"'},{b:"'",e:"'"}]};return{aliases:["toml"],cI:!0,i:/\S/,c:[a.C(";","$"),a.HCM,{cN:"section",b:/^\s*\[+/,e:/\]+/},{b:/^[a-z0-9\[\]_-]+\s*=\s*/,e:"$",rB:!0,c:[{cN:"attr",b:/[a-z0-9\[\]_-]+/},{b:/=/,eW:!0,r:0,c:[{cN:"literal",b:/\bon|off|true|false|yes|no\b/},{cN:"variable",v:[{b:/\$[\w\d"][\w\d_]*/},{b:/\$\{(.*?)}/}]},h,{cN:"number",b:/([\+\-]+)?[\d]+_[\d_]+/},a.NM]}]}]}});
hljs.registerLanguage("bash",function(a){var h={cN:"variable",v:[{b:/\$[\w\d#@][\w\d_]*/},{b:/\$\{(.*?)}/}]},e={cN:"string",b:/"/,e:/"/,c:[a.BE,h,{cN:"variable",b:/\$\(/,e:/\)/,c:[a.BE]}]};return{aliases:["sh","zsh"],l:/-?[a-z\._]+/,k:{keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp",
_:"-ne -eq -lt -gt -f -d -e -s -l -a"},c:[{cN:"meta",b:/^#![^\n]+sh\s*$/,r:10},{cN:"function",b:/\w[\w\d_]*\s*\(\s*\)\s*\{/,rB:!0,c:[a.inherit(a.TM,{b:/\w[\w\d_]*/})],r:0},a.HCM,e,{cN:"string",b:/'/,e:/'/},h]}});
hljs.registerLanguage("objectivec",function(a){var h=/[a-zA-Z@][a-zA-Z0-9_]*/;return{aliases:["mm","objc","obj-c"],k:{keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign readwrite self @synchronized id typeof nonatomic super unichar IBOutlet IBAction strong weak copy in out inout bycopy byref oneway __strong __weak __block __autoreleasing @private @protected @public @try @property @end @throw @catch @finally @autoreleasepool @synthesize @dynamic @selector @optional @required @encode @package @import @defs @compatibility_alias __bridge __bridge_transfer __bridge_retained __bridge_retain __covariant __contravariant __kindof _Nonnull _Nullable _Null_unspecified __FUNCTION__ __PRETTY_FUNCTION__ __attribute__ getter setter retain unsafe_unretained nonnull nullable null_unspecified null_resettable class instancetype NS_DESIGNATED_INITIALIZER NS_UNAVAILABLE NS_REQUIRES_SUPER NS_RETURNS_INNER_POINTER NS_INLINE NS_AVAILABLE NS_DEPRECATED NS_ENUM NS_OPTIONS NS_SWIFT_UNAVAILABLE NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_REFINED_FOR_SWIFT NS_SWIFT_NAME NS_SWIFT_NOTHROW NS_DURING NS_HANDLER NS_ENDHANDLER NS_VALUERETURN NS_VOIDRETURN",literal:"false true FALSE TRUE nil YES NO NULL",
built_in:"BOOL dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},l:h,i:"</",c:[{cN:"built_in",b:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},a.CLCM,a.CBCM,a.CNM,a.QSM,{cN:"string",v:[{b:'@"',e:'"',i:"\\n",c:[a.BE]},{b:"'",e:"[^\\\\]'",i:"[^\\\\][^']"}]},{cN:"meta",b:"#",e:"$",c:[{cN:"meta-string",v:[{b:'"',e:'"'},{b:"<",e:">"}]}]},{cN:"class",b:"(@interface|@class|@protocol|@implementation)\\b",e:"({|$)",eE:!0,k:"@interface @class @protocol @implementation",
l:h,c:[a.UTM]},{b:"\\."+a.UIR,r:0}]}});
hljs.registerLanguage("python",function(a){var h={cN:"meta",b:/^(>>>|\.\.\.) /},e={cN:"string",c:[a.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,c:[h],r:10},{b:/(u|b)?r?"""/,e:/"""/,c:[h],r:10},{b:/(u|r|ur)'/,e:/'/,r:10},{b:/(u|r|ur)"/,e:/"/,r:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)"/,e:/"/},a.ASM,a.QSM]},b={cN:"number",r:0,v:[{b:a.BNR+"[lLjJ]?"},{b:"\\b(0o[0-7]+)[lLjJ]?"},{b:a.CNR+"[lLjJ]?"}]};return{aliases:["py","gyp"],k:{keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10 None True False",built_in:"Ellipsis NotImplemented"},
i:/(<\/|->|\?)|=>/,c:[h,b,e,a.HCM,{v:[{cN:"function",bK:"def"},{cN:"class",bK:"class"}],e:/:/,i:/[${=;\n,]/,c:[a.UTM,{cN:"params",b:/\(/,e:/\)/,c:["self",h,b,e]},{b:/->/,eW:!0,k:"None"}]},{cN:"meta",b:/^[\t ]*@/,e:/$/},{b:/\b(print|exec)\(/}]}});
hljs.registerLanguage("php",function(a){var h={b:"\\$+[a-zA-Z_\u007f-\u00ff][a-zA-Z0-9_\u007f-\u00ff]*"},e={cN:"meta",b:/<\?(php)?|\?>/},b={cN:"string",c:[a.BE,e],v:[{b:'b"',e:'"'},{b:"b'",e:"'"},a.inherit(a.ASM,{i:null}),a.inherit(a.QSM,{i:null})]},g={v:[a.BNM,a.CNM]};return{aliases:["php3","php4","php5","php6"],cI:!0,k:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",
c:[a.HCM,a.C("//","$",{c:[e]}),a.C("/\\*","\\*/",{c:[{cN:"doctag",b:"@[A-Za-z]+"}]}),a.C("__halt_compiler.+?;",!1,{eW:!0,k:"__halt_compiler",l:a.UIR}),{cN:"string",b:/<<<['"]?\w+['"]?$/,e:/^\w+;?$/,c:[a.BE,{cN:"subst",v:[{b:/\$\w+/},{b:/\{\$/,e:/\}/}]}]},e,{cN:"keyword",b:/\$this\b/},h,{b:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{cN:"function",bK:"function",e:/[;{]/,eE:!0,i:"\\$|\\[|%",c:[a.UTM,{cN:"params",b:"\\(",e:"\\)",c:["self",h,a.CBCM,b,g]}]},{cN:"class",bK:"class interface",e:"{",
eE:!0,i:/[:\(\$"]/,c:[{bK:"extends implements"},a.UTM]},{bK:"namespace",e:";",i:/[\.']/,c:[a.UTM]},{bK:"use",e:";",c:[a.UTM]},{b:"=>"},b,g]}});
hljs.registerLanguage("xml",function(a){var h={eW:!0,i:/</,r:0,c:[{cN:"attr",b:"[A-Za-z0-9\\._:-]+",r:0},{b:/=\s*/,r:0,c:[{cN:"string",endsParent:!0,v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s"'=<>`]+/}]}]}]};return{aliases:"html xhtml rss atom xjb xsd xsl plist".split(" "),cI:!0,c:[{cN:"meta",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},a.C("\x3c!--","--\x3e",{r:10}),{b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{b:/<\?(php)?/,e:/\?>/,sL:"php",c:[{b:"/\\*",e:"\\*/",skip:!0}]},{cN:"tag",b:"<style(?=\\s|>|$)",
e:">",k:{name:"style"},c:[h],starts:{e:"</style>",rE:!0,sL:["css","xml"]}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{name:"script"},c:[h],starts:{e:"\x3c/script>",rE:!0,sL:["actionscript","javascript","handlebars","xml"]}},{cN:"meta",v:[{b:/<\?xml/,e:/\?>/,r:10},{b:/<\?\w+/,e:/\?>/}]},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"name",b:/[^\/><\s]+/,r:0},h]}]}});
hljs.registerLanguage("coffeescript",function(a){var h={keyword:"in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super then unless until loop of by when and or is isnt not",literal:"true false null undefined yes no on off",built_in:"npm require console print module global window document"},e={cN:"subst",b:/#\{/,e:/}/,k:h},b=[a.BNM,a.inherit(a.CNM,{starts:{e:"(\\s*/)?",r:0}}),{cN:"string",v:[{b:/'''/,e:/'''/,c:[a.BE]},{b:/'/,e:/'/,
c:[a.BE]},{b:/"""/,e:/"""/,c:[a.BE,e]},{b:/"/,e:/"/,c:[a.BE,e]}]},{cN:"regexp",v:[{b:"///",e:"///",c:[e,a.HCM]},{b:"//[gim]*",r:0},{b:/\/(?![ *])(\\\/|.)*?\/[gim]*(?=\W|$)/}]},{b:"@[A-Za-z$_][0-9A-Za-z$_]*"},{b:"`",e:"`",eB:!0,eE:!0,sL:"javascript"}];e.c=b;var e=a.inherit(a.TM,{b:"[A-Za-z$_][0-9A-Za-z$_]*"}),g={cN:"params",b:"\\([^\\(]",rB:!0,c:[{b:/\(/,e:/\)/,k:h,c:["self"].concat(b)}]};return{aliases:["coffee","cson","iced"],k:h,i:/\/\*/,c:b.concat([a.C("###","###"),a.HCM,{cN:"function",b:"^\\s*[A-Za-z$_][0-9A-Za-z$_]*\\s*=\\s*(\\(.*\\))?\\s*\\B[-=]>",
e:"[-=]>",rB:!0,c:[e,g]},{b:/[:\(,=]\s*/,r:0,c:[{cN:"function",b:"(\\(.*\\))?\\s*\\B[-=]>",e:"[-=]>",rB:!0,c:[g]}]},{cN:"class",bK:"class",e:"$",i:/[:="\[\]]/,c:[{bK:"extends",eW:!0,i:/[:="\[\]]/,c:[e]},e]},{b:"[A-Za-z$_][0-9A-Za-z$_]*:",e:":",rB:!0,rE:!0,r:0}])}});
hljs.registerLanguage("cs",function(a){var h={keyword:"abstract as base bool break byte case catch char checked const continue decimal default delegate do double else enum event explicit extern finally fixed float for foreach goto if implicit in int interface internal is lock long object operator out override params private protected public readonly ref sbyte sealed short sizeof stackalloc static string struct switch this try typeof uint ulong unchecked unsafe ushort using virtual void volatile while nameof add alias ascending async await by descending dynamic equals from get global group into join let on orderby partial remove select set value var where yield",literal:"null false true"},
e={cN:"string",b:'@"',e:'"',c:[{b:'""'}]},b=a.inherit(e,{i:/\n/}),g={cN:"subst",b:"{",e:"}",k:h},f=a.inherit(g,{i:/\n/}),l={cN:"string",b:/\$"/,e:'"',i:/\n/,c:[{b:"{{"},{b:"}}"},a.BE,f]},k={cN:"string",b:/\$@"/,e:'"',c:[{b:"{{"},{b:"}}"},{b:'""'},g]},n=a.inherit(k,{i:/\n/,c:[{b:"{{"},{b:"}}"},{b:'""'},f]});g.c=[k,l,e,a.ASM,a.QSM,a.CNM,a.CBCM];f.c=[n,l,b,a.ASM,a.QSM,a.CNM,a.inherit(a.CBCM,{i:/\n/})];e={v:[k,l,e,a.ASM,a.QSM]};b=a.IR+"(<"+a.IR+"(\\s*,\\s*"+a.IR+")*>)?(\\[\\])?";return{aliases:["csharp"],
k:h,i:/::/,c:[a.C("///","$",{rB:!0,c:[{cN:"doctag",v:[{b:"///",r:0},{b:"\x3c!--|--\x3e"},{b:"</?",e:">"}]}]}),a.CLCM,a.CBCM,{cN:"meta",b:"#",e:"$",k:{"meta-keyword":"if else elif endif define undef warning error line region endregion pragma checksum"}},e,a.CNM,{bK:"class interface",e:/[{;=]/,i:/[^\s:]/,c:[a.TM,a.CLCM,a.CBCM]},{bK:"namespace",e:/[{;=]/,i:/[^\s:]/,c:[a.inherit(a.TM,{b:"[a-zA-Z](\\.?\\w)*"}),a.CLCM,a.CBCM]},{bK:"new return throw await",r:0},{cN:"function",b:"("+b+"\\s+)+"+a.IR+"\\s*\\(",
rB:!0,e:/[{;=]/,eE:!0,k:h,c:[{b:a.IR+"\\s*\\(",rB:!0,c:[a.TM],r:0},{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,k:h,r:0,c:[e,a.CNM,a.CBCM]},a.CLCM,a.CBCM]}]}});
hljs.registerLanguage("http",function(a){return{aliases:["https"],i:"\\S",c:[{b:"^HTTP/[0-9\\.]+",e:"$",c:[{cN:"number",b:"\\b\\d{3}\\b"}]},{b:"^[A-Z]+ (.*?) HTTP/[0-9\\.]+$",rB:!0,e:"$",c:[{cN:"string",b:" ",e:" ",eB:!0,eE:!0},{b:"HTTP/[0-9\\.]+"},{cN:"keyword",b:"[A-Z]+"}]},{cN:"attribute",b:"^\\w",e:": ",eE:!0,i:"\\n|\\s|=",starts:{e:"$",r:0}},{b:"\\n\\n",starts:{sL:[],eW:!0}}]}});
hljs.registerLanguage("markdown",function(a){return{aliases:["md","mkdown","mkd"],c:[{cN:"section",v:[{b:"^#{1,6}",e:"$"},{b:"^.+?\\n[=-]{2,}$"}]},{b:"<",e:">",sL:"xml",r:0},{cN:"bullet",b:"^([*+-]|(\\d+\\.))\\s+"},{cN:"strong",b:"[*_]{2}.+?[*_]{2}"},{cN:"emphasis",v:[{b:"\\*.+?\\*"},{b:"_.+?_",r:0}]},{cN:"quote",b:"^>\\s+",e:"$"},{cN:"code",v:[{b:"^```w*s*$",e:"^```s*$"},{b:"`.+?`"},{b:"^( {4}|\t)",e:"$",r:0}]},{b:"^[-\\*]{3,}",e:"$"},{b:"\\[.+?\\][\\(\\[].*?[\\)\\]]",rB:!0,c:[{cN:"string",b:"\\[",
e:"\\]",eB:!0,rE:!0,r:0},{cN:"link",b:"\\]\\(",e:"\\)",eB:!0,eE:!0},{cN:"symbol",b:"\\]\\[",e:"\\]",eB:!0,eE:!0}],r:10},{b:/^\[[^\n]+\]:/,rB:!0,c:[{cN:"symbol",b:/\[/,e:/\]/,eB:!0,eE:!0},{cN:"link",b:/:\s*/,e:/$/,eB:!0}]}]}});
hljs.registerLanguage("perl",function(a){var h={cN:"subst",b:"[$@]\\{",e:"\\}",k:"getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when"},e=
{b:"->{",e:"}"},b={v:[{b:/\$\d/},{b:/[\$%@](\^\w\b|#\w+(::\w+)*|{\w+}|\w+(::\w*)*)/},{b:/[\$%@][^\s\w{]/,r:0}]},g=[a.BE,h,b];a=[b,a.HCM,a.C("^\\=\\w","\\=cut",{eW:!0}),e,{cN:"string",c:g,v:[{b:"q[qwxr]?\\s*\\(",e:"\\)",r:5},{b:"q[qwxr]?\\s*\\[",e:"\\]",r:5},{b:"q[qwxr]?\\s*\\{",e:"\\}",r:5},{b:"q[qwxr]?\\s*\\|",e:"\\|",r:5},{b:"q[qwxr]?\\s*\\<",e:"\\>",r:5},{b:"qw\\s+q",e:"q",r:5},{b:"'",e:"'",c:[a.BE]},{b:'"',e:'"'},{b:"`",e:"`",c:[a.BE]},{b:"{\\w+}",c:[],r:0},{b:"-?\\w+\\s*\\=\\>",c:[],r:0}]},{cN:"number",
b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"(\\/\\/|"+a.RSR+"|\\b(split|return|print|reverse|grep)\\b)\\s*",k:"split return print reverse grep",r:0,c:[a.HCM,{cN:"regexp",b:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",r:10},{cN:"regexp",b:"(m|qr)?/",e:"/[a-z]*",c:[a.BE],r:0}]},{cN:"function",bK:"sub",e:"(\\s*\\(.*?\\))?[;{]",eE:!0,r:5,c:[a.TM]},{b:"-\\w\\b",r:0},{b:"^__DATA__$",e:"^__END__$",sL:"mojolicious",c:[{b:"^@@.*",e:"$",cN:"comment"}]}];return h.c=
a,e.c=a,{aliases:["pl","pm"],l:/[\w\.]+/,k:"getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",
c:a}});hljs.registerLanguage("json",function(a){var h={literal:"true false null"},e=[a.QSM,a.CNM],b={e:",",eW:!0,eE:!0,c:e,k:h},g={b:"{",e:"}",c:[{cN:"attr",b:/"/,e:/"/,c:[a.BE],i:"\\n"},a.inherit(b,{b:/:/})],i:"\\S"};a={b:"\\[",e:"\\]",c:[a.inherit(b)],i:"\\S"};return e.splice(e.length,0,g,a),{c:e,k:h,i:"\\S"}});
hljs.registerLanguage("nginx",function(a){var h={cN:"variable",v:[{b:/\$\d+/},{b:/\$\{/,e:/}/},{b:"[\\$\\@]"+a.UIR}]};return{aliases:["nginxconf"],c:[a.HCM,{b:a.UIR+"\\s+{",rB:!0,e:"{",c:[{cN:"section",b:a.UIR}],r:0},{b:a.UIR+"\\s",e:";|{",rB:!0,c:[{cN:"attribute",b:a.UIR,starts:{eW:!0,l:"[a-z/_]+",k:{literal:"on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"},r:0,i:"=>",c:[a.HCM,{cN:"string",c:[a.BE,h],
v:[{b:/"/,e:/"/},{b:/'/,e:/'/}]},{b:"([a-z]+):/",e:"\\s",eW:!0,eE:!0,c:[h]},{cN:"regexp",c:[a.BE,h],v:[{b:"\\s\\^",e:"\\s|{|;",rE:!0},{b:"~\\*?\\s+",e:"\\s|{|;",rE:!0},{b:"\\*(\\.[a-z\\-]+)+"},{b:"([a-z\\-]+\\.)+\\*"}]},{cN:"number",b:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{cN:"number",b:"\\b\\d+[kKmMgGdshdwy]*\\b",r:0},h]}}],r:0}],i:"[^\\s\\}]"}});
hljs.registerLanguage("makefile",function(a){var h={cN:"variable",b:/\$\(/,e:/\)/,c:[a.BE]};return{aliases:["mk","mak"],c:[a.HCM,{b:/^\w+\s*\W*=/,rB:!0,r:0,starts:{e:/\s*\W*=/,eE:!0,starts:{e:/$/,r:0,c:[h]}}},{cN:"section",b:/^[\w]+:\s*$/},{cN:"meta",b:/^\.PHONY:/,e:/$/,k:{"meta-keyword":".PHONY"},l:/[\.\w]+/},{b:/^\t+/,e:/$/,r:0,c:[a.QSM,h]}]}});
hljs.registerLanguage("sql",function(a){var h=a.C("--","$");return{cI:!0,i:/[<>{}*#]/,c:[{bK:"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup revoke comment",e:/;/,eW:!0,l:/[\w\.]+/,k:{keyword:"abort abs absolute acc acce accep accept access accessed accessible account acos action activate add addtime admin administer advanced advise aes_decrypt aes_encrypt after agent aggregate ali alia alias allocate allow alter always analyze ancillary and any anydata anydataset anyschema anytype apply archive archived archivelog are as asc ascii asin assembly assertion associate asynchronous at atan atn2 attr attri attrib attribu attribut attribute attributes audit authenticated authentication authid authors auto autoallocate autodblink autoextend automatic availability avg backup badfile basicfile before begin beginning benchmark between bfile bfile_base big bigfile bin binary_double binary_float binlog bit_and bit_count bit_length bit_or bit_xor bitmap blob_base block blocksize body both bound buffer_cache buffer_pool build bulk by byte byteordermark bytes cache caching call calling cancel capacity cascade cascaded case cast catalog category ceil ceiling chain change changed char_base char_length character_length characters characterset charindex charset charsetform charsetid check checksum checksum_agg child choose chr chunk class cleanup clear client clob clob_base clone close cluster_id cluster_probability cluster_set clustering coalesce coercibility col collate collation collect colu colum column column_value columns columns_updated comment commit compact compatibility compiled complete composite_limit compound compress compute concat concat_ws concurrent confirm conn connec connect connect_by_iscycle connect_by_isleaf connect_by_root connect_time connection consider consistent constant constraint constraints constructor container content contents context contributors controlfile conv convert convert_tz corr corr_k corr_s corresponding corruption cos cost count count_big counted covar_pop covar_samp cpu_per_call cpu_per_session crc32 create creation critical cross cube cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime customdatum cycle data database databases datafile datafiles datalength date_add date_cache date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts day day_to_second dayname dayofmonth dayofweek dayofyear days db_role_change dbtimezone ddl deallocate declare decode decompose decrement decrypt deduplicate def defa defau defaul default defaults deferred defi defin define degrees delayed delegate delete delete_all delimited demand dense_rank depth dequeue des_decrypt des_encrypt des_key_file desc descr descri describ describe descriptor deterministic diagnostics difference dimension direct_load directory disable disable_all disallow disassociate discardfile disconnect diskgroup distinct distinctrow distribute distributed div do document domain dotnet double downgrade drop dumpfile duplicate duration each edition editionable editions element ellipsis else elsif elt empty enable enable_all enclosed encode encoding encrypt end end-exec endian enforced engine engines enqueue enterprise entityescaping eomonth error errors escaped evalname evaluate event eventdata events except exception exceptions exchange exclude excluding execu execut execute exempt exists exit exp expire explain export export_set extended extent external external_1 external_2 externally extract failed failed_login_attempts failover failure far fast feature_set feature_value fetch field fields file file_name_convert filesystem_like_logging final finish first first_value fixed flash_cache flashback floor flush following follows for forall force form forma format found found_rows freelist freelists freepools fresh from from_base64 from_days ftp full function general generated get get_format get_lock getdate getutcdate global global_name globally go goto grant grants greatest group group_concat group_id grouping grouping_id groups gtid_subtract guarantee guard handler hash hashkeys having hea head headi headin heading heap help hex hierarchy high high_priority hosts hour http id ident_current ident_incr ident_seed identified identity idle_time if ifnull ignore iif ilike ilm immediate import in include including increment index indexes indexing indextype indicator indices inet6_aton inet6_ntoa inet_aton inet_ntoa infile initial initialized initially initrans inmemory inner innodb input insert install instance instantiable instr interface interleaved intersect into invalidate invisible is is_free_lock is_ipv4 is_ipv4_compat is_not is_not_null is_used_lock isdate isnull isolation iterate java join json json_exists keep keep_duplicates key keys kill language large last last_day last_insert_id last_value lax lcase lead leading least leaves left len lenght length less level levels library like like2 like4 likec limit lines link list listagg little ln load load_file lob lobs local localtime localtimestamp locate locator lock locked log log10 log2 logfile logfiles logging logical logical_reads_per_call logoff logon logs long loop low low_priority lower lpad lrtrim ltrim main make_set makedate maketime managed management manual map mapping mask master master_pos_wait match matched materialized max maxextents maximize maxinstances maxlen maxlogfiles maxloghistory maxlogmembers maxsize maxtrans md5 measures median medium member memcompress memory merge microsecond mid migration min minextents minimum mining minus minute minvalue missing mod mode model modification modify module monitoring month months mount move movement multiset mutex name name_const names nan national native natural nav nchar nclob nested never new newline next nextval no no_write_to_binlog noarchivelog noaudit nobadfile nocheck nocompress nocopy nocycle nodelay nodiscardfile noentityescaping noguarantee nokeep nologfile nomapping nomaxvalue nominimize nominvalue nomonitoring none noneditionable nonschema noorder nopr nopro noprom nopromp noprompt norely noresetlogs noreverse normal norowdependencies noschemacheck noswitch not nothing notice notrim novalidate now nowait nth_value nullif nulls num numb numbe nvarchar nvarchar2 object ocicoll ocidate ocidatetime ociduration ociinterval ociloblocator ocinumber ociref ocirefcursor ocirowid ocistring ocitype oct octet_length of off offline offset oid oidindex old on online only opaque open operations operator optimal optimize option optionally or oracle oracle_date oradata ord ordaudio orddicom orddoc order ordimage ordinality ordvideo organization orlany orlvary out outer outfile outline output over overflow overriding package pad parallel parallel_enable parameters parent parse partial partition partitions pascal passing password password_grace_time password_lock_time password_reuse_max password_reuse_time password_verify_function patch path patindex pctincrease pctthreshold pctused pctversion percent percent_rank percentile_cont percentile_disc performance period period_add period_diff permanent physical pi pipe pipelined pivot pluggable plugin policy position post_transaction pow power pragma prebuilt precedes preceding precision prediction prediction_cost prediction_details prediction_probability prediction_set prepare present preserve prior priority private private_sga privileges procedural procedure procedure_analyze processlist profiles project prompt protection public publishingservername purge quarter query quick quiesce quota quotename radians raise rand range rank raw read reads readsize rebuild record records recover recovery recursive recycle redo reduced ref reference referenced references referencing refresh regexp_like register regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy reject rekey relational relative relaylog release release_lock relies_on relocate rely rem remainder rename repair repeat replace replicate replication required reset resetlogs resize resource respect restore restricted result result_cache resumable resume retention return returning returns reuse reverse revoke right rlike role roles rollback rolling rollup round row row_count rowdependencies rowid rownum rows rtrim rules safe salt sample save savepoint sb1 sb2 sb4 scan schema schemacheck scn scope scroll sdo_georaster sdo_topo_geometry search sec_to_time second section securefile security seed segment select self sequence sequential serializable server servererror session session_user sessions_per_user set sets settings sha sha1 sha2 share shared shared_pool short show shrink shutdown si_averagecolor si_colorhistogram si_featurelist si_positionalcolor si_stillimage si_texture siblings sid sign sin size size_t sizes skip slave sleep smalldatetimefromparts smallfile snapshot some soname sort soundex source space sparse spfile split sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_small_result sql_variant_property sqlcode sqldata sqlerror sqlname sqlstate sqrt square standalone standby start starting startup statement static statistics stats_binomial_test stats_crosstab stats_ks_test stats_mode stats_mw_test stats_one_way_anova stats_t_test_ stats_t_test_indep stats_t_test_one stats_t_test_paired stats_wsr_test status std stddev stddev_pop stddev_samp stdev stop storage store stored str str_to_date straight_join strcmp strict string struct stuff style subdate subpartition subpartitions substitutable substr substring subtime subtring_index subtype success sum suspend switch switchoffset switchover sync synchronous synonym sys sys_xmlagg sysasm sysaux sysdate sysdatetimeoffset sysdba sysoper system system_user sysutcdatetime table tables tablespace tan tdo template temporary terminated tertiary_weights test than then thread through tier ties time time_format time_zone timediff timefromparts timeout timestamp timestampadd timestampdiff timezone_abbr timezone_minute timezone_region to to_base64 to_date to_days to_seconds todatetimeoffset trace tracking transaction transactional translate translation treat trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse type ub1 ub2 ub4 ucase unarchived unbounded uncompress under undo unhex unicode uniform uninstall union unique unix_timestamp unknown unlimited unlock unpivot unrecoverable unsafe unsigned until untrusted unusable unused update updated upgrade upped upper upsert url urowid usable usage use use_stored_outlines user user_data user_resources users using utc_date utc_timestamp uuid uuid_short validate validate_password_strength validation valist value values var var_samp varcharc vari varia variab variabl variable variables variance varp varraw varrawc varray verify version versions view virtual visible void wait wallet warning warnings week weekday weekofyear wellformed when whene whenev wheneve whenever where while whitespace with within without work wrapped xdb xml xmlagg xmlattributes xmlcast xmlcolattval xmlelement xmlexists xmlforest xmlindex xmlnamespaces xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltype xor year year_to_month years yearweek",
literal:"true false null",built_in:"array bigint binary bit blob boolean char character date dec decimal float int int8 integer interval number numeric real record serial serial8 smallint text varchar varying void"},c:[{cN:"string",b:"'",e:"'",c:[a.BE,{b:"''"}]},{cN:"string",b:'"',e:'"',c:[a.BE,{b:'""'}]},{cN:"string",b:"`",e:"`",c:[a.BE]},a.CNM,a.CBCM,h]},a.CBCM,h]}});
hljs.registerLanguage("cpp",function(a){var h={cN:"keyword",b:"\\b[a-z\\d_]*_t\\b"},e={cN:"string",v:[{b:'(u8?|U)?L?"',e:'"',i:"\\n",c:[a.BE]},{b:'(u8?|U)?R"',e:'"',c:[a.BE]},{b:"'\\\\?.",e:"'",i:"."}]},b={cN:"number",v:[{b:"\\b(0b[01']+)"},{b:"\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{b:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],r:0},g={cN:"meta",b:/#\s*[a-z]+\b/,e:/$/,k:{"meta-keyword":"if else elif endif define undef warning error line pragma ifdef ifndef include"},
c:[{b:/\\\n/,r:0},a.inherit(e,{cN:"meta-string"}),{cN:"meta-string",b:"<",e:">",i:"\\n"},a.CLCM,a.CBCM]},f=a.IR+"\\s*\\(",l={keyword:"int float while private char catch import module export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const struct for static_cast|10 union namespace unsigned long volatile static protected bool template mutable if public friend do goto auto void enum else break extern using class asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue inline delete alignof constexpr decltype noexcept static_assert thread_local restrict _Bool complex _Complex _Imaginary atomic_bool atomic_char atomic_schar atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong atomic_ullong new throw return",
built_in:"std string cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr",
literal:"true false nullptr NULL"},k=[h,a.CLCM,a.CBCM,b,e];return{aliases:"c cc h c++ h++ hpp".split(" "),k:l,i:"</",c:k.concat([g,{b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:l,c:["self",h]},{b:a.IR+"::",k:l},{v:[{b:/=/,e:/;/},{b:/\(/,e:/\)/},{bK:"new throw return else",e:/;/}],k:l,c:k.concat([{b:/\(/,e:/\)/,k:l,c:k.concat(["self"]),r:0}]),r:0},{cN:"function",b:"("+a.IR+"[\\*&\\s]+)+"+
f,rB:!0,e:/[{;=]/,eE:!0,k:l,i:/[^\w\s\*&]/,c:[{b:f,rB:!0,c:[a.TM],r:0},{cN:"params",b:/\(/,e:/\)/,k:l,r:0,c:[a.CLCM,a.CBCM,e,b,h]},a.CLCM,a.CBCM,g]}]),exports:{preprocessor:g,strings:e,k:l}}});
hljs.registerLanguage("ruby",function(a){var h={keyword:"and then defined module in return redo if BEGIN retry end for self when next until do begin unless END rescue else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",literal:"true false nil"},e={cN:"doctag",b:"@[A-Za-z]+"},b={b:"#<",e:">"},e=[a.C("#","$",{c:[e]}),a.C("^\\=begin","^\\=end",{c:[e],r:10}),a.C("^__END__","\\n$")],g={cN:"subst",b:"#\\{",e:"}",k:h},f={cN:"string",
c:[a.BE,g],v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:/`/,e:/`/},{b:"%[qQwWx]?\\(",e:"\\)"},{b:"%[qQwWx]?\\[",e:"\\]"},{b:"%[qQwWx]?{",e:"}"},{b:"%[qQwWx]?<",e:">"},{b:"%[qQwWx]?/",e:"/"},{b:"%[qQwWx]?%",e:"%"},{b:"%[qQwWx]?-",e:"-"},{b:"%[qQwWx]?\\|",e:"\\|"},{b:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/},{b:/<<(-?)\w+$/,e:/^\s*\w+$/}]},l={cN:"params",b:"\\(",e:"\\)",endsParent:!0,k:h};a=[f,b,{cN:"class",bK:"class module",e:"$|;",i:/=/,c:[a.inherit(a.TM,{b:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),
{b:"<\\s*",c:[{b:"("+a.IR+"::)?"+a.IR}]}].concat(e)},{cN:"function",bK:"def",e:"$|;",c:[a.inherit(a.TM,{b:"[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?"}),l].concat(e)},{b:a.IR+"::"},{cN:"symbol",b:a.UIR+"(\\!|\\?)?:",r:0},{cN:"symbol",b:":(?!\\s)",c:[f,{b:"[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?"}],r:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},
{cN:"params",b:/\|/,e:/\|/,k:h},{b:"("+a.RSR+")\\s*",c:[b,{cN:"regexp",c:[a.BE,g],i:/\n/,v:[{b:"/",e:"/[a-z]*"},{b:"%r{",e:"}[a-z]*"},{b:"%r\\(",e:"\\)[a-z]*"},{b:"%r!",e:"![a-z]*"},{b:"%r\\[",e:"\\][a-z]*"}]}].concat(e),r:0}].concat(e);g.c=a;l.c=a;return{aliases:["rb","gemspec","podspec","thor","irb"],k:h,i:/\/\*/,c:e.concat([{b:/^\s*=>/,starts:{e:"$",c:a}},{cN:"meta",b:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+>|(\\w+-)?\\d+\\.\\d+\\.\\d(p\\d+)?[^>]+>)",starts:{e:"$",c:a}}]).concat(a)}});
hljs.registerLanguage("java",function(a){return{aliases:["jsp"],k:"false synchronized int abstract float private char boolean static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports do",i:/<\/|#/,c:[a.C("/\\*\\*","\\*/",{r:0,c:[{b:/\w+@/,r:0},{cN:"doctag",b:"@[A-Za-z]+"}]}),
a.CLCM,a.CBCM,a.ASM,a.QSM,{cN:"class",bK:"class interface",e:/[{;=]/,eE:!0,k:"class interface",i:/[:"\[\]]/,c:[{bK:"extends implements"},a.UTM]},{bK:"new throw return else",r:0},{cN:"function",b:"([\u00c0-\u02b8a-zA-Z_$][\u00c0-\u02b8a-zA-Z_$0-9]*(<[\u00c0-\u02b8a-zA-Z_$][\u00c0-\u02b8a-zA-Z_$0-9]*(\\s*,\\s*[\u00c0-\u02b8a-zA-Z_$][\u00c0-\u02b8a-zA-Z_$0-9]*)*>)?\\s+)+"+a.UIR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:"false synchronized int abstract float private char boolean static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports do",
c:[{b:a.UIR+"\\s*\\(",rB:!0,r:0,c:[a.UTM]},{cN:"params",b:/\(/,e:/\)/,k:"false synchronized int abstract float private char boolean static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports do",r:0,c:[a.ASM,a.QSM,a.CNM,a.CBCM]},a.CLCM,a.CBCM]},{cN:"number",b:"\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",
r:0},{cN:"meta",b:"@[A-Za-z]+"}]}});(function(){function a(a){var b={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Specify a prefix to generated header ids",type:"string"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",
type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,
describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",
type:"boolean"}};if(!1===a)return JSON.parse(JSON.stringify(b));a={};for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e].defaultValue);return a}function h(a,e){var f=e?"Error in "+e+" extension->":"Error in unnamed extension",g={valid:!0,error:""};b.helper.isArray(a)||(a=[a]);for(var h=0;h<a.length;++h){var k=f+" sub-extension "+h+": ",l=a[h];if("object"!=typeof l)return g.valid=!1,g.error=k+"must be an object, but "+typeof l+" given",g;if(!b.helper.isString(l.type))return g.valid=!1,g.error=k+'property "type" must be a string, but '+
typeof l.type+" given",g;var n=l.type=l.type.toLowerCase();if("language"===n&&(n=l.type="lang"),"html"===n&&(n=l.type="output"),"lang"!==n&&"output"!==n&&"listener"!==n)return g.valid=!1,g.error=k+"type "+n+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',g;if("listener"===n){if(b.helper.isUndefined(l.listeners))return g.valid=!1,g.error=k+'. Extensions of type "listener" must have a property called "listeners"',g}else if(b.helper.isUndefined(l.filter)&&b.helper.isUndefined(l.regex))return g.valid=
!1,g.error=k+n+' extensions must define either a "regex" property or a "filter" method',g;if(l.listeners){if("object"!=typeof l.listeners)return g.valid=!1,g.error=k+'"listeners" property must be an object but '+typeof l.listeners+" given",g;for(var z in l.listeners)if(l.listeners.hasOwnProperty(z)&&"function"!=typeof l.listeners[z])return g.valid=!1,g.error=k+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+z+" must be a function but "+typeof l.listeners[z]+" given",
g}if(l.filter){if("function"!=typeof l.filter)return g.valid=!1,g.error=k+'"filter" must be a function, but '+typeof l.filter+" given",g}else if(l.regex){if(b.helper.isString(l.regex)&&(l.regex=new RegExp(l.regex,"g")),!l.regex instanceof RegExp)return g.valid=!1,g.error=k+'"regex" property must either be a string or a RegExp object, but '+typeof l.regex+" given",g;if(b.helper.isUndefined(l.replace))return g.valid=!1,g.error=k+'"regex" extensions must implement a replace string or function',g}}return g}
function e(a,b){return"~E"+b.charCodeAt(0)+"E"}var b={},g={},f={},l=a(!0),k={github:{omitExtraWLInCodeBlocks:!0,prefixHeaderId:"user-content-",simplifiedAutoLink:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0},vanilla:a(!0)};b.helper={};b.extensions={};b.setOption=function(a,b){return l[a]=b,this};b.getOption=function(a){return l[a]};b.getOptions=function(){return l};b.resetOptions=function(){l=a(!0)};
b.setFlavor=function(a){if(k.hasOwnProperty(a)){a=k[a];for(var b in a)a.hasOwnProperty(b)&&(l[b]=a[b])}};b.getDefaultOptions=function(b){return a(b)};b.subParser=function(a,e){if(b.helper.isString(a)){if("undefined"==typeof e){if(g.hasOwnProperty(a))return g[a];throw Error("SubParser named "+a+" not registered!");}g[a]=e}};b.extension=function(a,e){if(!b.helper.isString(a))throw Error("Extension 'name' must be a string");if(a=b.helper.stdExtName(a),b.helper.isUndefined(e)){if(!f.hasOwnProperty(a))throw Error("Extension named "+
a+" is not registered!");return f[a]}"function"==typeof e&&(e=e());b.helper.isArray(e)||(e=[e]);var g=h(e,a);if(!g.valid)throw Error(g.error);f[a]=e};b.getAllExtensions=function(){return f};b.removeExtension=function(a){delete f[a]};b.resetExtensions=function(){f={}};b.validateExtension=function(a){a=h(a,null);return a.valid?!0:(console.warn(a.error),!1)};b.hasOwnProperty("helper")||(b.helper={});b.helper.isString=function(a){return"string"==typeof a||a instanceof String};b.helper.isFunction=function(a){var b=
{};return a&&"[object Function]"===b.toString.call(a)};b.helper.forEach=function(a,b){if("function"==typeof a.forEach)a.forEach(b);else for(var e=0;e<a.length;e++)b(a[e],e,a)};b.helper.isArray=function(a){return a.constructor===Array};b.helper.isUndefined=function(a){return"undefined"==typeof a};b.helper.stdExtName=function(a){return a.replace(/[_-]||\s/g,"").toLowerCase()};b.helper.escapeCharactersCallback=e;b.helper.escapeCharacters=function(a,b,f){b="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";f&&
(b="\\\\"+b);return a.replace(new RegExp(b,"g"),e)};var n=function(a,b,e,f){var g,h,k,l;h=f||"";f=-1<h.indexOf("g");e=new RegExp(b+"|"+e,"g"+h.replace(/g/g,""));var n=new RegExp(b,h.replace(/g/g,"")),B=[];do for(b=0;h=e.exec(a);)if(n.test(h[0]))b++||(g=e.lastIndex,k=g-h[0].length);else if(b&&!--b&&(l=h.index+h[0].length,B.push({left:{start:k,end:g},match:{start:g,end:h.index},right:{start:h.index,end:l},wholeMatch:{start:k,end:l}}),!f))return B;while(b&&(e.lastIndex=g));return B};b.helper.matchRecursiveRegExp=
function(a,b,e,f){b=n(a,b,e,f);e=[];for(f=0;f<b.length;++f)e.push([a.slice(b[f].wholeMatch.start,b[f].wholeMatch.end),a.slice(b[f].match.start,b[f].match.end),a.slice(b[f].left.start,b[f].left.end),a.slice(b[f].right.start,b[f].right.end)]);return e};b.helper.replaceRecursiveRegExp=function(a,e,f,g,h){if(!b.helper.isFunction(e)){var k=e;e=function(){return k}}f=n(a,f,g,h);h=a;g=f.length;if(0<g){h=[];0!==f[0].wholeMatch.start&&h.push(a.slice(0,f[0].wholeMatch.start));for(var l=0;g>l;++l)h.push(e(a.slice(f[l].wholeMatch.start,
f[l].wholeMatch.end),a.slice(f[l].match.start,f[l].match.end),a.slice(f[l].left.start,f[l].left.end),a.slice(f[l].right.start,f[l].right.end))),g-1>l&&h.push(a.slice(f[l].wholeMatch.end,f[l+1].wholeMatch.start));f[g-1].wholeMatch.end<a.length&&h.push(a.slice(f[g-1].wholeMatch.end));h=h.join("")}return h};b.helper.isUndefined(console)&&(console={warn:function(a){alert(a)},log:function(a){alert(a)},error:function(a){throw a;}});b.Converter=function(a){function e(a,k){if(k=k||null,b.helper.isString(a)){if(a=
b.helper.stdExtName(a),k=a,b.extensions[a]){console.warn("DEPRECATION WARNING: "+a+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!");var l=b.extensions[a],m=a;"function"==typeof l&&(l=l(new b.Converter));b.helper.isArray(l)||(l=[l]);m=h(l,m);if(!m.valid)throw Error(m.error);for(m=0;m<l.length;++m)switch(l[m].type){case "lang":u.push(l[m]);break;case "output":y.push(l[m]);break;default:throw Error("Extension loader error: Type unrecognized!!!");
}return}if(b.helper.isUndefined(f[a]))throw Error('Extension "'+a+'" could not be loaded. It was either not found or is not a valid extension.');a=f[a]}"function"==typeof a&&(a=a());b.helper.isArray(a)||(a=[a]);m=h(a,k);if(!m.valid)throw Error(m.error);for(m=0;m<a.length;++m){switch(a[m].type){case "lang":u.push(a[m]);break;case "output":y.push(a[m])}if(a[m].hasOwnProperty(x))for(l in a[m].listeners)a[m].listeners.hasOwnProperty(l)&&g(l,a[m].listeners[l])}}function g(a,e){if(!b.helper.isString(a))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+
typeof a+" given");if("function"!=typeof e)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof e+" given");x.hasOwnProperty(a)||(x[a]=[]);x[a].push(e)}function r(a){var b=a.match(/^\s*/)[0].length;return a.replace(new RegExp("^\\s{0,"+b+"}","gm"),"")}var n={},u=[],y=[],x={};(function(){a=a||{};for(var f in l)l.hasOwnProperty(f)&&(n[f]=l[f]);if("object"!=typeof a)throw Error("Converter expects the passed parameter to be an object, but "+typeof a+" was passed instead.");
for(var g in a)a.hasOwnProperty(g)&&(n[g]=a[g]);n.extensions&&b.helper.forEach(n.extensions,e)})();this._dispatch=function(a,b,e,f){if(x.hasOwnProperty(a))for(var g=0;g<x[a].length;++g){var h=x[a][g](a,b,this,e,f);h&&"undefined"!=typeof h&&(b=h)}return b};this.listen=function(a,b){return g(a,b),this};this.makeHtml=function(a){if(!a)return a;var e={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:u,outputModifiers:y,converter:this,
ghCodeBlocks:[]};return a=a.replace(/~/g,"~T"),a=a.replace(/\$/g,"~D"),a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n"),n.smartIndentationFix&&(a=r(a)),a="\n\n"+a+"\n\n",a=b.subParser("detab")(a,n,e),a=b.subParser("stripBlankLines")(a,n,e),b.helper.forEach(u,function(f){a=b.subParser("runExtension")(f,a,n,e)}),a=b.subParser("hashPreCodeTags")(a,n,e),a=b.subParser("githubCodeBlocks")(a,n,e),a=b.subParser("hashHTMLBlocks")(a,n,e),a=b.subParser("hashHTMLSpans")(a,n,e),a=b.subParser("stripLinkDefinitions")(a,
n,e),a=b.subParser("blockGamut")(a,n,e),a=b.subParser("unhashHTMLSpans")(a,n,e),a=b.subParser("unescapeSpecialChars")(a,n,e),a=a.replace(/~D/g,"$$"),a=a.replace(/~T/g,"~"),b.helper.forEach(y,function(f){a=b.subParser("runExtension")(f,a,n,e)}),a};this.setOption=function(a,b){n[a]=b};this.getOption=function(a){return n[a]};this.getOptions=function(){return n};this.addExtension=function(a,b){e(a,b||null)};this.useExtension=function(a){e(a)};this.setFlavor=function(a){if(k.hasOwnProperty(a)){a=k[a];
for(var b in a)a.hasOwnProperty(b)&&(n[b]=a[b])}};this.removeExtension=function(a){b.helper.isArray(a)||(a=[a]);for(var e=0;e<a.length;++e){for(var f=a[e],g=0;g<u.length;++g)u[g]===f&&u[g].splice(g,1);for(;0<y.length;++g)y[0]===f&&y[0].splice(g,1)}};this.getAllExtensions=function(){return{language:u,output:y}}};b.subParser("anchors",function(a,e,f){a=f.converter._dispatch("anchors.before",a,e,f);var g=function(a,e,g,h,k,l,m,r){b.helper.isUndefined(r)&&(r="");a=e;e=h.toLowerCase();if(!k)if(e||(e=g.toLowerCase().replace(/ ?\n/g,
" ")),b.helper.isUndefined(f.gUrls[e])){if(!(-1<a.search(/\(\s*\)$/m)))return a;k=""}else k=f.gUrls[e],b.helper.isUndefined(f.gTitles[e])||(r=f.gTitles[e]);k=b.helper.escapeCharacters(k,"*_",!1);a='<a href="'+k+'"';return""!==r&&null!==r&&(r=r.replace(/"/g,"&quot;"),r=b.helper.escapeCharacters(r,"*_",!1),a+=' title="'+r+'"'),a+(">"+g+"</a>")};return a=a.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)][ ]?(?:\n[ ]*)?\[(.*?)])()()()()/g,g),a=a.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,
g),a=a.replace(/(\[([^\[\]]+)])()()()()()/g,g),a=f.converter._dispatch("anchors.after",a,e,f)});b.subParser("autoLinks",function(a,e,f){function g(a,b){var e=b;return/^www\./i.test(b)&&(b=b.replace(/^www\./i,"http://www.")),'<a href="'+b+'">'+e+"</a>"}function h(a,e){var f=b.subParser("unescapeSpecialChars")(e);return b.subParser("encodeEmailAddress")(f)}a=f.converter._dispatch("autoLinks.before",a,e,f);var k=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+)(?=\s|$)(?!["<>])/gi,l=/(?:^|\s)([A-Za-z0-9!#$%&'*+-\/=?^_`\{|}~\.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?:$|\s)/gi;
return a=a.replace(/<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)>/gi,g),a=a.replace(/<(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,h),e.simplifiedAutoLink&&(a=a.replace(k,g),a=a.replace(l,h)),a=f.converter._dispatch("autoLinks.after",a,e,f)});b.subParser("blockGamut",function(a,e,f){a=f.converter._dispatch("blockGamut.before",a,e,f);a=b.subParser("blockQuotes")(a,e,f);a=b.subParser("headers")(a,e,f);var g=b.subParser("hashBlock")("<hr />",e,f);return a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,
g),a=a.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,g),a=a.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,g),a=b.subParser("lists")(a,e,f),a=b.subParser("codeBlocks")(a,e,f),a=b.subParser("tables")(a,e,f),a=b.subParser("hashHTMLBlocks")(a,e,f),a=b.subParser("paragraphs")(a,e,f),f.converter._dispatch("blockGamut.after",a,e,f)});b.subParser("blockQuotes",function(a,e,f){return a=f.converter._dispatch("blockQuotes.before",a,e,f),a=a.replace(/((^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,g){var h=g;return h=
h.replace(/^[ \t]*>[ \t]?/gm,"~0"),h=h.replace(/~0/g,""),h=h.replace(/^[ \t]+$/gm,""),h=b.subParser("githubCodeBlocks")(h,e,f),h=b.subParser("blockGamut")(h,e,f),h=h.replace(/(^|\n)/g,"$1  "),h=h.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var e=b;return e=e.replace(/^  /gm,"~0"),e.replace(/~0/g,"")}),b.subParser("hashBlock")("<blockquote>\n"+h+"\n</blockquote>",e,f)}),a=f.converter._dispatch("blockQuotes.after",a,e,f)});b.subParser("codeBlocks",function(a,e,f){a=f.converter._dispatch("codeBlocks.before",
a,e,f);a+="~0";return a=a.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(a,g,h){a=g;g="\n";return a=b.subParser("outdent")(a),a=b.subParser("encodeCode")(a),a=b.subParser("detab")(a),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),e.omitExtraWLInCodeBlocks&&(g=""),a="<pre><code>"+a+g+"</code></pre>",b.subParser("hashBlock")(a,e,f)+h}),a=a.replace(/~0/,""),a=f.converter._dispatch("codeBlocks.after",a,e,f)});b.subParser("codeSpans",function(a,e,f){return a=f.converter._dispatch("codeSpans.before",
a,e,f),"undefined"==typeof a&&(a=""),a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,e,f,g){a=g;return a=a.replace(/^([ \t]*)/g,""),a=a.replace(/[ \t]*$/g,""),a=b.subParser("encodeCode")(a),e+"<code>"+a+"</code>"}),a=f.converter._dispatch("codeSpans.after",a,e,f)});b.subParser("detab",function(a){return a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"~A~B"),a=a.replace(/~B(.+?)~A/g,function(a,b){for(var e=b,f=4-e.length%4,g=0;f>g;g++)e+=" ";return e}),a=a.replace(/~A/g,"    "),a=a.replace(/~B/g,
"")});b.subParser("encodeAmpsAndAngles",function(a){return a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a.replace(/<(?![a-z\/?\$!])/gi,"&lt;")});b.subParser("encodeBackslashEscapes",function(a){return a=a.replace(/\\(\\)/g,b.helper.escapeCharactersCallback),a.replace(/\\([`*_{}\[\]()>#+-.!])/g,b.helper.escapeCharactersCallback)});b.subParser("encodeCode",function(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),b.helper.escapeCharacters(a,"*_{}[]\\",
!1)});b.subParser("encodeEmailAddress",function(a){var b=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){return"&#x"+a.charCodeAt(0).toString(16)+";"},function(a){return a}];return a="mailto:"+a,a=a.replace(/./g,function(a){if("@"===a)a=b[Math.floor(2*Math.random())](a);else if(":"!==a){var e=Math.random();a=.9<e?b[2](a):.45<e?b[1](a):b[0](a)}return a}),a='<a href="'+a+'">'+a+"</a>",a=a.replace(/">.+:/g,'">')});b.subParser("escapeSpecialCharsWithinTagAttributes",function(a){return a=a.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi,
function(a){a=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return b.helper.escapeCharacters(a,"\\`*_",!1)})});b.subParser("githubCodeBlocks",function(a,e,f){return e.ghCodeBlocks?(a=f.converter._dispatch("githubCodeBlocks.before",a,e,f),a+="~0",a=a.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(a,g,h){var k=e.omitExtraWLInCodeBlocks?"":"\n";return h=b.subParser("encodeCode")(h),h=b.subParser("detab")(h),h=h.replace(/^\n+/g,""),h=h.replace(/\n+$/g,""),h="<pre><code"+(g?' class="'+g+" language-"+g+'"':
"")+">"+h+k+"</code></pre>",h=b.subParser("hashBlock")(h,e,f),"\n\n~G"+(f.ghCodeBlocks.push({text:a,codeblock:h})-1)+"G\n\n"}),a=a.replace(/~0/,""),f.converter._dispatch("githubCodeBlocks.after",a,e,f)):a});b.subParser("hashBlock",function(a,b,e){return a=a.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(e.gHtmlBlocks.push(a)-1)+"K\n\n"});b.subParser("hashElement",function(a,b,e){return function(a,b){var f=b;return f=f.replace(/\n\n/g,"\n"),f=f.replace(/^\n/,""),f=f.replace(/\n+$/g,""),"\n\n~K"+(e.gHtmlBlocks.push(f)-
1)+"K\n\n"}});b.subParser("hashHTMLBlocks",function(a,e,f){for(var g="pre div h1 h2 h3 h4 h5 h6 blockquote table dl ol ul script noscript form fieldset iframe math style section header footer nav article aside address audio canvas figure hgroup output video p".split(" "),h=function(a,b,e,g){return-1!==e.search(/\bmarkdown\b/)&&(a=e+f.converter.makeHtml(b)+g),"\n\n~K"+(f.gHtmlBlocks.push(a)-1)+"K\n\n"},k=0;k<g.length;++k)a=b.helper.replaceRecursiveRegExp(a,h,"^ {0,3}<"+g[k]+"\\b[^>]*>","</"+g[k]+">",
"gim");return a=a.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,b.subParser("hashElement")(a,e,f)),a=b.helper.replaceRecursiveRegExp(a,function(a){return"\n\n~K"+(f.gHtmlBlocks.push(a)-1)+"K\n\n"},"^ {0,3}\x3c!--","--\x3e","gm"),a=a.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,b.subParser("hashElement")(a,e,f))});b.subParser("hashHTMLSpans",function(a,e,f){e=b.helper.matchRecursiveRegExp(a,"<code\\b[^>]*>","</code>","gi");for(var g=0;g<e.length;++g)a=a.replace(e[g][0],
"~L"+(f.gHtmlSpans.push(e[g][0])-1)+"L");return a});b.subParser("unhashHTMLSpans",function(a,b,e){for(b=0;b<e.gHtmlSpans.length;++b)a=a.replace("~L"+b+"L",e.gHtmlSpans[b]);return a});b.subParser("hashPreCodeTags",function(a,e,f){return a=b.helper.replaceRecursiveRegExp(a,function(a,e,g,h){e=g+b.subParser("encodeCode")(e)+h;return"\n\n~G"+(f.ghCodeBlocks.push({text:a,codeblock:e})-1)+"G\n\n"},"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim")});b.subParser("headers",function(a,
e,f){function g(a){var e;a=a.replace(/[^\w]/g,"").toLowerCase();return f.hashLinkCounts[a]?e=a+"-"+f.hashLinkCounts[a]++:(e=a,f.hashLinkCounts[a]=1),!0===h&&(h="section"),b.helper.isString(h)?h+e:e}a=f.converter._dispatch("headers.before",a,e,f);var h=e.prefixHeaderId,k=isNaN(parseInt(e.headerLevelStart))?1:parseInt(e.headerLevelStart),l=e.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;return a=a.replace(e.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,
function(a,h){var l=b.subParser("spanGamut")(h,e,f),m=e.noHeaderId?"":' id="'+g(h)+'"',l="<h"+k+m+">"+l+"</h"+k+">";return b.subParser("hashBlock")(l,e,f)}),a=a.replace(l,function(a,h){var l=b.subParser("spanGamut")(h,e,f),m=e.noHeaderId?"":' id="'+g(h)+'"',n=k+1,l="<h"+n+m+">"+l+"</h"+n+">";return b.subParser("hashBlock")(l,e,f)}),a=a.replace(/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(a,h,l){a=b.subParser("spanGamut")(l,e,f);l=e.noHeaderId?"":' id="'+g(l)+'"';h=k-1+h.length;h="<h"+h+l+">"+a+"</h"+
h+">";return b.subParser("hashBlock")(h,e,f)}),a=f.converter._dispatch("headers.after",a,e,f)});b.subParser("images",function(a,e,f){function g(a,e,h,k,l,m,r,n){r=f.gUrls;var p=f.gTitles,C=f.gDimensions;if(h=h.toLowerCase(),n||(n=""),""===k||null===k){if((""===h||null===h)&&(h=e.toLowerCase().replace(/ ?\n/g," ")),b.helper.isUndefined(r[h]))return a;k=r[h];b.helper.isUndefined(p[h])||(n=p[h]);b.helper.isUndefined(C[h])||(l=C[h].width,m=C[h].height)}e=e.replace(/"/g,"&quot;");e=b.helper.escapeCharacters(e,
"*_",!1);k=b.helper.escapeCharacters(k,"*_",!1);a='<img src="'+k+'" alt="'+e+'"';return n&&(n=n.replace(/"/g,"&quot;"),n=b.helper.escapeCharacters(n,"*_",!1),a+=' title="'+n+'"'),l&&m&&(l="*"===l?"auto":l,m="*"===m?"auto":m,a+=' width="'+l+'"',a+=' height="'+m+'"'),a+" />"}a=f.converter._dispatch("images.before",a,e,f);return a=a.replace(/!\[([^\]]*?)] ?(?:\n *)?\[(.*?)]()()()()()/g,g),a=a.replace(/!\[(.*?)]\s?\([ \t]*()<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\)/g,
g),a=f.converter._dispatch("images.after",a,e,f)});b.subParser("italicsAndBold",function(a,b,e){return a=e.converter._dispatch("italicsAndBold.before",a,b,e),b.literalMidWordUnderscores?(a=a.replace(/(^|\s|>|\b)__(?=\S)([\s\S]+?)__(?=\b|<|\s|$)/gm,"$1<strong>$2</strong>"),a=a.replace(/(^|\s|>|\b)_(?=\S)([\s\S]+?)_(?=\b|<|\s|$)/gm,"$1<em>$2</em>"),a=a.replace(/(\*\*)(?=\S)([^\r]*?\S[*]*)\1/g,"<strong>$2</strong>"),a=a.replace(/(\*)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")):(a=a.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,
"<strong>$2</strong>"),a=a.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")),e.converter._dispatch("italicsAndBold.after",a,b,e)});b.subParser("lists",function(a,e,f){function g(a,h){f.gListLevel++;a=a.replace(/\n{2,}$/,"\n");a+="~0";var k=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,l=/\n[ \t]*\n(?!~0)/.test(a);return e.disableForced4SpacesIndentedSublists&&(k=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm),
a=a.replace(k,function(a,g,h,k,m,n,r){r=r&&""!==r.trim();a=b.subParser("outdent")(m,e,f);h="";return n&&e.tasklists&&(h=' class="task-list-item" style="list-style-type: none;"',a=a.replace(/^[ \t]*\[(x|X| )?]/m,function(){var a='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return r&&(a+=" checked"),a+">"})),g||-1<a.search(/\n{2,}/)?(a=b.subParser("githubCodeBlocks")(a,e,f),a=b.subParser("blockGamut")(a,e,f)):(a=b.subParser("lists")(a,e,f),a=a.replace(/\n$/,
""),a=l?b.subParser("paragraphs")(a,e,f):b.subParser("spanGamut")(a,e,f)),a="<li"+h+">"+a+"</li>\n"}),a=a.replace(/~0/g,""),f.gListLevel--,h&&(a=a.replace(/\s+$/,"")),a}function h(a,b,f){var k=e.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,l=e.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,m="ul"===b?k:l,n="";return-1!==a.search(m)?!function C(a){var e=a.search(m);-1!==e?(n+="\n<"+b+">\n"+g(a.slice(0,e),!!f)+"</"+b+">\n",b="ul"===b?"ol":
"ul",m="ul"===b?k:l,C(a.slice(e))):n+="\n<"+b+">\n"+g(a,!!f)+"</"+b+">\n"}(a):n="\n<"+b+">\n"+g(a,!!f)+"</"+b+">\n",n}return a=f.converter._dispatch("lists.before",a,e,f),a+="~0",a=f.gListLevel?a.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(a,b,e){a=-1<e.search(/[*+-]/g)?"ul":"ol";return h(b,a,!0)}):a.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(a,b,e,f){a=-1<f.search(/[*+-]/g)?
"ul":"ol";return h(e,a,!1)}),a=a.replace(/~0/,""),a=f.converter._dispatch("lists.after",a,e,f)});b.subParser("outdent",function(a){return a=a.replace(/^(\t|[ ]{1,4})/gm,"~0"),a.replace(/~0/g,"")});b.subParser("paragraphs",function(a,e,f){a=f.converter._dispatch("paragraphs.before",a,e,f);a=a.replace(/^\n+/g,"");a=a.replace(/\n+$/g,"");for(var g=a.split(/\n{2,}/g),h=[],k=g.length,l=0;k>l;l++){var n=g[l];0<=n.search(/~(K|G)(\d+)\1/g)?h.push(n):(n=b.subParser("spanGamut")(n,e,f),n=n.replace(/^([ \t]*)/g,
"<p>"),n+="</p>",h.push(n))}k=h.length;for(l=0;k>l;l++){for(var z="",g=h[l],n=!1;0<=g.search(/~(K|G)(\d+)\1/);)z=RegExp.$2,z="K"===RegExp.$1?f.gHtmlBlocks[z]:n?b.subParser("encodeCode")(f.ghCodeBlocks[z].text):f.ghCodeBlocks[z].codeblock,z=z.replace(/\$/g,"$$$$"),g=g.replace(/(\n\n)?~(K|G)\d+\2(\n\n)?/,z),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(g)&&(n=!0);h[l]=g}return a=h.join("\n"),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),f.converter._dispatch("paragraphs.after",a,e,f)});b.subParser("runExtension",
function(a,b,e,f){a.filter?b=a.filter(b,f.converter,e):a.regex&&(e=a.regex,!e instanceof RegExp&&(e=new RegExp(e,"g")),b=b.replace(e,a.replace));return b});b.subParser("spanGamut",function(a,e,f){return a=f.converter._dispatch("spanGamut.before",a,e,f),a=b.subParser("codeSpans")(a,e,f),a=b.subParser("escapeSpecialCharsWithinTagAttributes")(a,e,f),a=b.subParser("encodeBackslashEscapes")(a,e,f),a=b.subParser("images")(a,e,f),a=b.subParser("anchors")(a,e,f),a=b.subParser("autoLinks")(a,e,f),a=b.subParser("encodeAmpsAndAngles")(a,
e,f),a=b.subParser("italicsAndBold")(a,e,f),a=b.subParser("strikethrough")(a,e,f),a=a.replace(/  +\n/g," <br />\n"),f.converter._dispatch("spanGamut.after",a,e,f)});b.subParser("strikethrough",function(a,b,e){return b.strikethrough&&(a=e.converter._dispatch("strikethrough.before",a,b,e),a=a.replace(/(?:~T){2}([\s\S]+?)(?:~T){2}/g,"<del>$1</del>"),a=e.converter._dispatch("strikethrough.after",a,b,e)),a});b.subParser("stripBlankLines",function(a){return a.replace(/^[ \t]+$/gm,"")});b.subParser("stripLinkDefinitions",
function(a,e,f){return a+="~0",a=a.replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=~0))/gm,function(a,g,h,k,l,m,n){return g=g.toLowerCase(),f.gUrls[g]=b.subParser("encodeAmpsAndAngles")(h),m?m+n:(n&&(f.gTitles[g]=n.replace(/"|'/g,"&quot;")),e.parseImgDimensions&&k&&l&&(f.gDimensions[g]={width:k,height:l}),"")}),a=a.replace(/~0/,"")});b.subParser("tables",function(a,e,f){function g(a){return/^:[ \t]*--*$/.test(a)?
' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(a)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(a)?' style="text-align:center;"':""}function h(a,g){var k="";return a=a.trim(),e.tableHeaderId&&(k=' id="'+a.replace(/ /g,"_").toLowerCase()+'"'),a=b.subParser("spanGamut")(a,e,f),"<th"+k+g+">"+a+"</th>\n"}function k(a,g){var h=b.subParser("spanGamut")(a,e,f);return"<td"+g+">"+h+"</td>\n"}function l(a,b){for(var e="<table>\n<thead>\n<tr>\n",f=a.length,g=0;f>g;++g)e+=a[g];e+="</tr>\n</thead>\n<tbody>\n";
for(g=0;g<b.length;++g){for(var e=e+"<tr>\n",h=0;f>h;++h)e+=b[g][h];e+="</tr>\n"}return e+"</tbody>\n</table>\n"}return e.tables?(a=f.converter._dispatch("tables.before",a,e,f),a=a.replace(/^ {0,3}\|?.+\|.+\n[ \t]{0,3}\|?[ \t]*:?[ \t]*(?:-|=){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:-|=){2,}[\s\S]+?(?:\n\n|~0)/gm,function(a){var e,f=a.split("\n");for(e=0;e<f.length;++e)/^ {0,3}\|/.test(f[e])&&(f[e]=f[e].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(f[e])&&(f[e]=f[e].replace(/\|[ \t]*$/,""));var m=f[0].split("|").map(function(a){return a.trim()}),
n=f[1].split("|").map(function(a){return a.trim()}),q=[],p=[],E=[],H=[];f.shift();f.shift();for(e=0;e<f.length;++e)""!==f[e].trim()&&q.push(f[e].split("|").map(function(a){return a.trim()}));if(m.length<n.length)return a;for(e=0;e<n.length;++e)E.push(g(n[e]));for(e=0;e<m.length;++e)b.helper.isUndefined(E[e])&&(E[e]=""),p.push(h(m[e],E[e]));for(e=0;e<q.length;++e){a=[];for(f=0;f<p.length;++f)b.helper.isUndefined(q[e][f]),a.push(k(q[e][f],E[f]));H.push(a)}return l(p,H)}),a=f.converter._dispatch("tables.after",
a,e,f)):a});b.subParser("unescapeSpecialChars",function(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var e=parseInt(b);return String.fromCharCode(e)})});"undefined"!=typeof module&&module.exports?module.exports=b:"function"==typeof define&&define.amd?define(function(){return b}):this.showdown=b}).call(this);+function(a){function h(b){return this.each(function(){var f=a(this),h=f.data("bs.affix"),k="object"==typeof b&&b;h||f.data("bs.affix",h=new e(this,k));if("string"==typeof b)h[b]()})}var e=function(b,f){this.options=a.extend({},e.DEFAULTS,f);this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this));this.$element=a(b);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()};
e.VERSION="3.3.1";e.RESET="affix affix-top affix-bottom";e.DEFAULTS={offset:0,target:window};e.prototype.getState=function(a,b,e,h){var n=this.$target.scrollTop(),m=this.$element.offset(),p=this.$target.height();if(null!=e&&"top"==this.affixed)return n<e?"top":!1;if("bottom"==this.affixed)return null!=e?n+this.unpin<=m.top?!1:"bottom":n+p<=a-h?!1:"bottom";var q=null==this.affixed,n=q?n:m.top;return null!=e&&n<=e?"top":null!=h&&n+(q?p:b)>=a-h?"bottom":!1};e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;
this.$element.removeClass(e.RESET).addClass("affix");var a=this.$target.scrollTop();return this.pinnedOffset=this.$element.offset().top-a};e.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),f=this.options.offset,h=f.top,k=f.bottom,n=a("body").height();"object"!=typeof f&&(k=h=f);"function"==typeof h&&(h=f.top(this.$element));"function"==typeof k&&(k=f.bottom(this.$element));
f=this.getState(n,b,h,k);if(this.affixed!=f){null!=this.unpin&&this.$element.css("top","");var h="affix"+(f?"-"+f:""),m=a.Event(h+".bs.affix");this.$element.trigger(m);if(m.isDefaultPrevented())return;this.affixed=f;this.unpin="bottom"==f?this.getPinnedOffset():null;this.$element.removeClass(e.RESET).addClass(h).trigger(h.replace("affix","affixed")+".bs.affix")}"bottom"==f&&this.$element.offset({top:n-b-k})}};var b=a.fn.affix;a.fn.affix=h;a.fn.affix.Constructor=e;a.fn.affix.noConflict=function(){a.fn.affix=
b;return this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),e=b.data();e.offset=e.offset||{};null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom);null!=e.offsetTop&&(e.offset.top=e.offsetTop);h.call(b,e)})})}(jQuery);
+function(a){var h=function(b){a(b).on("click",'[data-dismiss="alert"]',this.close)};h.VERSION="3.3.1";h.TRANSITION_DURATION=150;h.prototype.close=function(b){function e(){k.detach().trigger("closed.bs.alert").remove()}var f=a(this),l=f.attr("data-target");l||(l=(l=f.attr("href"))&&l.replace(/.*(?=#[^\s]*$)/,""));var k=a(l);b&&b.preventDefault();k.length||(k=f.closest(".alert"));k.trigger(b=a.Event("close.bs.alert"));b.isDefaultPrevented()||(k.removeClass("in"),a.support.transition&&k.hasClass("fade")?
k.one("bsTransitionEnd",e).emulateTransitionEnd(h.TRANSITION_DURATION):e())};var e=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var e=a(this),f=e.data("bs.alert");f||e.data("bs.alert",f=new h(this));"string"==typeof b&&f[b].call(e)})};a.fn.alert.Constructor=h;a.fn.alert.noConflict=function(){a.fn.alert=e;return this};a(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',h.prototype.close)}(jQuery);
+function(a){function h(b){return this.each(function(){var f=a(this),h=f.data("bs.button"),k="object"==typeof b&&b;h||f.data("bs.button",h=new e(this,k));"toggle"==b?h.toggle():b&&h.setState(b)})}var e=function(b,f){this.$element=a(b);this.options=a.extend({},e.DEFAULTS,f);this.isLoading=!1};e.VERSION="3.3.1";e.DEFAULTS={loadingText:"loading..."};e.prototype.setState=function(b){var e=this.$element,h=e.is("input")?"val":"html",k=e.data();b+="Text";null==k.resetText&&e.data("resetText",e[h]());setTimeout(a.proxy(function(){e[h](null==
k[b]?this.options[b]:k[b]);"loadingText"==b?(this.isLoading=!0,e.addClass("disabled").attr("disabled","disabled")):this.isLoading&&(this.isLoading=!1,e.removeClass("disabled").removeAttr("disabled"))},this),0)};e.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var e=this.$element.find("input");"radio"==e.prop("type")&&(e.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active"));a&&e.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",
!this.$element.hasClass("active"));a&&this.$element.toggleClass("active")};var b=a.fn.button;a.fn.button=h;a.fn.button.Constructor=e;a.fn.button.noConflict=function(){a.fn.button=b;return this};a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(b){var e=a(b.target);e.hasClass("btn")||(e=e.closest(".btn"));h.call(e,"toggle");b.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",
/^focus(in)?$/.test(b.type))})}(jQuery);
+function(a){function h(b){return this.each(function(){var g=a(this),h=g.data("bs.carousel"),n=a.extend({},e.DEFAULTS,g.data(),"object"==typeof b&&b),m="string"==typeof b?b:n.slide;h||g.data("bs.carousel",h=new e(this,n));if("number"==typeof b)h.to(b);else if(m)h[m]();else n.interval&&h.pause().cycle()})}var e=function(b,e){this.$element=a(b);this.$indicators=this.$element.find(".carousel-indicators");this.options=e;this.paused=this.sliding=this.interval=this.$active=this.$items=null;this.options.keyboard&&
this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this));"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};e.VERSION="3.3.1";e.TRANSITION_DURATION=600;e.DEFAULTS={interval:5E3,pause:"hover",wrap:!0,keyboard:!0};e.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();
break;default:return}a.preventDefault()}};e.prototype.cycle=function(b){b||(this.paused=!1);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval));return this};e.prototype.getItemIndex=function(a){this.$items=a.parent().children(".item");return this.$items.index(a||this.$active)};e.prototype.getItemForDirection=function(a,b){var e="prev"==a?-1:1,e=(this.getItemIndex(b)+e)%this.$items.length;return this.$items.eq(e)};
e.prototype.to=function(a){var b=this,e=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||0>a))return this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):e==a?this.pause().cycle():this.slide(a>e?"next":"prev",this.$items.eq(a))};e.prototype.pause=function(b){b||(this.paused=!0);this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0));this.interval=clearInterval(this.interval);
return this};e.prototype.next=function(){if(!this.sliding)return this.slide("next")};e.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};e.prototype.slide=function(b,g){var h=this.$element.find(".item.active"),n=g||this.getItemForDirection(b,h),m=this.interval,p="next"==b?"left":"right",q="next"==b?"first":"last",r=this;if(!n.length){if(!this.options.wrap)return;n=this.$element.find(".item")[q]()}if(n.hasClass("active"))return this.sliding=!1;var q=n[0],t=a.Event("slide.bs.carousel",
{relatedTarget:q,direction:p});this.$element.trigger(t);if(!t.isDefaultPrevented()){this.sliding=!0;m&&this.pause();this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),(t=a(this.$indicators.children()[this.getItemIndex(n)]))&&t.addClass("active"));var u=a.Event("slid.bs.carousel",{relatedTarget:q,direction:p});a.support.transition&&this.$element.hasClass("slide")?(n.addClass(b),n[0].offsetWidth,h.addClass(p),n.addClass(p),h.one("bsTransitionEnd",function(){n.removeClass([b,
p].join(" ")).addClass("active");h.removeClass(["active",p].join(" "));r.sliding=!1;setTimeout(function(){r.$element.trigger(u)},0)}).emulateTransitionEnd(e.TRANSITION_DURATION)):(h.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger(u));m&&this.cycle();return this}};var b=a.fn.carousel;a.fn.carousel=h;a.fn.carousel.Constructor=e;a.fn.carousel.noConflict=function(){a.fn.carousel=b;return this};var g=function(b){var e,g=a(this),n=a(g.attr("data-target")||(e=g.attr("href"))&&
e.replace(/.*(?=#[^\s]+$)/,""));if(n.hasClass("carousel")){e=a.extend({},n.data(),g.data());if(g=g.attr("data-slide-to"))e.interval=!1;h.call(n,e);g&&n.data("bs.carousel").to(g);b.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",g).on("click.bs.carousel.data-api","[data-slide-to]",g);a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);h.call(b,b.data())})})}(jQuery);
+function(a){function h(b){var e;b=b.attr("data-target")||(e=b.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(b)}function e(e){return this.each(function(){var g=a(this),h=g.data("bs.collapse"),n=a.extend({},b.DEFAULTS,g.data(),"object"==typeof e&&e);!h&&n.toggle&&"show"==e&&(n.toggle=!1);h||g.data("bs.collapse",h=new b(this,n));if("string"==typeof e)h[e]()})}var b=function(e,g){this.$element=a(e);this.options=a.extend({},b.DEFAULTS,g);this.$trigger=a(this.options.trigger).filter('[href="#'+
e.id+'"], [data-target="#'+e.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()};b.VERSION="3.3.1";b.TRANSITION_DURATION=350;b.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'};b.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var f,g=this.$parent&&
this.$parent.find("> .panel").children(".in, .collapsing");if(g&&g.length&&(f=g.data("bs.collapse"))&&f.transitioning)return;var h=a.Event("show.bs.collapse");this.$element.trigger(h);if(!h.isDefaultPrevented()){g&&g.length&&(e.call(g,"hide"),f||g.data("bs.collapse",null));var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0).attr("aria-expanded",!0);this.$trigger.removeClass("collapsed").attr("aria-expanded",!0);this.transitioning=1;f=function(){this.$element.removeClass("collapsing").addClass("collapse in")[n]("");
this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);g=a.camelCase(["scroll",n].join("-"));this.$element.one("bsTransitionEnd",a.proxy(f,this)).emulateTransitionEnd(b.TRANSITION_DURATION)[n](this.$element[0][g])}}};b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=a.Event("hide.bs.collapse");this.$element.trigger(e);if(!e.isDefaultPrevented()){e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight;
this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1);this.$trigger.addClass("collapsed").attr("aria-expanded",!1);this.transitioning=1;var g=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return g.call(this);this.$element[e](0).one("bsTransitionEnd",a.proxy(g,this)).emulateTransitionEnd(b.TRANSITION_DURATION)}}};b.prototype.toggle=function(){this[this.$element.hasClass("in")?
"hide":"show"]()};b.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(b,e){var g=a(e);this.addAriaAndCollapsedClass(h(g),g)},this)).end()};b.prototype.addAriaAndCollapsedClass=function(a,b){var e=a.hasClass("in");a.attr("aria-expanded",e);b.toggleClass("collapsed",!e).attr("aria-expanded",e)};var g=a.fn.collapse;a.fn.collapse=e;a.fn.collapse.Constructor=b;a.fn.collapse.noConflict=function(){a.fn.collapse=
g;return this};a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(b){var g=a(this);g.attr("data-target")||b.preventDefault();b=h(g);g=b.data("bs.collapse")?"toggle":a.extend({},g.data(),{trigger:this});e.call(b,g)})}(jQuery);
+function(a){function h(b){b&&3===b.which||(a(".dropdown-backdrop").remove(),a('[data-toggle="dropdown"]').each(function(){var g=a(this),h=e(g),n={relatedTarget:this};h.hasClass("open")&&(h.trigger(b=a.Event("hide.bs.dropdown",n)),b.isDefaultPrevented()||(g.attr("aria-expanded","false"),h.removeClass("open").trigger("hidden.bs.dropdown",n),h.focus()))}))}function e(b){var e=b.attr("data-target");e||(e=(e=b.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));return(e=e&&a(e))&&e.length?
e:b.parent()}var b=function(b){a(b).on("click.bs.dropdown",this.toggle)};b.VERSION="3.3.1";b.prototype.toggle=function(b){var g=a(this);if(!g.is(".disabled, :disabled")){var k=e(g);b=k.hasClass("open");h();if(!b){if("ontouchstart"in document.documentElement&&!k.closest(".navbar-nav").length)a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",h);var n={relatedTarget:this};k.trigger(b=a.Event("show.bs.dropdown",n));if(b.isDefaultPrevented())return;g.trigger("focus").attr("aria-expanded",
"true");k.toggleClass("open").trigger("shown.bs.dropdown",n)}return!1}};b.prototype.keydown=function(a){!/(38|40|27|32)/.test(a.which)||/input|textarea/i.test(a.target.tagName)};var g=a.fn.dropdown;a.fn.dropdown=function(e){return this.each(function(){var g=a(this),h=g.data("bs.dropdown");h||g.data("bs.dropdown",h=new b(this));"string"==typeof e&&h[e].call(g)})};a.fn.dropdown.Constructor=b;a.fn.dropdown.noConflict=function(){a.fn.dropdown=g;return this};a(document).on("click.bs.dropdown.data-api",
h).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',b.prototype.toggle).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',b.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',b.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',b.prototype.keydown)}(jQuery);
+function(a){function h(b){return this.each(function(){var g=a(this),h=g.data("bs.tab");h||g.data("bs.tab",h=new e(this));if("string"==typeof b)h[b]()})}var e=function(b){this.element=a(b)};e.VERSION="3.3.1";e.TRANSITION_DURATION=150;e.prototype.show=function(){var b=this.element,e=b.closest("ul:not(.dropdown-menu)"),g=b.data("target");g||(g=(g=b.attr("href"))&&g.replace(/.*(?=#[^\s]*$)/,""));if(!b.parent("li").hasClass("active")){var h=e.find(".active:last a"),m=a.Event("hide.bs.tab",{relatedTarget:b[0]}),
p=a.Event("show.bs.tab",{relatedTarget:h[0]});h.trigger(m);b.trigger(p);p.isDefaultPrevented()||m.isDefaultPrevented()||(g=a(g),this.activate(b.closest("li"),e),this.activate(g,g.parent(),function(){h.trigger({type:"hidden.bs.tab",relatedTarget:b[0]});b.trigger({type:"shown.bs.tab",relatedTarget:h[0]})}))}};e.prototype.activate=function(b,g,h){function n(){m.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",
!0);p?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade");b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);h&&h()}var m=g.find("> .active"),p=h&&a.support.transition&&(m.length&&m.hasClass("fade")||!!g.find("> .fade").length);m.length&&p?m.one("bsTransitionEnd",n).emulateTransitionEnd(e.TRANSITION_DURATION):n();m.removeClass("in")};var b=a.fn.tab;a.fn.tab=h;a.fn.tab.Constructor=e;a.fn.tab.noConflict=function(){a.fn.tab=
b;return this};var g=function(b){b.preventDefault();h.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',g).on("click.bs.tab.data-api",'[data-toggle="pill"]',g)}(jQuery);
+function(a){function h(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},g;for(g in b)if(void 0!==a.style[g])return{end:b[g]};return!1}a.fn.emulateTransitionEnd=function(e){var b=!1,g=this;a(this).one("bsTransitionEnd",function(){b=!0});setTimeout(function(){b||a(g).trigger(a.support.transition.end)},e);return this};a(function(){a.support.transition=h();a.support.transition&&
(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(e){if(a(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery);
+function(a){function h(b,e){var l=a.proxy(this.process,this);this.$body=a("body");this.$scrollElement=a(b).is("body")?a(window):a(b);this.options=a.extend({},h.DEFAULTS,e);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",l);this.refresh();this.process()}function e(b){return this.each(function(){var e=a(this),l=e.data("bs.scrollspy"),k="object"==typeof b&&b;l||e.data("bs.scrollspy",
l=new h(this,k));if("string"==typeof b)l[b]()})}h.VERSION="3.3.1";h.DEFAULTS={offset:10};h.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};h.prototype.refresh=function(){var b="offset",e=0;a.isWindow(this.$scrollElement[0])||(b="position",e=this.$scrollElement.scrollTop());this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();var h=this;this.$body.find(this.selector).map(function(){var h=
a(this),h=h.data("target")||h.attr("href"),l=/^#./.test(h)&&a(h);return l&&l.length&&l.is(":visible")&&[[l[b]().top+e,h]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){h.offsets.push(this[0]);h.targets.push(this[1])})};h.prototype.process=function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=this.getScrollHeight(),e=this.options.offset+b-this.$scrollElement.height(),h=this.offsets,n=this.targets,m=this.activeTarget,p;this.scrollHeight!=b&&this.refresh();if(a>=e)return m!=
(p=n[n.length-1])&&this.activate(p);if(m&&a<h[0])return this.activeTarget=null,this.clear();for(p=h.length;p--;)m!=n[p]&&a>=h[p]&&(!h[p+1]||a<=h[p+1])&&this.activate(n[p])};h.prototype.activate=function(b){this.activeTarget=b;this.clear();b=a(this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]').parents("li").addClass("active");b.parent(".dropdown-menu").length&&(b=b.closest("li.dropdown").addClass("active"));b.trigger("activate.bs.scrollspy")};h.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,
".active").removeClass("active")};var b=a.fn.scrollspy;a.fn.scrollspy=e;a.fn.scrollspy.Constructor=h;a.fn.scrollspy.noConflict=function(){a.fn.scrollspy=b;return this};a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);e.call(b,b.data())})})}(jQuery);
+function(a){function h(b,f){return this.each(function(){var h=a(this),k=h.data("bs.modal"),n=a.extend({},e.DEFAULTS,h.data(),"object"==typeof b&&b);k||h.data("bs.modal",k=new e(this,n));if("string"==typeof b)k[b](f);else n.show&&k.show(f)})}var e=function(b,e){this.options=e;this.$body=a(document.body);this.$element=a(b);this.$backdrop=this.isShown=null;this.scrollbarWidth=0;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},
this))};e.VERSION="3.3.1";e.TRANSITION_DURATION=300;e.BACKDROP_TRANSITION_DURATION=150;e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};e.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)};e.prototype.show=function(b){var f=this,h=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(h);this.isShown||h.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",
'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var h=a.support.transition&&f.$element.hasClass("fade");f.$element.parent().length||f.$element.appendTo(f.$body);f.$element.show().scrollTop(0);f.options.backdrop&&f.adjustBackdrop();f.adjustDialog();h&&f.$element[0].offsetWidth;f.$element.addClass("in").attr("aria-hidden",!1);f.enforceFocus();var l=a.Event("shown.bs.modal",{relatedTarget:b});h?f.$element.find(".modal-dialog").one("bsTransitionEnd",function(){f.$element.trigger("focus").trigger(l)}).emulateTransitionEnd(e.TRANSITION_DURATION):
f.$element.trigger("focus").trigger(l)}))};e.prototype.hide=function(b){b&&b.preventDefault();b=a.Event("hide.bs.modal");this.$element.trigger(b);this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(e.TRANSITION_DURATION):
this.hideModal())};e.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))};e.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this));else this.isShown||this.$element.off("keydown.dismiss.bs.modal")};e.prototype.resize=function(){if(this.isShown)a(window).on("resize.bs.modal",
a.proxy(this.handleUpdate,this));else a(window).off("resize.bs.modal")};e.prototype.hideModal=function(){var a=this;this.$element.hide();this.backdrop(function(){a.$body.removeClass("modal-open");a.resetAdjustments();a.resetScrollbar();a.$element.trigger("hidden.bs.modal")})};e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};e.prototype.backdrop=function(b){var f=this,h=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var k=
a.support.transition&&h;this.$backdrop=a('<div class="modal-backdrop '+h+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this));k&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");b&&(k?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):b())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),
h=function(){f.removeBackdrop();b&&b()},a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",h).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):h()):b&&b()};e.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop();this.adjustDialog()};e.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)};e.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;
this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})};e.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};e.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight;this.scrollbarWidth=this.measureScrollbar()};e.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);
this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)};e.prototype.resetScrollbar=function(){this.$body.css("padding-right","")};e.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure";this.$body.append(a);var b=a.offsetWidth-a.clientWidth;this.$body[0].removeChild(a);return b};var b=a.fn.modal;a.fn.modal=h;a.fn.modal.Constructor=e;a.fn.modal.noConflict=function(){a.fn.modal=b;return this};a(document).on("click.bs.modal.data-api",
'[data-toggle="modal"]',function(b){var e=a(this),l=e.attr("href"),k=a(e.attr("data-target")||l&&l.replace(/.*(?=#[^\s]+$)/,"")),l=k.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(l)&&l},k.data(),e.data());e.is("a")&&b.preventDefault();k.one("show.bs.modal",function(a){if(!a.isDefaultPrevented())k.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})});h.call(k,l,this)})}(jQuery);
+function(a){var h=function(a,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",a,e)};h.VERSION="3.3.1";h.TRANSITION_DURATION=150;h.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};h.prototype.init=function(b,e,f){this.enabled=
!0;this.type=b;this.$element=a(e);this.options=this.getOptions(f);this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);b=this.options.trigger.split(" ");for(e=b.length;e--;)if(f=b[e],"click"==f)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=f){var h="hover"==f?"mouseleave":"focusout";this.$element.on(("hover"==f?"mouseenter":"focusin")+"."+this.type,this.options.selector,a.proxy(this.enter,this));this.$element.on(h+
"."+this.type,this.options.selector,a.proxy(this.leave,this))}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};h.prototype.getDefaults=function(){return h.DEFAULTS};h.prototype.getOptions=function(b){b=a.extend({},this.getDefaults(),this.$element.data(),b);b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay});return b};h.prototype.getDelegateOptions=function(){var b={},e=this.getDefaults();this._options&&a.each(this._options,
function(a,h){e[a]!=h&&(b[a]=h)});return b};h.prototype.enter=function(b){var e=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(e&&e.$tip&&e.$tip.is(":visible"))e.hoverState="in";else{e||(e=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,e));clearTimeout(e.timeout);e.hoverState="in";if(!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}};
h.prototype.leave=function(b){var e=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);e||(e=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,e));clearTimeout(e.timeout);e.hoverState="out";if(!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)};h.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);
var e=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(!b.isDefaultPrevented()&&e){var f=this,b=this.tip(),e=this.getUID(this.type);this.setContent();b.attr("id",e);this.$element.attr("aria-describedby",e);this.options.animation&&b.addClass("fade");var e="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,k=l.test(e);k&&(e=e.replace(l,"")||"top");b.detach().css({top:0,left:0,display:"block"}).addClass(e).data("bs."+
this.type,this);this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element);var l=this.getPosition(),n=b[0].offsetWidth,m=b[0].offsetHeight;if(k){var k=e,p=this.options.container?a(this.options.container):this.$element.parent(),p=this.getPosition(p),e="bottom"==e&&l.bottom+m>p.bottom?"top":"top"==e&&l.top-m<p.top?"bottom":"right"==e&&l.right+n>p.width?"left":"left"==e&&l.left-n<p.left?"right":e;b.removeClass(k).addClass(e)}l=this.getCalculatedOffset(e,l,n,m);this.applyPlacement(l,
e);e=function(){var a=f.hoverState;f.$element.trigger("shown.bs."+f.type);f.hoverState=null;"out"==a&&f.leave(f)};a.support.transition&&this.$tip.hasClass("fade")?b.one("bsTransitionEnd",e).emulateTransitionEnd(h.TRANSITION_DURATION):e()}}};h.prototype.applyPlacement=function(b,e){var f=this.tip(),h=f[0].offsetWidth,k=f[0].offsetHeight,n=parseInt(f.css("margin-top"),10),m=parseInt(f.css("margin-left"),10);isNaN(n)&&(n=0);isNaN(m)&&(m=0);b.top+=n;b.left+=m;a.offset.setOffset(f[0],a.extend({using:function(a){f.css({top:Math.round(a.top),
left:Math.round(a.left)})}},b),0);f.addClass("in");var m=f[0].offsetWidth,p=f[0].offsetHeight;"top"==e&&p!=k&&(b.top=b.top+k-p);var q=this.getViewportAdjustedDelta(e,b,m,p);q.left?b.left+=q.left:b.top+=q.top;h=(n=/top|bottom/.test(e))?2*q.left-h+m:2*q.top-k+p;k=n?"offsetWidth":"offsetHeight";f.offset(b);this.replaceArrow(h,f[0][k],n)};h.prototype.replaceArrow=function(a,e,f){this.arrow().css(f?"left":"top",50*(1-a/e)+"%").css(f?"top":"left","")};h.prototype.setContent=function(){var a=this.tip(),
e=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](e);a.removeClass("fade in top bottom left right")};h.prototype.hide=function(b){function e(){"in"!=f.hoverState&&l.detach();f.$element.removeAttr("aria-describedby").trigger("hidden.bs."+f.type);b&&b()}var f=this,l=this.tip(),k=a.Event("hide.bs."+this.type);this.$element.trigger(k);if(!k.isDefaultPrevented())return l.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?l.one("bsTransitionEnd",e).emulateTransitionEnd(h.TRANSITION_DURATION):
e(),this.hoverState=null,this};h.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")};h.prototype.hasContent=function(){return this.getTitle()};h.prototype.getPosition=function(b){b=b||this.$element;var e=b[0],f="BODY"==e.tagName,e=e.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var h=f?{top:0,left:0}:b.offset();
b={scroll:f?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()};f=f?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,b,f,h)};h.prototype.getCalculatedOffset=function(a,e,f,h){return"bottom"==a?{top:e.top+e.height,left:e.left+e.width/2-f/2}:"top"==a?{top:e.top-h,left:e.left+e.width/2-f/2}:"left"==a?{top:e.top+e.height/2-h/2,left:e.left-f}:{top:e.top+e.height/2-h/2,left:e.left+e.width}};h.prototype.getViewportAdjustedDelta=function(a,e,f,h){var k=
{top:0,left:0};if(!this.$viewport)return k;var n=this.options.viewport&&this.options.viewport.padding||0,m=this.getPosition(this.$viewport);/right|left/.test(a)?(f=e.top-n-m.scroll,e=e.top+n-m.scroll+h,f<m.top?k.top=m.top-f:e>m.top+m.height&&(k.top=m.top+m.height-e)):(h=e.left-n,e=e.left+n+f,h<m.left?k.left=m.left-h:e>m.width&&(k.left=m.left+m.width-e));return k};h.prototype.getTitle=function(){var a=this.$element,e=this.options;return a.attr("data-original-title")||("function"==typeof e.title?e.title.call(a[0]):
e.title)};h.prototype.getUID=function(a){do a+=~~(1E6*Math.random());while(document.getElementById(a));return a};h.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)};h.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};h.prototype.enable=function(){this.enabled=!0};h.prototype.disable=function(){this.enabled=!1};h.prototype.toggleEnabled=function(){this.enabled=!this.enabled};h.prototype.toggle=function(b){var e=this;b&&(e=a(b.currentTarget).data("bs."+
this.type),e||(e=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,e)));e.tip().hasClass("in")?e.leave(e):e.enter(e)};h.prototype.destroy=function(){var a=this;clearTimeout(this.timeout);this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type)})};var e=a.fn.tooltip;a.fn.tooltip=function(b){return this.each(function(){var e=a(this),f=e.data("bs.tooltip"),l="object"==typeof b&&b,k=l&&l.selector;if(f||"destroy"!=b)if(k?(f||e.data("bs.tooltip",
f={}),f[k]||(f[k]=new h(this,l))):f||e.data("bs.tooltip",f=new h(this,l)),"string"==typeof b)f[b]()})};a.fn.tooltip.Constructor=h;a.fn.tooltip.noConflict=function(){a.fn.tooltip=e;return this}}(jQuery);
+function(a){var h=function(a,e){this.init("popover",a,e)};if(!a.fn.tooltip)throw Error("Popover requires tooltip.js");h.VERSION="3.3.1";h.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});h.prototype=a.extend({},a.fn.tooltip.Constructor.prototype);h.prototype.constructor=h;h.prototype.getDefaults=function(){return h.DEFAULTS};
h.prototype.setContent=function(){var a=this.tip(),e=this.getTitle(),f=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](e);a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof f?"html":"append":"text"](f);a.removeClass("fade top bottom left right in");a.find(".popover-title").html()||a.find(".popover-title").hide()};h.prototype.hasContent=function(){return this.getTitle()||this.getContent()};h.prototype.getContent=function(){var a=this.$element,
e=this.options;return a.attr("data-content")||("function"==typeof e.content?e.content.call(a[0]):e.content)};h.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};h.prototype.tip=function(){this.$tip||(this.$tip=a(this.options.template));return this.$tip};var e=a.fn.popover;a.fn.popover=function(b){return this.each(function(){var e=a(this),f=e.data("bs.popover"),l="object"==typeof b&&b,k=l&&l.selector;if(f||"destroy"!=b)if(k?(f||e.data("bs.popover",f={}),f[k]||(f[k]=
new h(this,l))):f||e.data("bs.popover",f=new h(this,l)),"string"==typeof b)f[b]()})};a.fn.popover.Constructor=h;a.fn.popover.noConflict=function(){a.fn.popover=e;return this}}(jQuery);(function(a,h){"function"===typeof define&&define.amd?define(["jquery"],function(a){return h(a)}):"object"===typeof exports?module.exports=h(require("jquery")):h(jQuery)})(this,function(a){(function(a){function e(b){a.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,
ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){b=b.replace(this.re,this.ch)});return b}function b(b,e){var f=arguments,g=b,k=e;[].shift.apply(f);var l,m=this.each(function(){var b=a(this);if(b.is("select")){var e=b.data("selectpicker"),m="object"==typeof g&&g;if(!e)e=a.extend({},p.DEFAULTS,a.fn.selectpicker.defaults||{},b.data(),m),e.template=a.extend({},p.DEFAULTS.template,a.fn.selectpicker.defaults?a.fn.selectpicker.defaults.template:{},b.data().template,m.template),b.data("selectpicker",
e=new p(this,e,k));else if(m)for(var n in m)m.hasOwnProperty(n)&&(e.options[n]=m[n]);"string"==typeof g&&(l=e[g]instanceof Function?e[g].apply(e,f):e.options[g])}});return"undefined"!==typeof l?l:m}String.prototype.includes||function(){var a={}.toString,b=function(){try{var a={},b=Object.defineProperty,e=b(a,a,a)&&b}catch(f){}return e}(),e="".indexOf,f=function(b){if(null==this)throw new TypeError;var f=String(this);if(b&&"[object RegExp]"==a.call(b))throw new TypeError;var g=f.length,h=String(b),
k=h.length,l=1<arguments.length?arguments[1]:void 0,l=l?Number(l):0;l!=l&&(l=0);var m=Math.min(Math.max(l,0),g);return k+m>g?!1:-1!=e.call(f,h,l)};b?b(String.prototype,"includes",{value:f,configurable:!0,writable:!0}):String.prototype.includes=f}();String.prototype.startsWith||function(){var a=function(){try{var a={},b=Object.defineProperty,e=b(a,a,a)&&b}catch(f){}return e}(),b={}.toString,e=function(a){if(null==this)throw new TypeError;var e=String(this);if(a&&"[object RegExp]"==b.call(a))throw new TypeError;
var f=e.length,g=String(a),h=g.length,k=1<arguments.length?arguments[1]:void 0,k=k?Number(k):0;k!=k&&(k=0);k=Math.min(Math.max(k,0),f);if(h+k>f)return!1;for(f=-1;++f<h;)if(e.charCodeAt(k+f)!=g.charCodeAt(f))return!1;return!0};a?a(String.prototype,"startsWith",{value:e,configurable:!0,writable:!0}):String.prototype.startsWith=e}();Object.keys||(Object.keys=function(a,b,e){e=[];for(b in a)e.hasOwnProperty.call(a,b)&&e.push(b);return e});var g=!1,f=a.valHooks.select.set;a.valHooks.select.set=function(b,
e){e&&!g&&a(b).data("selected",!0);return f.apply(this,arguments)};var l=null;a.fn.triggerNative=function(a){var b=this[0],e;b.dispatchEvent?("function"===typeof Event?e=new Event(a,{bubbles:!0}):(e=document.createEvent("Event"),e.initEvent(a,!0,!1)),b.dispatchEvent(e)):b.fireEvent?(e=document.createEventObject(),e.eventType=a,b.fireEvent("on"+a,e)):this.trigger(a)};a.expr.pseudos.icontains=function(b,e,f){b=a(b);return(b.data("tokens")||b.text()).toString().toUpperCase().includes(f[3].toUpperCase())};
a.expr.pseudos.ibegins=function(b,e,f){b=a(b);return(b.data("tokens")||b.text()).toString().toUpperCase().startsWith(f[3].toUpperCase())};a.expr.pseudos.aicontains=function(b,e,f){b=a(b);return(b.data("tokens")||b.data("normalizedText")||b.text()).toString().toUpperCase().includes(f[3].toUpperCase())};a.expr.pseudos.aibegins=function(b,e,f){b=a(b);return(b.data("tokens")||b.data("normalizedText")||b.text()).toString().toUpperCase().startsWith(f[3].toUpperCase())};var k=function(a){var b=function(b){return a[b]},
e="(?:"+Object.keys(a).join("|")+")",f=RegExp(e),g=RegExp(e,"g");return function(a){a=null==a?"":""+a;return f.test(a)?a.replace(g,b):a}},n=k({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),m=k({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"}),p=function(b,e,k){g||(a.valHooks.select.set=f,g=!0);k&&(k.stopPropagation(),k.preventDefault());this.$element=a(b);this.$lis=this.$menu=this.$button=this.$newElement=null;this.options=e;null===this.options.title&&
(this.options.title=this.$element.attr("title"));b=this.options.windowPadding;"number"===typeof b&&(this.options.windowPadding=[b,b,b,b]);this.val=p.prototype.val;this.render=p.prototype.render;this.refresh=p.prototype.refresh;this.setStyle=p.prototype.setStyle;this.selectAll=p.prototype.selectAll;this.deselectAll=p.prototype.deselectAll;this.destroy=p.prototype.destroy;this.remove=p.prototype.remove;this.show=p.prototype.show;this.hide=p.prototype.hide;this.init()};p.VERSION="1.11.2";p.DEFAULTS=
{noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(a,b){return 1==a?"{0} item selected":"{0} items selected"},maxOptionsText:function(a,b){return[1==a?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==b?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",
size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0};p.prototype={constructor:p,init:function(){var b=this,e=this.$element.attr("id");
this.$element.addClass("bs-select-hidden");this.liObj={};this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement).appendTo(this.$newElement);this.$button=this.$newElement.children("button");this.$menu=this.$newElement.children(".dropdown-menu");this.$menuInner=this.$menu.children(".inner");this.$searchbox=this.$menu.find("input");this.$element.removeClass("bs-select-hidden");!0===this.options.dropdownAlignRight&&
this.$menu.addClass("dropdown-menu-right");"undefined"!==typeof e&&(this.$button.attr("data-id",e),a('label[for="'+e+'"]').click(function(a){a.preventDefault();b.$button.focus()}));this.checkDisabled();this.clickListener();this.options.liveSearch&&this.liveSearchListener();this.render();this.setStyle();this.setWidth();this.options.container&&this.selectPosition();this.$menu.data("this",this);this.$newElement.data("this",this);this.options.mobile&&this.mobile();this.$newElement.on({"hide.bs.dropdown":function(a){b.$menuInner.attr("aria-expanded",
!1);b.$element.trigger("hide.bs.select",a)},"hidden.bs.dropdown":function(a){b.$element.trigger("hidden.bs.select",a)},"show.bs.dropdown":function(a){b.$menuInner.attr("aria-expanded",!0);b.$element.trigger("show.bs.select",a)},"shown.bs.dropdown":function(a){b.$element.trigger("shown.bs.select",a)}});if(b.$element[0].hasAttribute("required"))this.$element.on("invalid",function(){b.$button.addClass("bs-invalid").focus();b.$element.on({"focus.bs.select":function(){b.$button.focus();b.$element.off("focus.bs.select")},
"shown.bs.select":function(){b.$element.val(b.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&b.$button.removeClass("bs-invalid");b.$element.off("rendered.bs.select")}})});setTimeout(function(){b.$element.trigger("loaded.bs.select")})},createDropdown:function(){var b=this.multiple||this.options.showTick?" show-tick":"",e=this.$element.parent().hasClass("input-group")?" input-group-btn":"",f=this.autofocus?" autofocus":"",g=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+
this.options.header+"</div>":"",k=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+n(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"";return a('<div class="btn-group bootstrap-select'+b+e+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+f+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+
this.options.template.caret+'</span></button><div class="dropdown-menu open" role="combobox">'+g+k+(this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"")+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+
(this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"")+"</div></div>")},createView:function(){var a=this.createDropdown(),b=this.createLi();a.find("ul")[0].innerHTML=b;return a},reloadLi:function(){this.destroyLi();var a=this.createLi();this.$menuInner[0].innerHTML=a},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var b=
this,f=[],g=0,k=document.createElement("option"),l=-1,m=function(a,b,e,f){return"<li"+("undefined"!==typeof e&""!==e?' class="'+e+'"':"")+("undefined"!==typeof b&null!==b?' data-original-index="'+b+'"':"")+("undefined"!==typeof f&null!==f?'data-optgroup="'+f+'"':"")+">"+a+"</li>"},q=function(f,g,k,l){return'<a tabindex="0"'+("undefined"!==typeof g?' class="'+g+'"':"")+(k?' style="'+k+'"':"")+(b.options.liveSearchNormalize?' data-normalized-text="'+e(n(a(f).html()))+'"':"")+("undefined"!==typeof l||
null!==l?' data-tokens="'+l+'"':"")+' role="option">'+f+'<span class="'+b.options.iconBase+" "+b.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(l--,!this.$element.find(".bs-title-option").length)){var p=this.$element[0];k.className="bs-title-option";k.innerHTML=this.options.title;k.value="";p.insertBefore(k,p.firstChild);void 0===a(p.options[p.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")&&(k.selected=!0)}this.$element.find("option").each(function(e){var k=
a(this);l++;if(!k.hasClass("bs-title-option")){var p=this.className||"",E=this.style.cssText,y=k.data("content")?k.data("content"):k.html(),D=k.data("tokens")?k.data("tokens"):null,O="undefined"!==typeof k.data("subtext")?'<small class="text-muted">'+k.data("subtext")+"</small>":"",J="undefined"!==typeof k.data("icon")?'<span class="'+b.options.iconBase+" "+k.data("icon")+'"></span> ':"",M=k.parent(),L="OPTGROUP"===M[0].tagName,P=L&&M[0].disabled,T=this.disabled||P;""!==J&&T&&(J="<span>"+J+"</span>");
if(b.options.hideDisabled&&(T&&!L||P))l--;else{k.data("content")||(y=J+'<span class="text">'+y+O+"</span>");if(L&&!0!==k.data("divider")){if(b.options.hideDisabled&&T&&(void 0===M.data("allOptionsDisabled")&&(O=M.children(),M.data("allOptionsDisabled",O.filter(":disabled").length===O.length)),M.data("allOptionsDisabled"))){l--;return}O=" "+M[0].className||"";0===k.index()&&(g+=1,k=M[0].label,J="undefined"!==typeof M.data("subtext")?'<small class="text-muted">'+M.data("subtext")+"</small>":"",k=(M.data("icon")?
'<span class="'+b.options.iconBase+" "+M.data("icon")+'"></span> ':"")+'<span class="text">'+n(k)+J+"</span>",0!==e&&0<f.length&&(l++,f.push(m("",null,"divider",g+"div"))),l++,f.push(m(k,null,"dropdown-header"+O,g)));if(b.options.hideDisabled&&T){l--;return}f.push(m(q(y,"opt "+p+O,E,D),e,"",g))}else if(!0===k.data("divider"))f.push(m("",e,"divider"));else if(!0===k.data("hidden"))f.push(m(q(y,p,E,D),e,"hidden is-hidden"));else{M=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName;
if(!M&&b.options.hideDisabled)for(T=a(this).prevAll(),k=0;k<T.length;k++)if("OPTGROUP"===T[k].tagName){for(J=O=0;J<k;J++)L=T[J],(L.disabled||!0===a(L).data("hidden"))&&O++;O===k&&(M=!0);break}M&&(l++,f.push(m("",null,"divider",g+"div")));f.push(m(q(y,p,E,D),e))}b.liObj[e]=l}}});this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected");return f.join("")},findLis:function(){null==this.$lis&&
(this.$lis=this.$menu.find("li"));return this.$lis},render:function(b){var e=this,f;!1!==b&&this.$element.find("option").each(function(a){var b=e.findLis().eq(e.liObj[a]);e.setDisabled(a,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,b);e.setSelected(a,this.selected,b)});this.togglePlaceholder();this.tabIndex();b=this.$element.find("option").map(function(){if(this.selected&&(!e.options.hideDisabled||!(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))){var b=
a(this),f=b.data("icon")&&e.options.showIcon?'<i class="'+e.options.iconBase+" "+b.data("icon")+'"></i> ':"",g;g=e.options.showSubtext&&b.data("subtext")&&!e.multiple?' <small class="text-muted">'+b.data("subtext")+"</small>":"";return"undefined"!==typeof b.attr("title")?b.attr("title"):b.data("content")&&e.options.showContent?b.data("content").toString():f+b.html()+g}}).toArray();f=this.multiple?b.join(this.options.multipleSeparator):b[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var g=
this.options.selectedTextFormat.split(">");if(1<g.length&&b.length>g[1]||1==g.length&&2<=b.length)f=this.options.hideDisabled?", [disabled]":"",f=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+f).length,f=("function"===typeof this.options.countSelectedText?this.options.countSelectedText(b.length,f):this.options.countSelectedText).replace("{0}",b.length.toString()).replace("{1}",f.toString())}void 0==this.options.title&&(this.options.title=this.$element.attr("title"));
"static"==this.options.selectedTextFormat&&(f=this.options.title);f||(f="undefined"!==typeof this.options.title?this.options.title:this.options.noneSelectedText);this.$button.attr("title",m(a.trim(f.replace(/<[^>]*>?/g,""))));this.$button.children(".filter-option").html(f);this.$element.trigger("rendered.bs.select")},setStyle:function(a,b){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));
var e=a?a:this.options.style;"add"==b?this.$button.addClass(e):"remove"==b?this.$button.removeClass(e):(this.$button.removeClass(this.options.style),this.$button.addClass(e))},liHeight:function(b){if(b||!1!==this.options.size&&!this.sizeInfo){b=document.createElement("div");var e=document.createElement("div"),f=document.createElement("ul"),g=document.createElement("li"),k=document.createElement("li"),l=document.createElement("a"),m=document.createElement("span"),n=this.options.header&&0<this.$menu.find(".popover-title").length?
this.$menu.find(".popover-title")[0].cloneNode(!0):null,q=this.options.liveSearch?document.createElement("div"):null,p=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,C=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;m.className="text";b.className=this.$menu[0].parentNode.className+" open";e.className="dropdown-menu open";
f.className="dropdown-menu inner";g.className="divider";m.appendChild(document.createTextNode("Inner text"));l.appendChild(m);k.appendChild(l);f.appendChild(k);f.appendChild(g);n&&e.appendChild(n);q&&(k=document.createElement("span"),q.className="bs-searchbox",k.className="form-control",q.appendChild(k),e.appendChild(q));p&&e.appendChild(p);e.appendChild(f);C&&e.appendChild(C);b.appendChild(e);document.body.appendChild(b);f=l.offsetHeight;n=n?n.offsetHeight:0;q=q?q.offsetHeight:0;p=p?p.offsetHeight:
0;C=C?C.offsetHeight:0;g=a(g).outerHeight(!0);k=(l="function"===typeof getComputedStyle?getComputedStyle(e):!1)?null:a(e);e={vert:parseInt(l?l.paddingTop:k.css("paddingTop"))+parseInt(l?l.paddingBottom:k.css("paddingBottom"))+parseInt(l?l.borderTopWidth:k.css("borderTopWidth"))+parseInt(l?l.borderBottomWidth:k.css("borderBottomWidth")),horiz:parseInt(l?l.paddingLeft:k.css("paddingLeft"))+parseInt(l?l.paddingRight:k.css("paddingRight"))+parseInt(l?l.borderLeftWidth:k.css("borderLeftWidth"))+parseInt(l?
l.borderRightWidth:k.css("borderRightWidth"))};l={vert:e.vert+parseInt(l?l.marginTop:k.css("marginTop"))+parseInt(l?l.marginBottom:k.css("marginBottom"))+2,horiz:e.horiz+parseInt(l?l.marginLeft:k.css("marginLeft"))+parseInt(l?l.marginRight:k.css("marginRight"))+2};document.body.removeChild(b);this.sizeInfo={liHeight:f,headerHeight:n,searchHeight:q,actionsHeight:p,doneButtonHeight:C,dividerHeight:g,menuPadding:e,menuExtras:l}}},setSize:function(){this.findLis();this.liHeight();this.options.header&&
this.$menu.css("padding-top",0);if(!1!==this.options.size){var b=this,e=this.$menu,f=this.$menuInner,g=a(window),k=this.$newElement[0].offsetHeight,l=this.$newElement[0].offsetWidth,m=this.sizeInfo.liHeight,n=this.sizeInfo.headerHeight,q=this.sizeInfo.searchHeight,p=this.sizeInfo.actionsHeight,C=this.sizeInfo.doneButtonHeight,E=this.sizeInfo.dividerHeight,H=this.sizeInfo.menuPadding,G=this.sizeInfo.menuExtras,O=this.options.hideDisabled?".disabled":"",J,M,L,P,T,V,R,Y,N=function(){var e=b.$newElement.offset(),
f=a(b.options.container),m;b.options.container&&!f.is("body")?(m=f.offset(),m.top+=parseInt(f.css("borderTopWidth")),m.left+=parseInt(f.css("borderLeftWidth"))):m={top:0,left:0};f=b.options.windowPadding;T=e.top-m.top-g.scrollTop();V=g.height()-T-k-m.top-f[2];R=e.left-m.left-g.scrollLeft();Y=g.width()-R-l-m.left-f[1];T-=f[0];R-=f[3]};N();"auto"===this.options.size?(E=function(){var g;g=function(b,e){return function(f){return e?f.classList?f.classList.contains(b):a(f).hasClass(b):!(f.classList?f.classList.contains(b):
a(f).hasClass(b))}};var k=b.$menuInner[0].getElementsByTagName("li"),k=Array.prototype.filter?Array.prototype.filter.call(k,g("hidden",!1)):b.$lis.not(".hidden");g=Array.prototype.filter?Array.prototype.filter.call(k,g("dropdown-header",!0)):k.filter(".dropdown-header");N();J=V-G.vert;M=Y-G.horiz;b.options.container?(e.data("height")||e.data("height",e.height()),L=e.data("height"),e.data("width")||e.data("width",e.width()),P=e.data("width")):(L=e.height(),P=e.width());b.options.dropupAuto&&b.$newElement.toggleClass("dropup",
T>V&&J-G.vert<L);b.$newElement.hasClass("dropup")&&(J=T-G.vert);"auto"===b.options.dropdownAlignRight&&e.toggleClass("dropdown-menu-right",R>Y&&M-G.horiz<P-l);g=3<k.length+g.length?3*m+G.vert-2:0;e.css({"max-height":J+"px",overflow:"hidden","min-height":g+n+q+p+C+"px"});f.css({"max-height":J-n-q-p-C-H.vert+"px","overflow-y":"auto","min-height":Math.max(g-H.vert,0)+"px"})},E(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",E),g.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",
E)):this.options.size&&"auto"!=this.options.size&&this.$lis.not(O).length>this.options.size&&(O=this.$lis.not(".divider").not(O).children().slice(0,this.options.size).last().parent().index(),O=this.$lis.slice(0,O+1).filter(".divider").length,J=m*this.options.size+O*E+H.vert,b.options.container?(e.data("height")||e.data("height",e.height()),L=e.data("height")):L=e.height(),b.options.dropupAuto&&this.$newElement.toggleClass("dropup",T>V&&J-G.vert<L),e.css({"max-height":J+n+q+p+C+"px",overflow:"hidden",
"min-height":""}),f.css({"max-height":J-H.vert+"px","overflow-y":"auto","min-height":""}))}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var a=this.$menu.parent().clone().appendTo("body"),b=this.options.container?this.$newElement.clone().appendTo("body"):a,e=a.children(".dropdown-menu").outerWidth(),f=b.css("width","auto").children("button").outerWidth();a.remove();b.remove();this.$newElement.css("width",Math.max(e,f)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",
""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=a('<div class="bs-container" />');var b=this,e=a(this.options.container),f,g,k,l=function(a){b.$bsContainer.addClass(a.attr("class").replace(/form-control|fit-width/gi,
"")).toggleClass("dropup",a.hasClass("dropup"));f=a.offset();e.is("body")?g={top:0,left:0}:(g=e.offset(),g.top+=parseInt(e.css("borderTopWidth"))-e.scrollTop(),g.left+=parseInt(e.css("borderLeftWidth"))-e.scrollLeft());k=a.hasClass("dropup")?0:a[0].offsetHeight;b.$bsContainer.css({top:f.top-g.top+k,left:f.left-g.left,width:a[0].offsetWidth})};this.$button.on("click",function(){var e=a(this);b.isDisabled()||(l(b.$newElement),b.$bsContainer.appendTo(b.options.container).toggleClass("open",!e.hasClass("open")).append(b.$menu))});
a(window).on("resize scroll",function(){l(b.$newElement)});this.$element.on("hide.bs.select",function(){b.$menu.data("height",b.$menu.height());b.$bsContainer.detach()})},setSelected:function(a,b,e){e||(this.togglePlaceholder(),e=this.findLis().eq(this.liObj[a]));e.toggleClass("selected",b).find("a").attr("aria-selected",b)},setDisabled:function(a,b,e){e||(e=this.findLis().eq(this.liObj[a]));b?e.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):e.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",
0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var a=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled").attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex"));
this.$button.click(function(){return!a.isDisabled()})},togglePlaceholder:function(){var a=this.$element.val();this.$button.toggleClass("bs-placeholder",null===a||""===a||a.constructor===Array&&0===a.length)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")));this.$element.attr("tabindex",
-98)},clickListener:function(){var b=this,e=a(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(a){a.stopPropagation()});e.data("spaceSelect",!1);this.$button.on("keyup",function(a){/(32)/.test(a.keyCode.toString(10))&&e.data("spaceSelect")&&(a.preventDefault(),e.data("spaceSelect",!1))});this.$button.on("click",function(){b.setSize()});this.$element.on("shown.bs.select",function(){if(!b.options.liveSearch&&!b.multiple)b.$menuInner.find(".selected a").focus();else if(!b.multiple){var a=
b.liObj[b.$element[0].selectedIndex];"number"===typeof a&&!1!==b.options.size&&(a=b.$lis.eq(a)[0].offsetTop-b.$menuInner[0].offsetTop,a=a-b.$menuInner[0].offsetHeight/2+b.sizeInfo.liHeight/2,b.$menuInner[0].scrollTop=a)}});this.$menuInner.on("click","li a",function(e){var f=a(this),g=f.parent().data("originalIndex"),k=b.$element.val(),m=b.$element.prop("selectedIndex"),n=!0;b.multiple&&1!==b.options.maxOptions&&e.stopPropagation();e.preventDefault();if(!b.isDisabled()&&!f.parent().hasClass("disabled")){var q=
b.$element.find("option");e=q.eq(g);var p=e.prop("selected"),C=e.parent("optgroup"),E=b.options.maxOptions,t=C.data("maxOptions")||!1;if(b.multiple){if(e.prop("selected",!p),b.setSelected(g,!p),f.blur(),!1!==E||!1!==t){var G=E<q.filter(":selected").length,O=t<C.find("option:selected").length;if(E&&G||t&&O)if(E&&1==E)q.prop("selected",!1),e.prop("selected",!0),b.$menuInner.find(".selected").removeClass("selected"),b.setSelected(g,!0);else if(t&&1==t)C.find("option:selected").prop("selected",!1),e.prop("selected",
!0),E=f.parent().data("optgroup"),b.$menuInner.find('[data-optgroup="'+E+'"]').removeClass("selected"),b.setSelected(g,!0);else{var f="string"===typeof b.options.maxOptionsText?[b.options.maxOptionsText,b.options.maxOptionsText]:b.options.maxOptionsText,f="function"===typeof f?f(E,t):f,q=f[0].replace("{n}",E),C=f[1].replace("{n}",t),J=a('<div class="notify"></div>');f[2]&&(q=q.replace("{var}",f[2][1<E?0:1]),C=C.replace("{var}",f[2][1<t?0:1]));e.prop("selected",!1);b.$menu.append(J);E&&G&&(J.append(a("<div>"+
q+"</div>")),n=!1,b.$element.trigger("maxReached.bs.select"));t&&O&&(J.append(a("<div>"+C+"</div>")),n=!1,b.$element.trigger("maxReachedGrp.bs.select"));setTimeout(function(){b.setSelected(g,!1)},10);J.delay(750).fadeOut(300,function(){a(this).remove()})}}}else q.prop("selected",!1),e.prop("selected",!0),b.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),b.setSelected(g,!0);!b.multiple||b.multiple&&1===b.options.maxOptions?b.$button.focus():b.options.liveSearch&&
b.$searchbox.focus();n&&(k!=b.$element.val()&&b.multiple||m!=b.$element.prop("selectedIndex")&&!b.multiple)&&(l=[g,e.prop("selected"),p],b.$element.triggerNative("change"))}});this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),b.options.liveSearch&&!a(e.target).hasClass("close")?b.$searchbox.focus():b.$button.focus())});this.$menuInner.on("click",".divider, .dropdown-header",function(a){a.preventDefault();
a.stopPropagation();b.options.liveSearch?b.$searchbox.focus():b.$button.focus()});this.$menu.on("click",".popover-title .close",function(){b.$button.click()});this.$searchbox.on("click",function(a){a.stopPropagation()});this.$menu.on("click",".actions-btn",function(e){b.options.liveSearch?b.$searchbox.focus():b.$button.focus();e.preventDefault();e.stopPropagation();a(this).hasClass("bs-select-all")?b.selectAll():b.deselectAll()});this.$element.change(function(){b.render(!1);b.$element.trigger("changed.bs.select",
l);l=null})},liveSearchListener:function(){var b=this,f=a('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){b.$menuInner.find(".active").removeClass("active");b.$searchbox.val()&&(b.$searchbox.val(""),b.$lis.not(".is-hidden").removeClass("hidden"),f.parent().length&&f.remove());b.multiple||b.$menuInner.find(".selected").addClass("active");setTimeout(function(){b.$searchbox.focus()},10)});this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",
function(a){a.stopPropagation()});this.$searchbox.on("input propertychange",function(){b.$lis.not(".is-hidden").removeClass("hidden");b.$lis.filter(".active").removeClass("active");f.remove();if(b.$searchbox.val()){var g=b.$lis.not(".is-hidden, .divider, .dropdown-header"),k;k=b.options.liveSearchNormalize?g.not(":a"+b._searchStyle()+'("'+e(b.$searchbox.val())+'")'):g.not(":"+b._searchStyle()+'("'+b.$searchbox.val()+'")');if(k.length===g.length)f.html(b.options.noneResultsText.replace("{0}",'"'+n(b.$searchbox.val())+
'"')),b.$menuInner.append(f),b.$lis.addClass("hidden");else{k.addClass("hidden");var l=b.$lis.not(".hidden"),m;l.each(function(b){var e=a(this);e.hasClass("divider")?void 0===m?e.addClass("hidden"):(m&&m.addClass("hidden"),m=e):e.hasClass("dropdown-header")&&l.eq(b+1).data("optgroup")!==e.data("optgroup")?e.addClass("hidden"):m=null});m&&m.addClass("hidden");g.not(".hidden").first().addClass("active")}}})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||
"icontains"},val:function(a){return"undefined"!==typeof a?(this.$element.val(a),this.render(),this.$element):this.$element.val()},changeAll:function(b){if(this.multiple){"undefined"===typeof b&&(b=!0);this.findLis();var e=this.$element.find("option"),f=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),g=f.length,k=[];if(b){if(f.filter(".selected").length===f.length)return}else if(0===f.filter(".selected").length)return;f.toggleClass("selected",b);for(var l=0;l<g;l++){var m=f[l].getAttribute("data-original-index");
k[k.length]=e.eq(m)[0]}a(k).prop("selected",b);this.render(!1);this.togglePlaceholder();this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(a){(a=a||window.event)&&a.stopPropagation();this.$button.trigger("click")},keydown:function(b){var f=a(this),g=f.is("input")?f.parent().parent():f.parent(),k,l=g.data("this"),m,n,q,p,A,C,E,H={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",
57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};l.options.liveSearch&&(g=f.parent().parent());l.options.container&&(g=l.$menu);k=a('[role="listbox"] li',g);E=l.$newElement.hasClass("open");if(!E&&(48<=b.keyCode&&57>=b.keyCode||96<=b.keyCode&&105>=b.keyCode||65<=b.keyCode&&90>=
b.keyCode))l.options.container?l.$button.trigger("click"):(l.setSize(),l.$menu.parent().addClass("open"),E=!0),l.$searchbox.focus();else if(l.options.liveSearch&&(/(^9$|27)/.test(b.keyCode.toString(10))&&E&&(b.preventDefault(),b.stopPropagation(),l.$menuInner.click(),l.$button.focus()),k=a('[role="listbox"] li:not(.disabled, .hidden, .dropdown-header, .divider)',g),f.val()||/(38|40)/.test(b.keyCode.toString(10))||0!==k.filter(".active").length||(k=l.$menuInner.find("li"),k=l.options.liveSearchNormalize?
k.filter(":a"+l._searchStyle()+"("+e(H[b.keyCode])+")"):k.filter(":"+l._searchStyle()+"("+H[b.keyCode]+")"))),k.length){if(/(38|40)/.test(b.keyCode.toString(10)))g=k.index(k.find("a").filter(":focus").parent()),n=k.filter(":not(.disabled, .hidden, .dropdown-header, .divider)").first().index(),q=k.filter(":not(.disabled, .hidden, .dropdown-header, .divider)").last().index(),m=k.eq(g).nextAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),p=k.eq(g).prevAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),
A=k.eq(m).prevAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),l.options.liveSearch&&(k.each(function(b){a(this).hasClass("disabled")||a(this).data("index",b)}),g=k.index(k.filter(".active")),n=k.first().data("index"),q=k.last().data("index"),m=k.eq(g).nextAll().eq(0).data("index"),p=k.eq(g).prevAll().eq(0).data("index"),A=k.eq(m).prevAll().eq(0).data("index")),C=f.data("prevIndex"),38==b.keyCode?(l.options.liveSearch&&g--,g!=A&&g>p&&(g=p),g<n&&(g=n),g==C&&(g=q)):40==b.keyCode&&
(l.options.liveSearch&&g++,-1==g&&(g=0),g!=A&&g<m&&(g=m),g>q&&(g=q),g==C&&(g=n)),f.data("prevIndex",g),l.options.liveSearch?(b.preventDefault(),f.hasClass("dropdown-toggle")||(k.removeClass("active").eq(g).addClass("active").children("a").focus(),f.focus())):k.eq(g).children("a").focus();else if(!f.is("input")){var G=[];k.each(function(){a(this).hasClass("disabled")||a.trim(a(this).children("a").text().toLowerCase()).substring(0,1)==H[b.keyCode]&&G.push(a(this).index())});g=a(document).data("keycount");
g++;a(document).data("keycount",g);a.trim(a(":focus").text().toLowerCase()).substring(0,1)!=H[b.keyCode]?(g=1,a(document).data("keycount",g)):g>=G.length&&(a(document).data("keycount",0),g>G.length&&(g=1));k.eq(G[g-1]).children("a").focus()}(/(13|32)/.test(b.keyCode.toString(10))||/(^9$)/.test(b.keyCode.toString(10))&&l.options.selectOnTab)&&E&&(/(32)/.test(b.keyCode.toString(10))||b.preventDefault(),l.options.liveSearch?/(32)/.test(b.keyCode.toString(10))||(l.$menuInner.find(".active a").click(),
f.focus()):(f=a(":focus"),f.click(),f.focus(),b.preventDefault(),a(document).data("spaceSelect",!0)),a(document).data("keycount",0));if(/(^9$|27)/.test(b.keyCode.toString(10))&&E&&(l.multiple||l.options.liveSearch)||/(27)/.test(b.keyCode.toString(10))&&!E)l.$menu.parent().removeClass("open"),l.options.container&&l.$newElement.removeClass("open"),l.$button.focus()}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null;this.liObj={};this.reloadLi();this.render();
this.checkDisabled();this.liHeight(!0);this.setStyle();this.setWidth();this.$lis&&this.$searchbox.trigger("propertychange");this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove();this.$bsContainer?this.$bsContainer.remove():this.$menu.remove();this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};
var q=a.fn.selectpicker;a.fn.selectpicker=b;a.fn.selectpicker.Constructor=p;a.fn.selectpicker.noConflict=function(){a.fn.selectpicker=q;return this};a(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',p.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(a){a.stopPropagation()});a(window).on("load.bs.select.data-api",
function(){a(".selectpicker").each(function(){var e=a(this);b.call(e,e.data())})})})(a)});(function(a,h){"undefined"!==typeof module&&module.exports?"undefined"!==typeof process&&"electron"in process.versions?a.BootstrapDialog=h(a.jQuery):module.exports=h(require("jquery"),require("bootstrap")):"function"===typeof define&&define.amd?define("bootstrap-dialog",["jquery","bootstrap"],function(a){return h(a)}):a.BootstrapDialog=h(a.jQuery)})(this,function(a){var h=a.fn.modal.Constructor,e=function(a,b){h.call(this,a,b)};e.getModalVersion=function(){var b=null;return b="undefined"===typeof a.fn.modal.Constructor.VERSION?
"v3.1":/3\.2\.\d+/.test(a.fn.modal.Constructor.VERSION)?"v3.2":/3\.3\.[1,2]/.test(a.fn.modal.Constructor.VERSION)?"v3.3":"v3.3.4"};e.ORIGINAL_BODY_PADDING=parseInt(a("body").css("padding-right")||0,10);e.METHODS_TO_OVERRIDE={};e.METHODS_TO_OVERRIDE["v3.1"]={};e.METHODS_TO_OVERRIDE["v3.2"]={hide:function(b){b&&b.preventDefault();b=a.Event("hide.bs.modal");this.$element.trigger(b);this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,0===this.getGlobalOpenedDialogs().length&&this.$body.removeClass("modal-open"),
this.resetScrollbar(),this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())}};e.METHODS_TO_OVERRIDE["v3.3"]={setScrollbar:function(){var a=e.ORIGINAL_BODY_PADDING;this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},resetScrollbar:function(){0===
this.getGlobalOpenedDialogs().length&&this.$body.css("padding-right",e.ORIGINAL_BODY_PADDING)},hideModal:function(){this.$element.hide();this.backdrop(a.proxy(function(){0===this.getGlobalOpenedDialogs().length&&this.$body.removeClass("modal-open");this.resetAdjustments();this.resetScrollbar();this.$element.trigger("hidden.bs.modal")},this))}};e.METHODS_TO_OVERRIDE["v3.3.4"]=a.extend({},e.METHODS_TO_OVERRIDE["v3.3"]);e.prototype={constructor:e,getGlobalOpenedDialogs:function(){var e=[];a.each(b.dialogs,
function(a,b){b.isRealized()&&b.isOpened()&&e.push(b)});return e}};e.prototype=a.extend(e.prototype,h.prototype,e.METHODS_TO_OVERRIDE[e.getModalVersion()]);var b=function(e){this.defaultOptions=a.extend(!0,{id:b.newGuid(),buttons:[],data:{},onshow:null,onshown:null,onhide:null,onhidden:null},b.defaultOptions);this.indexedButtons={};this.registeredButtonHotkeys={};this.draggableData={isMouseDown:!1,mouseOffset:{}};this.opened=this.realized=!1;this.initOptions(e);this.holdThisInstance()};b.BootstrapDialogModal=
e;b.NAMESPACE="bootstrap-dialog";b.TYPE_DEFAULT="type-default";b.TYPE_INFO="type-info";b.TYPE_PRIMARY="type-primary";b.TYPE_SUCCESS="type-success";b.TYPE_WARNING="type-warning";b.TYPE_DANGER="type-danger";b.DEFAULT_TEXTS={};b.DEFAULT_TEXTS[b.TYPE_DEFAULT]="Information";b.DEFAULT_TEXTS[b.TYPE_INFO]="Information";b.DEFAULT_TEXTS[b.TYPE_PRIMARY]="Information";b.DEFAULT_TEXTS[b.TYPE_SUCCESS]="Success";b.DEFAULT_TEXTS[b.TYPE_WARNING]="Warning";b.DEFAULT_TEXTS[b.TYPE_DANGER]="Danger";b.DEFAULT_TEXTS.OK=
"OK";b.DEFAULT_TEXTS.CANCEL="Cancel";b.DEFAULT_TEXTS.CONFIRM="Confirmation";b.SIZE_NORMAL="size-normal";b.SIZE_SMALL="size-small";b.SIZE_WIDE="size-wide";b.SIZE_LARGE="size-large";b.BUTTON_SIZES={};b.BUTTON_SIZES[b.SIZE_NORMAL]="";b.BUTTON_SIZES[b.SIZE_SMALL]="";b.BUTTON_SIZES[b.SIZE_WIDE]="";b.BUTTON_SIZES[b.SIZE_LARGE]="btn-lg";b.ICON_SPINNER="glyphicon glyphicon-asterisk";b.defaultOptions={type:b.TYPE_PRIMARY,size:b.SIZE_NORMAL,cssClass:"",title:null,message:null,nl2br:!0,closable:!0,closeByBackdrop:!0,
closeByKeyboard:!0,spinicon:b.ICON_SPINNER,autodestroy:!0,draggable:!1,animate:!1,description:"",tabindex:-1};b.configDefaultOptions=function(e){b.defaultOptions=a.extend(!0,b.defaultOptions,e)};b.dialogs={};b.openAll=function(){a.each(b.dialogs,function(a,b){b.open()})};b.closeAll=function(){a.each(b.dialogs,function(a,b){b.close()})};b.getDialog=function(a){var e=null;"undefined"!==typeof b.dialogs[a]&&(e=b.dialogs[a]);return e};b.setDialog=function(a){return b.dialogs[a.getId()]=a};b.addDialog=
function(a){return b.setDialog(a)};b.moveFocus=function(){var e=null;a.each(b.dialogs,function(a,b){e=b});null!==e&&e.isRealized()&&e.getModal().focus()};b.METHODS_TO_OVERRIDE={};b.METHODS_TO_OVERRIDE["v3.1"]={handleModalBackdropEvent:function(){this.getModal().on("click",{dialog:this},function(a){a.target===this&&a.data.dialog.isClosable()&&a.data.dialog.canCloseByBackdrop()&&a.data.dialog.close()});return this},updateZIndex:function(){var e=0;a.each(b.dialogs,function(a,b){e++});var f=this.getModal(),
h=f.data("bs.modal").$backdrop;f.css("z-index",1050+20*(e-1));h.css("z-index",1040+20*(e-1));return this},open:function(){!this.isRealized()&&this.realize();this.getModal().modal("show");this.updateZIndex();return this}};b.METHODS_TO_OVERRIDE["v3.2"]={handleModalBackdropEvent:b.METHODS_TO_OVERRIDE["v3.1"].handleModalBackdropEvent,updateZIndex:b.METHODS_TO_OVERRIDE["v3.1"].updateZIndex,open:b.METHODS_TO_OVERRIDE["v3.1"].open};b.METHODS_TO_OVERRIDE["v3.3"]={};b.METHODS_TO_OVERRIDE["v3.3.4"]=a.extend({},
b.METHODS_TO_OVERRIDE["v3.1"]);b.prototype={constructor:b,initOptions:function(b){this.options=a.extend(!0,this.defaultOptions,b);return this},holdThisInstance:function(){b.addDialog(this);return this},initModalStuff:function(){this.setModal(this.createModal()).setModalDialog(this.createModalDialog()).setModalContent(this.createModalContent()).setModalHeader(this.createModalHeader()).setModalBody(this.createModalBody()).setModalFooter(this.createModalFooter());this.getModal().append(this.getModalDialog());
this.getModalDialog().append(this.getModalContent());this.getModalContent().append(this.getModalHeader()).append(this.getModalBody()).append(this.getModalFooter());return this},createModal:function(){var b=a('<div class="modal" role="dialog" aria-hidden="true"></div>');b.prop("id",this.getId());b.attr("aria-labelledby",this.getId()+"_title");return b},getModal:function(){return this.$modal},setModal:function(a){this.$modal=a;return this},createModalDialog:function(){return a('<div class="modal-dialog"></div>')},
getModalDialog:function(){return this.$modalDialog},setModalDialog:function(a){this.$modalDialog=a;return this},createModalContent:function(){return a('<div class="modal-content"></div>')},getModalContent:function(){return this.$modalContent},setModalContent:function(a){this.$modalContent=a;return this},createModalHeader:function(){return a('<div class="modal-header"></div>')},getModalHeader:function(){return this.$modalHeader},setModalHeader:function(a){this.$modalHeader=a;return this},createModalBody:function(){return a('<div class="modal-body"></div>')},
getModalBody:function(){return this.$modalBody},setModalBody:function(a){this.$modalBody=a;return this},createModalFooter:function(){return a('<div class="modal-footer"></div>')},getModalFooter:function(){return this.$modalFooter},setModalFooter:function(a){this.$modalFooter=a;return this},createDynamicContent:function(a){var b=null,b="function"===typeof a?a.call(a,this):a;"string"===typeof b&&(b=this.formatStringContent(b));return b},formatStringContent:function(a){return this.options.nl2br?a.replace(/\r\n/g,
"<br />").replace(/[\r\n]/g,"<br />"):a},setData:function(a,b){this.options.data[a]=b;return this},getData:function(a){return this.options.data[a]},setId:function(a){this.options.id=a;return this},getId:function(){return this.options.id},getType:function(){return this.options.type},setType:function(a){this.options.type=a;this.updateType();return this},updateType:function(){if(this.isRealized()){var a=[b.TYPE_DEFAULT,b.TYPE_INFO,b.TYPE_PRIMARY,b.TYPE_SUCCESS,b.TYPE_WARNING,b.TYPE_DANGER];this.getModal().removeClass(a.join(" ")).addClass(this.getType())}return this},
getSize:function(){return this.options.size},setSize:function(a){this.options.size=a;this.updateSize();return this},updateSize:function(){if(this.isRealized()){var e=this;this.getModal().removeClass(b.SIZE_NORMAL).removeClass(b.SIZE_SMALL).removeClass(b.SIZE_WIDE).removeClass(b.SIZE_LARGE);this.getModal().addClass(this.getSize());this.getModalDialog().removeClass("modal-sm");this.getSize()===b.SIZE_SMALL&&this.getModalDialog().addClass("modal-sm");this.getModalDialog().removeClass("modal-lg");this.getSize()===
b.SIZE_WIDE&&this.getModalDialog().addClass("modal-lg");a.each(this.options.buttons,function(b,h){var k=e.getButton(h.id),n=["btn-lg","btn-sm","btn-xs"],m=!1;if("string"===typeof h.cssClass){var p=h.cssClass.split(" ");a.each(p,function(b,e){-1!==a.inArray(e,n)&&(m=!0)})}m||(k.removeClass(n.join(" ")),k.addClass(e.getButtonSize()))})}return this},getCssClass:function(){return this.options.cssClass},setCssClass:function(a){this.options.cssClass=a;return this},getTitle:function(){return this.options.title},
setTitle:function(a){this.options.title=a;this.updateTitle();return this},updateTitle:function(){if(this.isRealized()){var a=null!==this.getTitle()?this.createDynamicContent(this.getTitle()):this.getDefaultText();this.getModalHeader().find("."+this.getNamespace("title")).html("").append(a).prop("id",this.getId()+"_title")}return this},getMessage:function(){return this.options.message},setMessage:function(a){this.options.message=a;this.updateMessage();return this},updateMessage:function(){if(this.isRealized()){var a=
this.createDynamicContent(this.getMessage());this.getModalBody().find("."+this.getNamespace("message")).html("").append(a)}return this},isClosable:function(){return this.options.closable},setClosable:function(a){this.options.closable=a;this.updateClosable();return this},setCloseByBackdrop:function(a){this.options.closeByBackdrop=a;return this},canCloseByBackdrop:function(){return this.options.closeByBackdrop},setCloseByKeyboard:function(a){this.options.closeByKeyboard=a;return this},canCloseByKeyboard:function(){return this.options.closeByKeyboard},
isAnimate:function(){return this.options.animate},setAnimate:function(a){this.options.animate=a;return this},updateAnimate:function(){this.isRealized()&&this.getModal().toggleClass("fade",this.isAnimate());return this},getSpinicon:function(){return this.options.spinicon},setSpinicon:function(a){this.options.spinicon=a;return this},addButton:function(a){this.options.buttons.push(a);return this},addButtons:function(b){var e=this;a.each(b,function(a,b){e.addButton(b)});return this},getButtons:function(){return this.options.buttons},
setButtons:function(a){this.options.buttons=a;this.updateButtons();return this},getButton:function(a){return"undefined"!==typeof this.indexedButtons[a]?this.indexedButtons[a]:null},getButtonSize:function(){return"undefined"!==typeof b.BUTTON_SIZES[this.getSize()]?b.BUTTON_SIZES[this.getSize()]:""},updateButtons:function(){this.isRealized()&&(0===this.getButtons().length?this.getModalFooter().hide():this.getModalFooter().show().find("."+this.getNamespace("footer")).html("").append(this.createFooterButtons()));
return this},isAutodestroy:function(){return this.options.autodestroy},setAutodestroy:function(a){this.options.autodestroy=a},getDescription:function(){return this.options.description},setDescription:function(a){this.options.description=a;return this},setTabindex:function(a){this.options.tabindex=a;return this},getTabindex:function(){return this.options.tabindex},updateTabindex:function(){this.isRealized()&&this.getModal().attr("tabindex",this.getTabindex());return this},getDefaultText:function(){return b.DEFAULT_TEXTS[this.getType()]},
getNamespace:function(a){return b.NAMESPACE+"-"+a},createHeaderContent:function(){var b=a("<div></div>");b.addClass(this.getNamespace("header"));b.append(this.createTitleContent());b.prepend(this.createCloseButton());return b},createTitleContent:function(){var b=a("<div></div>");b.addClass(this.getNamespace("title"));return b},createCloseButton:function(){var b=a("<div></div>");b.addClass(this.getNamespace("close-button"));var e=a('<button class="close">&times;</button>');b.append(e);b.on("click",
{dialog:this},function(a){a.data.dialog.close()});return b},createBodyContent:function(){var b=a("<div></div>");b.addClass(this.getNamespace("body"));b.append(this.createMessageContent());return b},createMessageContent:function(){var b=a("<div></div>");b.addClass(this.getNamespace("message"));return b},createFooterContent:function(){var b=a("<div></div>");b.addClass(this.getNamespace("footer"));return b},createFooterButtons:function(){var e=this,f=a("<div></div>");f.addClass(this.getNamespace("footer-buttons"));
this.indexedButtons={};a.each(this.options.buttons,function(a,h){h.id||(h.id=b.newGuid());var n=e.createButton(h);e.indexedButtons[h.id]=n;f.append(n)});return f},createButton:function(b){var e=a('<button class="btn"></button>');e.prop("id",b.id);e.data("button",b);"undefined"!==typeof b.icon&&""!==a.trim(b.icon)&&e.append(this.createButtonIcon(b.icon));"undefined"!==typeof b.label&&e.append(b.label);"undefined"!==typeof b.cssClass&&""!==a.trim(b.cssClass)?e.addClass(b.cssClass):e.addClass("btn-default");
"undefined"!==typeof b.hotkey&&(this.registeredButtonHotkeys[b.hotkey]=e);e.on("click",{dialog:this,$button:e,button:b},function(a){var b=a.data.dialog,e=a.data.$button,f=e.data("button");"function"===typeof f.action&&f.action.call(e,b,a);f.autospin&&e.toggleSpin(!0)});this.enhanceButton(e);"undefined"!==typeof b.enabled&&e.toggleEnable(b.enabled);return e},enhanceButton:function(a){a.dialog=this;a.toggleEnable=function(a){"undefined"!==typeof a?this.prop("disabled",!a).toggleClass("disabled",!a):
this.prop("disabled",!this.prop("disabled"));return this};a.enable=function(){this.toggleEnable(!0);return this};a.disable=function(){this.toggleEnable(!1);return this};a.toggleSpin=function(b){var e=this.dialog,h=this.find("."+e.getNamespace("button-icon"));"undefined"===typeof b&&(b=!(0<a.find(".icon-spin").length));b?(h.hide(),a.prepend(e.createButtonIcon(e.getSpinicon()).addClass("icon-spin"))):(h.show(),a.find(".icon-spin").remove());return this};a.spin=function(){this.toggleSpin(!0);return this};
a.stopSpin=function(){this.toggleSpin(!1);return this};return this},createButtonIcon:function(b){var e=a("<span></span>");e.addClass(this.getNamespace("button-icon")).addClass(b);return e},enableButtons:function(b){a.each(this.indexedButtons,function(a,e){e.toggleEnable(b)});return this},updateClosable:function(){this.isRealized()&&this.getModalHeader().find("."+this.getNamespace("close-button")).toggle(this.isClosable());return this},onShow:function(a){this.options.onshow=a;return this},onShown:function(a){this.options.onshown=
a;return this},onHide:function(a){this.options.onhide=a;return this},onHidden:function(a){this.options.onhidden=a;return this},isRealized:function(){return this.realized},setRealized:function(a){this.realized=a;return this},isOpened:function(){return this.opened},setOpened:function(a){this.opened=a;return this},handleModalEvents:function(){this.getModal().on("show.bs.modal",{dialog:this},function(a){var b=a.data.dialog;b.setOpened(!0);if(b.isModalEvent(a)&&"function"===typeof b.options.onshow)return a=
b.options.onshow(b),!1===a&&b.setOpened(!1),a});this.getModal().on("shown.bs.modal",{dialog:this},function(a){var b=a.data.dialog;b.isModalEvent(a)&&"function"===typeof b.options.onshown&&b.options.onshown(b)});this.getModal().on("hide.bs.modal",{dialog:this},function(a){var b=a.data.dialog;b.setOpened(!1);if(b.isModalEvent(a)&&"function"===typeof b.options.onhide)return a=b.options.onhide(b),!1===a&&b.setOpened(!0),a});this.getModal().on("hidden.bs.modal",{dialog:this},function(e){var f=e.data.dialog;
f.isModalEvent(e)&&"function"===typeof f.options.onhidden&&f.options.onhidden(f);f.isAutodestroy()&&(f.setRealized(!1),delete b.dialogs[f.getId()],a(this).remove());b.moveFocus()});this.handleModalBackdropEvent();this.getModal().on("keyup",{dialog:this},function(a){27===a.which&&a.data.dialog.isClosable()&&a.data.dialog.canCloseByKeyboard()&&a.data.dialog.close()});this.getModal().on("keyup",{dialog:this},function(b){var e=b.data.dialog;"undefined"!==typeof e.registeredButtonHotkeys[b.which]&&(b=
a(e.registeredButtonHotkeys[b.which]),!b.prop("disabled")&&b.focus().trigger("click"))});return this},handleModalBackdropEvent:function(){this.getModal().on("click",{dialog:this},function(b){a(b.target).hasClass("modal-backdrop")&&b.data.dialog.isClosable()&&b.data.dialog.canCloseByBackdrop()&&b.data.dialog.close()});return this},isModalEvent:function(a){return"undefined"!==typeof a.namespace&&"bs.modal"===a.namespace},makeModalDraggable:function(){this.options.draggable&&(this.getModalHeader().addClass(this.getNamespace("draggable")).on("mousedown",
{dialog:this},function(a){var b=a.data.dialog;b.draggableData.isMouseDown=!0;var e=b.getModalDialog().offset();b.draggableData.mouseOffset={top:a.clientY-e.top,left:a.clientX-e.left}}),this.getModal().on("mouseup mouseleave",{dialog:this},function(a){a.data.dialog.draggableData.isMouseDown=!1}),a("body").on("mousemove",{dialog:this},function(a){var b=a.data.dialog;b.draggableData.isMouseDown&&b.getModalDialog().offset({top:a.clientY-b.draggableData.mouseOffset.top,left:a.clientX-b.draggableData.mouseOffset.left})}));
return this},realize:function(){this.initModalStuff();this.getModal().addClass(b.NAMESPACE).addClass(this.getCssClass());this.updateSize();this.getDescription()&&this.getModal().attr("aria-describedby",this.getDescription());this.getModalFooter().append(this.createFooterContent());this.getModalHeader().append(this.createHeaderContent());this.getModalBody().append(this.createBodyContent());this.getModal().data("bs.modal",new e(this.getModal(),{backdrop:"static",keyboard:!1,show:!1}));this.makeModalDraggable();
this.handleModalEvents();this.setRealized(!0);this.updateButtons();this.updateType();this.updateTitle();this.updateMessage();this.updateClosable();this.updateAnimate();this.updateSize();this.updateTabindex();return this},open:function(){!this.isRealized()&&this.realize();this.getModal().modal("show");return this},close:function(a){!this.isRealized()&&this.realize();this.getModal().modal("hide");!1!==a&&this.owner&&this.owner.onCancel();return this}};b.prototype=a.extend(b.prototype,b.METHODS_TO_OVERRIDE[e.getModalVersion()]);
b.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)})};b.show=function(a){return(new b(a)).open()};b.alert=function(e,f){var h={},h={type:b.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,buttonLabel:b.DEFAULT_TEXTS.OK,callback:null},h="object"===typeof e&&e.constructor==={}.constructor?a.extend(!0,h,e):a.extend(!0,h,{message:e,callback:"undefined"!==typeof f?f:null});return(new b({type:h.type,
title:h.title,message:h.message,closable:h.closable,draggable:h.draggable,data:{callback:h.callback},onhide:function(a){!a.getData("btnClicked")&&a.isClosable()&&"function"===typeof a.getData("callback")&&a.getData("callback")(!1)},buttons:[{label:h.buttonLabel,action:function(a){a.setData("btnClicked",!0);"function"===typeof a.getData("callback")&&a.getData("callback")(!0);a.close()}}]})).open()};b.confirm=function(e,f){var h={},h={type:b.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,
btnCancelLabel:b.DEFAULT_TEXTS.CANCEL,btnOKLabel:b.DEFAULT_TEXTS.OK,btnOKClass:null,callback:null},h="object"===typeof e&&e.constructor==={}.constructor?a.extend(!0,h,e):a.extend(!0,h,{message:e,closable:!1,buttonLabel:b.DEFAULT_TEXTS.OK,callback:"undefined"!==typeof f?f:null});null===h.btnOKClass&&(h.btnOKClass=["btn",h.type.split("-")[1]].join("-"));return(new b({type:h.type,title:h.title,message:h.message,closable:h.closable,draggable:h.draggable,data:{callback:h.callback},buttons:[{label:h.btnCancelLabel,
action:function(a){"function"===typeof a.getData("callback")&&a.getData("callback")(!1);a.close()}},{label:h.btnOKLabel,cssClass:h.btnOKClass,action:function(a){"function"===typeof a.getData("callback")&&a.getData("callback")(!0);a.close()}}]})).open()};b.warning=function(a,e){return(new b({type:b.TYPE_WARNING,message:a})).open()};b.danger=function(a,e){return(new b({type:b.TYPE_DANGER,message:a})).open()};b.success=function(a,e){return(new b({type:b.TYPE_SUCCESS,message:a})).open()};return b});(function(a,h){function e(a,b,e){return[parseFloat(a[0])*(r.test(a[0])?b/100:1),parseFloat(a[1])*(r.test(a[1])?e/100:1)]}function b(b){var e=b[0];return 9===e.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(e)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var g,f=Math.max,l=Math.abs,k=
Math.round,n=/left|center|right/,m=/top|center|bottom/,p=/[\+\-]\d+(\.[\d]+)?%?/,q=/^\w+/,r=/%$/,t=a.fn.pos;a.pos={scrollbarWidth:function(){if(g!==h)return g;var b,e,f=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");e=f.children()[0];a("body").append(f);b=e.offsetWidth;f.css("overflow","scroll");e=e.offsetWidth;b===e&&(e=f[0].clientWidth);f.remove();return g=b-e},getScrollInfo:function(b){var e=b.isWindow||
b.isDocument?"":b.element.css("overflow-x"),f=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),e="scroll"===e||"auto"===e&&b.width<b.element[0].scrollWidth;return{width:"scroll"===f||"auto"===f&&b.height<b.element[0].scrollHeight?a.pos.scrollbarWidth():0,height:e?a.pos.scrollbarWidth():0}},getWithinInfo:function(b){b=a(b||window);var e=a.isWindow(b[0]);return{element:b,isWindow:e,isDocument:!!b[0]&&9===b[0].nodeType,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),
width:e?b.width():b.outerWidth(),height:e?b.height():b.outerHeight()}}};a.fn.pos=function(g){if(!g||!g.of)return t.apply(this,arguments);g=a.extend({},g);var h,r,z,B,D,w,A=a(g.of),C=a.pos.getWithinInfo(g.within),E=a.pos.getScrollInfo(C),H=(g.collision||"flip").split(" "),G={};w=b(A);A[0].preventDefault&&(g.at="left top");r=w.width;z=w.height;B=w.offset;D=a.extend({},B);a.each(["my","at"],function(){var a=(g[this]||"").split(" "),b,e;1===a.length&&(a=n.test(a[0])?a.concat(["center"]):m.test(a[0])?
["center"].concat(a):["center","center"]);a[0]=n.test(a[0])?a[0]:"center";a[1]=m.test(a[1])?a[1]:"center";b=p.exec(a[0]);e=p.exec(a[1]);G[this]=[b?b[0]:0,e?e[0]:0];g[this]=[q.exec(a[0])[0],q.exec(a[1])[0]]});1===H.length&&(H[1]=H[0]);"right"===g.at[0]?D.left+=r:"center"===g.at[0]&&(D.left+=r/2);"bottom"===g.at[1]?D.top+=z:"center"===g.at[1]&&(D.top+=z/2);h=e(G.at,r,z);D.left+=h[0];D.top+=h[1];return this.each(function(){var b,m,n=a(this),q=n.outerWidth(),p=n.outerHeight(),w=parseInt(a.css(this,"marginLeft"),
10)||0,t=parseInt(a.css(this,"marginTop"),10)||0,R=q+w+(parseInt(a.css(this,"marginRight"),10)||0)+E.width,Y=p+t+(parseInt(a.css(this,"marginBottom"),10)||0)+E.height,N=a.extend({},D),aa=e(G.my,n.outerWidth(),n.outerHeight());"right"===g.my[0]?N.left-=q:"center"===g.my[0]&&(N.left-=q/2);"bottom"===g.my[1]?N.top-=p:"center"===g.my[1]&&(N.top-=p/2);N.left+=aa[0];N.top+=aa[1];a.support.offsetFractions||(N.left=k(N.left),N.top=k(N.top));b={marginLeft:w,marginTop:t};a.each(["left","top"],function(e,f){if(a.ui.pos[H[e]])a.ui.pos[H[e]][f](N,
{targetWidth:r,targetHeight:z,elemWidth:q,elemHeight:p,collisionPosition:b,collisionWidth:R,collisionHeight:Y,offset:[h[0]+aa[0],h[1]+aa[1]],my:g.my,at:g.at,within:C,elem:n})});g.using&&(m=function(a){var b=B.left-N.left,e=b+r-q,h=B.top-N.top,k=h+z-p,m={target:{element:A,left:B.left,top:B.top,width:r,height:z},element:{element:n,left:N.left,top:N.top,width:q,height:p},horizontal:0>e?"left":0<b?"right":"center",vertical:0>k?"top":0<h?"bottom":"middle"};r<q&&l(b+e)<r&&(m.horizontal="center");z<p&&l(h+
k)<z&&(m.vertical="middle");f(l(b),l(e))>f(l(h),l(k))?m.important="horizontal":m.important="vertical";g.using.call(this,a,m)});n.offset(a.extend(N,{using:m}))})};a.ui.pos={_trigger:function(a,b,e,f){b.elem&&b.elem.trigger({type:e,position:a,positionData:b,triggered:f})},fit:{left:function(b,e){a.ui.pos._trigger(b,e,"posCollide","fitLeft");var g=e.within,h=g.isWindow?g.scrollLeft:g.offset.left,k=g.width,l=b.left-e.collisionPosition.marginLeft,g=h-l,m=l+e.collisionWidth-k-h;e.collisionWidth>k?0<g&&
0>=m?(h=b.left+g+e.collisionWidth-k-h,b.left+=g-h):b.left=0<m&&0>=g?h:g>m?h+k-e.collisionWidth:h:b.left=0<g?b.left+g:0<m?b.left-m:f(b.left-l,b.left);a.ui.pos._trigger(b,e,"posCollided","fitLeft")},top:function(b,e){a.ui.pos._trigger(b,e,"posCollide","fitTop");var g=e.within,h=g.isWindow?g.scrollTop:g.offset.top,k=e.within.height,l=b.top-e.collisionPosition.marginTop,g=h-l,m=l+e.collisionHeight-k-h;e.collisionHeight>k?0<g&&0>=m?(h=b.top+g+e.collisionHeight-k-h,b.top+=g-h):b.top=0<m&&0>=g?h:g>m?h+k-
e.collisionHeight:h:b.top=0<g?b.top+g:0<m?b.top-m:f(b.top-l,b.top);a.ui.pos._trigger(b,e,"posCollided","fitTop")}},flip:{left:function(b,e){a.ui.pos._trigger(b,e,"posCollide","flipLeft");var f=e.within,g=f.offset.left+f.scrollLeft,h=f.width,k=f.isWindow?f.scrollLeft:f.offset.left,m=b.left-e.collisionPosition.marginLeft,f=m-k,n=m+e.collisionWidth-h-k,m="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,q="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,r=-2*e.offset[0];
if(0>f){if(g=b.left+m+q+r+e.collisionWidth-h-g,0>g||g<l(f))b.left+=m+q+r}else 0<n&&(g=b.left-e.collisionPosition.marginLeft+m+q+r-k,0<g||l(g)<n)&&(b.left+=m+q+r);a.ui.pos._trigger(b,e,"posCollided","flipLeft")},top:function(b,e){a.ui.pos._trigger(b,e,"posCollide","flipTop");var f=e.within,g=f.offset.top+f.scrollTop,h=f.height,k=f.isWindow?f.scrollTop:f.offset.top,m=b.top-e.collisionPosition.marginTop,f=m-k,n=m+e.collisionHeight-h-k,m="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,
q="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,r=-2*e.offset[1];0>f?(g=b.top+m+q+r+e.collisionHeight-h-g,b.top+m+q+r>f&&(0>g||g<l(f))&&(b.top+=m+q+r)):0<n&&(g=b.top-e.collisionPosition.marginTop+m+q+r-k,b.top+m+q+r>n&&(0<g||l(g)<n)&&(b.top+=m+q+r));a.ui.pos._trigger(b,e,"posCollided","flipTop")}},flipfit:{left:function(){a.ui.pos.flip.left.apply(this,arguments);a.ui.pos.fit.left.apply(this,arguments)},top:function(){a.ui.pos.flip.top.apply(this,arguments);a.ui.pos.fit.top.apply(this,
arguments)}}};(function(){var b,e,f,g,h=document.getElementsByTagName("body")[0];f=document.createElement("div");b=document.createElement(h?"div":"body");e={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};h&&a.extend(e,{position:"absolute",left:"-1000px",top:"-1000px"});for(g in e)b.style[g]=e[g];b.appendChild(f);e=h||document.documentElement;e.insertBefore(b,e.firstChild);f.style.cssText="position: absolute; left: 10.7432222px;";f=a(f).offset().left;a.support.offsetFractions=
10<f&&11>f;b.innerHTML="";e.removeChild(b)})()})(jQuery);(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):window.jQuery&&!window.jQuery.fn.iconpicker&&a(window.jQuery)})(function(a){var h={isEmpty:function(a){return!1===a||""===a||null===a||void 0===a},isEmptyObject:function(a){return!0===this.isEmpty(a)||0===a.length},isElement:function(b){return 0<a(b).length},isString:function(a){return"string"===typeof a||a instanceof String},isArray:function(b){return a.isArray(b)},inArray:function(b,e){return-1!==a.inArray(b,e)},throwError:function(a){throw"Font Awesome Icon Picker Exception: "+
a;}},e=function(b,g){this._id=e._idCounter++;this.element=a(b).addClass("iconpicker-element");this._trigger("iconpickerCreate");this.options=a.extend({},e.defaultOptions,this.element.data(),g);this.options.templates=a.extend({},e.defaultOptions.templates,this.options.templates);this.options.originalPlacement=this.options.placement;this.container=h.isElement(this.options.container)?a(this.options.container):!1;!1===this.container&&(this.element.is(".dropdown-toggle")?this.container=a("~ .dropdown-menu:first",
this.element):this.container=this.element.is("input,textarea,button,.btn")?this.element.parent():this.element);this.container.addClass("iconpicker-container");this.isDropdownMenu()&&(this.options.templates.search=!1,this.options.templates.buttons=!1,this.options.placement="inline");this.input=this.element.is("input,textarea")?this.element.addClass("iconpicker-input"):!1;!1===this.input&&(this.input=this.container.find(this.options.input),this.input.is("input,textarea")||(this.input=!1));this.component=
this.isDropdownMenu()?this.container.parent().find(this.options.component):this.container.find(this.options.component);0===this.component.length?this.component=!1:this.component.find("i").addClass("iconpicker-component");this._createPopover();this._createIconpicker();0===this.getAcceptButton().length&&(this.options.mustAccept=!1);this.isInputGroup()?this.container.parent().append(this.popover):this.container.append(this.popover);this._bindElementEvents();this._bindWindowEvents();this.update(this.options.selected);
this.isInline()&&this.show();this._trigger("iconpickerCreated")};e._idCounter=0;e.defaultOptions={title:!1,selected:!1,defaultValue:!1,placement:"bottom",collision:"none",animation:!0,hideOnSelect:!1,showFooter:!1,searchInFooter:!1,mustAccept:!1,selectedCustomClass:"bg-primary",icons:[],fullClassFormatter:function(a){return"fa "+a},input:"input,.iconpicker-input",inputSearch:!1,container:!1,component:".input-group-addon,.iconpicker-component",templates:{popover:'<div class="iconpicker-popover popover"><div class="arrow"></div><div class="popover-title"></div><div class="popover-content"></div></div>',
footer:'<div class="popover-footer"></div>',buttons:'<button class="iconpicker-btn iconpicker-btn-cancel btn btn-default btn-sm">Cancel</button> <button class="iconpicker-btn iconpicker-btn-accept btn btn-primary btn-sm">Accept</button>',search:'<input type="search" class="form-control iconpicker-search" placeholder="Type to filter" />',iconpicker:'<div class="iconpicker"><div class="iconpicker-items"></div></div>',iconpickerItem:'<a role="button" href="#" class="iconpicker-item"><i></i></a>'}};e.batch=
function(b,e){var f=Array.prototype.slice.call(arguments,2);return a(b).each(function(){var b=a(this).data("iconpicker");b&&b[e].apply(b,f)})};e.prototype={constructor:e,options:{},_id:0,_trigger:function(b,e){e=e||{};this.element.trigger(a.extend({type:b,iconpickerInstance:this},e))},_createPopover:function(){this.popover=a(this.options.templates.popover);var b=this.popover.find(".popover-title");this.options.title&&b.append(a('<div class="popover-title-text">'+this.options.title+"</div>"));this.hasSeparatedSearchInput()&&
!this.options.searchInFooter?b.append(this.options.templates.search):this.options.title||b.remove();this.options.showFooter&&!h.isEmpty(this.options.templates.footer)&&(b=a(this.options.templates.footer),this.hasSeparatedSearchInput()&&this.options.searchInFooter&&b.append(a(this.options.templates.search)),h.isEmpty(this.options.templates.buttons)||b.append(a(this.options.templates.buttons)),this.popover.append(b));!0===this.options.animation&&this.popover.addClass("fade");return this.popover},_createIconpicker:function(){var b=
this;this.iconpicker=a(this.options.templates.iconpicker);var e=function(e){var f=a(this);f.is("i")&&(f=f.parent());b._trigger("iconpickerSelect",{iconpickerItem:f,iconpickerValue:b.iconpickerValue});!1===b.options.mustAccept?(b.update(f.data("iconpickerValue")),b._trigger("iconpickerSelected",{iconpickerItem:this,iconpickerValue:b.iconpickerValue})):b.update(f.data("iconpickerValue"),!0);b.options.hideOnSelect&&!1===b.options.mustAccept&&b.hide();e.preventDefault();return!1},f;for(f in this.options.icons){var h=
a(this.options.templates.iconpickerItem);h.find("i").addClass(this.options.fullClassFormatter(this.options.icons[f]));h.data("iconpickerValue",this.options.icons[f]).on("click.iconpicker",e);this.iconpicker.find(".iconpicker-items").append(h.attr("title","."+this.options.icons[f]))}this.popover.find(".popover-content").append(this.iconpicker);return this.iconpicker},_isEventInsideIconpicker:function(b){b=a(b.target);return b.hasClass("iconpicker-element")&&(!b.hasClass("iconpicker-element")||b.is(this.element))||
0!==b.parents(".iconpicker-popover").length?!0:!1},_bindElementEvents:function(){var b=this;this.getSearchInput().on("keyup.iconpicker",function(){b.filter(a(this).val().toLowerCase())});this.getAcceptButton().on("click.iconpicker",function(){var a=b.iconpicker.find(".iconpicker-selected").get(0);b.update(b.iconpickerValue);b._trigger("iconpickerSelected",{iconpickerItem:a,iconpickerValue:b.iconpickerValue});b.isInline()||b.hide()});this.getCancelButton().on("click.iconpicker",function(){b.isInline()||
b.hide()});this.element.on("focus.iconpicker",function(a){b.show();a.stopPropagation()});if(this.hasComponent())this.component.on("click.iconpicker",function(){b.toggle()});if(this.hasInput())this.input.on("keyup.iconpicker",function(e){h.inArray(e.keyCode,[38,40,37,39,16,17,18,9,8,91,93,20,46,186,190,46,78,188,44,86])?b._updateFormGroupStatus(!1!==b.getValid(this.value)):b.update();!0===b.options.inputSearch&&b.filter(a(this).val().toLowerCase())})},_bindWindowEvents:function(){var b=a(window.document),
e=this,f=".iconpicker.inst"+this._id;a(window).on("resize.iconpicker"+f+" orientationchange.iconpicker"+f,function(a){e.popover.hasClass("in")&&e.updatePlacement()});if(!e.isInline())b.on("mouseup"+f,function(a){e._isEventInsideIconpicker(a)||e.isInline()||e.hide();a.stopPropagation();a.preventDefault();return!1});return!1},_unbindElementEvents:function(){this.popover.off(".iconpicker");this.element.off(".iconpicker");this.hasInput()&&this.input.off(".iconpicker");this.hasComponent()&&this.component.off(".iconpicker");
this.hasContainer()&&this.container.off(".iconpicker")},_unbindWindowEvents:function(){a(window).off(".iconpicker.inst"+this._id);a(window.document).off(".iconpicker.inst"+this._id)},updatePlacement:function(b,e){b=b||this.options.placement;this.options.placement=b;e=e||this.options.collision;e=!0===e?"flip":e;var f={at:"right bottom",my:"right top",of:this.hasInput()&&!this.isInputGroup()?this.input:this.container,collision:!0===e?"flip":e,within:window};this.popover.removeClass("inline topLeftCorner topLeft top topRight topRightCorner rightTop right rightBottom bottomRight bottomRightCorner bottom bottomLeft bottomLeftCorner leftBottom left leftTop");
if("object"===typeof b)return this.popover.pos(a.extend({},f,b));switch(b){case "inline":f=!1;break;case "topLeftCorner":f.my="right bottom";f.at="left top";break;case "topLeft":f.my="left bottom";f.at="left top";break;case "top":f.my="center bottom";f.at="center top";break;case "topRight":f.my="right bottom";f.at="right top";break;case "topRightCorner":f.my="left bottom";f.at="right top";break;case "rightTop":f.my="left bottom";f.at="right center";break;case "right":f.my="left center";f.at="right center";
break;case "rightBottom":f.my="left top";f.at="right center";break;case "bottomRightCorner":f.my="left top";f.at="right bottom";break;case "bottomRight":f.my="right top";f.at="right bottom";break;case "bottom":f.my="center top";f.at="center bottom";break;case "bottomLeft":f.my="left top";f.at="left bottom";break;case "bottomLeftCorner":f.my="right top";f.at="left bottom";break;case "leftBottom":f.my="right top";f.at="left center";break;case "left":f.my="right center";f.at="left center";break;case "leftTop":f.my=
"right bottom";f.at="left center";break;default:return!1}this.popover.css({display:"inline"===this.options.placement?"":"block"});!1!==f?this.popover.pos(f).css("maxWidth",a(window).width()-this.container.offset().left-5):this.popover.css({top:"auto",right:"auto",bottom:"auto",left:"auto",maxWidth:"none"});this.popover.addClass(this.options.placement);return!0},_updateComponents:function(){this.iconpicker.find(".iconpicker-item.iconpicker-selected").removeClass("iconpicker-selected "+this.options.selectedCustomClass);
this.iconpickerValue&&this.iconpicker.find("."+this.options.fullClassFormatter(this.iconpickerValue).replace(/ /g,".")).parent().addClass("iconpicker-selected "+this.options.selectedCustomClass);if(this.hasComponent()){var a=this.component.find("i");0<a.length?a.attr("class",this.options.fullClassFormatter(this.iconpickerValue)):this.component.html(this.getHtml())}},_updateFormGroupStatus:function(a){return this.hasInput()?(!1!==a?this.input.parents(".form-group:first").removeClass("has-error"):this.input.parents(".form-group:first").addClass("has-error"),
!0):!1},getValid:function(b){h.isString(b)||(b="");var e=""===b;b=a.trim(b);return h.inArray(b,this.options.icons)||e?b:!1},setValue:function(a){var e=this.getValid(a);if(!1!==e)return this.iconpickerValue=e,this._trigger("iconpickerSetValue",{iconpickerValue:e}),this.iconpickerValue;this._trigger("iconpickerInvalid",{iconpickerValue:a});return!1},getHtml:function(){return'<i class="'+this.options.fullClassFormatter(this.iconpickerValue)+'"></i>'},setSourceValue:function(a){a=this.setValue(a);!1!==
a&&""!==a&&(this.hasInput()?this.input.val(this.iconpickerValue):this.element.data("iconpickerValue",this.iconpickerValue),this._trigger("iconpickerSetSourceValue",{iconpickerValue:a}));return a},getSourceValue:function(a){var e=a=a||this.options.defaultValue,e=this.hasInput()?this.input.val():this.element.data("iconpickerValue");if(void 0===e||""===e||null===e||!1===e)e=a;return e},hasInput:function(){return!1!==this.input},isInputSearch:function(){return this.hasInput()&&!0===this.options.inputSearch},
isInputGroup:function(){return this.container.is(".input-group")},isDropdownMenu:function(){return this.container.is(".dropdown-menu")},hasSeparatedSearchInput:function(){return!1!==this.options.templates.search&&!this.isInputSearch()},hasComponent:function(){return!1!==this.component},hasContainer:function(){return!1!==this.container},getAcceptButton:function(){return this.popover.find(".iconpicker-btn-accept")},getCancelButton:function(){return this.popover.find(".iconpicker-btn-cancel")},getSearchInput:function(){return this.popover.find(".iconpicker-search")},
filter:function(b){if(h.isEmpty(b))return this.iconpicker.find(".iconpicker-item").show(),a(!1);var e=[];this.iconpicker.find(".iconpicker-item").each(function(){var f=a(this),h=f.attr("title").toLowerCase(),k=!1;try{k=new RegExp(b,"g")}catch(n){k=!1}!1!==k&&h.match(k)?(e.push(f),f.show()):f.hide()});return e},show:function(){if(this.popover.hasClass("in"))return!1;a.iconpicker.batch(a(".iconpicker-popover.in:not(.inline)").not(this.popover),"hide");this._trigger("iconpickerShow");this.updatePlacement();
this.popover.addClass("in");setTimeout(a.proxy(function(){this.popover.css("display",this.isInline()?"":"block");this._trigger("iconpickerShown")},this),this.options.animation?300:1)},hide:function(){if(!this.popover.hasClass("in"))return!1;this._trigger("iconpickerHide");this.popover.removeClass("in");setTimeout(a.proxy(function(){this.popover.css("display","none");this.getSearchInput().val("");this.filter("");this._trigger("iconpickerHidden")},this),this.options.animation?300:1)},toggle:function(){this.popover.is(":visible")?
this.hide():this.show(!0)},update:function(a,e){a=a?a:this.getSourceValue(this.iconpickerValue);this._trigger("iconpickerUpdate");!0===e?a=this.setValue(a):(a=this.setSourceValue(a),this._updateFormGroupStatus(!1!==a));!1!==a&&this._updateComponents();this._trigger("iconpickerUpdated");return a},destroy:function(){this._trigger("iconpickerDestroy");this.element.removeData("iconpicker").removeData("iconpickerValue").removeClass("iconpicker-element");this._unbindElementEvents();this._unbindWindowEvents();
a(this.popover).remove();this._trigger("iconpickerDestroyed")},disable:function(){return this.hasInput()?(this.input.prop("disabled",!0),!0):!1},enable:function(){return this.hasInput()?(this.input.prop("disabled",!1),!0):!1},isDisabled:function(){return this.hasInput()?!0===this.input.prop("disabled"):!1},isInline:function(){return"inline"===this.options.placement||this.popover.hasClass("inline")}};a.iconpicker=e;a.fn.iconpicker=function(b){return this.each(function(){var g=a(this);g.data("iconpicker")||
g.data("iconpicker",new e(this,"object"===typeof b?b:{}))})};e.defaultOptions.icons="fa-500px fa-adjust fa-adn fa-align-center fa-align-justify fa-align-left fa-align-right fa-amazon fa-ambulance fa-anchor fa-android fa-angellist fa-angle-double-down fa-angle-double-left fa-angle-double-right fa-angle-double-up fa-angle-down fa-angle-left fa-angle-right fa-angle-up fa-apple fa-archive fa-area-chart fa-arrow-circle-down fa-arrow-circle-left fa-arrow-circle-o-down fa-arrow-circle-o-left fa-arrow-circle-o-right fa-arrow-circle-o-up fa-arrow-circle-right fa-arrow-circle-up fa-arrow-down fa-arrow-left fa-arrow-right fa-arrow-up fa-arrows fa-arrows-alt fa-arrows-h fa-arrows-v fa-asterisk fa-at fa-automobile fa-backward fa-balance-scale fa-ban fa-bank fa-bar-chart fa-bar-chart-o fa-barcode fa-bars fa-battery-0 fa-battery-1 fa-battery-2 fa-battery-3 fa-battery-4 fa-battery-empty fa-battery-full fa-battery-half fa-battery-quarter fa-battery-three-quarters fa-bed fa-beer fa-behance fa-behance-square fa-bell fa-bell-o fa-bell-slash fa-bell-slash-o fa-bicycle fa-binoculars fa-birthday-cake fa-bitbucket fa-bitbucket-square fa-bitcoin fa-black-tie fa-bold fa-bolt fa-bomb fa-book fa-bookmark fa-bookmark-o fa-briefcase fa-btc fa-bug fa-building fa-building-o fa-bullhorn fa-bullseye fa-bus fa-buysellads fa-cab fa-calculator fa-calendar fa-calendar-check-o fa-calendar-minus-o fa-calendar-o fa-calendar-plus-o fa-calendar-times-o fa-camera fa-camera-retro fa-car fa-caret-down fa-caret-left fa-caret-right fa-caret-square-o-down fa-caret-square-o-left fa-caret-square-o-right fa-caret-square-o-up fa-caret-up fa-cart-arrow-down fa-cart-plus fa-cc fa-cc-amex fa-cc-diners-club fa-cc-discover fa-cc-jcb fa-cc-mastercard fa-cc-paypal fa-cc-stripe fa-cc-visa fa-certificate fa-chain fa-chain-broken fa-check fa-check-circle fa-check-circle-o fa-check-square fa-check-square-o fa-chevron-circle-down fa-chevron-circle-left fa-chevron-circle-right fa-chevron-circle-up fa-chevron-down fa-chevron-left fa-chevron-right fa-chevron-up fa-child fa-chrome fa-circle fa-circle-o fa-circle-o-notch fa-circle-thin fa-clipboard fa-clock-o fa-clone fa-close fa-cloud fa-cloud-download fa-cloud-upload fa-cny fa-code fa-code-fork fa-codepen fa-coffee fa-cog fa-cogs fa-columns fa-comment fa-comment-o fa-commenting fa-commenting-o fa-comments fa-comments-o fa-compass fa-compress fa-connectdevelop fa-contao fa-copy fa-copyright fa-creative-commons fa-credit-card fa-crop fa-crosshairs fa-css3 fa-cube fa-cubes fa-cut fa-cutlery fa-dashboard fa-dashcube fa-database fa-dedent fa-delicious fa-desktop fa-deviantart fa-diamond fa-digg fa-dollar fa-dot-circle-o fa-download fa-dribbble fa-dropbox fa-drupal fa-edit fa-eject fa-ellipsis-h fa-ellipsis-v fa-empire fa-envelope fa-envelope-o fa-envelope-square fa-eraser fa-eur fa-euro fa-exchange fa-exclamation fa-exclamation-circle fa-exclamation-triangle fa-expand fa-expeditedssl fa-external-link fa-external-link-square fa-eye fa-eye-slash fa-eyedropper fa-facebook fa-facebook-f fa-facebook-official fa-facebook-square fa-fast-backward fa-fast-forward fa-fax fa-feed fa-female fa-fighter-jet fa-file fa-file-archive-o fa-file-audio-o fa-file-code-o fa-file-excel-o fa-file-image-o fa-file-movie-o fa-file-o fa-file-pdf-o fa-file-photo-o fa-file-picture-o fa-file-powerpoint-o fa-file-sound-o fa-file-text fa-file-text-o fa-file-video-o fa-file-word-o fa-file-zip-o fa-files-o fa-film fa-filter fa-fire fa-fire-extinguisher fa-firefox fa-flag fa-flag-checkered fa-flag-o fa-flash fa-flask fa-flickr fa-floppy-o fa-folder fa-folder-o fa-folder-open fa-folder-open-o fa-font fa-fonticons fa-forumbee fa-forward fa-foursquare fa-frown-o fa-futbol-o fa-gamepad fa-gavel fa-gbp fa-ge fa-gear fa-gears fa-genderless fa-get-pocket fa-gg fa-gg-circle fa-gift fa-git fa-git-square fa-github fa-github-alt fa-github-square fa-gittip fa-glass fa-globe fa-google fa-google-plus fa-google-plus-square fa-google-wallet fa-graduation-cap fa-gratipay fa-group fa-h-square fa-hacker-news fa-hand-grab-o fa-hand-lizard-o fa-hand-o-down fa-hand-o-left fa-hand-o-right fa-hand-o-up fa-hand-paper-o fa-hand-peace-o fa-hand-pointer-o fa-hand-scissors-o fa-hand-spock-o fa-hand-stop-o fa-hdd-o fa-header fa-headphones fa-heart fa-heart-o fa-heartbeat fa-history fa-home fa-hospital-o fa-hotel fa-hourglass fa-hourglass-1 fa-hourglass-2 fa-hourglass-3 fa-hourglass-end fa-hourglass-half fa-hourglass-o fa-hourglass-start fa-houzz fa-html5 fa-i-cursor fa-ils fa-image fa-inbox fa-indent fa-industry fa-info fa-info-circle fa-inr fa-instagram fa-institution fa-internet-explorer fa-intersex fa-ioxhost fa-italic fa-joomla fa-jpy fa-jsfiddle fa-key fa-keyboard-o fa-krw fa-language fa-laptop fa-lastfm fa-lastfm-square fa-leaf fa-leanpub fa-legal fa-lemon-o fa-level-down fa-level-up fa-life-bouy fa-life-buoy fa-life-ring fa-life-saver fa-lightbulb-o fa-line-chart fa-link fa-linkedin fa-linkedin-square fa-linux fa-list fa-list-alt fa-list-ol fa-list-ul fa-location-arrow fa-lock fa-long-arrow-down fa-long-arrow-left fa-long-arrow-right fa-long-arrow-up fa-magic fa-magnet fa-mail-forward fa-mail-reply fa-mail-reply-all fa-male fa-map fa-map-marker fa-map-o fa-map-pin fa-map-signs fa-mars-double fa-mars-stroke fa-mars-stroke-h fa-mars-stroke-v fa-maxcdn fa-meanpath fa-medium fa-medkit fa-mercury fa-microphone fa-microphone-slash fa-minus fa-minus-circle fa-minus-square fa-minus-square-o fa-mobile fa-mobile-phone fa-money fa-moon-o fa-mortar-board fa-motorcycle fa-mouse-pointer fa-music fa-navicon fa-neuter fa-newspaper-o fa-object-group fa-object-ungroup fa-odnoklassniki fa-odnoklassniki-square fa-opencart fa-openid fa-opera fa-optin-monster fa-outdent fa-pagelines fa-paint-brush fa-paper-plane fa-paper-plane-o fa-paperclip fa-paragraph fa-paste fa-pause fa-paw fa-paypal fa-pencil fa-pencil-square fa-pencil-square-o fa-phone fa-phone-square fa-photo fa-picture-o fa-pie-chart fa-pied-piper fa-pied-piper-alt fa-pinterest fa-pinterest-p fa-pinterest-square fa-plane fa-play fa-play-circle fa-play-circle-o fa-plug fa-plus fa-plus-circle fa-plus-square fa-plus-square-o fa-power-off fa-print fa-puzzle-piece fa-qq fa-qrcode fa-question fa-question-circle fa-quote-left fa-quote-right fa-ra fa-random fa-rebel fa-recycle fa-reddit fa-reddit-square fa-refresh fa-registered fa-remove fa-renren fa-reorder fa-repeat fa-reply fa-reply-all fa-retweet fa-rmb fa-road fa-rocket fa-rotate-left fa-rotate-right fa-rouble fa-rss fa-rss-square fa-rub fa-ruble fa-rupee fa-safari fa-save fa-scissors fa-search fa-search-minus fa-search-plus fa-sellsy fa-send fa-send-o fa-server fa-share fa-share-alt fa-share-alt-square fa-share-square fa-share-square-o fa-shekel fa-sheqel fa-shield fa-ship fa-shirtsinbulk fa-shopping-cart fa-sign-in fa-sign-out fa-signal fa-simplybuilt fa-sitemap fa-skyatlas fa-skype fa-slack fa-sliders fa-slideshare fa-smile-o fa-soccer-ball-o fa-sort fa-sort-alpha-asc fa-sort-alpha-desc fa-sort-amount-asc fa-sort-amount-desc fa-sort-asc fa-sort-desc fa-sort-down fa-sort-numeric-asc fa-sort-numeric-desc fa-sort-up fa-soundcloud fa-space-shuttle fa-spinner fa-spoon fa-spotify fa-square fa-square-o fa-stack-exchange fa-stack-overflow fa-steam fa-steam-square fa-star fa-star-half fa-star-half-empty fa-star-half-full fa-star-half-o fa-star-o fa-step-backward fa-step-forward fa-stethoscope fa-sticky-note fa-sticky-note-o fa-stop fa-street-view fa-strikethrough fa-stumbleupon fa-stumbleupon-circle fa-subscript fa-subway fa-suitcase fa-sun-o fa-superscript fa-support fa-table fa-tablet fa-tachometer fa-tag fa-tags fa-tasks fa-taxi fa-television fa-tencent-weibo fa-terminal fa-text-height fa-text-width fa-th fa-th-large fa-th-list fa-thumb-tack fa-thumbs-down fa-thumbs-o-down fa-thumbs-o-up fa-thumbs-up fa-ticket fa-times fa-times-circle fa-times-circle-o fa-tint fa-toggle-down fa-toggle-left fa-toggle-off fa-toggle-on fa-toggle-right fa-toggle-up fa-trademark fa-train fa-transgender fa-transgender-alt fa-trash fa-trash-o fa-tree fa-trello fa-tripadvisor fa-trophy fa-truck fa-try fa-tty fa-tumblr fa-tumblr-square fa-turkish-lira fa-tv fa-twitch fa-twitter fa-twitter-square fa-umbrella fa-underline fa-university fa-unlink fa-unlock fa-unlock-alt fa-unsorted fa-upload fa-usd fa-user fa-user-md fa-user-plus fa-user-secret fa-user-times fa-users fa-venus fa-venus-double fa-venus-mars fa-viacoin fa-video-camera fa-vimeo fa-vimeo-square fa-vine fa-vk fa-volume-down fa-volume-off fa-volume-up fa-warning fa-wechat fa-weibo fa-weixin fa-whatsapp fa-wheelchair fa-wifi fa-wikipedia-w fa-windows fa-won fa-wordpress fa-wrench fa-xing fa-xing-square fa-y-combinator fa-y-combinator-square fa-yahoo fa-yc fa-yc-square fa-yelp fa-yen fa-youtube fa-youtube-play fa-youtube-square".split(" ")});/*
 wysihtml v0.5.5
 https://github.com/Voog/wysihtml

 Author: Christopher Blum (https://github.com/tiff)
 Secondary author of extended features: Oliver Pulges (https://github.com/pulges)

 Copyright (C) 2012 XING AG
 Licensed under the MIT license (MIT)

*/
var wysihtml5={version:"0.5.5",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",INVISIBLE_SPACE_REG_EXP:/\uFEFF/g,VOID_ELEMENTS:"area, base, br, col, embed, hr, img, input, keygen, link, meta, param, source, track, wbr",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,TAB_KEY:9,DELETE_KEY:46,polyfills:function(a,h){String.prototype.trim||function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
String.prototype.trim=function(){return this.replace(a,"")}}();(function(){h.addEventListener||(a.Element.prototype.addEventListener=a.addEventListener=h.addEventListener=function(b,e,f){return(f=this).attachEvent("on"+b,function(b){b=b||a.event;b.target=b.target||b.srcElement;b.preventDefault=b.preventDefault||function(){b.returnValue=!1};b.stopPropagation=b.stopPropagation||function(){b.cancelBubble=!0};b.which=b.button?2===b.button?3:4===b.button?2:b.button:b.keyCode;e.call(f,b)})},a.Element.prototype.removeEventListener=
a.removeEventListener=h.removeEventListener=function(a,b){return this.detachEvent("on"+a,b)})})();Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(a.Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(a.Element.prototype,"textContent").get&&function(){var b=Object.getOwnPropertyDescriptor(a.Element.prototype,"innerText");Object.defineProperty(a.Element.prototype,"textContent",{get:function(){return b.get.call(this)},set:function(a){return b.set.call(this,
a)}})}();Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var e=this.length,f=-1,g=b>>>0;~(e-g);f=this[--e]===a?e:f);return f});Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),e=this,f=function(){},g=
function(){return e.apply(this instanceof f&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};f.prototype=this.prototype;g.prototype=new f;return g});(function(a){a.matches=a.matches||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var b=0;a[b]&&a[b]!==this;)++b;return a[b]?!0:!1};a.closest=a.closest||function(a){for(var b=this;b&&!b.matches(a);)b=b.parentElement;return b}})(Element.prototype);
"document"in a&&("classList"in h.createElement("_")?"DOMTokenList"in a&&function(){var b=h.createElement("_");b.classList.add("c1","c2");if(!b.classList.contains("c2")){var e=function(b){var e=a.DOMTokenList.prototype[b];a.DOMTokenList.prototype[b]=function(a){var b,f=arguments.length;for(b=0;b<f;b++)a=arguments[b],e.call(this,a)}};e("add");e("remove")}b.classList.toggle("c3",!1);if(b.classList.contains("c3")){var f=a.DOMTokenList.prototype.toggle;a.DOMTokenList.prototype.toggle=function(a,b){return 1 in
arguments&&!this.contains(a)===!b?b:f.call(this,a)}}b=null}():function(a){if("Element"in a){a=a.Element.prototype;var b=Object,e=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},f=Array.prototype.indexOf||function(a){for(var b=0,e=this.length;b<e;b++)if(b in this&&this[b]===a)return b;return-1},g=function(a,b){this.name=a;this.code=DOMException[a];this.message=b},h=function(a,b){if(""===b)throw new g("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new g("INVALID_CHARACTER_ERR",
"String contains an invalid character");return f.call(a,b)},r=function(a){for(var b=e.call(a.getAttribute("class")||""),b=b?b.split(/\s+/):[],f=0,g=b.length;f<g;f++)this.push(b[f]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},t=r.prototype=[],u=function(){return new r(this)};g.prototype=Error.prototype;t.item=function(a){return this[a]||null};t.contains=function(a){return-1!==h(this,a+"")};t.add=function(){var a=arguments,b=0,e=a.length,f,g=!1;do f=a[b]+"",-1===h(this,
f)&&(this.push(f),g=!0);while(++b<e);g&&this._updateClassName()};t.remove=function(){var a=arguments,b=0,e=a.length,f,g=!1,k;do for(f=a[b]+"",k=h(this,f);-1!==k;)this.splice(k,1),g=!0,k=h(this,f);while(++b<e);g&&this._updateClassName()};t.toggle=function(a,b){a+="";var e=this.contains(a),f=e?!0!==b&&"remove":!1!==b&&"add";if(f)this[f](a);return!0===b||!1===b?b:!e};t.toString=function(){return this.join(" ")};if(b.defineProperty){t={get:u,enumerable:!0,configurable:!0};try{b.defineProperty(a,"classList",
t)}catch(y){-2146823252===y.number&&(t.enumerable=!1,b.defineProperty(a,"classList",t))}}else b.prototype.__defineGetter__&&a.__defineGetter__("classList",u)}}(a));var e=function(a){var b=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?b.push(a):b=b.concat(e(a));return b},b=function(){Node.prototype.normalize=function(){var a=e(this),b=this.ownerDocument.defaultView.getSelection(),f=b.anchorNode,g=b.anchorOffset,h=f&&1===f.nodeType&&0<f.childNodes.length?f.childNodes[g]:void 0,q=b.focusNode,
r=b.focusOffset,t=q&&1===q.nodeType&&0<r?q.childNodes[r-1]:void 0,u=this.ownerDocument.createRange(),y=a.shift(),x=y?a.shift():null;t&&3===t.nodeType&&(q=t,r=t.nodeValue.length,t=void 0);h&&3===h.nodeType&&(f=h,g=0,h=void 0);if(f===q&&r<g||f!==q&&f.compareDocumentPosition(q)&Node.DOCUMENT_POSITION_PRECEDING&&!(f.compareDocumentPosition(q)&Node.DOCUMENT_POSITION_CONTAINS))q=[f,f=q][0],r=[g,g=r][0];for(;y&&x;)x.previousSibling&&x.previousSibling===y?(f===x&&(f=y,g=y.nodeValue.length+g),q===x&&(q=y,
r=y.nodeValue.length+r),y.nodeValue+=x.nodeValue,x.parentNode.removeChild(x)):y=x,x=a.shift();t&&(r=Array.prototype.indexOf.call(t.parentNode.childNodes,t)+1);h&&(g=Array.prototype.indexOf.call(h.parentNode.childNodes,h));a:{a=this.ownerDocument;h=this;do{if(h===a){a=!0;break a}h=h.parentNode}while(h);a=!1}a&&f&&f.parentNode&&q&&q.parentNode&&(u.setStart(f,g),u.setEnd(q,r),b.removeAllRanges(),b.addRange(u))}},g=function(){window.removeEventListener("load",g);var a;if(a="Node"in window&&"normalize"in
Node.prototype)if("createRange"in document&&"getSelection"in window){a=document.createElement("div");var e=document.createTextNode("a"),f=document.createTextNode("a"),h=document.createTextNode("a"),p=document.createRange();a.setAttribute("contenteditable","true");a.appendChild(e);a.appendChild(f);a.appendChild(h);document.body.appendChild(a);p.setStart(f,1);p.setEnd(f,1);e=window.getSelection();e.removeAllRanges();e.addRange(p);a.normalize();e=window.getSelection();p=1!==a.childNodes.length||e.anchorNode!==
a.firstChild||2!==e.anchorOffset;a.parentNode.removeChild(a);e.removeAllRanges();a=p}else a=void 0;a&&b()};"complete"!==h.readyState?window.addEventListener("load",g):g();var f=function(){try{var a=new CustomEvent("cat",{detail:{foo:"bar"}});return"cat"===a.type&&"bar"===a.detail.foo}catch(b){}return!1}();(function(){if(!f&&"CustomEvent"in window){var b=function(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var e=h.createEvent("CustomEvent");e.initCustomEvent(a,b.bubbles,b.cancelable,b.detail);
return e};b.prototype=a.Event.prototype;a.CustomEvent=b;f=!0}})()}};wysihtml5.polyfills(window,document);
(function(a,h){"function"==typeof define&&define.amd?define(a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a():h.rangy=a()})(function(){function a(a,b){var e=typeof a[b];return"function"==e||!("object"!=e||!a[b])||"unknown"==e}function h(a,b){return!("object"!=typeof a[b]||!a[b])}function e(a,b){return"undefined"!=typeof a[b]}function b(a){return function(b,e){for(var f=e.length;f--;)if(!a(b,e[f]))return!1;return!0}}function g(a){return a&&D(a,B)&&A(a,z)}function f(a){return h(a,
"body")?a.body:a.getElementsByTagName("body")[0]}function l(b){"undefined"!=typeof console&&a(console,"log")&&console.log(b)}function k(a){G.initialized=!0;G.supported=!1;a="Rangy is not supported in this environment. Reason: "+a;E&&G.config.alertOnFail?alert(a):l(a)}function n(){if(E&&!G.initialized){var b,e=!1,h=!1;a(document,"createRange")&&(b=document.createRange(),D(b,x)&&A(b,y)&&(e=!0));if((b=f(document))&&"body"==b.nodeName.toLowerCase())if(b&&a(b,"createTextRange")&&(b=b.createTextRange(),
g(b)&&(h=!0)),e||h){G.initialized=!0;G.features={implementsDomRange:e,implementsTextRange:h};var m,n;for(n in C)(m=C[n])instanceof r&&m.init(m,G);h=0;for(m=M.length;h<m;++h)try{M[h](G)}catch(q){e="Rangy init listener threw an exception. Continuing. Detail: "+(q.message||q.description||String(q)),l(e)}}else k("Neither Range nor TextRange are available");else k("No body element found")}}function m(a,b,e){e&&(a+=" in module "+e.name);G.warn("DEPRECATED: "+a+" is deprecated. Please use "+b+" instead.")}
function p(a,b,e,f){a[b]=function(){m(b,e,f);return a[e].apply(a,H.toArray(arguments))}}function q(a){a=a||window;n();for(var b=0,e=L.length;b<e;++b)L[b](a)}function r(a,b,e){this.name=a;this.dependencies=b;this.supported=this.initialized=!1;this.initializer=e}function t(a,b,e){b=new r(a,b,function(b){if(!b.initialized){b.initialized=!0;try{e(G,b),b.supported=!0}catch(f){l("Module '"+a+"' failed to load: "+(f.message||f.description||String(f))),f.stack&&l(f.stack)}}});return C[a]=b}function u(){}
var y="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" "),x="setStart setStartBefore setStartAfter setEnd setEndBefore setEndAfter collapse selectNode selectNodeContents compareBoundaryPoints deleteContents extractContents cloneContents insertNode surroundContents cloneRange toString detach".split(" "),z="boundingHeight boundingLeft boundingTop boundingWidth htmlText text".split(" "),B="collapse compareEndPoints duplicate moveToElementText parentElement select setEndPoint getBoundingClientRect".split(" "),
D=b(a),w=b(h),A=b(e),C={},E="undefined"!=typeof window&&"undefined"!=typeof document,H={isHostMethod:a,isHostObject:h,isHostProperty:e,areHostMethods:D,areHostObjects:w,areHostProperties:A,isTextRange:g,getBody:f,forEach:[].forEach?function(a,b){a.forEach(b)}:function(a,b){for(var e=0,f=a.length;e<f;++e)b(a[e],e)}},G={version:"1.3.0",initialized:!1,isBrowser:E,supported:!0,util:H,features:{},modules:C,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:"undefined"==typeof rangyAutoInitialize?
!0:rangyAutoInitialize}};G.fail=k;G.warn=function(a){a="Rangy warning: "+a;E&&G.config.alertOnWarn?alert(a):l(a)};var O;({}).hasOwnProperty?(H.extend=O=function(a,b,e){var f,g,h;for(h in b)b.hasOwnProperty(h)&&(f=a[h],g=b[h],e&&null!==f&&"object"==typeof f&&null!==g&&"object"==typeof g&&O(f,g,!0),a[h]=g);b.hasOwnProperty("toString")&&(a.toString=b.toString);return a},H.createOptions=function(a,b){var e={};O(e,b);a&&O(e,a);return e}):k("hasOwnProperty not supported");E||k("Rangy can only run in a browser");
(function(){var a;if(E){var b=document.createElement("div");b.appendChild(document.createElement("span"));var e=[].slice;try{1==e.call(b.childNodes,0)[0].nodeType&&(a=function(a){return e.call(a,0)})}catch(f){}}a||(a=function(a){for(var b=[],e=0,f=a.length;e<f;++e)b[e]=a[e];return b});H.toArray=a})();var J;E&&(a(document,"addEventListener")?J=function(a,b,e){a.addEventListener(b,e,!1)}:a(document,"attachEvent")?J=function(a,b,e){a.attachEvent("on"+b,e)}:k("Document does not have required addEventListener or attachEvent method"),
H.addListener=J);var M=[];H.deprecationNotice=m;H.createAliasForDeprecatedMethod=p;G.init=n;G.addInitListener=function(a){G.initialized?a(G):M.push(a)};var L=[];G.addShimListener=function(a){L.push(a)};E&&(G.shim=G.createMissingNativeApi=q,p(G,"createMissingNativeApi","shim"));r.prototype={init:function(){for(var a=this.dependencies||[],b=0,e=a.length,f,g;b<e;++b){g=a[b];f=C[g];if(!(f&&f instanceof r))throw Error("required module '"+g+"' not found");f.init();if(!f.supported)throw Error("required module '"+
g+"' not supported");}this.initializer(this)},fail:function(a){this.initialized=!0;this.supported=!1;throw Error(a);},warn:function(a){G.warn("Module "+this.name+": "+a)},deprecationNotice:function(a,b){G.warn("DEPRECATED: "+a+" in module "+this.name+" is deprecated. Please use "+b+" instead")},createError:function(a){return Error("Error in Rangy "+this.name+" module: "+a)}};G.createModule=function(a){var b,e;2==arguments.length?(b=arguments[1],e=[]):(b=arguments[2],e=arguments[1]);b=t(a,e,b);G.initialized&&
G.supported&&b.init()};G.createCoreModule=function(a,b,e){t(a,b,e)};G.RangePrototype=u;G.rangePrototype=new u;G.selectionPrototype=new function(){};G.createCoreModule("DomUtil",[],function(a,b){function e(a){for(var b=0;a=a.previousSibling;)++b;return b}function f(a,b){var e=[],g;for(g=a;g;g=g.parentNode)e.push(g);for(g=b;g;g=g.parentNode)if(z(e,g))return g;return null}function g(a,b,e){for(b=e?b:b.parentNode;b;){if(b===a)return!0;b=b.parentNode}return!1}function h(a,b,e){for(e=e?a:a.parentNode;e;){a=
e.parentNode;if(a===b)return e;e=a}return null}function k(a){a=a.nodeType;return 3==a||4==a||8==a}function l(a,b){var e=b.nextSibling,f=b.parentNode;e?f.insertBefore(a,e):f.appendChild(a);return a}function m(a){if(9==a.nodeType)return a;if("undefined"!=typeof a.ownerDocument)return a.ownerDocument;if("undefined"!=typeof a.document)return a.document;if(a.parentNode)return m(a.parentNode);throw b.createError("getDocument: no document found for node");}function n(a){a=m(a);if("undefined"!=typeof a.defaultView)return a.defaultView;
if("undefined"!=typeof a.parentWindow)return a.parentWindow;throw b.createError("Cannot get a window object for node");}function q(a){if("undefined"!=typeof a.contentDocument)return a.contentDocument;if("undefined"!=typeof a.contentWindow)return a.contentWindow.document;throw b.createError("getIframeDocument: No Document object found for iframe element");}function r(a){return a&&E.isHostMethod(a,"setTimeout")&&E.isHostObject(a,"document")}function p(a){return a?k(a)?'"'+a.data+'"':1==a.nodeType?"<"+
a.nodeName+(a.id?' id="'+a.id+'"':"")+">[index:"+e(a)+",length:"+a.childNodes.length+"]["+(a.innerHTML||"[innerHTML not supported]").slice(0,25)+"]":a.nodeName:"[No node]"}function w(a){this._next=this.root=a}function A(a,b){this.node=a;this.offset=b}function C(a){this.code=this[a];this.codeName=a;this.message="DOMException: "+this.codeName}var E=a.util,t=E.getBody;E.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||b.fail("document missing a Node creation method");
E.isHostMethod(document,"getElementsByTagName")||b.fail("document missing getElementsByTagName method");var u=document.createElement("div");E.areHostMethods(u,["insertBefore","appendChild","cloneNode"])||b.fail("Incomplete Element implementation");E.isHostProperty(u,"innerHTML")||b.fail("Element is missing innerHTML property");u=document.createTextNode("test");E.areHostMethods(u,["splitText","deleteData","insertData","appendData","cloneNode"])||b.fail("Incomplete Text Node implementation");var z=
function(a,b){for(var e=a.length;e--;)if(a[e]===b)return!0;return!1},H=!1;(function(){var b=document.createElement("b");b.innerHTML="1";b.innerHTML="<br />";H=!1;a.features.crashyTextNodes=H})();var x;"undefined"!=typeof window.getComputedStyle?x=function(a,b){return n(a).getComputedStyle(a,null)[b]}:"undefined"!=typeof document.documentElement.currentStyle?x=function(a,b){return a.currentStyle?a.currentStyle[b]:""}:b.fail("No means of obtaining computed style properties found");w.prototype={_current:null,
hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next,b;if(this._current){b=a.firstChild;if(!b)for(b=null;a!==this.root&&!(b=a.nextSibling);)a=a.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=null}};A.prototype={equals:function(a){return!!a&&this.node===a.node&&this.offset==a.offset},inspect:function(){return"[DomPosition("+p(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}};C.prototype=
{INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24};C.prototype.toString=function(){return this.message};a.dom={arrayContains:z,isHtmlNamespace:function(a){var b;return"undefined"==typeof a.namespaceURI||null===(b=a.namespaceURI)||"http://www.w3.org/1999/xhtml"==b},parentElement:function(a){a=a.parentNode;return 1==a.nodeType?a:null},getNodeIndex:e,getNodeLength:function(a){switch(a.nodeType){case 7:case 10:return 0;
case 3:case 8:return a.length;default:return a.childNodes.length}},getCommonAncestor:f,isAncestorOf:g,isOrIsAncestorOf:function(a,b){return g(a,b,!0)},getClosestAncestorIn:h,isCharacterDataNode:k,isTextOrCommentNode:function(a){if(!a)return!1;a=a.nodeType;return 3==a||8==a},insertAfter:l,splitDataNode:function(a,b,f){var g=a.cloneNode(!1);g.deleteData(0,b);a.deleteData(b,a.length-b);l(g,a);if(f)for(var h=0,k;k=f[h++];)k.node==a&&k.offset>b?(k.node=g,k.offset-=b):k.node==a.parentNode&&k.offset>e(a)&&
++k.offset;return g},getDocument:m,getWindow:n,getIframeWindow:function(a){if("undefined"!=typeof a.contentWindow)return a.contentWindow;if("undefined"!=typeof a.contentDocument)return a.contentDocument.defaultView;throw b.createError("getIframeWindow: No Window object found for iframe element");},getIframeDocument:q,getBody:t,isWindow:r,getContentDocument:function(a,b,e){var f;a?E.isHostProperty(a,"nodeType")?f=1==a.nodeType&&"iframe"==a.tagName.toLowerCase()?q(a):m(a):r(a)&&(f=a.document):f=document;
if(!f)throw b.createError(e+"(): Parameter must be a Window object or DOM node");return f},getRootContainer:function(a){for(var b;b=a.parentNode;)a=b;return a},comparePoints:function(a,g,k,l){var m;if(a==k)return g===l?0:g<l?-1:1;if(m=h(k,a,!0))return g<=e(m)?-1:1;if(m=h(a,k,!0))return e(m)<l?-1:1;g=f(a,k);if(!g)throw Error("comparePoints error: nodes have no common ancestor");a=a===g?g:h(a,g,!0);k=k===g?g:h(k,g,!0);if(a===k)throw b.createError("comparePoints got to case 4 and childA and childB are the same!");
for(g=g.firstChild;g;){if(g===a)return-1;if(g===k)return 1;g=g.nextSibling}},isBrokenNode:function(a){return!1},inspectNode:p,getComputedStyleProperty:x,createTestElement:function(a,b,e){var f=t(a);a=a.createElement("div");a.contentEditable=""+!!e;b&&(a.innerHTML=b);(b=f.firstChild)?f.insertBefore(a,b):f.appendChild(a);return a},removeNode:function(a){return a.parentNode.removeChild(a)},fragmentFromNodeChildren:function(a){for(var b=m(a).createDocumentFragment(),e;e=a.firstChild;)b.appendChild(e);
return b},createIterator:function(a){return new w(a)},DomPosition:A};a.DOMException=C});G.createCoreModule("DomRange",["DomUtil"],function(a,b){function e(a,b){return 3!=a.nodeType&&(Q(a,b.startContainer)||Q(a,b.endContainer))}function f(a){return a.document||va(a.startContainer)}function g(a){return new ka(a.parentNode,wa(a))}function h(a){return new ka(a.parentNode,wa(a)+1)}function k(a,b,e){var f=11==a.nodeType?a.firstChild:a;ea(b)?e==b.length?X.insertAfter(a,b):b.parentNode.insertBefore(a,0==
e?b:ba(b,e)):e>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[e]);return f}function l(a,b,e){y(a);y(b);if(f(b)!=f(a))throw new ga("WRONG_DOCUMENT_ERR");var g=fa(a.startContainer,a.startOffset,b.endContainer,b.endOffset);a=fa(a.endContainer,a.endOffset,b.startContainer,b.startOffset);return e?0>=g&&0<=a:0>g&&0<a}function m(a){for(var b,e,g=f(a.range).createDocumentFragment();e=a.next();){b=a.isPartiallySelectedSubtree();e=e.cloneNode(!b);b&&(b=a.getSubtreeIterator(),e.appendChild(m(b)),
b.detach());if(10==e.nodeType)throw new ga("HIERARCHY_REQUEST_ERR");g.appendChild(e)}return g}function n(a,b,e){var f,g;for(e=e||{stop:!1};f=a.next();)if(a.isPartiallySelectedSubtree())if(!1===b(f)){e.stop=!0;break}else{if(f=a.getSubtreeIterator(),n(f,b,e),f.detach(),e.stop)break}else for(f=X.createIterator(f);g=f.next();)if(!1===b(g)){e.stop=!0;return}}function q(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),q(b),b.detach()):a.remove()}function r(a){for(var b,e=
f(a.range).createDocumentFragment(),g;b=a.next();){a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),g=a.getSubtreeIterator(),b.appendChild(r(g)),g.detach()):a.remove();if(10==b.nodeType)throw new ga("HIERARCHY_REQUEST_ERR");e.appendChild(b)}return e}function p(a,b,e){var f=!(!b||!b.length),g,h=!!e;f&&(g=new RegExp("^("+b.join("|")+")$"));var k=[];n(new A(a,!1),function(b){if(!f||g.test(b.nodeType))if(!h||e(b)){var l=a.startContainer;b==l&&ea(l)&&a.startOffset==l.length||(l=a.endContainer,b==l&&ea(l)&&
0==a.endOffset||k.push(b))}});return k}function w(a){return"["+("undefined"==typeof a.getName?"Range":a.getName())+"("+X.inspectNode(a.startContainer)+":"+a.startOffset+", "+X.inspectNode(a.endContainer)+":"+a.endOffset+")]"}function A(a,b){this.range=a;this.clonePartiallySelectedTextNodes=b;if(!a.collapsed){this.sc=a.startContainer;this.so=a.startOffset;this.ec=a.endContainer;this.eo=a.endOffset;var e=a.commonAncestorContainer;this.sc===this.ec&&ea(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=
this._last=this._next=this.sc):(this._first=this._next=this.sc!==e||ea(this.sc)?ra(this.sc,e,!0):this.sc.childNodes[this.so],this._last=this.ec!==e||ea(this.ec)?ra(this.ec,e,!0):this.ec.childNodes[this.eo-1])}}function C(a){return function(b,e){for(var f,g=e?b:b.parentNode;g;){f=g.nodeType;if(Ta(a,f))return g;g=g.parentNode}return null}}function E(a,b){if(Bb(a,b))throw new ga("INVALID_NODE_TYPE_ERR");}function t(a,b){if(!Ta(b,a.nodeType))throw new ga("INVALID_NODE_TYPE_ERR");}function u(a,b){if(0>
b||b>(ea(a)?a.length:a.childNodes.length))throw new ga("INDEX_SIZE_ERR");}function z(a,b){if(ha(a,!0)!==ha(b,!0))throw new ga("WRONG_DOCUMENT_ERR");}function H(a){if(wb(a,!0))throw new ga("NO_MODIFICATION_ALLOWED_ERR");}function x(a,b){return b<=(ea(a)?a.length:a.childNodes.length)}function D(a){return!!a.startContainer&&!!a.endContainer&&!(Ma&&(X.isBrokenNode(a.startContainer)||X.isBrokenNode(a.endContainer)))&&na(a.startContainer)==na(a.endContainer)&&x(a.startContainer,a.startOffset)&&x(a.endContainer,
a.endOffset)}function y(a){if(!D(a))throw Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+a.inspect()+")");}function G(a,b){y(a);var e=a.startContainer,f=a.startOffset,g=a.endContainer,h=a.endOffset,k=e===g;ea(g)&&0<h&&h<g.length&&ba(g,h,b);ea(e)&&0<f&&f<e.length&&(e=ba(e,f,b),k?(h-=f,g=e):g==e.parentNode&&h>=wa(e)&&h++,f=0);a.setStartAndEnd(e,f,g,h)}function B(a){y(a);var b=a.commonAncestorContainer.parentNode.cloneNode(!1);b.appendChild(a.cloneContents());
return b.innerHTML}function da(a){a.START_TO_START=0;a.START_TO_END=1;a.END_TO_END=2;a.END_TO_START=3;a.NODE_BEFORE=0;a.NODE_AFTER=1;a.NODE_BEFORE_AND_AFTER=2;a.NODE_INSIDE=3}function O(a){da(a);da(a.prototype)}function K(a,b){return function(){y(this);var e=this.startContainer,f=this.startOffset,g=this.commonAncestorContainer,k=new A(this,!0);e!==g&&(e=ra(e,g,!0),f=h(e),e=f.node,f=f.offset);n(k,H);k.reset();g=a(k);k.detach();b(this,e,f,e,f);return g}}function J(b,f){function k(a,b){return function(e){t(e,
Oa);t(na(e),Za);e=(a?g:h)(e);(b?l:m)(this,e.node,e.offset)}}function l(a,b,e){var g=a.endContainer,h=a.endOffset;if(b!==a.startContainer||e!==a.startOffset){if(na(b)!=na(g)||1==fa(b,e,g,h))g=b,h=e;f(a,b,e,g,h)}}function m(a,b,e){var g=a.startContainer,h=a.startOffset;if(b!==a.endContainer||e!==a.endOffset){if(na(b)!=na(g)||-1==fa(b,e,g,h))g=b,h=e;f(a,g,h,b,e)}}var n=function(){};n.prototype=a.rangePrototype;b.prototype=new n;P.extend(b.prototype,{setStart:function(a,b){E(a,!0);u(a,b);l(this,a,b)},
setEnd:function(a,b){E(a,!0);u(a,b);m(this,a,b)},setStartAndEnd:function(){var a=arguments,b=a[0],e=a[1],g=b,h=e;switch(a.length){case 3:h=a[2];break;case 4:g=a[2],h=a[3]}f(this,b,e,g,h)},setBoundary:function(a,b,e){this["set"+(e?"Start":"End")](a,b)},setStartBefore:k(!0,!0),setStartAfter:k(!1,!0),setEndBefore:k(!0,!1),setEndAfter:k(!1,!1),collapse:function(a){y(this);a?f(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):f(this,this.endContainer,this.endOffset,this.endContainer,
this.endOffset)},selectNodeContents:function(a){E(a,!0);f(this,a,0,a,bb(a))},selectNode:function(a){E(a,!1);t(a,Oa);var b=g(a);a=h(a);f(this,b.node,b.offset,a.node,a.offset)},extractContents:K(r,f),deleteContents:K(q,f),canSurroundContents:function(){y(this);H(this.startContainer);H(this.endContainer);var a=new A(this,!0),b=a._first&&e(a._first,this)||a._last&&e(a._last,this);a.detach();return!b},splitBoundaries:function(){G(this)},splitBoundariesPreservingPositions:function(a){G(this,a)},normalizeBoundaries:function(){y(this);
var a=this.startContainer,b=this.startOffset,e=this.endContainer,g=this.endOffset,h=function(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(e=a,g=a.length,a.appendData(b.data),ua(b))},k=function(f){var h=f.previousSibling;if(h&&h.nodeType==f.nodeType){a=f;var k=f.length;b=h.length;f.insertData(0,h.data);ua(h);a==e?(g+=b,e=a):e==f.parentNode&&(h=wa(f),g==h?(e=f,g=k):g>h&&g--)}},l=!0;ea(e)?g==e.length?h(e):0==g&&(h=e.previousSibling)&&h.nodeType==e.nodeType&&(g=h.length,a==e&&(l=!1),h.appendData(e.data),
ua(e),e=h):(0<g&&(l=e.childNodes[g-1])&&ea(l)&&h(l),l=!this.collapsed);l?ea(a)?0==b?k(a):b==a.length&&(h=a.nextSibling)&&h.nodeType==a.nodeType&&(e==h&&(e=a,g+=a.length),a.appendData(h.data),ua(h)):b<a.childNodes.length&&(h=a.childNodes[b])&&ea(h)&&k(h):(a=e,b=g);f(this,a,b,e,g)},collapseToPoint:function(a,b){E(a,!0);u(a,b);this.setStartAndEnd(a,b)}});O(b)}function M(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset;a.commonAncestorContainer=a.collapsed?a.startContainer:
X.getCommonAncestor(a.startContainer,a.endContainer)}function za(a,b,e,f,g){a.startContainer=b;a.startOffset=e;a.endContainer=f;a.endOffset=g;a.document=X.getDocument(b);M(a)}function L(a){this.startContainer=a;this.startOffset=0;this.endContainer=a;this.endOffset=0;this.document=a;M(this)}var X=a.dom,P=a.util,ka=X.DomPosition,ga=a.DOMException,ea=X.isCharacterDataNode,wa=X.getNodeIndex,Q=X.isOrIsAncestorOf,va=X.getDocument,fa=X.comparePoints,ba=X.splitDataNode,ra=X.getClosestAncestorIn,bb=X.getNodeLength,
Ta=X.arrayContains,na=X.getRootContainer,Ma=a.features.crashyTextNodes,ua=X.removeNode;A.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null;this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;a&&(this._next=a!==this._last?a.nextSibling:null,ea(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===
this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so)));return a},remove:function(){var a=this._current,b,e;!ea(a)||a!==this.sc&&a!==this.ec?a.parentNode&&ua(a):(b=a===this.sc?this.so:0,e=a===this.ec?this.eo:a.length,b!=e&&a.deleteData(b,e-b))},isPartiallySelectedSubtree:function(){return e(this._current,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse(!1);else{a=new L(f(this.range));var b=this._current,e=b,g=0,h=b,k=bb(b);Q(b,this.sc)&&
(e=this.sc,g=this.so);Q(b,this.ec)&&(h=this.ec,k=this.eo);za(a,e,g,h,k)}return new A(a,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Oa=[1,3,4,5,7,8,10],Za=[2,9,11],kb=[1,3,4,5,7,8,10,11],Ga=[1,3,4,5,7,8],ha=C([9,11]),wb=C([5,6,10,12]),Bb=C([6,10,12]),ya=document.createElement("style"),ta=!1;try{ya.innerHTML="<b>x</b>",ta=3==ya.firstChild.nodeType}catch(xb){}a.features.htmlParsingConforms=
ta;var Va="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" ");P.extend(a.rangePrototype,{compareBoundaryPoints:function(a,b){y(this);z(this.startContainer,b.startContainer);var e=3==a||0==a?"start":"end",f=1==a||0==a?"start":"end";return fa(this[e+"Container"],this[e+"Offset"],b[f+"Container"],b[f+"Offset"])},insertNode:function(a){y(this);t(a,kb);H(this.startContainer);if(Q(a,this.startContainer))throw new ga("HIERARCHY_REQUEST_ERR");a=k(a,this.startContainer,
this.startOffset);this.setStartBefore(a)},cloneContents:function(){y(this);var a,b;if(this.collapsed)return f(this).createDocumentFragment();if(this.startContainer===this.endContainer&&ea(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=f(this).createDocumentFragment(),b.appendChild(a),b;b=new A(this,!0);a=m(b);b.detach();return a},canSurroundContents:function(){y(this);H(this.startContainer);H(this.endContainer);var a=new A(this,
!0),b=a._first&&e(a._first,this)||a._last&&e(a._last,this);a.detach();return!b},surroundContents:function(a){t(a,Ga);if(!this.canSurroundContents())throw new ga("INVALID_STATE_ERR");var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);k(a,this.startContainer,this.startOffset);a.appendChild(b);this.selectNode(a)},cloneRange:function(){y(this);for(var a=new L(f(this)),b=Va.length,e;b--;)e=Va[b],a[e]=this[e];return a},toString:function(){y(this);var a=this.startContainer;
if(a===this.endContainer&&ea(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):"";var b=[],a=new A(this,!0);n(a,function(a){3!=a.nodeType&&4!=a.nodeType||b.push(a.data)});a.detach();return b.join("")},compareNode:function(a){y(this);var b=a.parentNode,e=wa(a);if(!b)throw new ga("NOT_FOUND_ERR");a=this.comparePoint(b,e);b=this.comparePoint(b,e+1);return 0>a?0<b?2:0:0<b?1:3},comparePoint:function(a,b){y(this);if(!a)throw new ga("HIERARCHY_REQUEST_ERR");z(a,this.startContainer);
return 0>fa(a,b,this.startContainer,this.startOffset)?-1:0<fa(a,b,this.endContainer,this.endOffset)?1:0},createContextualFragment:ta?function(a){var b=this.startContainer,e=va(b);if(!b)throw new ga("INVALID_STATE_ERR");var f=null;1==b.nodeType?f=b:ea(b)&&(f=X.parentElement(b));f=null===f||"HTML"==f.nodeName&&X.isHtmlNamespace(va(f).documentElement)&&X.isHtmlNamespace(f)?e.createElement("body"):f.cloneNode(!1);f.innerHTML=a;return X.fragmentFromNodeChildren(f)}:function(a){var b=f(this).createElement("body");
b.innerHTML=a;return X.fragmentFromNodeChildren(b)},toHtml:function(){return B(this)},intersectsNode:function(a,b){y(this);if(na(a)!=na(this.startContainer))return!1;var e=a.parentNode,f=wa(a);if(!e)return!0;var g=fa(e,f,this.endContainer,this.endOffset),e=fa(e,f+1,this.startContainer,this.startOffset);return b?0>=g&&0<=e:0>g&&0<e},isPointInRange:function(a,b){y(this);if(!a)throw new ga("HIERARCHY_REQUEST_ERR");z(a,this.startContainer);return 0<=fa(a,b,this.startContainer,this.startOffset)&&0>=fa(a,
b,this.endContainer,this.endOffset)},intersectsRange:function(a){return l(this,a,!1)},intersectsOrTouchesRange:function(a){return l(this,a,!0)},intersection:function(a){if(this.intersectsRange(a)){var b=fa(this.startContainer,this.startOffset,a.startContainer,a.startOffset),e=fa(this.endContainer,this.endOffset,a.endContainer,a.endOffset),f=this.cloneRange();-1==b&&f.setStart(a.startContainer,a.startOffset);1==e&&f.setEnd(a.endContainer,a.endOffset);return f}return null},union:function(a){if(this.intersectsOrTouchesRange(a)){var b=
this.cloneRange();-1==fa(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset);1==fa(a.endContainer,a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset);return b}throw new ga("Ranges do not intersect");},containsNode:function(a,b){return b?this.intersectsNode(a,!1):3==this.compareNode(a)},containsNodeContents:function(a){return 0<=this.comparePoint(a,0)&&0>=this.comparePoint(a,bb(a))},containsRange:function(a){var b=
this.intersection(a);return null!==b&&a.equals(b)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var e=b.getNodes([3]);return 0<e.length?(b.setStart(e[0],0),a=e.pop(),b.setEnd(a,a.length),this.containsRange(b)):this.containsNodeContents(a)},getNodes:function(a,b){y(this);return p(this,a,b)},getDocument:function(){return f(this)},collapseBefore:function(a){this.setEndBefore(a);this.collapse(!1)},collapseAfter:function(a){this.setStartAfter(a);this.collapse(!0)},getBookmark:function(b){var e=
f(this),g=a.createRange(e);b=b||X.getBody(e);g.selectNodeContents(b);var e=this.intersection(g),h=0,k=0;e&&(g.setEnd(e.startContainer,e.startOffset),h=g.toString().length,k=h+e.toString().length);return{start:h,end:k,containerNode:b}},moveToBookmark:function(a){var b=a.containerNode,e=0;this.setStart(b,0);this.collapse(!0);for(var b=[b],f,g=!1,h=!1,k,l;!h&&(f=b.pop());)if(3==f.nodeType)k=e+f.length,!g&&a.start>=e&&a.start<=k&&(this.setStart(f,a.start-e),g=!0),g&&a.end>=e&&a.end<=k&&(this.setEnd(f,
a.end-e),h=!0),e=k;else for(l=f.childNodes,k=l.length;k--;)b.push(l[k])},getName:function(){return"DomRange"},equals:function(a){return L.rangesEqual(this,a)},isValid:function(){return D(this)},inspect:function(){return w(this)},detach:function(){}});J(L,za);P.extend(L,{rangeProperties:Va,RangeIterator:A,copyComparisonConstants:O,createPrototypeRange:J,inspect:w,toHtml:B,getRangeDocument:f,rangesEqual:function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===
b.endContainer&&a.endOffset===b.endOffset}});a.DomRange=L});G.createCoreModule("WrappedRange",["DomRange"],function(a,b){var e,f,g=a.dom,h=a.util,k=g.DomPosition,l=a.DomRange,m=g.getBody,n=g.getContentDocument,q=g.isCharacterDataNode;a.features.implementsDomRange&&function(){function f(a){for(var b=q.length,e;b--;)e=q[b],a[e]=a.nativeRange[e];a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset}var k,q=l.rangeProperties,r;e=function(a){if(!a)throw b.createError("WrappedRange: Range must be specified");
this.nativeRange=a;f(this)};l.createPrototypeRange(e,function(a,b,e,f,g){var h=a.startContainer!==b||a.startOffset!=e,k=a.endContainer!==f||a.endOffset!=g,l=!a.equals(a.nativeRange);if(h||k||l)a.setEnd(f,g),a.setStart(b,e)});k=e.prototype;k.selectNode=function(a){this.nativeRange.selectNode(a);f(this)};k.cloneContents=function(){return this.nativeRange.cloneContents()};k.surroundContents=function(a){this.nativeRange.surroundContents(a);f(this)};k.collapse=function(a){this.nativeRange.collapse(a);
f(this)};k.cloneRange=function(){return new e(this.nativeRange.cloneRange())};k.refresh=function(){f(this)};k.toString=function(){return this.nativeRange.toString()};var p=document.createTextNode("test");m(document).appendChild(p);var w=document.createRange();w.setStart(p,0);w.setEnd(p,0);try{w.setStart(p,1),k.setStart=function(a,b){this.nativeRange.setStart(a,b);f(this)},k.setEnd=function(a,b){this.nativeRange.setEnd(a,b);f(this)},r=function(a){return function(b){this.nativeRange[a](b);f(this)}}}catch(A){k.setStart=
function(a,b){try{this.nativeRange.setStart(a,b)}catch(e){this.nativeRange.setEnd(a,b),this.nativeRange.setStart(a,b)}f(this)},k.setEnd=function(a,b){try{this.nativeRange.setEnd(a,b)}catch(e){this.nativeRange.setStart(a,b),this.nativeRange.setEnd(a,b)}f(this)},r=function(a,b){return function(e){try{this.nativeRange[a](e)}catch(g){this.nativeRange[b](e),this.nativeRange[a](e)}f(this)}}}k.setStartBefore=r("setStartBefore","setEndBefore");k.setStartAfter=r("setStartAfter","setEndAfter");k.setEndBefore=
r("setEndBefore","setStartBefore");k.setEndAfter=r("setEndAfter","setStartAfter");k.selectNodeContents=function(a){this.setStartAndEnd(a,0,g.getNodeLength(a))};w.selectNodeContents(p);w.setEnd(p,3);r=document.createRange();r.selectNodeContents(p);r.setEnd(p,4);r.setStart(p,2);-1==w.compareBoundaryPoints(w.START_TO_END,r)&&1==w.compareBoundaryPoints(w.END_TO_START,r)?k.compareBoundaryPoints=function(a,b){b=b.nativeRange||b;a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END);return this.nativeRange.compareBoundaryPoints(a,
b)}:k.compareBoundaryPoints=function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)};r=document.createElement("div");r.innerHTML="123";var C=r.firstChild,E=m(document);E.appendChild(r);w.setStart(C,1);w.setEnd(C,2);w.deleteContents();"13"==C.data&&(k.deleteContents=function(){this.nativeRange.deleteContents();f(this)},k.extractContents=function(){var a=this.nativeRange.extractContents();f(this);return a});E.removeChild(r);E=null;h.isHostMethod(w,"createContextualFragment")&&
(k.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)});m(document).removeChild(p);k.getName=function(){return"WrappedRange"};a.WrappedRange=e;a.createNativeRange=function(a){a=n(a,b,"createNativeRange");return a.createRange()}}();if(a.features.implementsTextRange){var r=function(a,b,e,f,h){var l=a.duplicate();l.collapse(e);var m=l.parentElement();g.isOrIsAncestorOf(b,m)||(m=b);if(!m.canHaveHTML)return m=new k(m.parentNode,g.getNodeIndex(m)),{boundaryPosition:m,
nodeInfo:{nodeIndex:m.offset,containerElement:m.node}};b=g.getDocument(m).createElement("span");b.parentNode&&g.removeNode(b);var n,r=e?"StartToStart":"StartToEnd",p=h&&h.containerElement==m?h.nodeIndex:0,w=m.childNodes.length,A=w;for(h=A;;){h==w?m.appendChild(b):m.insertBefore(b,m.childNodes[h]);l.moveToElementText(b);n=l.compareEndPoints(r,a);if(0==n||p==A)break;else if(-1==n)if(A==p+1)break;else p=h;else A=A==p+1?p:h;h=Math.floor((p+A)/2);m.removeChild(b)}r=b.nextSibling;if(-1==n&&r&&q(r)){l.setEndPoint(e?
"EndToStart":"EndToEnd",a);if(/[\r\n]/.test(r.data))for(e=l.duplicate(),f=e.text.replace(/\r\n/g,"\r").length,f=e.moveStart("character",f);-1==e.compareEndPoints("StartToEnd",e);)f++,e.moveStart("character",1);else f=l.text.length;e=new k(r,f)}else a=(f||!e)&&b.previousSibling,e=(e=(f||e)&&b.nextSibling)&&q(e)?new k(e,0):a&&q(a)?new k(a,a.data.length):new k(m,g.getNodeIndex(b));g.removeNode(b);return{boundaryPosition:e,nodeInfo:{nodeIndex:h,containerElement:m}}},p=function(a,b){var e,f,h=a.offset,
k=g.getDocument(a.node),l=m(k).createTextRange(),n=q(a.node);n?(e=a.node,f=e.parentNode):(e=a.node.childNodes,e=h<e.length?e[h]:null,f=a.node);k=k.createElement("span");k.innerHTML="&#feff;";e?f.insertBefore(k,e):f.appendChild(k);l.moveToElementText(k);l.collapse(!b);f.removeChild(k);if(n)l[b?"moveStart":"moveEnd"]("character",h);return l};f=function(a){this.textRange=a;this.refresh()};f.prototype=new l(document);f.prototype.refresh=function(){var a,b,e;e=this.textRange;a=e.parentElement();var f=
e.duplicate();f.collapse(!0);b=f.parentElement();f=e.duplicate();f.collapse(!1);e=f.parentElement();b=b==e?b:g.getCommonAncestor(b,e);b=b==a?b:g.getCommonAncestor(a,b);a=this.textRange;0==a.compareEndPoints("StartToEnd",a)?b=a=r(this.textRange,b,!0,!0).boundaryPosition:(e=r(this.textRange,b,!0,!1),a=e.boundaryPosition,b=r(this.textRange,b,!1,!1,e.nodeInfo).boundaryPosition);this.setStart(a.node,a.offset);this.setEnd(b.node,b.offset)};f.prototype.getName=function(){return"WrappedTextRange"};l.copyComparisonConstants(f);
var w=function(a){if(a.collapsed)return p(new k(a.startContainer,a.startOffset),!0);var b=p(new k(a.startContainer,a.startOffset),!0),e=p(new k(a.endContainer,a.endOffset),!1);a=m(l.getRangeDocument(a)).createTextRange();a.setEndPoint("StartToStart",b);a.setEndPoint("EndToEnd",e);return a};f.rangeToTextRange=w;f.prototype.toTextRange=function(){return w(this)};a.WrappedTextRange=f;if(!a.features.implementsDomRange||a.config.preferTextRange){var A=Function("return this;")();"undefined"==typeof A.Range&&
(A.Range=f);a.createNativeRange=function(a){a=n(a,b,"createNativeRange");return m(a).createTextRange()};a.WrappedRange=f}}a.createRange=function(e){e=n(e,b,"createRange");return new a.WrappedRange(a.createNativeRange(e))};a.createRangyRange=function(a){a=n(a,b,"createRangyRange");return new l(a)};h.createAliasForDeprecatedMethod(a,"createIframeRange","createRange");h.createAliasForDeprecatedMethod(a,"createIframeRangyRange","createRangyRange");a.addShimListener(function(b){var e=b.document;"undefined"==
typeof e.createRange&&(e.createRange=function(){return a.createRange(e)});e=b=null})});G.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(a,b){function e(a){return"string"==typeof a?/^backward(s)?$/i.test(a):!!a}function f(a,e){if(a){if(D.isWindow(a))return a;if(a instanceof C)return a.win;var g=D.getContentDocument(a,b,e);return D.getWindow(g)}return window}function g(a){return f(a,"getWinSelection").getSelection()}function h(a){return f(a,"getDocSelection").document.selection}
function k(a){var b=!1;a.anchorNode&&(b=1==D.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset));return b}function l(a,b,e){var f=e?"end":"start";e=e?"start":"end";a.anchorNode=b[f+"Container"];a.anchorOffset=b[f+"Offset"];a.focusNode=b[e+"Container"];a.focusOffset=b[e+"Offset"]}function m(a){a.anchorNode=a.focusNode=null;a.anchorOffset=a.focusOffset=0;a.rangeCount=0;a.isCollapsed=!0;a._ranges.length=0}function n(b){var e;b instanceof B?(e=a.createNativeRange(b.getDocument()),e.setEnd(b.endContainer,
b.endOffset),e.setStart(b.startContainer,b.startOffset)):b instanceof da?e=b.nativeRange:za.implementsDomRange&&b instanceof D.getWindow(b.startContainer).Range&&(e=b);return e}function r(a){var e=a.getNodes(),f;a:if(e.length&&1==e[0].nodeType){f=1;for(var g=e.length;f<g;++f)if(!D.isAncestorOf(e[0],e[f])){f=!1;break a}f=!0}else f=!1;if(!f)throw b.createError("getSingleElementFromRange: range "+a.inspect()+" did not consist of a single element");return e[0]}function q(a){return!!a&&"undefined"!=typeof a.text}
function p(a,b){var e=new da(b);a._ranges=[e];l(a,e,!1);a.rangeCount=1;a.isCollapsed=e.collapsed}function w(b){b._ranges.length=0;if("None"==b.docSelection.type)m(b);else{var e=b.docSelection.createRange();if(q(e))p(b,e);else{b.rangeCount=e.length;for(var f,g=L(e.item(0)),h=0;h<b.rangeCount;++h)f=a.createRange(g),f.selectNode(e.item(h)),b._ranges.push(f);b.isCollapsed=1==b.rangeCount&&b._ranges[0].collapsed;l(b,b._ranges[b.rangeCount-1],!1)}}}function A(a,e){for(var f=a.docSelection.createRange(),
g=r(e),h=L(f.item(0)),h=P(h).createControlRange(),k=0,l=f.length;k<l;++k)h.add(f.item(k));try{h.add(g)}catch(m){throw b.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)");}h.select();w(a)}function C(a,b,e){this.nativeSelection=a;this.docSelection=b;this._ranges=[];this.win=e;this.refresh()}function E(a){a.win=a.anchorNode=a.focusNode=a._ranges=null;a.rangeCount=a.anchorOffset=a.focusOffset=0;a.detached=!0}function t(a,b){for(var e=
ua.length,f,g;e--;)if(f=ua[e],g=f.selection,"deleteAll"==b)E(g);else if(f.win==a)return"delete"==b?(ua.splice(e,1),!0):g;"deleteAll"==b&&(ua.length=0);return null}function u(a,e){for(var f=L(e[0].startContainer),f=P(f).createControlRange(),g=0,h,k=e.length;g<k;++g){h=r(e[g]);try{f.add(h)}catch(l){throw b.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)");}}f.select();w(a)}function z(a,b){if(a.win.document!=L(b))throw new O("WRONG_DOCUMENT_ERR");
}function H(b){return function(e,f){var g;this.rangeCount?(g=this.getRangeAt(0),g["set"+(b?"Start":"End")](e,f)):(g=a.createRange(this.win.document),g.setStartAndEnd(e,f));this.setSingleRange(g,this.isBackward())}}function x(a){var b=[],e=new K(a.anchorNode,a.anchorOffset),f=new K(a.focusNode,a.focusOffset),g="function"==typeof a.getName?a.getName():"Selection";if("undefined"!=typeof a.rangeCount)for(var h=0,k=a.rangeCount;h<k;++h)b[h]=B.inspect(a.getRangeAt(h));return"["+g+"(Ranges: "+b.join(", ")+
")(anchor: "+e.inspect()+", focus: "+f.inspect()+"]"}a.config.checkSelectionRanges=!0;var D=a.dom,y=a.util,G=y.isHostMethod,B=a.DomRange,da=a.WrappedRange,O=a.DOMException,K=D.DomPosition,J,M,za=a.features,L=D.getDocument,P=D.getBody,Na=B.rangesEqual,ka=G(window,"getSelection"),ga=y.isHostObject(document,"selection");za.implementsWinGetSelection=ka;var ea=(za.implementsDocSelection=ga)&&(!ka||a.config.preferTextRange);if(ea)J=h,a.isSelectionValid=function(a){a=f(a,"isSelectionValid").document;var b=
a.selection;return"None"!=b.type||L(b.createRange().parentElement())==a};else if(ka)J=g,a.isSelectionValid=function(){return!0};else return b.fail("Neither document.selection or window.getSelection() detected."),!1;a.getNativeSelection=J;ka=J();if(!ka)return b.fail("Native selection was null (possibly issue 138?)"),!1;var wa=a.createNativeRange(document),Q=P(document),va=y.areHostProperties(ka,["anchorNode","focusNode","anchorOffset","focusOffset"]);za.selectionHasAnchorAndFocus=va;var fa=G(ka,"extend");
za.selectionHasExtend=fa;var ba="number"==typeof ka.rangeCount;za.selectionHasRangeCount=ba;var ra=!1,bb=!0,Ta=fa?function(b,e){var f=B.getRangeDocument(e),f=a.createRange(f);f.collapseToPoint(e.endContainer,e.endOffset);b.addRange(n(f));b.extend(e.startContainer,e.startOffset)}:null;y.areHostMethods(ka,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof ka.rangeCount&&za.implementsDomRange&&function(){var b=window.getSelection();if(b){for(var e=b.rangeCount,f=1<e,g=[],h=k(b),l=0;l<e;++l)g[l]=
b.getRangeAt(l);var l=D.createTestElement(document,"",!1),m=l.appendChild(document.createTextNode("\u00a0\u00a0\u00a0")),n=document.createRange();n.setStart(m,1);n.collapse(!0);b.removeAllRanges();b.addRange(n);bb=1==b.rangeCount;b.removeAllRanges();f||((f=window.navigator.appVersion.match(/Chrome\/(.*?) /))&&36<=parseInt(f[1])?ra=!1:(f=n.cloneRange(),n.setStart(m,0),f.setEnd(m,3),f.setStart(m,2),b.addRange(n),b.addRange(f),ra=2==b.rangeCount));D.removeNode(l);b.removeAllRanges();for(l=0;l<e;++l)0==
l&&h?Ta?Ta(b,g[l]):(a.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),b.addRange(g[l])):b.addRange(g[l])}}();za.selectionSupportsMultipleRanges=ra;za.collapsedNonEditableSelectionsSupported=bb;var na=!1;Q&&G(Q,"createControlRange")&&(Q=Q.createControlRange(),y.areHostProperties(Q,["item","add"])&&(na=!0));za.implementsControlRange=na;M=va?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===
a.focusOffset}:function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:!1};var Ma;G(ka,"getRangeAt")?Ma=function(a,b){try{return a.getRangeAt(b)}catch(e){return null}}:va&&(Ma=function(b){var e=L(b.anchorNode),e=a.createRange(e);e.setStartAndEnd(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset);e.collapsed!==this.isCollapsed&&e.setStartAndEnd(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset);return e});C.prototype=a.selectionPrototype;var ua=[],Oa=function(a){if(a&&a instanceof
C)return a.refresh(),a;a=f(a,"getNativeSelection");var b=t(a),e=J(a),g=ga?h(a):null;b?(b.nativeSelection=e,b.docSelection=g,b.refresh()):(b=new C(e,g,a),ua.push({win:a,selection:b}));return b};a.getSelection=Oa;y.createAliasForDeprecatedMethod(a,"getIframeSelection","getSelection");Q=C.prototype;if(!ea&&va&&y.areHostMethods(ka,["removeAllRanges","addRange"]))Q.removeAllRanges=function(){this.nativeSelection.removeAllRanges();m(this)},Q.addRange=ba?function(b,f){if(na&&ga&&"Control"==this.docSelection.type)A(this,
b);else if(e(f)&&fa)Ta(this.nativeSelection,b),this.refresh();else{var g;ra?g=this.rangeCount:(this.removeAllRanges(),g=0);var h=n(b).cloneRange();try{this.nativeSelection.addRange(h)}catch(k){}this.rangeCount=this.nativeSelection.rangeCount;this.rangeCount==g+1?(a.config.checkSelectionRanges&&(g=Ma(this.nativeSelection,this.rangeCount-1))&&!Na(g,b)&&(b=new da(g)),this._ranges[this.rangeCount-1]=b,l(this,b,Ga(this.nativeSelection)),this.isCollapsed=M(this)):this.refresh()}}:function(a,b){e(b)&&fa?
Ta(this.nativeSelection,a):this.nativeSelection.addRange(n(a));this.refresh()},Q.setRanges=function(a){if(na&&ga&&1<a.length)u(this,a);else{this.removeAllRanges();for(var b=0,e=a.length;b<e;++b)this.addRange(a[b])}};else if(G(ka,"empty")&&G(wa,"select")&&na&&ea)Q.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var a;if(this.anchorNode)a=L(this.anchorNode);else if("Control"==this.docSelection.type){var b=this.docSelection.createRange();b.length&&(a=L(b.item(0)))}a&&
(P(a).createTextRange().select(),this.docSelection.empty())}}catch(e){}m(this)},Q.addRange=function(b){"Control"==this.docSelection.type?A(this,b):(a.WrappedTextRange.rangeToTextRange(b).select(),this._ranges[0]=b,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,l(this,b,!1))},Q.setRanges=function(a){this.removeAllRanges();var b=a.length;1<b?u(this,a):b&&this.addRange(a[0])};else return b.fail("No means of selecting a Range or TextRange was found"),!1;Q.getRangeAt=function(a){if(0>a||
a>=this.rangeCount)throw new O("INDEX_SIZE_ERR");return this._ranges[a].cloneRange()};var Za;if(ea)Za=function(b){var e;a.isSelectionValid(b.win)?e=b.docSelection.createRange():(e=P(b.win.document).createTextRange(),e.collapse(!0));"Control"==b.docSelection.type?w(b):q(e)?p(b,e):m(b)};else if(G(ka,"getRangeAt")&&"number"==typeof ka.rangeCount)Za=function(b){if(na&&ga&&"Control"==b.docSelection.type)w(b);else if(b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount,b.rangeCount){for(var e=0,f=
b.rangeCount;e<f;++e)b._ranges[e]=new a.WrappedRange(b.nativeSelection.getRangeAt(e));l(b,b._ranges[b.rangeCount-1],Ga(b.nativeSelection));b.isCollapsed=M(b)}else m(b)};else if(va&&"boolean"==typeof ka.isCollapsed&&"boolean"==typeof wa.collapsed&&za.implementsDomRange)Za=function(a){var b;b=a.nativeSelection;b.anchorNode?(b=Ma(b,0),a._ranges=[b],a.rangeCount=1,b=a.nativeSelection,a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset,a.isCollapsed=
M(a)):m(a)};else return b.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;Q.refresh=function(a){var b=a?this._ranges.slice(0):null,e=this.anchorNode,f=this.anchorOffset;Za(this);if(a){a=b.length;if(a!=this._ranges.length||this.anchorNode!=e||this.anchorOffset!=f)return!0;for(;a--;)if(!Na(b[a],this._ranges[a]))return!0;return!1}};var kb=function(a,b){var e=a.getAllRanges();a.removeAllRanges();for(var f=0,g=e.length;f<g;++f)Na(b,e[f])||a.addRange(e[f]);a.rangeCount||
m(a)};Q.removeRange=na&&ga?function(a){if("Control"==this.docSelection.type){var b=this.docSelection.createRange();a=r(a);for(var e=L(b.item(0)),e=P(e).createControlRange(),f,g=!1,h=0,k=b.length;h<k;++h)f=b.item(h),f!==a||g?e.add(b.item(h)):g=!0;e.select();w(this)}else kb(this,a)}:function(a){kb(this,a)};var Ga;!ea&&va&&za.implementsDomRange?(Ga=k,Q.isBackward=function(){return Ga(this)}):Ga=Q.isBackward=function(){return!1};Q.isBackwards=Q.isBackward;Q.toString=function(){for(var a=[],b=0,e=this.rangeCount;b<
e;++b)a[b]=""+this._ranges[b];return a.join("")};Q.collapse=function(b,e){z(this,b);var f=a.createRange(b);f.collapseToPoint(b,e);this.setSingleRange(f);this.isCollapsed=!0};Q.collapseToStart=function(){if(this.rangeCount){var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)}else throw new O("INVALID_STATE_ERR");};Q.collapseToEnd=function(){if(this.rangeCount){var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)}else throw new O("INVALID_STATE_ERR");};Q.selectAllChildren=
function(b){z(this,b);var e=a.createRange(b);e.selectNodeContents(b);this.setSingleRange(e)};Q.deleteFromDocument=function(){if(na&&ga&&"Control"==this.docSelection.type){for(var a=this.docSelection.createRange(),b;a.length;)b=a.item(0),a.remove(b),D.removeNode(b);this.refresh()}else if(this.rangeCount&&(a=this.getAllRanges(),a.length)){this.removeAllRanges();b=0;for(var e=a.length;b<e;++b)a[b].deleteContents();this.addRange(a[e-1])}};Q.eachRange=function(a,b){for(var e=0,f=this._ranges.length;e<
f;++e)if(a(this.getRangeAt(e)))return b};Q.getAllRanges=function(){var a=[];this.eachRange(function(b){a.push(b)});return a};Q.setSingleRange=function(a,b){this.removeAllRanges();this.addRange(a,b)};Q.callMethodOnEachRange=function(a,b){var e=[];this.eachRange(function(f){e.push(f[a].apply(f,b||[]))});return e};Q.setStart=H(!0);Q.setEnd=H(!1);a.rangePrototype.select=function(a){Oa(this.getDocument()).setSingleRange(this,a)};Q.changeEachRange=function(a){var b=[],e=this.isBackward();this.eachRange(function(e){a(e);
b.push(e)});this.removeAllRanges();e&&1==b.length?this.addRange(b[0],"backward"):this.setRanges(b)};Q.containsNode=function(a,b){return this.eachRange(function(e){return e.containsNode(a,b)},!0)||!1};Q.getBookmark=function(a){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[a])}};Q.moveToBookmark=function(b){for(var e=[],f=0,g,h;g=b.rangeBookmarks[f++];)h=a.createRange(this.win),h.moveToBookmark(g),e.push(h);b.backward?this.setSingleRange(e[0],"backward"):
this.setRanges(e)};Q.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}};Q.restoreRanges=function(a){this.removeAllRanges();for(var b=0,e;e=a.ranges[b];++b)this.addRange(e,a.backward&&0==b)};Q.toHtml=function(){var a=[];this.eachRange(function(b){a.push(B.toHtml(b))});return a.join("")};za.implementsTextRange&&(Q.getNativeTextRange=function(){var e;if(e=this.docSelection){e=e.createRange();if(q(e))return e;throw b.createError("getNativeTextRange: selection is a control selection");
}if(0<this.rangeCount)return a.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw b.createError("getNativeTextRange: selection contains no range");});Q.getName=function(){return"WrappedSelection"};Q.inspect=function(){return x(this)};Q.detach=function(){t(this.win,"delete");E(this)};C.detachAll=function(){t(null,"deleteAll")};C.inspect=x;C.isDirectionBackward=e;a.Selection=C;a.selectionPrototype=Q;a.addShimListener(function(a){"undefined"==typeof a.getSelection&&(a.getSelection=function(){return Oa(a)});
a=null})});var P=!1,w=function(a){P||(P=!0,!G.initialized&&G.config.autoInitialize&&n())};E&&("complete"==document.readyState?w():(a(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",w,!1),J(window,"load",w)));return G},this);
(function(a,h){"function"==typeof define&&define.amd?define(["./rangy-core"],a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a(require("rangy")):a(h.rangy)})(function(a){a.createModule("TextRange",["WrappedSelection"],function(a,e){function b(a,b){for(var e=a.slice(b.start,b.end),f={isWord:b.isWord,chars:e,toString:function(){return e.join("")}},g=0,h=e.length;g<h;++g)e[g].token=f;return f}function g(a,e,f){e=f(a,e);f=[];for(var g=0,h;h=e[g++];)f.push(b(a,h));return f}function f(a){a=
a||"";a="string"==typeof a?a.split(""):a;a.sort(function(a,b){return a.charCodeAt(0)-b.charCodeAt(0)});return a.join("").replace(/(.)\1+/g,"$1")}function l(a,b){var e=V(a,b);if(b.hasOwnProperty("wordOptions")){var f;f=e.wordOptions;var g,h;f?(g=f.language||"en",h={},T(h,qa[g]||qa.en),T(h,f),f=h):f=qa.en;e.wordOptions=f}b.hasOwnProperty("characterOptions")&&(e.characterOptions=V(e.characterOptions,ma));return e}function k(a,b){var e=Ja(a,"display",b),f=a.tagName.toLowerCase();return"block"==e&&eb&&
Ra.hasOwnProperty(f)?Ra[f]:e}function n(a){for(var b=a,e=[];b.parentNode;)e.unshift(b.parentNode),b=b.parentNode;a=e.concat([a]);b=0;for(e=a.length;b<e;++b)if(1==a[b].nodeType&&"none"==k(a[b]))return!0;return!1}function m(a,b){if(!b&&a.hasChildNodes())return a.firstChild;var e;for(e=a;e&&!e.nextSibling;)e=e.parentNode;e=e?e.nextSibling:null;return e}function p(a){var b=a.previousSibling;if(b){for(a=b;a.hasChildNodes();)a=a.lastChild;return a}return(a=a.parentNode)&&1==a.nodeType?a:null}function q(a){if(!a||
3!=a.nodeType)return!1;var b=a.data;if(""===b)return!0;var e=a.parentNode;if(!e||1!=e.nodeType)return!1;a=Ja(a.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(b)&&/^(normal|nowrap)$/.test(a)||/^[\t\r ]+$/.test(b)&&"pre-line"==a}function r(a){return""===a.data?!0:q(a)?!a.parentNode||n(a)?!0:!1:!1}function t(a){var b=a.nodeType;if(!(b=7==b||8==b||n(a)||/^(script|style)$/i.test(a.nodeName)))var e,b=3==a.nodeType&&(e=a.parentNode)&&"hidden"==Ja(e,"visibility");return b||r(a)}function u(a,b){var e=
a.nodeType;return 7==e||8==e||1==e&&"none"==k(a,b)}function y(){this.store={}}function x(a,b,e){return function(f){var g=this.cache;if(g.hasOwnProperty(a))return vb++,g[a];jb++;f=b.call(this,e?this[e]:this,f);return g[a]=f}}function z(a,b){this.node=a;this.session=b;this.cache=new y;this.positions=new y}function B(a,b){this.offset=b;this.nodeWrapper=a;this.node=a.node;this.session=a.session;this.cache=new y}function D(){w();return v=new nb}function w(){v&&v.detach();v=null}function A(a,b,f,g){function h(){var a=
null;b?(a=k,l||(k=k.previousVisible(),l=!k||f&&k.equals(f))):l||(a=k=k.nextVisible(),l=!k||f&&k.equals(f));l&&(k=null);return a}f&&(b?t(f.node)&&(f=a.previousVisible()):t(f.node)&&(f=f.nextVisible()));var k=a,l=!1,m,n=!1;return{next:function(){if(n)return n=!1,m;for(var a,b;a=h();)if(b=a.getCharacter(g))return m=a;return null},rewind:function(){if(m)n=!0;else throw e.createError("createCharacterIterator: cannot rewind. Only one position can be rewound.");},dispose:function(){a=f=null}}}function C(a,
b,e){function f(a){for(var b,e=[],g=a?h:k,l=!1,m=!1;a=g.next();){b=a.character;if(aa.test(b))m&&(m=!1,l=!0);else if(l){g.rewind();break}else m=!0;e.push(a)}return e}var h=A(a,!1,null,b),k=A(a,!0,null,b),l=e.tokenizer;a=f(!0);b=f(!1).reverse();var m=g(b.concat(a),e,l),n=a.length?m.slice(Ba(m,a[0].token)):[],r=b.length?m.slice(0,Ba(m,b.pop().token)+1):[];return{nextEndToken:function(){for(var a,b;1==n.length&&!(a=n[0]).isWord&&0<(b=f(!0)).length;)n=g(a.chars.concat(b),e,l);return n.shift()},previousStartToken:function(){for(var a,
b;1==r.length&&!(a=r[0]).isWord&&0<(b=f(!1)).length;)r=g(b.reverse().concat(a.chars),e,l);return r.pop()},dispose:function(){h.dispose();k.dispose();n=r=null}}}function E(a,b,e,f){var g=a.getRangeBoundaryPosition(b,!0);a=a.getRangeBoundaryPosition(b,!1);return A(f?a:g,!!f,f?g:a,e)}function H(b,e,f,g,k){function l(b,e){var f=n[b].previousVisible(),g=n[e-1],m;if(!(m=!k.wholeWordsOnly)){m=k.wordOptions;var r=a.createRange(f.node);r.setStartAndEnd(f.node,f.offset,g.node,g.offset);m=!r.expand("word",{wordOptions:m})}return{startPos:f,
endPos:g,valid:m}}var m=U(k.direction);b=A(b,m,b.session.getRangeBoundaryPosition(g,m),k.characterOptions);g="";for(var n=[],r,q,p,w,C,E=null;r=b.next();)if(q=r.character,f||k.caseSensitive||(q=q.toLowerCase()),m?(n.unshift(r),g=q+g):(n.push(r),g+=q),f){if(r=e.exec(g))if(p=r.index,w=p+r[0].length,C){if(!m&&w<g.length||m&&0<p){E=l(p,w);break}}else C=!0}else if(-1!=(p=g.indexOf(e))){E=l(p,p+e.length);break}C&&(E=l(p,w));b.dispose();return E}function G(a){return function(){var b=!!v,e=[v||D()].concat(P.toArray(arguments)),
e=a.apply(this,e);b||w();return e}}function O(a,b){return G(function(e,f,g,h){var k;"undefined"==typeof g&&(g=f,f="character");h=l(h,ia);var m=a;b&&(m=0<=g,this.collapse(!m));e=e.getRangeBoundaryPosition(this,m);var n=g;g=h.characterOptions;var r=h.wordOptions;h=0;var q=e,p=Math.abs(n);if(0!==n){n=0>n;switch(f){case "character":for(r=A(e,n,null,g);(k=r.next())&&h<p;)++h,q=k;r.dispose();break;case "word":for(var r=C(e,g,r),w=n?r.previousStartToken:r.nextEndToken;(r=w())&&h<p;)r.isWord&&(++h,q=n?r.chars[0]:
r.chars[r.chars.length-1]);break;default:throw Error("movePositionBy: unit '"+f+"' not implemented");}n?(q=q.previousVisible(),h=-h):q&&q.isLeadingSpace&&!q.isTrailingSpace&&("word"==f&&(r=A(e,!1,null,g),k=r.next(),r.dispose()),k&&(q=k.previousVisible()))}e=q;k=h;this[m?"setStart":"setEnd"](e.node,e.offset);return k})}function J(a){return G(function(b,e){e=V(e,ma);for(var f,g=E(b,this,e,!a),h=0;(f=g.next())&&aa.test(f.character);)++h;g.dispose();if(f=0<h)this[a?"moveStart":"moveEnd"]("character",
a?h:-h,{characterOptions:e});return f})}function M(a){return G(function(b,e){var f=!1;this.changeEachRange(function(b){f=b[a](e)||f});return f})}var L=a.dom,P=a.util,T=P.extend,V=P.createOptions,R=L.getBody,Y=/^[ \t\f\r\n]+$/,N=/^[ \t\f\r]+$/,aa=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/,ca=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/,U=a.Selection.isDirectionBackward,la=!1,Z=!1;(function(){var b=L.createTestElement(document,"<p>1 </p><p></p>",
!0),e=b.firstChild,f=a.getSelection();f.collapse(e.lastChild,2);f.setStart(e.firstChild,0);b.innerHTML="1 <br />";f.collapse(b,2);f.setStart(b.firstChild,0);la=1==(""+f).length;b.innerHTML="1 <p>1</p>";f.collapse(b,2);f.setStart(b.firstChild,0);Z=1==(""+f).length;L.removeNode(b);f.removeAllRanges()})();var ma={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:""},pa={includeBlockContentTrailingSpace:!1,includeSpaceBeforeBr:!la,
includeSpaceBeforeBlock:!Z,includePreLineTrailingSpace:!0},qa={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:function(a,b){function e(a,b,f){h.push({start:a,end:b,isWord:f})}for(var f=a.join(""),g,h=[],k=0,l;g=b.wordRegex.exec(f);){l=g.index;g=l+g[0].length;l>k&&e(k,l,!1);if(b.includeTrailingSpace)for(;ca.test(a[g]);)++g;e(l,g,!0);k=g}k<a.length&&e(k,a.length,!1);return h}}},Xa={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:"forward",wordOptions:null,
characterOptions:null},ia={wordOptions:null,characterOptions:null},Qa={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},Wa={wordOptions:null,characterOptions:null,direction:"forward"},Ja=L.getComputedStyleProperty,eb;(function(){var a=document.createElement("table"),b=R(document);b.appendChild(a);eb="block"==Ja(a,"display");b.removeChild(a)})();var Ra={table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",
tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell"};y.prototype={get:function(a){return this.store.hasOwnProperty(a)?this.store[a]:null},set:function(a,b){return this.store[a]=b}};var vb=0,jb=0,ja={getPosition:function(a){var b=this.positions;return b.get(a)||b.set(a,new B(this,a))},toString:function(){return"[NodeWrapper("+L.inspectNode(this.node)+")]"}};z.prototype=ja;T(ja,{isCharacterDataNode:x("isCharacterDataNode",L.isCharacterDataNode,"node"),getNodeIndex:x("nodeIndex",
L.getNodeIndex,"node"),getLength:x("nodeLength",L.getNodeLength,"node"),containsPositions:x("containsPositions",function(a){return L.isCharacterDataNode(a)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(a.nodeName)},"node"),isWhitespace:x("isWhitespace",q,"node"),isCollapsedWhitespace:x("isCollapsedWhitespace",r,"node"),getComputedDisplay:x("computedDisplay",k,"node"),isCollapsed:x("collapsed",t,"node"),isIgnored:x("ignored",u,"node"),next:x("nextPos",m,"node"),
previous:x("previous",p,"node"),getTextNodeInfo:x("textNodeInfo",function(a){var b=null,e=!1,f=Ja(a.parentNode,"whiteSpace"),g="pre-line"==f;if(g)b=N,e=!0;else if("normal"==f||"nowrap"==f)b=Y,e=!0;return{node:a,text:a.data,spaceRegex:b,collapseSpaces:e,preLine:g}},"node"),hasInnerText:x("hasInnerText",function(a,b){for(var e=this.session,f=e.getPosition(a.parentNode,this.getNodeIndex()+1),g=e.getPosition(a,0),e=b?f:g,f=b?g:f;e!==f;){e.prepopulateChar();if(e.isDefinitelyNonEmpty())return!0;e=b?e.previousVisible():
e.nextVisible()}return!1},"node"),isRenderedBlock:x("isRenderedBlock",function(a){a=a.getElementsByTagName("br");for(var b=0,e=a.length;b<e;++b)if(!t(a[b]))return!0;return this.hasInnerText()},"node"),getTrailingSpace:x("trailingSpace",function(a){if("br"!=a.tagName.toLowerCase())switch(this.getComputedDisplay()){case "inline":for(a=a.lastChild;a;){if(!u(a))return 1==a.nodeType?this.session.getNodeWrapper(a).getTrailingSpace():"";a=a.previousSibling}break;case "inline-block":case "inline-table":case "none":case "table-column":case "table-column-group":break;
case "table-cell":return"\t";default:return this.isRenderedBlock(!0)?"\n":""}return""},"node"),getLeadingSpace:x("leadingSpace",function(a){switch(this.getComputedDisplay()){case "inline":case "inline-block":case "inline-table":case "none":case "table-column":case "table-column-group":case "table-cell":break;default:return this.isRenderedBlock(!1)?"\n":""}return""},"node")});ja={character:"",characterType:"EMPTY",isBr:!1,prepopulateChar:function(){if(!this.prepopulatedChar){var a=this.node,b=this.offset,
e="",f="EMPTY",g=!1;if(0<b)if(3==a.nodeType){var a=a.data,h=a.charAt(b-1),k=this.nodeWrapper.getTextNodeInfo(),l=k.spaceRegex;k.collapseSpaces?l.test(h)?1<b&&l.test(a.charAt(b-2))||(k.preLine&&"\n"===a.charAt(b)?(e=" ",f="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"):(e=" ",f="COLLAPSIBLE_SPACE")):(e=h,f="NON_SPACE",g=!0):(e=h,f="UNCOLLAPSIBLE_SPACE",g=!0)}else(h=a.childNodes[b-1])&&1==h.nodeType&&!t(h)&&("br"==h.tagName.toLowerCase()?(e="\n",this.isBr=!0,f="COLLAPSIBLE_SPACE",g=!1):this.checkForTrailingSpace=
!0),e||(b=a.childNodes[b])&&1==b.nodeType&&!t(b)&&(this.checkForLeadingSpace=!0);this.prepopulatedChar=!0;this.character=e;this.characterType=f;this.isCharInvariant=g}},isDefinitelyNonEmpty:function(){var a=this.characterType;return"NON_SPACE"==a||"UNCOLLAPSIBLE_SPACE"==a},resolveLeadingAndTrailingSpaces:function(){this.prepopulatedChar||this.prepopulateChar();if(this.checkForTrailingSpace){var a=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();a&&(this.isTrailingSpace=
!0,this.character=a,this.characterType="COLLAPSIBLE_SPACE");this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){if(a=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace())this.isLeadingSpace=!0,this.character=a,this.characterType="COLLAPSIBLE_SPACE";this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(a){for(var b=this,e;b=b.previousVisible();)if(e=b.getCharacter(a),""!==e)return b;return null},getCharacter:function(a){function b(){n||(m=r.getPrecedingUncollapsedPosition(a),
n=!0);return m}this.resolveLeadingAndTrailingSpaces();var e=this.character,g=f(a.ignoreCharacters),h=""!==e&&-1<g.indexOf(e);if(this.isCharInvariant)return h?"":e;var h=["character",a.includeSpaceBeforeBr,a.includeBlockContentTrailingSpace,a.includePreLineTrailingSpace,g].join("_"),k=this.cache.get(h);if(null!==k)return k;var k="",l,m,n=!1,r=this;if("COLLAPSIBLE_SPACE"==this.characterType)if("INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"==this.type)k="\n";else if(" "!=e||b()&&!m.isTrailingSpace&&"\n"!=m.character&&
(" "!=m.character||"COLLAPSIBLE_SPACE"!=m.characterType))if("\n"==e&&this.isLeadingSpace)b()&&"\n"!=m.character&&(k="\n");else if(l=this.nextUncollapsed())if(l.isBr?this.type="TRAILING_SPACE_BEFORE_BR":l.isTrailingSpace&&"\n"==l.character?this.type="TRAILING_SPACE_IN_BLOCK":l.isLeadingSpace&&"\n"==l.character&&(this.type="TRAILING_SPACE_BEFORE_BLOCK"),"\n"==l.character){if("TRAILING_SPACE_BEFORE_BR"!=this.type||a.includeSpaceBeforeBr)if("TRAILING_SPACE_BEFORE_BLOCK"!=this.type||a.includeSpaceBeforeBlock)if("TRAILING_SPACE_IN_BLOCK"!=
this.type||!l.isTrailingSpace||a.includeBlockContentTrailingSpace)if("PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"!=this.type||"NON_SPACE"!=l.type||a.includePreLineTrailingSpace)"\n"==e?l.isTrailingSpace?!this.isTrailingSpace&&this.isBr&&(l.type="TRAILING_LINE_BREAK_AFTER_BR",b()&&m.isLeadingSpace&&!m.isTrailingSpace&&"\n"==m.character?l.character="":l.type="INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"):k="\n":" "==e&&(k=" ")}else k=e;-1<g.indexOf(k)&&(k="");this.cache.set(h,k);return k},equals:function(a){return!!a&&
this.node===a.node&&this.offset===a.offset},inspect:function(){return"[Position("+L.inspectNode(this.node)+":"+this.offset+")]"},toString:function(){return this.character}};B.prototype=ja;T(ja,{next:x("nextPos",function(a){var b=a.nodeWrapper,e=a.node,f=a.offset;a=b.session;if(!e)return null;f==b.getLength()?b=(e=e.parentNode)?b.getNodeIndex()+1:0:b.isCharacterDataNode()?b=f+1:(b=e.childNodes[f],a.getNodeWrapper(b).containsPositions()?(e=b,b=0):b=f+1);return e?a.getPosition(e,b):null}),previous:x("previous",
function(a){var b=a.nodeWrapper,e=a.node,f=a.offset;a=b.session;0==f?b=(e=e.parentNode)?b.getNodeIndex():0:b.isCharacterDataNode()?b=f-1:(b=e.childNodes[f-1],a.getNodeWrapper(b).containsPositions()?(e=b,b=L.getNodeLength(b)):b=f-1);return e?a.getPosition(e,b):null}),nextVisible:x("nextVisible",function(a){var b=a.next();if(!b)return null;a=b.nodeWrapper;var e=b.node;a.isCollapsed()&&(b=a.session.getPosition(e.parentNode,a.getNodeIndex()+1));return b}),nextUncollapsed:x("nextUncollapsed",function(a){for(;a=
a.nextVisible();)if(a.resolveLeadingAndTrailingSpaces(),""!==a.character)return a;return null}),previousVisible:x("previousVisible",function(a){var b=a.previous();if(!b)return null;a=b.nodeWrapper;var e=b.node;a.isCollapsed()&&(b=a.session.getPosition(e.parentNode,a.getNodeIndex()));return b})});var v=null,nb=function(){function a(b){var e=new y;return{get:function(a){var f=e.get(a[b]);if(f)for(var g=0,h;h=f[g++];)if(h.node===a)return h;return null},set:function(a){var f=a.node[b];(e.get(f)||e.set(f,
[])).push(a)}}}function b(){this.initCaches()}var e=P.isHostProperty(document.documentElement,"uniqueID");b.prototype={initCaches:function(){this.elementCache=e?function(){var a=new y;return{get:function(b){return a.get(b.uniqueID)},set:function(b){a.set(b.node.uniqueID,b)}}}():a("tagName");this.textNodeCache=a("data");this.otherNodeCache=a("nodeName")},getNodeWrapper:function(a){var b;switch(a.nodeType){case 1:b=this.elementCache;break;case 3:b=this.textNodeCache;break;default:b=this.otherNodeCache}var e=
b.get(a);e||(e=new z(a,this),b.set(e));return e},getPosition:function(a,b){return this.getNodeWrapper(a).getPosition(b)},getRangeBoundaryPosition:function(a,b){var e=b?"start":"end";return this.getPosition(a[e+"Container"],a[e+"Offset"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}};return b}();T(L,{nextNode:m,previousNode:p});var Ba=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var e=0,f=a.length;e<f;++e)if(a[e]===b)return e;return-1};
T(a.rangePrototype,{moveStart:O(!0,!1),moveEnd:O(!1,!1),move:O(!0,!0),trimStart:J(!0),trimEnd:J(!1),trim:G(function(a,b){var e=this.trimStart(b),f=this.trimEnd(b);return e||f}),expand:G(function(a,b,e){var f=!1;e=l(e,Qa);var g=e.characterOptions;b||(b="character");if("word"==b){var h=e.wordOptions;b=a.getRangeBoundaryPosition(this,!0);a=a.getRangeBoundaryPosition(this,!1);var k=C(b,g,h).nextEndToken(),m=k.chars[0].previousVisible(),h=this.collapsed?k:C(a,g,h).previousStartToken(),h=h.chars[h.chars.length-
1];m.equals(b)||(this.setStart(m.node,m.offset),f=!0);h&&!h.equals(a)&&(this.setEnd(h.node,h.offset),f=!0);e.trim&&(e.trimStart&&(f=this.trimStart(g)||f),e.trimEnd&&(f=this.trimEnd(g)||f));return f}return this.moveEnd("character",1,e)}),text:G(function(a,b){var e;if(this.collapsed)e="";else{var f=V(b,ma);e=[];for(var f=E(a,this,f),g;g=f.next();)e.push(g);f.dispose();e=e.join("")}return e}),selectCharacters:G(function(a,b,e,f,g){a={characterOptions:g};b||(b=R(this.getDocument()));this.selectNodeContents(b);
this.collapse(!0);this.moveStart("character",e,a);this.collapse(!0);this.moveEnd("character",f-e,a)}),toCharacterRange:G(function(a,b,e){b||(b=R(this.getDocument()));a=b.parentNode;b=L.getNodeIndex(b);var f=-1==L.comparePoints(this.startContainer,this.endContainer,a,b),g=this.cloneRange();f?(g.setStartAndEnd(this.startContainer,this.startOffset,a,b),a=-g.text(e).length):(g.setStartAndEnd(a,b,this.startContainer,this.startOffset),a=g.text(e).length);e=a+this.text(e).length;return{start:a,end:e}}),
findText:G(function(b,e,f){f=l(f,Xa);f.wholeWordsOnly&&(f.wordOptions.includeTrailingSpace=!1);var g=U(f.direction),k=f.withinRange;k||(k=a.createRange(),k.selectNodeContents(this.getDocument()));var m=!1;"string"==typeof e?f.caseSensitive||(e=e.toLowerCase()):m=!0;var n=b.getRangeBoundaryPosition(this,!g),r=k.comparePoint(n.node,n.offset);-1===r?n=b.getRangeBoundaryPosition(k,!0):1===r&&(n=b.getRangeBoundaryPosition(k,!1));for(var q=n,r=!1;;)if(q=H(q,e,m,k,f)){if(q.valid)return this.setStartAndEnd(q.startPos.node,
q.startPos.offset,q.endPos.node,q.endPos.offset),!0;q=g?q.startPos:q.endPos}else if(f.wrap&&!r)k=k.cloneRange(),q=b.getRangeBoundaryPosition(k,!g),k.setBoundary(n.node,n.offset,g),r=!0;else return!1}),pasteHtml:function(a){this.deleteContents();if(a){a=this.createContextualFragment(a);var b=a.lastChild;this.insertNode(a);this.collapseAfter(b)}}});T(a.selectionPrototype,{expand:G(function(a,b,e){this.changeEachRange(function(a){a.expand(b,e)})}),move:G(function(a,b,e,f){a=0;if(this.focusNode){this.collapse(this.focusNode,
this.focusOffset);var g=this.getRangeAt(0);f||(f={});f.characterOptions=V(f.characterOptions,pa);a=g.move(b,e,f);this.setSingleRange(g)}return a}),trimStart:M("trimStart"),trimEnd:M("trimEnd"),trim:M("trim"),selectCharacters:G(function(b,e,f,g,k,l){b=a.createRange(e);b.selectCharacters(e,f,g,l);this.setSingleRange(b,k)}),saveCharacterRanges:G(function(a,b,e){a=this.getAllRanges();for(var f=[],g=1==a.length&&this.isBackward(),h=0,k=a.length;h<k;++h)f[h]={characterRange:a[h].toCharacterRange(b,e),backward:g,
characterOptions:e};return f}),restoreCharacterRanges:G(function(b,e,f){this.removeAllRanges();b=0;for(var g=f.length,k,l,m;b<g;++b)l=f[b],m=l.characterRange,k=a.createRange(e),k.selectCharacters(e,m.start,m.end,l.characterOptions),this.addRange(k,l.backward)}),text:G(function(a,b){for(var e=[],f=0,g=this.rangeCount;f<g;++f)e[f]=this.getRangeAt(f).text(b);return e.join("")})});a.innerText=function(b,e){var f=a.createRange(b);f.selectNodeContents(b);return f.text(e)};a.createWordIterator=function(a,
b,e){var f=v||D();e=l(e,Wa);a=f.getPosition(a,b);var g=C(a,e.characterOptions,e.wordOptions),h=U(e.direction);return{next:function(){return h?g.previousStartToken():g.nextEndToken()},dispose:function(){g.dispose();this.next=function(){}}}};a.noMutation=function(a){var b=v||D();a(b);w()};a.noMutation.createEntryPointFunction=G;a.textRange={isBlockNode:function(a){return a&&(1==a.nodeType&&!/^(inline(-block|-table)?|none)$/.test(k(a))||9==a.nodeType||11==a.nodeType)},isCollapsedWhitespaceNode:r,createPosition:G(function(a,
b,e){return a.getPosition(b,e)})}});return a},this);
(function(a,h){"function"==typeof define&&define.amd?define(["./rangy-core"],a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a(require("rangy")):a(h.rangy)})(function(a){a.createModule("SaveRestore",["WrappedRange"],function(a,e){function b(a,b){var e="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),f,g=q.getDocument(a.startContainer),h=a.cloneRange();h.collapse(b);f=g.createElement("span");f.id=e;f.style.lineHeight="0";f.style.display="none";f.className="rangySelectionBoundary";
f.appendChild(g.createTextNode("\ufeff"));h.insertNode(f);return f}function g(a,b,f,g){(a=(a||document).getElementById(f))?(b[g?"setStartBefore":"setEndBefore"](a),r(a)):e.warn("Marker element has been removed. Cannot restore selection.")}function f(a,b){return b.compareBoundaryPoints(a.START_TO_START,a)}function l(e,f){var g,k,l=a.DomRange.getRangeDocument(e),m=e.toString(),n=t(f);if(e.collapsed)return k=b(e,!1),{document:l,markerId:k.id,collapsed:!0};k=b(e,!1);g=b(e,!0);return{document:l,startMarkerId:g.id,
endMarkerId:k.id,collapsed:!1,backward:n,toString:function(){return"original text: '"+m+"', new text: '"+e.toString()+"'"}}}function k(b,f){var k=b.document;"undefined"==typeof f&&(f=!0);var l=a.createRange(k);if(b.collapsed)if(k=(k||document).getElementById(b.markerId)){k.style.display="inline";var m=k.previousSibling;m&&3==m.nodeType?(r(k),l.collapseToPoint(m,m.length)):(l.collapseBefore(k),r(k))}else e.warn("Marker element has been removed. Cannot restore selection.");else g(k,l,b.startMarkerId,
!0),g(k,l,b.endMarkerId,!1);f&&l.normalizeBoundaries();return l}function n(b,e){var g=[],k,m;k=t(e);b=b.slice(0);b.sort(f);var n=0;for(m=b.length;n<m;++n)g[n]=l(b[n],k);for(n=m-1;0<=n;--n)k=b[n],m=a.DomRange.getRangeDocument(k),k.collapsed?k.collapseAfter((m||document).getElementById(g[n].markerId)):(k.setEndBefore((m||document).getElementById(g[n].endMarkerId)),k.setStartAfter((m||document).getElementById(g[n].startMarkerId)));return g}function m(a){for(var b=[],e=a.length-1;0<=e;e--)b[e]=k(a[e],
!0);return b}function p(a,b){var e=(a||document).getElementById(b);e&&r(e)}var q=a.dom,r=q.removeNode,t=a.Selection.isDirectionBackward;a.util.extend(a,{saveRange:l,restoreRange:k,saveRanges:n,restoreRanges:m,saveSelection:function(b){if(!a.isSelectionValid(b))return e.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var f=a.getSelection(b),g=f.getAllRanges(),k=1==g.length&&f.isBackward(),l=n(g,k);k?f.setSingleRange(g[0],
k):f.setRanges(g);return{win:b,rangeInfos:l,restored:!1}},restoreSelection:function(b,e){if(!b.restored){var f=b.rangeInfos,g=a.getSelection(b.win),k=m(f);1==f.length&&e&&a.features.selectionHasExtend&&f[0].backward?(g.removeAllRanges(),g.addRange(k[0],!0)):g.setRanges(k);b.restored=!0}},removeMarkerElement:p,removeMarkers:function(a){for(var b=a.rangeInfos,e=0,f=b.length,g;e<f;++e)g=b[e],g.collapsed?p(a.doc,g.markerId):(p(a.doc,g.startMarkerId),p(a.doc,g.endMarkerId))}})});return a},this);
var Base=function(){};
Base.extend=function(a,h){var e=Base.prototype.extend;Base._prototyping=!0;var b=new this;e.call(b,a);b.base=function(){};delete Base._prototyping;var g=b.constructor,f=b.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==f)this._constructing=!0,g.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||e).call(arguments[0],b)};f.ancestor=this;f.extend=this.extend;f.forEach=this.forEach;f.implement=this.implement;f.prototype=
b;f.toString=this.toString;f.valueOf=function(a){return"object"==a?f:g.valueOf()};e.call(f,h);"function"==typeof f.init&&f.init();return f};
Base.prototype={extend:function(a,h){if(1<arguments.length){var e=this[a];if(e&&"function"==typeof h&&(!e.valueOf||e.valueOf()!=h.valueOf())&&/\bbase\b/.test(h)){var b=h.valueOf();h=function(){var a=this.base||Base.prototype.base;this.base=e;var f=b.apply(this,arguments);this.base=a;return f};h.valueOf=function(a){return"object"==a?h:b};h.toString=Base.toString}this[a]=h}else if(a){var g=Base.prototype.extend;Base._prototyping||"function"==typeof this||(g=this.extend||g);for(var f={toSource:null},
l=["constructor","toString","valueOf"],k=Base._prototyping?0:1;n=l[k++];)a[n]!=f[n]&&g.call(this,n,a[n]);for(var n in a)f[n]||g.call(this,n,a[n])}return this}};
Base=Base.extend({constructor:function(a){this.extend(a)}},{ancestor:Object,version:"1.1",forEach:function(a,h,e){for(var b in a)void 0===this.prototype[b]&&h.call(e,a[b],b,a)},implement:function(){for(var a=0;a<arguments.length;a++)if("function"==typeof arguments[a])arguments[a](this.prototype);else this.prototype.extend(arguments[a]);return this},toString:function(){return String(this.valueOf())}});
wysihtml5.browser=function(){function a(a,b){var e=-1,f;"Microsoft Internet Explorer"==navigator.appName?f=/MSIE ([0-9]{1,}[.0-9]{0,})/:"Netscape"==navigator.appName&&(-1<navigator.userAgent.indexOf("Trident")?f=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/:/Edge\/(\d+)./i.test(navigator.userAgent)&&(f=/Edge\/(\d+)./i));f&&null!=f.exec(navigator.userAgent)&&(e=parseFloat(RegExp.$1));if(-1===e)return!1;if(!a)return!0;if(!b)return a===e;if("<"===b)return a<e;if(">"===b)return a>e;if("<="===b)return a<=e;if(">="===
b)return a>=e}var h=navigator.userAgent,e=document.createElement("div"),b=-1!==h.indexOf("Gecko")&&-1===h.indexOf("KHTML")&&!a(),g=-1!==h.indexOf("AppleWebKit/")&&!a(),f=-1!==h.indexOf("Chrome/")&&!a(),l=-1!==h.indexOf("Opera/")&&!a();return{USER_AGENT:h,supported:function(){var a=this.USER_AGENT.toLowerCase(),b="contentEditable"in e,f=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,g=document.querySelector&&document.querySelectorAll,h;if(h=this.isIos())h=5>+(/ipad|iphone|ipod/.test(a)&&
a.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1];a=h||this.isAndroid()&&4>+(a.match(/android (\d+)/)||[void 0,0])[1]||-1!==a.indexOf("opera mobi")||-1!==a.indexOf("hpwos/");return b&&f&&g&&!a},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function(){return a()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in
document)},displaysCaretInEmptyContentEditableCorrectly:function(){return a(12,">")},hasCurrentStyleProperty:function(){return"currentStyle"in e},insertsLineBreaksOnReturn:function(){return b},supportsPlaceholderAttributeOn:function(a){return"placeholder"in a},supportsEvent:function(a){var b;(b="on"+a in e)||(e.setAttribute("on"+a,"return;"),b="function"===typeof e["on"+a]);return b},supportsEventsInIframeCorrectly:function(){return!l},supportsHTML5Tags:function(a){a=a.createElement("div");a.innerHTML=
"<article>foo</article>";return"<article>foo</article>"===a.innerHTML.toLowerCase()},supportsCommand:function(){var e={formatBlock:a(10,"<="),insertUnorderedList:a(),insertOrderedList:a()},f={insertHTML:b};return function(a,b){if(!e[b]){try{return a.queryCommandSupported(b)}catch(g){}try{return a.queryCommandEnabled(b)}catch(h){return!!f[b]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return a()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},
clearsContentEditableCorrectly:function(){return b||l||g},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return b||a()||l},autoScrollsToCaret:function(){return!g},autoClosesUnclosedTags:function(){var a=e.cloneNode(!1),b;a.innerHTML="<p><div></div>";a=a.innerHTML.toLowerCase();b="<p></p><div></div>"===a||"<p><div></div></p>"===a;this.autoClosesUnclosedTags=function(){return b};return b},supportsNativeGetElementsByClassName:function(){return-1!==
String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return l},supportsSpeechApiOn:function(a){return 11<=(h.match(/Chrome\/(\d+)/)||[void 0,0])[1]&&("onwebkitspeechchange"in a||"speech"in a)},crashesWhenDefineProperty:function(b){return a(9)&&("XMLHttpRequest"===b||"XDomainRequest"===b)},doesAsyncFocus:function(){return a(12,">")},hasProblemsSettingCaretAfterImg:function(){return a()},
hasLiDeletingProblem:function(){return a()},hasUndoInContextMenu:function(){return b||f||l},hasInsertNodeIssue:function(){return l},hasIframeFocusIssue:function(){return a()},createsNestedInvalidMarkupAfterPaste:function(){return g},hasCaretBlockElementIssue:function(){return g},supportsMutationEvents:function(){return"MutationEvent"in window},supportsModernPaste:function(){return!a()},fixStyleKey:function(a){return"cssFloat"===a?"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat":
a},usesControlRanges:function(){return document.body&&"createControlRange"in document.body}}}();
wysihtml5.lang.array=function(a){return{contains:function(h){if(Array.isArray(h)){for(var e=h.length;e--;)if(-1!==wysihtml5.lang.array(a).indexOf(h[e]))return!0;return!1}return-1!==wysihtml5.lang.array(a).indexOf(h)},indexOf:function(h){if(a.indexOf)return a.indexOf(h);for(var e=0,b=a.length;e<b;e++)if(a[e]===h)return e;return-1},without:function(h){h=wysihtml5.lang.array(h);for(var e=[],b=0,g=a.length;b<g;b++)h.contains(a[b])||e.push(a[b]);return e},get:function(){for(var h=0,e=a.length,b=[];h<e;h++)b.push(a[h]);
return b},map:function(h,e){if(Array.prototype.map)return a.map(h,e);for(var b=a.length>>>0,g=Array(b),f=0;f<b;f++)g[f]=h.call(e,a[f],f,a);return g},unique:function(){for(var h=[],e=a.length,b=0;b<e;)wysihtml5.lang.array(h).contains(a[b])||h.push(a[b]),b++;return h}}};
wysihtml5.lang.Dispatcher=Base.extend({on:function(a,h){this.events=this.events||{};this.events[a]=this.events[a]||[];this.events[a].push(h);return this},off:function(a,h){this.events=this.events||{};var e=0,b,g;if(a){b=this.events[a]||[];for(g=[];e<b.length;e++)b[e]!==h&&h&&g.push(b[e]);this.events[a]=g}else this.events={};return this},fire:function(a,h){this.events=this.events||{};for(var e=this.events[a]||[],b=0;b<e.length;b++)e[b].call(this,h);return this},observe:function(){return this.on.apply(this,
arguments)},stopObserving:function(){return this.off.apply(this,arguments)}});
wysihtml5.lang.object=function(a){return{merge:function(h,e){for(var b in h)e&&wysihtml5.lang.object(h[b]).isPlainObject()&&("undefined"===typeof a[b]||wysihtml5.lang.object(a[b]).isPlainObject())?"undefined"===typeof a[b]?a[b]=wysihtml5.lang.object(h[b]).clone(!0):wysihtml5.lang.object(a[b]).merge(wysihtml5.lang.object(h[b]).clone(!0)):a[b]=wysihtml5.lang.object(h[b]).isPlainObject()?wysihtml5.lang.object(h[b]).clone(!0):h[b];return this},difference:function(h){var e={},b;for(b in a)a.hasOwnProperty(b)&&
(h.hasOwnProperty(b)||(e[b]=a[b]));for(var g in h)h.hasOwnProperty(g)&&(a.hasOwnProperty(g)&&a[g]===h[g]||(e[0]=a[0]));return e},get:function(){return a},clone:function(h){var e={},b;if(null===a||!wysihtml5.lang.object(a).isPlainObject())return a;for(b in a)a.hasOwnProperty(b)&&(e[b]=h?wysihtml5.lang.object(a[b]).clone(h):a[b]);return e},isArray:function(){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(){return"[object Function]"===Object.prototype.toString.call(a)},
isPlainObject:function(){return a&&"[object Object]"===Object.prototype.toString.call(a)&&!("Node"in window?a instanceof Node:a instanceof Element||a instanceof Text)},isEmpty:function(){for(var h in a)if(a.hasOwnProperty(h))return!1;return!0}}};
(function(){var a=/^\s+/,h=/\s+$/,e=/[&<>\t"]/g,b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","\t":"&nbsp; "};wysihtml5.lang.string=function(g){g=String(g);return{trim:function(){return g.replace(a,"").replace(h,"")},interpolate:function(a){for(var b in a)g=this.replace("#{"+b+"}").by(a[b]);return g},replace:function(a){return{by:function(b){return g.split(a).join(b)}}},escapeHTML:function(a,h){var k=g.replace(e,function(a){return b[a]});a&&(k=k.replace(/(?:\r\n|\r|\n)/g,"<br />"));h&&(k=k.replace(/  /gi,
"&nbsp; "));return k}}}})();
(function(a){function h(a){return a.replace(g,function(a,b){var e=(b.match(f)||[])[1]||"",g=l[e];b=b.replace(f,"");b.split(g).length>b.split(e).length&&(b+=e,e="");var h=g=b;100<b.length&&(h=h.substr(0,100)+"...");"www."===g.substr(0,4)&&(g="http://"+g);return'<a href="'+g+'">'+h+"</a>"+e})}function e(f,l){if(!(b.contains(f.nodeName)||f.className&&a.lang.array(f.className.split(" ")).contains(l)))if(f.nodeType===a.TEXT_NODE&&f.data.match(g)){var m=f.parentNode,p=a.lang.string(f.data).escapeHTML(),q;
q=m.ownerDocument;var r=q._wysihtml5_tempElement;r||(r=q._wysihtml5_tempElement=q.createElement("div"));q=r;q.innerHTML="<span></span>"+h(p);for(q.removeChild(q.firstChild);q.firstChild;)m.insertBefore(q.firstChild,f);m.removeChild(f)}else{m=a.lang.array(f.childNodes).get();p=m.length;for(q=0;q<p;q++)e(m[q],l);return f}}var b=a.lang.array("CODE PRE A SCRIPT HEAD TITLE STYLE".split(" ")),g=/((https?:\/\/|www\.)[^\s<]{3,})/gi,f=/([^\w\/\-](,?))$/i,l={")":"(","]":"[","}":"{"};a.dom.autoLink=function(f,
g){var h;a:{h=f;for(var l;h.parentNode;){h=h.parentNode;l=h.nodeName;if(h.className&&a.lang.array(h.className.split(" ")).contains(g)||b.contains(l)){h=!0;break a}if("body"===l)break}h=!1}if(h)return f;f===f.ownerDocument.documentElement&&(f=f.ownerDocument.body);return e(f,g)};a.dom.autoLink.URL_REG_EXP=g})(wysihtml5);
(function(a){var h=a.dom;h.addClass=function(a,b){var g=a.classList;if(g)return g.add(b);h.hasClass(a,b)||(a.className+=" "+b)};h.removeClass=function(a,b){var g=a.classList;if(g)return g.remove(b);a.className=a.className.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)")," ")};h.hasClass=function(a,b){var g=a.classList;if(g)return g.contains(b);g=a.className;return 0<g.length&&(g==b||(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(g))}})(wysihtml5);
wysihtml5.dom.contains=function(){var a=document.documentElement;if(a.contains)return function(a,e){if(e.nodeType!==wysihtml5.ELEMENT_NODE){if(e.parentNode===a)return!0;e=e.parentNode}return a!==e&&a.contains(e)};if(a.compareDocumentPosition)return function(a,e){return!!(a.compareDocumentPosition(e)&16)}}();
wysihtml5.dom.convertToList=function(){function a(a,e){var b=a.createElement("li");e.appendChild(b);return b}return function(h,e,b){if("UL"===h.nodeName||"OL"===h.nodeName||"MENU"===h.nodeName)return h;var g=h.ownerDocument;e=g.createElement(e);var f=h.querySelectorAll("br"),l=f.length,k,n,m,p,q;for(q=0;q<l;q++)for(n=f[q];(k=n.parentNode)&&k!==h&&k.lastChild===n;){if("block"===wysihtml5.dom.getStyle("display").from(k)){k.removeChild(n);break}wysihtml5.dom.insert(n).after(n.parentNode)}k=wysihtml5.lang.array(h.childNodes).get();
f=k.length;for(q=0;q<f;q++)p=p||a(g,e),l=k[q],n="block"===wysihtml5.dom.getStyle("display").from(l),m="BR"===l.nodeName,!n||b&&wysihtml5.dom.hasClass(l,b)?m?p=p.firstChild?null:p:p.appendChild(l):(p=p.firstChild?a(g,e):p,p.appendChild(l),p=null);0===k.length&&a(g,e);h.parentNode.replaceChild(e,h);return e}}();wysihtml5.dom.copyAttributes=function(a){return{from:function(h){return{to:function(e){for(var b,g=0,f=a.length;g<f;g++)b=a[g],"undefined"!==typeof h[b]&&""!==h[b]&&(e[b]=h[b]);return{andTo:arguments.callee}}}}}};
(function(a){var h=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],e=function(b){var e;a:{e=0;for(var f=h.length;e<f;e++)if("border-box"===a.getStyle(h[e]).from(b)){e=h[e];break a}e=void 0}return e?parseInt(a.getStyle("width").from(b),10)<b.offsetWidth:!1};a.copyStyles=function(b){return{from:function(g){e(g)&&(b=wysihtml5.lang.array(b).without(h));for(var f="",l=b.length,k=0,n;k<l;k++)n=b[k],f+=n+":"+a.getStyle(n).from(g)+";";return{to:function(b){a.setStyles(f).on(b);return{andTo:arguments.callee}}}}}}})(wysihtml5.dom);
(function(a){a.dom.delegate=function(a,e,b,g){var f=function(b){for(var f=b.target,f=3===f.nodeType?f.parentNode:f,n=a.querySelectorAll(e),m=0,p=n.length;m<p;m++)n[m].contains(f)&&g.call(n[m],b)};a.addEventListener(b,f,!1);return{stop:function(){a.removeEventListener(b,f,!1)}}}})(wysihtml5);
(function(a){function h(a,b){for(var g=[a],f=a;b&&f&&f!==b||!b&&f;)g.unshift(f),f=f.parentNode;return g}a.dom.domNode=function(e){var b=[a.ELEMENT_NODE,a.TEXT_NODE];return{is:{emptyTextNode:function(b){b=b?/^\s*$/g:/^[\r\n]*$/g;return e&&e.nodeType===a.TEXT_NODE&&b.test(e.data)},rangyBookmark:function(){return e&&1===e.nodeType&&e.classList.contains("rangySelectionBoundary")},visible:function(){var b=!/^\s*$/g.test(a.dom.getTextContent(e));b||1===e.nodeType&&e.querySelector("img, br, hr, object, embed, canvas, input, textarea")&&
(b=!0);return b},lineBreak:function(){return e&&1===e.nodeType&&"BR"===e.nodeName},block:function(){return e&&1===e.nodeType&&"block"===e.ownerDocument.defaultView.getComputedStyle(e).display},voidElement:function(){return a.dom.domNode(e).test({query:a.VOID_ELEMENTS})}},prev:function(g){var f=e.previousSibling,h=g&&g.nodeTypes?g.nodeTypes:b;return f?a.dom.domNode(f).is.rangyBookmark()||!a.lang.array(h).contains(f.nodeType)||g&&g.ignoreBlankTexts&&a.dom.domNode(f).is.emptyTextNode(!0)?a.dom.domNode(f).prev(g):
f:null},next:function(g){var f=e.nextSibling,h=g&&g.nodeTypes?g.nodeTypes:b;return f?a.dom.domNode(f).is.rangyBookmark()||!a.lang.array(h).contains(f.nodeType)||g&&g.ignoreBlankTexts&&a.dom.domNode(f).is.emptyTextNode(!0)?a.dom.domNode(f).next(g):f:null},commonAncestor:function(a,b){var l=h(e,b),k=h(a,b);if(l[0]!=k[0])return null;for(var n=0;n<l.length;n++)if(l[n]!=k[n])return l[n-1];return null},lastLeafNode:function(b){var f;if(1!==e.nodeType)return e;f=e.lastChild;if(!f)return e;if(b&&b.leafClasses)for(var h=
b.leafClasses.length;h--;)if(a.dom.hasClass(e,b.leafClasses[h]))return e;return a.dom.domNode(f).lastLeafNode(b)},escapeParent:function(b,f){var h,k,n,m=e;if(!a.dom.contains(b,e))throw Error("Child is not a descendant of node.");do{h=m.parentNode;for(k=h.cloneNode(!1);h.lastChild&&h.lastChild!==m;)k.insertBefore(h.lastChild,k.firstChild);h!==b&&(n=h.cloneNode(!1),n.appendChild(m),m=n);h.parentNode.insertBefore(m,h.nextSibling);if(""!==k.innerHTML)if(/^\s+$/.test(k.innerHTML))for(;k.lastChild;)h.parentNode.insertBefore(k.lastChild,
m.nextSibling);else h.parentNode.insertBefore(k,m.nextSibling);if(""===h.innerHTML)h.parentNode.removeChild(h);else if(/^\s+$/.test(h.innerHTML)){for(;h.firstChild;)h.parentNode.insertBefore(h.firstChild,h);h.parentNode.removeChild(h)}}while(h&&h!==b);f&&m&&(m.parentNode.insertBefore(f,m),f.appendChild(m))},transferContentTo:function(b,f){if(1===e.nodeType){if(a.dom.domNode(b).is.voidElement()||3===b.nodeType)for(;e.lastChild;)b.parentNode.insertBefore(e.lastChild,b.nextSibling);else for(;e.firstChild;)b.appendChild(e.firstChild);
f&&e.parentNode.removeChild(e)}else if(3===e.nodeType||8===e.nodeType)a.dom.domNode(b).is.voidElement()?b.parentNode.insertBefore(e,b.nextSibling):b.appendChild(e)},test:function(b){var f;if(!b||1!==e.nodeType||b.query&&!e.matches(b.query)||b.nodeName&&e.nodeName.toLowerCase()!==b.nodeName.toLowerCase()||b.className&&!e.classList.contains(b.className)||b.classRegExp&&0===((e.className||"").match(b.classRegExp)||[]).length)return!1;if(b.styleProperty&&0<b.styleProperty.length){f=Array.isArray(b.styleProperty)?
b.styleProperty:[b.styleProperty];for(var h=f.length;0<h;){f=a.browser.fixStyleKey(f[0]);if(e.style[f])if(b.styleValue)if(b.styleValue instanceof RegExp){if(0<e.style[f].trim().match(b.styleValue).length)break}else if(Array.isArray(b.styleValue)){if(b.styleValue.indexOf(e.style[f].trim()))break}else{if(b.styleValue===e.style[f].trim().replace(/, /g,","))break}else break;return!1}}if(b.attribute){f=a.dom.getAttributes(e);var h=[],k=!1;Array.isArray(b.attribute)?h=b.attribute:h[b.attribute]=b.attributeValue;
for(var n in h)if(h.hasOwnProperty(n))if("undefined"===typeof h[n]){if("undefined"!==typeof f[n]){k=!0;break}}else if(f[n]===h[n]){k=!0;break}if(!k)return!1}return!0}}}})(wysihtml5);
wysihtml5.dom.getAsDom=function(){var a="abbr article aside audio bdi canvas command datalist details figcaption figure footer header hgroup keygen mark meter nav output progress rp rt ruby svg section source summary time track video wbr".split(" ");return function(h,e){e=e||document;var b;if("object"===typeof h&&h.nodeType)b=e.createElement("div"),b.appendChild(h);else if(wysihtml5.browser.supportsHTML5Tags(e))b=e.createElement("div"),b.innerHTML=h;else{b=e;if(!b._wysihtml5_supportsHTML5Tags){for(var g=
0,f=a.length;g<f;g++)b.createElement(a[g]);b._wysihtml5_supportsHTML5Tags=!0}b=e;g=b.createElement("div");g.style.display="none";b.body.appendChild(g);try{g.innerHTML=h}catch(l){}b.body.removeChild(g);b=g}return b}}();wysihtml5.dom.getParentElement=function(){return function(a,h,e,b){for(e=e||50;e--&&a&&"BODY"!==a.nodeName&&(!b||a!==b);){if(wysihtml5.dom.domNode(a).test(h))return a;a=a.parentNode}return null}}();
wysihtml5.dom.getStyle=function(){function a(a){return a.replace(e,function(a){return a.charAt(1).toUpperCase()})}var h={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},e=/\-[a-z]/g;return function(b){return{from:function(e){if(e.nodeType===wysihtml5.ELEMENT_NODE){var f=e.ownerDocument,l=h[b]||a(b),k=e.style,n=e.currentStyle,m=k[l];if(m)return m;if(n)try{return n[l]}catch(p){}var l=f.defaultView||f.parentWindow,f=("height"===b||"width"===b)&&"TEXTAREA"===e.nodeName,
q;if(l.getComputedStyle)return f&&(q=k.overflow,k.overflow="hidden"),e=l.getComputedStyle(e,null).getPropertyValue(b),f&&(k.overflow=q||""),e}}}}}();wysihtml5.dom.getTextNodes=function(a,h){var e=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?h&&/^\s*$/.test(a.innerText||a.textContent)||e.push(a):e=e.concat(wysihtml5.dom.getTextNodes(a,h));return e};
wysihtml5.dom.hasElementWithTagName=function(){var a={},h=1;return function(e,b){var g=(e._wysihtml5_identifier||(e._wysihtml5_identifier=h++))+":"+b,f=a[g];f||(f=a[g]=e.getElementsByTagName(b));return 0<f.length}}();(function(a){var h={},e=1;a.dom.hasElementWithClassName=function(b,g){if(!a.browser.supportsNativeGetElementsByClassName())return!!b.querySelector("."+g);var f=(b._wysihtml5_identifier||(b._wysihtml5_identifier=e++))+":"+g,l=h[f];l||(l=h[f]=b.getElementsByClassName(g));return 0<l.length}})(wysihtml5);
wysihtml5.dom.insert=function(a){return{after:function(h){h.parentNode.insertBefore(a,h.nextSibling)},before:function(h){h.parentNode.insertBefore(a,h)},into:function(h){h.appendChild(a)}}};wysihtml5.dom.insertCSS=function(a){a=a.join("\n");return{into:function(h){var e=h.createElement("style");e.type="text/css";e.styleSheet?e.styleSheet.cssText=a:e.appendChild(h.createTextNode(a));var b=h.querySelector("head link");b?b.parentNode.insertBefore(e,b):(h=h.querySelector("head"))&&h.appendChild(e)}}};
(function(a){a.dom.lineBreaks=function(h){function e(b){return"BR"===b.nodeName||"block"===a.dom.getStyle("display").from(b)?!0:!1}return{add:function(b){b=h.ownerDocument;var g=a.dom.domNode(h).next({ignoreBlankTexts:!0}),f=a.dom.domNode(h).prev({ignoreBlankTexts:!0});g&&!e(g)&&a.dom.insert(b.createElement("br")).after(h);f&&!e(f)&&a.dom.insert(b.createElement("br")).before(h)},remove:function(b){b=a.dom.domNode(h).next({ignoreBlankTexts:!0});var e=a.dom.domNode(h).prev({ignoreBlankTexts:!0});b&&
"BR"===b.nodeName&&b.parentNode.removeChild(b);e&&"BR"===e.nodeName&&e.parentNode.removeChild(e)}}}})(wysihtml5);
wysihtml5.dom.observe=function(a,h,e){h="string"===typeof h?[h]:h;for(var b,g,f=0,l=h.length;f<l;f++)g=h[f],a.addEventListener?a.addEventListener(g,e,!1):(b=function(b){"target"in b||(b.target=b.srcElement);b.preventDefault=b.preventDefault||function(){this.returnValue=!1};b.stopPropagation=b.stopPropagation||function(){this.cancelBubble=!0};e.call(a,b)},a.attachEvent("on"+g,b));return{stop:function(){for(var f,g=0,l=h.length;g<l;g++)f=h[g],a.removeEventListener?a.removeEventListener(f,e,!1):a.detachEvent("on"+
f,b)}}};
wysihtml5.dom.parse=function(a,h){function e(a,b,f,g){var h=a.nodeType,m=a.childNodes,n=m.length,r=l[h],p=0,t;if(g&&1===h&&wysihtml5.dom.hasClass(a,g))return a;r=r&&r(a,f);if(!r){if(!1===r){h=a.ownerDocument.createDocumentFragment();for(p=n;p--;)m[p]&&(t=e(m[p],b,f,g))&&(m[p]===t&&p--,h.insertBefore(t,h.firstChild));b=wysihtml5.dom.getStyle("display").from(a);""===b&&(b=wysihtml5.lang.array(q).contains(a.tagName)?"block":"");wysihtml5.lang.array(["block","flex","table"]).contains(b)&&h.appendChild(a.ownerDocument.createElement("br"));wysihtml5.lang.array("div pre p table td th ul ol li dd dl footer header section h1 h2 h3 h4 h5 h6".split(" ")).contains(a.nodeName.toLowerCase())&&
a.parentNode.lastChild!==a&&(a.nextSibling&&3===a.nextSibling.nodeType&&/^\s/.test(a.nextSibling.nodeValue)||h.appendChild(a.ownerDocument.createTextNode(" ")));h.normalize&&h.normalize();return h}return null}for(p=0;p<n;p++)m[p]&&(t=e(m[p],b,f,g))&&(m[p]===t&&p--,r.appendChild(t));if(b&&r.nodeName.toLowerCase()===k&&(!r.childNodes.length||/^\s*$/gi.test(r.innerHTML)&&(f||"_wysihtml5-temp-placeholder"!==a.className&&"rangySelectionBoundary"!==a.className)||!r.attributes.length)){for(h=r.ownerDocument.createDocumentFragment();r.firstChild;)h.appendChild(r.firstChild);
h.normalize&&h.normalize();return h}r.normalize&&r.normalize();return r}function b(a,b){var e=a.getAttribute("class"),f=a.getAttribute("style"),g,h,k;if(b.methods)for(g in b.methods)if(b.methods.hasOwnProperty(g)&&y[g]&&y[g](a))return!0;if(e&&b.classes){e=e.replace(/^\s+/g,"").replace(/\s+$/g,"").split(n);g=e.length;for(var l=0;l<g;l++)if(b.classes[e[l]])return!0}if(f&&b.styles)for(h in f=f.split(";"),b.styles)if(b.styles.hasOwnProperty(h))for(g=f.length;g--;)if(e=f[g].split(":"),e[0].replace(/\s/g,
"").toLowerCase()===h&&(!0===b.styles[h]||1===b.styles[h]||wysihtml5.lang.array(b.styles[h]).contains(e[1].replace(/\s/g,"").toLowerCase())))return!0;if(b.attrs)for(k in b.attrs)if(b.attrs.hasOwnProperty(k)&&(f=wysihtml5.dom.getAttribute(a,k),"string"===typeof f&&-1<f.search(b.attrs[k])))return!0;return!1}function g(a,b,e,f){if(a=wysihtml5.lang.object(e).isFunction()?e:r[e])if(b=a(b,f),"string"===typeof b)return b;return!1}function f(a,b){var e=wysihtml5.lang.object(p.attributes||{}).clone(),e=wysihtml5.lang.object(e).merge(wysihtml5.lang.object(b||
{}).clone()).get(),f={},h=wysihtml5.dom.getAttributes(a),k,l,m;for(k in e)if(/\*$/.test(k)){l=k.slice(0,-1);m=h;var n=[],r=void 0;for(r in m)m.hasOwnProperty(r)&&0===r.indexOf(l)&&n.push(r);m=n;n=0;for(r=m.length;n<r;n++)l=g(m[n],h[m[n]],e[k],a.nodeName),!1!==l&&(f[m[n]]=l)}else l=g(k,h[k],e[k],a.nodeName),!1!==l&&(f[k]=l);return f}var l={1:function(a,e){var g,h;g=p.tags;h=a.nodeName.toLowerCase();var l=a.scopeName,m;if(a._wysihtml5)return null;a._wysihtml5=1;if("wysihtml5-temp"===a.className)return null;
l&&"HTML"!=l&&(h=l+":"+h);"outerHTML"in a&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==a.nodeName||"</p>"===a.outerHTML.slice(-4).toLowerCase()||(h="div"));if(h in g){g=g[h];if(!g||g.remove)return null;if(g.unwrap)return!1;g="string"===typeof g?{rename_tag:g}:g}else if(a.firstChild)g={rename_tag:k};else return null;if(l=g.one_of_type){var r;a:{var l=p,q=g.one_of_type,x;if("SPAN"!==a.nodeName||e||"_wysihtml5-temp-placeholder"!==a.className&&"rangySelectionBoundary"!==a.className){for(r in q)if(q.hasOwnProperty(r)&&
l.type_definitions&&l.type_definitions[r]&&(x=l.type_definitions[r],b(a,x))){r=!0;break a}r=!1}else r=!0}l=!r}if(l)if(g.remove_action){if("unwrap"===g.remove_action)return!1;if("rename"===g.remove_action)m=g.remove_action_rename_to||k;else return null}else return null;h=a.ownerDocument.createElement(m||g.rename_tag||h);var y=g;m={};var J=y.set_class,M=y.add_class,L=y.add_style,P=y.set_attributes;r=p.classes;l=0;q=[];x=[];var T=[],V=[],R;P&&(m=wysihtml5.lang.object(P).clone());m=wysihtml5.lang.object(m).merge(f(a,
y.check_attributes)).get();J&&q.push(J);if(M)for(R in M)if(y=u[M[R]])y=y(wysihtml5.dom.getAttribute(a,R)),"string"===typeof y&&q.push(y);if(L)for(R in L)if(y=t[L[R]])newStyle=y(wysihtml5.dom.getAttribute(a,R)),"string"===typeof newStyle&&x.push(newStyle);if("string"===typeof r&&"any"===r)if(a.getAttribute("class"))if(p.classes_blacklist){(V=a.getAttribute("class"))&&(q=q.concat(V.split(n)));for(M=q.length;l<M;l++)L=q[l],p.classes_blacklist[L]||T.push(L);T.length&&(m["class"]=wysihtml5.lang.array(T).unique().join(" "))}else m["class"]=
a.getAttribute("class");else q&&0<q.length&&(m["class"]=wysihtml5.lang.array(q).unique().join(" "));else{e||(r["_wysihtml5-temp-placeholder"]=1,r._rangySelectionBoundary=1,r["wysiwyg-tmp-selected-cell"]=1);(V=a.getAttribute("class"))&&(q=q.concat(V.split(n)));for(M=q.length;l<M;l++)L=q[l],r[L]&&T.push(L);T.length&&(m["class"]=wysihtml5.lang.array(T).unique().join(" "))}m["class"]&&e&&(m["class"]=m["class"].replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(m["class"])&&delete m["class"]);x.length&&
(m.style=wysihtml5.lang.array(x).unique().join(" "));for(R in m)try{h.setAttribute(R,m[R])}catch(Y){}m.src&&("undefined"!==typeof m.width&&h.setAttribute("width",m.width),"undefined"!==typeof m.height&&h.setAttribute("height",m.height));R=g;var N;if(R&&R.keep_styles)for(N in R.keep_styles)R.keep_styles.hasOwnProperty(N)&&(g="float"===N?a.style.styleFloat||a.style.cssFloat:a.style[N],R.keep_styles[N]instanceof RegExp&&!R.keep_styles[N].test(g)||("float"===N?h.style[a.style.styleFloat?"styleFloat":
"cssFloat"]=g:a.style[N]&&(h.style[N]=g)));h.normalize&&h.normalize();return h},3:function(a){var b=a.nextSibling;if(b&&b.nodeType===wysihtml5.TEXT_NODE)b.data=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")+b.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"");else return b=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,""),a.ownerDocument.createTextNode(b)},8:function(a){if(p.comments)return a.ownerDocument.createComment(a.nodeValue)}},k="span",n=/\s+/,m={tags:{},classes:{}},p={},q="ADDRESS BLOCKQUOTE CENTER DIR DIV DL FIELDSET FORM H1 H2 H3 H4 H5 H6 ISINDEX MENU NOFRAMES NOSCRIPT OL P PRE TABLE UL".split(" "),
r={url:function(){var a=/^https?:\/\//i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),src:function(){var a=/^(\/|https?:\/\/)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),href:function(){var a=/^(#|\/|https?:\/\/|mailto:|tel:)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),alt:function(){var a=/[^ a-z0-9_\-]/gi;return function(b,e){return b?
b.replace(a,""):"IMG"===e?"":null}}(),numbers:function(){var a=/\D/g;return function(b){return(b=(b||"").replace(a,""))||null}}(),dimension:function(){var a=/\D*(\d+)(\.\d+)?\s?(%)?\D*/;return function(b){return(b=(b||"").replace(a,"$1$2$3"))||null}}(),any:function(){return function(a){return a?a:null}}()},t={align_text:function(){var a={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"};return function(b){return a[String(b).toLowerCase()]}}()},u={align_img:function(){var a=
{left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(b){return a[String(b).toLowerCase()]}}(),align_text:function(){var a={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(b){return a[String(b).toLowerCase()]}}(),clear_br:function(){var a={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(b){return a[String(b).toLowerCase()]}}(),
size_font:function(){var a={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(b){return a[String(b).charAt(0)]}}()},y={has_visible_contet:function(){var a,b="img video picture br script noscript style table iframe object embed audio svg input button select textarea canvas".split(" ");
return function(e){if((a=(e.innerText||e.textContent).replace(/\s/g,""))&&0<a.length)return!0;for(var f=b.length;f--;)if(e.querySelector(b[f]))return!0;return e.offsetWidth&&0<e.offsetWidth&&e.offsetHeight&&0<e.offsetHeight?!0:!1}}()},x={unwrap:function(a){wysihtml5.dom.unwrap(a)},remove:function(a){a.parentNode.removeChild(a)}};return function(a,b){wysihtml5.lang.object(p).merge(m).merge(b.rules).get();var f=b.context||a.ownerDocument||document,g=f.createDocumentFragment(),h="string"===typeof a,
k=!1,l,n;!0===b.clearInternals&&(k=!0);f=h?wysihtml5.dom.getAsDom(a,f):a;if(p.selectors){var r=p.selectors,q;for(l in r)if(r.hasOwnProperty(l)){wysihtml5.lang.object(r[l]).isFunction()?n=r[l]:"string"===typeof r[l]&&x[r[l]]&&(n=x[r[l]]);q=f.querySelectorAll(l);for(var t=q.length;t--;)n(q[t])}}for(;f.firstChild;)n=f.firstChild,(l=e(n,b.cleanUp,k,b.uneditableClass))&&g.appendChild(l),n!==l&&f.removeChild(n);if(b.unjoinNbsps)for(k=wysihtml5.dom.getTextNodes(g),l=k.length;l--;)k[l].nodeValue=k[l].nodeValue.replace(/([\S\u00A0])\u00A0/gi,
"$1 ");f.innerHTML="";f.appendChild(g);return h?wysihtml5.quirks.getCorrectInnerHTML(f):f}(a,h)};wysihtml5.dom.removeEmptyTextNodes=function(a){for(var h=wysihtml5.lang.array(a.childNodes).get(),e=h.length,b=0;b<e;b++)a=h[b],a.nodeType===wysihtml5.TEXT_NODE&&/^[\n\r]*$/.test(a.data)&&a.parentNode.removeChild(a)};
wysihtml5.dom.renameElement=function(a,h){for(var e=a.ownerDocument.createElement(h),b;b=a.firstChild;)e.appendChild(b);wysihtml5.dom.copyAttributes(["align","className"]).from(a).to(e);a.parentNode&&a.parentNode.replaceChild(e,a);return e};wysihtml5.dom.replaceWithChildNodes=function(a){if(a.parentNode){for(;a.firstChild;)a.parentNode.insertBefore(a.firstChild,a);a.parentNode.removeChild(a)}};
(function(a){function h(b){return"block"===a.getStyle("display").from(b)}function e(a){var e=a.ownerDocument.createElement("br");a.appendChild(e)}a.resolveList=function(a,g){if(a.nodeName.match(/^(MENU|UL|OL)$/)){var f=a.ownerDocument,l=f.createDocumentFragment(),k=wysihtml5.dom.domNode(a).prev({ignoreBlankTexts:!0}),n=wysihtml5.dom.domNode(a).next({ignoreBlankTexts:!0}),m,p,q=a.lastElementChild||a.lastChild,r;if(g)for(k&&!h(k)&&"BR"!==k.nodeName&&e(l);p=a.firstElementChild||a.firstChild;){f=p.lastChild;
for(r=p===q;k=p.firstChild;)m=k===f,m=(!r||n&&!h(n))&&m&&!h(k)&&"BR"!==k.nodeName,l.appendChild(k),m&&e(l);p.parentNode.removeChild(p)}else for(;p=a.firstElementChild||a.firstChild;){if(p.querySelector&&p.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;k=p.firstChild;)l.appendChild(k);else{for(n=f.createElement("p");k=p.firstChild;)n.appendChild(k);l.appendChild(n)}p.parentNode.removeChild(p)}a.parentNode.replaceChild(l,a)}}})(wysihtml5.dom);
(function(a){var h=document,e="parent top opener frameElement frames localStorage globalStorage sessionStorage indexedDB".split(" "),b="open close openDialog showModalDialog alert confirm prompt openDatabase postMessage XMLHttpRequest XDomainRequest".split(" "),g=["referrer","write","open","close"];a.dom.Sandbox=Base.extend({constructor:function(b,e){this.callback=b||a.EMPTY_FUNCTION;this.config=a.lang.object({}).merge(e).get();this.config.className||(this.config.className="wysihtml5-sandbox");this.editableArea=
this._createIframe()},insertInto:function(a){"string"===typeof a&&(a=h.getElementById(a));a.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var a=this.getIframe();a.parentNode.removeChild(a)},_readyError:function(){throw Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet");},_createIframe:function(){var b=this,e=h.createElement("iframe");e.className=this.config.className;
a.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(e);a.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(e.src="javascript:'<html></html>'");e.onload=function(){e.onreadystatechange=e.onload=null;b._onLoadIframe(e)};e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&(e.onreadystatechange=e.onload=null,b._onLoadIframe(e))};return e},_onLoadIframe:function(f){if(a.dom.contains(h.documentElement,
f)){var l=this,k=f.contentWindow,n=f.contentWindow.document,m=this._getHtml({charset:h.characterSet||h.charset||"utf-8",stylesheets:this.config.stylesheets});n.open("text/html","replace");n.write(m);n.close();this.getWindow=function(){return f.contentWindow};this.getDocument=function(){return f.contentWindow.document};k.onerror=function(a,b,e){throw Error("wysihtml5.Sandbox: "+a,b,e);};if(!a.browser.supportsSandboxedIframes()){var p,m=0;for(p=e.length;m<p;m++)this._unset(k,e[m]);m=0;for(p=b.length;m<
p;m++)this._unset(k,b[m],a.EMPTY_FUNCTION);m=0;for(p=g.length;m<p;m++)this._unset(n,g[m]);this._unset(n,"cookie","",!0)}a.polyfills&&a.polyfills(k,n);this.loaded=!0;setTimeout(function(){l.callback(l)},0)}},_getHtml:function(b){var e=b.stylesheets,g="",h=0,m;if(e="string"===typeof e?[e]:e)for(m=e.length;h<m;h++)g+='<link rel="stylesheet" href="'+e[h]+'">';b.stylesheets=g;return a.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(b)},
_unset:function(b,e,g,h){try{b[e]=g}catch(m){}try{b.__defineGetter__(e,function(){return g})}catch(p){}if(h)try{b.__defineSetter__(e,function(){})}catch(q){}if(!a.browser.crashesWhenDefineProperty(e))try{var r={get:function(){return g}};h&&(r.set=function(){});Object.defineProperty(b,e,r)}catch(t){}}})})(wysihtml5);
(function(a){var h=document;a.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView||this.element.ownerDocument.parentWindow},getDocument:function(){return this.element.ownerDocument},constructor:function(e,b,g){this.callback=e||a.EMPTY_FUNCTION;this.config=a.lang.object({}).merge(b).get();this.config.className||(this.config.className="wysihtml5-sandbox");this.element=g?this._bindElement(g):this._createElement()},
destroy:function(){},_createElement:function(){var a=h.createElement("div");a.className=this.config.className;this._loadElement(a);return a},_bindElement:function(a){a.className=a.className?a.className+" wysihtml5-sandbox":"wysihtml5-sandbox";this._loadElement(a,!0);return a},_loadElement:function(a,b){var g=this;if(!b){var f=this._getHtml();a.innerHTML=f}this.loaded=!0;setTimeout(function(){g.callback(g)},0)},_getHtml:function(a){return""}})})(wysihtml5);
(function(){var a={className:"class"};wysihtml5.dom.setAttributes=function(h){return{on:function(e){for(var b in h)e.setAttribute(a[b]||b,h[b])}}}})();wysihtml5.dom.setStyles=function(a){return{on:function(h){h=h.style;if("string"===typeof a)h.cssText+=";"+a;else for(var e in a)"float"===e?(h.cssFloat=a[e],h.styleFloat=a[e]):h[e]=a[e]}}};
(function(a){a.simulatePlaceholder=function(h,e,b,g){var f=g||"wysihtml5-placeholder";g=function(){var b=0<e.element.offsetWidth&&0<e.element.offsetHeight;e.hasPlaceholderSet()&&(e.clear(),e.element.focus(),b&&setTimeout(function(){var a=e.selection.getSelection();a.focusNode&&a.anchorNode||e.selection.selectNode(e.element.firstChild||e.element)},0));e.placeholderSet=!1;a.removeClass(e.element,f)};var l=function(){e.isEmpty()&&!e.placeholderSet&&(e.placeholderSet=!0,e.setValue(b,!1),a.addClass(e.element,
f))};h.on("set_placeholder",l).on("unset_placeholder",g).on("focus:composer",g).on("paste:composer",g).on("blur:composer",l);l()}})(wysihtml5.dom);(function(a){var h=document.documentElement;"textContent"in h?(a.setTextContent=function(a,b){a.textContent=b},a.getTextContent=function(a){return a.textContent}):"innerText"in h?(a.setTextContent=function(a,b){a.innerText=b},a.getTextContent=function(a){return a.innerText}):(a.setTextContent=function(a,b){a.nodeValue=b},a.getTextContent=function(a){return a.nodeValue})})(wysihtml5.dom);
wysihtml5.dom.getAttribute=function(a,h){var e=!wysihtml5.browser.supportsGetAttributeCorrectly();h=h.toLowerCase();return"IMG"==a.nodeName&&"src"==h&&!0===wysihtml5.dom.isLoadedImage(a)?a.src:e&&"outerHTML"in a?-1!=a.outerHTML.toLowerCase().indexOf(" "+h+"=")?a.getAttribute(h):null:a.getAttribute(h)};
wysihtml5.dom.getAttributes=function(a){var h=!wysihtml5.browser.supportsGetAttributeCorrectly(),e=a.nodeName,b=[],g;for(g in a.attributes)(a.attributes.hasOwnProperty&&a.attributes.hasOwnProperty(g)||!a.attributes.hasOwnProperty&&Object.prototype.hasOwnProperty.call(a.attributes,g))&&a.attributes[g].specified&&("IMG"==e&&"src"==a.attributes[g].name.toLowerCase()&&!0===wysihtml5.dom.isLoadedImage(a)?b.src=a.src:wysihtml5.lang.array(["rowspan","colspan"]).contains(a.attributes[g].name.toLowerCase())&&
h?1!==a.attributes[g].value&&(b[a.attributes[g].name]=a.attributes[g].value):b[a.attributes[g].name]=a.attributes[g].value);return b};wysihtml5.dom.isLoadedImage=function(a){try{return a.complete&&!a.mozMatchesSelector(":-moz-broken")}catch(h){if(a.complete&&"complete"===a.readyState)return!0}};
(function(a){function h(a,b){for(var e=[],f,g=0,h=a.length;g<h;g++)if(f=a[g].querySelectorAll(b))for(var l=f.length;l--;e.unshift(f[l]));return e}function e(a){a.parentNode.removeChild(a)}function b(a,b){a.parentNode.insertBefore(b,a.nextSibling)}var g=a.dom,f=function(a){this.el=a;this.isRowspan=this.isColspan=!1;this.isReal=this.lastRow=this.firstRow=this.lastCol=this.firstCol=!0;this.spanCollection=[];this.modified=!1},l=function(a,b){a?(this.cell=a,this.table=g.getParentElement(a,{query:"table"})):
b&&(this.table=b,this.cell=this.table.querySelectorAll("th, td")[0])};l.prototype={addSpannedCellToMap:function(a,b,e,g,h,l){for(var t=[],u=e+(l?parseInt(l,10)-1:0),y=g+(h?parseInt(h,10)-1:0),x=e;x<=u;x++){"undefined"==typeof b[x]&&(b[x]=[]);for(var z=g;z<=y;z++)b[x][z]=new f(a),b[x][z].isColspan=h&&1<parseInt(h,10),b[x][z].isRowspan=l&&1<parseInt(l,10),b[x][z].firstCol=z==g,b[x][z].lastCol=z==y,b[x][z].firstRow=x==e,b[x][z].lastRow=x==u,b[x][z].isReal=z==g&&x==e,b[x][z].spanCollection=t,t.push(b[x][z])}},
setCellAsModified:function(a){a.modified=!0;if(0<a.spanCollection.length)for(var b=0,e=a.spanCollection.length;b<e;b++)a.spanCollection[b].modified=!0},setTableMap:function(){var a=[],b=this.getTableRows(),e,h,l,r,t,u,y;for(e=0;e<b.length;e++)for(h=b[e],h=this.getRowCells(h),t=0,"undefined"==typeof a[e]&&(a[e]=[]),l=0;l<h.length;l++){for(r=h[l];"undefined"!=typeof a[e][t];)t++;u=g.getAttribute(r,"colspan");y=g.getAttribute(r,"rowspan");u||y?(this.addSpannedCellToMap(r,a,e,t,u,y),t+=u?parseInt(u,10):
1):(a[e][t]=new f(r),t++)}return this.map=a},getRowCells:function(b){var e=this.table.querySelectorAll("table"),e=e?h(e,"th, td"):[];b=b.querySelectorAll("th, td");return 0<e.length?a.lang.array(b).without(e):b},getTableRows:function(){var b=this.table.querySelectorAll("table"),b=b?h(b,"tr"):[],e=this.table.querySelectorAll("tr");return 0<b.length?a.lang.array(e).without(b):e},getMapIndex:function(a){for(var b=this.map.length,e=this.map&&this.map[0]?this.map[0].length:0,f=0;f<b;f++)for(var g=0;g<
e;g++)if(this.map[f][g].el===a)return{row:f,col:g};return!1},getElementAtIndex:function(a){this.setTableMap();return this.map[a.row]&&this.map[a.row][a.col]&&this.map[a.row][a.col].el?this.map[a.row][a.col].el:null},getMapElsTo:function(a){var b=[];this.setTableMap();this.idx_start=this.getMapIndex(this.cell);this.idx_end=this.getMapIndex(a);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col)a=this.idx_start,this.idx_start=this.idx_end,
this.idx_end=a;this.idx_start.col>this.idx_end.col&&(a=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=a);if(null!=this.idx_start&&null!=this.idx_end){a=this.idx_start.row;for(var e=this.idx_end.row;a<=e;a++)for(var f=this.idx_start.col,g=this.idx_end.col;f<=g;f++)b.push(this.map[a][f].el)}return b},orderSelectionEnds:function(a){this.setTableMap();this.idx_start=this.getMapIndex(this.cell);this.idx_end=this.getMapIndex(a);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==
this.idx_end.row&&this.idx_start.col>this.idx_end.col)a=this.idx_start,this.idx_start=this.idx_end,this.idx_end=a;this.idx_start.col>this.idx_end.col&&(a=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=a);return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(a,b,e){for(var f=this.table.ownerDocument,g=f.createDocumentFragment(),h,l=0;l<b;l++){h=f.createElement(a);if(e)for(var u in e)e.hasOwnProperty(u)&&
h.setAttribute(u,e[u]);h.appendChild(document.createTextNode("\u00a0"));g.appendChild(h)}return g},correctColIndexForUnreals:function(a,b){for(var e=this.map[b],f=-1,g=0;g<a;g++)e[g].isReal&&f++;return f},getLastNewCellOnRow:function(a,b){for(var e=this.getRowCells(a),f,g,h=0,l=e.length;h<l;h++)if(f=e[h],g=this.getMapIndex(f),!1===g||"undefined"!=typeof b&&g.row!=b)return f;return null},removeEmptyTable:function(){var a=this.table.querySelectorAll("td, th");if(a&&0!=a.length)return!1;e(this.table);
return!0},splitRowToCells:function(a){if(a.isColspan){var e=parseInt(g.getAttribute(a.el,"colspan")||1,10),f=a.el.tagName.toLowerCase();1<e&&(e=this.createCells(f,e-1),b(a.el,e));a.el.removeAttribute("colspan")}},getRealRowEl:function(a,b){var e=null,f=null;b=b||this.idx;for(var h=0,l=this.map[b.row].length;h<l;h++)if(f=this.map[b.row][h],f.isReal&&(e=g.getParentElement(f.el,{query:"tr"})))return e;null===e&&a&&(e=g.getParentElement(this.map[b.row][b.col].el,{query:"tr"})||null);return e},injectRowAt:function(a,
e,f,h,l){var r=this.getRealRowEl(!1,{row:a,col:e});f=this.createCells(h,f);r?(l=this.correctColIndexForUnreals(e,a),0<=l?b(this.getRowCells(r)[l],f):r.insertBefore(f,r.firstChild)):(r=this.table.ownerDocument.createElement("tr"),r.appendChild(f),b(g.getParentElement(l.el,{query:"tr"}),r))},canMerge:function(a){this.to=a;this.setTableMap();this.idx_start=this.getMapIndex(this.cell);this.idx_end=this.getMapIndex(this.to);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&
this.idx_start.col>this.idx_end.col)a=this.idx_start,this.idx_start=this.idx_end,this.idx_end=a;this.idx_start.col>this.idx_end.col&&(a=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=a);a=this.idx_start.row;for(var b=this.idx_end.row;a<=b;a++)for(var e=this.idx_start.col,f=this.idx_end.col;e<=f;e++)if(this.map[a][e].isColspan||this.map[a][e].isRowspan)return!1;return!0},decreaseCellSpan:function(a,b){var e=parseInt(g.getAttribute(a.el,b),10)-1;1<=e?a.el.setAttribute(b,e):
(a.el.removeAttribute(b),"colspan"==b&&(a.isColspan=!1),"rowspan"==b&&(a.isRowspan=!1),a.firstCol=!0,a.lastCol=!0,a.firstRow=!0,a.lastRow=!0,a.isReal=!0)},removeSurplusLines:function(){var a,b,f,h,l,r,t;this.setTableMap();if(this.map){f=0;for(h=this.map.length;f<h;f++){a=this.map[f];t=!0;l=0;for(r=a.length;l<r;l++)if(b=a[l],!(g.getAttribute(b.el,"rowspan")&&1<parseInt(g.getAttribute(b.el,"rowspan"),10)&&!0!==b.firstRow)){t=!1;break}if(t)for(l=0;l<r;l++)this.decreaseCellSpan(a[l],"rowspan")}b=this.getTableRows();
f=0;for(h=b.length;f<h;f++)a=b[f],0==a.childNodes.length&&/^\s*$/.test(a.textContent||a.innerText)&&e(a)}},fillMissingCells:function(){var a=0,e=0,g=null;this.setTableMap();if(this.map){a=this.map.length;for(g=0;g<a;g++)this.map[g].length>e&&(e=this.map[g].length);for(var h=0;h<a;h++)for(var l=0;l<e;l++)this.map[h]&&!this.map[h][l]&&0<l&&(this.map[h][l]=new f(this.createCells("td",1)),(g=this.map[h][l-1])&&g.el&&g.el.parent&&b(this.map[h][l-1].el,this.map[h][l].el))}},rectify:function(){if(this.removeEmptyTable())return!1;
this.removeSurplusLines();this.fillMissingCells();return!0},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell))){var a=this.map[this.idx.row][this.idx.col],b=g.getAttribute(a.el,"colspan")?parseInt(g.getAttribute(a.el,"colspan"),10):1,e=a.el.tagName.toLowerCase();if(a.isRowspan){var f=parseInt(g.getAttribute(a.el,"rowspan"),10);if(1<f)for(var h=1,f=f-1;h<=f;h++)this.injectRowAt(this.idx.row+h,this.idx.col,b,e,a);a.el.removeAttribute("rowspan")}this.splitRowToCells(a)}},
merge:function(a){if(this.rectify())if(this.canMerge(a)){a=this.idx_end.row-this.idx_start.row+1;for(var b=this.idx_end.col-this.idx_start.col+1,f=this.idx_start.row,g=this.idx_end.row;f<=g;f++)for(var h=this.idx_start.col,l=this.idx_end.col;h<=l;h++)f==this.idx_start.row&&h==this.idx_start.col?(1<a&&this.map[f][h].el.setAttribute("rowspan",a),1<b&&this.map[f][h].el.setAttribute("colspan",b)):(/^\s*<br\/?>\s*$/.test(this.map[f][h].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=
" "+this.map[f][h].el.innerHTML),e(this.map[f][h].el));this.rectify()}else window.console&&console.log("Do not know how to merge allready merged cells.")},collapseCellToNextRow:function(a){var e=this.getMapIndex(a.el),f=e.row+1,h={row:f,col:e.col};f<this.map.length&&(e=this.getRealRowEl(!1,h),null!==e&&(h=this.correctColIndexForUnreals(h.col,h.row),0<=h?b(this.getRowCells(e)[h],a.el):(f=this.getLastNewCellOnRow(e,f),null!==f?b(f,a.el):e.insertBefore(a.el,e.firstChild)),2<parseInt(g.getAttribute(a.el,
"rowspan"),10)?a.el.setAttribute("rowspan",parseInt(g.getAttribute(a.el,"rowspan"),10)-1):a.el.removeAttribute("rowspan")))},removeRowCell:function(a){a.isReal?a.isRowspan?this.collapseCellToNextRow(a):e(a.el):2<parseInt(g.getAttribute(a.el,"rowspan"),10)?a.el.setAttribute("rowspan",parseInt(g.getAttribute(a.el,"rowspan"),10)-1):a.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var a=[];this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var b=this.map[this.idx.row],
e=0,f=b.length;e<f;e++)b[e].isReal&&a.push(b[e].el);return a},getColumnElementsByCell:function(){var a=[];this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var b=0,e=this.map.length;b<e;b++)this.map[b][this.idx.col]&&this.map[b][this.idx.col].isReal&&a.push(this.map[b][this.idx.col].el);return a},removeRow:function(){var a=g.getParentElement(this.cell,{query:"tr"});if(a){this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var b=this.map[this.idx.row],
f=0,h=b.length;f<h;f++)b[f].modified||(this.setCellAsModified(b[f]),this.removeRowCell(b[f]));e(a)}},removeColCell:function(a){a.isColspan?2<parseInt(g.getAttribute(a.el,"colspan"),10)?a.el.setAttribute("colspan",parseInt(g.getAttribute(a.el,"colspan"),10)-1):a.el.removeAttribute("colspan"):a.isReal&&e(a.el)},removeColumn:function(){this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var a=0,b=this.map.length;a<b;a++)this.map[a][this.idx.col].modified||(this.setCellAsModified(this.map[a][this.idx.col]),
this.removeColCell(this.map[a][this.idx.col]))},remove:function(a){if(this.rectify()){switch(a){case "row":this.removeRow();break;case "column":this.removeColumn()}this.rectify()}},addRow:function(a){var e=this.table.ownerDocument;this.setTableMap();this.idx=this.getMapIndex(this.cell);"below"==a&&g.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(g.getAttribute(this.cell,"rowspan"),10)-1);if(!1!==this.idx){for(var f=this.map[this.idx.row],e=e.createElement("tr"),h=0,l=f.length;h<
l;h++)f[h].modified||(this.setCellAsModified(f[h]),this.addRowCell(f[h],e,a));switch(a){case "below":b(this.getRealRowEl(!0),e);break;case "above":(a=g.getParentElement(this.map[this.idx.row][this.idx.col].el,{query:"tr"}))&&a.parentNode.insertBefore(e,a)}}},addRowCell:function(a,b,e){var f=a.isColspan?{colspan:g.getAttribute(a.el,"colspan")}:null;a.isReal?"above"!=e&&a.isRowspan?a.el.setAttribute("rowspan",parseInt(g.getAttribute(a.el,"rowspan"),10)+1):b.appendChild(this.createCells("td",1,f)):"above"!=
e&&a.isRowspan&&a.lastRow?b.appendChild(this.createCells("td",1,f)):c.isRowspan&&a.el.attr("rowspan",parseInt(g.getAttribute(a.el,"rowspan"),10)+1)},add:function(a){this.rectify()&&("below"!=a&&"above"!=a||this.addRow(a),"before"!=a&&"after"!=a||this.addColumn(a))},addColCell:function(a,e,f){var h,l=a.el.tagName.toLowerCase();switch(f){case "before":h=!a.isColspan||a.firstCol;break;case "after":h=!a.isColspan||a.lastCol||a.isColspan&&c.el==this.cell}if(h){switch(f){case "before":a.el.parentNode.insertBefore(this.createCells(l,
1),a.el);break;case "after":b(a.el,this.createCells(l,1))}a.isRowspan&&this.handleCellAddWithRowspan(a,e+1,f)}else a.el.setAttribute("colspan",parseInt(g.getAttribute(a.el,"colspan"),10)+1)},addColumn:function(a){var b;this.setTableMap();this.idx=this.getMapIndex(this.cell);"after"==a&&g.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(g.getAttribute(this.cell,"colspan"),10)-1);if(!1!==this.idx)for(var e=0,f=this.map.length;e<f;e++)b=this.map[e],b[this.idx.col]&&(b=b[this.idx.col],
b.modified||(this.setCellAsModified(b),this.addColCell(b,e,a)))},handleCellAddWithRowspan:function(a,e,f){var h=parseInt(g.getAttribute(this.cell,"rowspan"),10)-1,l=g.getParentElement(a.el,{query:"tr"});a=a.el.tagName.toLowerCase();for(var r,t,u=this.table.ownerDocument,y=0;y<h;y++){r=this.correctColIndexForUnreals(this.idx.col,e+y);a:{for(l=l.nextSibling;1!=l.nodeType;)if(l=l.nextSibling,"tr"==l.tagName.toLowerCase())break a;l=null}if(l)if(0<r)switch(f){case "before":t=this.getRowCells(l);0<r&&this.map[e+
y][this.idx.col].el!=t[r]&&r==t.length-1?b(t[r],this.createCells(a,1)):t[r].parentNode.insertBefore(this.createCells(a,1),t[r]);break;case "after":b(this.getRowCells(l)[r],this.createCells(a,1))}else l.insertBefore(this.createCells(a,1),l.firstChild);else r=u.createElement("tr"),r.appendChild(this.createCells(a,1)),this.table.appendChild(r)}}};g.table={getCellsBetween:function(a,b){return(new l(a)).getMapElsTo(b)},addCells:function(a,b){(new l(a)).add(b)},removeCells:function(a,b){(new l(a)).remove(b)},
mergeCellsBetween:function(a,b){(new l(a)).merge(b)},unmergeCell:function(a){(new l(a)).unmerge()},orderSelectionEnds:function(a,b){return(new l(a)).orderSelectionEnds(b)},indexOf:function(a){var b=new l(a);b.setTableMap();return b.getMapIndex(a)},findCell:function(a,b){return(new l(null,a)).getElementAtIndex(b)},findRowByCell:function(a){return(new l(a)).getRowElementsByCell()},findColumnByCell:function(a){return(new l(a)).getColumnElementsByCell()},canMerge:function(a,b){return(new l(a)).canMerge(b)}}})(wysihtml5);
wysihtml5.dom.query=function(a,h){var e=[],b;a.nodeType&&(a=[a]);for(var g=0,f=a.length;g<f;g++)if(b=a[g].querySelectorAll(h))for(var l=b.length;l--;e.unshift(b[l]));return e};
wysihtml5.dom.compareDocumentPosition=function(){return document.documentElement.compareDocumentPosition?function(a,h){return a.compareDocumentPosition(h)}:function(a,h){if(a===h)return 0;if(a===h.ownerDocument)return 20;if(a.ownerDocument===h)return 10;if((9===a.nodeType?a:a.ownerDocument)!==(9===h.nodeType?h:h.ownerDocument))return 1;if(2===a.nodeType&&a.childNodes&&-1!==wysihtml5.lang.array(a.childNodes).indexOf(h))return 20;if(2===h.nodeType&&h.childNodes&&-1!==wysihtml5.lang.array(h.childNodes).indexOf(a))return 10;
for(var e=a,b=[],g=null;e;){if(e==h)return 10;b.push(e);e=e.parentNode}e=h;for(g=null;e;){if(e==a)return 20;var f=wysihtml5.lang.array(b).indexOf(e);if(-1!==f)return e=b[f],b=wysihtml5.lang.array(e.childNodes).indexOf(b[f-1]),g=wysihtml5.lang.array(e.childNodes).indexOf(g),b>g?2:4;g=e;e=e.parentNode}return 1}}();wysihtml5.dom.unwrap=function(a){var h=[];if(a.parentNode){for(;a.lastChild;)h.unshift(a.lastChild),wysihtml5.dom.insert(a.lastChild).after(a);a.parentNode.removeChild(a)}return h};
wysihtml5.dom.getPastedHtml=function(a){var h;wysihtml5.browser.supportsModernPaste()&&a.clipboardData&&(wysihtml5.lang.array(a.clipboardData.types).contains("text/html")?h=a.clipboardData.getData("text/html"):wysihtml5.lang.array(a.clipboardData.types).contains("text/plain")&&(h=wysihtml5.lang.string(a.clipboardData.getData("text/plain")).escapeHTML(!0,!0)));return h};
wysihtml5.dom.getPastedHtmlWithDiv=function(a,h){var e=a.selection.getBookmark(),b=a.element.ownerDocument,g=b.createElement("DIV"),f=a.getScrollPos();b.body.appendChild(g);g.style.width="1px";g.style.height="1px";g.style.overflow="hidden";g.style.position="absolute";g.style.top=f.y+"px";g.style.left=f.x+"px";g.setAttribute("contenteditable","true");g.focus();setTimeout(function(){var b;a.selection.setBookmark(e);(b=g.innerHTML)&&/^<br\/?>$/i.test(b.trim())&&(b=!1);h(b);g.parentNode.removeChild(g)},
0)};wysihtml5.dom.removeInvisibleSpaces=function(a){a=wysihtml5.dom.getTextNodes(a);for(var h=a.length;h--;)a[h].nodeValue=a[h].nodeValue.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")};
wysihtml5.quirks.cleanPastedHTML=function(){return function(a,h){var e={color:wysihtml5.dom.getStyle("color").from(h.referenceNode),fontSize:wysihtml5.dom.getStyle("font-size").from(h.referenceNode)},b;a:{b=h.rules;var g;if(b){for(var f=0,l=b.length;f<l;f++)if(b[f].condition||(g=b[f].set),b[f].condition&&b[f].condition.test(a)){b=b[f].set;break a}b=g}else b=null}b=wysihtml5.lang.object(b||{}).clone(!0);var k,n;for(k in b.tags)if(b.tags.hasOwnProperty(k)&&b.tags[k].keep_styles)for(n in b.tags[k].keep_styles)b.tags[k].keep_styles.hasOwnProperty(n)&&
e[n]&&(g=b.tags[k].keep_styles,f=n,l=wysihtml5.lang.string(e[n]).trim().replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),g[f]=new RegExp("^((?!^"+l+"$).)*$","i"));return wysihtml5.dom.parse(a,{rules:b,cleanUp:!0,context:h.referenceNode.ownerDocument,uneditableClass:h.uneditableClass,clearInternals:!0,unjoinNbsps:!0})}}();
wysihtml5.quirks.ensureProperClearing=function(){var a=function(){var a=this;setTimeout(function(){var e=a.innerHTML.toLowerCase();if("<p>&nbsp;</p>"==e||"<p>&nbsp;</p><p>&nbsp;</p>"==e)a.innerHTML=""},0)};return function(h){wysihtml5.dom.observe(h.element,["cut","keydown"],a)}}();
(function(a){a.quirks.getCorrectInnerHTML=function(h){var e=h.innerHTML;if(-1===e.indexOf("%7E"))return e;h=h.querySelectorAll("[href*='~'], [src*='~']");var b,g,f,l;l=0;for(f=h.length;l<f;l++)b=h[l].href||h[l].src,g=a.lang.string(b).replace("~").by("%7E"),e=a.lang.string(e).replace(g).by(b);return e}})(wysihtml5);
(function(a){a.quirks.redraw=function(h){a.dom.addClass(h,"wysihtml5-quirks-redraw");a.dom.removeClass(h,"wysihtml5-quirks-redraw");try{var e=h.ownerDocument;e.execCommand("italic",!1,null);e.execCommand("italic",!1,null)}catch(b){}}})(wysihtml5);
wysihtml5.quirks.tableCellsSelection=function(a,h){function e(){if(a){var b=a.querySelectorAll("."+n);if(0<b.length)for(var e=0;e<b.length;e++)l.removeClass(b[e],n)}}function b(a){for(var b=0;b<a.length;b++)l.addClass(a[b],n)}function g(f){var g=null;(f=l.getParentElement(f.target,{query:"td, th"},!1,a))&&k.table&&k.start&&(g=l.getParentElement(f,{query:"table"},!1,a))&&g===k.table&&(e(),g=k.end,k.end=f,k.cells=l.table.getCellsBetween(k.start,f),1<k.cells.length&&h.composer.selection.deselect(),b(k.cells),
k.end!==g&&h.fire("tableselectchange").fire("tableselectchange:composer"))}function f(b){a.removeEventListener("mousemove",g);a.removeEventListener("mouseup",f);h.fire("tableselect").fire("tableselect:composer");setTimeout(function(){a.ownerDocument.addEventListener("click",m)},0)}var l=wysihtml5.dom,k={table:null,start:null,end:null,cells:null,select:function(e,f){k.start=e;k.end=f;k.table=l.getParentElement(k.start,{query:"table"},!1,a);selectedCells=l.table.getCellsBetween(k.start,k.end);b(selectedCells);
a.ownerDocument.addEventListener("click",m);h.fire("tableselect").fire("tableselect:composer")}},n="wysiwyg-tmp-selected-cell",m=function(b){a.ownerDocument.removeEventListener("click",m);l.getParentElement(b.target,{query:"table"},!1,a)!=k.table&&(e(),k.table=null,k.start=null,k.end=null,h.fire("tableunselect").fire("tableunselect:composer"))};a.addEventListener("mousedown",function(b){if(b=wysihtml5.dom.getParentElement(b.target,{query:"td, th"},!1,a))k.start=b,k.end=b,k.cells=[b],k.table=l.getParentElement(k.start,
{query:"table"},!1,a),k.table&&(e(),l.addClass(b,n),a.addEventListener("mousemove",g),a.addEventListener("mouseup",f),h.fire("tableselectstart").fire("tableselectstart:composer"))});return k};
(function(a){function h(a){var b,h;for(b in e)if(e.hasOwnProperty(b)&&(h=e[b],h.regex.test(a)))return h}var e={rgba:{regex:/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,name:"rgba"},rgb:{regex:/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,name:"rgb"},hex6:{regex:/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,name:"hex",radix:16},hex3:{regex:/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,name:"hex",radix:16}},b=function(a){return new RegExp("(^|\\s|;)"+
a+"\\s*:\\s*[^;$]+","gi")};a.quirks.styleParser={getColorParseMethod:h,getColorFormat:function(a){return(a=h(a))?a.name:void 0},parseColor:function(g,f){var l,k,n,m;l=g;if(f){l=b(f);if(!(l=g.match(l)))return!1;l=l.pop().split(":")[1];l=a.lang.string(l).trim()}if(!(k=h(l))||!(n=l.match(k.regex)))return!1;m=k.radix||10;if(k===e.hex3)return n.shift(),n.push(1),a.lang.array(n).map(function(a,b){return 3>b?parseInt(a,m)*m+parseInt(a,m):parseFloat(a)});n.shift();n[3]||n.push(1);return a.lang.array(n).map(function(a,
b){return 3>b?parseInt(a,m):parseFloat(a)})},unparseColor:function(a,b){return"hex"===b?(a[0].toString(16)+a[1].toString(16)+a[2].toString(16)).toUpperCase():"hash"===b?"#"+(a[0].toString(16)+a[1].toString(16)+a[2].toString(16)).toUpperCase():"rgb"===b?"rgb("+a[0]+","+a[1]+","+a[2]+")":"rgba"===b?"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")":"csv"===b?a[0]+","+a[1]+","+a[2]+","+a[3]:a[3]&&1!==a[3]?"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")":"rgb("+a[0]+","+a[1]+","+a[2]+")"},parseFontSize:function(e){return(e=
e.match(b("font-size")))?a.lang.string(e[e.length-1].split(":")[1]).trim():!1}}})(wysihtml5);
(function(a){function h(a,b){for(var e=0;b!==a;)if(e++,b=b.parentNode,!b)throw Error("not a descendant of ancestor!");return e}function e(a,b){return 3===a.nodeType?a:a.childNodes[b]||a}function b(b){var e=document.createElement("span"),g=function(a){b.removeEventListener("mouseup",g);b.removeEventListener("keydown",g);b.removeEventListener("touchstart",g);b.removeEventListener("focus",g);b.removeEventListener("blur",g);b.removeEventListener("paste",h);b.removeEventListener("drop",h);b.removeEventListener("beforepaste",
h);e&&e.parentNode&&e.parentNode.removeChild(e)},h=function(a){e&&e.parentNode&&setTimeout(g,0)};e.appendChild(b.ownerDocument.createTextNode(a.INVISIBLE_SPACE));e.className="_wysihtml5-temp-caret-fix";e.style.display="block";e.style.minWidth="1px";e.style.height="0px";b.addEventListener("mouseup",g);b.addEventListener("keydown",g);b.addEventListener("touchstart",g);b.addEventListener("focus",g);b.addEventListener("blur",g);b.addEventListener("paste",h);b.addEventListener("drop",h);b.addEventListener("beforepaste",
h);return e}var g=a.dom;a.Selection=Base.extend({constructor:function(a,b,e){rangy.init();this.editor=a;this.composer=a.composer;this.doc=this.composer.doc;this.win=this.composer.win;this.contain=b;this.unselectableClass=e||!1},getBookmark:function(){var a=this.getRange();return a&&a.cloneRange()},setBookmark:function(a){a&&this.setSelection(a)},setBefore:function(a){var b=rangy.createRange(this.doc);b.setStartBefore(a);b.setEndBefore(a);return this.setSelection(b)},createTemporaryCaretSpaceAfter:function(b){var e=
this.doc.createElement("span"),g=this.doc.createTextNode(a.INVISIBLE_SPACE),h=function(b){this.contain.removeEventListener("mouseup",h);this.contain.removeEventListener("keydown",p);this.contain.removeEventListener("touchstart",h);this.contain.removeEventListener("focus",h);this.contain.removeEventListener("blur",h);this.contain.removeEventListener("paste",m);this.contain.removeEventListener("drop",m);this.contain.removeEventListener("beforepaste",m);e&&e.parentNode&&(e.innerHTML=e.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,
""),/[^\s]+/.test(e.innerHTML)?(b=e.lastChild,a.dom.unwrap(e),this.setAfter(b)):e.parentNode.removeChild(e))}.bind(this),m=function(a){e&&e.parentNode&&setTimeout(h,0)},p=function(a){8===a.which||91===a.which||17===a.which||86===a.which&&(a.ctrlKey||a.metaKey)||h()};e.className="_wysihtml5-temp-caret-fix";e.style.position="absolute";e.style.display="block";e.style.minWidth="1px";e.style.zIndex="99999";e.appendChild(g);b.parentNode.insertBefore(e,b.nextSibling);this.setBefore(g);this.contain.addEventListener("mouseup",
h);this.contain.addEventListener("keydown",p);this.contain.addEventListener("touchstart",h);this.contain.addEventListener("focus",h);this.contain.addEventListener("blur",h);this.contain.addEventListener("paste",m);this.contain.addEventListener("drop",m);this.contain.addEventListener("beforepaste",m);return e},setAfter:function(b,e,g){var h=this.win,m=rangy.createRange(this.doc),p=function(){var g=b.parentNode,g=g?g.childNodes[g.childNodes.length-1]:null;if(!q||g===b&&1===b.nodeType&&"block"===h.getComputedStyle(b).display)if(e){var k=
this.doc.createTextNode(a.INVISIBLE_SPACE);b.parentNode.insertBefore(k,b.nextSibling);this.selectNode(k);setTimeout(function(){k&&k.parentNode&&k.parentNode.removeChild(k)},0)}else this.createTemporaryCaretSpaceAfter(b)}.bind(this),q;m.setStartAfter(b);m.setEndAfter(b);if(document.activeElement&&document.activeElement===this.composer.element)q=this.setSelection(m),p(),g&&g(q);else{var r=this.composer.getScrollPos();this.composer.element.focus();this.composer.setScrollPos(r);setTimeout(function(){q=
this.setSelection(m);p();g&&g(q)}.bind(this),0)}},selectNode:function(b,e){var h=rangy.createRange(this.doc),n=b.nodeType===a.ELEMENT_NODE,m="canHaveHTML"in b?b.canHaveHTML:"IMG"!==b.nodeName,p=n?b.innerHTML:b.data,p=""===p||p===a.INVISIBLE_SPACE,q=g.getStyle("display").from(b),q="block"===q||"list-item"===q;if(p&&n&&m&&!e)try{b.innerHTML=a.INVISIBLE_SPACE}catch(r){}m?h.selectNodeContents(b):h.selectNode(b);m&&p&&n?h.collapse(q):m&&p&&(h.setStartAfter(b),h.setEndAfter(b));this.setSelection(h)},getSelectedNode:function(a){if(a&&
this.doc.selection&&"Control"===this.doc.selection.type&&(a=this.doc.selection.createRange())&&a.length)return a.item(0);a=this.getSelection(this.doc);return a.focusNode===a.anchorNode?a.focusNode:(a=this.getRange(this.doc))?a.commonAncestorContainer:this.doc.body},fixSelBorders:function(){var a=this.getRange();if(!a.canSurroundContents())for(var b=a.commonAncestorContainer,e=h(b,a.startContainer),g=h(b,a.endContainer);!a.canSurroundContents();)e>g?(a.setStartBefore(a.startContainer),e=h(b,a.startContainer)):
(a.setEndAfter(a.endContainer),g=h(b,a.endContainer));this.setSelection(a)},getSelectedOwnNodes:function(a){a=this.getOwnRanges();for(var b=[],e=0,g=a.length;e<g;e++)b.push(a[e].commonAncestorContainer||this.doc.body);return b},findNodesInSelection:function(b){for(var e=this.getOwnRanges(),g=[],h,m=0,p=e.length;m<p;m++)h=e[m].getNodes([1],function(e){return a.lang.array(b).contains(e.nodeName)}),g=g.concat(h);return g},filterElements:function(a){for(var b=this.getOwnRanges(),e=[],g,h=0,p=b.length;h<
p;h++)g=b[h].getNodes([1],function(e){return a(e,b[h])}),e=e.concat(g);return e},containsUneditable:function(){for(var a=this.getOwnUneditables(),b=this.getSelection(),e=0,g=a.length;e<g;e++)if(b.containsNode(a[e]))return!0;return!1},deleteContents:function(){var a=this.getRange();this.deleteRangeContents(a);this.setSelection(a)},deleteRangeContents:function(b){var e,g,h;if(this.unselectableClass)for((e=a.dom.getParentElement(b.startContainer,{query:"."+this.unselectableClass},!1,this.contain))&&
b.setStartBefore(e),(g=a.dom.getParentElement(b.endContainer,{query:"."+this.unselectableClass},!1,this.contain))&&b.setEndAfter(g),e=b.getNodes([1],function(b){return a.dom.hasClass(b,this.unselectableClass)}.bind(this)),g=e.length;g--;)try{h=new CustomEvent("wysihtml5:uneditable:delete"),e[g].dispatchEvent(h)}catch(m){}b.deleteContents()},getCaretNode:function(){var a=this.getSelection();return a&&a.anchorNode?e(a.anchorNode,a.anchorOffset):null},getPreviousNode:function(b,g){var h;if(!b){var n=
this.getSelection();b=n&&n.anchorNode?e(n.anchorNode,n.anchorOffset):null}if(b===this.contain)return!1;n=b.previousSibling;if(n===this.contain)return!1;n&&3!==n.nodeType&&1!==n.nodeType?n=this.getPreviousNode(n,g):n&&3===n.nodeType&&/^\s*$/.test(n.textContent)?n=this.getPreviousNode(n,g):g&&n&&1===n.nodeType?(h=a.dom.getStyle("display").from(n),a.lang.array(["BR","HR","IMG"]).contains(n.nodeName)||a.lang.array(["block","inline-block","flex","list-item","table"]).contains(h)||!/^[\s]*$/.test(n.innerHTML)||
(n=this.getPreviousNode(n,g))):n||b===this.contain||(h=b.parentNode,h!==this.contain&&(n=this.getPreviousNode(h,g)));return n!==this.contain?n:!1},getNodesNearCaret:function(){if(!this.isCollapsed())throw"Selection must be caret when using selection.getNodesNearCaret()";var a=this.getOwnRanges(),b,e,g,h;return a&&0<a.length?(1===a[0].startContainer.nodeType?(b=a[0].startContainer.childNodes[a[0].startOffset-1],b||0!==a[0].startOffset)?b&&(e=b.previousSibling,g=b.nextSibling):g=a[0].startContainer.childNodes[0]:
(0===a[0].startOffset&&a[0].startContainer.previousSibling?(b=a[0].startContainer.previousSibling,3===b.nodeType&&(h=b.data.length)):(b=a[0].startContainer,h=a[0].startOffset),e=b.previousSibling,g=b.nextSibling),{caretNode:b,prevNode:e,nextNode:g,textOffset:h}):null},getSelectionParentsByTag:function(b){b=this.getSelectedOwnNodes();for(var e,g=[],h=0,m=b.length;h<m;h++)(e=b[h].nodeName&&"LI"===b[h].nodeName?b[h]:a.dom.getParentElement(b[h],{query:"li"},!1,this.contain))&&g.push(e);return g.length?
g:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var a=this.getRange(),b=a.startContainer,a=a.startOffset,e=rangy.createRange(this.doc);e.selectNodeContents(b);e.setStart(b,a);return e}},caretIsLastInSelection:function(){rangy.createRange(this.doc);this.getSelection();var a=this.getRangeToNodeEnd().cloneContents().textContent;return/^\s*$/.test(a)},caretIsFirstInSelection:function(b){var g=rangy.createRange(this.doc),h=this.getSelection(),n=this.getRange(),m=e(n.startContainer,n.startOffset);
if(m){if(m.nodeType===a.TEXT_NODE){if(!m.parentNode||!this.isCollapsed()||m.parentNode.firstChild!==m&&!a.dom.domNode(m.previousSibling).is.block())return!1;b=this.win.getComputedStyle(m.parentNode).whiteSpace;return"pre"===b||"pre-wrap"===b?0===n.startOffset:/^\s*$/.test(m.data.substr(0,n.startOffset))}if(b&&a.dom.domNode(m).is.lineBreak())return!0;g.selectNodeContents(this.getRange().commonAncestorContainer);g.collapse(!0);return this.isCollapsed()&&(g.startContainer===h.anchorNode||g.endContainer===
h.anchorNode)&&g.startOffset===h.anchorOffset}},caretIsInTheBeginnig:function(b){var e=this.getSelection(),g=e.anchorNode,e=e.anchorOffset;if(b&&g)return 0===e&&(g.nodeName&&g.nodeName===b.toUpperCase()||a.dom.getParentElement(g.parentNode,{query:b},1));if(g)return 0===e&&!this.getPreviousNode(g,!0)},getBeforeSelection:function(b){var e=this.getSelection(),g=e.isBackwards()?e.focusNode:e.anchorNode,e=e.isBackwards()?e.focusOffset:e.anchorOffset,h=this.createRange(),m;g&&3===g.nodeType&&/^\s*$/.test(g.data.slice(0,
e))&&(e=0);if(m=a.dom.getParentElement(g,{query:"._wysihtml5-temp-caret-fix"},1))g=m.parentNode,e=Array.prototype.indexOf.call(g.childNodes,m);if(g){if(0<e){if(3===g.nodeType)return h.setStart(g,0),h.setEnd(g,e),{type:"text",range:h,offset:e,node:g};h.setStartBefore(g.childNodes[0]);g=g.childNodes[e-1];h.setEndAfter(g);return{type:"element",range:h,offset:e,node:g}}h.setStartAndEnd(g,0);return b&&(b=this.getPreviousNode(g,!0),m=null,b&&(m=1===b.nodeType&&a.dom.hasClass(b,this.unselectableClass)?b:
a.dom.domNode(b).lastLeafNode()),m)?{type:"leafnode",range:h,offset:e,node:m}:{type:"none",range:h,offset:e,node:g}}return null},executeAndRestoreRangy:function(a,b){var e=rangy.saveSelection(this.win);if(e)try{a()}catch(g){setTimeout(function(){throw g;},0)}else a();rangy.restoreSelection(e)},executeAndRestore:function(b,e){var h=this.doc.body,n=e&&h.scrollTop,m=e&&h.scrollLeft,p='<span class="_wysihtml5-temp-placeholder">'+a.INVISIBLE_SPACE+"</span>",q=this.getRange(!0),r,t,u;if(q){q.collapsed||
(u=q.cloneRange(),r=u.createContextualFragment(p),u.collapse(!1),u.insertNode(r),u.detach());p=q.createContextualFragment(p);q.insertNode(p);r&&(r=this.contain.querySelectorAll("._wysihtml5-temp-placeholder"),q.setStartBefore(r[0]),q.setEndAfter(r[r.length-1]));this.setSelection(q);try{b(q.startContainer,q.endContainer)}catch(y){setTimeout(function(){throw y;},0)}if((r=this.contain.querySelectorAll("._wysihtml5-temp-placeholder"))&&r.length)for(q=rangy.createRange(this.doc),p=r[0].nextSibling,1<r.length&&
(t=r[r.length-1].previousSibling),t&&p?q.setStartBefore(p):(t=this.doc.createTextNode(a.INVISIBLE_SPACE),g.insert(t).after(r[0]),q.setStartBefore(t)),q.setEndAfter(t),this.setSelection(q),t=r.length;t--;)r[t].parentNode.removeChild(r[t]);else this.contain.focus();e&&(h.scrollTop=n,h.scrollLeft=m);try{r.parentNode.removeChild(r)}catch(x){}}else b(h,h)},set:function(a,b){var e=rangy.createRange(this.doc);e.setStart(a,b||0);this.setSelection(e)},insertHTML:function(a){var b=this.getRange(),e=this.doc.createElement("DIV"),
g=this.doc.createDocumentFragment();if(b){b.deleteContents();e.innerHTML=a;for(a=e.lastChild;e.firstChild;)g.appendChild(e.firstChild);b.insertNode(g);for(b=this.contain.lastChild;b&&3===b.nodeType&&b.previousSibling&&/^\s*$/.test(b.data);)b=b.previousSibling;a&&(b&&a===b&&1===a.nodeType&&this.contain.appendChild(this.doc.createElement("br")),this.setAfter(a))}},insertNode:function(a){var b=this.getRange();b&&b.insertNode(a)},canAppendChild:function(a){var b,e=this.getRange();(a=a||e.startContainer)&&
(b=(a.tagName||a.nodeName).toLowerCase());return-1==="area base br col command embed hr img input keygen link meta param source track wbr".split(" ").indexOf(b)},splitElementAtCaret:function(b,e){var g=this.getSelection(),h,m;if(0<g.rangeCount){g=g.getRangeAt(0).cloneRange();g.setEndAfter(b);h=g.extractContents();m=h.childNodes;for(var p=m.length;p--;)a.dom.domNode(m[p]).is.visible()||h.removeChild(m[p]);b.parentNode.insertBefore(h,b.nextSibling);e?(h=e.firstChild||e,m=e.lastChild||e,b.parentNode.insertBefore(e,
b.nextSibling),h&&m&&(g.setStartBefore(h),g.setEndAfter(m),this.setSelection(g))):(g.setStartAfter(b),g.setEndAfter(b));a.dom.domNode(b).is.visible()||(""===a.dom.getTextContent(b)?b.parentNode.removeChild(b):b.parentNode.replaceChild(this.doc.createTextNode(" "),b))}},surround:function(a){var b=this.getOwnRanges(),e,g=[];if(0==b.length)return g;for(var h=b.length;h--;){e=this.doc.createElement(a.nodeName);g.push(e);a.className&&(e.className=a.className);a.cssStyle&&e.setAttribute("style",a.cssStyle);
try{b[h].surroundContents(e),this.selectNode(e)}catch(p){e.appendChild(b[h].extractContents()),b[h].insertNode(e)}}return g},scrollIntoView:function(){var b=this.doc,e=b.documentElement.scrollHeight>b.documentElement.offsetHeight,g;(g=b._wysihtml5ScrollIntoViewElement)||(g=b.createElement("span"),g.innerHTML=a.INVISIBLE_SPACE);g=b._wysihtml5ScrollIntoViewElement=g;if(e){this.insertNode(g);var e=g,h=0;if(e.parentNode){do h+=e.offsetTop||0,e=e.offsetParent;while(e)}e=h;g.parentNode.removeChild(g);e>=
b.body.scrollTop+b.documentElement.offsetHeight-5&&(b.body.scrollTop=e)}},selectLine:function(){var b=rangy.createRange();a.browser.supportsSelectionModify()?this._selectLine_W3C():b.nativeRange&&b.nativeRange.getBoundingClientRect&&this._selectLineUniversal()},includeRangyRangeHelpers:function(){var a=this.getSelection(),b=a.getRangeAt(0),e=function(a){return a&&1===a.nodeType&&a.classList.contains("rangySelectionBoundary")},g=1===a.anchorNode.nodeType?a.anchorNode.childNodes[a.anchorOffset]:a.anchorNode,
h=1===a.focusNode.nodeType?a.focusNode.childNodes[a.focusOffset]:a.focusNode,p;if(p=h){p=a.focusOffset;var q;q=1===h.nodeType?h.childNodes&&h.childNodes.length||0:h.data&&h.data.length||0;p=p===q}p&&h.nextSibling&&e(h.nextSibling)&&b.setEndAfter(h.nextSibling);g&&0===a.anchorOffset&&g.previousSibling&&e(g.previousSibling)&&b.setStartBefore(g.previousSibling);b.select()},_selectLine_W3C:function(){var a=this.win.getSelection(),b=[a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset];a.modify("move",
"left","lineboundary");a.modify("extend","right","lineboundary");a.anchorNode===b[0]&&a.anchorOffset===b[1]&&a.focusNode===b[2]&&a.focusOffset===b[3]?this._selectLineUniversal():this.includeRangyRangeHelpers()},toLineBoundary:function(b,e){e="undefined"===typeof e?!1:e;if(a.browser.supportsSelectionModify()){var g=this.win.getSelection();g.modify("extend",b,"lineboundary");e&&("left"===b?g.collapseToStart():"right"===b&&g.collapseToEnd())}},getRangeRect:function(a){this.doc.createTextNode("i");var b=
this.doc.createTextNode("i");a.collapsed?(a.insertNode(b),a.selectNode(b),b=a.nativeRange.getBoundingClientRect(),a.deleteContents()):b=a.nativeRange.getBoundingClientRect();return b},_selectLineUniversal:function(){var b=this.getSelection().getRangeAt(0),e,g=0,h,m,p,q=this;e=function(b){return b&&1===b.nodeType&&("block"===q.win.getComputedStyle(b).display||a.lang.array(["BR","HR"]).contains(b.nodeName))};h=function(a){if(a)for(;a&&(1===a.nodeType&&a.classList.contains("rangySelectionBoundary")||
3===a.nodeType&&/^\s*$/.test(a.data));)a=a.previousSibling;return a};b.cloneRange();b.cloneRange();b.collapsed&&(3===b.startContainer.nodeType&&b.startOffset<b.startContainer.data.length?b.moveEnd("character",1):1===b.startContainer.nodeType&&b.startContainer.childNodes[b.startOffset]&&3===b.startContainer.childNodes[b.startOffset].nodeType&&0<b.startContainer.childNodes[b.startOffset].data.length?b.moveEnd("character",1):0<b.startOffset&&(3===b.startContainer.nodeType||1===b.startContainer.nodeType&&
!e(h(b.startContainer.childNodes[b.startOffset-1])))&&b.moveStart("character",-1));b.collapsed||b.insertNode(this.doc.createTextNode(a.INVISIBLE_SPACE));e=b.nativeRange.getBoundingClientRect();do h=b.moveStart("character",-1),m=b.nativeRange.getBoundingClientRect(),m&&Math.floor(m.top)===Math.floor(e.top)||(b.moveStart("character",1),p=!0),g++;while(0!==h&&!p&&2E3>g);g=0;p=!1;e=b.nativeRange.getBoundingClientRect();if(b.endContainer!==this.contain||this.contain.lastChild&&this.contain.childNodes[b.endOffset]!==
this.contain.lastChild){do h=b.moveEnd("character",1),m=b.nativeRange.getBoundingClientRect(),m&&Math.floor(m.bottom)===Math.floor(e.bottom)||(b.moveEnd("character",-1),b.endContainer&&1===b.endContainer.nodeType&&b.endContainer.childNodes[b.endOffset]&&1===b.endContainer.childNodes[b.endOffset].nodeType&&"BR"===b.endContainer.childNodes[b.endOffset].nodeName&&b.endContainer.childNodes[b.endOffset].previousSibling&&(1===b.endContainer.childNodes[b.endOffset].previousSibling.nodeType?b.setEnd(b.endContainer.childNodes[b.endOffset].previousSibling,
b.endContainer.childNodes[b.endOffset].previousSibling.childNodes.length):3===b.endContainer.childNodes[b.endOffset].previousSibling.nodeType&&b.setEnd(b.endContainer.childNodes[b.endOffset].previousSibling,b.endContainer.childNodes[b.endOffset].previousSibling.data.length)),p=!0),g++;while(0!==h&&!p&&2E3>g)}b.select();this.includeRangyRangeHelpers()},getText:function(){var a=this.getSelection();return a?a.toString():""},getNodes:function(a,b){var e=this.getRange();return e?e.getNodes(Array.isArray(a)?
a:[a],b):[]},getOwnNodes:function(a,b,e){for(var g=this.getOwnRanges(),h=[],p=0,q=g.length;p<q;p++)g[p]&&(e&&g[p].splitBoundaries(),h=h.concat(g[p].getNodes(Array.isArray(a)?a:[a],b)));return h},fixRangeOverflow:function(a){if(this.contain&&this.contain.firstChild&&a){var b=a.compareNode(this.contain);2!==b?(1===b&&a.setStartBefore(this.contain.firstChild),0===b&&a.setEndAfter(this.contain.lastChild),3===b&&(a.setStartBefore(this.contain.firstChild),a.setEndAfter(this.contain.lastChild))):this._detectInlineRangeProblems(a)&&
(b=a.endContainer.previousElementSibling)&&a.setEnd(b,this._endOffsetForNode(b))}},_endOffsetForNode:function(a){var b=document.createRange();b.selectNodeContents(a);return b.endOffset},_detectInlineRangeProblems:function(a){var b=g.compareDocumentPosition(a.startContainer,a.endContainer);return 0==a.endOffset&&b&4},getRange:function(a){var b=this.getSelection(),b=b&&b.rangeCount&&b.getRangeAt(0);!0!==a&&this.fixRangeOverflow(b);return b},getOwnUneditables:function(){var b=g.query(this.contain,"."+
this.unselectableClass),e=g.query(b,"."+this.unselectableClass);return a.lang.array(b).without(e)},getOwnRanges:function(){var a=[],b=this.getRange();b&&a.push(b);if(this.unselectableClass&&this.contain&&b){var e=this.getOwnUneditables(),g;if(0<e.length)for(var h=0,p=e.length;h<p;h++)for(var b=[],q=0,r=a.length;q<r;q++){if(a[q])switch(a[q].compareNode(e[h])){case 2:break;case 3:g=a[q].cloneRange();g.setEndBefore(e[h]);b.push(g);g=a[q].cloneRange();g.setStartAfter(e[h]);b.push(g);break;default:b.push(a[q])}a=
b}}return a},getSelection:function(){return rangy.getSelection(this.win)},setSelection:function(a){var b=rangy.getSelection(this.win);b.setSingleRange(a);return b&&b.anchorNode&&b.focusNode?b:null},selectAll:function(){var e=this.createRange(),g=this.composer,h=this,n=b(this.composer.element),m=b(this.composer.element),p,q=function(){e.setStart(g.element,0);e.setEnd(g.element,g.element.childNodes.length);p=h.setSelection(e)},r=function(){return!p||p.nativeSelection&&p.nativeSelection.type&&("Caret"===
p.nativeSelection.type||"None"===p.nativeSelection.type)};a.dom.removeInvisibleSpaces(this.composer.element);q();this.composer.element.firstChild&&r()&&(this.composer.element.appendChild(n),q(),r()&&(n.parentNode.removeChild(n),this.composer.element.insertBefore(m,this.composer.element.firstChild),q(),r()&&(this.composer.element.appendChild(n),q())))},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},getHtml:function(){return this.getSelection().toHtml()},
getPlainText:function(){return this.getSelection().toString()},isEndToEndInNode:function(b){var e=this.getRange(),g=e.commonAncestorContainer,h=e.startContainer,m=e.endContainer;g.nodeType===a.TEXT_NODE&&(g=g.parentNode);if(h.nodeType===a.TEXT_NODE&&!/^\s*$/.test(h.data.substr(e.startOffset))||m.nodeType===a.TEXT_NODE&&!/^\s*$/.test(m.data.substr(e.endOffset)))return!1;for(;h&&h!==g;){if(h.nodeType!==a.TEXT_NODE&&!a.dom.contains(g,h)||a.dom.domNode(h).prev({ignoreBlankTexts:!0}))return!1;h=h.parentNode}for(;m&&
m!==g;){if(m.nodeType!==a.TEXT_NODE&&!a.dom.contains(g,m)||a.dom.domNode(m).next({ignoreBlankTexts:!0}))return!1;m=m.parentNode}return a.lang.array(b).contains(g.nodeName)?g:!1},isInThisEditable:function(){var b=this.getSelection(),e=b.focusNode,b=b.anchorNode;e&&1!==e.nodeType&&(e=e.parentNode);b&&1!==b.nodeType&&(b=b.parentNode);return b&&e&&(a.dom.contains(this.composer.element,e)||this.composer.element===e)&&(a.dom.contains(this.composer.element,b)||this.composer.element===b)},deselect:function(){var a=
this.getSelection();a&&a.removeAllRanges()}})})(wysihtml5);
(function(a,h){function e(a,e,f){a.getAttribute("style")?(b(a,f),a.getAttribute("style")&&!/^\s*$/.test(a.getAttribute("style"))?a.setAttribute("style",e+";"+a.getAttribute("style")):a.setAttribute("style",e)):a.setAttribute("style",e)}function b(a,b){var e,f=[];if(a.getAttribute("style")){e=a.getAttribute("style").split(";");for(var g=e.length;g--;)e[g].match(b)||/^\s*$/.test(e[g])||f.push(e[g]);f.length?a.setAttribute("style",f.join(";")):a.removeAttribute("style")}}function g(a,b){var e=[],f=b.split(";"),
g=a.getAttribute("style");if(g){g=g.replace(/\s/gi,"").toLowerCase();e.push(new RegExp("(^|\\s|;)"+b.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var h=f.length;0<h--;)/^\s*$/.test(f[h])||e.push(new RegExp("(^|\\s|;)"+f[h].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));
f=0;for(h=e.length;f<h;f++)if(g.match(e[f]))return e[f]}return!1}function f(b,e,f,k){for(var l=b.length;l--;){var m;m=b[l];var n=e,p=k;m=f?g(m,f):p?a.dom.hasClass(m,p):h.dom.arrayContains(n,m.tagName.toLowerCase());if(!m)return!1}return b.length?!0:!1}function l(a,b){return h.dom.isCharacterDataNode(a)?0==b?!!a.previousSibling:b==a.length?!!a.nextSibling:!0:0<b&&b<a.childNodes.length}function k(a,b,e,f){var g;h.dom.isCharacterDataNode(b)&&(0==e?(e=h.dom.getNodeIndex(b),b=b.parentNode):e==b.length?
(e=h.dom.getNodeIndex(b)+1,b=b.parentNode):g=h.dom.splitDataNode(b,e));if(!(g||f&&b===f)){g=b.cloneNode(!1);g.id&&g.removeAttribute("id");for(var l;l=b.childNodes[e];)g.appendChild(l);h.dom.insertAfter(g,b)}return b==a?g:k(a,g.parentNode,h.dom.getNodeIndex(g),f)}function n(b){this.firstTextNode=(this.isElementMerge=b.nodeType==a.ELEMENT_NODE)?b.lastChild:b;this.textNodes=[this.firstTextNode]}function m(a,b,e,f,g,h,k){this.tagNames=a||["span"];this.cssClass=b||(!1===b?!1:"");this.similarClassRegExp=
e;this.cssStyle=g||"";this.similarStyleRegExp=h;this.normalize=f;this.applyToAnyTagName=!1;this.container=k}var p=/\s+/g;n.prototype={doMerge:function(){for(var a=[],b,e,f=0,g=this.textNodes.length;f<g;++f)b=this.textNodes[f],e=b.parentNode,a[f]=b.data,f&&(e.removeChild(b),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=a=a.join("")},getLength:function(){for(var a=this.textNodes.length,b=0;a--;)b+=this.textNodes[a].length;return b},toString:function(){for(var a=[],b=
0,e=this.textNodes.length;b<e;++b)a[b]="'"+this.textNodes[b].data+"'";return"[Merge("+a.join(",")+")]"}};m.prototype={getAncestorWithClass:function(b){for(var e;b;){if(this.cssClass)if(e=this.cssClass,b.className){var f=b.className.match(this.similarClassRegExp)||[];e=f[f.length-1]===e}else e=!1;else e=""!==this.cssStyle?!1:!0;if(b.nodeType==a.ELEMENT_NODE&&"false"!=b.getAttribute("contenteditable")&&h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&e)return b;b=b.parentNode}return!1},getAncestorWithStyle:function(b){for(var e;b;){if(this.cssStyle){e=
b;var f=this.similarStyleRegExp;e.getAttribute&&e.getAttribute("style")?(e.getAttribute("style").match(f),e=e.getAttribute("style").match(f)?!0:!1):e=!1}else e=!1;if(b.nodeType==a.ELEMENT_NODE&&"false"!=b.getAttribute("contenteditable")&&h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&e)return b;b=b.parentNode}return!1},getMatchingAncestor:function(a){var b=this.getAncestorWithClass(a),e=!1;b?this.cssStyle&&(e="class"):(b=this.getAncestorWithStyle(a))&&(e="style");return{element:b,type:e}},
postApply:function(a,b){for(var e=a[0],f=a[a.length-1],g=[],h,k=e,l=f,m=0,p=f.length,A,C,E=0,H=a.length;E<H;++E)A=a[E],C=null,A&&A.parentNode&&(C=this.getAdjacentMergeableTextNode(A.parentNode,!1)),C?(h||(h=new n(C),g.push(h)),h.textNodes.push(A),A===e&&(k=h.firstTextNode,m=k.length),A===f&&(l=h.firstTextNode,p=h.getLength())):h=null;f&&f.parentNode&&(e=this.getAdjacentMergeableTextNode(f.parentNode,!0))&&(h||(h=new n(f),g.push(h)),h.textNodes.push(e));if(g.length){E=0;for(H=g.length;E<H;++E)g[E].doMerge();
b.setStart(k,m);b.setEnd(l,p)}},getAdjacentMergeableTextNode:function(b,e){var f=b.nodeType==a.TEXT_NODE,g=f?b.parentNode:b,h=e?"nextSibling":"previousSibling";if(f){if((f=b[h])&&f.nodeType==a.TEXT_NODE)return f}else if((f=g[h])&&this.areElementsMergeable(b,f))return f[e?"firstChild":"lastChild"];return null},areElementsMergeable:function(a,b){var e;if(e=h.dom.arrayContains(this.tagNames,(a.tagName||"").toLowerCase())&&h.dom.arrayContains(this.tagNames,(b.tagName||"").toLowerCase()))e=a.className.replace(p,
" ")==b.className.replace(p," ");if(e)a:if(a.attributes.length!=b.attributes.length)e=!1;else{e=0;for(var f=a.attributes.length,g,k;e<f;++e)if(g=a.attributes[e],k=g.name,"class"!=k&&(k=b.attributes.getNamedItem(k),g.specified!=k.specified||g.specified&&g.nodeValue!==k.nodeValue)){e=!1;break a}e=!0}return e},createContainer:function(a){a=a.createElement(this.tagNames[0]);this.cssClass&&(a.className=this.cssClass);this.cssStyle&&a.setAttribute("style",this.cssStyle);return a},applyToTextNode:function(a){var b=
a.parentNode;1==b.childNodes.length&&h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())?(this.cssClass&&(a=this.cssClass,b.className?(b.className&&(b.className=b.className.replace(this.similarClassRegExp,"")),b.className+=" "+a):b.className=a),this.cssStyle&&e(b,this.cssStyle,this.similarStyleRegExp)):(b=this.createContainer(h.dom.getDocument(a)),a.parentNode.insertBefore(b,a),b.appendChild(a))},isRemovable:function(b){return h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&""===
a.lang.string(b.className).trim()&&(!b.getAttribute("style")||""===a.lang.string(b.getAttribute("style")).trim())},undoToTextNode:function(a,f,h,m){a=h?!1:!0;h=h||m;m=!1;if(!f.containsNode(h)){var n=f.cloneRange();n.selectNode(h);n.isPointInRange(f.endContainer,f.endOffset)&&l(f.endContainer,f.endOffset)&&(k(h,f.endContainer,f.endOffset,this.container),f.setEndAfter(h));n.isPointInRange(f.startContainer,f.startOffset)&&l(f.startContainer,f.startOffset)&&(h=k(h,f.startContainer,f.startOffset,this.container))}!a&&
this.similarClassRegExp&&h.className&&(h.className=h.className.replace(this.similarClassRegExp,""));a&&this.similarStyleRegExp&&(f=h,a=this.cssStyle,m=this.similarStyleRegExp,(n=g(f,a))?(b(f,n),f="remove"):(e(f,a,m),f="change"),m="change"===f);if(this.isRemovable(h)&&!m){for(f=h.parentNode;h.firstChild;)f.insertBefore(h.firstChild,h);f.removeChild(h)}},applyToRange:function(b){for(var e,f=b.length;f--;){e=b[f].getNodes([a.TEXT_NODE]);if(!e.length)try{var g=this.createContainer(b[f].endContainer.ownerDocument);
b[f].surroundContents(g);this.selectNode(b[f],g);break}catch(h){}b[f].splitBoundaries();e=b[f].getNodes([a.TEXT_NODE]);if(e.length){for(var k,l=0,m=e.length;l<m;++l)k=e[l],this.getMatchingAncestor(k).element||this.applyToTextNode(k);b[f].setStart(e[0],0);k=e[e.length-1];b[f].setEnd(k,k.length);this.normalize&&this.postApply(e,b[f])}}},undoToRange:function(b){for(var e,f,g,h=b.length;h--;){e=b[h].getNodes([a.TEXT_NODE]);e.length?(b[h].splitBoundaries(),e=b[h].getNodes([a.TEXT_NODE])):(e=b[h].endContainer.ownerDocument.createTextNode(a.INVISIBLE_SPACE),
b[h].insertNode(e),b[h].selectNode(e),e=[e]);for(var k=0,l=e.length;k<l;++k)b[h].isValid()&&(f=e[k],g=this.getMatchingAncestor(f),"style"===g.type?this.undoToTextNode(f,b[h],!1,g.element):g.element&&this.undoToTextNode(f,b[h],g.element));1==l?this.selectNode(b[h],e[0]):(b[h].setStart(e[0],0),f=e[e.length-1],b[h].setEnd(f,f.length),this.normalize&&this.postApply(e,b[h]))}},selectNode:function(b,e){var f=e.nodeType===a.ELEMENT_NODE,g="canHaveHTML"in e?e.canHaveHTML:!0,h=f?e.innerHTML:e.data;if((h=""===
h||h===a.INVISIBLE_SPACE)&&f&&g)try{e.innerHTML=a.INVISIBLE_SPACE}catch(k){}b.selectNodeContents(e);h&&f?b.collapse(!1):h&&(b.setStartAfter(e),b.setEndAfter(e))},getTextSelectedByRange:function(a,b){var e=b.cloneRange();e.selectNodeContents(a);var f=e.intersection(b),f=f?f.toString():"";e.detach();return f},isAppliedToRange:function(b){for(var e=[],f="full",g,h,k=b.length;k--;){h=b[k].getNodes([a.TEXT_NODE]);if(!h.length)return(g=this.getMatchingAncestor(b[k].startContainer).element)?{elements:[g],
coverage:f}:!1;for(var l=0,m=h.length,n;l<m;++l)n=this.getTextSelectedByRange(h[l],b[k]),(g=this.getMatchingAncestor(h[l]).element)&&""!=n?(e.push(g),1===a.dom.getTextNodes(g,!0).length?f="full":"full"===f&&(f="inline")):g||(f="partial")}return e.length?{elements:e,coverage:f}:!1},toggleRange:function(a){var b=this.isAppliedToRange(a);b?"full"===b.coverage?this.undoToRange(a):"inline"===b.coverage?(b=f(b.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(a),b||this.applyToRange(a)):
(f(b.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(a),this.applyToRange(a)):this.applyToRange(a)}};a.selection.HTMLApplier=m})(wysihtml5,rangy);
wysihtml5.Commands=Base.extend({constructor:function(a){this.editor=a;this.composer=a.composer;this.doc=this.composer.doc},support:function(a){return wysihtml5.browser.supportsCommand(this.doc,a)},exec:function(a,h){var e=wysihtml5.commands[a],b=wysihtml5.lang.array(arguments).get(),g=e&&e.exec,f=null;this.composer.hasPlaceholderSet()&&!wysihtml5.lang.array(["styleWithCSS","enableObjectResizing","enableInlineTableEditing"]).contains(a)&&(this.composer.element.innerHTML="",this.composer.selection.selectNode(this.composer.element));
this.editor.fire("beforecommand:composer");if(g)b.unshift(this.composer),f=g.apply(e,b);else try{f=this.doc.execCommand(a,!1,h)}catch(l){}this.editor.fire("aftercommand:composer");return f},remove:function(a,h){var e=wysihtml5.commands[a],b=wysihtml5.lang.array(arguments).get(),g=e&&e.remove;if(g)return b.unshift(this.composer),g.apply(e,b)},state:function(a,h){var e=wysihtml5.commands[a],b=wysihtml5.lang.array(arguments).get(),g=e&&e.state;if(g)return b.unshift(this.composer),g.apply(e,b);try{return this.doc.queryCommandState(a)}catch(f){return!1}},
stateValue:function(a){var h=wysihtml5.commands[a],e=wysihtml5.lang.array(arguments).get(),b=h&&h.stateValue;return b?(e.unshift(this.composer),b.apply(h,e)):!1}});(function(a){var h={nodeName:"B",toggle:!0};a.commands.bold={exec:function(e,b){a.commands.formatInline.exec(e,b,h)},state:function(e,b){return a.commands.formatInline.state(e,b,h)}}})(wysihtml5);
(function(a){var h={nodeName:"A",toggle:!1};a.commands.createLink={exec:function(e,b,g){g=a.lang.object({}).merge(h).merge({attribute:g}).get();if(e.selection.isCollapsed()&&!this.state(e,b)){var f=e.doc.createTextNode(g.attribute.href);e.selection.insertNode(f);e.selection.selectNode(f)}a.commands.formatInline.exec(e,b,g)},state:function(e,b){return a.commands.formatInline.state(e,b,h)}}})(wysihtml5);
(function(a){var h={nodeName:"A"};a.commands.removeLink={exec:function(e,b){a.commands.formatInline.remove(e,b,h)},state:function(e,b){return a.commands.formatInline.state(e,b,h)}}})(wysihtml5);(function(a){var h=/wysiwyg-font-size-[0-9a-z\-]+/g;a.commands.fontSize={exec:function(e,b,g){a.commands.formatInline.exec(e,b,{className:"wysiwyg-font-size-"+g,classRegExp:h,toggle:!0})},state:function(e,b,g){return a.commands.formatInline.state(e,b,{className:"wysiwyg-font-size-"+g})}}})(wysihtml5);
(function(a){a.commands.fontSizeStyle={exec:function(h,e,b){b=b.size||b;/^\s*$/.test(b)||a.commands.formatInline.exec(h,e,{styleProperty:"fontSize",styleValue:b,toggle:!1})},state:function(h,e,b){return a.commands.formatInline.state(h,e,{styleProperty:"fontSize",styleValue:b||void 0})},remove:function(h,e){return a.commands.formatInline.remove(h,e,{styleProperty:"fontSize"})},stateValue:function(h,e){var b;(b=this.state(h,e))&&a.lang.object(b).isArray()&&(b=b[0]);return b&&(b=b.getAttribute("style"))?
a.quirks.styleParser.parseFontSize(b):!1}}})(wysihtml5);(function(a){var h=/wysiwyg-color-[0-9a-z]+/g;a.commands.foreColor={exec:function(e,b,g){a.commands.formatInline.exec(e,b,{className:"wysiwyg-color-"+g,classRegExp:h,toggle:!0})},state:function(e,b,g){return a.commands.formatInline.state(e,b,{className:"wysiwyg-color-"+g})}}})(wysihtml5);
(function(a){a.commands.foreColorStyle={exec:function(h,e,b){b&&(b=a.quirks.styleParser.parseColor("color:"+(b.color||b),"color"))&&(b=(1===b[3]?"rgb("+[b[0],b[1],b[2]].join(", "):"rgba("+b.join(", "))+")",a.commands.formatInline.exec(h,e,{styleProperty:"color",styleValue:b}))},state:function(h,e,b){b=b?a.quirks.styleParser.parseColor("color:"+(b.color||b),"color"):null;var g;b&&(g=(1===b[3]?"rgb("+[b[0],b[1],b[2]].join(", "):"rgba("+b.join(", "))+")");return a.commands.formatInline.state(h,e,{styleProperty:"color",
styleValue:g})},remove:function(h,e){return a.commands.formatInline.remove(h,e,{styleProperty:"color"})},stateValue:function(h,e,b){h=this.state(h,e);e=!1;h&&a.lang.object(h).isArray()&&(h=h[0]);return h&&(h=h.getAttribute("style"))?(e=a.quirks.styleParser.parseColor(h,"color"),a.quirks.styleParser.unparseColor(e,b)):!1}}})(wysihtml5);
(function(a){a.commands.bgColorStyle={exec:function(h,e,b){if(b=a.quirks.styleParser.parseColor("background-color:"+(b.color||b),"background-color"))b=(1===b[3]?"rgb("+[b[0],b[1],b[2]].join(", "):"rgba("+b.join(", "))+")",a.commands.formatInline.exec(h,e,{styleProperty:"backgroundColor",styleValue:b})},state:function(h,e,b){b=b?a.quirks.styleParser.parseColor("background-color:"+(b.color||b),"background-color"):null;var g;b&&(g=(1===b[3]?"rgb("+[b[0],b[1],b[2]].join(", "):"rgba("+b.join(", "))+")");
return a.commands.formatInline.state(h,e,{styleProperty:"backgroundColor",styleValue:g})},remove:function(h,e){return a.commands.formatInline.remove(h,e,{styleProperty:"backgroundColor"})},stateValue:function(h,e,b){h=this.state(h,e);e=!1;h&&a.lang.object(h).isArray()&&(h=h[0]);return h&&(h=h.getAttribute("style"))?(e=a.quirks.styleParser.parseColor(h,"background-color"),a.quirks.styleParser.unparseColor(e,b)):!1}}})(wysihtml5);
(function(a){function h(a,b){return 3===a.nodeType?a:a.childNodes[b]||a}function e(a){return a&&1===a.nodeType&&"BR"===a.nodeName}function b(a){return a&&1===a.nodeType&&a.classList.contains("rangySelectionBoundary")}function g(a,b){return e(a)||a&&1===a.nodeType&&"block"===b.win.getComputedStyle(a).display}function f(b,e){a.dom.removeInvisibleSpaces(b.element);for(var f=b.element,g=f.querySelectorAll("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"),h=b.config.classNames.uneditableContainer+[""].concat("h1; h2; h3; h4; h5; h6; p; pre; div; blockquote".split(";")).join(", "+
b.config.classNames.uneditableContainer+" "),f=f.querySelectorAll(h),g=a.lang.array(g).without(f),h=g.length;h--;)""!==g[h].innerHTML.replace(/[\uFEFF]/g,"")||0!==e.length&&g[h]===e[e.length-1]||(f=a.lang.array(e).indexOf(g[h]),-1<f&&e.splice(f,1),g[h].parentNode.removeChild(g[h]));return e}function l(a,b,e){for(var f=null;a&&b&&a!==b;)1===a.nodeType&&a.matches(e?"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote":"h1, h2, h3, h4, h5, h6, p, pre")&&(f=a),a=a.parentNode;return f}function k(b,e,f){b||
(b=f.doc.createElement(e.nodeName||(f.config.useLineBreaks?"DIV":"P")),b.appendChild(f.doc.createTextNode(a.INVISIBLE_SPACE)));e.nodeName&&b.nodeName!==e.nodeName&&(b=z.renameElement(b,e.nodeName));e.classRegExp&&(b.className=b.className.replace(e.classRegExp,""));e.className&&b.classList.add(e.className);e.styleProperty&&"undefined"!==typeof e.styleValue&&(b.style[a.browser.fixStyleKey(e.styleProperty)]=e.styleValue);return b}function n(b){b=b.querySelectorAll("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote")||
[];for(var e,f=b.length;f--;)e=a.dom.domNode(b[f]).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),a.dom.domNode(b[f]).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),e&&1!==e.nodeType&&"BR"!==e.nodeName&&""!==(b[f].innerHTML||b[f].nodeValue||"").trim()&&b[f].parentNode.insertBefore(b[f].ownerDocument.createElement("BR"),e),e&&1!==e.nodeType&&"BR"!==e.nodeName&&""!==(b[f].innerHTML||b[f].nodeValue||"").trim()&&b[f].parentNode.insertBefore(b[f].ownerDocument.createElement("BR"),e),a.dom.unwrap(b[f])}function m(b){for(var e=
[],f,g,h,k,l,m,n=0,r=b.length;n<r;n++){1===b[n].startContainer.nodeType&&b[n].startContainer.matches("ul, ol")&&b[n].setStart(b[n].startContainer.childNodes[b[n].startOffset],0);1===b[n].endContainer.nodeType&&b[n].endContainer.matches("ul, ol")&&(m=b[n].endContainer.childNodes[Math.max(b[n].endOffset-1,0)],m.childNodes&&b[n].setEnd(m,m.childNodes.length));f=b[n].getNodes([1],function(a){return"LI"===a.nodeName});if(0<f.length)for(g=0,h=f.length;g<h;g++){l=b[n].compareNode(f[g]);if(l===b[n].NODE_AFTER||
l===b[n].NODE_INSIDE)k=b[n].cloneRange(),(m=a.dom.domNode(f[g]).prev({nodeTypes:[1]}))?k.setEnd(m,m.childNodes.length):f[g].closest("ul, ol")?k.setEndBefore(f[g].closest("ul, ol")):k.setEndBefore(f[g]),e.push(k),b[n].setStart(f[g],0);if(l===b[n].NODE_BEFORE||l===b[n].NODE_INSIDE)k=b[n].cloneRange(),k.setEnd(f[g],f[g].childNodes.length),e.push(k),(m=a.dom.domNode(f[g]).next({nodeTypes:[1]}))?b[n].setStart(m,0):f[g].closest("ul, ol")?b[n].setStartAfter(f[g].closest("ul, ol")):b[n].setStartAfter(f[g])}e.push(b[n])}return e}
function p(b,e,f,h){var k,m,n=e.startContainer;if(h=h||l(n,f.element,!0))e=b.firstChild,m=b.lastChild,f.selection.splitElementAtCaret(h,b),k=a.dom.domNode(m).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),b=a.dom.domNode(e).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),e&&!g(e,f)&&b&&!g(b,f)&&e.parentNode.insertBefore(f.doc.createElement("br"),e),m&&!g(m,f)&&k&&!g(k,f)&&k.parentNode.insertBefore(f.doc.createElement("br"),k);else{h=f.element;for(var r=n,n=null,p;r&&h&&r!==h;)1===r.nodeType&&r.matches("b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u")&&
(k=r,null===n?m=n=r.cloneNode(!1):(p=r.cloneNode(!1),p.appendChild(n),n=p)),r=r.parentNode;if((h=n)&&m&&k){if(1===b.childNodes.length){for(;b.firstChild.firstChild;)m.appendChild(b.firstChild.firstChild);b.firstChild.appendChild(h)}f.selection.splitElementAtCaret(k,b)}else f=b.firstChild,m=b.lastChild,e.insertNode(b),e.setStartBefore(f),e.setEndAfter(m)}}function q(b,e,f){b=b.cloneRange();var k=h(b.startContainer,b.startOffset).previousSibling,l=h(b.endContainer,b.endOffset).nextSibling,m=b.extractContents();
e=f.doc.createDocumentFragment();for(var r;m.firstChild;)if(1===m.firstChild.nodeType&&m.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote")){n(m.firstChild);r=a.dom.unwrap(m.firstChild);0<r.length&&(e.lastChild&&(1!==e.lastChild.nodeType||!g(e.lastChild,f))||!e.lastChild&&k&&(1!==k.nodeType||g(k,f)))&&e.appendChild(f.doc.createElement("BR"));for(var q=0,t=r.length;q<t;q++)e.appendChild(r[q]);0<r.length&&(1===e.lastChild.nodeType&&g(e.lastChild,f)||(l||e.lastChild!==m.lastChild)&&
e.appendChild(f.doc.createElement("BR")))}else e.appendChild(m.firstChild);k=a.lang.array(e.childNodes).get();p(e,b,f);return k}function r(b,f,g,m){var r=f?{nodeName:f.nodeName||null,className:f.classRegExp?null:f.className||null,classRegExp:f.classRegExp||null,styleProperty:f.styleProperty||null}:null;b=b.cloneRange();var q=b.startContainer,t=h(b.startContainer,b.startOffset),u=h(b.endContainer,b.endOffset),x;if(x=b.startContainer===t&&3===t.nodeType)x=t.data?t.data.slice(0,b.startOffset):"",x=!/^\s*$/.test(x);
var t=x?t:a.dom.domNode(t).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),u=1===b.endContainer.nodeType&&b.endContainer.childNodes[b.endOffset]===u&&(1===u.nodeType||!B(u,b.endOffset)&&!a.dom.domNode(u).is.rangyBookmark())||b.endContainer===u&&3===u.nodeType&&!B(u,b.endOffset)?u:a.dom.domNode(u).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),y=b.extractContents();x=m.doc.createDocumentFragment();var r=r?a.dom.getParentElement(q,r,null,m.element):null,z=!g||!f||"BLOCKQUOTE"===f.nodeName&&"BLOCKQUOTE"===
g,q=r||l(q,m.element,z);a.dom.domNode(u).is.rangyBookmark()&&(u=u.nextSibling);if(y){for(;y.firstChild&&3===y.firstChild.nodeType&&/^\s*$/.test(y.firstChild.data)&&y.lastChild!==y.firstChild;)y.removeChild(y.firstChild);for(;y.lastChild&&3===y.lastChild.nodeType&&/^\s*$/.test(y.lastChild.data)&&y.lastChild!==y.firstChild;)y.removeChild(y.lastChild);y.firstChild&&1===y.firstChild.nodeType&&"BR"===y.firstChild.nodeName&&y.lastChild!==y.firstChild&&y.removeChild(y.firstChild);y.lastChild&&1===y.lastChild.nodeType&&
"BR"===y.lastChild.nodeName&&y.lastChild!==y.firstChild&&y.removeChild(y.lastChild)}if(f&&"BLOCKQUOTE"===f.nodeName)f=k(null,f,m),f.appendChild(y),x.appendChild(f),f=[f];else{if(y.firstChild)for(;y.firstChild;)if(1==y.firstChild.nodeType&&y.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"))k(y.firstChild,f,m),y.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre")&&n(y.firstChild),x.appendChild(y.firstChild);else{var r=g,z=m,P=f?a.lang.object(f).clone(!0):null;P&&(P.nodeName=P.nodeName||
r||(z.config.useLineBreaks?"DIV":"P"));for(r=k(null,P,m);y.firstChild&&(1!==y.firstChild.nodeType||!y.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"));)1==y.firstChild.nodeType&&r.matches("h1, h2, h3, h4, h5, h6, p, pre")&&n(y.firstChild),r.appendChild(y.firstChild);x.appendChild(r)}else x.appendChild(k(null,f,m));f=a.lang.array(x.childNodes).get()}p(x,b,m,q);b=u;g=t&&a.dom.domNode(t).prev({nodeTypes:[1,3],ignoreBlankTexts:!0});e(b)&&b.parentNode.removeChild(b);!e(t)||g&&1===
g.nodeType&&"block"===m.win.getComputedStyle(g).display||t.parentNode.removeChild(t);0<f.length&&("undefined"===typeof f[f.length-1].lastChild||a.dom.domNode(f[f.length-1].lastChild).is.rangyBookmark())&&f[f.length-1].appendChild(m.doc.createElement("br"));return f}function t(b,e){var f=a.dom.getParentElement(b.selection.getOwnRanges()[0].startContainer,{query:"h1, h2, h3, h4, h5, h6, p, pre, "+(e?e.toLowerCase():"div")},null,b.element),g;f?(g=b.selection.createRange(),g.selectNode(f),b.selection.setSelection(g)):
b.isEmpty()||b.selection.selectLine()}function u(a,b){var e=b.selection.createRange(),f=a[a.length-1],g=1===f.nodeType&&f.childNodes?f.childNodes.length|0:f.length||0;e.setStart(a[0],0);e.setEnd(f,g);e.select()}function y(b,e,f){for(var g=e.selection.getOwnRanges(),h=[],k,g=m(g),l=g.length;l--;){k=g[l];var n=e,p=void 0,p=k.startContainer,t=k.endContainer;p&&1===p.nodeType&&p===t?p.firstChild===p.lastChild&&1===k.endOffset&&p!==n.element&&"LI"!==p.nodeName&&"TD"!==p.nodeName&&(k.setStartBefore(p),
k.setEndAfter(t)):p&&1===p.nodeType&&3===t.nodeType?p.firstChild===t&&k.endOffset===t.data.length&&p!==n.element&&"LI"!==p.nodeName&&"TD"!==p.nodeName&&k.setEndAfter(p):t&&1===t.nodeType&&3===p.nodeType?t.firstChild===p&&0===k.startOffset&&t!==n.element&&"LI"!==t.nodeName&&"TD"!==t.nodeName&&k.setStartBefore(t):p&&3===p.nodeType&&p===t&&1===p.parentNode.childNodes.length&&k.endOffset==t.data.length&&0===k.startOffset&&(p=p.parentNode,p!==n.element&&"LI"!==p.nodeName&&"TD"!==p.nodeName&&(k.setStartBefore(p),
k.setEndAfter(p)));k=(k=a.dom.getParentElement(g[l].startContainer,{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},null,e.element))?k.nodeName:null;h="remove"===b?h.concat(q(g[l],k,e)):h.concat(r(g[l],f,k,e))}return h}function x(a){"string"===typeof a&&(a={nodeName:a.toUpperCase()});return a}var z=a.dom,B=function(a,b){var e=a.data?a.data.slice(b):"";return/^\s*$/.test(e)};a.commands.formatBlock={exec:function(g,h,k){k=x(k);var l=[],m,n;k&&k.toggle&&(n=this.state(g,h,k));if(n){m=rangy.saveSelection(g.win);
h=0;for(var r=n.length;h<r;h++){var p=n[h],q=k,B=g,L=void 0,P=p.previousSibling,T=p.nextSibling,V=!1;q.styleProperty&&(p.style[a.browser.fixStyleKey(q.styleProperty)]="");q.className&&p.classList.remove(q.className);q.classRegExp&&(p.className=p.className.replace(q.classRegExp,""));null!==p.getAttribute("class")&&""===p.getAttribute("class").trim()&&p.removeAttribute("class");q.nodeName&&p.nodeName.toLowerCase()===q.nodeName.toLowerCase()&&((L=p.getAttribute("style"))&&""!==L.trim()?p=z.renameElement(p,
B.config.useLineBreaks?"DIV":"P"):(z.unwrap(p),V=!0));null!==p.getAttribute("style")&&""===p.getAttribute("style").trim()&&p.removeAttribute("style");V&&((p=P)&&b(p)&&(p=p.previousSibling),T&&b(T)&&(T=T.nextSibling),p&&(1!==p.nodeType||"block"!==B.win.getComputedStyle(p).display&&!e(p))&&p.parentNode&&p.parentNode.insertBefore(B.doc.createElement("br"),p.nextSibling),T&&(1!==T.nodeType||"block"!==B.win.getComputedStyle(T).display)&&T.parentNode&&T.parentNode.insertBefore(B.doc.createElement("br"),
T))}}else{if(g.selection.isCollapsed()){m=rangy.saveSelection(g.win);a:{if(g.selection.isCollapsed()&&(l=g.selection.getNodesNearCaret())&&l.caretNode&&(a.dom.domNode(l.caretNode).is.lineBreak()||3===l.caretNode.nodeType&&0===l.textOffset&&(!l.prevNode||a.dom.domNode(l.prevNode).is.lineBreak())||1===l.caretNode.nodeType&&l.caretNode.classList.contains("rangySelectionBoundary")&&(!l.prevNode||a.dom.domNode(l.prevNode).is.lineBreak()||a.dom.domNode(l.prevNode).is.block())&&(!l.nextNode||a.dom.domNode(l.nextNode).is.lineBreak()||
a.dom.domNode(l.nextNode).is.block()))){l=!0;break a}l=!1}l?g.selection.selectLine():t(g,k&&k.nodeName?k.nodeName.toUpperCase():void 0)}l=k?y("apply",g,k):y("remove",g)}l=f(g,l);m?rangy.restoreSelection(m):u(l,g)},remove:function(a,b,e){e=x(e);var g;a.selection.isCollapsed()&&(g=rangy.saveSelection(a.win),t(a,e&&e.nodeName?e.nodeName.toUpperCase():void 0));b=y("remove",a);b=f(a,b);g?rangy.restoreSelection(g):u(b,a)},state:function(b,e,f){f=x(f);e=b.selection.filterElements(function(b){return a.dom.domNode(b).test(f||
{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"})}.bind(this));for(var g=b.selection.getSelectedOwnNodes(),h,k=0,l=g.length;k<l;k++)(h=z.getParentElement(g[k],f||{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},null,b.element))&&-1===e.indexOf(h)&&e.push(h);return 0===e.length?!1:e}}})(wysihtml5);
(function(a){a.commands.formatCode={exec:function(h,e,b){var g=this.state(h)[0],f,l;g?h.selection.executeAndRestore(function(){f=g.querySelector("code");a.dom.replaceWithChildNodes(g);f&&a.dom.replaceWithChildNodes(f)}):(e=h.selection.getRange(),l=e.extractContents(),g=h.doc.createElement("pre"),f=h.doc.createElement("code"),b&&(f.className=b),g.appendChild(f),f.appendChild(l),e.insertNode(g),h.selection.selectNode(g))},state:function(h){return(h=h.selection.getSelectedNode())&&h.nodeName&&"PRE"==
h.nodeName&&h.firstChild&&h.firstChild.nodeName&&"CODE"==h.firstChild.nodeName?[h]:(h=a.dom.getParentElement(h,{query:"pre code"}))?[h.parentNode]:!1}}})(wysihtml5);
(function(a){function h(a){return!a.getAttribute("style")||/^\s*$/.test(a.getAttribute("style"))}function e(b,e){var f,g;if(1!==b.nodeType||1!==e.nodeType||b.nodeName!==e.nodeName)return!1;f=b.className.trim().replace(/\s+/g," ").split(" ");g=e.className.trim().replace(/\s+/g," ").split(" ");if(0<a.lang.array(f).without(g).length)return!1;f=a.dom.getAttributes(b);g=a.dom.getAttributes(e);return f.length===g.length&&a.lang.object(a.lang.object(f).difference(g)).isEmpty()?!0:!1}function b(b,e){var f=
b.ownerDocument.createElement(e&&e.nodeName||"SPAN");e.classRegExp&&(f.className=f.className.replace(e.classRegExp,""));e.className&&f.classList.add(e.className);e.styleProperty&&"undefined"!==typeof e.styleValue&&(f.style[a.browser.fixStyleKey(e.styleProperty)]=e.styleValue);if(e.attribute)if("object"===typeof e.attribute)for(var g in e.attribute)e.attribute.hasOwnProperty(g)&&f.setAttribute(g,e.attribute[g]);else"undefined"!==typeof e.attributeValue&&f.setAttribute(e.attribute,e.attributeValue);
return f}function g(b,e){var f,g;e.className&&(!1!==e.toggle&&b.classList.contains(e.className)?b.classList.remove(e.className):(e.classRegExp&&(b.className=b.className.replace(e.classRegExp,"")),b.classList.add(e.className)),/^\s*$/.test(b.className)&&b.removeAttribute("class"));e.styleProperty&&(!1!==e.toggle&&b.style[a.browser.fixStyleKey(e.styleProperty)].trim().replace(/, /g,",")===e.styleValue?b.style[a.browser.fixStyleKey(e.styleProperty)]="":b.style[a.browser.fixStyleKey(e.styleProperty)]=
e.styleValue);h(b)&&b.removeAttribute("style");if(e.attribute){"object"===typeof e.attribute?f=e.attribute:(f={},f[e.attribute]=e.attributeValue||"");var k=e.toggle,l=a.dom.getAttributes(b),m;a:{for(m in f)if(f.hasOwnProperty(m)&&(void 0===typeof l[m]||l[m]!==f[m])){m=!1;break a}m=!0}a.lang.object(l).difference(f);if(m&&!1!==k)for(g in f)f.hasOwnProperty(g)&&b.removeAttribute(g);else for(g in f)f.hasOwnProperty(g)&&b.setAttribute(g,f[g])}g=(g=e.nodeName?D[e.nodeName.toLowerCase()]||e.nodeName.toLowerCase():
null)?a.dom.domNode(b).test({query:g}):!1;if(!e.nodeName||"SPAN"===e.nodeName||g){if(g=(!1!==e.toggle&&g||!e.nodeName&&"SPAN"===b.nodeName)&&/^\s*$/.test(b.className)&&h(b))g=a.dom.getAttributes(b),g=a.lang.object(g).isEmpty();g&&a.dom.unwrap(b)}}function f(b,e){var f=[];b.isCollapsed()||(f=f.concat(b.getOwnNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()},e)));return f}function l(b,e,f,g){e=g?e:{nodeName:e.nodeName||null,className:e.classRegExp?null:e.className||null,classRegExp:e.classRegExp||
null,styleProperty:e.styleProperty||null};do{if(g=1===b.nodeType){g=b;var h=e,k=void 0;h.nodeName?(h=D[h.nodeName.toLowerCase()]||h.nodeName.toLowerCase(),g=a.dom.domNode(g).test({query:h})):(k=a.lang.object(h).clone(),k.query="b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u",g=a.dom.domNode(g).test(k))}if(g)return b;b=b.parentNode}while(b&&b!==f);return null}function k(b,e){var f=document.documentElement||
document.body,g=f.scrollTop,h=f.scrollLeft;rangy.getSelection(b.win);rangy.getSelection(b.win).removeAllRanges();try{rangy.getSelection(b.win).addRange(e)}catch(k){}b.doc.activeElement&&a.dom.contains(b.element,b.doc.activeElement)||(b.element.focus(),f.scrollTop=g,f.scrollLeft=h,rangy.getSelection(b.win).addRange(e))}function n(a,b){var e=rangy.createRange(b.doc),f=a[a.length-1];a[0]&&f&&(e.setStart(a[0],0),e.setEnd(f,f.length),k(b,e))}function m(a,b,e,f){var g=rangy.createRange(a.doc);b&&(g.setStart(b,
e),g.setEnd(b,"undefined"!==typeof f?f:e),k(a,g))}function p(a,b,e){var g=f(a.selection),h=[],k=!1,m;if(a.selection.isInThisEditable()){if(0===g.length&&a.selection.isCollapsed()){m=a.selection.getSelection().anchorNode;if(!m)return{nodes:[],partial:!1};3===m.nodeType&&(g=[m])}g.length||(m=a.selection.getOwnRanges()[0])&&(g=[m.endContainer]);for(var n=0,r=g.length;n<r;n++)(m=l(g[n],b,a.element,e))?h.push(m):k=!0}return{nodes:h,partial:k}}function q(a){var b,e;return a&&(b=a.anchorNode,e=a.anchorOffset,
b&&3===b.nodeType&&0<e&&e<b.data.length)?(a=b.data[e-1],b=b.data[e],/\w/.test(a)&&/\w/.test(b)):!1}function r(b){var e,f,g,h;e=[];if(b&&(e=b.anchorNode,b=g=h=b.anchorOffset,f=e.ownerDocument,f=rangy.createRange(f),e&&3===e.nodeType)){for(;0<g&&/\w/.test(e.data[g-1]);)g--;for(;h<e.data.length&&/\w/.test(e.data[h]);)h++;f.setStartAndEnd(e,g,h);f.splitBoundaries();e=f.getNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()});return{wordOffset:b-g,range:f,textNode:e[0]}}return!1}function t(a){for(var b=
a.length;b--;)if(a[b]&&a[b].parentNode){if(a[b].nextSibling&&e(a[b],a[b].nextSibling)){for(var f=a[b],g=a[b].nextSibling;g.firstChild;)f.appendChild(g.firstChild);g.parentNode.removeChild(g)}if(a[b].previousSibling&&e(a[b],a[b].previousSibling)){f=a[b].previousSibling;for(g=a[b];g.firstChild;)f.appendChild(g.firstChild);g.parentNode.removeChild(g)}}}function u(a,b,e){0<b.length&&n(b,a);t(p(a,e).nodes);0<b.length&&n(b,a)}function y(a,b,e,f){m(a,b,e);t(p(a,f).nodes);m(a,b,e)}function x(a,e){var f=b(a,
e);a.parentNode.insertBefore(f,a);f.appendChild(a)}function z(b,e,f){e=l(b,f,e.element);var h;e&&(h=e.cloneNode(!1),a.dom.domNode(b).escapeParent(e,h),g(h,f))}function B(a){a="string"===typeof a?{nodeName:a}:a;a.nodeName&&(a.nodeName=a.nodeName.toUpperCase());return a}var D={b:"b, strong",strong:"b, strong",em:"em, i",i:"em, i"};a.commands.formatInline={exec:function(e,h,k){k=B(k);e.element.normalize();h=f(e.selection,!0);var m=p(e,k);if(0<m.nodes.length){var n=p(e,k,!0),t=e.selection.getSelection();
if(h.length){if(n.partial||!1===k.toggle)for(n=h.length;n--;)l(h[n],k,e.element)&&z(h[n],e,k),l(h[n],k,e.element)||x(h[n],k);else for(n=h.length;n--;)z(h[n],e,k);u(e,h,k)}else if(!1!==k.toggle)if(q(t))h=r(t),z(h.textNode,e,k),y(e,h.textNode,h.wordOffset,k);else{if(h=e.doc.createTextNode(a.INVISIBLE_SPACE),n=m.nodes[0].cloneNode(!1),n.appendChild(h),e.selection.splitElementAtCaret(m.nodes[0],n),g(n,k),u(e,[h],k),h=e.selection.getSelection(),h.anchorNode&&h.focusNode)try{h.collapseToEnd()}catch(D){}}else for(n=
m.nodes.length;n--;)g(m.nodes[n],k)}else if(m=k,k=e.selection.getSelection(),h.length){for(k=h.length;k--;)x(h[k],m);u(e,h,m)}else if(q(k))h=r(k),x(h.textNode,m),y(e,h.textNode,h.wordOffset,m);else if(h=e.selection.getOwnRanges()[0])m=b(h.endContainer,m),h.surroundContents(m),e.selection.selectNode(m);e.element.normalize()},remove:function(b,e,g){g=B(g);b.element.normalize();e=f(b.selection,!0);var h=p(b,g);if(0<h.nodes.length){var k,m;m=b.selection.getSelection();if(e.length){for(m=e.length;m--;)h=
e[m],(k=l(h,g,b.element))&&a.dom.domNode(h).escapeParent(k);u(b,e,g)}else{e=m.anchorNode;k=m.anchorOffset;for(m=h.nodes.length;m--;)a.dom.unwrap(h.nodes[m]);y(b,e,k,g)}}b.element.normalize()},state:function(a,b,e){e=B(e);a=p(a,e,!0).nodes;return 0===a.length?!1:a}}})(wysihtml5);
(function(a){var h={nodeName:"BLOCKQUOTE",toggle:!0};a.commands.insertBlockQuote={exec:function(e,b){return a.commands.formatBlock.exec(e,"formatBlock",h)},state:function(e,b){return a.commands.formatBlock.state(e,"formatBlock",h)}}})(wysihtml5);(function(a){a.commands.insertHTML={exec:function(a,e,b){a.selection.insertHTML(b)},state:function(){return!1}}})(wysihtml5);
(function(a){a.commands.insertImage={exec:function(h,e,b){b="object"===typeof b?b:{src:b};var g=h.doc;if((e=this.state(h))&&!b.src)h.selection.setBefore(e),b=e.parentNode,b.removeChild(e),a.dom.removeEmptyTextNodes(b),"A"!==b.nodeName||b.firstChild||(h.selection.setAfter(b),b.parentNode.removeChild(b)),a.quirks.redraw(h.element);else if(e)for(var f in b)b.hasOwnProperty(f)&&e.setAttribute("className"===f?"class":f,b[f]);else{e=g.createElement("IMG");for(var l in b)e.setAttribute("className"===l?"class":
l,b[l]);h.selection.insertNode(e);a.browser.hasProblemsSettingCaretAfterImg()?(b=g.createTextNode(a.INVISIBLE_SPACE),h.selection.insertNode(b),h.selection.setAfter(b)):h.selection.setAfter(e)}},state:function(h){var e;if(!a.dom.hasElementWithTagName(h.doc,"IMG"))return!1;e=h.selection.getSelectedNode();if(!e)return!1;if("IMG"===e.nodeName)return e;if(e.nodeType!==a.ELEMENT_NODE)return!1;e=h.selection.getText();if(e=a.lang.string(e).trim())return!1;h=h.selection.getNodes(a.ELEMENT_NODE,function(a){return"IMG"===
a.nodeName});return 1!==h.length?!1:h[0]}}})(wysihtml5);(function(a){var h="<br>"+(a.browser.needsSpaceAfterLineBreak()?" ":"");a.commands.insertLineBreak={exec:function(a,b){a.selection.insertHTML(h)},state:function(){return!1}}})(wysihtml5);(function(a){a.commands.insertOrderedList={exec:function(h,e){a.commands.insertList.exec(h,e,"OL")},state:function(h,e){return a.commands.insertList.state(h,e,"OL")}}})(wysihtml5);
(function(a){a.commands.insertUnorderedList={exec:function(h,e){a.commands.insertList.exec(h,e,"UL")},state:function(h,e){return a.commands.insertList.state(h,e,"UL")}}})(wysihtml5);
wysihtml5.commands.insertList=function(a){var h=function(a,b){if(a&&a.nodeName){"string"===typeof b&&(b=[b]);for(var e=b.length;e--;)if(a.nodeName===b[e])return!0}return!1},e=function(b,e,f){var g={el:null,other:!1};if(b){var p=a.dom.getParentElement(b,{query:"li"},!1,f.element),q="UL"===e?"OL":"UL";h(b,e)?g.el=b:h(b,q)?g={el:b,other:!0}:p&&(h(p.parentNode,e)?g.el=p.parentNode:h(p.parentNode,q)&&(g={el:p.parentNode,other:!0}))}g.el&&!f.element.contains(g.el)&&(g.el=null);return g},b=function(b,e,
g){var h="UL"===e?"OL":"UL",p,q;g.selection.executeAndRestoreRangy(function(){p=f(h,g);if(p.length)for(var r=p.length;r--;)a.dom.renameElement(p[r],e.toLowerCase());else{q=f(["OL","UL"],g);for(r=q.length;r--;)a.dom.resolveList(q[r],g.config.useLineBreaks);0===q.length&&a.dom.resolveList(b,g.config.useLineBreaks)}})},g=function(b,e,g){var h="UL"===e?"OL":"UL";g.selection.executeAndRestoreRangy(function(){for(var p=[b].concat(f(h,g)),q=p.length;q--;)a.dom.renameElement(p[q],e.toLowerCase())})},f=function(a,
b){for(var e=b.selection.getOwnRanges(),f=[],g=e.length;g--;)f=f.concat(e[g].getNodes([1],function(b){return h(b,a)}));return f};return{exec:function(f,h,n){h=f.doc;var m="OL"===n?"insertOrderedList":"insertUnorderedList",p=f.selection.getSelection(),q=1===p.anchorNode.nodeType&&p.anchorNode.firstChild?p.anchorNode.childNodes[p.anchorOffset]:p.anchorNode,r=1===p.focusNode.nodeType&&p.focusNode.firstChild?p.focusNode.childNodes[p.focusOffset]||p.focusNode.lastChild:p.focusNode;p.isBackwards()&&(q=
[r,r=q][0]);a.dom.domNode(r).is.emptyTextNode(!0)&&r&&(r=a.dom.domNode(r).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}));a.dom.domNode(q).is.emptyTextNode(!0)&&q&&(q=a.dom.domNode(q).next({nodeTypes:[1,3],ignoreBlankTexts:!0}));p=q&&r?q===r?q:a.dom.domNode(q).commonAncestor(r,f.element):f.selection.getSelectedNode();p=e(p,n,f);p.el?p.other?g(p.el,n,f):b(p.el,n,f):f.commands.support(m)?h.execCommand(m,!1,null):(h=rangy.saveSelection(f.win),m="_wysihtml5-temp-"+(new Date).getTime(),f.commands.exec("formatBlock",
{nodeName:"div",className:m}),p=f.element.querySelector("."+m),p.innerHTML=p.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,""),p&&(m=/^(\s|(<br>))+$/i.test(p.innerHTML),n=a.dom.convertToList(p,n.toLowerCase(),f.parent.config.classNames.uneditableContainer),h&&rangy.restoreSelection(h),m&&f.selection.selectNode(n.querySelector("li"),!0)))},state:function(a,b,f){b=a.selection.getSelectedNode();a=e(b,f,a);return a.el&&!a.other?a.el:!1}}}(wysihtml5);
(function(a){var h={nodeName:"I",toggle:!0};a.commands.italic={exec:function(e,b){a.commands.formatInline.exec(e,b,h)},state:function(e,b){return a.commands.formatInline.state(e,b,h)}}})(wysihtml5);(function(a){var h={className:"wysiwyg-text-align-center",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyCenter={exec:function(e,b){return a.commands.formatBlock.exec(e,"formatBlock",h)},state:function(e,b){return a.commands.formatBlock.state(e,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={className:"wysiwyg-text-align-left",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyLeft={exec:function(e,b){return a.commands.formatBlock.exec(e,"formatBlock",h)},state:function(e,b){return a.commands.formatBlock.state(e,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={className:"wysiwyg-text-align-right",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyRight={exec:function(e,b){return a.commands.formatBlock.exec(e,"formatBlock",h)},state:function(e,b){return a.commands.formatBlock.state(e,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={className:"wysiwyg-text-align-justify",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyFull={exec:function(e,b){return a.commands.formatBlock.exec(e,"formatBlock",h)},state:function(e,b){return a.commands.formatBlock.state(e,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"right",toggle:!0};a.commands.alignRightStyle={exec:function(e,b){return a.commands.formatBlock.exec(e,"formatBlock",h)},state:function(e,b){return a.commands.formatBlock.state(e,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"left",toggle:!0};a.commands.alignLeftStyle={exec:function(e,b){return a.commands.formatBlock.exec(e,"formatBlock",h)},state:function(e,b){return a.commands.formatBlock.state(e,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"center",toggle:!0};a.commands.alignCenterStyle={exec:function(e,b){return a.commands.formatBlock.exec(e,"formatBlock",h)},state:function(e,b){return a.commands.formatBlock.state(e,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"justify",toggle:!0};a.commands.alignJustifyStyle={exec:function(e,b){return a.commands.formatBlock.exec(e,"formatBlock",h)},state:function(e,b){return a.commands.formatBlock.state(e,"formatBlock",h)}}})(wysihtml5);(function(a){a.commands.redo={exec:function(a){return a.undoManager.redo()},state:function(a){return!1}}})(wysihtml5);
(function(a){var h={nodeName:"U",toggle:!0};a.commands.underline={exec:function(e,b){a.commands.formatInline.exec(e,b,h)},state:function(e,b){return a.commands.formatInline.state(e,b,h)}}})(wysihtml5);(function(a){a.commands.undo={exec:function(a){return a.undoManager.undo()},state:function(a){return!1}}})(wysihtml5);
(function(a){a.commands.createTable={exec:function(a,e,b){var g,f;if(b&&b.cols&&b.rows&&0<parseInt(b.cols,10)&&0<parseInt(b.rows,10)){f=b.tableStyle?'<table style="'+b.tableStyle+'">':"<table>";f+="<tbody>";for(g=0;g<b.rows;g++){f+="<tr>";for(e=0;e<b.cols;e++)f+="<td><br></td>";f+="</tr>"}a.commands.exec("insertHTML",f+"</tbody></table>")}},state:function(a,e){return!1}}})(wysihtml5);
(function(a){a.commands.mergeTableCells={exec:function(h,e){h.tableSelection&&h.tableSelection.start&&h.tableSelection.end&&(this.state(h,e)?a.dom.table.unmergeCell(h.tableSelection.start):a.dom.table.mergeCellsBetween(h.tableSelection.start,h.tableSelection.end))},state:function(h,e){if(h.tableSelection){var b=h.tableSelection.start,g=h.tableSelection.end;if(b&&g&&b==g&&(a.dom.getAttribute(b,"colspan")&&1<parseInt(a.dom.getAttribute(b,"colspan"),10)||a.dom.getAttribute(b,"rowspan")&&1<parseInt(a.dom.getAttribute(b,
"rowspan"),10)))return[b]}return!1}}})(wysihtml5);(function(a){a.commands.addTableCells={exec:function(h,e,b){if(h.tableSelection&&h.tableSelection.start&&h.tableSelection.end){var g=a.dom.table.orderSelectionEnds(h.tableSelection.start,h.tableSelection.end);"before"==b||"above"==b?a.dom.table.addCells(g.start,b):"after"!=b&&"below"!=b||a.dom.table.addCells(g.end,b);setTimeout(function(){h.tableSelection.select(g.start,g.end)},0)}},state:function(a,e){return!1}}})(wysihtml5);
(function(a){a.commands.deleteTableCells={exec:function(h,e,b){if(h.tableSelection&&h.tableSelection.start&&h.tableSelection.end){e=a.dom.table.orderSelectionEnds(h.tableSelection.start,h.tableSelection.end);var g=a.dom.table.indexOf(e.start),f,l=h.tableSelection.table;a.dom.table.removeCells(e.start,b);setTimeout(function(){f=a.dom.table.findCell(l,g);f||("row"==b&&(f=a.dom.table.findCell(l,{row:g.row-1,col:g.col})),"column"==b&&(f=a.dom.table.findCell(l,{row:g.row,col:g.col-1})));f&&h.tableSelection.select(f,
f)},0)}},state:function(a,e){return!1}}})(wysihtml5);
(function(a){a.commands.indentList={exec:function(a,e,b){return(e=a.selection.getSelectionParentsByTag("LI"))?this.tryToPushLiLevel(e,a.selection):!1},state:function(a,e){return!1},tryToPushLiLevel:function(h,e){var b,g,f,l,k,n=!1;e.executeAndRestoreRangy(function(){for(var e=h.length;e--;)l=h[e],b="OL"===l.parentNode.nodeName?"OL":"UL",g=l.ownerDocument.createElement(b),k=(f=a.dom.domNode(l).prev({nodeTypes:[a.ELEMENT_NODE]}))?f.querySelector("ul, ol"):null,f&&(k?k.appendChild(l):(g.appendChild(l),
f.appendChild(g)),n=!0)});return n}}})(wysihtml5);
(function(a){a.commands.outdentList={exec:function(a,e,b){return(e=a.selection.getSelectionParentsByTag("LI"))?this.tryToPullLiLevel(e,a):!1},state:function(a,e){return!1},tryToPullLiLevel:function(h,e){var b,g,f,l,k,n=!1,m=this;e.selection.executeAndRestoreRangy(function(){for(var p=h.length;p--;)if(l=h[p],l.parentNode&&(b=l.parentNode,"OL"===b.tagName||"UL"===b.tagName)){n=!0;g=a.dom.getParentElement(b.parentNode,{query:"ol, ul"},!1,e.element);f=a.dom.getParentElement(b.parentNode,{query:"li"},
!1,e.element);if(g&&f)l.nextSibling&&(k=m.getAfterList(b,l),l.appendChild(k)),g.insertBefore(l,f.nextSibling);else{l.nextSibling&&(k=m.getAfterList(b,l),l.appendChild(k));for(var q=l.childNodes.length;q--;)b.parentNode.insertBefore(l.childNodes[q],b.nextSibling);b.parentNode.insertBefore(document.createElement("br"),b.nextSibling);l.parentNode.removeChild(l)}0===b.childNodes.length&&b.parentNode.removeChild(b)}});return n},getAfterList:function(a,e){for(var b=document.createElement(a.nodeName);e.nextSibling;)b.appendChild(e.nextSibling);
return b}}})(wysihtml5);(function(a){var h={nodeName:"SUB",toggle:!0};a.commands.subscript={exec:function(e,b){a.commands.formatInline.exec(e,b,h)},state:function(e,b){return a.commands.formatInline.state(e,b,h)}}})(wysihtml5);(function(a){var h={nodeName:"SUP",toggle:!0};a.commands.superscript={exec:function(e,b){a.commands.formatInline.exec(e,b,h)},state:function(e,b){return a.commands.formatInline.state(e,b,h)}}})(wysihtml5);
(function(a){var h=a.dom;a.UndoManager=a.lang.Dispatcher.extend({constructor:function(a){this.editor=a;this.composer=a.composer;this.element=this.composer.element;this.position=0;this.historyStr=[];this.historyDom=[];this.transact();this._observe()},_observe:function(){var a=this;this.composer.sandbox.getDocument();var b;h.observe(this.element,"keydown",function(b){if(!b.altKey&&(b.ctrlKey||b.metaKey)){var f=b.keyCode,h=90===f&&b.shiftKey||89===f;90!==f||b.shiftKey?h&&(a.redo(),b.preventDefault()):
(a.undo(),b.preventDefault())}});h.observe(this.element,"keydown",function(g){g=g.keyCode;g!==b&&(b=g,8!==g&&46!==g||a.transact())});this.editor.on("newword:composer",function(){a.transact()}).on("beforecommand:composer",function(){a.transact()})},transact:function(){var e=this.historyStr[this.position-1],b=this.composer.getValue(!1,!1),g=0<this.element.offsetWidth&&0<this.element.offsetHeight,f,h;b!==e&&(25<(this.historyStr.length=this.historyDom.length=this.position)&&(this.historyStr.shift(),this.historyDom.shift(),
this.position--),this.position++,g&&(e=(f=this.composer.selection.getRange())&&f.startContainer?f.startContainer:this.element,g=f&&f.startOffset?f.startOffset:0,e.nodeType===a.ELEMENT_NODE?f=e:(f=e.parentNode,h=this.getChildNodeIndex(f,e)),f.setAttribute("data-wysihtml5-selection-offset",g),"undefined"!==typeof h&&f.setAttribute("data-wysihtml5-selection-node",h)),h=this.element.cloneNode(!!b),this.historyDom.push(h),this.historyStr.push(b),f&&(f.removeAttribute("data-wysihtml5-selection-offset"),
f.removeAttribute("data-wysihtml5-selection-node")))},undo:function(){this.transact();this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return 1<this.position},redoPossible:function(){return this.position<this.historyStr.length},set:function(a){this.element.innerHTML="";for(var b=0,g=a.childNodes,f=a.childNodes.length;b<
f;b++)this.element.appendChild(g[b].cloneNode(!0));a.hasAttribute("data-wysihtml5-selection-offset")?(b=a.getAttribute("data-wysihtml5-selection-offset"),g=a.getAttribute("data-wysihtml5-selection-node"),a=this.element):(a=this.element.querySelector("[data-wysihtml5-selection-offset]")||this.element,b=a.getAttribute("data-wysihtml5-selection-offset"),g=a.getAttribute("data-wysihtml5-selection-node"),a.removeAttribute("data-wysihtml5-selection-offset"),a.removeAttribute("data-wysihtml5-selection-node"));
null!==g&&(a=this.getChildNodeByIndex(a,+g));this.composer.selection.set(a,b)},getChildNodeIndex:function(a,b){for(var g=0,f=a.childNodes,h=f.length;g<h;g++)if(f[g]===b)return g},getChildNodeByIndex:function(a,b){return a.childNodes[b]}})})(wysihtml5);
wysihtml5.views.View=Base.extend({constructor:function(a,h,e){this.parent=a;this.element=h;this.config=e;this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var a=this;this.parent.on("beforeload",function(){a.parent.on("change_view",function(h){h===a.name?(a.parent.currentView=a,a.show(),setTimeout(function(){a.focus()},0)):a.hide()})})},focus:function(){if(!this.element||!this.element.ownerDocument||this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element&&
this.element.focus()}catch(a){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}});
(function(a){var h=a.dom,e=a.browser;a.views.Composer=a.views.View.extend({name:"composer",constructor:function(a,e,f){this.base(a,e,f);this.config.noTextarea?this.editableArea=e:this.textarea=this.parent.textarea;this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=e.displaysCaretInEmptyContentEditableCorrectly()?"":"<br>"},getValue:function(b,e){var f=this.isEmpty()?"":a.quirks.getCorrectInnerHTML(this.element);!1!==b&&(f=this.parent.parse(f,
!1===e?!1:!0));return f},setValue:function(a,e){!1!==e&&(a=this.parent.parse(a));try{this.element.innerHTML=a}catch(f){this.element.innerText=a}},cleanUp:function(a){var e;this.selection&&this.selection.isInThisEditable()&&(e=rangy.saveSelection(this.win));this.parent.parse(this.element,void 0,a);e&&rangy.restoreSelection(e)},show:function(){this.editableArea.style.display=this._displayStyle||"";this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=
h.getStyle("display").from(this.editableArea);"none"===this._displayStyle&&(this._displayStyle=null);this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer");this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer");this.element.setAttribute("contentEditable","true")},focus:function(b){a.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear();this.base();var e=this.element.lastChild;b&&e&&this.selection&&
("BR"===e.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getScrollPos:function(){if(this.doc&&this.win){var a={};a.y="undefined"!==typeof this.win.pageYOffset?this.win.pageYOffset:(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollTop;a.x="undefined"!==typeof this.win.pageXOffset?this.win.pageXOffset:(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollLeft;return a}},setScrollPos:function(a){a&&
"undefined"!==typeof a.x&&"undefined"!==typeof a.y&&this.win.scrollTo(a.x,a.y)},getTextContent:function(){return h.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var a=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(a)||""===a||"<br>"===a||"<p></p>"===a||"<p><br></p>"===
a||this.hasPlaceholderSet()},_initContentEditableArea:function(){var a=this;this.config.noTextarea?this.sandbox=new h.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox},this.editableArea):(this.sandbox=new h.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox}),this.editableArea=this.sandbox.getContentEditable(),h.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var a=
this;this.sandbox=new h.Sandbox(function(){a._create()},{stylesheets:this.config.stylesheets,className:this.config.classNames.sandbox});this.editableArea=this.sandbox.getIframe();var e=this.textarea.element;h.insert(this.editableArea).after(e);this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var a=document.createElement("input");a.type="hidden";a.name="_wysihtml5_mode";a.value=1;h.insert(a).after(this.textarea.element)}},_create:function(){var b=this;
this.doc=this.sandbox.getDocument();this.win=this.sandbox.getWindow();this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body;this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1));this.selection=new a.Selection(this.parent,this.element,this.config.classNames.uneditableContainer);this.commands=new a.Commands(this.parent);this.config.noTextarea||h.copyAttributes("className spellcheck title lang dir accessKey".split(" ")).from(this.textarea.element).to(this.element);
this._initAutoLinking();h.addClass(this.element,this.config.classNames.composer);this.config.style&&!this.config.contentEditableMode&&this.style();this.observe();var g=this.config.name;g&&(h.addClass(this.element,g),this.config.contentEditableMode||h.addClass(this.editableArea,g));this.enable();!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();(g="string"===typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):
this.textarea.element.getAttribute("placeholder"))&&h.simulatePlaceholder(this.parent,this,g,this.config.classNames.placeholder);this.commands.exec("styleWithCSS",!1);this._initObjectResizing();this._initUndoManager();this._initLineBreaking();this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||e.isIos()||setTimeout(function(){b.focus(!0)},100);e.clearsContentEditableCorrectly()||a.quirks.ensureProperClearing(this);this.initSync&&
this.config.sync&&this.initSync();this.config.noTextarea||this.textarea.hide();this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var b=this,g=e.canDisableAutoLinking(),f=e.doesAutoLinkingInContentEditable();g&&this.commands.exec("AutoUrlDetect",!1,!1);if(this.config.autoLink){if(!f||f&&g)this.parent.on("newword:composer",function(){if(h.getTextContent(b.element).match(h.autoLink.URL_REG_EXP)){for(var e=b.selection.getSelectedNode(),f=b.element.querySelectorAll("."+b.config.classNames.uneditableContainer),
g=!1,k=f.length;k--;)a.dom.contains(f[k],e)&&(g=!0);g||h.autoLink(e,[b.config.classNames.uneditableContainer])}}),h.observe(this.element,"blur",function(){h.autoLink(b.element,[b.config.classNames.uneditableContainer])});var l=this.sandbox.getDocument().getElementsByTagName("a"),k=h.autoLink.URL_REG_EXP,n=function(b){b=a.lang.string(h.getTextContent(b)).trim();"www."===b.substr(0,4)&&(b="http://"+b);return b};h.observe(this.element,"keydown",function(a){if(l.length){a=b.selection.getSelectedNode(a.target.ownerDocument);
var e=h.getParentElement(a,{query:"a"},4),f;e&&(f=n(e),setTimeout(function(){var a=n(e);a!==f&&a.match(k)&&e.setAttribute("href",a)},0))}})}},_initObjectResizing:function(){this.commands.exec("enableObjectResizing",!0);if(e.supportsEvent("resizeend")){var b=["width","height"],g=b.length,f=this.element;h.observe(f,"resizeend",function(e){e=e.target||e.srcElement;var h=e.style,n=0,m;if("IMG"===e.nodeName){for(;n<g;n++)m=b[n],h[m]&&(e.setAttribute(m,parseInt(h[m],10)),h[m]="");a.quirks.redraw(f)}})}},
_initUndoManager:function(){this.undoManager=new a.UndoManager(this.parent)},_initLineBreaking:function(){function b(a){var b=h.getParentElement(a,{query:"p, div"},2);b&&h.contains(g.element,b)&&g.selection.executeAndRestoreRangy(function(){g.config.useLineBreaks?((!b.firstChild||b.firstChild===b.lastChild&&1===b.firstChild.nodeType&&b.firstChild.classList.contains("rangySelectionBoundary"))&&b.appendChild(g.doc.createElement("br")),h.replaceWithChildNodes(b)):"P"!==b.nodeName&&h.renameElement(b,
"p")})}var g=this;this.config.useLineBreaks||h.observe(this.element,["focus"],function(){g.isEmpty()&&setTimeout(function(){var a=g.doc.createElement("P");g.element.innerHTML="";g.element.appendChild(a);e.displaysCaretInEmptyContentEditableCorrectly()?g.selection.selectNode(a,!0):(a.innerHTML="<br>",g.selection.setBefore(a.firstChild))},0)});h.observe(this.element,"keydown",function(e){var l=e.keyCode;if(!(e.shiftKey||e.ctrlKey||e.defaultPrevented||l!==a.ENTER_KEY&&l!==a.BACKSPACE_KEY)){var k=h.getParentElement(g.selection.getSelectedNode(),
{query:"li, p, h1, h2, h3, h4, h5, h6"},4);k?setTimeout(function(){var e=g.selection.getSelectedNode(),f;if("LI"===k.nodeName){if(!e)return;(f=h.getParentElement(e,{query:"ul, ol, menu"},2))||b(e)}l===a.ENTER_KEY&&k.nodeName.match(/^H[1-6]$/)&&b(e)},0):g.config.useLineBreaks&&l===a.ENTER_KEY&&!a.browser.insertsLineBreaksOnReturn()&&(e.preventDefault(),g.commands.exec("insertLineBreak"))}})}})})(wysihtml5);
(function(a){var h=a.dom,e=document,b=window,g=e.createElement("div"),f="background-color color cursor font-family font-size font-style font-variant font-weight line-height letter-spacing text-align text-decoration text-indent text-rendering word-break word-wrap word-spacing".split(" "),l="background-color border-collapse border-bottom-color border-bottom-style border-bottom-width border-left-color border-left-style border-left-width border-right-color border-right-style border-right-width border-top-color border-top-style border-top-width clear display float margin-bottom margin-left margin-right margin-top outline-color outline-offset outline-width outline-style padding-left padding-right padding-top padding-bottom position top left right bottom z-index vertical-align text-align -webkit-box-sizing -moz-box-sizing -ms-box-sizing box-sizing -webkit-box-shadow -moz-box-shadow -ms-box-shadow box-shadow -webkit-border-top-right-radius -moz-border-radius-topright border-top-right-radius -webkit-border-bottom-right-radius -moz-border-radius-bottomright border-bottom-right-radius -webkit-border-bottom-left-radius -moz-border-radius-bottomleft border-bottom-left-radius -webkit-border-top-left-radius -moz-border-radius-topleft border-top-left-radius width height".split(" "),
k=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",a.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],n=function(a){if(a.setActive)try{a.setActive()}catch(f){}else{var g=a.style,k=e.documentElement.scrollTop||
e.body.scrollTop,l=e.documentElement.scrollLeft||e.body.scrollLeft,g={position:g.position,top:g.top,left:g.left,WebkitUserSelect:g.WebkitUserSelect};h.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(a);a.focus();h.setStyles(g).on(a);b.scrollTo&&b.scrollTo(l,k)}};a.views.Composer.prototype.style=function(){var b=this,p=e.querySelector(":focus"),q=this.textarea.element,r=q.hasAttribute("placeholder"),t=r&&q.getAttribute("placeholder"),u=q.style.display,y=q.disabled,
x;this.focusStylesHost=g.cloneNode(!1);this.blurStylesHost=g.cloneNode(!1);this.disabledStylesHost=g.cloneNode(!1);r&&q.removeAttribute("placeholder");q===p&&q.blur();q.disabled=!1;q.style.display=x="none";if(q.getAttribute("rows")&&"auto"===h.getStyle("height").from(q)||q.getAttribute("cols")&&"auto"===h.getStyle("width").from(q))q.style.display=x=u;h.copyStyles(l).from(q).to(this.editableArea).andTo(this.blurStylesHost);h.copyStyles(f).from(q).to(this.element).andTo(this.blurStylesHost);h.insertCSS(k).into(this.element.ownerDocument);
q.disabled=!0;h.copyStyles(l).from(q).to(this.disabledStylesHost);h.copyStyles(f).from(q).to(this.disabledStylesHost);q.disabled=y;q.style.display=u;n(q);q.style.display=x;h.copyStyles(l).from(q).to(this.focusStylesHost);h.copyStyles(f).from(q).to(this.focusStylesHost);q.style.display=u;h.copyStyles(["display"]).from(q).to(this.editableArea);var z=a.lang.array(l).without(["display"]);p?p.focus():q.blur();r&&q.setAttribute("placeholder",t);this.parent.on("focus:composer",function(){h.copyStyles(z).from(b.focusStylesHost).to(b.editableArea);
h.copyStyles(f).from(b.focusStylesHost).to(b.element)});this.parent.on("blur:composer",function(){h.copyStyles(z).from(b.blurStylesHost).to(b.editableArea);h.copyStyles(f).from(b.blurStylesHost).to(b.element)});this.parent.observe("disable:composer",function(){h.copyStyles(z).from(b.disabledStylesHost).to(b.editableArea);h.copyStyles(f).from(b.disabledStylesHost).to(b.element)});this.parent.observe("enable:composer",function(){h.copyStyles(z).from(b.blurStylesHost).to(b.editableArea);h.copyStyles(f).from(b.blurStylesHost).to(b.element)});
return this}})(wysihtml5);
(function(a){var h=a.dom,e=h.domNode,b=a.browser,g={66:"bold",73:"italic",85:"underline"},f={addListeners:function(a,b,e){for(var f=0,g=b.length;f<g;f++)a.addEventListener(b[f],e,!1)},removeListeners:function(a,b,e){for(var f=0,g=b.length;f<g;f++)a.removeEventListener(b[f],e,!1)},fixLastBrDeletionInTable:function(b,e){if(b.selection.caretIsLastInSelection()){var f=b.selection.getSelection(),g=f.anchorNode;if(g&&1===g.nodeType&&(a.dom.getParentElement(g,{query:"td, th"},!1,b.element)||e)&&(f=g.childNodes[f.anchorOffset])&&
1===f.nodeType&"BR"===f.nodeName)return f.parentNode.removeChild(f),!0}return!1},handleUneditableDeletion:function(a){var b=a.selection.getBeforeSelection(!0);if(b&&("element"===b.type||"leafnode"===b.type)&&1===b.node.nodeType&&b.node.classList.contains(a.config.classNames.uneditableContainer)){if(f.fixLastBrDeletionInTable(a,!0))return!0;try{var e=new CustomEvent("wysihtml5:uneditable:delete",{bubbles:!0,cancelable:!1});b.node.dispatchEvent(e)}catch(g){}b.node.parentNode.removeChild(b.node);return!0}return!1},
fixDeleteInTheBeginningOfBlock:function(b){var f=b.selection,g=f.getPreviousNode();if(f.caretIsFirstInSelection(a.browser.usesControlRanges())&&g&&1===g.nodeType&&a.dom.domNode(g).is.block()&&!e(g).test({query:"ol, ul, table, tr, dl"})){if(/^\s*$/.test(g.textContent||g.innerText))return g.parentNode.removeChild(g),!0;if(g.lastChild){var h=g.lastChild,k=f.getSelectedNode(),l=e(g).commonAncestor(k,b.element);if(b=a.dom.getParentElement(k,{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},!1,
l||b.element))return e(b).transferContentTo(g,!0),f.setAfter(h),!0;if(a.browser.usesControlRanges())return k=f.getCaretNode(),e(k).transferContentTo(g,!0),f.setAfter(h),!0}}return!1},fixDeleteInTheBeginningOfLi:function(b){if(a.browser.hasLiDeletingProblem()){var f=b.selection.getSelection(),g=f.anchorNode,h;h=b.selection.caretIsFirstInSelection();3===g.nodeType&&0===f.anchorOffset&&g===g.parentNode.firstChild&&(g=g.parentNode,h=!0);if(h&&g&&1===g.nodeType&&"LI"===g.nodeName&&((f=e(g).prev({nodeTypes:[1,
3],ignoreBlankTexts:!0}))||!g.parentNode||"UL"!==g.parentNode.nodeName&&"OL"!==g.parentNode.nodeName||(f=e(g.parentNode).prev({nodeTypes:[1,3],ignoreBlankTexts:!0})),f))return h=g.firstChild,e(g).transferContentTo(f,!0),h?b.selection.setBefore(h):f&&(1===f.nodeType?f.lastChild?b.selection.setAfter(f.lastChild):b.selection.selectNode(f):b.selection.setAfter(f)),!0}return!1},fixDeleteInTheBeginningOfControlSelection:function(a){var b=a.selection,f=b.getPreviousNode(),g=b.getSelectedNode();return b.caretIsFirstInSelection()?
(3===g.nodeType&&(g=g.parentNode),b=g.firstChild,e(g).transferContentTo(f,!0),b&&a.selection.setBefore(b),!0):!1},initTableHandling:function(){var b=function(){window.removeEventListener("load",b);this.doc.execCommand("enableObjectResizing",!1,"false");this.doc.execCommand("enableInlineTableEditing",!1,"false")}.bind(this),e=function(){b.call(this);f.removeListeners(this.sandbox.getIframe(),["focus","mouseup","mouseover"],e)}.bind(this);this.doc.execCommand&&a.browser.supportsCommand(this.doc,"enableObjectResizing")&&
a.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?f.addListeners(this.sandbox.getIframe(),["focus","mouseup","mouseover"],e):window.addEventListener("load",b));this.tableSelection=a.quirks.tableCellsSelection(this.element,this.parent)},doLineBreaksModeEnterWithCaret:function(b){var f,g,k=!1;if(f=b.selection.getNodesNearCaret()){if(f.caretNode||f.nextNode)g=h.getParentElement(f.caretNode||f.nextNode,{query:"p, pre, div, blockquote"},2),g===b.element&&(g=void 0);
if(g&&f.caretNode)if(e(f.caretNode).is.lineBreak()){if(b.config.doubleLineBreakEscapesBlock){k=!0;f.caretNode.parentNode.removeChild(f.caretNode);e(f.nextNode).is.lineBreak()&&f.nextNode.parentNode.removeChild(f.nextNode);var l=b.doc.createElement("br");e(f.nextNode).is.lineBreak()&&f.nextNode===g.lastChild?g.parentNode.insertBefore(l,g.nextSibling):b.selection.splitElementAtCaret(g,l);f.nextNode&&3===f.nextNode.nodeType&&(f.nextNode.data=f.nextNode.data.replace(/^ *[\r\n]+/,""));b.selection.setBefore(l)}}else 3===
f.caretNode.nodeType&&a.browser.hasCaretBlockElementIssue()&&f.textOffset===f.caretNode.data.length&&!f.nextNode&&(k=!0,f=b.doc.createElement("br"),g=b.doc.createElement("br"),l=b.doc.createDocumentFragment(),l.appendChild(f),l.appendChild(g),b.selection.insertNode(l),b.selection.setBefore(g))}return k}},l=function(b,e){var g=e.selection;g.isCollapsed()?f.handleUneditableDeletion(e)?b.preventDefault():f.fixDeleteInTheBeginningOfLi(e)?b.preventDefault():f.fixDeleteInTheBeginningOfBlock(e)?b.preventDefault():
f.fixLastBrDeletionInTable(e)?b.preventDefault():a.browser.usesControlRanges()&&f.fixDeleteInTheBeginningOfControlSelection(e)&&b.preventDefault():g.containsUneditable()&&(b.preventDefault(),g.deleteContents())},k=function(a,b){!b.config.useLineBreaks||a.shiftKey||a.ctrlKey||b.selection.isCollapsed()&&f.doLineBreaksModeEnterWithCaret(b)&&a.preventDefault()},n=function(a,b,e){if(!a.selection.isCollapsed())a.selection.deleteContents();else if(a.selection.caretIsInTheBeginnig("li"))if(e){if(a.commands.exec("outdentList"))return}else if(a.commands.exec("indentList"))return;
a.commands.exec("insertHTML","&emsp;")},m=function(a){this.domNodeRemovedInterval&&clearInterval(domNodeRemovedInterval);this.parent.fire("destroy:composer")},p=function(a){this.parent.fire("beforeinteraction",a).fire("beforeinteraction:composer",a);setTimeout(function(){this.parent.fire("interaction",a).fire("interaction:composer",a)}.bind(this),0)},q=function(a){this.parent.fire("focus",a).fire("focus:composer",a);setTimeout(function(){this.focusState=this.getValue(!1,!1)}.bind(this),0)},r=function(a){if(this.focusState!==
this.getValue(!1,!1)){var b=a;"function"==typeof Object.create&&(b=Object.create(a,{type:{value:"change"}}));this.parent.fire("change",b).fire("change:composer",b)}this.parent.fire("blur",a).fire("blur:composer",a)},t=function(a){this.parent.fire(a.type,a).fire(a.type+":composer",a);"paste"===a.type&&setTimeout(function(){this.parent.fire("newword:composer")}.bind(this),0)},u=function(b){this.config.copyedFromMarking&&(a.browser.supportsModernPaste()&&(b.clipboardData.setData("text/html",this.config.copyedFromMarking+
this.selection.getHtml()),b.clipboardData.setData("text/plain",this.selection.getPlainText()),b.preventDefault()),this.parent.fire(b.type,b).fire(b.type+":composer",b))},y=function(b){b=b.keyCode;b!==a.SPACE_KEY&&b!==a.ENTER_KEY||this.parent.fire("newword:composer")},x=function(e){if(!b.canSelectImagesInContentEditable()){var f=e.target,g=this.element.querySelectorAll("img"),h=this.element.querySelectorAll("."+this.config.classNames.uneditableContainer+" img"),g=a.lang.array(g).without(h);"IMG"===
f.nodeName&&a.lang.array(g).contains(f)&&this.selection.selectNode(f)}a.browser.usesControlRanges()&&(this.selection.lastMouseDownPos={x:e.clientX,y:e.clientY},setTimeout(function(){delete this.selection.lastMouseDownPos}.bind(this),0))},z=function(a){var b=this.selection.lastMouseDownPos;if(b){var e=document.body.createTextRange();setTimeout(function(){try{e.moveToPoint(b.x,b.y),e.select()}catch(a){}}.bind(this),0)}},B=function(b){this.config.classNames.uneditableContainer&&(b=a.dom.getParentElement(b.target,
{query:"."+this.config.classNames.uneditableContainer},!1,this.element))&&this.selection.setAfter(b)},D=function(a){b.canSelectImagesInContentEditable()||setTimeout(function(){this.selection.getSelection().removeAllRanges()}.bind(this),0)},w=function(b){var e=b.keyCode,f=g[e],h;!b.ctrlKey&&!b.metaKey||b.altKey||65!==e?((b.ctrlKey||b.metaKey)&&!b.altKey&&f&&(this.commands.exec(f),b.preventDefault()),e===a.BACKSPACE_KEY&&l(b,this),(e===a.BACKSPACE_KEY||e===a.DELETE_KEY)&&(f=this.selection.getSelectedNode(!0))&&
"IMG"===f.nodeName&&(b.preventDefault(),h=f.parentNode,h.removeChild(f),"A"!==h.nodeName||h.firstChild||h.parentNode.removeChild(h),setTimeout(function(){a.quirks.redraw(this.element)}.bind(this),0)),this.config.handleTabKey&&e===a.TAB_KEY&&(b.preventDefault(),n(this,this.element,b.shiftKey)),e===a.ENTER_KEY&&k(b,this)):(this.selection.selectAll(),b.preventDefault())};a.views.Composer.prototype.observeActions=f;a.views.Composer.prototype.observe=function(){var e=this.sandbox.getIframe?this.sandbox.getIframe():
this.sandbox.getContentEditable(),g=b.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?this.element:this.sandbox.getWindow();this.focusState=this.getValue(!1,!1);e.addEventListener(["DOMNodeRemoved"],m.bind(this),!1);b.supportsMutationEvents()||(this.domNodeRemovedInterval=setInterval(function(){h.contains(document.documentElement,e)||m.call(this)},250));this.config.handleTables&&f.initTableHandling.call(this);f.addListeners(g,["drop","paste","mouseup","focus","keyup"],p.bind(this));
g.addEventListener("focus",q.bind(this),!1);g.addEventListener("blur",r.bind(this),!1);f.addListeners(this.element,["drop","paste","beforepaste"],t.bind(this),!1);this.element.addEventListener("copy",u.bind(this),!1);this.element.addEventListener("mousedown",x.bind(this),!1);this.element.addEventListener("click",B.bind(this),!1);this.element.addEventListener("drop",D.bind(this),!1);this.element.addEventListener("keyup",y.bind(this),!1);this.element.addEventListener("keydown",w.bind(this),!1);a.browser.usesControlRanges()&&
this.element.addEventListener("mscontrolselect",z.bind(this),!1);this.element.addEventListener("dragenter",function(){this.parent.fire("unset_placeholder")}.bind(this),!1)}})(wysihtml5);
(function(a){a.views.Synchronizer=Base.extend({constructor:function(a,e,b){this.editor=a;this.textarea=e;this.composer=b;this._observe()},fromComposerToTextarea:function(h){this.textarea.setValue(a.lang.string(this.composer.getValue(!1,!1)).trim(),h)},fromTextareaToComposer:function(a){var e=this.textarea.getValue(!1,!1);e?this.composer.setValue(e,a):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(a){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(a):
this.fromComposerToTextarea(a)},_observe:function(){var h,e=this,b=this.textarea.element.form,g=function(){h=setInterval(function(){e.fromComposerToTextarea()},400)},f=function(){clearInterval(h);h=null};g();b&&(a.dom.observe(b,"submit",function(){e.sync(!0)}),a.dom.observe(b,"reset",function(){setTimeout(function(){e.fromTextareaToComposer()},0)}));this.editor.on("change_view",function(a){"composer"!==a||h?"textarea"===a&&(e.fromComposerToTextarea(!0),f()):(e.fromTextareaToComposer(!0),g())});this.editor.on("destroy:composer",
f)}})})(wysihtml5);
(function(a){a.views.SourceView=Base.extend({constructor:function(a,e){this.editor=a;this.composer=e;this._observe()},switchToTextarea:function(a){var e=this.composer.win.getComputedStyle(this.composer.element),b=parseFloat(e.width),e=Math.max(parseFloat(e.height),100);this.textarea||(this.textarea=this.composer.doc.createElement("textarea"),this.textarea.className="wysihtml5-source-view");this.textarea.style.width=b+"px";this.textarea.style.height=e+"px";this.textarea.value=this.editor.getValue(a,!0);
this.composer.element.parentNode.insertBefore(this.textarea,this.composer.element);this.editor.currentView="source";this.composer.element.style.display="none"},switchToComposer:function(a){var e=this.textarea.value;e?this.composer.setValue(e,a):(this.composer.clear(),this.editor.fire("set_placeholder"));this.textarea.parentNode.removeChild(this.textarea);this.editor.currentView=this.composer;this.composer.element.style.display=""},_observe:function(){this.editor.on("change_view",function(a){"composer"===
a?this.switchToComposer(!0):"textarea"===a&&this.switchToTextarea(!0)}.bind(this))}})})(wysihtml5);
wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(a,h,e){this.base(a,h,e);this._observe()},clear:function(){this.element.value=""},getValue:function(a){var h=this.isEmpty()?"":this.element.value;!1!==a&&(h=this.parent.parse(h));return h},setValue:function(a,h){!1!==h&&(a=this.parent.parse(a));this.element.value=a},cleanUp:function(a){a=this.parent.parse(this.element.value,void 0,a);this.element.value=a},hasPlaceholderSet:function(){var a=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),
h=this.element.getAttribute("placeholder")||null,e=this.element.value;return a&&!e||e===h},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var a=this.element,h=this.parent,e={focusin:"focus",focusout:"blur"},b=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];h.on("beforeload",function(){wysihtml5.dom.observe(a,b,function(a){a=e[a.type]||a.type;h.fire(a).fire(a+":textarea")});
wysihtml5.dom.observe(a,["paste","drop"],function(){setTimeout(function(){h.fire("paste").fire("paste:textarea")},0)})})}});
(function(a){var h={name:void 0,style:!0,toolbar:void 0,showToolbarAfterInit:!0,showToolbarDialogsOnSelection:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{},b:{},i:{},u:{}},classes:{}},pasteParserRulesets:null,parser:a.dom.parse,useLineBreaks:!0,doubleLineBreakEscapesBlock:!0,stylesheets:[],placeholderText:void 0,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,classNames:{composer:"wysihtml5-editor",body:"wysihtml5-supported",sandbox:"wysihtml5-sandbox",
placeholder:"wysihtml5-placeholder",uneditableContainer:"wysihtml5-uneditable-container"},copyedFromMarking:'<meta name="copied-from" content="wysihtml5">'};a.Editor=a.lang.Dispatcher.extend({constructor:function(e,b){this.editableElement="string"===typeof e?document.getElementById(e):e;this.config=a.lang.object({}).merge(h).merge(b).get();this._isCompatible=a.browser.supported();b&&b.classNames&&a.lang.object(this.config.classNames).merge(b.classNames);"textarea"!=this.editableElement.nodeName.toLowerCase()&&
(this.config.contentEditableMode=!0,this.config.noTextarea=!0);this.config.noTextarea||(this.currentView=this.textarea=new a.views.Textarea(this,this.editableElement,this.config));if(!this._isCompatible||!this.config.supportTouchDevices&&a.browser.isTouchDevice()){var g=this;setTimeout(function(){g.fire("beforeload").fire("load")},0)}else a.dom.addClass(document.body,this.config.classNames.body),this.currentView=this.composer=new a.views.Composer(this,this.editableElement,this.config),"function"===
typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea?this.sourceView=new a.views.SourceView(this,this.composer):this.synchronizer=new a.views.Synchronizer(this,this.textarea,this.composer);this.config.toolbar&&(this.toolbar=new a.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){this.currentView.clear();return this},
getValue:function(a,b){return this.currentView.getValue(a,b)},setValue:function(a,b){this.fire("unset_placeholder");if(!a)return this.clear();this.currentView.setValue(a,b);return this},cleanUp:function(a){this.currentView.cleanUp(a)},focus:function(a){this.currentView.focus(a);return this},disable:function(){this.currentView.disable();return this},enable:function(){this.currentView.enable();return this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},
destroy:function(){this.composer&&this.composer.sandbox&&this.composer.sandbox.destroy();this.toolbar&&this.toolbar.destroy();this.off()},parse:function(e,b,g){var f=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null;b=this.config.parser(e,{rules:g||this.config.parserRules,cleanUp:this.config.cleanUp,context:f,uneditableClass:this.config.classNames.uneditableContainer,clearInternals:b});"object"===typeof e&&a.quirks.redraw(e);return b},_initParser:function(){var e;
if(a.browser.supportsModernPaste())this.on("paste:composer",function(b){b.preventDefault();(e=a.dom.getPastedHtml(b))&&this._cleanAndPaste(e)}.bind(this));else this.on("beforepaste:composer",function(b){b.preventDefault();var e=this.composer.getScrollPos();a.dom.getPastedHtmlWithDiv(this.composer,function(a){a&&this._cleanAndPaste(a);this.composer.setScrollPos(e)}.bind(this))}.bind(this))},_cleanAndPaste:function(e){e=a.quirks.cleanPastedHTML(e,{referenceNode:this.composer.element,rules:this.config.pasteParserRulesets||
[{set:this.config.parserRules}],uneditableClass:this.config.classNames.uneditableContainer});this.composer.selection.deleteContents();this.composer.selection.insertHTML(e)}})})(wysihtml5);/*
 wysihtml v0.5.5
 https://github.com/Voog/wysihtml

 Author: Christopher Blum (https://github.com/tiff)
 Secondary author of extended features: Oliver Pulges (https://github.com/pulges)

 Copyright (C) 2012 XING AG
 Licensed under the MIT license (MIT)

*/
wysihtml5={version:"0.5.5",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",INVISIBLE_SPACE_REG_EXP:/\uFEFF/g,VOID_ELEMENTS:"area, base, br, col, embed, hr, img, input, keygen, link, meta, param, source, track, wbr",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,TAB_KEY:9,DELETE_KEY:46,polyfills:function(a,h){String.prototype.trim||function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=
function(){return this.replace(a,"")}}();(function(){h.addEventListener||(a.Element.prototype.addEventListener=a.addEventListener=h.addEventListener=function(b,e,f){return(f=this).attachEvent("on"+b,function(b){b=b||a.event;b.target=b.target||b.srcElement;b.preventDefault=b.preventDefault||function(){b.returnValue=!1};b.stopPropagation=b.stopPropagation||function(){b.cancelBubble=!0};b.which=b.button?2===b.button?3:4===b.button?2:b.button:b.keyCode;e.call(f,b)})},a.Element.prototype.removeEventListener=
a.removeEventListener=h.removeEventListener=function(a,b){return this.detachEvent("on"+a,b)})})();Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(a.Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(a.Element.prototype,"textContent").get&&function(){var b=Object.getOwnPropertyDescriptor(a.Element.prototype,"innerText");Object.defineProperty(a.Element.prototype,"textContent",{get:function(){return b.get.call(this)},set:function(a){return b.set.call(this,
a)}})}();Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var e=this.length,f=-1,g=b>>>0;~(e-g);f=this[--e]===a?e:f);return f});Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),e=this,f=function(){},g=
function(){return e.apply(this instanceof f&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};f.prototype=this.prototype;g.prototype=new f;return g});(function(a){a.matches=a.matches||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var b=0;a[b]&&a[b]!==this;)++b;return a[b]?!0:!1};a.closest=a.closest||function(a){for(var b=this;b&&!b.matches(a);)b=b.parentElement;return b}})(Element.prototype);
"document"in a&&("classList"in h.createElement("_")?"DOMTokenList"in a&&function(){var b=h.createElement("_");b.classList.add("c1","c2");if(!b.classList.contains("c2")){var e=function(b){var e=a.DOMTokenList.prototype[b];a.DOMTokenList.prototype[b]=function(a){var b,f=arguments.length;for(b=0;b<f;b++)a=arguments[b],e.call(this,a)}};e("add");e("remove")}b.classList.toggle("c3",!1);if(b.classList.contains("c3")){var f=a.DOMTokenList.prototype.toggle;a.DOMTokenList.prototype.toggle=function(a,b){return 1 in
arguments&&!this.contains(a)===!b?b:f.call(this,a)}}b=null}():function(a){if("Element"in a){a=a.Element.prototype;var b=Object,e=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},f=Array.prototype.indexOf||function(a){for(var b=0,e=this.length;b<e;b++)if(b in this&&this[b]===a)return b;return-1},g=function(a,b){this.name=a;this.code=DOMException[a];this.message=b},h=function(a,b){if(""===b)throw new g("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new g("INVALID_CHARACTER_ERR",
"String contains an invalid character");return f.call(a,b)},r=function(a){for(var b=e.call(a.getAttribute("class")||""),b=b?b.split(/\s+/):[],f=0,g=b.length;f<g;f++)this.push(b[f]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},t=r.prototype=[],u=function(){return new r(this)};g.prototype=Error.prototype;t.item=function(a){return this[a]||null};t.contains=function(a){return-1!==h(this,a+"")};t.add=function(){var a=arguments,b=0,e=a.length,f,g=!1;do f=a[b]+"",-1===h(this,
f)&&(this.push(f),g=!0);while(++b<e);g&&this._updateClassName()};t.remove=function(){var a=arguments,b=0,e=a.length,f,g=!1,k;do for(f=a[b]+"",k=h(this,f);-1!==k;)this.splice(k,1),g=!0,k=h(this,f);while(++b<e);g&&this._updateClassName()};t.toggle=function(a,b){a+="";var e=this.contains(a),f=e?!0!==b&&"remove":!1!==b&&"add";if(f)this[f](a);return!0===b||!1===b?b:!e};t.toString=function(){return this.join(" ")};if(b.defineProperty){t={get:u,enumerable:!0,configurable:!0};try{b.defineProperty(a,"classList",
t)}catch(y){-2146823252===y.number&&(t.enumerable=!1,b.defineProperty(a,"classList",t))}}else b.prototype.__defineGetter__&&a.__defineGetter__("classList",u)}}(a));var e=function(a){var b=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?b.push(a):b=b.concat(e(a));return b},b=function(){Node.prototype.normalize=function(){var a=e(this),b=this.ownerDocument.defaultView.getSelection(),f=b.anchorNode,g=b.anchorOffset,h=f&&1===f.nodeType&&0<f.childNodes.length?f.childNodes[g]:void 0,q=b.focusNode,
r=b.focusOffset,t=q&&1===q.nodeType&&0<r?q.childNodes[r-1]:void 0,u=this.ownerDocument.createRange(),y=a.shift(),x=y?a.shift():null;t&&3===t.nodeType&&(q=t,r=t.nodeValue.length,t=void 0);h&&3===h.nodeType&&(f=h,g=0,h=void 0);if(f===q&&r<g||f!==q&&f.compareDocumentPosition(q)&Node.DOCUMENT_POSITION_PRECEDING&&!(f.compareDocumentPosition(q)&Node.DOCUMENT_POSITION_CONTAINS))q=[f,f=q][0],r=[g,g=r][0];for(;y&&x;)x.previousSibling&&x.previousSibling===y?(f===x&&(f=y,g=y.nodeValue.length+g),q===x&&(q=y,
r=y.nodeValue.length+r),y.nodeValue+=x.nodeValue,x.parentNode.removeChild(x)):y=x,x=a.shift();t&&(r=Array.prototype.indexOf.call(t.parentNode.childNodes,t)+1);h&&(g=Array.prototype.indexOf.call(h.parentNode.childNodes,h));a:{a=this.ownerDocument;h=this;do{if(h===a){a=!0;break a}h=h.parentNode}while(h);a=!1}a&&f&&f.parentNode&&q&&q.parentNode&&(u.setStart(f,g),u.setEnd(q,r),b.removeAllRanges(),b.addRange(u))}},g=function(){window.removeEventListener("load",g);var a;if(a="Node"in window&&"normalize"in
Node.prototype)if("createRange"in document&&"getSelection"in window){a=document.createElement("div");var e=document.createTextNode("a"),f=document.createTextNode("a"),h=document.createTextNode("a"),p=document.createRange();a.setAttribute("contenteditable","true");a.appendChild(e);a.appendChild(f);a.appendChild(h);document.body.appendChild(a);p.setStart(f,1);p.setEnd(f,1);e=window.getSelection();e.removeAllRanges();e.addRange(p);a.normalize();e=window.getSelection();p=1!==a.childNodes.length||e.anchorNode!==
a.firstChild||2!==e.anchorOffset;a.parentNode.removeChild(a);e.removeAllRanges();a=p}else a=void 0;a&&b()};"complete"!==h.readyState?window.addEventListener("load",g):g();var f=function(){try{var a=new CustomEvent("cat",{detail:{foo:"bar"}});return"cat"===a.type&&"bar"===a.detail.foo}catch(b){}return!1}();(function(){if(!f&&"CustomEvent"in window){var b=function(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var e=h.createEvent("CustomEvent");e.initCustomEvent(a,b.bubbles,b.cancelable,b.detail);
return e};b.prototype=a.Event.prototype;a.CustomEvent=b;f=!0}})()}};wysihtml5.polyfills(window,document);
(function(a,h){"function"==typeof define&&define.amd?define(a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a():h.rangy=a()})(function(){function a(a,b){var e=typeof a[b];return"function"==e||!("object"!=e||!a[b])||"unknown"==e}function h(a,b){return!("object"!=typeof a[b]||!a[b])}function e(a,b){return"undefined"!=typeof a[b]}function b(a){return function(b,e){for(var f=e.length;f--;)if(!a(b,e[f]))return!1;return!0}}function g(a){return a&&D(a,B)&&A(a,z)}function f(a){return h(a,
"body")?a.body:a.getElementsByTagName("body")[0]}function l(b){"undefined"!=typeof console&&a(console,"log")&&console.log(b)}function k(a){G.initialized=!0;G.supported=!1;a="Rangy is not supported in this environment. Reason: "+a;E&&G.config.alertOnFail?alert(a):l(a)}function n(){if(E&&!G.initialized){var b,e=!1,h=!1;a(document,"createRange")&&(b=document.createRange(),D(b,x)&&A(b,y)&&(e=!0));if((b=f(document))&&"body"==b.nodeName.toLowerCase())if(b&&a(b,"createTextRange")&&(b=b.createTextRange(),
g(b)&&(h=!0)),e||h){G.initialized=!0;G.features={implementsDomRange:e,implementsTextRange:h};var m,n;for(n in C)(m=C[n])instanceof r&&m.init(m,G);h=0;for(m=M.length;h<m;++h)try{M[h](G)}catch(p){e="Rangy init listener threw an exception. Continuing. Detail: "+(p.message||p.description||String(p)),l(e)}}else k("Neither Range nor TextRange are available");else k("No body element found")}}function m(a,b,e){e&&(a+=" in module "+e.name);G.warn("DEPRECATED: "+a+" is deprecated. Please use "+b+" instead.")}
function p(a,b,e,f){a[b]=function(){m(b,e,f);return a[e].apply(a,H.toArray(arguments))}}function q(a){a=a||window;n();for(var b=0,e=L.length;b<e;++b)L[b](a)}function r(a,b,e){this.name=a;this.dependencies=b;this.supported=this.initialized=!1;this.initializer=e}function t(a,b,e){b=new r(a,b,function(b){if(!b.initialized){b.initialized=!0;try{e(G,b),b.supported=!0}catch(f){l("Module '"+a+"' failed to load: "+(f.message||f.description||String(f))),f.stack&&l(f.stack)}}});return C[a]=b}function u(){}
var y="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" "),x="setStart setStartBefore setStartAfter setEnd setEndBefore setEndAfter collapse selectNode selectNodeContents compareBoundaryPoints deleteContents extractContents cloneContents insertNode surroundContents cloneRange toString detach".split(" "),z="boundingHeight boundingLeft boundingTop boundingWidth htmlText text".split(" "),B="collapse compareEndPoints duplicate moveToElementText parentElement select setEndPoint getBoundingClientRect".split(" "),
D=b(a),w=b(h),A=b(e),C={},E="undefined"!=typeof window&&"undefined"!=typeof document,H={isHostMethod:a,isHostObject:h,isHostProperty:e,areHostMethods:D,areHostObjects:w,areHostProperties:A,isTextRange:g,getBody:f,forEach:[].forEach?function(a,b){a.forEach(b)}:function(a,b){for(var e=0,f=a.length;e<f;++e)b(a[e],e)}},G={version:"1.3.0",initialized:!1,isBrowser:E,supported:!0,util:H,features:{},modules:C,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:"undefined"==typeof rangyAutoInitialize?
!0:rangyAutoInitialize}};G.fail=k;G.warn=function(a){a="Rangy warning: "+a;E&&G.config.alertOnWarn?alert(a):l(a)};var O;({}).hasOwnProperty?(H.extend=O=function(a,b,e){var f,g,h;for(h in b)b.hasOwnProperty(h)&&(f=a[h],g=b[h],e&&null!==f&&"object"==typeof f&&null!==g&&"object"==typeof g&&O(f,g,!0),a[h]=g);b.hasOwnProperty("toString")&&(a.toString=b.toString);return a},H.createOptions=function(a,b){var e={};O(e,b);a&&O(e,a);return e}):k("hasOwnProperty not supported");E||k("Rangy can only run in a browser");
(function(){var a;if(E){var b=document.createElement("div");b.appendChild(document.createElement("span"));var e=[].slice;try{1==e.call(b.childNodes,0)[0].nodeType&&(a=function(a){return e.call(a,0)})}catch(f){}}a||(a=function(a){for(var b=[],e=0,f=a.length;e<f;++e)b[e]=a[e];return b});H.toArray=a})();var J;E&&(a(document,"addEventListener")?J=function(a,b,e){a.addEventListener(b,e,!1)}:a(document,"attachEvent")?J=function(a,b,e){a.attachEvent("on"+b,e)}:k("Document does not have required addEventListener or attachEvent method"),
H.addListener=J);var M=[];H.deprecationNotice=m;H.createAliasForDeprecatedMethod=p;G.init=n;G.addInitListener=function(a){G.initialized?a(G):M.push(a)};var L=[];G.addShimListener=function(a){L.push(a)};E&&(G.shim=G.createMissingNativeApi=q,p(G,"createMissingNativeApi","shim"));r.prototype={init:function(){for(var a=this.dependencies||[],b=0,e=a.length,f,g;b<e;++b){g=a[b];f=C[g];if(!(f&&f instanceof r))throw Error("required module '"+g+"' not found");f.init();if(!f.supported)throw Error("required module '"+
g+"' not supported");}this.initializer(this)},fail:function(a){this.initialized=!0;this.supported=!1;throw Error(a);},warn:function(a){G.warn("Module "+this.name+": "+a)},deprecationNotice:function(a,b){G.warn("DEPRECATED: "+a+" in module "+this.name+" is deprecated. Please use "+b+" instead")},createError:function(a){return Error("Error in Rangy "+this.name+" module: "+a)}};G.createModule=function(a){var b,e;2==arguments.length?(b=arguments[1],e=[]):(b=arguments[2],e=arguments[1]);b=t(a,e,b);G.initialized&&
G.supported&&b.init()};G.createCoreModule=function(a,b,e){t(a,b,e)};G.RangePrototype=u;G.rangePrototype=new u;G.selectionPrototype=new function(){};G.createCoreModule("DomUtil",[],function(a,b){function e(a){for(var b=0;a=a.previousSibling;)++b;return b}function f(a,b){var e=[],g;for(g=a;g;g=g.parentNode)e.push(g);for(g=b;g;g=g.parentNode)if(y(e,g))return g;return null}function g(a,b,e){for(b=e?b:b.parentNode;b;){if(b===a)return!0;b=b.parentNode}return!1}function h(a,b,e){for(e=e?a:a.parentNode;e;){a=
e.parentNode;if(a===b)return e;e=a}return null}function k(a){a=a.nodeType;return 3==a||4==a||8==a}function l(a,b){var e=b.nextSibling,f=b.parentNode;e?f.insertBefore(a,e):f.appendChild(a);return a}function m(a){if(9==a.nodeType)return a;if("undefined"!=typeof a.ownerDocument)return a.ownerDocument;if("undefined"!=typeof a.document)return a.document;if(a.parentNode)return m(a.parentNode);throw b.createError("getDocument: no document found for node");}function n(a){a=m(a);if("undefined"!=typeof a.defaultView)return a.defaultView;
if("undefined"!=typeof a.parentWindow)return a.parentWindow;throw b.createError("Cannot get a window object for node");}function r(a){if("undefined"!=typeof a.contentDocument)return a.contentDocument;if("undefined"!=typeof a.contentWindow)return a.contentWindow.document;throw b.createError("getIframeDocument: No Document object found for iframe element");}function p(a){return a&&E.isHostMethod(a,"setTimeout")&&E.isHostObject(a,"document")}function q(a){return a?k(a)?'"'+a.data+'"':1==a.nodeType?"<"+
a.nodeName+(a.id?' id="'+a.id+'"':"")+">[index:"+e(a)+",length:"+a.childNodes.length+"]["+(a.innerHTML||"[innerHTML not supported]").slice(0,25)+"]":a.nodeName:"[No node]"}function w(a){this._next=this.root=a}function A(a,b){this.node=a;this.offset=b}function t(a){this.code=this[a];this.codeName=a;this.message="DOMException: "+this.codeName}var E=a.util,u=E.getBody;E.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||b.fail("document missing a Node creation method");
E.isHostMethod(document,"getElementsByTagName")||b.fail("document missing getElementsByTagName method");var C=document.createElement("div");E.areHostMethods(C,["insertBefore","appendChild","cloneNode"])||b.fail("Incomplete Element implementation");E.isHostProperty(C,"innerHTML")||b.fail("Element is missing innerHTML property");C=document.createTextNode("test");E.areHostMethods(C,["splitText","deleteData","insertData","appendData","cloneNode"])||b.fail("Incomplete Text Node implementation");var y=
function(a,b){for(var e=a.length;e--;)if(a[e]===b)return!0;return!1},x=!1;(function(){var b=document.createElement("b");b.innerHTML="1";b.innerHTML="<br />";x=!1;a.features.crashyTextNodes=x})();var z;"undefined"!=typeof window.getComputedStyle?z=function(a,b){return n(a).getComputedStyle(a,null)[b]}:"undefined"!=typeof document.documentElement.currentStyle?z=function(a,b){return a.currentStyle?a.currentStyle[b]:""}:b.fail("No means of obtaining computed style properties found");w.prototype={_current:null,
hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next,b;if(this._current){b=a.firstChild;if(!b)for(b=null;a!==this.root&&!(b=a.nextSibling);)a=a.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=null}};A.prototype={equals:function(a){return!!a&&this.node===a.node&&this.offset==a.offset},inspect:function(){return"[DomPosition("+q(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}};t.prototype=
{INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24};t.prototype.toString=function(){return this.message};a.dom={arrayContains:y,isHtmlNamespace:function(a){var b;return"undefined"==typeof a.namespaceURI||null===(b=a.namespaceURI)||"http://www.w3.org/1999/xhtml"==b},parentElement:function(a){a=a.parentNode;return 1==a.nodeType?a:null},getNodeIndex:e,getNodeLength:function(a){switch(a.nodeType){case 7:case 10:return 0;
case 3:case 8:return a.length;default:return a.childNodes.length}},getCommonAncestor:f,isAncestorOf:g,isOrIsAncestorOf:function(a,b){return g(a,b,!0)},getClosestAncestorIn:h,isCharacterDataNode:k,isTextOrCommentNode:function(a){if(!a)return!1;a=a.nodeType;return 3==a||8==a},insertAfter:l,splitDataNode:function(a,b,f){var g=a.cloneNode(!1);g.deleteData(0,b);a.deleteData(b,a.length-b);l(g,a);if(f)for(var h=0,k;k=f[h++];)k.node==a&&k.offset>b?(k.node=g,k.offset-=b):k.node==a.parentNode&&k.offset>e(a)&&
++k.offset;return g},getDocument:m,getWindow:n,getIframeWindow:function(a){if("undefined"!=typeof a.contentWindow)return a.contentWindow;if("undefined"!=typeof a.contentDocument)return a.contentDocument.defaultView;throw b.createError("getIframeWindow: No Window object found for iframe element");},getIframeDocument:r,getBody:u,isWindow:p,getContentDocument:function(a,b,e){var f;a?E.isHostProperty(a,"nodeType")?f=1==a.nodeType&&"iframe"==a.tagName.toLowerCase()?r(a):m(a):p(a)&&(f=a.document):f=document;
if(!f)throw b.createError(e+"(): Parameter must be a Window object or DOM node");return f},getRootContainer:function(a){for(var b;b=a.parentNode;)a=b;return a},comparePoints:function(a,g,k,l){var m;if(a==k)return g===l?0:g<l?-1:1;if(m=h(k,a,!0))return g<=e(m)?-1:1;if(m=h(a,k,!0))return e(m)<l?-1:1;g=f(a,k);if(!g)throw Error("comparePoints error: nodes have no common ancestor");a=a===g?g:h(a,g,!0);k=k===g?g:h(k,g,!0);if(a===k)throw b.createError("comparePoints got to case 4 and childA and childB are the same!");
for(g=g.firstChild;g;){if(g===a)return-1;if(g===k)return 1;g=g.nextSibling}},isBrokenNode:function(a){return!1},inspectNode:q,getComputedStyleProperty:z,createTestElement:function(a,b,e){var f=u(a);a=a.createElement("div");a.contentEditable=""+!!e;b&&(a.innerHTML=b);(b=f.firstChild)?f.insertBefore(a,b):f.appendChild(a);return a},removeNode:function(a){return a.parentNode.removeChild(a)},fragmentFromNodeChildren:function(a){for(var b=m(a).createDocumentFragment(),e;e=a.firstChild;)b.appendChild(e);
return b},createIterator:function(a){return new w(a)},DomPosition:A};a.DOMException=t});G.createCoreModule("DomRange",["DomUtil"],function(a,b){function e(a,b){return 3!=a.nodeType&&(Q(a,b.startContainer)||Q(a,b.endContainer))}function f(a){return a.document||va(a.startContainer)}function g(a){return new ka(a.parentNode,wa(a))}function h(a){return new ka(a.parentNode,wa(a)+1)}function k(a,b,e){var f=11==a.nodeType?a.firstChild:a;ea(b)?e==b.length?X.insertAfter(a,b):b.parentNode.insertBefore(a,0==
e?b:ba(b,e)):e>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[e]);return f}function l(a,b,e){H(a);H(b);if(f(b)!=f(a))throw new ga("WRONG_DOCUMENT_ERR");var g=fa(a.startContainer,a.startOffset,b.endContainer,b.endOffset);a=fa(a.endContainer,a.endOffset,b.startContainer,b.startOffset);return e?0>=g&&0<=a:0>g&&0<a}function m(a){for(var b,e,g=f(a.range).createDocumentFragment();e=a.next();){b=a.isPartiallySelectedSubtree();e=e.cloneNode(!b);b&&(b=a.getSubtreeIterator(),e.appendChild(m(b)),
b.detach());if(10==e.nodeType)throw new ga("HIERARCHY_REQUEST_ERR");g.appendChild(e)}return g}function n(a,b,e){var f,g;for(e=e||{stop:!1};f=a.next();)if(a.isPartiallySelectedSubtree())if(!1===b(f)){e.stop=!0;break}else{if(f=a.getSubtreeIterator(),n(f,b,e),f.detach(),e.stop)break}else for(f=X.createIterator(f);g=f.next();)if(!1===b(g)){e.stop=!0;return}}function r(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),r(b),b.detach()):a.remove()}function p(a){for(var b,e=
f(a.range).createDocumentFragment(),g;b=a.next();){a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),g=a.getSubtreeIterator(),b.appendChild(p(g)),g.detach()):a.remove();if(10==b.nodeType)throw new ga("HIERARCHY_REQUEST_ERR");e.appendChild(b)}return e}function q(a,b,e){var f=!(!b||!b.length),g,h=!!e;f&&(g=new RegExp("^("+b.join("|")+")$"));var k=[];n(new A(a,!1),function(b){if(!f||g.test(b.nodeType))if(!h||e(b)){var l=a.startContainer;b==l&&ea(l)&&a.startOffset==l.length||(l=a.endContainer,b==l&&ea(l)&&
0==a.endOffset||k.push(b))}});return k}function w(a){return"["+("undefined"==typeof a.getName?"Range":a.getName())+"("+X.inspectNode(a.startContainer)+":"+a.startOffset+", "+X.inspectNode(a.endContainer)+":"+a.endOffset+")]"}function A(a,b){this.range=a;this.clonePartiallySelectedTextNodes=b;if(!a.collapsed){this.sc=a.startContainer;this.so=a.startOffset;this.ec=a.endContainer;this.eo=a.endOffset;var e=a.commonAncestorContainer;this.sc===this.ec&&ea(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=
this._last=this._next=this.sc):(this._first=this._next=this.sc!==e||ea(this.sc)?ra(this.sc,e,!0):this.sc.childNodes[this.so],this._last=this.ec!==e||ea(this.ec)?ra(this.ec,e,!0):this.ec.childNodes[this.eo-1])}}function t(a){return function(b,e){for(var f,g=e?b:b.parentNode;g;){f=g.nodeType;if(Ta(a,f))return g;g=g.parentNode}return null}}function E(a,b){if(Bb(a,b))throw new ga("INVALID_NODE_TYPE_ERR");}function u(a,b){if(!Ta(b,a.nodeType))throw new ga("INVALID_NODE_TYPE_ERR");}function C(a,b){if(0>
b||b>(ea(a)?a.length:a.childNodes.length))throw new ga("INDEX_SIZE_ERR");}function y(a,b){if(ha(a,!0)!==ha(b,!0))throw new ga("WRONG_DOCUMENT_ERR");}function x(a){if(wb(a,!0))throw new ga("NO_MODIFICATION_ALLOWED_ERR");}function z(a,b){return b<=(ea(a)?a.length:a.childNodes.length)}function G(a){return!!a.startContainer&&!!a.endContainer&&!(Ma&&(X.isBrokenNode(a.startContainer)||X.isBrokenNode(a.endContainer)))&&na(a.startContainer)==na(a.endContainer)&&z(a.startContainer,a.startOffset)&&z(a.endContainer,
a.endOffset)}function H(a){if(!G(a))throw Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+a.inspect()+")");}function D(a,b){H(a);var e=a.startContainer,f=a.startOffset,g=a.endContainer,h=a.endOffset,k=e===g;ea(g)&&0<h&&h<g.length&&ba(g,h,b);ea(e)&&0<f&&f<e.length&&(e=ba(e,f,b),k?(h-=f,g=e):g==e.parentNode&&h>=wa(e)&&h++,f=0);a.setStartAndEnd(e,f,g,h)}function B(a){H(a);var b=a.commonAncestorContainer.parentNode.cloneNode(!1);b.appendChild(a.cloneContents());
return b.innerHTML}function J(a){a.START_TO_START=0;a.START_TO_END=1;a.END_TO_END=2;a.END_TO_START=3;a.NODE_BEFORE=0;a.NODE_AFTER=1;a.NODE_BEFORE_AND_AFTER=2;a.NODE_INSIDE=3}function O(a){J(a);J(a.prototype)}function K(a,b){return function(){H(this);var e=this.startContainer,f=this.startOffset,g=this.commonAncestorContainer,k=new A(this,!0);e!==g&&(e=ra(e,g,!0),f=h(e),e=f.node,f=f.offset);n(k,x);k.reset();g=a(k);k.detach();b(this,e,f,e,f);return g}}function M(b,f){function k(a,b){return function(e){u(e,
Oa);u(na(e),Za);e=(a?g:h)(e);(b?l:m)(this,e.node,e.offset)}}function l(a,b,e){var g=a.endContainer,h=a.endOffset;if(b!==a.startContainer||e!==a.startOffset){if(na(b)!=na(g)||1==fa(b,e,g,h))g=b,h=e;f(a,b,e,g,h)}}function m(a,b,e){var g=a.startContainer,h=a.startOffset;if(b!==a.endContainer||e!==a.endOffset){if(na(b)!=na(g)||-1==fa(b,e,g,h))g=b,h=e;f(a,g,h,b,e)}}var n=function(){};n.prototype=a.rangePrototype;b.prototype=new n;Na.extend(b.prototype,{setStart:function(a,b){E(a,!0);C(a,b);l(this,a,b)},
setEnd:function(a,b){E(a,!0);C(a,b);m(this,a,b)},setStartAndEnd:function(){var a=arguments,b=a[0],e=a[1],g=b,h=e;switch(a.length){case 3:h=a[2];break;case 4:g=a[2],h=a[3]}f(this,b,e,g,h)},setBoundary:function(a,b,e){this["set"+(e?"Start":"End")](a,b)},setStartBefore:k(!0,!0),setStartAfter:k(!1,!0),setEndBefore:k(!0,!1),setEndAfter:k(!1,!1),collapse:function(a){H(this);a?f(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):f(this,this.endContainer,this.endOffset,this.endContainer,
this.endOffset)},selectNodeContents:function(a){E(a,!0);f(this,a,0,a,bb(a))},selectNode:function(a){E(a,!1);u(a,Oa);var b=g(a);a=h(a);f(this,b.node,b.offset,a.node,a.offset)},extractContents:K(p,f),deleteContents:K(r,f),canSurroundContents:function(){H(this);x(this.startContainer);x(this.endContainer);var a=new A(this,!0),b=a._first&&e(a._first,this)||a._last&&e(a._last,this);a.detach();return!b},splitBoundaries:function(){D(this)},splitBoundariesPreservingPositions:function(a){D(this,a)},normalizeBoundaries:function(){H(this);
var a=this.startContainer,b=this.startOffset,e=this.endContainer,g=this.endOffset,h=function(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(e=a,g=a.length,a.appendData(b.data),ua(b))},k=function(f){var h=f.previousSibling;if(h&&h.nodeType==f.nodeType){a=f;var k=f.length;b=h.length;f.insertData(0,h.data);ua(h);a==e?(g+=b,e=a):e==f.parentNode&&(h=wa(f),g==h?(e=f,g=k):g>h&&g--)}},l=!0;ea(e)?g==e.length?h(e):0==g&&(h=e.previousSibling)&&h.nodeType==e.nodeType&&(g=h.length,a==e&&(l=!1),h.appendData(e.data),
ua(e),e=h):(0<g&&(l=e.childNodes[g-1])&&ea(l)&&h(l),l=!this.collapsed);l?ea(a)?0==b?k(a):b==a.length&&(h=a.nextSibling)&&h.nodeType==a.nodeType&&(e==h&&(e=a,g+=a.length),a.appendData(h.data),ua(h)):b<a.childNodes.length&&(h=a.childNodes[b])&&ea(h)&&k(h):(a=e,b=g);f(this,a,b,e,g)},collapseToPoint:function(a,b){E(a,!0);C(a,b);this.setStartAndEnd(a,b)}});O(b)}function L(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset;a.commonAncestorContainer=a.collapsed?a.startContainer:
X.getCommonAncestor(a.startContainer,a.endContainer)}function P(a,b,e,f,g){a.startContainer=b;a.startOffset=e;a.endContainer=f;a.endOffset=g;a.document=X.getDocument(b);L(a)}function Aa(a){this.startContainer=a;this.startOffset=0;this.endContainer=a;this.endOffset=0;this.document=a;L(this)}var X=a.dom,Na=a.util,ka=X.DomPosition,ga=a.DOMException,ea=X.isCharacterDataNode,wa=X.getNodeIndex,Q=X.isOrIsAncestorOf,va=X.getDocument,fa=X.comparePoints,ba=X.splitDataNode,ra=X.getClosestAncestorIn,bb=X.getNodeLength,
Ta=X.arrayContains,na=X.getRootContainer,Ma=a.features.crashyTextNodes,ua=X.removeNode;A.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null;this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;a&&(this._next=a!==this._last?a.nextSibling:null,ea(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===
this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so)));return a},remove:function(){var a=this._current,b,e;!ea(a)||a!==this.sc&&a!==this.ec?a.parentNode&&ua(a):(b=a===this.sc?this.so:0,e=a===this.ec?this.eo:a.length,b!=e&&a.deleteData(b,e-b))},isPartiallySelectedSubtree:function(){return e(this._current,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse(!1);else{a=new Aa(f(this.range));var b=this._current,e=b,g=0,h=b,k=bb(b);Q(b,this.sc)&&
(e=this.sc,g=this.so);Q(b,this.ec)&&(h=this.ec,k=this.eo);P(a,e,g,h,k)}return new A(a,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Oa=[1,3,4,5,7,8,10],Za=[2,9,11],kb=[1,3,4,5,7,8,10,11],Ga=[1,3,4,5,7,8],ha=t([9,11]),wb=t([5,6,10,12]),Bb=t([6,10,12]),ya=document.createElement("style"),ta=!1;try{ya.innerHTML="<b>x</b>",ta=3==ya.firstChild.nodeType}catch(xb){}a.features.htmlParsingConforms=
ta;var Va="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" ");Na.extend(a.rangePrototype,{compareBoundaryPoints:function(a,b){H(this);y(this.startContainer,b.startContainer);var e=3==a||0==a?"start":"end",f=1==a||0==a?"start":"end";return fa(this[e+"Container"],this[e+"Offset"],b[f+"Container"],b[f+"Offset"])},insertNode:function(a){H(this);u(a,kb);x(this.startContainer);if(Q(a,this.startContainer))throw new ga("HIERARCHY_REQUEST_ERR");a=k(a,this.startContainer,
this.startOffset);this.setStartBefore(a)},cloneContents:function(){H(this);var a,b;if(this.collapsed)return f(this).createDocumentFragment();if(this.startContainer===this.endContainer&&ea(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=f(this).createDocumentFragment(),b.appendChild(a),b;b=new A(this,!0);a=m(b);b.detach();return a},canSurroundContents:function(){H(this);x(this.startContainer);x(this.endContainer);var a=new A(this,
!0),b=a._first&&e(a._first,this)||a._last&&e(a._last,this);a.detach();return!b},surroundContents:function(a){u(a,Ga);if(!this.canSurroundContents())throw new ga("INVALID_STATE_ERR");var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);k(a,this.startContainer,this.startOffset);a.appendChild(b);this.selectNode(a)},cloneRange:function(){H(this);for(var a=new Aa(f(this)),b=Va.length,e;b--;)e=Va[b],a[e]=this[e];return a},toString:function(){H(this);var a=this.startContainer;
if(a===this.endContainer&&ea(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):"";var b=[],a=new A(this,!0);n(a,function(a){3!=a.nodeType&&4!=a.nodeType||b.push(a.data)});a.detach();return b.join("")},compareNode:function(a){H(this);var b=a.parentNode,e=wa(a);if(!b)throw new ga("NOT_FOUND_ERR");a=this.comparePoint(b,e);b=this.comparePoint(b,e+1);return 0>a?0<b?2:0:0<b?1:3},comparePoint:function(a,b){H(this);if(!a)throw new ga("HIERARCHY_REQUEST_ERR");y(a,this.startContainer);
return 0>fa(a,b,this.startContainer,this.startOffset)?-1:0<fa(a,b,this.endContainer,this.endOffset)?1:0},createContextualFragment:ta?function(a){var b=this.startContainer,e=va(b);if(!b)throw new ga("INVALID_STATE_ERR");var f=null;1==b.nodeType?f=b:ea(b)&&(f=X.parentElement(b));f=null===f||"HTML"==f.nodeName&&X.isHtmlNamespace(va(f).documentElement)&&X.isHtmlNamespace(f)?e.createElement("body"):f.cloneNode(!1);f.innerHTML=a;return X.fragmentFromNodeChildren(f)}:function(a){var b=f(this).createElement("body");
b.innerHTML=a;return X.fragmentFromNodeChildren(b)},toHtml:function(){return B(this)},intersectsNode:function(a,b){H(this);if(na(a)!=na(this.startContainer))return!1;var e=a.parentNode,f=wa(a);if(!e)return!0;var g=fa(e,f,this.endContainer,this.endOffset),e=fa(e,f+1,this.startContainer,this.startOffset);return b?0>=g&&0<=e:0>g&&0<e},isPointInRange:function(a,b){H(this);if(!a)throw new ga("HIERARCHY_REQUEST_ERR");y(a,this.startContainer);return 0<=fa(a,b,this.startContainer,this.startOffset)&&0>=fa(a,
b,this.endContainer,this.endOffset)},intersectsRange:function(a){return l(this,a,!1)},intersectsOrTouchesRange:function(a){return l(this,a,!0)},intersection:function(a){if(this.intersectsRange(a)){var b=fa(this.startContainer,this.startOffset,a.startContainer,a.startOffset),e=fa(this.endContainer,this.endOffset,a.endContainer,a.endOffset),f=this.cloneRange();-1==b&&f.setStart(a.startContainer,a.startOffset);1==e&&f.setEnd(a.endContainer,a.endOffset);return f}return null},union:function(a){if(this.intersectsOrTouchesRange(a)){var b=
this.cloneRange();-1==fa(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset);1==fa(a.endContainer,a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset);return b}throw new ga("Ranges do not intersect");},containsNode:function(a,b){return b?this.intersectsNode(a,!1):3==this.compareNode(a)},containsNodeContents:function(a){return 0<=this.comparePoint(a,0)&&0>=this.comparePoint(a,bb(a))},containsRange:function(a){var b=
this.intersection(a);return null!==b&&a.equals(b)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var e=b.getNodes([3]);return 0<e.length?(b.setStart(e[0],0),a=e.pop(),b.setEnd(a,a.length),this.containsRange(b)):this.containsNodeContents(a)},getNodes:function(a,b){H(this);return q(this,a,b)},getDocument:function(){return f(this)},collapseBefore:function(a){this.setEndBefore(a);this.collapse(!1)},collapseAfter:function(a){this.setStartAfter(a);this.collapse(!0)},getBookmark:function(b){var e=
f(this),g=a.createRange(e);b=b||X.getBody(e);g.selectNodeContents(b);var e=this.intersection(g),h=0,k=0;e&&(g.setEnd(e.startContainer,e.startOffset),h=g.toString().length,k=h+e.toString().length);return{start:h,end:k,containerNode:b}},moveToBookmark:function(a){var b=a.containerNode,e=0;this.setStart(b,0);this.collapse(!0);for(var b=[b],f,g=!1,h=!1,k,l;!h&&(f=b.pop());)if(3==f.nodeType)k=e+f.length,!g&&a.start>=e&&a.start<=k&&(this.setStart(f,a.start-e),g=!0),g&&a.end>=e&&a.end<=k&&(this.setEnd(f,
a.end-e),h=!0),e=k;else for(l=f.childNodes,k=l.length;k--;)b.push(l[k])},getName:function(){return"DomRange"},equals:function(a){return Aa.rangesEqual(this,a)},isValid:function(){return G(this)},inspect:function(){return w(this)},detach:function(){}});M(Aa,P);Na.extend(Aa,{rangeProperties:Va,RangeIterator:A,copyComparisonConstants:O,createPrototypeRange:M,inspect:w,toHtml:B,getRangeDocument:f,rangesEqual:function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===
b.endContainer&&a.endOffset===b.endOffset}});a.DomRange=Aa});G.createCoreModule("WrappedRange",["DomRange"],function(a,b){var e,f,g=a.dom,h=a.util,k=g.DomPosition,l=a.DomRange,m=g.getBody,n=g.getContentDocument,r=g.isCharacterDataNode;a.features.implementsDomRange&&function(){function f(a){for(var b=r.length,e;b--;)e=r[b],a[e]=a.nativeRange[e];a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset}var k,r=l.rangeProperties,p;e=function(a){if(!a)throw b.createError("WrappedRange: Range must be specified");
this.nativeRange=a;f(this)};l.createPrototypeRange(e,function(a,b,e,f,g){var h=a.startContainer!==b||a.startOffset!=e,k=a.endContainer!==f||a.endOffset!=g,l=!a.equals(a.nativeRange);if(h||k||l)a.setEnd(f,g),a.setStart(b,e)});k=e.prototype;k.selectNode=function(a){this.nativeRange.selectNode(a);f(this)};k.cloneContents=function(){return this.nativeRange.cloneContents()};k.surroundContents=function(a){this.nativeRange.surroundContents(a);f(this)};k.collapse=function(a){this.nativeRange.collapse(a);
f(this)};k.cloneRange=function(){return new e(this.nativeRange.cloneRange())};k.refresh=function(){f(this)};k.toString=function(){return this.nativeRange.toString()};var q=document.createTextNode("test");m(document).appendChild(q);var w=document.createRange();w.setStart(q,0);w.setEnd(q,0);try{w.setStart(q,1),k.setStart=function(a,b){this.nativeRange.setStart(a,b);f(this)},k.setEnd=function(a,b){this.nativeRange.setEnd(a,b);f(this)},p=function(a){return function(b){this.nativeRange[a](b);f(this)}}}catch(A){k.setStart=
function(a,b){try{this.nativeRange.setStart(a,b)}catch(e){this.nativeRange.setEnd(a,b),this.nativeRange.setStart(a,b)}f(this)},k.setEnd=function(a,b){try{this.nativeRange.setEnd(a,b)}catch(e){this.nativeRange.setStart(a,b),this.nativeRange.setEnd(a,b)}f(this)},p=function(a,b){return function(e){try{this.nativeRange[a](e)}catch(g){this.nativeRange[b](e),this.nativeRange[a](e)}f(this)}}}k.setStartBefore=p("setStartBefore","setEndBefore");k.setStartAfter=p("setStartAfter","setEndAfter");k.setEndBefore=
p("setEndBefore","setStartBefore");k.setEndAfter=p("setEndAfter","setStartAfter");k.selectNodeContents=function(a){this.setStartAndEnd(a,0,g.getNodeLength(a))};w.selectNodeContents(q);w.setEnd(q,3);p=document.createRange();p.selectNodeContents(q);p.setEnd(q,4);p.setStart(q,2);-1==w.compareBoundaryPoints(w.START_TO_END,p)&&1==w.compareBoundaryPoints(w.END_TO_START,p)?k.compareBoundaryPoints=function(a,b){b=b.nativeRange||b;a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END);return this.nativeRange.compareBoundaryPoints(a,
b)}:k.compareBoundaryPoints=function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)};p=document.createElement("div");p.innerHTML="123";var t=p.firstChild,E=m(document);E.appendChild(p);w.setStart(t,1);w.setEnd(t,2);w.deleteContents();"13"==t.data&&(k.deleteContents=function(){this.nativeRange.deleteContents();f(this)},k.extractContents=function(){var a=this.nativeRange.extractContents();f(this);return a});E.removeChild(p);E=null;h.isHostMethod(w,"createContextualFragment")&&
(k.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)});m(document).removeChild(q);k.getName=function(){return"WrappedRange"};a.WrappedRange=e;a.createNativeRange=function(a){a=n(a,b,"createNativeRange");return a.createRange()}}();if(a.features.implementsTextRange){var p=function(a,b,e,f,h){var l=a.duplicate();l.collapse(e);var m=l.parentElement();g.isOrIsAncestorOf(b,m)||(m=b);if(!m.canHaveHTML)return m=new k(m.parentNode,g.getNodeIndex(m)),{boundaryPosition:m,
nodeInfo:{nodeIndex:m.offset,containerElement:m.node}};b=g.getDocument(m).createElement("span");b.parentNode&&g.removeNode(b);var n,p=e?"StartToStart":"StartToEnd",q=h&&h.containerElement==m?h.nodeIndex:0,w=m.childNodes.length,A=w;for(h=A;;){h==w?m.appendChild(b):m.insertBefore(b,m.childNodes[h]);l.moveToElementText(b);n=l.compareEndPoints(p,a);if(0==n||q==A)break;else if(-1==n)if(A==q+1)break;else q=h;else A=A==q+1?q:h;h=Math.floor((q+A)/2);m.removeChild(b)}p=b.nextSibling;if(-1==n&&p&&r(p)){l.setEndPoint(e?
"EndToStart":"EndToEnd",a);if(/[\r\n]/.test(p.data))for(e=l.duplicate(),f=e.text.replace(/\r\n/g,"\r").length,f=e.moveStart("character",f);-1==e.compareEndPoints("StartToEnd",e);)f++,e.moveStart("character",1);else f=l.text.length;e=new k(p,f)}else a=(f||!e)&&b.previousSibling,e=(e=(f||e)&&b.nextSibling)&&r(e)?new k(e,0):a&&r(a)?new k(a,a.data.length):new k(m,g.getNodeIndex(b));g.removeNode(b);return{boundaryPosition:e,nodeInfo:{nodeIndex:h,containerElement:m}}},q=function(a,b){var e,f,h=a.offset,
k=g.getDocument(a.node),l=m(k).createTextRange(),n=r(a.node);n?(e=a.node,f=e.parentNode):(e=a.node.childNodes,e=h<e.length?e[h]:null,f=a.node);k=k.createElement("span");k.innerHTML="&#feff;";e?f.insertBefore(k,e):f.appendChild(k);l.moveToElementText(k);l.collapse(!b);f.removeChild(k);if(n)l[b?"moveStart":"moveEnd"]("character",h);return l};f=function(a){this.textRange=a;this.refresh()};f.prototype=new l(document);f.prototype.refresh=function(){var a,b,e;e=this.textRange;a=e.parentElement();var f=
e.duplicate();f.collapse(!0);b=f.parentElement();f=e.duplicate();f.collapse(!1);e=f.parentElement();b=b==e?b:g.getCommonAncestor(b,e);b=b==a?b:g.getCommonAncestor(a,b);a=this.textRange;0==a.compareEndPoints("StartToEnd",a)?b=a=p(this.textRange,b,!0,!0).boundaryPosition:(e=p(this.textRange,b,!0,!1),a=e.boundaryPosition,b=p(this.textRange,b,!1,!1,e.nodeInfo).boundaryPosition);this.setStart(a.node,a.offset);this.setEnd(b.node,b.offset)};f.prototype.getName=function(){return"WrappedTextRange"};l.copyComparisonConstants(f);
var w=function(a){if(a.collapsed)return q(new k(a.startContainer,a.startOffset),!0);var b=q(new k(a.startContainer,a.startOffset),!0),e=q(new k(a.endContainer,a.endOffset),!1);a=m(l.getRangeDocument(a)).createTextRange();a.setEndPoint("StartToStart",b);a.setEndPoint("EndToEnd",e);return a};f.rangeToTextRange=w;f.prototype.toTextRange=function(){return w(this)};a.WrappedTextRange=f;if(!a.features.implementsDomRange||a.config.preferTextRange){var A=Function("return this;")();"undefined"==typeof A.Range&&
(A.Range=f);a.createNativeRange=function(a){a=n(a,b,"createNativeRange");return m(a).createTextRange()};a.WrappedRange=f}}a.createRange=function(e){e=n(e,b,"createRange");return new a.WrappedRange(a.createNativeRange(e))};a.createRangyRange=function(a){a=n(a,b,"createRangyRange");return new l(a)};h.createAliasForDeprecatedMethod(a,"createIframeRange","createRange");h.createAliasForDeprecatedMethod(a,"createIframeRangyRange","createRangyRange");a.addShimListener(function(b){var e=b.document;"undefined"==
typeof e.createRange&&(e.createRange=function(){return a.createRange(e)});e=b=null})});G.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(a,b){function e(a){return"string"==typeof a?/^backward(s)?$/i.test(a):!!a}function f(a,e){if(a){if(H.isWindow(a))return a;if(a instanceof t)return a.win;var g=H.getContentDocument(a,b,e);return H.getWindow(g)}return window}function g(a){return f(a,"getWinSelection").getSelection()}function h(a){return f(a,"getDocSelection").document.selection}
function k(a){var b=!1;a.anchorNode&&(b=1==H.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset));return b}function l(a,b,e){var f=e?"end":"start";e=e?"start":"end";a.anchorNode=b[f+"Container"];a.anchorOffset=b[f+"Offset"];a.focusNode=b[e+"Container"];a.focusOffset=b[e+"Offset"]}function m(a){a.anchorNode=a.focusNode=null;a.anchorOffset=a.focusOffset=0;a.rangeCount=0;a.isCollapsed=!0;a._ranges.length=0}function n(b){var e;b instanceof B?(e=a.createNativeRange(b.getDocument()),e.setEnd(b.endContainer,
b.endOffset),e.setStart(b.startContainer,b.startOffset)):b instanceof J?e=b.nativeRange:P.implementsDomRange&&b instanceof H.getWindow(b.startContainer).Range&&(e=b);return e}function r(a){var e=a.getNodes(),f;a:if(e.length&&1==e[0].nodeType){f=1;for(var g=e.length;f<g;++f)if(!H.isAncestorOf(e[0],e[f])){f=!1;break a}f=!0}else f=!1;if(!f)throw b.createError("getSingleElementFromRange: range "+a.inspect()+" did not consist of a single element");return e[0]}function p(a){return!!a&&"undefined"!=typeof a.text}
function q(a,b){var e=new J(b);a._ranges=[e];l(a,e,!1);a.rangeCount=1;a.isCollapsed=e.collapsed}function w(b){b._ranges.length=0;if("None"==b.docSelection.type)m(b);else{var e=b.docSelection.createRange();if(p(e))q(b,e);else{b.rangeCount=e.length;for(var f,g=Aa(e.item(0)),h=0;h<b.rangeCount;++h)f=a.createRange(g),f.selectNode(e.item(h)),b._ranges.push(f);b.isCollapsed=1==b.rangeCount&&b._ranges[0].collapsed;l(b,b._ranges[b.rangeCount-1],!1)}}}function A(a,e){for(var f=a.docSelection.createRange(),
g=r(e),h=Aa(f.item(0)),h=X(h).createControlRange(),k=0,l=f.length;k<l;++k)h.add(f.item(k));try{h.add(g)}catch(m){throw b.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)");}h.select();w(a)}function t(a,b,e){this.nativeSelection=a;this.docSelection=b;this._ranges=[];this.win=e;this.refresh()}function E(a){a.win=a.anchorNode=a.focusNode=a._ranges=null;a.rangeCount=a.anchorOffset=a.focusOffset=0;a.detached=!0}function u(a,b){for(var e=
ua.length,f,g;e--;)if(f=ua[e],g=f.selection,"deleteAll"==b)E(g);else if(f.win==a)return"delete"==b?(ua.splice(e,1),!0):g;"deleteAll"==b&&(ua.length=0);return null}function C(a,e){for(var f=Aa(e[0].startContainer),f=X(f).createControlRange(),g=0,h,k=e.length;g<k;++g){h=r(e[g]);try{f.add(h)}catch(l){throw b.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)");}}f.select();w(a)}function y(a,b){if(a.win.document!=Aa(b))throw new O("WRONG_DOCUMENT_ERR");
}function x(b){return function(e,f){var g;this.rangeCount?(g=this.getRangeAt(0),g["set"+(b?"Start":"End")](e,f)):(g=a.createRange(this.win.document),g.setStartAndEnd(e,f));this.setSingleRange(g,this.isBackward())}}function z(a){var b=[],e=new K(a.anchorNode,a.anchorOffset),f=new K(a.focusNode,a.focusOffset),g="function"==typeof a.getName?a.getName():"Selection";if("undefined"!=typeof a.rangeCount)for(var h=0,k=a.rangeCount;h<k;++h)b[h]=B.inspect(a.getRangeAt(h));return"["+g+"(Ranges: "+b.join(", ")+
")(anchor: "+e.inspect()+", focus: "+f.inspect()+"]"}a.config.checkSelectionRanges=!0;var H=a.dom,G=a.util,D=G.isHostMethod,B=a.DomRange,J=a.WrappedRange,O=a.DOMException,K=H.DomPosition,M,L,P=a.features,Aa=H.getDocument,X=H.getBody,Na=B.rangesEqual,ka=D(window,"getSelection"),ga=G.isHostObject(document,"selection");P.implementsWinGetSelection=ka;var ea=(P.implementsDocSelection=ga)&&(!ka||a.config.preferTextRange);if(ea)M=h,a.isSelectionValid=function(a){a=f(a,"isSelectionValid").document;var b=
a.selection;return"None"!=b.type||Aa(b.createRange().parentElement())==a};else if(ka)M=g,a.isSelectionValid=function(){return!0};else return b.fail("Neither document.selection or window.getSelection() detected."),!1;a.getNativeSelection=M;ka=M();if(!ka)return b.fail("Native selection was null (possibly issue 138?)"),!1;var wa=a.createNativeRange(document),Q=X(document),va=G.areHostProperties(ka,["anchorNode","focusNode","anchorOffset","focusOffset"]);P.selectionHasAnchorAndFocus=va;var fa=D(ka,"extend");
P.selectionHasExtend=fa;var ba="number"==typeof ka.rangeCount;P.selectionHasRangeCount=ba;var ra=!1,bb=!0,Ta=fa?function(b,e){var f=B.getRangeDocument(e),f=a.createRange(f);f.collapseToPoint(e.endContainer,e.endOffset);b.addRange(n(f));b.extend(e.startContainer,e.startOffset)}:null;G.areHostMethods(ka,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof ka.rangeCount&&P.implementsDomRange&&function(){var b=window.getSelection();if(b){for(var e=b.rangeCount,f=1<e,g=[],h=k(b),l=0;l<e;++l)g[l]=
b.getRangeAt(l);var l=H.createTestElement(document,"",!1),m=l.appendChild(document.createTextNode("\u00a0\u00a0\u00a0")),n=document.createRange();n.setStart(m,1);n.collapse(!0);b.removeAllRanges();b.addRange(n);bb=1==b.rangeCount;b.removeAllRanges();f||((f=window.navigator.appVersion.match(/Chrome\/(.*?) /))&&36<=parseInt(f[1])?ra=!1:(f=n.cloneRange(),n.setStart(m,0),f.setEnd(m,3),f.setStart(m,2),b.addRange(n),b.addRange(f),ra=2==b.rangeCount));H.removeNode(l);b.removeAllRanges();for(l=0;l<e;++l)0==
l&&h?Ta?Ta(b,g[l]):(a.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),b.addRange(g[l])):b.addRange(g[l])}}();P.selectionSupportsMultipleRanges=ra;P.collapsedNonEditableSelectionsSupported=bb;var na=!1;Q&&D(Q,"createControlRange")&&(Q=Q.createControlRange(),G.areHostProperties(Q,["item","add"])&&(na=!0));P.implementsControlRange=na;L=va?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===
a.focusOffset}:function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:!1};var Ma;D(ka,"getRangeAt")?Ma=function(a,b){try{return a.getRangeAt(b)}catch(e){return null}}:va&&(Ma=function(b){var e=Aa(b.anchorNode),e=a.createRange(e);e.setStartAndEnd(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset);e.collapsed!==this.isCollapsed&&e.setStartAndEnd(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset);return e});t.prototype=a.selectionPrototype;var ua=[],Oa=function(a){if(a&&a instanceof
t)return a.refresh(),a;a=f(a,"getNativeSelection");var b=u(a),e=M(a),g=ga?h(a):null;b?(b.nativeSelection=e,b.docSelection=g,b.refresh()):(b=new t(e,g,a),ua.push({win:a,selection:b}));return b};a.getSelection=Oa;G.createAliasForDeprecatedMethod(a,"getIframeSelection","getSelection");Q=t.prototype;if(!ea&&va&&G.areHostMethods(ka,["removeAllRanges","addRange"]))Q.removeAllRanges=function(){this.nativeSelection.removeAllRanges();m(this)},Q.addRange=ba?function(b,f){if(na&&ga&&"Control"==this.docSelection.type)A(this,
b);else if(e(f)&&fa)Ta(this.nativeSelection,b),this.refresh();else{var g;ra?g=this.rangeCount:(this.removeAllRanges(),g=0);var h=n(b).cloneRange();try{this.nativeSelection.addRange(h)}catch(k){}this.rangeCount=this.nativeSelection.rangeCount;this.rangeCount==g+1?(a.config.checkSelectionRanges&&(g=Ma(this.nativeSelection,this.rangeCount-1))&&!Na(g,b)&&(b=new J(g)),this._ranges[this.rangeCount-1]=b,l(this,b,Ga(this.nativeSelection)),this.isCollapsed=L(this)):this.refresh()}}:function(a,b){e(b)&&fa?
Ta(this.nativeSelection,a):this.nativeSelection.addRange(n(a));this.refresh()},Q.setRanges=function(a){if(na&&ga&&1<a.length)C(this,a);else{this.removeAllRanges();for(var b=0,e=a.length;b<e;++b)this.addRange(a[b])}};else if(D(ka,"empty")&&D(wa,"select")&&na&&ea)Q.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var a;if(this.anchorNode)a=Aa(this.anchorNode);else if("Control"==this.docSelection.type){var b=this.docSelection.createRange();b.length&&(a=Aa(b.item(0)))}a&&
(X(a).createTextRange().select(),this.docSelection.empty())}}catch(e){}m(this)},Q.addRange=function(b){"Control"==this.docSelection.type?A(this,b):(a.WrappedTextRange.rangeToTextRange(b).select(),this._ranges[0]=b,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,l(this,b,!1))},Q.setRanges=function(a){this.removeAllRanges();var b=a.length;1<b?C(this,a):b&&this.addRange(a[0])};else return b.fail("No means of selecting a Range or TextRange was found"),!1;Q.getRangeAt=function(a){if(0>a||
a>=this.rangeCount)throw new O("INDEX_SIZE_ERR");return this._ranges[a].cloneRange()};var Za;if(ea)Za=function(b){var e;a.isSelectionValid(b.win)?e=b.docSelection.createRange():(e=X(b.win.document).createTextRange(),e.collapse(!0));"Control"==b.docSelection.type?w(b):p(e)?q(b,e):m(b)};else if(D(ka,"getRangeAt")&&"number"==typeof ka.rangeCount)Za=function(b){if(na&&ga&&"Control"==b.docSelection.type)w(b);else if(b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount,b.rangeCount){for(var e=0,f=
b.rangeCount;e<f;++e)b._ranges[e]=new a.WrappedRange(b.nativeSelection.getRangeAt(e));l(b,b._ranges[b.rangeCount-1],Ga(b.nativeSelection));b.isCollapsed=L(b)}else m(b)};else if(va&&"boolean"==typeof ka.isCollapsed&&"boolean"==typeof wa.collapsed&&P.implementsDomRange)Za=function(a){var b;b=a.nativeSelection;b.anchorNode?(b=Ma(b,0),a._ranges=[b],a.rangeCount=1,b=a.nativeSelection,a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset,a.isCollapsed=
L(a)):m(a)};else return b.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;Q.refresh=function(a){var b=a?this._ranges.slice(0):null,e=this.anchorNode,f=this.anchorOffset;Za(this);if(a){a=b.length;if(a!=this._ranges.length||this.anchorNode!=e||this.anchorOffset!=f)return!0;for(;a--;)if(!Na(b[a],this._ranges[a]))return!0;return!1}};var kb=function(a,b){var e=a.getAllRanges();a.removeAllRanges();for(var f=0,g=e.length;f<g;++f)Na(b,e[f])||a.addRange(e[f]);a.rangeCount||
m(a)};Q.removeRange=na&&ga?function(a){if("Control"==this.docSelection.type){var b=this.docSelection.createRange();a=r(a);for(var e=Aa(b.item(0)),e=X(e).createControlRange(),f,g=!1,h=0,k=b.length;h<k;++h)f=b.item(h),f!==a||g?e.add(b.item(h)):g=!0;e.select();w(this)}else kb(this,a)}:function(a){kb(this,a)};var Ga;!ea&&va&&P.implementsDomRange?(Ga=k,Q.isBackward=function(){return Ga(this)}):Ga=Q.isBackward=function(){return!1};Q.isBackwards=Q.isBackward;Q.toString=function(){for(var a=[],b=0,e=this.rangeCount;b<
e;++b)a[b]=""+this._ranges[b];return a.join("")};Q.collapse=function(b,e){y(this,b);var f=a.createRange(b);f.collapseToPoint(b,e);this.setSingleRange(f);this.isCollapsed=!0};Q.collapseToStart=function(){if(this.rangeCount){var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)}else throw new O("INVALID_STATE_ERR");};Q.collapseToEnd=function(){if(this.rangeCount){var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)}else throw new O("INVALID_STATE_ERR");};Q.selectAllChildren=
function(b){y(this,b);var e=a.createRange(b);e.selectNodeContents(b);this.setSingleRange(e)};Q.deleteFromDocument=function(){if(na&&ga&&"Control"==this.docSelection.type){for(var a=this.docSelection.createRange(),b;a.length;)b=a.item(0),a.remove(b),H.removeNode(b);this.refresh()}else if(this.rangeCount&&(a=this.getAllRanges(),a.length)){this.removeAllRanges();b=0;for(var e=a.length;b<e;++b)a[b].deleteContents();this.addRange(a[e-1])}};Q.eachRange=function(a,b){for(var e=0,f=this._ranges.length;e<
f;++e)if(a(this.getRangeAt(e)))return b};Q.getAllRanges=function(){var a=[];this.eachRange(function(b){a.push(b)});return a};Q.setSingleRange=function(a,b){this.removeAllRanges();this.addRange(a,b)};Q.callMethodOnEachRange=function(a,b){var e=[];this.eachRange(function(f){e.push(f[a].apply(f,b||[]))});return e};Q.setStart=x(!0);Q.setEnd=x(!1);a.rangePrototype.select=function(a){Oa(this.getDocument()).setSingleRange(this,a)};Q.changeEachRange=function(a){var b=[],e=this.isBackward();this.eachRange(function(e){a(e);
b.push(e)});this.removeAllRanges();e&&1==b.length?this.addRange(b[0],"backward"):this.setRanges(b)};Q.containsNode=function(a,b){return this.eachRange(function(e){return e.containsNode(a,b)},!0)||!1};Q.getBookmark=function(a){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[a])}};Q.moveToBookmark=function(b){for(var e=[],f=0,g,h;g=b.rangeBookmarks[f++];)h=a.createRange(this.win),h.moveToBookmark(g),e.push(h);b.backward?this.setSingleRange(e[0],"backward"):
this.setRanges(e)};Q.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}};Q.restoreRanges=function(a){this.removeAllRanges();for(var b=0,e;e=a.ranges[b];++b)this.addRange(e,a.backward&&0==b)};Q.toHtml=function(){var a=[];this.eachRange(function(b){a.push(B.toHtml(b))});return a.join("")};P.implementsTextRange&&(Q.getNativeTextRange=function(){var e;if(e=this.docSelection){e=e.createRange();if(p(e))return e;throw b.createError("getNativeTextRange: selection is a control selection");
}if(0<this.rangeCount)return a.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw b.createError("getNativeTextRange: selection contains no range");});Q.getName=function(){return"WrappedSelection"};Q.inspect=function(){return z(this)};Q.detach=function(){u(this.win,"delete");E(this)};t.detachAll=function(){u(null,"deleteAll")};t.inspect=z;t.isDirectionBackward=e;a.Selection=t;a.selectionPrototype=Q;a.addShimListener(function(a){"undefined"==typeof a.getSelection&&(a.getSelection=function(){return Oa(a)});
a=null})});var P=!1,w=function(a){P||(P=!0,!G.initialized&&G.config.autoInitialize&&n())};E&&("complete"==document.readyState?w():(a(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",w,!1),J(window,"load",w)));return G},this);
(function(a,h){"function"==typeof define&&define.amd?define(["./rangy-core"],a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a(require("rangy")):a(h.rangy)})(function(a){a.createModule("TextRange",["WrappedSelection"],function(a,e){function b(a,b){for(var e=a.slice(b.start,b.end),f={isWord:b.isWord,chars:e,toString:function(){return e.join("")}},g=0,h=e.length;g<h;++g)e[g].token=f;return f}function g(a,e,f){e=f(a,e);f=[];for(var g=0,h;h=e[g++];)f.push(b(a,h));return f}function f(a){a=
a||"";a="string"==typeof a?a.split(""):a;a.sort(function(a,b){return a.charCodeAt(0)-b.charCodeAt(0)});return a.join("").replace(/(.)\1+/g,"$1")}function l(a,b){var e=V(a,b);if(b.hasOwnProperty("wordOptions")){var f;f=e.wordOptions;var g,h;f?(g=f.language||"en",h={},T(h,qa[g]||qa.en),T(h,f),f=h):f=qa.en;e.wordOptions=f}b.hasOwnProperty("characterOptions")&&(e.characterOptions=V(e.characterOptions,ma));return e}function k(a,b){var e=Ja(a,"display",b),f=a.tagName.toLowerCase();return"block"==e&&eb&&
Ra.hasOwnProperty(f)?Ra[f]:e}function n(a){for(var b=a,e=[];b.parentNode;)e.unshift(b.parentNode),b=b.parentNode;a=e.concat([a]);b=0;for(e=a.length;b<e;++b)if(1==a[b].nodeType&&"none"==k(a[b]))return!0;return!1}function m(a,b){if(!b&&a.hasChildNodes())return a.firstChild;var e;for(e=a;e&&!e.nextSibling;)e=e.parentNode;e=e?e.nextSibling:null;return e}function p(a){var b=a.previousSibling;if(b){for(a=b;a.hasChildNodes();)a=a.lastChild;return a}return(a=a.parentNode)&&1==a.nodeType?a:null}function q(a){if(!a||
3!=a.nodeType)return!1;var b=a.data;if(""===b)return!0;var e=a.parentNode;if(!e||1!=e.nodeType)return!1;a=Ja(a.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(b)&&/^(normal|nowrap)$/.test(a)||/^[\t\r ]+$/.test(b)&&"pre-line"==a}function r(a){return""===a.data?!0:q(a)?!a.parentNode||n(a)?!0:!1:!1}function t(a){var b=a.nodeType;if(!(b=7==b||8==b||n(a)||/^(script|style)$/i.test(a.nodeName)))var e,b=3==a.nodeType&&(e=a.parentNode)&&"hidden"==Ja(e,"visibility");return b||r(a)}function u(a,b){var e=
a.nodeType;return 7==e||8==e||1==e&&"none"==k(a,b)}function y(){this.store={}}function x(a,b,e){return function(f){var g=this.cache;if(g.hasOwnProperty(a))return vb++,g[a];jb++;f=b.call(this,e?this[e]:this,f);return g[a]=f}}function z(a,b){this.node=a;this.session=b;this.cache=new y;this.positions=new y}function B(a,b){this.offset=b;this.nodeWrapper=a;this.node=a.node;this.session=a.session;this.cache=new y}function D(){w();return v=new nb}function w(){v&&v.detach();v=null}function A(a,b,f,g){function h(){var a=
null;b?(a=k,l||(k=k.previousVisible(),l=!k||f&&k.equals(f))):l||(a=k=k.nextVisible(),l=!k||f&&k.equals(f));l&&(k=null);return a}f&&(b?t(f.node)&&(f=a.previousVisible()):t(f.node)&&(f=f.nextVisible()));var k=a,l=!1,m,n=!1;return{next:function(){if(n)return n=!1,m;for(var a,b;a=h();)if(b=a.getCharacter(g))return m=a;return null},rewind:function(){if(m)n=!0;else throw e.createError("createCharacterIterator: cannot rewind. Only one position can be rewound.");},dispose:function(){a=f=null}}}function C(a,
b,e){function f(a){for(var b,e=[],g=a?h:k,l=!1,m=!1;a=g.next();){b=a.character;if(aa.test(b))m&&(m=!1,l=!0);else if(l){g.rewind();break}else m=!0;e.push(a)}return e}var h=A(a,!1,null,b),k=A(a,!0,null,b),l=e.tokenizer;a=f(!0);b=f(!1).reverse();var m=g(b.concat(a),e,l),n=a.length?m.slice(Ba(m,a[0].token)):[],r=b.length?m.slice(0,Ba(m,b.pop().token)+1):[];return{nextEndToken:function(){for(var a,b;1==n.length&&!(a=n[0]).isWord&&0<(b=f(!0)).length;)n=g(a.chars.concat(b),e,l);return n.shift()},previousStartToken:function(){for(var a,
b;1==r.length&&!(a=r[0]).isWord&&0<(b=f(!1)).length;)r=g(b.reverse().concat(a.chars),e,l);return r.pop()},dispose:function(){h.dispose();k.dispose();n=r=null}}}function E(a,b,e,f){var g=a.getRangeBoundaryPosition(b,!0);a=a.getRangeBoundaryPosition(b,!1);return A(f?a:g,!!f,f?g:a,e)}function H(b,e,f,g,k){function l(b,e){var f=n[b].previousVisible(),g=n[e-1],m;if(!(m=!k.wholeWordsOnly)){m=k.wordOptions;var r=a.createRange(f.node);r.setStartAndEnd(f.node,f.offset,g.node,g.offset);m=!r.expand("word",{wordOptions:m})}return{startPos:f,
endPos:g,valid:m}}var m=U(k.direction);b=A(b,m,b.session.getRangeBoundaryPosition(g,m),k.characterOptions);g="";for(var n=[],r,p,q,w,t,E=null;r=b.next();)if(p=r.character,f||k.caseSensitive||(p=p.toLowerCase()),m?(n.unshift(r),g=p+g):(n.push(r),g+=p),f){if(r=e.exec(g))if(q=r.index,w=q+r[0].length,t){if(!m&&w<g.length||m&&0<q){E=l(q,w);break}}else t=!0}else if(-1!=(q=g.indexOf(e))){E=l(q,q+e.length);break}t&&(E=l(q,w));b.dispose();return E}function G(a){return function(){var b=!!v,e=[v||D()].concat(P.toArray(arguments)),
e=a.apply(this,e);b||w();return e}}function O(a,b){return G(function(e,f,g,h){var k;"undefined"==typeof g&&(g=f,f="character");h=l(h,ia);var m=a;b&&(m=0<=g,this.collapse(!m));e=e.getRangeBoundaryPosition(this,m);var n=g;g=h.characterOptions;var r=h.wordOptions;h=0;var p=e,q=Math.abs(n);if(0!==n){n=0>n;switch(f){case "character":for(r=A(e,n,null,g);(k=r.next())&&h<q;)++h,p=k;r.dispose();break;case "word":for(var r=C(e,g,r),w=n?r.previousStartToken:r.nextEndToken;(r=w())&&h<q;)r.isWord&&(++h,p=n?r.chars[0]:
r.chars[r.chars.length-1]);break;default:throw Error("movePositionBy: unit '"+f+"' not implemented");}n?(p=p.previousVisible(),h=-h):p&&p.isLeadingSpace&&!p.isTrailingSpace&&("word"==f&&(r=A(e,!1,null,g),k=r.next(),r.dispose()),k&&(p=k.previousVisible()))}e=p;k=h;this[m?"setStart":"setEnd"](e.node,e.offset);return k})}function J(a){return G(function(b,e){e=V(e,ma);for(var f,g=E(b,this,e,!a),h=0;(f=g.next())&&aa.test(f.character);)++h;g.dispose();if(f=0<h)this[a?"moveStart":"moveEnd"]("character",
a?h:-h,{characterOptions:e});return f})}function M(a){return G(function(b,e){var f=!1;this.changeEachRange(function(b){f=b[a](e)||f});return f})}var L=a.dom,P=a.util,T=P.extend,V=P.createOptions,R=L.getBody,Y=/^[ \t\f\r\n]+$/,N=/^[ \t\f\r]+$/,aa=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/,ca=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/,U=a.Selection.isDirectionBackward,la=!1,Z=!1;(function(){var b=L.createTestElement(document,"<p>1 </p><p></p>",
!0),e=b.firstChild,f=a.getSelection();f.collapse(e.lastChild,2);f.setStart(e.firstChild,0);b.innerHTML="1 <br />";f.collapse(b,2);f.setStart(b.firstChild,0);la=1==(""+f).length;b.innerHTML="1 <p>1</p>";f.collapse(b,2);f.setStart(b.firstChild,0);Z=1==(""+f).length;L.removeNode(b);f.removeAllRanges()})();var ma={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:""},pa={includeBlockContentTrailingSpace:!1,includeSpaceBeforeBr:!la,
includeSpaceBeforeBlock:!Z,includePreLineTrailingSpace:!0},qa={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:function(a,b){function e(a,b,f){h.push({start:a,end:b,isWord:f})}for(var f=a.join(""),g,h=[],k=0,l;g=b.wordRegex.exec(f);){l=g.index;g=l+g[0].length;l>k&&e(k,l,!1);if(b.includeTrailingSpace)for(;ca.test(a[g]);)++g;e(l,g,!0);k=g}k<a.length&&e(k,a.length,!1);return h}}},Xa={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:"forward",wordOptions:null,
characterOptions:null},ia={wordOptions:null,characterOptions:null},Qa={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},Wa={wordOptions:null,characterOptions:null,direction:"forward"},Ja=L.getComputedStyleProperty,eb;(function(){var a=document.createElement("table"),b=R(document);b.appendChild(a);eb="block"==Ja(a,"display");b.removeChild(a)})();var Ra={table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",
tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell"};y.prototype={get:function(a){return this.store.hasOwnProperty(a)?this.store[a]:null},set:function(a,b){return this.store[a]=b}};var vb=0,jb=0,ja={getPosition:function(a){var b=this.positions;return b.get(a)||b.set(a,new B(this,a))},toString:function(){return"[NodeWrapper("+L.inspectNode(this.node)+")]"}};z.prototype=ja;T(ja,{isCharacterDataNode:x("isCharacterDataNode",L.isCharacterDataNode,"node"),getNodeIndex:x("nodeIndex",
L.getNodeIndex,"node"),getLength:x("nodeLength",L.getNodeLength,"node"),containsPositions:x("containsPositions",function(a){return L.isCharacterDataNode(a)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(a.nodeName)},"node"),isWhitespace:x("isWhitespace",q,"node"),isCollapsedWhitespace:x("isCollapsedWhitespace",r,"node"),getComputedDisplay:x("computedDisplay",k,"node"),isCollapsed:x("collapsed",t,"node"),isIgnored:x("ignored",u,"node"),next:x("nextPos",m,"node"),
previous:x("previous",p,"node"),getTextNodeInfo:x("textNodeInfo",function(a){var b=null,e=!1,f=Ja(a.parentNode,"whiteSpace"),g="pre-line"==f;if(g)b=N,e=!0;else if("normal"==f||"nowrap"==f)b=Y,e=!0;return{node:a,text:a.data,spaceRegex:b,collapseSpaces:e,preLine:g}},"node"),hasInnerText:x("hasInnerText",function(a,b){for(var e=this.session,f=e.getPosition(a.parentNode,this.getNodeIndex()+1),g=e.getPosition(a,0),e=b?f:g,f=b?g:f;e!==f;){e.prepopulateChar();if(e.isDefinitelyNonEmpty())return!0;e=b?e.previousVisible():
e.nextVisible()}return!1},"node"),isRenderedBlock:x("isRenderedBlock",function(a){a=a.getElementsByTagName("br");for(var b=0,e=a.length;b<e;++b)if(!t(a[b]))return!0;return this.hasInnerText()},"node"),getTrailingSpace:x("trailingSpace",function(a){if("br"!=a.tagName.toLowerCase())switch(this.getComputedDisplay()){case "inline":for(a=a.lastChild;a;){if(!u(a))return 1==a.nodeType?this.session.getNodeWrapper(a).getTrailingSpace():"";a=a.previousSibling}break;case "inline-block":case "inline-table":case "none":case "table-column":case "table-column-group":break;
case "table-cell":return"\t";default:return this.isRenderedBlock(!0)?"\n":""}return""},"node"),getLeadingSpace:x("leadingSpace",function(a){switch(this.getComputedDisplay()){case "inline":case "inline-block":case "inline-table":case "none":case "table-column":case "table-column-group":case "table-cell":break;default:return this.isRenderedBlock(!1)?"\n":""}return""},"node")});ja={character:"",characterType:"EMPTY",isBr:!1,prepopulateChar:function(){if(!this.prepopulatedChar){var a=this.node,b=this.offset,
e="",f="EMPTY",g=!1;if(0<b)if(3==a.nodeType){var a=a.data,h=a.charAt(b-1),k=this.nodeWrapper.getTextNodeInfo(),l=k.spaceRegex;k.collapseSpaces?l.test(h)?1<b&&l.test(a.charAt(b-2))||(k.preLine&&"\n"===a.charAt(b)?(e=" ",f="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"):(e=" ",f="COLLAPSIBLE_SPACE")):(e=h,f="NON_SPACE",g=!0):(e=h,f="UNCOLLAPSIBLE_SPACE",g=!0)}else(h=a.childNodes[b-1])&&1==h.nodeType&&!t(h)&&("br"==h.tagName.toLowerCase()?(e="\n",this.isBr=!0,f="COLLAPSIBLE_SPACE",g=!1):this.checkForTrailingSpace=
!0),e||(b=a.childNodes[b])&&1==b.nodeType&&!t(b)&&(this.checkForLeadingSpace=!0);this.prepopulatedChar=!0;this.character=e;this.characterType=f;this.isCharInvariant=g}},isDefinitelyNonEmpty:function(){var a=this.characterType;return"NON_SPACE"==a||"UNCOLLAPSIBLE_SPACE"==a},resolveLeadingAndTrailingSpaces:function(){this.prepopulatedChar||this.prepopulateChar();if(this.checkForTrailingSpace){var a=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();a&&(this.isTrailingSpace=
!0,this.character=a,this.characterType="COLLAPSIBLE_SPACE");this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){if(a=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace())this.isLeadingSpace=!0,this.character=a,this.characterType="COLLAPSIBLE_SPACE";this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(a){for(var b=this,e;b=b.previousVisible();)if(e=b.getCharacter(a),""!==e)return b;return null},getCharacter:function(a){function b(){n||(m=r.getPrecedingUncollapsedPosition(a),
n=!0);return m}this.resolveLeadingAndTrailingSpaces();var e=this.character,g=f(a.ignoreCharacters),h=""!==e&&-1<g.indexOf(e);if(this.isCharInvariant)return h?"":e;var h=["character",a.includeSpaceBeforeBr,a.includeBlockContentTrailingSpace,a.includePreLineTrailingSpace,g].join("_"),k=this.cache.get(h);if(null!==k)return k;var k="",l,m,n=!1,r=this;if("COLLAPSIBLE_SPACE"==this.characterType)if("INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"==this.type)k="\n";else if(" "!=e||b()&&!m.isTrailingSpace&&"\n"!=m.character&&
(" "!=m.character||"COLLAPSIBLE_SPACE"!=m.characterType))if("\n"==e&&this.isLeadingSpace)b()&&"\n"!=m.character&&(k="\n");else if(l=this.nextUncollapsed())if(l.isBr?this.type="TRAILING_SPACE_BEFORE_BR":l.isTrailingSpace&&"\n"==l.character?this.type="TRAILING_SPACE_IN_BLOCK":l.isLeadingSpace&&"\n"==l.character&&(this.type="TRAILING_SPACE_BEFORE_BLOCK"),"\n"==l.character){if("TRAILING_SPACE_BEFORE_BR"!=this.type||a.includeSpaceBeforeBr)if("TRAILING_SPACE_BEFORE_BLOCK"!=this.type||a.includeSpaceBeforeBlock)if("TRAILING_SPACE_IN_BLOCK"!=
this.type||!l.isTrailingSpace||a.includeBlockContentTrailingSpace)if("PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"!=this.type||"NON_SPACE"!=l.type||a.includePreLineTrailingSpace)"\n"==e?l.isTrailingSpace?!this.isTrailingSpace&&this.isBr&&(l.type="TRAILING_LINE_BREAK_AFTER_BR",b()&&m.isLeadingSpace&&!m.isTrailingSpace&&"\n"==m.character?l.character="":l.type="INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"):k="\n":" "==e&&(k=" ")}else k=e;-1<g.indexOf(k)&&(k="");this.cache.set(h,k);return k},equals:function(a){return!!a&&
this.node===a.node&&this.offset===a.offset},inspect:function(){return"[Position("+L.inspectNode(this.node)+":"+this.offset+")]"},toString:function(){return this.character}};B.prototype=ja;T(ja,{next:x("nextPos",function(a){var b=a.nodeWrapper,e=a.node,f=a.offset;a=b.session;if(!e)return null;f==b.getLength()?b=(e=e.parentNode)?b.getNodeIndex()+1:0:b.isCharacterDataNode()?b=f+1:(b=e.childNodes[f],a.getNodeWrapper(b).containsPositions()?(e=b,b=0):b=f+1);return e?a.getPosition(e,b):null}),previous:x("previous",
function(a){var b=a.nodeWrapper,e=a.node,f=a.offset;a=b.session;0==f?b=(e=e.parentNode)?b.getNodeIndex():0:b.isCharacterDataNode()?b=f-1:(b=e.childNodes[f-1],a.getNodeWrapper(b).containsPositions()?(e=b,b=L.getNodeLength(b)):b=f-1);return e?a.getPosition(e,b):null}),nextVisible:x("nextVisible",function(a){var b=a.next();if(!b)return null;a=b.nodeWrapper;var e=b.node;a.isCollapsed()&&(b=a.session.getPosition(e.parentNode,a.getNodeIndex()+1));return b}),nextUncollapsed:x("nextUncollapsed",function(a){for(;a=
a.nextVisible();)if(a.resolveLeadingAndTrailingSpaces(),""!==a.character)return a;return null}),previousVisible:x("previousVisible",function(a){var b=a.previous();if(!b)return null;a=b.nodeWrapper;var e=b.node;a.isCollapsed()&&(b=a.session.getPosition(e.parentNode,a.getNodeIndex()));return b})});var v=null,nb=function(){function a(b){var e=new y;return{get:function(a){var f=e.get(a[b]);if(f)for(var g=0,h;h=f[g++];)if(h.node===a)return h;return null},set:function(a){var f=a.node[b];(e.get(f)||e.set(f,
[])).push(a)}}}function b(){this.initCaches()}var e=P.isHostProperty(document.documentElement,"uniqueID");b.prototype={initCaches:function(){this.elementCache=e?function(){var a=new y;return{get:function(b){return a.get(b.uniqueID)},set:function(b){a.set(b.node.uniqueID,b)}}}():a("tagName");this.textNodeCache=a("data");this.otherNodeCache=a("nodeName")},getNodeWrapper:function(a){var b;switch(a.nodeType){case 1:b=this.elementCache;break;case 3:b=this.textNodeCache;break;default:b=this.otherNodeCache}var e=
b.get(a);e||(e=new z(a,this),b.set(e));return e},getPosition:function(a,b){return this.getNodeWrapper(a).getPosition(b)},getRangeBoundaryPosition:function(a,b){var e=b?"start":"end";return this.getPosition(a[e+"Container"],a[e+"Offset"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}};return b}();T(L,{nextNode:m,previousNode:p});var Ba=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var e=0,f=a.length;e<f;++e)if(a[e]===b)return e;return-1};
T(a.rangePrototype,{moveStart:O(!0,!1),moveEnd:O(!1,!1),move:O(!0,!0),trimStart:J(!0),trimEnd:J(!1),trim:G(function(a,b){var e=this.trimStart(b),f=this.trimEnd(b);return e||f}),expand:G(function(a,b,e){var f=!1;e=l(e,Qa);var g=e.characterOptions;b||(b="character");if("word"==b){var h=e.wordOptions;b=a.getRangeBoundaryPosition(this,!0);a=a.getRangeBoundaryPosition(this,!1);var k=C(b,g,h).nextEndToken(),m=k.chars[0].previousVisible(),h=this.collapsed?k:C(a,g,h).previousStartToken(),h=h.chars[h.chars.length-
1];m.equals(b)||(this.setStart(m.node,m.offset),f=!0);h&&!h.equals(a)&&(this.setEnd(h.node,h.offset),f=!0);e.trim&&(e.trimStart&&(f=this.trimStart(g)||f),e.trimEnd&&(f=this.trimEnd(g)||f));return f}return this.moveEnd("character",1,e)}),text:G(function(a,b){var e;if(this.collapsed)e="";else{var f=V(b,ma);e=[];for(var f=E(a,this,f),g;g=f.next();)e.push(g);f.dispose();e=e.join("")}return e}),selectCharacters:G(function(a,b,e,f,g){a={characterOptions:g};b||(b=R(this.getDocument()));this.selectNodeContents(b);
this.collapse(!0);this.moveStart("character",e,a);this.collapse(!0);this.moveEnd("character",f-e,a)}),toCharacterRange:G(function(a,b,e){b||(b=R(this.getDocument()));a=b.parentNode;b=L.getNodeIndex(b);var f=-1==L.comparePoints(this.startContainer,this.endContainer,a,b),g=this.cloneRange();f?(g.setStartAndEnd(this.startContainer,this.startOffset,a,b),a=-g.text(e).length):(g.setStartAndEnd(a,b,this.startContainer,this.startOffset),a=g.text(e).length);e=a+this.text(e).length;return{start:a,end:e}}),
findText:G(function(b,e,f){f=l(f,Xa);f.wholeWordsOnly&&(f.wordOptions.includeTrailingSpace=!1);var g=U(f.direction),k=f.withinRange;k||(k=a.createRange(),k.selectNodeContents(this.getDocument()));var m=!1;"string"==typeof e?f.caseSensitive||(e=e.toLowerCase()):m=!0;var n=b.getRangeBoundaryPosition(this,!g),r=k.comparePoint(n.node,n.offset);-1===r?n=b.getRangeBoundaryPosition(k,!0):1===r&&(n=b.getRangeBoundaryPosition(k,!1));for(var p=n,r=!1;;)if(p=H(p,e,m,k,f)){if(p.valid)return this.setStartAndEnd(p.startPos.node,
p.startPos.offset,p.endPos.node,p.endPos.offset),!0;p=g?p.startPos:p.endPos}else if(f.wrap&&!r)k=k.cloneRange(),p=b.getRangeBoundaryPosition(k,!g),k.setBoundary(n.node,n.offset,g),r=!0;else return!1}),pasteHtml:function(a){this.deleteContents();if(a){a=this.createContextualFragment(a);var b=a.lastChild;this.insertNode(a);this.collapseAfter(b)}}});T(a.selectionPrototype,{expand:G(function(a,b,e){this.changeEachRange(function(a){a.expand(b,e)})}),move:G(function(a,b,e,f){a=0;if(this.focusNode){this.collapse(this.focusNode,
this.focusOffset);var g=this.getRangeAt(0);f||(f={});f.characterOptions=V(f.characterOptions,pa);a=g.move(b,e,f);this.setSingleRange(g)}return a}),trimStart:M("trimStart"),trimEnd:M("trimEnd"),trim:M("trim"),selectCharacters:G(function(b,e,f,g,k,l){b=a.createRange(e);b.selectCharacters(e,f,g,l);this.setSingleRange(b,k)}),saveCharacterRanges:G(function(a,b,e){a=this.getAllRanges();for(var f=[],g=1==a.length&&this.isBackward(),h=0,k=a.length;h<k;++h)f[h]={characterRange:a[h].toCharacterRange(b,e),backward:g,
characterOptions:e};return f}),restoreCharacterRanges:G(function(b,e,f){this.removeAllRanges();b=0;for(var g=f.length,k,l,m;b<g;++b)l=f[b],m=l.characterRange,k=a.createRange(e),k.selectCharacters(e,m.start,m.end,l.characterOptions),this.addRange(k,l.backward)}),text:G(function(a,b){for(var e=[],f=0,g=this.rangeCount;f<g;++f)e[f]=this.getRangeAt(f).text(b);return e.join("")})});a.innerText=function(b,e){var f=a.createRange(b);f.selectNodeContents(b);return f.text(e)};a.createWordIterator=function(a,
b,e){var f=v||D();e=l(e,Wa);a=f.getPosition(a,b);var g=C(a,e.characterOptions,e.wordOptions),h=U(e.direction);return{next:function(){return h?g.previousStartToken():g.nextEndToken()},dispose:function(){g.dispose();this.next=function(){}}}};a.noMutation=function(a){var b=v||D();a(b);w()};a.noMutation.createEntryPointFunction=G;a.textRange={isBlockNode:function(a){return a&&(1==a.nodeType&&!/^(inline(-block|-table)?|none)$/.test(k(a))||9==a.nodeType||11==a.nodeType)},isCollapsedWhitespaceNode:r,createPosition:G(function(a,
b,e){return a.getPosition(b,e)})}});return a},this);
(function(a,h){"function"==typeof define&&define.amd?define(["./rangy-core"],a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a(require("rangy")):a(h.rangy)})(function(a){a.createModule("SaveRestore",["WrappedRange"],function(a,e){function b(a,b){var e="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),f,g=q.getDocument(a.startContainer),h=a.cloneRange();h.collapse(b);f=g.createElement("span");f.id=e;f.style.lineHeight="0";f.style.display="none";f.className="rangySelectionBoundary";
f.appendChild(g.createTextNode("\ufeff"));h.insertNode(f);return f}function g(a,b,f,g){(a=(a||document).getElementById(f))?(b[g?"setStartBefore":"setEndBefore"](a),r(a)):e.warn("Marker element has been removed. Cannot restore selection.")}function f(a,b){return b.compareBoundaryPoints(a.START_TO_START,a)}function l(e,f){var g,k,l=a.DomRange.getRangeDocument(e),m=e.toString(),n=t(f);if(e.collapsed)return k=b(e,!1),{document:l,markerId:k.id,collapsed:!0};k=b(e,!1);g=b(e,!0);return{document:l,startMarkerId:g.id,
endMarkerId:k.id,collapsed:!1,backward:n,toString:function(){return"original text: '"+m+"', new text: '"+e.toString()+"'"}}}function k(b,f){var k=b.document;"undefined"==typeof f&&(f=!0);var l=a.createRange(k);if(b.collapsed)if(k=(k||document).getElementById(b.markerId)){k.style.display="inline";var m=k.previousSibling;m&&3==m.nodeType?(r(k),l.collapseToPoint(m,m.length)):(l.collapseBefore(k),r(k))}else e.warn("Marker element has been removed. Cannot restore selection.");else g(k,l,b.startMarkerId,
!0),g(k,l,b.endMarkerId,!1);f&&l.normalizeBoundaries();return l}function n(b,e){var g=[],k,m;k=t(e);b=b.slice(0);b.sort(f);var n=0;for(m=b.length;n<m;++n)g[n]=l(b[n],k);for(n=m-1;0<=n;--n)k=b[n],m=a.DomRange.getRangeDocument(k),k.collapsed?k.collapseAfter((m||document).getElementById(g[n].markerId)):(k.setEndBefore((m||document).getElementById(g[n].endMarkerId)),k.setStartAfter((m||document).getElementById(g[n].startMarkerId)));return g}function m(a){for(var b=[],e=a.length-1;0<=e;e--)b[e]=k(a[e],
!0);return b}function p(a,b){var e=(a||document).getElementById(b);e&&r(e)}var q=a.dom,r=q.removeNode,t=a.Selection.isDirectionBackward;a.util.extend(a,{saveRange:l,restoreRange:k,saveRanges:n,restoreRanges:m,saveSelection:function(b){if(!a.isSelectionValid(b))return e.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var f=a.getSelection(b),g=f.getAllRanges(),k=1==g.length&&f.isBackward(),l=n(g,k);k?f.setSingleRange(g[0],
k):f.setRanges(g);return{win:b,rangeInfos:l,restored:!1}},restoreSelection:function(b,e){if(!b.restored){var f=b.rangeInfos,g=a.getSelection(b.win),k=m(f);1==f.length&&e&&a.features.selectionHasExtend&&f[0].backward?(g.removeAllRanges(),g.addRange(k[0],!0)):g.setRanges(k);b.restored=!0}},removeMarkerElement:p,removeMarkers:function(a){for(var b=a.rangeInfos,e=0,f=b.length,g;e<f;++e)g=b[e],g.collapsed?p(a.doc,g.markerId):(p(a.doc,g.startMarkerId),p(a.doc,g.endMarkerId))}})});return a},this);Base=function(){};
Base.extend=function(a,h){var e=Base.prototype.extend;Base._prototyping=!0;var b=new this;e.call(b,a);b.base=function(){};delete Base._prototyping;var g=b.constructor,f=b.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==f)this._constructing=!0,g.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||e).call(arguments[0],b)};f.ancestor=this;f.extend=this.extend;f.forEach=this.forEach;f.implement=this.implement;f.prototype=
b;f.toString=this.toString;f.valueOf=function(a){return"object"==a?f:g.valueOf()};e.call(f,h);"function"==typeof f.init&&f.init();return f};
Base.prototype={extend:function(a,h){if(1<arguments.length){var e=this[a];if(e&&"function"==typeof h&&(!e.valueOf||e.valueOf()!=h.valueOf())&&/\bbase\b/.test(h)){var b=h.valueOf();h=function(){var a=this.base||Base.prototype.base;this.base=e;var f=b.apply(this,arguments);this.base=a;return f};h.valueOf=function(a){return"object"==a?h:b};h.toString=Base.toString}this[a]=h}else if(a){var g=Base.prototype.extend;Base._prototyping||"function"==typeof this||(g=this.extend||g);for(var f={toSource:null},
l=["constructor","toString","valueOf"],k=Base._prototyping?0:1;n=l[k++];)a[n]!=f[n]&&g.call(this,n,a[n]);for(var n in a)f[n]||g.call(this,n,a[n])}return this}};
Base=Base.extend({constructor:function(a){this.extend(a)}},{ancestor:Object,version:"1.1",forEach:function(a,h,e){for(var b in a)void 0===this.prototype[b]&&h.call(e,a[b],b,a)},implement:function(){for(var a=0;a<arguments.length;a++)if("function"==typeof arguments[a])arguments[a](this.prototype);else this.prototype.extend(arguments[a]);return this},toString:function(){return String(this.valueOf())}});
wysihtml5.browser=function(){function a(a,b){var e=-1,f;"Microsoft Internet Explorer"==navigator.appName?f=/MSIE ([0-9]{1,}[.0-9]{0,})/:"Netscape"==navigator.appName&&(-1<navigator.userAgent.indexOf("Trident")?f=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/:/Edge\/(\d+)./i.test(navigator.userAgent)&&(f=/Edge\/(\d+)./i));f&&null!=f.exec(navigator.userAgent)&&(e=parseFloat(RegExp.$1));if(-1===e)return!1;if(!a)return!0;if(!b)return a===e;if("<"===b)return a<e;if(">"===b)return a>e;if("<="===b)return a<=e;if(">="===
b)return a>=e}var h=navigator.userAgent,e=document.createElement("div"),b=-1!==h.indexOf("Gecko")&&-1===h.indexOf("KHTML")&&!a(),g=-1!==h.indexOf("AppleWebKit/")&&!a(),f=-1!==h.indexOf("Chrome/")&&!a(),l=-1!==h.indexOf("Opera/")&&!a();return{USER_AGENT:h,supported:function(){var a=this.USER_AGENT.toLowerCase(),b="contentEditable"in e,f=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,g=document.querySelector&&document.querySelectorAll,h;if(h=this.isIos())h=5>+(/ipad|iphone|ipod/.test(a)&&
a.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1];a=h||this.isAndroid()&&4>+(a.match(/android (\d+)/)||[void 0,0])[1]||-1!==a.indexOf("opera mobi")||-1!==a.indexOf("hpwos/");return b&&f&&g&&!a},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function(){return a()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in
document)},displaysCaretInEmptyContentEditableCorrectly:function(){return a(12,">")},hasCurrentStyleProperty:function(){return"currentStyle"in e},insertsLineBreaksOnReturn:function(){return b},supportsPlaceholderAttributeOn:function(a){return"placeholder"in a},supportsEvent:function(a){var b;(b="on"+a in e)||(e.setAttribute("on"+a,"return;"),b="function"===typeof e["on"+a]);return b},supportsEventsInIframeCorrectly:function(){return!l},supportsHTML5Tags:function(a){a=a.createElement("div");a.innerHTML=
"<article>foo</article>";return"<article>foo</article>"===a.innerHTML.toLowerCase()},supportsCommand:function(){var e={formatBlock:a(10,"<="),insertUnorderedList:a(),insertOrderedList:a()},f={insertHTML:b};return function(a,b){if(!e[b]){try{return a.queryCommandSupported(b)}catch(g){}try{return a.queryCommandEnabled(b)}catch(h){return!!f[b]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return a()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},
clearsContentEditableCorrectly:function(){return b||l||g},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return b||a()||l},autoScrollsToCaret:function(){return!g},autoClosesUnclosedTags:function(){var a=e.cloneNode(!1),b;a.innerHTML="<p><div></div>";a=a.innerHTML.toLowerCase();b="<p></p><div></div>"===a||"<p><div></div></p>"===a;this.autoClosesUnclosedTags=function(){return b};return b},supportsNativeGetElementsByClassName:function(){return-1!==
String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return l},supportsSpeechApiOn:function(a){return 11<=(h.match(/Chrome\/(\d+)/)||[void 0,0])[1]&&("onwebkitspeechchange"in a||"speech"in a)},crashesWhenDefineProperty:function(b){return a(9)&&("XMLHttpRequest"===b||"XDomainRequest"===b)},doesAsyncFocus:function(){return a(12,">")},hasProblemsSettingCaretAfterImg:function(){return a()},
hasLiDeletingProblem:function(){return a()},hasUndoInContextMenu:function(){return b||f||l},hasInsertNodeIssue:function(){return l},hasIframeFocusIssue:function(){return a()},createsNestedInvalidMarkupAfterPaste:function(){return g},hasCaretBlockElementIssue:function(){return g},supportsMutationEvents:function(){return"MutationEvent"in window},supportsModernPaste:function(){return!a()},fixStyleKey:function(a){return"cssFloat"===a?"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat":
a},usesControlRanges:function(){return document.body&&"createControlRange"in document.body}}}();
wysihtml5.lang.array=function(a){return{contains:function(h){if(Array.isArray(h)){for(var e=h.length;e--;)if(-1!==wysihtml5.lang.array(a).indexOf(h[e]))return!0;return!1}return-1!==wysihtml5.lang.array(a).indexOf(h)},indexOf:function(h){if(a.indexOf)return a.indexOf(h);for(var e=0,b=a.length;e<b;e++)if(a[e]===h)return e;return-1},without:function(h){h=wysihtml5.lang.array(h);for(var e=[],b=0,g=a.length;b<g;b++)h.contains(a[b])||e.push(a[b]);return e},get:function(){for(var h=0,e=a.length,b=[];h<e;h++)b.push(a[h]);
return b},map:function(h,e){if(Array.prototype.map)return a.map(h,e);for(var b=a.length>>>0,g=Array(b),f=0;f<b;f++)g[f]=h.call(e,a[f],f,a);return g},unique:function(){for(var h=[],e=a.length,b=0;b<e;)wysihtml5.lang.array(h).contains(a[b])||h.push(a[b]),b++;return h}}};
wysihtml5.lang.Dispatcher=Base.extend({on:function(a,h){this.events=this.events||{};this.events[a]=this.events[a]||[];this.events[a].push(h);return this},off:function(a,h){this.events=this.events||{};var e=0,b,g;if(a){b=this.events[a]||[];for(g=[];e<b.length;e++)b[e]!==h&&h&&g.push(b[e]);this.events[a]=g}else this.events={};return this},fire:function(a,h){this.events=this.events||{};for(var e=this.events[a]||[],b=0;b<e.length;b++)e[b].call(this,h);return this},observe:function(){return this.on.apply(this,
arguments)},stopObserving:function(){return this.off.apply(this,arguments)}});
wysihtml5.lang.object=function(a){return{merge:function(h,e){for(var b in h)e&&wysihtml5.lang.object(h[b]).isPlainObject()&&("undefined"===typeof a[b]||wysihtml5.lang.object(a[b]).isPlainObject())?"undefined"===typeof a[b]?a[b]=wysihtml5.lang.object(h[b]).clone(!0):wysihtml5.lang.object(a[b]).merge(wysihtml5.lang.object(h[b]).clone(!0)):a[b]=wysihtml5.lang.object(h[b]).isPlainObject()?wysihtml5.lang.object(h[b]).clone(!0):h[b];return this},difference:function(h){var e={},b;for(b in a)a.hasOwnProperty(b)&&
(h.hasOwnProperty(b)||(e[b]=a[b]));for(var g in h)h.hasOwnProperty(g)&&(a.hasOwnProperty(g)&&a[g]===h[g]||(e[0]=a[0]));return e},get:function(){return a},clone:function(h){var e={},b;if(null===a||!wysihtml5.lang.object(a).isPlainObject())return a;for(b in a)a.hasOwnProperty(b)&&(e[b]=h?wysihtml5.lang.object(a[b]).clone(h):a[b]);return e},isArray:function(){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(){return"[object Function]"===Object.prototype.toString.call(a)},
isPlainObject:function(){return a&&"[object Object]"===Object.prototype.toString.call(a)&&!("Node"in window?a instanceof Node:a instanceof Element||a instanceof Text)},isEmpty:function(){for(var h in a)if(a.hasOwnProperty(h))return!1;return!0}}};
(function(){var a=/^\s+/,h=/\s+$/,e=/[&<>\t"]/g,b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","\t":"&nbsp; "};wysihtml5.lang.string=function(g){g=String(g);return{trim:function(){return g.replace(a,"").replace(h,"")},interpolate:function(a){for(var b in a)g=this.replace("#{"+b+"}").by(a[b]);return g},replace:function(a){return{by:function(b){return g.split(a).join(b)}}},escapeHTML:function(a,h){var k=g.replace(e,function(a){return b[a]});a&&(k=k.replace(/(?:\r\n|\r|\n)/g,"<br />"));h&&(k=k.replace(/  /gi,
"&nbsp; "));return k}}}})();
(function(a){function h(a){return a.replace(g,function(a,b){var e=(b.match(f)||[])[1]||"",g=l[e];b=b.replace(f,"");b.split(g).length>b.split(e).length&&(b+=e,e="");var h=g=b;100<b.length&&(h=h.substr(0,100)+"...");"www."===g.substr(0,4)&&(g="http://"+g);return'<a href="'+g+'">'+h+"</a>"+e})}function e(f,l){if(!(b.contains(f.nodeName)||f.className&&a.lang.array(f.className.split(" ")).contains(l)))if(f.nodeType===a.TEXT_NODE&&f.data.match(g)){var m=f.parentNode,p=a.lang.string(f.data).escapeHTML(),q;
q=m.ownerDocument;var r=q._wysihtml5_tempElement;r||(r=q._wysihtml5_tempElement=q.createElement("div"));q=r;q.innerHTML="<span></span>"+h(p);for(q.removeChild(q.firstChild);q.firstChild;)m.insertBefore(q.firstChild,f);m.removeChild(f)}else{m=a.lang.array(f.childNodes).get();p=m.length;for(q=0;q<p;q++)e(m[q],l);return f}}var b=a.lang.array("CODE PRE A SCRIPT HEAD TITLE STYLE".split(" ")),g=/((https?:\/\/|www\.)[^\s<]{3,})/gi,f=/([^\w\/\-](,?))$/i,l={")":"(","]":"[","}":"{"};a.dom.autoLink=function(f,
g){var h;a:{h=f;for(var l;h.parentNode;){h=h.parentNode;l=h.nodeName;if(h.className&&a.lang.array(h.className.split(" ")).contains(g)||b.contains(l)){h=!0;break a}if("body"===l)break}h=!1}if(h)return f;f===f.ownerDocument.documentElement&&(f=f.ownerDocument.body);return e(f,g)};a.dom.autoLink.URL_REG_EXP=g})(wysihtml5);
(function(a){var h=a.dom;h.addClass=function(a,b){var g=a.classList;if(g)return g.add(b);h.hasClass(a,b)||(a.className+=" "+b)};h.removeClass=function(a,b){var g=a.classList;if(g)return g.remove(b);a.className=a.className.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)")," ")};h.hasClass=function(a,b){var g=a.classList;if(g)return g.contains(b);g=a.className;return 0<g.length&&(g==b||(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(g))}})(wysihtml5);
wysihtml5.dom.contains=function(){var a=document.documentElement;if(a.contains)return function(a,e){if(e.nodeType!==wysihtml5.ELEMENT_NODE){if(e.parentNode===a)return!0;e=e.parentNode}return a!==e&&a.contains(e)};if(a.compareDocumentPosition)return function(a,e){return!!(a.compareDocumentPosition(e)&16)}}();
wysihtml5.dom.convertToList=function(){function a(a,e){var b=a.createElement("li");e.appendChild(b);return b}return function(h,e,b){if("UL"===h.nodeName||"OL"===h.nodeName||"MENU"===h.nodeName)return h;var g=h.ownerDocument;e=g.createElement(e);var f=h.querySelectorAll("br"),l=f.length,k,n,m,p,q;for(q=0;q<l;q++)for(n=f[q];(k=n.parentNode)&&k!==h&&k.lastChild===n;){if("block"===wysihtml5.dom.getStyle("display").from(k)){k.removeChild(n);break}wysihtml5.dom.insert(n).after(n.parentNode)}k=wysihtml5.lang.array(h.childNodes).get();
f=k.length;for(q=0;q<f;q++)p=p||a(g,e),l=k[q],n="block"===wysihtml5.dom.getStyle("display").from(l),m="BR"===l.nodeName,!n||b&&wysihtml5.dom.hasClass(l,b)?m?p=p.firstChild?null:p:p.appendChild(l):(p=p.firstChild?a(g,e):p,p.appendChild(l),p=null);0===k.length&&a(g,e);h.parentNode.replaceChild(e,h);return e}}();wysihtml5.dom.copyAttributes=function(a){return{from:function(h){return{to:function(e){for(var b,g=0,f=a.length;g<f;g++)b=a[g],"undefined"!==typeof h[b]&&""!==h[b]&&(e[b]=h[b]);return{andTo:arguments.callee}}}}}};
(function(a){var h=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],e=function(b){var e;a:{e=0;for(var f=h.length;e<f;e++)if("border-box"===a.getStyle(h[e]).from(b)){e=h[e];break a}e=void 0}return e?parseInt(a.getStyle("width").from(b),10)<b.offsetWidth:!1};a.copyStyles=function(b){return{from:function(g){e(g)&&(b=wysihtml5.lang.array(b).without(h));for(var f="",l=b.length,k=0,n;k<l;k++)n=b[k],f+=n+":"+a.getStyle(n).from(g)+";";return{to:function(b){a.setStyles(f).on(b);return{andTo:arguments.callee}}}}}}})(wysihtml5.dom);
(function(a){a.dom.delegate=function(a,e,b,g){var f=function(b){for(var f=b.target,f=3===f.nodeType?f.parentNode:f,n=a.querySelectorAll(e),m=0,p=n.length;m<p;m++)n[m].contains(f)&&g.call(n[m],b)};a.addEventListener(b,f,!1);return{stop:function(){a.removeEventListener(b,f,!1)}}}})(wysihtml5);
(function(a){function h(a,b){for(var g=[a],f=a;b&&f&&f!==b||!b&&f;)g.unshift(f),f=f.parentNode;return g}a.dom.domNode=function(e){var b=[a.ELEMENT_NODE,a.TEXT_NODE];return{is:{emptyTextNode:function(b){b=b?/^\s*$/g:/^[\r\n]*$/g;return e&&e.nodeType===a.TEXT_NODE&&b.test(e.data)},rangyBookmark:function(){return e&&1===e.nodeType&&e.classList.contains("rangySelectionBoundary")},visible:function(){var b=!/^\s*$/g.test(a.dom.getTextContent(e));b||1===e.nodeType&&e.querySelector("img, br, hr, object, embed, canvas, input, textarea")&&
(b=!0);return b},lineBreak:function(){return e&&1===e.nodeType&&"BR"===e.nodeName},block:function(){return e&&1===e.nodeType&&"block"===e.ownerDocument.defaultView.getComputedStyle(e).display},voidElement:function(){return a.dom.domNode(e).test({query:a.VOID_ELEMENTS})}},prev:function(g){var f=e.previousSibling,h=g&&g.nodeTypes?g.nodeTypes:b;return f?a.dom.domNode(f).is.rangyBookmark()||!a.lang.array(h).contains(f.nodeType)||g&&g.ignoreBlankTexts&&a.dom.domNode(f).is.emptyTextNode(!0)?a.dom.domNode(f).prev(g):
f:null},next:function(g){var f=e.nextSibling,h=g&&g.nodeTypes?g.nodeTypes:b;return f?a.dom.domNode(f).is.rangyBookmark()||!a.lang.array(h).contains(f.nodeType)||g&&g.ignoreBlankTexts&&a.dom.domNode(f).is.emptyTextNode(!0)?a.dom.domNode(f).next(g):f:null},commonAncestor:function(a,b){var l=h(e,b),k=h(a,b);if(l[0]!=k[0])return null;for(var n=0;n<l.length;n++)if(l[n]!=k[n])return l[n-1];return null},lastLeafNode:function(b){var f;if(1!==e.nodeType)return e;f=e.lastChild;if(!f)return e;if(b&&b.leafClasses)for(var h=
b.leafClasses.length;h--;)if(a.dom.hasClass(e,b.leafClasses[h]))return e;return a.dom.domNode(f).lastLeafNode(b)},escapeParent:function(b,f){var h,k,n,m=e;if(!a.dom.contains(b,e))throw Error("Child is not a descendant of node.");do{h=m.parentNode;for(k=h.cloneNode(!1);h.lastChild&&h.lastChild!==m;)k.insertBefore(h.lastChild,k.firstChild);h!==b&&(n=h.cloneNode(!1),n.appendChild(m),m=n);h.parentNode.insertBefore(m,h.nextSibling);if(""!==k.innerHTML)if(/^\s+$/.test(k.innerHTML))for(;k.lastChild;)h.parentNode.insertBefore(k.lastChild,
m.nextSibling);else h.parentNode.insertBefore(k,m.nextSibling);if(""===h.innerHTML)h.parentNode.removeChild(h);else if(/^\s+$/.test(h.innerHTML)){for(;h.firstChild;)h.parentNode.insertBefore(h.firstChild,h);h.parentNode.removeChild(h)}}while(h&&h!==b);f&&m&&(m.parentNode.insertBefore(f,m),f.appendChild(m))},transferContentTo:function(b,f){if(1===e.nodeType){if(a.dom.domNode(b).is.voidElement()||3===b.nodeType)for(;e.lastChild;)b.parentNode.insertBefore(e.lastChild,b.nextSibling);else for(;e.firstChild;)b.appendChild(e.firstChild);
f&&e.parentNode.removeChild(e)}else if(3===e.nodeType||8===e.nodeType)a.dom.domNode(b).is.voidElement()?b.parentNode.insertBefore(e,b.nextSibling):b.appendChild(e)},test:function(b){var f;if(!b||1!==e.nodeType||b.query&&!e.matches(b.query)||b.nodeName&&e.nodeName.toLowerCase()!==b.nodeName.toLowerCase()||b.className&&!e.classList.contains(b.className)||b.classRegExp&&0===((e.className||"").match(b.classRegExp)||[]).length)return!1;if(b.styleProperty&&0<b.styleProperty.length){f=Array.isArray(b.styleProperty)?
b.styleProperty:[b.styleProperty];for(var h=f.length;0<h;){f=a.browser.fixStyleKey(f[0]);if(e.style[f])if(b.styleValue)if(b.styleValue instanceof RegExp){if(0<e.style[f].trim().match(b.styleValue).length)break}else if(Array.isArray(b.styleValue)){if(b.styleValue.indexOf(e.style[f].trim()))break}else{if(b.styleValue===e.style[f].trim().replace(/, /g,","))break}else break;return!1}}if(b.attribute){f=a.dom.getAttributes(e);var h=[],k=!1;Array.isArray(b.attribute)?h=b.attribute:h[b.attribute]=b.attributeValue;
for(var n in h)if(h.hasOwnProperty(n))if("undefined"===typeof h[n]){if("undefined"!==typeof f[n]){k=!0;break}}else if(f[n]===h[n]){k=!0;break}if(!k)return!1}return!0}}}})(wysihtml5);
wysihtml5.dom.getAsDom=function(){var a="abbr article aside audio bdi canvas command datalist details figcaption figure footer header hgroup keygen mark meter nav output progress rp rt ruby svg section source summary time track video wbr".split(" ");return function(h,e){e=e||document;var b;if("object"===typeof h&&h.nodeType)b=e.createElement("div"),b.appendChild(h);else if(wysihtml5.browser.supportsHTML5Tags(e))b=e.createElement("div"),b.innerHTML=h;else{b=e;if(!b._wysihtml5_supportsHTML5Tags){for(var g=
0,f=a.length;g<f;g++)b.createElement(a[g]);b._wysihtml5_supportsHTML5Tags=!0}b=e;g=b.createElement("div");g.style.display="none";b.body.appendChild(g);try{g.innerHTML=h}catch(l){}b.body.removeChild(g);b=g}return b}}();wysihtml5.dom.getParentElement=function(){return function(a,h,e,b){for(e=e||50;e--&&a&&"BODY"!==a.nodeName&&(!b||a!==b);){if(wysihtml5.dom.domNode(a).test(h))return a;a=a.parentNode}return null}}();
wysihtml5.dom.getStyle=function(){function a(a){return a.replace(e,function(a){return a.charAt(1).toUpperCase()})}var h={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},e=/\-[a-z]/g;return function(b){return{from:function(e){if(e.nodeType===wysihtml5.ELEMENT_NODE){var f=e.ownerDocument,l=h[b]||a(b),k=e.style,n=e.currentStyle,m=k[l];if(m)return m;if(n)try{return n[l]}catch(p){}var l=f.defaultView||f.parentWindow,f=("height"===b||"width"===b)&&"TEXTAREA"===e.nodeName,
q;if(l.getComputedStyle)return f&&(q=k.overflow,k.overflow="hidden"),e=l.getComputedStyle(e,null).getPropertyValue(b),f&&(k.overflow=q||""),e}}}}}();wysihtml5.dom.getTextNodes=function(a,h){var e=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?h&&/^\s*$/.test(a.innerText||a.textContent)||e.push(a):e=e.concat(wysihtml5.dom.getTextNodes(a,h));return e};
wysihtml5.dom.hasElementWithTagName=function(){var a={},h=1;return function(e,b){var g=(e._wysihtml5_identifier||(e._wysihtml5_identifier=h++))+":"+b,f=a[g];f||(f=a[g]=e.getElementsByTagName(b));return 0<f.length}}();(function(a){var h={},e=1;a.dom.hasElementWithClassName=function(b,g){if(!a.browser.supportsNativeGetElementsByClassName())return!!b.querySelector("."+g);var f=(b._wysihtml5_identifier||(b._wysihtml5_identifier=e++))+":"+g,l=h[f];l||(l=h[f]=b.getElementsByClassName(g));return 0<l.length}})(wysihtml5);
wysihtml5.dom.insert=function(a){return{after:function(h){h.parentNode.insertBefore(a,h.nextSibling)},before:function(h){h.parentNode.insertBefore(a,h)},into:function(h){h.appendChild(a)}}};wysihtml5.dom.insertCSS=function(a){a=a.join("\n");return{into:function(h){var e=h.createElement("style");e.type="text/css";e.styleSheet?e.styleSheet.cssText=a:e.appendChild(h.createTextNode(a));var b=h.querySelector("head link");b?b.parentNode.insertBefore(e,b):(h=h.querySelector("head"))&&h.appendChild(e)}}};
(function(a){a.dom.lineBreaks=function(h){function e(b){return"BR"===b.nodeName||"block"===a.dom.getStyle("display").from(b)?!0:!1}return{add:function(b){b=h.ownerDocument;var g=a.dom.domNode(h).next({ignoreBlankTexts:!0}),f=a.dom.domNode(h).prev({ignoreBlankTexts:!0});g&&!e(g)&&a.dom.insert(b.createElement("br")).after(h);f&&!e(f)&&a.dom.insert(b.createElement("br")).before(h)},remove:function(b){b=a.dom.domNode(h).next({ignoreBlankTexts:!0});var e=a.dom.domNode(h).prev({ignoreBlankTexts:!0});b&&
"BR"===b.nodeName&&b.parentNode.removeChild(b);e&&"BR"===e.nodeName&&e.parentNode.removeChild(e)}}}})(wysihtml5);
wysihtml5.dom.observe=function(a,h,e){h="string"===typeof h?[h]:h;for(var b,g,f=0,l=h.length;f<l;f++)g=h[f],a.addEventListener?a.addEventListener(g,e,!1):(b=function(b){"target"in b||(b.target=b.srcElement);b.preventDefault=b.preventDefault||function(){this.returnValue=!1};b.stopPropagation=b.stopPropagation||function(){this.cancelBubble=!0};e.call(a,b)},a.attachEvent("on"+g,b));return{stop:function(){for(var f,g=0,l=h.length;g<l;g++)f=h[g],a.removeEventListener?a.removeEventListener(f,e,!1):a.detachEvent("on"+
f,b)}}};
wysihtml5.dom.parse=function(a,h){function e(a,b,f,g){var h=a.nodeType,m=a.childNodes,n=m.length,r=l[h],p=0,t;if(g&&1===h&&wysihtml5.dom.hasClass(a,g))return a;r=r&&r(a,f);if(!r){if(!1===r){h=a.ownerDocument.createDocumentFragment();for(p=n;p--;)m[p]&&(t=e(m[p],b,f,g))&&(m[p]===t&&p--,h.insertBefore(t,h.firstChild));b=wysihtml5.dom.getStyle("display").from(a);""===b&&(b=wysihtml5.lang.array(q).contains(a.tagName)?"block":"");wysihtml5.lang.array(["block","flex","table"]).contains(b)&&h.appendChild(a.ownerDocument.createElement("br"));wysihtml5.lang.array("div pre p table td th ul ol li dd dl footer header section h1 h2 h3 h4 h5 h6".split(" ")).contains(a.nodeName.toLowerCase())&&
a.parentNode.lastChild!==a&&(a.nextSibling&&3===a.nextSibling.nodeType&&/^\s/.test(a.nextSibling.nodeValue)||h.appendChild(a.ownerDocument.createTextNode(" ")));h.normalize&&h.normalize();return h}return null}for(p=0;p<n;p++)m[p]&&(t=e(m[p],b,f,g))&&(m[p]===t&&p--,r.appendChild(t));if(b&&r.nodeName.toLowerCase()===k&&(!r.childNodes.length||/^\s*$/gi.test(r.innerHTML)&&(f||"_wysihtml5-temp-placeholder"!==a.className&&"rangySelectionBoundary"!==a.className)||!r.attributes.length)){for(h=r.ownerDocument.createDocumentFragment();r.firstChild;)h.appendChild(r.firstChild);
h.normalize&&h.normalize();return h}r.normalize&&r.normalize();return r}function b(a,b){var e=a.getAttribute("class"),f=a.getAttribute("style"),g,h,k;if(b.methods)for(g in b.methods)if(b.methods.hasOwnProperty(g)&&y[g]&&y[g](a))return!0;if(e&&b.classes){e=e.replace(/^\s+/g,"").replace(/\s+$/g,"").split(n);g=e.length;for(var l=0;l<g;l++)if(b.classes[e[l]])return!0}if(f&&b.styles)for(h in f=f.split(";"),b.styles)if(b.styles.hasOwnProperty(h))for(g=f.length;g--;)if(e=f[g].split(":"),e[0].replace(/\s/g,
"").toLowerCase()===h&&(!0===b.styles[h]||1===b.styles[h]||wysihtml5.lang.array(b.styles[h]).contains(e[1].replace(/\s/g,"").toLowerCase())))return!0;if(b.attrs)for(k in b.attrs)if(b.attrs.hasOwnProperty(k)&&(f=wysihtml5.dom.getAttribute(a,k),"string"===typeof f&&-1<f.search(b.attrs[k])))return!0;return!1}function g(a,b,e,f){if(a=wysihtml5.lang.object(e).isFunction()?e:r[e])if(b=a(b,f),"string"===typeof b)return b;return!1}function f(a,b){var e=wysihtml5.lang.object(p.attributes||{}).clone(),e=wysihtml5.lang.object(e).merge(wysihtml5.lang.object(b||
{}).clone()).get(),f={},h=wysihtml5.dom.getAttributes(a),k,l,m;for(k in e)if(/\*$/.test(k)){l=k.slice(0,-1);m=h;var n=[],r=void 0;for(r in m)m.hasOwnProperty(r)&&0===r.indexOf(l)&&n.push(r);m=n;n=0;for(r=m.length;n<r;n++)l=g(m[n],h[m[n]],e[k],a.nodeName),!1!==l&&(f[m[n]]=l)}else l=g(k,h[k],e[k],a.nodeName),!1!==l&&(f[k]=l);return f}var l={1:function(a,e){var g,h;g=p.tags;h=a.nodeName.toLowerCase();var l=a.scopeName,m;if(a._wysihtml5)return null;a._wysihtml5=1;if("wysihtml5-temp"===a.className)return null;
l&&"HTML"!=l&&(h=l+":"+h);"outerHTML"in a&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==a.nodeName||"</p>"===a.outerHTML.slice(-4).toLowerCase()||(h="div"));if(h in g){g=g[h];if(!g||g.remove)return null;if(g.unwrap)return!1;g="string"===typeof g?{rename_tag:g}:g}else if(a.firstChild)g={rename_tag:k};else return null;if(l=g.one_of_type){var r;a:{var l=p,q=g.one_of_type,y;if("SPAN"!==a.nodeName||e||"_wysihtml5-temp-placeholder"!==a.className&&"rangySelectionBoundary"!==a.className){for(r in q)if(q.hasOwnProperty(r)&&
l.type_definitions&&l.type_definitions[r]&&(y=l.type_definitions[r],b(a,y))){r=!0;break a}r=!1}else r=!0}l=!r}if(l)if(g.remove_action){if("unwrap"===g.remove_action)return!1;if("rename"===g.remove_action)m=g.remove_action_rename_to||k;else return null}else return null;h=a.ownerDocument.createElement(m||g.rename_tag||h);var x=g;m={};var J=x.set_class,M=x.add_class,L=x.add_style,P=x.set_attributes;r=p.classes;l=0;q=[];y=[];var T=[],V=[],R;P&&(m=wysihtml5.lang.object(P).clone());m=wysihtml5.lang.object(m).merge(f(a,
x.check_attributes)).get();J&&q.push(J);if(M)for(R in M)if(x=u[M[R]])x=x(wysihtml5.dom.getAttribute(a,R)),"string"===typeof x&&q.push(x);if(L)for(R in L)if(x=t[L[R]])newStyle=x(wysihtml5.dom.getAttribute(a,R)),"string"===typeof newStyle&&y.push(newStyle);if("string"===typeof r&&"any"===r)if(a.getAttribute("class"))if(p.classes_blacklist){(V=a.getAttribute("class"))&&(q=q.concat(V.split(n)));for(M=q.length;l<M;l++)L=q[l],p.classes_blacklist[L]||T.push(L);T.length&&(m["class"]=wysihtml5.lang.array(T).unique().join(" "))}else m["class"]=
a.getAttribute("class");else q&&0<q.length&&(m["class"]=wysihtml5.lang.array(q).unique().join(" "));else{e||(r["_wysihtml5-temp-placeholder"]=1,r._rangySelectionBoundary=1,r["wysiwyg-tmp-selected-cell"]=1);(V=a.getAttribute("class"))&&(q=q.concat(V.split(n)));for(M=q.length;l<M;l++)L=q[l],r[L]&&T.push(L);T.length&&(m["class"]=wysihtml5.lang.array(T).unique().join(" "))}m["class"]&&e&&(m["class"]=m["class"].replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(m["class"])&&delete m["class"]);y.length&&
(m.style=wysihtml5.lang.array(y).unique().join(" "));for(R in m)try{h.setAttribute(R,m[R])}catch(Y){}m.src&&("undefined"!==typeof m.width&&h.setAttribute("width",m.width),"undefined"!==typeof m.height&&h.setAttribute("height",m.height));R=g;var N;if(R&&R.keep_styles)for(N in R.keep_styles)R.keep_styles.hasOwnProperty(N)&&(g="float"===N?a.style.styleFloat||a.style.cssFloat:a.style[N],R.keep_styles[N]instanceof RegExp&&!R.keep_styles[N].test(g)||("float"===N?h.style[a.style.styleFloat?"styleFloat":
"cssFloat"]=g:a.style[N]&&(h.style[N]=g)));h.normalize&&h.normalize();return h},3:function(a){var b=a.nextSibling;if(b&&b.nodeType===wysihtml5.TEXT_NODE)b.data=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")+b.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"");else return b=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,""),a.ownerDocument.createTextNode(b)},8:function(a){if(p.comments)return a.ownerDocument.createComment(a.nodeValue)}},k="span",n=/\s+/,m={tags:{},classes:{}},p={},q="ADDRESS BLOCKQUOTE CENTER DIR DIV DL FIELDSET FORM H1 H2 H3 H4 H5 H6 ISINDEX MENU NOFRAMES NOSCRIPT OL P PRE TABLE UL".split(" "),
r={url:function(){var a=/^https?:\/\//i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),src:function(){var a=/^(\/|https?:\/\/)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),href:function(){var a=/^(#|\/|https?:\/\/|mailto:|tel:)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),alt:function(){var a=/[^ a-z0-9_\-]/gi;return function(b,e){return b?
b.replace(a,""):"IMG"===e?"":null}}(),numbers:function(){var a=/\D/g;return function(b){return(b=(b||"").replace(a,""))||null}}(),dimension:function(){var a=/\D*(\d+)(\.\d+)?\s?(%)?\D*/;return function(b){return(b=(b||"").replace(a,"$1$2$3"))||null}}(),any:function(){return function(a){return a?a:null}}()},t={align_text:function(){var a={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"};return function(b){return a[String(b).toLowerCase()]}}()},u={align_img:function(){var a=
{left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(b){return a[String(b).toLowerCase()]}}(),align_text:function(){var a={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(b){return a[String(b).toLowerCase()]}}(),clear_br:function(){var a={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(b){return a[String(b).toLowerCase()]}}(),
size_font:function(){var a={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(b){return a[String(b).charAt(0)]}}()},y={has_visible_contet:function(){var a,b="img video picture br script noscript style table iframe object embed audio svg input button select textarea canvas".split(" ");
return function(e){if((a=(e.innerText||e.textContent).replace(/\s/g,""))&&0<a.length)return!0;for(var f=b.length;f--;)if(e.querySelector(b[f]))return!0;return e.offsetWidth&&0<e.offsetWidth&&e.offsetHeight&&0<e.offsetHeight?!0:!1}}()},x={unwrap:function(a){wysihtml5.dom.unwrap(a)},remove:function(a){a.parentNode.removeChild(a)}};return function(a,b){wysihtml5.lang.object(p).merge(m).merge(b.rules).get();var f=b.context||a.ownerDocument||document,g=f.createDocumentFragment(),h="string"===typeof a,
k=!1,l,n;!0===b.clearInternals&&(k=!0);f=h?wysihtml5.dom.getAsDom(a,f):a;if(p.selectors){var r=p.selectors,q;for(l in r)if(r.hasOwnProperty(l)){wysihtml5.lang.object(r[l]).isFunction()?n=r[l]:"string"===typeof r[l]&&x[r[l]]&&(n=x[r[l]]);q=f.querySelectorAll(l);for(var t=q.length;t--;)n(q[t])}}for(;f.firstChild;)n=f.firstChild,(l=e(n,b.cleanUp,k,b.uneditableClass))&&g.appendChild(l),n!==l&&f.removeChild(n);if(b.unjoinNbsps)for(k=wysihtml5.dom.getTextNodes(g),l=k.length;l--;)k[l].nodeValue=k[l].nodeValue.replace(/([\S\u00A0])\u00A0/gi,
"$1 ");f.innerHTML="";f.appendChild(g);return h?wysihtml5.quirks.getCorrectInnerHTML(f):f}(a,h)};wysihtml5.dom.removeEmptyTextNodes=function(a){for(var h=wysihtml5.lang.array(a.childNodes).get(),e=h.length,b=0;b<e;b++)a=h[b],a.nodeType===wysihtml5.TEXT_NODE&&/^[\n\r]*$/.test(a.data)&&a.parentNode.removeChild(a)};
wysihtml5.dom.renameElement=function(a,h){for(var e=a.ownerDocument.createElement(h),b;b=a.firstChild;)e.appendChild(b);wysihtml5.dom.copyAttributes(["align","className"]).from(a).to(e);a.parentNode&&a.parentNode.replaceChild(e,a);return e};wysihtml5.dom.replaceWithChildNodes=function(a){if(a.parentNode){for(;a.firstChild;)a.parentNode.insertBefore(a.firstChild,a);a.parentNode.removeChild(a)}};
(function(a){function h(b){return"block"===a.getStyle("display").from(b)}function e(a){var e=a.ownerDocument.createElement("br");a.appendChild(e)}a.resolveList=function(a,g){if(a.nodeName.match(/^(MENU|UL|OL)$/)){var f=a.ownerDocument,l=f.createDocumentFragment(),k=wysihtml5.dom.domNode(a).prev({ignoreBlankTexts:!0}),n=wysihtml5.dom.domNode(a).next({ignoreBlankTexts:!0}),m,p,q=a.lastElementChild||a.lastChild,r;if(g)for(k&&!h(k)&&"BR"!==k.nodeName&&e(l);p=a.firstElementChild||a.firstChild;){f=p.lastChild;
for(r=p===q;k=p.firstChild;)m=k===f,m=(!r||n&&!h(n))&&m&&!h(k)&&"BR"!==k.nodeName,l.appendChild(k),m&&e(l);p.parentNode.removeChild(p)}else for(;p=a.firstElementChild||a.firstChild;){if(p.querySelector&&p.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;k=p.firstChild;)l.appendChild(k);else{for(n=f.createElement("p");k=p.firstChild;)n.appendChild(k);l.appendChild(n)}p.parentNode.removeChild(p)}a.parentNode.replaceChild(l,a)}}})(wysihtml5.dom);
(function(a){var h=document,e="parent top opener frameElement frames localStorage globalStorage sessionStorage indexedDB".split(" "),b="open close openDialog showModalDialog alert confirm prompt openDatabase postMessage XMLHttpRequest XDomainRequest".split(" "),g=["referrer","write","open","close"];a.dom.Sandbox=Base.extend({constructor:function(b,e){this.callback=b||a.EMPTY_FUNCTION;this.config=a.lang.object({}).merge(e).get();this.config.className||(this.config.className="wysihtml5-sandbox");this.editableArea=
this._createIframe()},insertInto:function(a){"string"===typeof a&&(a=h.getElementById(a));a.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var a=this.getIframe();a.parentNode.removeChild(a)},_readyError:function(){throw Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet");},_createIframe:function(){var b=this,e=h.createElement("iframe");e.className=this.config.className;
a.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(e);a.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(e.src="javascript:'<html></html>'");e.onload=function(){e.onreadystatechange=e.onload=null;b._onLoadIframe(e)};e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&(e.onreadystatechange=e.onload=null,b._onLoadIframe(e))};return e},_onLoadIframe:function(f){if(a.dom.contains(h.documentElement,
f)){var l=this,k=f.contentWindow,n=f.contentWindow.document,m=this._getHtml({charset:h.characterSet||h.charset||"utf-8",stylesheets:this.config.stylesheets});n.open("text/html","replace");n.write(m);n.close();this.getWindow=function(){return f.contentWindow};this.getDocument=function(){return f.contentWindow.document};k.onerror=function(a,b,e){throw Error("wysihtml5.Sandbox: "+a,b,e);};if(!a.browser.supportsSandboxedIframes()){var p,m=0;for(p=e.length;m<p;m++)this._unset(k,e[m]);m=0;for(p=b.length;m<
p;m++)this._unset(k,b[m],a.EMPTY_FUNCTION);m=0;for(p=g.length;m<p;m++)this._unset(n,g[m]);this._unset(n,"cookie","",!0)}a.polyfills&&a.polyfills(k,n);this.loaded=!0;setTimeout(function(){l.callback(l)},0)}},_getHtml:function(b){var e=b.stylesheets,g="",h=0,m;if(e="string"===typeof e?[e]:e)for(m=e.length;h<m;h++)g+='<link rel="stylesheet" href="'+e[h]+'">';b.stylesheets=g;return a.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(b)},
_unset:function(b,e,g,h){try{b[e]=g}catch(m){}try{b.__defineGetter__(e,function(){return g})}catch(p){}if(h)try{b.__defineSetter__(e,function(){})}catch(q){}if(!a.browser.crashesWhenDefineProperty(e))try{var r={get:function(){return g}};h&&(r.set=function(){});Object.defineProperty(b,e,r)}catch(t){}}})})(wysihtml5);
(function(a){var h=document;a.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView||this.element.ownerDocument.parentWindow},getDocument:function(){return this.element.ownerDocument},constructor:function(e,b,g){this.callback=e||a.EMPTY_FUNCTION;this.config=a.lang.object({}).merge(b).get();this.config.className||(this.config.className="wysihtml5-sandbox");this.element=g?this._bindElement(g):this._createElement()},
destroy:function(){},_createElement:function(){var a=h.createElement("div");a.className=this.config.className;this._loadElement(a);return a},_bindElement:function(a){a.className=a.className?a.className+" wysihtml5-sandbox":"wysihtml5-sandbox";this._loadElement(a,!0);return a},_loadElement:function(a,b){var g=this;if(!b){var f=this._getHtml();a.innerHTML=f}this.loaded=!0;setTimeout(function(){g.callback(g)},0)},_getHtml:function(a){return""}})})(wysihtml5);
(function(){var a={className:"class"};wysihtml5.dom.setAttributes=function(h){return{on:function(e){for(var b in h)e.setAttribute(a[b]||b,h[b])}}}})();wysihtml5.dom.setStyles=function(a){return{on:function(h){h=h.style;if("string"===typeof a)h.cssText+=";"+a;else for(var e in a)"float"===e?(h.cssFloat=a[e],h.styleFloat=a[e]):h[e]=a[e]}}};
(function(a){a.simulatePlaceholder=function(h,e,b,g){var f=g||"wysihtml5-placeholder";g=function(){var b=0<e.element.offsetWidth&&0<e.element.offsetHeight;e.hasPlaceholderSet()&&(e.clear(),e.element.focus(),b&&setTimeout(function(){var a=e.selection.getSelection();a.focusNode&&a.anchorNode||e.selection.selectNode(e.element.firstChild||e.element)},0));e.placeholderSet=!1;a.removeClass(e.element,f)};var l=function(){e.isEmpty()&&!e.placeholderSet&&(e.placeholderSet=!0,e.setValue(b,!1),a.addClass(e.element,
f))};h.on("set_placeholder",l).on("unset_placeholder",g).on("focus:composer",g).on("paste:composer",g).on("blur:composer",l);l()}})(wysihtml5.dom);(function(a){var h=document.documentElement;"textContent"in h?(a.setTextContent=function(a,b){a.textContent=b},a.getTextContent=function(a){return a.textContent}):"innerText"in h?(a.setTextContent=function(a,b){a.innerText=b},a.getTextContent=function(a){return a.innerText}):(a.setTextContent=function(a,b){a.nodeValue=b},a.getTextContent=function(a){return a.nodeValue})})(wysihtml5.dom);
wysihtml5.dom.getAttribute=function(a,h){var e=!wysihtml5.browser.supportsGetAttributeCorrectly();h=h.toLowerCase();return"IMG"==a.nodeName&&"src"==h&&!0===wysihtml5.dom.isLoadedImage(a)?a.src:e&&"outerHTML"in a?-1!=a.outerHTML.toLowerCase().indexOf(" "+h+"=")?a.getAttribute(h):null:a.getAttribute(h)};
wysihtml5.dom.getAttributes=function(a){var h=!wysihtml5.browser.supportsGetAttributeCorrectly(),e=a.nodeName,b=[],g;for(g in a.attributes)(a.attributes.hasOwnProperty&&a.attributes.hasOwnProperty(g)||!a.attributes.hasOwnProperty&&Object.prototype.hasOwnProperty.call(a.attributes,g))&&a.attributes[g].specified&&("IMG"==e&&"src"==a.attributes[g].name.toLowerCase()&&!0===wysihtml5.dom.isLoadedImage(a)?b.src=a.src:wysihtml5.lang.array(["rowspan","colspan"]).contains(a.attributes[g].name.toLowerCase())&&
h?1!==a.attributes[g].value&&(b[a.attributes[g].name]=a.attributes[g].value):b[a.attributes[g].name]=a.attributes[g].value);return b};wysihtml5.dom.isLoadedImage=function(a){try{return a.complete&&!a.mozMatchesSelector(":-moz-broken")}catch(h){if(a.complete&&"complete"===a.readyState)return!0}};
(function(a){function h(a,b){for(var e=[],f,g=0,h=a.length;g<h;g++)if(f=a[g].querySelectorAll(b))for(var l=f.length;l--;e.unshift(f[l]));return e}function e(a){a.parentNode.removeChild(a)}function b(a,b){a.parentNode.insertBefore(b,a.nextSibling)}var g=a.dom,f=function(a){this.el=a;this.isRowspan=this.isColspan=!1;this.isReal=this.lastRow=this.firstRow=this.lastCol=this.firstCol=!0;this.spanCollection=[];this.modified=!1},l=function(a,b){a?(this.cell=a,this.table=g.getParentElement(a,{query:"table"})):
b&&(this.table=b,this.cell=this.table.querySelectorAll("th, td")[0])};l.prototype={addSpannedCellToMap:function(a,b,e,g,h,l){for(var t=[],u=e+(l?parseInt(l,10)-1:0),y=g+(h?parseInt(h,10)-1:0),x=e;x<=u;x++){"undefined"==typeof b[x]&&(b[x]=[]);for(var z=g;z<=y;z++)b[x][z]=new f(a),b[x][z].isColspan=h&&1<parseInt(h,10),b[x][z].isRowspan=l&&1<parseInt(l,10),b[x][z].firstCol=z==g,b[x][z].lastCol=z==y,b[x][z].firstRow=x==e,b[x][z].lastRow=x==u,b[x][z].isReal=z==g&&x==e,b[x][z].spanCollection=t,t.push(b[x][z])}},
setCellAsModified:function(a){a.modified=!0;if(0<a.spanCollection.length)for(var b=0,e=a.spanCollection.length;b<e;b++)a.spanCollection[b].modified=!0},setTableMap:function(){var a=[],b=this.getTableRows(),e,h,l,r,t,u,y;for(e=0;e<b.length;e++)for(h=b[e],h=this.getRowCells(h),t=0,"undefined"==typeof a[e]&&(a[e]=[]),l=0;l<h.length;l++){for(r=h[l];"undefined"!=typeof a[e][t];)t++;u=g.getAttribute(r,"colspan");y=g.getAttribute(r,"rowspan");u||y?(this.addSpannedCellToMap(r,a,e,t,u,y),t+=u?parseInt(u,10):
1):(a[e][t]=new f(r),t++)}return this.map=a},getRowCells:function(b){var e=this.table.querySelectorAll("table"),e=e?h(e,"th, td"):[];b=b.querySelectorAll("th, td");return 0<e.length?a.lang.array(b).without(e):b},getTableRows:function(){var b=this.table.querySelectorAll("table"),b=b?h(b,"tr"):[],e=this.table.querySelectorAll("tr");return 0<b.length?a.lang.array(e).without(b):e},getMapIndex:function(a){for(var b=this.map.length,e=this.map&&this.map[0]?this.map[0].length:0,f=0;f<b;f++)for(var g=0;g<
e;g++)if(this.map[f][g].el===a)return{row:f,col:g};return!1},getElementAtIndex:function(a){this.setTableMap();return this.map[a.row]&&this.map[a.row][a.col]&&this.map[a.row][a.col].el?this.map[a.row][a.col].el:null},getMapElsTo:function(a){var b=[];this.setTableMap();this.idx_start=this.getMapIndex(this.cell);this.idx_end=this.getMapIndex(a);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col)a=this.idx_start,this.idx_start=this.idx_end,
this.idx_end=a;this.idx_start.col>this.idx_end.col&&(a=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=a);if(null!=this.idx_start&&null!=this.idx_end){a=this.idx_start.row;for(var e=this.idx_end.row;a<=e;a++)for(var f=this.idx_start.col,g=this.idx_end.col;f<=g;f++)b.push(this.map[a][f].el)}return b},orderSelectionEnds:function(a){this.setTableMap();this.idx_start=this.getMapIndex(this.cell);this.idx_end=this.getMapIndex(a);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==
this.idx_end.row&&this.idx_start.col>this.idx_end.col)a=this.idx_start,this.idx_start=this.idx_end,this.idx_end=a;this.idx_start.col>this.idx_end.col&&(a=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=a);return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(a,b,e){for(var f=this.table.ownerDocument,g=f.createDocumentFragment(),h,l=0;l<b;l++){h=f.createElement(a);if(e)for(var u in e)e.hasOwnProperty(u)&&
h.setAttribute(u,e[u]);h.appendChild(document.createTextNode("\u00a0"));g.appendChild(h)}return g},correctColIndexForUnreals:function(a,b){for(var e=this.map[b],f=-1,g=0;g<a;g++)e[g].isReal&&f++;return f},getLastNewCellOnRow:function(a,b){for(var e=this.getRowCells(a),f,g,h=0,l=e.length;h<l;h++)if(f=e[h],g=this.getMapIndex(f),!1===g||"undefined"!=typeof b&&g.row!=b)return f;return null},removeEmptyTable:function(){var a=this.table.querySelectorAll("td, th");if(a&&0!=a.length)return!1;e(this.table);
return!0},splitRowToCells:function(a){if(a.isColspan){var e=parseInt(g.getAttribute(a.el,"colspan")||1,10),f=a.el.tagName.toLowerCase();1<e&&(e=this.createCells(f,e-1),b(a.el,e));a.el.removeAttribute("colspan")}},getRealRowEl:function(a,b){var e=null,f=null;b=b||this.idx;for(var h=0,l=this.map[b.row].length;h<l;h++)if(f=this.map[b.row][h],f.isReal&&(e=g.getParentElement(f.el,{query:"tr"})))return e;null===e&&a&&(e=g.getParentElement(this.map[b.row][b.col].el,{query:"tr"})||null);return e},injectRowAt:function(a,
e,f,h,l){var r=this.getRealRowEl(!1,{row:a,col:e});f=this.createCells(h,f);r?(l=this.correctColIndexForUnreals(e,a),0<=l?b(this.getRowCells(r)[l],f):r.insertBefore(f,r.firstChild)):(r=this.table.ownerDocument.createElement("tr"),r.appendChild(f),b(g.getParentElement(l.el,{query:"tr"}),r))},canMerge:function(a){this.to=a;this.setTableMap();this.idx_start=this.getMapIndex(this.cell);this.idx_end=this.getMapIndex(this.to);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&
this.idx_start.col>this.idx_end.col)a=this.idx_start,this.idx_start=this.idx_end,this.idx_end=a;this.idx_start.col>this.idx_end.col&&(a=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=a);a=this.idx_start.row;for(var b=this.idx_end.row;a<=b;a++)for(var e=this.idx_start.col,f=this.idx_end.col;e<=f;e++)if(this.map[a][e].isColspan||this.map[a][e].isRowspan)return!1;return!0},decreaseCellSpan:function(a,b){var e=parseInt(g.getAttribute(a.el,b),10)-1;1<=e?a.el.setAttribute(b,e):
(a.el.removeAttribute(b),"colspan"==b&&(a.isColspan=!1),"rowspan"==b&&(a.isRowspan=!1),a.firstCol=!0,a.lastCol=!0,a.firstRow=!0,a.lastRow=!0,a.isReal=!0)},removeSurplusLines:function(){var a,b,f,h,l,r,t;this.setTableMap();if(this.map){f=0;for(h=this.map.length;f<h;f++){a=this.map[f];t=!0;l=0;for(r=a.length;l<r;l++)if(b=a[l],!(g.getAttribute(b.el,"rowspan")&&1<parseInt(g.getAttribute(b.el,"rowspan"),10)&&!0!==b.firstRow)){t=!1;break}if(t)for(l=0;l<r;l++)this.decreaseCellSpan(a[l],"rowspan")}b=this.getTableRows();
f=0;for(h=b.length;f<h;f++)a=b[f],0==a.childNodes.length&&/^\s*$/.test(a.textContent||a.innerText)&&e(a)}},fillMissingCells:function(){var a=0,e=0,g=null;this.setTableMap();if(this.map){a=this.map.length;for(g=0;g<a;g++)this.map[g].length>e&&(e=this.map[g].length);for(var h=0;h<a;h++)for(var l=0;l<e;l++)this.map[h]&&!this.map[h][l]&&0<l&&(this.map[h][l]=new f(this.createCells("td",1)),(g=this.map[h][l-1])&&g.el&&g.el.parent&&b(this.map[h][l-1].el,this.map[h][l].el))}},rectify:function(){if(this.removeEmptyTable())return!1;
this.removeSurplusLines();this.fillMissingCells();return!0},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell))){var a=this.map[this.idx.row][this.idx.col],b=g.getAttribute(a.el,"colspan")?parseInt(g.getAttribute(a.el,"colspan"),10):1,e=a.el.tagName.toLowerCase();if(a.isRowspan){var f=parseInt(g.getAttribute(a.el,"rowspan"),10);if(1<f)for(var h=1,f=f-1;h<=f;h++)this.injectRowAt(this.idx.row+h,this.idx.col,b,e,a);a.el.removeAttribute("rowspan")}this.splitRowToCells(a)}},
merge:function(a){if(this.rectify())if(this.canMerge(a)){a=this.idx_end.row-this.idx_start.row+1;for(var b=this.idx_end.col-this.idx_start.col+1,f=this.idx_start.row,g=this.idx_end.row;f<=g;f++)for(var h=this.idx_start.col,l=this.idx_end.col;h<=l;h++)f==this.idx_start.row&&h==this.idx_start.col?(1<a&&this.map[f][h].el.setAttribute("rowspan",a),1<b&&this.map[f][h].el.setAttribute("colspan",b)):(/^\s*<br\/?>\s*$/.test(this.map[f][h].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=
" "+this.map[f][h].el.innerHTML),e(this.map[f][h].el));this.rectify()}else window.console&&console.log("Do not know how to merge allready merged cells.")},collapseCellToNextRow:function(a){var e=this.getMapIndex(a.el),f=e.row+1,h={row:f,col:e.col};f<this.map.length&&(e=this.getRealRowEl(!1,h),null!==e&&(h=this.correctColIndexForUnreals(h.col,h.row),0<=h?b(this.getRowCells(e)[h],a.el):(f=this.getLastNewCellOnRow(e,f),null!==f?b(f,a.el):e.insertBefore(a.el,e.firstChild)),2<parseInt(g.getAttribute(a.el,
"rowspan"),10)?a.el.setAttribute("rowspan",parseInt(g.getAttribute(a.el,"rowspan"),10)-1):a.el.removeAttribute("rowspan")))},removeRowCell:function(a){a.isReal?a.isRowspan?this.collapseCellToNextRow(a):e(a.el):2<parseInt(g.getAttribute(a.el,"rowspan"),10)?a.el.setAttribute("rowspan",parseInt(g.getAttribute(a.el,"rowspan"),10)-1):a.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var a=[];this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var b=this.map[this.idx.row],
e=0,f=b.length;e<f;e++)b[e].isReal&&a.push(b[e].el);return a},getColumnElementsByCell:function(){var a=[];this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var b=0,e=this.map.length;b<e;b++)this.map[b][this.idx.col]&&this.map[b][this.idx.col].isReal&&a.push(this.map[b][this.idx.col].el);return a},removeRow:function(){var a=g.getParentElement(this.cell,{query:"tr"});if(a){this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var b=this.map[this.idx.row],
f=0,h=b.length;f<h;f++)b[f].modified||(this.setCellAsModified(b[f]),this.removeRowCell(b[f]));e(a)}},removeColCell:function(a){a.isColspan?2<parseInt(g.getAttribute(a.el,"colspan"),10)?a.el.setAttribute("colspan",parseInt(g.getAttribute(a.el,"colspan"),10)-1):a.el.removeAttribute("colspan"):a.isReal&&e(a.el)},removeColumn:function(){this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var a=0,b=this.map.length;a<b;a++)this.map[a][this.idx.col].modified||(this.setCellAsModified(this.map[a][this.idx.col]),
this.removeColCell(this.map[a][this.idx.col]))},remove:function(a){if(this.rectify()){switch(a){case "row":this.removeRow();break;case "column":this.removeColumn()}this.rectify()}},addRow:function(a){var e=this.table.ownerDocument;this.setTableMap();this.idx=this.getMapIndex(this.cell);"below"==a&&g.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(g.getAttribute(this.cell,"rowspan"),10)-1);if(!1!==this.idx){for(var f=this.map[this.idx.row],e=e.createElement("tr"),h=0,l=f.length;h<
l;h++)f[h].modified||(this.setCellAsModified(f[h]),this.addRowCell(f[h],e,a));switch(a){case "below":b(this.getRealRowEl(!0),e);break;case "above":(a=g.getParentElement(this.map[this.idx.row][this.idx.col].el,{query:"tr"}))&&a.parentNode.insertBefore(e,a)}}},addRowCell:function(a,b,e){var f=a.isColspan?{colspan:g.getAttribute(a.el,"colspan")}:null;a.isReal?"above"!=e&&a.isRowspan?a.el.setAttribute("rowspan",parseInt(g.getAttribute(a.el,"rowspan"),10)+1):b.appendChild(this.createCells("td",1,f)):"above"!=
e&&a.isRowspan&&a.lastRow?b.appendChild(this.createCells("td",1,f)):c.isRowspan&&a.el.attr("rowspan",parseInt(g.getAttribute(a.el,"rowspan"),10)+1)},add:function(a){this.rectify()&&("below"!=a&&"above"!=a||this.addRow(a),"before"!=a&&"after"!=a||this.addColumn(a))},addColCell:function(a,e,f){var h,l=a.el.tagName.toLowerCase();switch(f){case "before":h=!a.isColspan||a.firstCol;break;case "after":h=!a.isColspan||a.lastCol||a.isColspan&&c.el==this.cell}if(h){switch(f){case "before":a.el.parentNode.insertBefore(this.createCells(l,
1),a.el);break;case "after":b(a.el,this.createCells(l,1))}a.isRowspan&&this.handleCellAddWithRowspan(a,e+1,f)}else a.el.setAttribute("colspan",parseInt(g.getAttribute(a.el,"colspan"),10)+1)},addColumn:function(a){var b;this.setTableMap();this.idx=this.getMapIndex(this.cell);"after"==a&&g.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(g.getAttribute(this.cell,"colspan"),10)-1);if(!1!==this.idx)for(var e=0,f=this.map.length;e<f;e++)b=this.map[e],b[this.idx.col]&&(b=b[this.idx.col],
b.modified||(this.setCellAsModified(b),this.addColCell(b,e,a)))},handleCellAddWithRowspan:function(a,e,f){var h=parseInt(g.getAttribute(this.cell,"rowspan"),10)-1,l=g.getParentElement(a.el,{query:"tr"});a=a.el.tagName.toLowerCase();for(var r,t,u=this.table.ownerDocument,y=0;y<h;y++){r=this.correctColIndexForUnreals(this.idx.col,e+y);a:{for(l=l.nextSibling;1!=l.nodeType;)if(l=l.nextSibling,"tr"==l.tagName.toLowerCase())break a;l=null}if(l)if(0<r)switch(f){case "before":t=this.getRowCells(l);0<r&&this.map[e+
y][this.idx.col].el!=t[r]&&r==t.length-1?b(t[r],this.createCells(a,1)):t[r].parentNode.insertBefore(this.createCells(a,1),t[r]);break;case "after":b(this.getRowCells(l)[r],this.createCells(a,1))}else l.insertBefore(this.createCells(a,1),l.firstChild);else r=u.createElement("tr"),r.appendChild(this.createCells(a,1)),this.table.appendChild(r)}}};g.table={getCellsBetween:function(a,b){return(new l(a)).getMapElsTo(b)},addCells:function(a,b){(new l(a)).add(b)},removeCells:function(a,b){(new l(a)).remove(b)},
mergeCellsBetween:function(a,b){(new l(a)).merge(b)},unmergeCell:function(a){(new l(a)).unmerge()},orderSelectionEnds:function(a,b){return(new l(a)).orderSelectionEnds(b)},indexOf:function(a){var b=new l(a);b.setTableMap();return b.getMapIndex(a)},findCell:function(a,b){return(new l(null,a)).getElementAtIndex(b)},findRowByCell:function(a){return(new l(a)).getRowElementsByCell()},findColumnByCell:function(a){return(new l(a)).getColumnElementsByCell()},canMerge:function(a,b){return(new l(a)).canMerge(b)}}})(wysihtml5);
wysihtml5.dom.query=function(a,h){var e=[],b;a.nodeType&&(a=[a]);for(var g=0,f=a.length;g<f;g++)if(b=a[g].querySelectorAll(h))for(var l=b.length;l--;e.unshift(b[l]));return e};
wysihtml5.dom.compareDocumentPosition=function(){return document.documentElement.compareDocumentPosition?function(a,h){return a.compareDocumentPosition(h)}:function(a,h){if(a===h)return 0;if(a===h.ownerDocument)return 20;if(a.ownerDocument===h)return 10;if((9===a.nodeType?a:a.ownerDocument)!==(9===h.nodeType?h:h.ownerDocument))return 1;if(2===a.nodeType&&a.childNodes&&-1!==wysihtml5.lang.array(a.childNodes).indexOf(h))return 20;if(2===h.nodeType&&h.childNodes&&-1!==wysihtml5.lang.array(h.childNodes).indexOf(a))return 10;
for(var e=a,b=[],g=null;e;){if(e==h)return 10;b.push(e);e=e.parentNode}e=h;for(g=null;e;){if(e==a)return 20;var f=wysihtml5.lang.array(b).indexOf(e);if(-1!==f)return e=b[f],b=wysihtml5.lang.array(e.childNodes).indexOf(b[f-1]),g=wysihtml5.lang.array(e.childNodes).indexOf(g),b>g?2:4;g=e;e=e.parentNode}return 1}}();wysihtml5.dom.unwrap=function(a){var h=[];if(a.parentNode){for(;a.lastChild;)h.unshift(a.lastChild),wysihtml5.dom.insert(a.lastChild).after(a);a.parentNode.removeChild(a)}return h};
wysihtml5.dom.getPastedHtml=function(a){var h;wysihtml5.browser.supportsModernPaste()&&a.clipboardData&&(wysihtml5.lang.array(a.clipboardData.types).contains("text/html")?h=a.clipboardData.getData("text/html"):wysihtml5.lang.array(a.clipboardData.types).contains("text/plain")&&(h=wysihtml5.lang.string(a.clipboardData.getData("text/plain")).escapeHTML(!0,!0)));return h};
wysihtml5.dom.getPastedHtmlWithDiv=function(a,h){var e=a.selection.getBookmark(),b=a.element.ownerDocument,g=b.createElement("DIV"),f=a.getScrollPos();b.body.appendChild(g);g.style.width="1px";g.style.height="1px";g.style.overflow="hidden";g.style.position="absolute";g.style.top=f.y+"px";g.style.left=f.x+"px";g.setAttribute("contenteditable","true");g.focus();setTimeout(function(){var b;a.selection.setBookmark(e);(b=g.innerHTML)&&/^<br\/?>$/i.test(b.trim())&&(b=!1);h(b);g.parentNode.removeChild(g)},
0)};wysihtml5.dom.removeInvisibleSpaces=function(a){a=wysihtml5.dom.getTextNodes(a);for(var h=a.length;h--;)a[h].nodeValue=a[h].nodeValue.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")};
wysihtml5.quirks.cleanPastedHTML=function(){return function(a,h){var e={color:wysihtml5.dom.getStyle("color").from(h.referenceNode),fontSize:wysihtml5.dom.getStyle("font-size").from(h.referenceNode)},b;a:{b=h.rules;var g;if(b){for(var f=0,l=b.length;f<l;f++)if(b[f].condition||(g=b[f].set),b[f].condition&&b[f].condition.test(a)){b=b[f].set;break a}b=g}else b=null}b=wysihtml5.lang.object(b||{}).clone(!0);var k,n;for(k in b.tags)if(b.tags.hasOwnProperty(k)&&b.tags[k].keep_styles)for(n in b.tags[k].keep_styles)b.tags[k].keep_styles.hasOwnProperty(n)&&
e[n]&&(g=b.tags[k].keep_styles,f=n,l=wysihtml5.lang.string(e[n]).trim().replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),g[f]=new RegExp("^((?!^"+l+"$).)*$","i"));return wysihtml5.dom.parse(a,{rules:b,cleanUp:!0,context:h.referenceNode.ownerDocument,uneditableClass:h.uneditableClass,clearInternals:!0,unjoinNbsps:!0})}}();
wysihtml5.quirks.ensureProperClearing=function(){var a=function(){var a=this;setTimeout(function(){var e=a.innerHTML.toLowerCase();if("<p>&nbsp;</p>"==e||"<p>&nbsp;</p><p>&nbsp;</p>"==e)a.innerHTML=""},0)};return function(h){wysihtml5.dom.observe(h.element,["cut","keydown"],a)}}();
(function(a){a.quirks.getCorrectInnerHTML=function(h){var e=h.innerHTML;if(-1===e.indexOf("%7E"))return e;h=h.querySelectorAll("[href*='~'], [src*='~']");var b,g,f,l;l=0;for(f=h.length;l<f;l++)b=h[l].href||h[l].src,g=a.lang.string(b).replace("~").by("%7E"),e=a.lang.string(e).replace(g).by(b);return e}})(wysihtml5);
(function(a){a.quirks.redraw=function(h){a.dom.addClass(h,"wysihtml5-quirks-redraw");a.dom.removeClass(h,"wysihtml5-quirks-redraw");try{var e=h.ownerDocument;e.execCommand("italic",!1,null);e.execCommand("italic",!1,null)}catch(b){}}})(wysihtml5);
wysihtml5.quirks.tableCellsSelection=function(a,h){function e(){if(a){var b=a.querySelectorAll("."+n);if(0<b.length)for(var e=0;e<b.length;e++)l.removeClass(b[e],n)}}function b(a){for(var b=0;b<a.length;b++)l.addClass(a[b],n)}function g(f){var g=null;(f=l.getParentElement(f.target,{query:"td, th"},!1,a))&&k.table&&k.start&&(g=l.getParentElement(f,{query:"table"},!1,a))&&g===k.table&&(e(),g=k.end,k.end=f,k.cells=l.table.getCellsBetween(k.start,f),1<k.cells.length&&h.composer.selection.deselect(),b(k.cells),
k.end!==g&&h.fire("tableselectchange").fire("tableselectchange:composer"))}function f(b){a.removeEventListener("mousemove",g);a.removeEventListener("mouseup",f);h.fire("tableselect").fire("tableselect:composer");setTimeout(function(){a.ownerDocument.addEventListener("click",m)},0)}var l=wysihtml5.dom,k={table:null,start:null,end:null,cells:null,select:function(e,f){k.start=e;k.end=f;k.table=l.getParentElement(k.start,{query:"table"},!1,a);selectedCells=l.table.getCellsBetween(k.start,k.end);b(selectedCells);
a.ownerDocument.addEventListener("click",m);h.fire("tableselect").fire("tableselect:composer")}},n="wysiwyg-tmp-selected-cell",m=function(b){a.ownerDocument.removeEventListener("click",m);l.getParentElement(b.target,{query:"table"},!1,a)!=k.table&&(e(),k.table=null,k.start=null,k.end=null,h.fire("tableunselect").fire("tableunselect:composer"))};a.addEventListener("mousedown",function(b){if(b=wysihtml5.dom.getParentElement(b.target,{query:"td, th"},!1,a))k.start=b,k.end=b,k.cells=[b],k.table=l.getParentElement(k.start,
{query:"table"},!1,a),k.table&&(e(),l.addClass(b,n),a.addEventListener("mousemove",g),a.addEventListener("mouseup",f),h.fire("tableselectstart").fire("tableselectstart:composer"))});return k};
(function(a){function h(a){var b,h;for(b in e)if(e.hasOwnProperty(b)&&(h=e[b],h.regex.test(a)))return h}var e={rgba:{regex:/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,name:"rgba"},rgb:{regex:/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,name:"rgb"},hex6:{regex:/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,name:"hex",radix:16},hex3:{regex:/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,name:"hex",radix:16}},b=function(a){return new RegExp("(^|\\s|;)"+
a+"\\s*:\\s*[^;$]+","gi")};a.quirks.styleParser={getColorParseMethod:h,getColorFormat:function(a){return(a=h(a))?a.name:void 0},parseColor:function(g,f){var l,k,n,m;l=g;if(f){l=b(f);if(!(l=g.match(l)))return!1;l=l.pop().split(":")[1];l=a.lang.string(l).trim()}if(!(k=h(l))||!(n=l.match(k.regex)))return!1;m=k.radix||10;if(k===e.hex3)return n.shift(),n.push(1),a.lang.array(n).map(function(a,b){return 3>b?parseInt(a,m)*m+parseInt(a,m):parseFloat(a)});n.shift();n[3]||n.push(1);return a.lang.array(n).map(function(a,
b){return 3>b?parseInt(a,m):parseFloat(a)})},unparseColor:function(a,b){return"hex"===b?(a[0].toString(16)+a[1].toString(16)+a[2].toString(16)).toUpperCase():"hash"===b?"#"+(a[0].toString(16)+a[1].toString(16)+a[2].toString(16)).toUpperCase():"rgb"===b?"rgb("+a[0]+","+a[1]+","+a[2]+")":"rgba"===b?"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")":"csv"===b?a[0]+","+a[1]+","+a[2]+","+a[3]:a[3]&&1!==a[3]?"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")":"rgb("+a[0]+","+a[1]+","+a[2]+")"},parseFontSize:function(e){return(e=
e.match(b("font-size")))?a.lang.string(e[e.length-1].split(":")[1]).trim():!1}}})(wysihtml5);
(function(a){function h(a,b){for(var e=0;b!==a;)if(e++,b=b.parentNode,!b)throw Error("not a descendant of ancestor!");return e}function e(a,b){return 3===a.nodeType?a:a.childNodes[b]||a}function b(b){var e=document.createElement("span"),g=function(a){b.removeEventListener("mouseup",g);b.removeEventListener("keydown",g);b.removeEventListener("touchstart",g);b.removeEventListener("focus",g);b.removeEventListener("blur",g);b.removeEventListener("paste",h);b.removeEventListener("drop",h);b.removeEventListener("beforepaste",
h);e&&e.parentNode&&e.parentNode.removeChild(e)},h=function(a){e&&e.parentNode&&setTimeout(g,0)};e.appendChild(b.ownerDocument.createTextNode(a.INVISIBLE_SPACE));e.className="_wysihtml5-temp-caret-fix";e.style.display="block";e.style.minWidth="1px";e.style.height="0px";b.addEventListener("mouseup",g);b.addEventListener("keydown",g);b.addEventListener("touchstart",g);b.addEventListener("focus",g);b.addEventListener("blur",g);b.addEventListener("paste",h);b.addEventListener("drop",h);b.addEventListener("beforepaste",
h);return e}var g=a.dom;a.Selection=Base.extend({constructor:function(a,b,e){rangy.init();this.editor=a;this.composer=a.composer;this.doc=this.composer.doc;this.win=this.composer.win;this.contain=b;this.unselectableClass=e||!1},getBookmark:function(){var a=this.getRange();return a&&a.cloneRange()},setBookmark:function(a){a&&this.setSelection(a)},setBefore:function(a){var b=rangy.createRange(this.doc);b.setStartBefore(a);b.setEndBefore(a);return this.setSelection(b)},createTemporaryCaretSpaceAfter:function(b){var e=
this.doc.createElement("span"),g=this.doc.createTextNode(a.INVISIBLE_SPACE),h=function(b){this.contain.removeEventListener("mouseup",h);this.contain.removeEventListener("keydown",p);this.contain.removeEventListener("touchstart",h);this.contain.removeEventListener("focus",h);this.contain.removeEventListener("blur",h);this.contain.removeEventListener("paste",m);this.contain.removeEventListener("drop",m);this.contain.removeEventListener("beforepaste",m);e&&e.parentNode&&(e.innerHTML=e.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,
""),/[^\s]+/.test(e.innerHTML)?(b=e.lastChild,a.dom.unwrap(e),this.setAfter(b)):e.parentNode.removeChild(e))}.bind(this),m=function(a){e&&e.parentNode&&setTimeout(h,0)},p=function(a){8===a.which||91===a.which||17===a.which||86===a.which&&(a.ctrlKey||a.metaKey)||h()};e.className="_wysihtml5-temp-caret-fix";e.style.position="absolute";e.style.display="block";e.style.minWidth="1px";e.style.zIndex="99999";e.appendChild(g);b.parentNode.insertBefore(e,b.nextSibling);this.setBefore(g);this.contain.addEventListener("mouseup",
h);this.contain.addEventListener("keydown",p);this.contain.addEventListener("touchstart",h);this.contain.addEventListener("focus",h);this.contain.addEventListener("blur",h);this.contain.addEventListener("paste",m);this.contain.addEventListener("drop",m);this.contain.addEventListener("beforepaste",m);return e},setAfter:function(b,e,g){var h=this.win,m=rangy.createRange(this.doc),p=function(){var g=b.parentNode,g=g?g.childNodes[g.childNodes.length-1]:null;if(!q||g===b&&1===b.nodeType&&"block"===h.getComputedStyle(b).display)if(e){var k=
this.doc.createTextNode(a.INVISIBLE_SPACE);b.parentNode.insertBefore(k,b.nextSibling);this.selectNode(k);setTimeout(function(){k&&k.parentNode&&k.parentNode.removeChild(k)},0)}else this.createTemporaryCaretSpaceAfter(b)}.bind(this),q;m.setStartAfter(b);m.setEndAfter(b);if(document.activeElement&&document.activeElement===this.composer.element)q=this.setSelection(m),p(),g&&g(q);else{var r=this.composer.getScrollPos();this.composer.element.focus();this.composer.setScrollPos(r);setTimeout(function(){q=
this.setSelection(m);p();g&&g(q)}.bind(this),0)}},selectNode:function(b,e){var h=rangy.createRange(this.doc),n=b.nodeType===a.ELEMENT_NODE,m="canHaveHTML"in b?b.canHaveHTML:"IMG"!==b.nodeName,p=n?b.innerHTML:b.data,p=""===p||p===a.INVISIBLE_SPACE,q=g.getStyle("display").from(b),q="block"===q||"list-item"===q;if(p&&n&&m&&!e)try{b.innerHTML=a.INVISIBLE_SPACE}catch(r){}m?h.selectNodeContents(b):h.selectNode(b);m&&p&&n?h.collapse(q):m&&p&&(h.setStartAfter(b),h.setEndAfter(b));this.setSelection(h)},getSelectedNode:function(a){if(a&&
this.doc.selection&&"Control"===this.doc.selection.type&&(a=this.doc.selection.createRange())&&a.length)return a.item(0);a=this.getSelection(this.doc);return a.focusNode===a.anchorNode?a.focusNode:(a=this.getRange(this.doc))?a.commonAncestorContainer:this.doc.body},fixSelBorders:function(){var a=this.getRange();if(!a.canSurroundContents())for(var b=a.commonAncestorContainer,e=h(b,a.startContainer),g=h(b,a.endContainer);!a.canSurroundContents();)e>g?(a.setStartBefore(a.startContainer),e=h(b,a.startContainer)):
(a.setEndAfter(a.endContainer),g=h(b,a.endContainer));this.setSelection(a)},getSelectedOwnNodes:function(a){a=this.getOwnRanges();for(var b=[],e=0,g=a.length;e<g;e++)b.push(a[e].commonAncestorContainer||this.doc.body);return b},findNodesInSelection:function(b){for(var e=this.getOwnRanges(),g=[],h,m=0,p=e.length;m<p;m++)h=e[m].getNodes([1],function(e){return a.lang.array(b).contains(e.nodeName)}),g=g.concat(h);return g},filterElements:function(a){for(var b=this.getOwnRanges(),e=[],g,h=0,p=b.length;h<
p;h++)g=b[h].getNodes([1],function(e){return a(e,b[h])}),e=e.concat(g);return e},containsUneditable:function(){for(var a=this.getOwnUneditables(),b=this.getSelection(),e=0,g=a.length;e<g;e++)if(b.containsNode(a[e]))return!0;return!1},deleteContents:function(){var a=this.getRange();this.deleteRangeContents(a);this.setSelection(a)},deleteRangeContents:function(b){var e,g,h;if(this.unselectableClass)for((e=a.dom.getParentElement(b.startContainer,{query:"."+this.unselectableClass},!1,this.contain))&&
b.setStartBefore(e),(g=a.dom.getParentElement(b.endContainer,{query:"."+this.unselectableClass},!1,this.contain))&&b.setEndAfter(g),e=b.getNodes([1],function(b){return a.dom.hasClass(b,this.unselectableClass)}.bind(this)),g=e.length;g--;)try{h=new CustomEvent("wysihtml5:uneditable:delete"),e[g].dispatchEvent(h)}catch(m){}b.deleteContents()},getCaretNode:function(){var a=this.getSelection();return a&&a.anchorNode?e(a.anchorNode,a.anchorOffset):null},getPreviousNode:function(b,g){var h;if(!b){var n=
this.getSelection();b=n&&n.anchorNode?e(n.anchorNode,n.anchorOffset):null}if(b===this.contain)return!1;n=b.previousSibling;if(n===this.contain)return!1;n&&3!==n.nodeType&&1!==n.nodeType?n=this.getPreviousNode(n,g):n&&3===n.nodeType&&/^\s*$/.test(n.textContent)?n=this.getPreviousNode(n,g):g&&n&&1===n.nodeType?(h=a.dom.getStyle("display").from(n),a.lang.array(["BR","HR","IMG"]).contains(n.nodeName)||a.lang.array(["block","inline-block","flex","list-item","table"]).contains(h)||!/^[\s]*$/.test(n.innerHTML)||
(n=this.getPreviousNode(n,g))):n||b===this.contain||(h=b.parentNode,h!==this.contain&&(n=this.getPreviousNode(h,g)));return n!==this.contain?n:!1},getNodesNearCaret:function(){if(!this.isCollapsed())throw"Selection must be caret when using selection.getNodesNearCaret()";var a=this.getOwnRanges(),b,e,g,h;return a&&0<a.length?(1===a[0].startContainer.nodeType?(b=a[0].startContainer.childNodes[a[0].startOffset-1],b||0!==a[0].startOffset)?b&&(e=b.previousSibling,g=b.nextSibling):g=a[0].startContainer.childNodes[0]:
(0===a[0].startOffset&&a[0].startContainer.previousSibling?(b=a[0].startContainer.previousSibling,3===b.nodeType&&(h=b.data.length)):(b=a[0].startContainer,h=a[0].startOffset),e=b.previousSibling,g=b.nextSibling),{caretNode:b,prevNode:e,nextNode:g,textOffset:h}):null},getSelectionParentsByTag:function(b){b=this.getSelectedOwnNodes();for(var e,g=[],h=0,m=b.length;h<m;h++)(e=b[h].nodeName&&"LI"===b[h].nodeName?b[h]:a.dom.getParentElement(b[h],{query:"li"},!1,this.contain))&&g.push(e);return g.length?
g:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var a=this.getRange(),b=a.startContainer,a=a.startOffset,e=rangy.createRange(this.doc);e.selectNodeContents(b);e.setStart(b,a);return e}},caretIsLastInSelection:function(){rangy.createRange(this.doc);this.getSelection();var a=this.getRangeToNodeEnd().cloneContents().textContent;return/^\s*$/.test(a)},caretIsFirstInSelection:function(b){var g=rangy.createRange(this.doc),h=this.getSelection(),n=this.getRange(),m=e(n.startContainer,n.startOffset);
if(m){if(m.nodeType===a.TEXT_NODE){if(!m.parentNode||!this.isCollapsed()||m.parentNode.firstChild!==m&&!a.dom.domNode(m.previousSibling).is.block())return!1;b=this.win.getComputedStyle(m.parentNode).whiteSpace;return"pre"===b||"pre-wrap"===b?0===n.startOffset:/^\s*$/.test(m.data.substr(0,n.startOffset))}if(b&&a.dom.domNode(m).is.lineBreak())return!0;g.selectNodeContents(this.getRange().commonAncestorContainer);g.collapse(!0);return this.isCollapsed()&&(g.startContainer===h.anchorNode||g.endContainer===
h.anchorNode)&&g.startOffset===h.anchorOffset}},caretIsInTheBeginnig:function(b){var e=this.getSelection(),g=e.anchorNode,e=e.anchorOffset;if(b&&g)return 0===e&&(g.nodeName&&g.nodeName===b.toUpperCase()||a.dom.getParentElement(g.parentNode,{query:b},1));if(g)return 0===e&&!this.getPreviousNode(g,!0)},getBeforeSelection:function(b){var e=this.getSelection(),g=e.isBackwards()?e.focusNode:e.anchorNode,e=e.isBackwards()?e.focusOffset:e.anchorOffset,h=this.createRange(),m;g&&3===g.nodeType&&/^\s*$/.test(g.data.slice(0,
e))&&(e=0);if(m=a.dom.getParentElement(g,{query:"._wysihtml5-temp-caret-fix"},1))g=m.parentNode,e=Array.prototype.indexOf.call(g.childNodes,m);if(g){if(0<e){if(3===g.nodeType)return h.setStart(g,0),h.setEnd(g,e),{type:"text",range:h,offset:e,node:g};h.setStartBefore(g.childNodes[0]);g=g.childNodes[e-1];h.setEndAfter(g);return{type:"element",range:h,offset:e,node:g}}h.setStartAndEnd(g,0);return b&&(b=this.getPreviousNode(g,!0),m=null,b&&(m=1===b.nodeType&&a.dom.hasClass(b,this.unselectableClass)?b:
a.dom.domNode(b).lastLeafNode()),m)?{type:"leafnode",range:h,offset:e,node:m}:{type:"none",range:h,offset:e,node:g}}return null},executeAndRestoreRangy:function(a,b){var e=rangy.saveSelection(this.win);if(e)try{a()}catch(g){setTimeout(function(){throw g;},0)}else a();rangy.restoreSelection(e)},executeAndRestore:function(b,e){var h=this.doc.body,n=e&&h.scrollTop,m=e&&h.scrollLeft,p='<span class="_wysihtml5-temp-placeholder">'+a.INVISIBLE_SPACE+"</span>",q=this.getRange(!0),r,t,u;if(q){q.collapsed||
(u=q.cloneRange(),r=u.createContextualFragment(p),u.collapse(!1),u.insertNode(r),u.detach());p=q.createContextualFragment(p);q.insertNode(p);r&&(r=this.contain.querySelectorAll("._wysihtml5-temp-placeholder"),q.setStartBefore(r[0]),q.setEndAfter(r[r.length-1]));this.setSelection(q);try{b(q.startContainer,q.endContainer)}catch(y){setTimeout(function(){throw y;},0)}if((r=this.contain.querySelectorAll("._wysihtml5-temp-placeholder"))&&r.length)for(q=rangy.createRange(this.doc),p=r[0].nextSibling,1<r.length&&
(t=r[r.length-1].previousSibling),t&&p?q.setStartBefore(p):(t=this.doc.createTextNode(a.INVISIBLE_SPACE),g.insert(t).after(r[0]),q.setStartBefore(t)),q.setEndAfter(t),this.setSelection(q),t=r.length;t--;)r[t].parentNode.removeChild(r[t]);else this.contain.focus();e&&(h.scrollTop=n,h.scrollLeft=m);try{r.parentNode.removeChild(r)}catch(x){}}else b(h,h)},set:function(a,b){var e=rangy.createRange(this.doc);e.setStart(a,b||0);this.setSelection(e)},insertHTML:function(a){var b=this.getRange(),e=this.doc.createElement("DIV"),
g=this.doc.createDocumentFragment();if(b){b.deleteContents();e.innerHTML=a;for(a=e.lastChild;e.firstChild;)g.appendChild(e.firstChild);b.insertNode(g);for(b=this.contain.lastChild;b&&3===b.nodeType&&b.previousSibling&&/^\s*$/.test(b.data);)b=b.previousSibling;a&&(b&&a===b&&1===a.nodeType&&this.contain.appendChild(this.doc.createElement("br")),this.setAfter(a))}},insertNode:function(a){var b=this.getRange();b&&b.insertNode(a)},canAppendChild:function(a){var b,e=this.getRange();(a=a||e.startContainer)&&
(b=(a.tagName||a.nodeName).toLowerCase());return-1==="area base br col command embed hr img input keygen link meta param source track wbr".split(" ").indexOf(b)},splitElementAtCaret:function(b,e){var g=this.getSelection(),h,m;if(0<g.rangeCount){g=g.getRangeAt(0).cloneRange();g.setEndAfter(b);h=g.extractContents();m=h.childNodes;for(var p=m.length;p--;)a.dom.domNode(m[p]).is.visible()||h.removeChild(m[p]);b.parentNode.insertBefore(h,b.nextSibling);e?(h=e.firstChild||e,m=e.lastChild||e,b.parentNode.insertBefore(e,
b.nextSibling),h&&m&&(g.setStartBefore(h),g.setEndAfter(m),this.setSelection(g))):(g.setStartAfter(b),g.setEndAfter(b));a.dom.domNode(b).is.visible()||(""===a.dom.getTextContent(b)?b.parentNode.removeChild(b):b.parentNode.replaceChild(this.doc.createTextNode(" "),b))}},surround:function(a){var b=this.getOwnRanges(),e,g=[];if(0==b.length)return g;for(var h=b.length;h--;){e=this.doc.createElement(a.nodeName);g.push(e);a.className&&(e.className=a.className);a.cssStyle&&e.setAttribute("style",a.cssStyle);
try{b[h].surroundContents(e),this.selectNode(e)}catch(p){e.appendChild(b[h].extractContents()),b[h].insertNode(e)}}return g},scrollIntoView:function(){var b=this.doc,e=b.documentElement.scrollHeight>b.documentElement.offsetHeight,g;(g=b._wysihtml5ScrollIntoViewElement)||(g=b.createElement("span"),g.innerHTML=a.INVISIBLE_SPACE);g=b._wysihtml5ScrollIntoViewElement=g;if(e){this.insertNode(g);var e=g,h=0;if(e.parentNode){do h+=e.offsetTop||0,e=e.offsetParent;while(e)}e=h;g.parentNode.removeChild(g);e>=
b.body.scrollTop+b.documentElement.offsetHeight-5&&(b.body.scrollTop=e)}},selectLine:function(){var b=rangy.createRange();a.browser.supportsSelectionModify()?this._selectLine_W3C():b.nativeRange&&b.nativeRange.getBoundingClientRect&&this._selectLineUniversal()},includeRangyRangeHelpers:function(){var a=this.getSelection(),b=a.getRangeAt(0),e=function(a){return a&&1===a.nodeType&&a.classList.contains("rangySelectionBoundary")},g=1===a.anchorNode.nodeType?a.anchorNode.childNodes[a.anchorOffset]:a.anchorNode,
h=1===a.focusNode.nodeType?a.focusNode.childNodes[a.focusOffset]:a.focusNode,p;if(p=h){p=a.focusOffset;var q;q=1===h.nodeType?h.childNodes&&h.childNodes.length||0:h.data&&h.data.length||0;p=p===q}p&&h.nextSibling&&e(h.nextSibling)&&b.setEndAfter(h.nextSibling);g&&0===a.anchorOffset&&g.previousSibling&&e(g.previousSibling)&&b.setStartBefore(g.previousSibling);b.select()},_selectLine_W3C:function(){var a=this.win.getSelection(),b=[a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset];a.modify("move",
"left","lineboundary");a.modify("extend","right","lineboundary");a.anchorNode===b[0]&&a.anchorOffset===b[1]&&a.focusNode===b[2]&&a.focusOffset===b[3]?this._selectLineUniversal():this.includeRangyRangeHelpers()},toLineBoundary:function(b,e){e="undefined"===typeof e?!1:e;if(a.browser.supportsSelectionModify()){var g=this.win.getSelection();g.modify("extend",b,"lineboundary");e&&("left"===b?g.collapseToStart():"right"===b&&g.collapseToEnd())}},getRangeRect:function(a){this.doc.createTextNode("i");var b=
this.doc.createTextNode("i");a.collapsed?(a.insertNode(b),a.selectNode(b),b=a.nativeRange.getBoundingClientRect(),a.deleteContents()):b=a.nativeRange.getBoundingClientRect();return b},_selectLineUniversal:function(){var b=this.getSelection().getRangeAt(0),e,g=0,h,m,p,q=this;e=function(b){return b&&1===b.nodeType&&("block"===q.win.getComputedStyle(b).display||a.lang.array(["BR","HR"]).contains(b.nodeName))};h=function(a){if(a)for(;a&&(1===a.nodeType&&a.classList.contains("rangySelectionBoundary")||
3===a.nodeType&&/^\s*$/.test(a.data));)a=a.previousSibling;return a};b.cloneRange();b.cloneRange();b.collapsed&&(3===b.startContainer.nodeType&&b.startOffset<b.startContainer.data.length?b.moveEnd("character",1):1===b.startContainer.nodeType&&b.startContainer.childNodes[b.startOffset]&&3===b.startContainer.childNodes[b.startOffset].nodeType&&0<b.startContainer.childNodes[b.startOffset].data.length?b.moveEnd("character",1):0<b.startOffset&&(3===b.startContainer.nodeType||1===b.startContainer.nodeType&&
!e(h(b.startContainer.childNodes[b.startOffset-1])))&&b.moveStart("character",-1));b.collapsed||b.insertNode(this.doc.createTextNode(a.INVISIBLE_SPACE));e=b.nativeRange.getBoundingClientRect();do h=b.moveStart("character",-1),m=b.nativeRange.getBoundingClientRect(),m&&Math.floor(m.top)===Math.floor(e.top)||(b.moveStart("character",1),p=!0),g++;while(0!==h&&!p&&2E3>g);g=0;p=!1;e=b.nativeRange.getBoundingClientRect();if(b.endContainer!==this.contain||this.contain.lastChild&&this.contain.childNodes[b.endOffset]!==
this.contain.lastChild){do h=b.moveEnd("character",1),m=b.nativeRange.getBoundingClientRect(),m&&Math.floor(m.bottom)===Math.floor(e.bottom)||(b.moveEnd("character",-1),b.endContainer&&1===b.endContainer.nodeType&&b.endContainer.childNodes[b.endOffset]&&1===b.endContainer.childNodes[b.endOffset].nodeType&&"BR"===b.endContainer.childNodes[b.endOffset].nodeName&&b.endContainer.childNodes[b.endOffset].previousSibling&&(1===b.endContainer.childNodes[b.endOffset].previousSibling.nodeType?b.setEnd(b.endContainer.childNodes[b.endOffset].previousSibling,
b.endContainer.childNodes[b.endOffset].previousSibling.childNodes.length):3===b.endContainer.childNodes[b.endOffset].previousSibling.nodeType&&b.setEnd(b.endContainer.childNodes[b.endOffset].previousSibling,b.endContainer.childNodes[b.endOffset].previousSibling.data.length)),p=!0),g++;while(0!==h&&!p&&2E3>g)}b.select();this.includeRangyRangeHelpers()},getText:function(){var a=this.getSelection();return a?a.toString():""},getNodes:function(a,b){var e=this.getRange();return e?e.getNodes(Array.isArray(a)?
a:[a],b):[]},getOwnNodes:function(a,b,e){for(var g=this.getOwnRanges(),h=[],p=0,q=g.length;p<q;p++)g[p]&&(e&&g[p].splitBoundaries(),h=h.concat(g[p].getNodes(Array.isArray(a)?a:[a],b)));return h},fixRangeOverflow:function(a){if(this.contain&&this.contain.firstChild&&a){var b=a.compareNode(this.contain);2!==b?(1===b&&a.setStartBefore(this.contain.firstChild),0===b&&a.setEndAfter(this.contain.lastChild),3===b&&(a.setStartBefore(this.contain.firstChild),a.setEndAfter(this.contain.lastChild))):this._detectInlineRangeProblems(a)&&
(b=a.endContainer.previousElementSibling)&&a.setEnd(b,this._endOffsetForNode(b))}},_endOffsetForNode:function(a){var b=document.createRange();b.selectNodeContents(a);return b.endOffset},_detectInlineRangeProblems:function(a){var b=g.compareDocumentPosition(a.startContainer,a.endContainer);return 0==a.endOffset&&b&4},getRange:function(a){var b=this.getSelection(),b=b&&b.rangeCount&&b.getRangeAt(0);!0!==a&&this.fixRangeOverflow(b);return b},getOwnUneditables:function(){var b=g.query(this.contain,"."+
this.unselectableClass),e=g.query(b,"."+this.unselectableClass);return a.lang.array(b).without(e)},getOwnRanges:function(){var a=[],b=this.getRange();b&&a.push(b);if(this.unselectableClass&&this.contain&&b){var e=this.getOwnUneditables(),g;if(0<e.length)for(var h=0,p=e.length;h<p;h++)for(var b=[],q=0,r=a.length;q<r;q++){if(a[q])switch(a[q].compareNode(e[h])){case 2:break;case 3:g=a[q].cloneRange();g.setEndBefore(e[h]);b.push(g);g=a[q].cloneRange();g.setStartAfter(e[h]);b.push(g);break;default:b.push(a[q])}a=
b}}return a},getSelection:function(){return rangy.getSelection(this.win)},setSelection:function(a){var b=rangy.getSelection(this.win);b.setSingleRange(a);return b&&b.anchorNode&&b.focusNode?b:null},selectAll:function(){var e=this.createRange(),g=this.composer,h=this,n=b(this.composer.element),m=b(this.composer.element),p,q=function(){e.setStart(g.element,0);e.setEnd(g.element,g.element.childNodes.length);p=h.setSelection(e)},r=function(){return!p||p.nativeSelection&&p.nativeSelection.type&&("Caret"===
p.nativeSelection.type||"None"===p.nativeSelection.type)};a.dom.removeInvisibleSpaces(this.composer.element);q();this.composer.element.firstChild&&r()&&(this.composer.element.appendChild(n),q(),r()&&(n.parentNode.removeChild(n),this.composer.element.insertBefore(m,this.composer.element.firstChild),q(),r()&&(this.composer.element.appendChild(n),q())))},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},getHtml:function(){return this.getSelection().toHtml()},
getPlainText:function(){return this.getSelection().toString()},isEndToEndInNode:function(b){var e=this.getRange(),g=e.commonAncestorContainer,h=e.startContainer,m=e.endContainer;g.nodeType===a.TEXT_NODE&&(g=g.parentNode);if(h.nodeType===a.TEXT_NODE&&!/^\s*$/.test(h.data.substr(e.startOffset))||m.nodeType===a.TEXT_NODE&&!/^\s*$/.test(m.data.substr(e.endOffset)))return!1;for(;h&&h!==g;){if(h.nodeType!==a.TEXT_NODE&&!a.dom.contains(g,h)||a.dom.domNode(h).prev({ignoreBlankTexts:!0}))return!1;h=h.parentNode}for(;m&&
m!==g;){if(m.nodeType!==a.TEXT_NODE&&!a.dom.contains(g,m)||a.dom.domNode(m).next({ignoreBlankTexts:!0}))return!1;m=m.parentNode}return a.lang.array(b).contains(g.nodeName)?g:!1},isInThisEditable:function(){var b=this.getSelection(),e=b.focusNode,b=b.anchorNode;e&&1!==e.nodeType&&(e=e.parentNode);b&&1!==b.nodeType&&(b=b.parentNode);return b&&e&&(a.dom.contains(this.composer.element,e)||this.composer.element===e)&&(a.dom.contains(this.composer.element,b)||this.composer.element===b)},deselect:function(){var a=
this.getSelection();a&&a.removeAllRanges()}})})(wysihtml5);
(function(a,h){function e(a,e,f){a.getAttribute("style")?(b(a,f),a.getAttribute("style")&&!/^\s*$/.test(a.getAttribute("style"))?a.setAttribute("style",e+";"+a.getAttribute("style")):a.setAttribute("style",e)):a.setAttribute("style",e)}function b(a,b){var e,f=[];if(a.getAttribute("style")){e=a.getAttribute("style").split(";");for(var g=e.length;g--;)e[g].match(b)||/^\s*$/.test(e[g])||f.push(e[g]);f.length?a.setAttribute("style",f.join(";")):a.removeAttribute("style")}}function g(a,b){var e=[],f=b.split(";"),
g=a.getAttribute("style");if(g){g=g.replace(/\s/gi,"").toLowerCase();e.push(new RegExp("(^|\\s|;)"+b.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var h=f.length;0<h--;)/^\s*$/.test(f[h])||e.push(new RegExp("(^|\\s|;)"+f[h].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));
f=0;for(h=e.length;f<h;f++)if(g.match(e[f]))return e[f]}return!1}function f(b,e,f,k){for(var l=b.length;l--;){var m;m=b[l];var n=e,p=k;m=f?g(m,f):p?a.dom.hasClass(m,p):h.dom.arrayContains(n,m.tagName.toLowerCase());if(!m)return!1}return b.length?!0:!1}function l(a,b){return h.dom.isCharacterDataNode(a)?0==b?!!a.previousSibling:b==a.length?!!a.nextSibling:!0:0<b&&b<a.childNodes.length}function k(a,b,e,f){var g;h.dom.isCharacterDataNode(b)&&(0==e?(e=h.dom.getNodeIndex(b),b=b.parentNode):e==b.length?
(e=h.dom.getNodeIndex(b)+1,b=b.parentNode):g=h.dom.splitDataNode(b,e));if(!(g||f&&b===f)){g=b.cloneNode(!1);g.id&&g.removeAttribute("id");for(var l;l=b.childNodes[e];)g.appendChild(l);h.dom.insertAfter(g,b)}return b==a?g:k(a,g.parentNode,h.dom.getNodeIndex(g),f)}function n(b){this.firstTextNode=(this.isElementMerge=b.nodeType==a.ELEMENT_NODE)?b.lastChild:b;this.textNodes=[this.firstTextNode]}function m(a,b,e,f,g,h,k){this.tagNames=a||["span"];this.cssClass=b||(!1===b?!1:"");this.similarClassRegExp=
e;this.cssStyle=g||"";this.similarStyleRegExp=h;this.normalize=f;this.applyToAnyTagName=!1;this.container=k}var p=/\s+/g;n.prototype={doMerge:function(){for(var a=[],b,e,f=0,g=this.textNodes.length;f<g;++f)b=this.textNodes[f],e=b.parentNode,a[f]=b.data,f&&(e.removeChild(b),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=a=a.join("")},getLength:function(){for(var a=this.textNodes.length,b=0;a--;)b+=this.textNodes[a].length;return b},toString:function(){for(var a=[],b=
0,e=this.textNodes.length;b<e;++b)a[b]="'"+this.textNodes[b].data+"'";return"[Merge("+a.join(",")+")]"}};m.prototype={getAncestorWithClass:function(b){for(var e;b;){if(this.cssClass)if(e=this.cssClass,b.className){var f=b.className.match(this.similarClassRegExp)||[];e=f[f.length-1]===e}else e=!1;else e=""!==this.cssStyle?!1:!0;if(b.nodeType==a.ELEMENT_NODE&&"false"!=b.getAttribute("contenteditable")&&h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&e)return b;b=b.parentNode}return!1},getAncestorWithStyle:function(b){for(var e;b;){if(this.cssStyle){e=
b;var f=this.similarStyleRegExp;e.getAttribute&&e.getAttribute("style")?(e.getAttribute("style").match(f),e=e.getAttribute("style").match(f)?!0:!1):e=!1}else e=!1;if(b.nodeType==a.ELEMENT_NODE&&"false"!=b.getAttribute("contenteditable")&&h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&e)return b;b=b.parentNode}return!1},getMatchingAncestor:function(a){var b=this.getAncestorWithClass(a),e=!1;b?this.cssStyle&&(e="class"):(b=this.getAncestorWithStyle(a))&&(e="style");return{element:b,type:e}},
postApply:function(a,b){for(var e=a[0],f=a[a.length-1],g=[],h,k=e,l=f,m=0,p=f.length,A,C,E=0,H=a.length;E<H;++E)A=a[E],C=null,A&&A.parentNode&&(C=this.getAdjacentMergeableTextNode(A.parentNode,!1)),C?(h||(h=new n(C),g.push(h)),h.textNodes.push(A),A===e&&(k=h.firstTextNode,m=k.length),A===f&&(l=h.firstTextNode,p=h.getLength())):h=null;f&&f.parentNode&&(e=this.getAdjacentMergeableTextNode(f.parentNode,!0))&&(h||(h=new n(f),g.push(h)),h.textNodes.push(e));if(g.length){E=0;for(H=g.length;E<H;++E)g[E].doMerge();
b.setStart(k,m);b.setEnd(l,p)}},getAdjacentMergeableTextNode:function(b,e){var f=b.nodeType==a.TEXT_NODE,g=f?b.parentNode:b,h=e?"nextSibling":"previousSibling";if(f){if((f=b[h])&&f.nodeType==a.TEXT_NODE)return f}else if((f=g[h])&&this.areElementsMergeable(b,f))return f[e?"firstChild":"lastChild"];return null},areElementsMergeable:function(a,b){var e;if(e=h.dom.arrayContains(this.tagNames,(a.tagName||"").toLowerCase())&&h.dom.arrayContains(this.tagNames,(b.tagName||"").toLowerCase()))e=a.className.replace(p,
" ")==b.className.replace(p," ");if(e)a:if(a.attributes.length!=b.attributes.length)e=!1;else{e=0;for(var f=a.attributes.length,g,k;e<f;++e)if(g=a.attributes[e],k=g.name,"class"!=k&&(k=b.attributes.getNamedItem(k),g.specified!=k.specified||g.specified&&g.nodeValue!==k.nodeValue)){e=!1;break a}e=!0}return e},createContainer:function(a){a=a.createElement(this.tagNames[0]);this.cssClass&&(a.className=this.cssClass);this.cssStyle&&a.setAttribute("style",this.cssStyle);return a},applyToTextNode:function(a){var b=
a.parentNode;1==b.childNodes.length&&h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())?(this.cssClass&&(a=this.cssClass,b.className?(b.className&&(b.className=b.className.replace(this.similarClassRegExp,"")),b.className+=" "+a):b.className=a),this.cssStyle&&e(b,this.cssStyle,this.similarStyleRegExp)):(b=this.createContainer(h.dom.getDocument(a)),a.parentNode.insertBefore(b,a),b.appendChild(a))},isRemovable:function(b){return h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&""===
a.lang.string(b.className).trim()&&(!b.getAttribute("style")||""===a.lang.string(b.getAttribute("style")).trim())},undoToTextNode:function(a,f,h,m){a=h?!1:!0;h=h||m;m=!1;if(!f.containsNode(h)){var n=f.cloneRange();n.selectNode(h);n.isPointInRange(f.endContainer,f.endOffset)&&l(f.endContainer,f.endOffset)&&(k(h,f.endContainer,f.endOffset,this.container),f.setEndAfter(h));n.isPointInRange(f.startContainer,f.startOffset)&&l(f.startContainer,f.startOffset)&&(h=k(h,f.startContainer,f.startOffset,this.container))}!a&&
this.similarClassRegExp&&h.className&&(h.className=h.className.replace(this.similarClassRegExp,""));a&&this.similarStyleRegExp&&(f=h,a=this.cssStyle,m=this.similarStyleRegExp,(n=g(f,a))?(b(f,n),f="remove"):(e(f,a,m),f="change"),m="change"===f);if(this.isRemovable(h)&&!m){for(f=h.parentNode;h.firstChild;)f.insertBefore(h.firstChild,h);f.removeChild(h)}},applyToRange:function(b){for(var e,f=b.length;f--;){e=b[f].getNodes([a.TEXT_NODE]);if(!e.length)try{var g=this.createContainer(b[f].endContainer.ownerDocument);
b[f].surroundContents(g);this.selectNode(b[f],g);break}catch(h){}b[f].splitBoundaries();e=b[f].getNodes([a.TEXT_NODE]);if(e.length){for(var k,l=0,m=e.length;l<m;++l)k=e[l],this.getMatchingAncestor(k).element||this.applyToTextNode(k);b[f].setStart(e[0],0);k=e[e.length-1];b[f].setEnd(k,k.length);this.normalize&&this.postApply(e,b[f])}}},undoToRange:function(b){for(var e,f,g,h=b.length;h--;){e=b[h].getNodes([a.TEXT_NODE]);e.length?(b[h].splitBoundaries(),e=b[h].getNodes([a.TEXT_NODE])):(e=b[h].endContainer.ownerDocument.createTextNode(a.INVISIBLE_SPACE),
b[h].insertNode(e),b[h].selectNode(e),e=[e]);for(var k=0,l=e.length;k<l;++k)b[h].isValid()&&(f=e[k],g=this.getMatchingAncestor(f),"style"===g.type?this.undoToTextNode(f,b[h],!1,g.element):g.element&&this.undoToTextNode(f,b[h],g.element));1==l?this.selectNode(b[h],e[0]):(b[h].setStart(e[0],0),f=e[e.length-1],b[h].setEnd(f,f.length),this.normalize&&this.postApply(e,b[h]))}},selectNode:function(b,e){var f=e.nodeType===a.ELEMENT_NODE,g="canHaveHTML"in e?e.canHaveHTML:!0,h=f?e.innerHTML:e.data;if((h=""===
h||h===a.INVISIBLE_SPACE)&&f&&g)try{e.innerHTML=a.INVISIBLE_SPACE}catch(k){}b.selectNodeContents(e);h&&f?b.collapse(!1):h&&(b.setStartAfter(e),b.setEndAfter(e))},getTextSelectedByRange:function(a,b){var e=b.cloneRange();e.selectNodeContents(a);var f=e.intersection(b),f=f?f.toString():"";e.detach();return f},isAppliedToRange:function(b){for(var e=[],f="full",g,h,k=b.length;k--;){h=b[k].getNodes([a.TEXT_NODE]);if(!h.length)return(g=this.getMatchingAncestor(b[k].startContainer).element)?{elements:[g],
coverage:f}:!1;for(var l=0,m=h.length,n;l<m;++l)n=this.getTextSelectedByRange(h[l],b[k]),(g=this.getMatchingAncestor(h[l]).element)&&""!=n?(e.push(g),1===a.dom.getTextNodes(g,!0).length?f="full":"full"===f&&(f="inline")):g||(f="partial")}return e.length?{elements:e,coverage:f}:!1},toggleRange:function(a){var b=this.isAppliedToRange(a);b?"full"===b.coverage?this.undoToRange(a):"inline"===b.coverage?(b=f(b.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(a),b||this.applyToRange(a)):
(f(b.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(a),this.applyToRange(a)):this.applyToRange(a)}};a.selection.HTMLApplier=m})(wysihtml5,rangy);
wysihtml5.Commands=Base.extend({constructor:function(a){this.editor=a;this.composer=a.composer;this.doc=this.composer.doc},support:function(a){return wysihtml5.browser.supportsCommand(this.doc,a)},exec:function(a,h){var e=wysihtml5.commands[a],b=wysihtml5.lang.array(arguments).get(),g=e&&e.exec,f=null;this.composer.hasPlaceholderSet()&&!wysihtml5.lang.array(["styleWithCSS","enableObjectResizing","enableInlineTableEditing"]).contains(a)&&(this.composer.element.innerHTML="",this.composer.selection.selectNode(this.composer.element));
this.editor.fire("beforecommand:composer");if(g)b.unshift(this.composer),f=g.apply(e,b);else try{f=this.doc.execCommand(a,!1,h)}catch(l){}this.editor.fire("aftercommand:composer");return f},remove:function(a,h){var e=wysihtml5.commands[a],b=wysihtml5.lang.array(arguments).get(),g=e&&e.remove;if(g)return b.unshift(this.composer),g.apply(e,b)},state:function(a,h){var e=wysihtml5.commands[a],b=wysihtml5.lang.array(arguments).get(),g=e&&e.state;if(g)return b.unshift(this.composer),g.apply(e,b);try{return this.doc.queryCommandState(a)}catch(f){return!1}},
stateValue:function(a){var h=wysihtml5.commands[a],e=wysihtml5.lang.array(arguments).get(),b=h&&h.stateValue;return b?(e.unshift(this.composer),b.apply(h,e)):!1}});(function(a){var h={nodeName:"B",toggle:!0};a.commands.bold={exec:function(e,b){a.commands.formatInline.exec(e,b,h)},state:function(e,b){return a.commands.formatInline.state(e,b,h)}}})(wysihtml5);
(function(a){var h={nodeName:"A",toggle:!1};a.commands.createLink={exec:function(e,b,g){g=a.lang.object({}).merge(h).merge({attribute:g}).get();if(e.selection.isCollapsed()&&!this.state(e,b)){var f=e.doc.createTextNode(g.attribute.href);e.selection.insertNode(f);e.selection.selectNode(f)}a.commands.formatInline.exec(e,b,g)},state:function(e,b){return a.commands.formatInline.state(e,b,h)}}})(wysihtml5);
(function(a){var h={nodeName:"A"};a.commands.removeLink={exec:function(e,b){a.commands.formatInline.remove(e,b,h)},state:function(e,b){return a.commands.formatInline.state(e,b,h)}}})(wysihtml5);(function(a){var h=/wysiwyg-font-size-[0-9a-z\-]+/g;a.commands.fontSize={exec:function(e,b,g){a.commands.formatInline.exec(e,b,{className:"wysiwyg-font-size-"+g,classRegExp:h,toggle:!0})},state:function(e,b,g){return a.commands.formatInline.state(e,b,{className:"wysiwyg-font-size-"+g})}}})(wysihtml5);
(function(a){a.commands.fontSizeStyle={exec:function(h,e,b){b=b.size||b;/^\s*$/.test(b)||a.commands.formatInline.exec(h,e,{styleProperty:"fontSize",styleValue:b,toggle:!1})},state:function(h,e,b){return a.commands.formatInline.state(h,e,{styleProperty:"fontSize",styleValue:b||void 0})},remove:function(h,e){return a.commands.formatInline.remove(h,e,{styleProperty:"fontSize"})},stateValue:function(h,e){var b;(b=this.state(h,e))&&a.lang.object(b).isArray()&&(b=b[0]);return b&&(b=b.getAttribute("style"))?
a.quirks.styleParser.parseFontSize(b):!1}}})(wysihtml5);(function(a){var h=/wysiwyg-color-[0-9a-z]+/g;a.commands.foreColor={exec:function(e,b,g){a.commands.formatInline.exec(e,b,{className:"wysiwyg-color-"+g,classRegExp:h,toggle:!0})},state:function(e,b,g){return a.commands.formatInline.state(e,b,{className:"wysiwyg-color-"+g})}}})(wysihtml5);
(function(a){a.commands.foreColorStyle={exec:function(h,e,b){b&&(b=a.quirks.styleParser.parseColor("color:"+(b.color||b),"color"))&&(b=(1===b[3]?"rgb("+[b[0],b[1],b[2]].join(", "):"rgba("+b.join(", "))+")",a.commands.formatInline.exec(h,e,{styleProperty:"color",styleValue:b}))},state:function(h,e,b){b=b?a.quirks.styleParser.parseColor("color:"+(b.color||b),"color"):null;var g;b&&(g=(1===b[3]?"rgb("+[b[0],b[1],b[2]].join(", "):"rgba("+b.join(", "))+")");return a.commands.formatInline.state(h,e,{styleProperty:"color",
styleValue:g})},remove:function(h,e){return a.commands.formatInline.remove(h,e,{styleProperty:"color"})},stateValue:function(h,e,b){h=this.state(h,e);e=!1;h&&a.lang.object(h).isArray()&&(h=h[0]);return h&&(h=h.getAttribute("style"))?(e=a.quirks.styleParser.parseColor(h,"color"),a.quirks.styleParser.unparseColor(e,b)):!1}}})(wysihtml5);
(function(a){a.commands.bgColorStyle={exec:function(h,e,b){if(b=a.quirks.styleParser.parseColor("background-color:"+(b.color||b),"background-color"))b=(1===b[3]?"rgb("+[b[0],b[1],b[2]].join(", "):"rgba("+b.join(", "))+")",a.commands.formatInline.exec(h,e,{styleProperty:"backgroundColor",styleValue:b})},state:function(h,e,b){b=b?a.quirks.styleParser.parseColor("background-color:"+(b.color||b),"background-color"):null;var g;b&&(g=(1===b[3]?"rgb("+[b[0],b[1],b[2]].join(", "):"rgba("+b.join(", "))+")");
return a.commands.formatInline.state(h,e,{styleProperty:"backgroundColor",styleValue:g})},remove:function(h,e){return a.commands.formatInline.remove(h,e,{styleProperty:"backgroundColor"})},stateValue:function(h,e,b){h=this.state(h,e);e=!1;h&&a.lang.object(h).isArray()&&(h=h[0]);return h&&(h=h.getAttribute("style"))?(e=a.quirks.styleParser.parseColor(h,"background-color"),a.quirks.styleParser.unparseColor(e,b)):!1}}})(wysihtml5);
(function(a){function h(a,b){return 3===a.nodeType?a:a.childNodes[b]||a}function e(a){return a&&1===a.nodeType&&"BR"===a.nodeName}function b(a){return a&&1===a.nodeType&&a.classList.contains("rangySelectionBoundary")}function g(a,b){return e(a)||a&&1===a.nodeType&&"block"===b.win.getComputedStyle(a).display}function f(b,e){a.dom.removeInvisibleSpaces(b.element);for(var f=b.element,g=f.querySelectorAll("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"),h=b.config.classNames.uneditableContainer+[""].concat("h1; h2; h3; h4; h5; h6; p; pre; div; blockquote".split(";")).join(", "+
b.config.classNames.uneditableContainer+" "),f=f.querySelectorAll(h),g=a.lang.array(g).without(f),h=g.length;h--;)""!==g[h].innerHTML.replace(/[\uFEFF]/g,"")||0!==e.length&&g[h]===e[e.length-1]||(f=a.lang.array(e).indexOf(g[h]),-1<f&&e.splice(f,1),g[h].parentNode.removeChild(g[h]));return e}function l(a,b,e){for(var f=null;a&&b&&a!==b;)1===a.nodeType&&a.matches(e?"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote":"h1, h2, h3, h4, h5, h6, p, pre")&&(f=a),a=a.parentNode;return f}function k(b,e,f){b||
(b=f.doc.createElement(e.nodeName||(f.config.useLineBreaks?"DIV":"P")),b.appendChild(f.doc.createTextNode(a.INVISIBLE_SPACE)));e.nodeName&&b.nodeName!==e.nodeName&&(b=z.renameElement(b,e.nodeName));e.classRegExp&&(b.className=b.className.replace(e.classRegExp,""));e.className&&b.classList.add(e.className);e.styleProperty&&"undefined"!==typeof e.styleValue&&(b.style[a.browser.fixStyleKey(e.styleProperty)]=e.styleValue);return b}function n(b){b=b.querySelectorAll("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote")||
[];for(var e,f=b.length;f--;)e=a.dom.domNode(b[f]).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),a.dom.domNode(b[f]).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),e&&1!==e.nodeType&&"BR"!==e.nodeName&&""!==(b[f].innerHTML||b[f].nodeValue||"").trim()&&b[f].parentNode.insertBefore(b[f].ownerDocument.createElement("BR"),e),e&&1!==e.nodeType&&"BR"!==e.nodeName&&""!==(b[f].innerHTML||b[f].nodeValue||"").trim()&&b[f].parentNode.insertBefore(b[f].ownerDocument.createElement("BR"),e),a.dom.unwrap(b[f])}function m(b){for(var e=
[],f,g,h,k,l,m,n=0,r=b.length;n<r;n++){1===b[n].startContainer.nodeType&&b[n].startContainer.matches("ul, ol")&&b[n].setStart(b[n].startContainer.childNodes[b[n].startOffset],0);1===b[n].endContainer.nodeType&&b[n].endContainer.matches("ul, ol")&&(m=b[n].endContainer.childNodes[Math.max(b[n].endOffset-1,0)],m.childNodes&&b[n].setEnd(m,m.childNodes.length));f=b[n].getNodes([1],function(a){return"LI"===a.nodeName});if(0<f.length)for(g=0,h=f.length;g<h;g++){l=b[n].compareNode(f[g]);if(l===b[n].NODE_AFTER||
l===b[n].NODE_INSIDE)k=b[n].cloneRange(),(m=a.dom.domNode(f[g]).prev({nodeTypes:[1]}))?k.setEnd(m,m.childNodes.length):f[g].closest("ul, ol")?k.setEndBefore(f[g].closest("ul, ol")):k.setEndBefore(f[g]),e.push(k),b[n].setStart(f[g],0);if(l===b[n].NODE_BEFORE||l===b[n].NODE_INSIDE)k=b[n].cloneRange(),k.setEnd(f[g],f[g].childNodes.length),e.push(k),(m=a.dom.domNode(f[g]).next({nodeTypes:[1]}))?b[n].setStart(m,0):f[g].closest("ul, ol")?b[n].setStartAfter(f[g].closest("ul, ol")):b[n].setStartAfter(f[g])}e.push(b[n])}return e}
function p(b,e,f,h){var k,m,n=e.startContainer;if(h=h||l(n,f.element,!0))e=b.firstChild,m=b.lastChild,f.selection.splitElementAtCaret(h,b),k=a.dom.domNode(m).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),b=a.dom.domNode(e).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),e&&!g(e,f)&&b&&!g(b,f)&&e.parentNode.insertBefore(f.doc.createElement("br"),e),m&&!g(m,f)&&k&&!g(k,f)&&k.parentNode.insertBefore(f.doc.createElement("br"),k);else{h=f.element;for(var r=n,n=null,p;r&&h&&r!==h;)1===r.nodeType&&r.matches("b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u")&&
(k=r,null===n?m=n=r.cloneNode(!1):(p=r.cloneNode(!1),p.appendChild(n),n=p)),r=r.parentNode;if((h=n)&&m&&k){if(1===b.childNodes.length){for(;b.firstChild.firstChild;)m.appendChild(b.firstChild.firstChild);b.firstChild.appendChild(h)}f.selection.splitElementAtCaret(k,b)}else f=b.firstChild,m=b.lastChild,e.insertNode(b),e.setStartBefore(f),e.setEndAfter(m)}}function q(b,e,f){b=b.cloneRange();var k=h(b.startContainer,b.startOffset).previousSibling,l=h(b.endContainer,b.endOffset).nextSibling,m=b.extractContents();
e=f.doc.createDocumentFragment();for(var r;m.firstChild;)if(1===m.firstChild.nodeType&&m.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote")){n(m.firstChild);r=a.dom.unwrap(m.firstChild);0<r.length&&(e.lastChild&&(1!==e.lastChild.nodeType||!g(e.lastChild,f))||!e.lastChild&&k&&(1!==k.nodeType||g(k,f)))&&e.appendChild(f.doc.createElement("BR"));for(var q=0,t=r.length;q<t;q++)e.appendChild(r[q]);0<r.length&&(1===e.lastChild.nodeType&&g(e.lastChild,f)||(l||e.lastChild!==m.lastChild)&&
e.appendChild(f.doc.createElement("BR")))}else e.appendChild(m.firstChild);k=a.lang.array(e.childNodes).get();p(e,b,f);return k}function r(b,f,g,m){var r=f?{nodeName:f.nodeName||null,className:f.classRegExp?null:f.className||null,classRegExp:f.classRegExp||null,styleProperty:f.styleProperty||null}:null;b=b.cloneRange();var q=b.startContainer,t=h(b.startContainer,b.startOffset),u=h(b.endContainer,b.endOffset),y;if(y=b.startContainer===t&&3===t.nodeType)y=t.data?t.data.slice(0,b.startOffset):"",y=!/^\s*$/.test(y);
var t=y?t:a.dom.domNode(t).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),u=1===b.endContainer.nodeType&&b.endContainer.childNodes[b.endOffset]===u&&(1===u.nodeType||!B(u,b.endOffset)&&!a.dom.domNode(u).is.rangyBookmark())||b.endContainer===u&&3===u.nodeType&&!B(u,b.endOffset)?u:a.dom.domNode(u).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),x=b.extractContents();y=m.doc.createDocumentFragment();var r=r?a.dom.getParentElement(q,r,null,m.element):null,z=!g||!f||"BLOCKQUOTE"===f.nodeName&&"BLOCKQUOTE"===
g,q=r||l(q,m.element,z);a.dom.domNode(u).is.rangyBookmark()&&(u=u.nextSibling);if(x){for(;x.firstChild&&3===x.firstChild.nodeType&&/^\s*$/.test(x.firstChild.data)&&x.lastChild!==x.firstChild;)x.removeChild(x.firstChild);for(;x.lastChild&&3===x.lastChild.nodeType&&/^\s*$/.test(x.lastChild.data)&&x.lastChild!==x.firstChild;)x.removeChild(x.lastChild);x.firstChild&&1===x.firstChild.nodeType&&"BR"===x.firstChild.nodeName&&x.lastChild!==x.firstChild&&x.removeChild(x.firstChild);x.lastChild&&1===x.lastChild.nodeType&&
"BR"===x.lastChild.nodeName&&x.lastChild!==x.firstChild&&x.removeChild(x.lastChild)}if(f&&"BLOCKQUOTE"===f.nodeName)f=k(null,f,m),f.appendChild(x),y.appendChild(f),f=[f];else{if(x.firstChild)for(;x.firstChild;)if(1==x.firstChild.nodeType&&x.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"))k(x.firstChild,f,m),x.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre")&&n(x.firstChild),y.appendChild(x.firstChild);else{var r=g,z=m,P=f?a.lang.object(f).clone(!0):null;P&&(P.nodeName=P.nodeName||
r||(z.config.useLineBreaks?"DIV":"P"));for(r=k(null,P,m);x.firstChild&&(1!==x.firstChild.nodeType||!x.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"));)1==x.firstChild.nodeType&&r.matches("h1, h2, h3, h4, h5, h6, p, pre")&&n(x.firstChild),r.appendChild(x.firstChild);y.appendChild(r)}else y.appendChild(k(null,f,m));f=a.lang.array(y.childNodes).get()}p(y,b,m,q);b=u;g=t&&a.dom.domNode(t).prev({nodeTypes:[1,3],ignoreBlankTexts:!0});e(b)&&b.parentNode.removeChild(b);!e(t)||g&&1===
g.nodeType&&"block"===m.win.getComputedStyle(g).display||t.parentNode.removeChild(t);0<f.length&&("undefined"===typeof f[f.length-1].lastChild||a.dom.domNode(f[f.length-1].lastChild).is.rangyBookmark())&&f[f.length-1].appendChild(m.doc.createElement("br"));return f}function t(b,e){var f=a.dom.getParentElement(b.selection.getOwnRanges()[0].startContainer,{query:"h1, h2, h3, h4, h5, h6, p, pre, "+(e?e.toLowerCase():"div")},null,b.element),g;f?(g=b.selection.createRange(),g.selectNode(f),b.selection.setSelection(g)):
b.isEmpty()||b.selection.selectLine()}function u(a,b){var e=b.selection.createRange(),f=a[a.length-1],g=1===f.nodeType&&f.childNodes?f.childNodes.length|0:f.length||0;e.setStart(a[0],0);e.setEnd(f,g);e.select()}function y(b,e,f){for(var g=e.selection.getOwnRanges(),h=[],k,g=m(g),l=g.length;l--;){k=g[l];var n=e,p=void 0,p=k.startContainer,t=k.endContainer;p&&1===p.nodeType&&p===t?p.firstChild===p.lastChild&&1===k.endOffset&&p!==n.element&&"LI"!==p.nodeName&&"TD"!==p.nodeName&&(k.setStartBefore(p),
k.setEndAfter(t)):p&&1===p.nodeType&&3===t.nodeType?p.firstChild===t&&k.endOffset===t.data.length&&p!==n.element&&"LI"!==p.nodeName&&"TD"!==p.nodeName&&k.setEndAfter(p):t&&1===t.nodeType&&3===p.nodeType?t.firstChild===p&&0===k.startOffset&&t!==n.element&&"LI"!==t.nodeName&&"TD"!==t.nodeName&&k.setStartBefore(t):p&&3===p.nodeType&&p===t&&1===p.parentNode.childNodes.length&&k.endOffset==t.data.length&&0===k.startOffset&&(p=p.parentNode,p!==n.element&&"LI"!==p.nodeName&&"TD"!==p.nodeName&&(k.setStartBefore(p),
k.setEndAfter(p)));k=(k=a.dom.getParentElement(g[l].startContainer,{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},null,e.element))?k.nodeName:null;h="remove"===b?h.concat(q(g[l],k,e)):h.concat(r(g[l],f,k,e))}return h}function x(a){"string"===typeof a&&(a={nodeName:a.toUpperCase()});return a}var z=a.dom,B=function(a,b){var e=a.data?a.data.slice(b):"";return/^\s*$/.test(e)};a.commands.formatBlock={exec:function(g,h,k){k=x(k);var l=[],m,n;k&&k.toggle&&(n=this.state(g,h,k));if(n){m=rangy.saveSelection(g.win);
h=0;for(var r=n.length;h<r;h++){var p=n[h],q=k,B=g,L=void 0,P=p.previousSibling,T=p.nextSibling,V=!1;q.styleProperty&&(p.style[a.browser.fixStyleKey(q.styleProperty)]="");q.className&&p.classList.remove(q.className);q.classRegExp&&(p.className=p.className.replace(q.classRegExp,""));null!==p.getAttribute("class")&&""===p.getAttribute("class").trim()&&p.removeAttribute("class");q.nodeName&&p.nodeName.toLowerCase()===q.nodeName.toLowerCase()&&((L=p.getAttribute("style"))&&""!==L.trim()?p=z.renameElement(p,
B.config.useLineBreaks?"DIV":"P"):(z.unwrap(p),V=!0));null!==p.getAttribute("style")&&""===p.getAttribute("style").trim()&&p.removeAttribute("style");V&&((p=P)&&b(p)&&(p=p.previousSibling),T&&b(T)&&(T=T.nextSibling),p&&(1!==p.nodeType||"block"!==B.win.getComputedStyle(p).display&&!e(p))&&p.parentNode&&p.parentNode.insertBefore(B.doc.createElement("br"),p.nextSibling),T&&(1!==T.nodeType||"block"!==B.win.getComputedStyle(T).display)&&T.parentNode&&T.parentNode.insertBefore(B.doc.createElement("br"),
T))}}else{if(g.selection.isCollapsed()){m=rangy.saveSelection(g.win);a:{if(g.selection.isCollapsed()&&(l=g.selection.getNodesNearCaret())&&l.caretNode&&(a.dom.domNode(l.caretNode).is.lineBreak()||3===l.caretNode.nodeType&&0===l.textOffset&&(!l.prevNode||a.dom.domNode(l.prevNode).is.lineBreak())||1===l.caretNode.nodeType&&l.caretNode.classList.contains("rangySelectionBoundary")&&(!l.prevNode||a.dom.domNode(l.prevNode).is.lineBreak()||a.dom.domNode(l.prevNode).is.block())&&(!l.nextNode||a.dom.domNode(l.nextNode).is.lineBreak()||
a.dom.domNode(l.nextNode).is.block()))){l=!0;break a}l=!1}l?g.selection.selectLine():t(g,k&&k.nodeName?k.nodeName.toUpperCase():void 0)}l=k?y("apply",g,k):y("remove",g)}l=f(g,l);m?rangy.restoreSelection(m):u(l,g)},remove:function(a,b,e){e=x(e);var g;a.selection.isCollapsed()&&(g=rangy.saveSelection(a.win),t(a,e&&e.nodeName?e.nodeName.toUpperCase():void 0));b=y("remove",a);b=f(a,b);g?rangy.restoreSelection(g):u(b,a)},state:function(b,e,f){f=x(f);e=b.selection.filterElements(function(b){return a.dom.domNode(b).test(f||
{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"})}.bind(this));for(var g=b.selection.getSelectedOwnNodes(),h,k=0,l=g.length;k<l;k++)(h=z.getParentElement(g[k],f||{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},null,b.element))&&-1===e.indexOf(h)&&e.push(h);return 0===e.length?!1:e}}})(wysihtml5);
(function(a){a.commands.formatCode={exec:function(h,e,b){var g=this.state(h)[0],f,l;g?h.selection.executeAndRestore(function(){f=g.querySelector("code");a.dom.replaceWithChildNodes(g);f&&a.dom.replaceWithChildNodes(f)}):(e=h.selection.getRange(),l=e.extractContents(),g=h.doc.createElement("pre"),f=h.doc.createElement("code"),b&&(f.className=b),g.appendChild(f),f.appendChild(l),e.insertNode(g),h.selection.selectNode(g))},state:function(h){return(h=h.selection.getSelectedNode())&&h.nodeName&&"PRE"==
h.nodeName&&h.firstChild&&h.firstChild.nodeName&&"CODE"==h.firstChild.nodeName?[h]:(h=a.dom.getParentElement(h,{query:"pre code"}))?[h.parentNode]:!1}}})(wysihtml5);
(function(a){function h(a){return!a.getAttribute("style")||/^\s*$/.test(a.getAttribute("style"))}function e(b,e){var f,g;if(1!==b.nodeType||1!==e.nodeType||b.nodeName!==e.nodeName)return!1;f=b.className.trim().replace(/\s+/g," ").split(" ");g=e.className.trim().replace(/\s+/g," ").split(" ");if(0<a.lang.array(f).without(g).length)return!1;f=a.dom.getAttributes(b);g=a.dom.getAttributes(e);return f.length===g.length&&a.lang.object(a.lang.object(f).difference(g)).isEmpty()?!0:!1}function b(b,e){var f=
b.ownerDocument.createElement(e&&e.nodeName||"SPAN");e.classRegExp&&(f.className=f.className.replace(e.classRegExp,""));e.className&&f.classList.add(e.className);e.styleProperty&&"undefined"!==typeof e.styleValue&&(f.style[a.browser.fixStyleKey(e.styleProperty)]=e.styleValue);if(e.attribute)if("object"===typeof e.attribute)for(var g in e.attribute)e.attribute.hasOwnProperty(g)&&f.setAttribute(g,e.attribute[g]);else"undefined"!==typeof e.attributeValue&&f.setAttribute(e.attribute,e.attributeValue);
return f}function g(b,e){var f,g;e.className&&(!1!==e.toggle&&b.classList.contains(e.className)?b.classList.remove(e.className):(e.classRegExp&&(b.className=b.className.replace(e.classRegExp,"")),b.classList.add(e.className)),/^\s*$/.test(b.className)&&b.removeAttribute("class"));e.styleProperty&&(!1!==e.toggle&&b.style[a.browser.fixStyleKey(e.styleProperty)].trim().replace(/, /g,",")===e.styleValue?b.style[a.browser.fixStyleKey(e.styleProperty)]="":b.style[a.browser.fixStyleKey(e.styleProperty)]=
e.styleValue);h(b)&&b.removeAttribute("style");if(e.attribute){"object"===typeof e.attribute?f=e.attribute:(f={},f[e.attribute]=e.attributeValue||"");var k=e.toggle,l=a.dom.getAttributes(b),m;a:{for(m in f)if(f.hasOwnProperty(m)&&(void 0===typeof l[m]||l[m]!==f[m])){m=!1;break a}m=!0}a.lang.object(l).difference(f);if(m&&!1!==k)for(g in f)f.hasOwnProperty(g)&&b.removeAttribute(g);else for(g in f)f.hasOwnProperty(g)&&b.setAttribute(g,f[g])}g=(g=e.nodeName?D[e.nodeName.toLowerCase()]||e.nodeName.toLowerCase():
null)?a.dom.domNode(b).test({query:g}):!1;if(!e.nodeName||"SPAN"===e.nodeName||g){if(g=(!1!==e.toggle&&g||!e.nodeName&&"SPAN"===b.nodeName)&&/^\s*$/.test(b.className)&&h(b))g=a.dom.getAttributes(b),g=a.lang.object(g).isEmpty();g&&a.dom.unwrap(b)}}function f(b,e){var f=[];b.isCollapsed()||(f=f.concat(b.getOwnNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()},e)));return f}function l(b,e,f,g){e=g?e:{nodeName:e.nodeName||null,className:e.classRegExp?null:e.className||null,classRegExp:e.classRegExp||
null,styleProperty:e.styleProperty||null};do{if(g=1===b.nodeType){g=b;var h=e,k=void 0;h.nodeName?(h=D[h.nodeName.toLowerCase()]||h.nodeName.toLowerCase(),g=a.dom.domNode(g).test({query:h})):(k=a.lang.object(h).clone(),k.query="b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u",g=a.dom.domNode(g).test(k))}if(g)return b;b=b.parentNode}while(b&&b!==f);return null}function k(b,e){var f=document.documentElement||
document.body,g=f.scrollTop,h=f.scrollLeft;rangy.getSelection(b.win);rangy.getSelection(b.win).removeAllRanges();try{rangy.getSelection(b.win).addRange(e)}catch(k){}b.doc.activeElement&&a.dom.contains(b.element,b.doc.activeElement)||(b.element.focus(),f.scrollTop=g,f.scrollLeft=h,rangy.getSelection(b.win).addRange(e))}function n(a,b){var e=rangy.createRange(b.doc),f=a[a.length-1];a[0]&&f&&(e.setStart(a[0],0),e.setEnd(f,f.length),k(b,e))}function m(a,b,e,f){var g=rangy.createRange(a.doc);b&&(g.setStart(b,
e),g.setEnd(b,"undefined"!==typeof f?f:e),k(a,g))}function p(a,b,e){var g=f(a.selection),h=[],k=!1,m;if(a.selection.isInThisEditable()){if(0===g.length&&a.selection.isCollapsed()){m=a.selection.getSelection().anchorNode;if(!m)return{nodes:[],partial:!1};3===m.nodeType&&(g=[m])}g.length||(m=a.selection.getOwnRanges()[0])&&(g=[m.endContainer]);for(var n=0,p=g.length;n<p;n++)(m=l(g[n],b,a.element,e))?h.push(m):k=!0}return{nodes:h,partial:k}}function q(a){var b,e;return a&&(b=a.anchorNode,e=a.anchorOffset,
b&&3===b.nodeType&&0<e&&e<b.data.length)?(a=b.data[e-1],b=b.data[e],/\w/.test(a)&&/\w/.test(b)):!1}function r(b){var e,f,g,h;e=[];if(b&&(e=b.anchorNode,b=g=h=b.anchorOffset,f=e.ownerDocument,f=rangy.createRange(f),e&&3===e.nodeType)){for(;0<g&&/\w/.test(e.data[g-1]);)g--;for(;h<e.data.length&&/\w/.test(e.data[h]);)h++;f.setStartAndEnd(e,g,h);f.splitBoundaries();e=f.getNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()});return{wordOffset:b-g,range:f,textNode:e[0]}}return!1}function t(a){for(var b=
a.length;b--;)if(a[b]&&a[b].parentNode){if(a[b].nextSibling&&e(a[b],a[b].nextSibling)){for(var f=a[b],g=a[b].nextSibling;g.firstChild;)f.appendChild(g.firstChild);g.parentNode.removeChild(g)}if(a[b].previousSibling&&e(a[b],a[b].previousSibling)){f=a[b].previousSibling;for(g=a[b];g.firstChild;)f.appendChild(g.firstChild);g.parentNode.removeChild(g)}}}function u(a,b,e){0<b.length&&n(b,a);t(p(a,e).nodes);0<b.length&&n(b,a)}function y(a,b,e,f){m(a,b,e);t(p(a,f).nodes);m(a,b,e)}function x(a,e){var f=b(a,
e);a.parentNode.insertBefore(f,a);f.appendChild(a)}function z(b,e,f){e=l(b,f,e.element);var h;e&&(h=e.cloneNode(!1),a.dom.domNode(b).escapeParent(e,h),g(h,f))}function B(a){a="string"===typeof a?{nodeName:a}:a;a.nodeName&&(a.nodeName=a.nodeName.toUpperCase());return a}var D={b:"b, strong",strong:"b, strong",em:"em, i",i:"em, i"};a.commands.formatInline={exec:function(e,h,k){k=B(k);e.element.normalize();h=f(e.selection,!0);var m=p(e,k);if(0<m.nodes.length){var n=p(e,k,!0),t=e.selection.getSelection();
if(h.length){if(n.partial||!1===k.toggle)for(n=h.length;n--;)l(h[n],k,e.element)&&z(h[n],e,k),l(h[n],k,e.element)||x(h[n],k);else for(n=h.length;n--;)z(h[n],e,k);u(e,h,k)}else if(!1!==k.toggle)if(q(t))h=r(t),z(h.textNode,e,k),y(e,h.textNode,h.wordOffset,k);else{if(h=e.doc.createTextNode(a.INVISIBLE_SPACE),n=m.nodes[0].cloneNode(!1),n.appendChild(h),e.selection.splitElementAtCaret(m.nodes[0],n),g(n,k),u(e,[h],k),h=e.selection.getSelection(),h.anchorNode&&h.focusNode)try{h.collapseToEnd()}catch(D){}}else for(n=
m.nodes.length;n--;)g(m.nodes[n],k)}else if(m=k,k=e.selection.getSelection(),h.length){for(k=h.length;k--;)x(h[k],m);u(e,h,m)}else if(q(k))h=r(k),x(h.textNode,m),y(e,h.textNode,h.wordOffset,m);else if(h=e.selection.getOwnRanges()[0])m=b(h.endContainer,m),h.surroundContents(m),e.selection.selectNode(m);e.element.normalize()},remove:function(b,e,g){g=B(g);b.element.normalize();e=f(b.selection,!0);var h=p(b,g);if(0<h.nodes.length){var k,m;m=b.selection.getSelection();if(e.length){for(m=e.length;m--;)h=
e[m],(k=l(h,g,b.element))&&a.dom.domNode(h).escapeParent(k);u(b,e,g)}else{e=m.anchorNode;k=m.anchorOffset;for(m=h.nodes.length;m--;)a.dom.unwrap(h.nodes[m]);y(b,e,k,g)}}b.element.normalize()},state:function(a,b,e){e=B(e);a=p(a,e,!0).nodes;return 0===a.length?!1:a}}})(wysihtml5);
(function(a){var h={nodeName:"BLOCKQUOTE",toggle:!0};a.commands.insertBlockQuote={exec:function(e,b){return a.commands.formatBlock.exec(e,"formatBlock",h)},state:function(e,b){return a.commands.formatBlock.state(e,"formatBlock",h)}}})(wysihtml5);(function(a){a.commands.insertHTML={exec:function(a,e,b){a.selection.insertHTML(b)},state:function(){return!1}}})(wysihtml5);
(function(a){a.commands.insertImage={exec:function(h,e,b){b="object"===typeof b?b:{src:b};var g=h.doc;if((e=this.state(h))&&!b.src)h.selection.setBefore(e),b=e.parentNode,b.removeChild(e),a.dom.removeEmptyTextNodes(b),"A"!==b.nodeName||b.firstChild||(h.selection.setAfter(b),b.parentNode.removeChild(b)),a.quirks.redraw(h.element);else if(e)for(var f in b)b.hasOwnProperty(f)&&e.setAttribute("className"===f?"class":f,b[f]);else{e=g.createElement("IMG");for(var l in b)e.setAttribute("className"===l?"class":
l,b[l]);h.selection.insertNode(e);a.browser.hasProblemsSettingCaretAfterImg()?(b=g.createTextNode(a.INVISIBLE_SPACE),h.selection.insertNode(b),h.selection.setAfter(b)):h.selection.setAfter(e)}},state:function(h){var e;if(!a.dom.hasElementWithTagName(h.doc,"IMG"))return!1;e=h.selection.getSelectedNode();if(!e)return!1;if("IMG"===e.nodeName)return e;if(e.nodeType!==a.ELEMENT_NODE)return!1;e=h.selection.getText();if(e=a.lang.string(e).trim())return!1;h=h.selection.getNodes(a.ELEMENT_NODE,function(a){return"IMG"===
a.nodeName});return 1!==h.length?!1:h[0]}}})(wysihtml5);(function(a){var h="<br>"+(a.browser.needsSpaceAfterLineBreak()?" ":"");a.commands.insertLineBreak={exec:function(a,b){a.selection.insertHTML(h)},state:function(){return!1}}})(wysihtml5);(function(a){a.commands.insertOrderedList={exec:function(h,e){a.commands.insertList.exec(h,e,"OL")},state:function(h,e){return a.commands.insertList.state(h,e,"OL")}}})(wysihtml5);
(function(a){a.commands.insertUnorderedList={exec:function(h,e){a.commands.insertList.exec(h,e,"UL")},state:function(h,e){return a.commands.insertList.state(h,e,"UL")}}})(wysihtml5);
wysihtml5.commands.insertList=function(a){var h=function(a,b){if(a&&a.nodeName){"string"===typeof b&&(b=[b]);for(var e=b.length;e--;)if(a.nodeName===b[e])return!0}return!1},e=function(b,e,f){var g={el:null,other:!1};if(b){var p=a.dom.getParentElement(b,{query:"li"},!1,f.element),q="UL"===e?"OL":"UL";h(b,e)?g.el=b:h(b,q)?g={el:b,other:!0}:p&&(h(p.parentNode,e)?g.el=p.parentNode:h(p.parentNode,q)&&(g={el:p.parentNode,other:!0}))}g.el&&!f.element.contains(g.el)&&(g.el=null);return g},b=function(b,e,
g){var h="UL"===e?"OL":"UL",p,q;g.selection.executeAndRestoreRangy(function(){p=f(h,g);if(p.length)for(var r=p.length;r--;)a.dom.renameElement(p[r],e.toLowerCase());else{q=f(["OL","UL"],g);for(r=q.length;r--;)a.dom.resolveList(q[r],g.config.useLineBreaks);0===q.length&&a.dom.resolveList(b,g.config.useLineBreaks)}})},g=function(b,e,g){var h="UL"===e?"OL":"UL";g.selection.executeAndRestoreRangy(function(){for(var p=[b].concat(f(h,g)),q=p.length;q--;)a.dom.renameElement(p[q],e.toLowerCase())})},f=function(a,
b){for(var e=b.selection.getOwnRanges(),f=[],g=e.length;g--;)f=f.concat(e[g].getNodes([1],function(b){return h(b,a)}));return f};return{exec:function(f,h,n){h=f.doc;var m="OL"===n?"insertOrderedList":"insertUnorderedList",p=f.selection.getSelection(),q=1===p.anchorNode.nodeType&&p.anchorNode.firstChild?p.anchorNode.childNodes[p.anchorOffset]:p.anchorNode,r=1===p.focusNode.nodeType&&p.focusNode.firstChild?p.focusNode.childNodes[p.focusOffset]||p.focusNode.lastChild:p.focusNode;p.isBackwards()&&(q=
[r,r=q][0]);a.dom.domNode(r).is.emptyTextNode(!0)&&r&&(r=a.dom.domNode(r).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}));a.dom.domNode(q).is.emptyTextNode(!0)&&q&&(q=a.dom.domNode(q).next({nodeTypes:[1,3],ignoreBlankTexts:!0}));p=q&&r?q===r?q:a.dom.domNode(q).commonAncestor(r,f.element):f.selection.getSelectedNode();p=e(p,n,f);p.el?p.other?g(p.el,n,f):b(p.el,n,f):f.commands.support(m)?h.execCommand(m,!1,null):(h=rangy.saveSelection(f.win),m="_wysihtml5-temp-"+(new Date).getTime(),f.commands.exec("formatBlock",
{nodeName:"div",className:m}),p=f.element.querySelector("."+m),p.innerHTML=p.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,""),p&&(m=/^(\s|(<br>))+$/i.test(p.innerHTML),n=a.dom.convertToList(p,n.toLowerCase(),f.parent.config.classNames.uneditableContainer),h&&rangy.restoreSelection(h),m&&f.selection.selectNode(n.querySelector("li"),!0)))},state:function(a,b,f){b=a.selection.getSelectedNode();a=e(b,f,a);return a.el&&!a.other?a.el:!1}}}(wysihtml5);
(function(a){var h={nodeName:"I",toggle:!0};a.commands.italic={exec:function(e,b){a.commands.formatInline.exec(e,b,h)},state:function(e,b){return a.commands.formatInline.state(e,b,h)}}})(wysihtml5);(function(a){var h={className:"wysiwyg-text-align-center",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyCenter={exec:function(e,b){return a.commands.formatBlock.exec(e,"formatBlock",h)},state:function(e,b){return a.commands.formatBlock.state(e,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={className:"wysiwyg-text-align-left",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyLeft={exec:function(e,b){return a.commands.formatBlock.exec(e,"formatBlock",h)},state:function(e,b){return a.commands.formatBlock.state(e,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={className:"wysiwyg-text-align-right",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyRight={exec:function(e,b){return a.commands.formatBlock.exec(e,"formatBlock",h)},state:function(e,b){return a.commands.formatBlock.state(e,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={className:"wysiwyg-text-align-justify",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyFull={exec:function(e,b){return a.commands.formatBlock.exec(e,"formatBlock",h)},state:function(e,b){return a.commands.formatBlock.state(e,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"right",toggle:!0};a.commands.alignRightStyle={exec:function(e,b){return a.commands.formatBlock.exec(e,"formatBlock",h)},state:function(e,b){return a.commands.formatBlock.state(e,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"left",toggle:!0};a.commands.alignLeftStyle={exec:function(e,b){return a.commands.formatBlock.exec(e,"formatBlock",h)},state:function(e,b){return a.commands.formatBlock.state(e,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"center",toggle:!0};a.commands.alignCenterStyle={exec:function(e,b){return a.commands.formatBlock.exec(e,"formatBlock",h)},state:function(e,b){return a.commands.formatBlock.state(e,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"justify",toggle:!0};a.commands.alignJustifyStyle={exec:function(e,b){return a.commands.formatBlock.exec(e,"formatBlock",h)},state:function(e,b){return a.commands.formatBlock.state(e,"formatBlock",h)}}})(wysihtml5);(function(a){a.commands.redo={exec:function(a){return a.undoManager.redo()},state:function(a){return!1}}})(wysihtml5);
(function(a){var h={nodeName:"U",toggle:!0};a.commands.underline={exec:function(e,b){a.commands.formatInline.exec(e,b,h)},state:function(e,b){return a.commands.formatInline.state(e,b,h)}}})(wysihtml5);(function(a){a.commands.undo={exec:function(a){return a.undoManager.undo()},state:function(a){return!1}}})(wysihtml5);
(function(a){a.commands.createTable={exec:function(a,e,b){var g,f;if(b&&b.cols&&b.rows&&0<parseInt(b.cols,10)&&0<parseInt(b.rows,10)){f=b.tableStyle?'<table style="'+b.tableStyle+'">':"<table>";f+="<tbody>";for(g=0;g<b.rows;g++){f+="<tr>";for(e=0;e<b.cols;e++)f+="<td><br></td>";f+="</tr>"}a.commands.exec("insertHTML",f+"</tbody></table>")}},state:function(a,e){return!1}}})(wysihtml5);
(function(a){a.commands.mergeTableCells={exec:function(h,e){h.tableSelection&&h.tableSelection.start&&h.tableSelection.end&&(this.state(h,e)?a.dom.table.unmergeCell(h.tableSelection.start):a.dom.table.mergeCellsBetween(h.tableSelection.start,h.tableSelection.end))},state:function(h,e){if(h.tableSelection){var b=h.tableSelection.start,g=h.tableSelection.end;if(b&&g&&b==g&&(a.dom.getAttribute(b,"colspan")&&1<parseInt(a.dom.getAttribute(b,"colspan"),10)||a.dom.getAttribute(b,"rowspan")&&1<parseInt(a.dom.getAttribute(b,
"rowspan"),10)))return[b]}return!1}}})(wysihtml5);(function(a){a.commands.addTableCells={exec:function(h,e,b){if(h.tableSelection&&h.tableSelection.start&&h.tableSelection.end){var g=a.dom.table.orderSelectionEnds(h.tableSelection.start,h.tableSelection.end);"before"==b||"above"==b?a.dom.table.addCells(g.start,b):"after"!=b&&"below"!=b||a.dom.table.addCells(g.end,b);setTimeout(function(){h.tableSelection.select(g.start,g.end)},0)}},state:function(a,e){return!1}}})(wysihtml5);
(function(a){a.commands.deleteTableCells={exec:function(h,e,b){if(h.tableSelection&&h.tableSelection.start&&h.tableSelection.end){e=a.dom.table.orderSelectionEnds(h.tableSelection.start,h.tableSelection.end);var g=a.dom.table.indexOf(e.start),f,l=h.tableSelection.table;a.dom.table.removeCells(e.start,b);setTimeout(function(){f=a.dom.table.findCell(l,g);f||("row"==b&&(f=a.dom.table.findCell(l,{row:g.row-1,col:g.col})),"column"==b&&(f=a.dom.table.findCell(l,{row:g.row,col:g.col-1})));f&&h.tableSelection.select(f,
f)},0)}},state:function(a,e){return!1}}})(wysihtml5);
(function(a){a.commands.indentList={exec:function(a,e,b){return(e=a.selection.getSelectionParentsByTag("LI"))?this.tryToPushLiLevel(e,a.selection):!1},state:function(a,e){return!1},tryToPushLiLevel:function(h,e){var b,g,f,l,k,n=!1;e.executeAndRestoreRangy(function(){for(var e=h.length;e--;)l=h[e],b="OL"===l.parentNode.nodeName?"OL":"UL",g=l.ownerDocument.createElement(b),k=(f=a.dom.domNode(l).prev({nodeTypes:[a.ELEMENT_NODE]}))?f.querySelector("ul, ol"):null,f&&(k?k.appendChild(l):(g.appendChild(l),
f.appendChild(g)),n=!0)});return n}}})(wysihtml5);
(function(a){a.commands.outdentList={exec:function(a,e,b){return(e=a.selection.getSelectionParentsByTag("LI"))?this.tryToPullLiLevel(e,a):!1},state:function(a,e){return!1},tryToPullLiLevel:function(h,e){var b,g,f,l,k,n=!1,m=this;e.selection.executeAndRestoreRangy(function(){for(var p=h.length;p--;)if(l=h[p],l.parentNode&&(b=l.parentNode,"OL"===b.tagName||"UL"===b.tagName)){n=!0;g=a.dom.getParentElement(b.parentNode,{query:"ol, ul"},!1,e.element);f=a.dom.getParentElement(b.parentNode,{query:"li"},
!1,e.element);if(g&&f)l.nextSibling&&(k=m.getAfterList(b,l),l.appendChild(k)),g.insertBefore(l,f.nextSibling);else{l.nextSibling&&(k=m.getAfterList(b,l),l.appendChild(k));for(var q=l.childNodes.length;q--;)b.parentNode.insertBefore(l.childNodes[q],b.nextSibling);b.parentNode.insertBefore(document.createElement("br"),b.nextSibling);l.parentNode.removeChild(l)}0===b.childNodes.length&&b.parentNode.removeChild(b)}});return n},getAfterList:function(a,e){for(var b=document.createElement(a.nodeName);e.nextSibling;)b.appendChild(e.nextSibling);
return b}}})(wysihtml5);(function(a){var h={nodeName:"SUB",toggle:!0};a.commands.subscript={exec:function(e,b){a.commands.formatInline.exec(e,b,h)},state:function(e,b){return a.commands.formatInline.state(e,b,h)}}})(wysihtml5);(function(a){var h={nodeName:"SUP",toggle:!0};a.commands.superscript={exec:function(e,b){a.commands.formatInline.exec(e,b,h)},state:function(e,b){return a.commands.formatInline.state(e,b,h)}}})(wysihtml5);
(function(a){var h=a.dom;a.UndoManager=a.lang.Dispatcher.extend({constructor:function(a){this.editor=a;this.composer=a.composer;this.element=this.composer.element;this.position=0;this.historyStr=[];this.historyDom=[];this.transact();this._observe()},_observe:function(){var a=this;this.composer.sandbox.getDocument();var b;h.observe(this.element,"keydown",function(b){if(!b.altKey&&(b.ctrlKey||b.metaKey)){var f=b.keyCode,h=90===f&&b.shiftKey||89===f;90!==f||b.shiftKey?h&&(a.redo(),b.preventDefault()):
(a.undo(),b.preventDefault())}});h.observe(this.element,"keydown",function(g){g=g.keyCode;g!==b&&(b=g,8!==g&&46!==g||a.transact())});this.editor.on("newword:composer",function(){a.transact()}).on("beforecommand:composer",function(){a.transact()})},transact:function(){var e=this.historyStr[this.position-1],b=this.composer.getValue(!1,!1),g=0<this.element.offsetWidth&&0<this.element.offsetHeight,f,h;b!==e&&(25<(this.historyStr.length=this.historyDom.length=this.position)&&(this.historyStr.shift(),this.historyDom.shift(),
this.position--),this.position++,g&&(e=(f=this.composer.selection.getRange())&&f.startContainer?f.startContainer:this.element,g=f&&f.startOffset?f.startOffset:0,e.nodeType===a.ELEMENT_NODE?f=e:(f=e.parentNode,h=this.getChildNodeIndex(f,e)),f.setAttribute("data-wysihtml5-selection-offset",g),"undefined"!==typeof h&&f.setAttribute("data-wysihtml5-selection-node",h)),h=this.element.cloneNode(!!b),this.historyDom.push(h),this.historyStr.push(b),f&&(f.removeAttribute("data-wysihtml5-selection-offset"),
f.removeAttribute("data-wysihtml5-selection-node")))},undo:function(){this.transact();this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return 1<this.position},redoPossible:function(){return this.position<this.historyStr.length},set:function(a){this.element.innerHTML="";for(var b=0,g=a.childNodes,f=a.childNodes.length;b<
f;b++)this.element.appendChild(g[b].cloneNode(!0));a.hasAttribute("data-wysihtml5-selection-offset")?(b=a.getAttribute("data-wysihtml5-selection-offset"),g=a.getAttribute("data-wysihtml5-selection-node"),a=this.element):(a=this.element.querySelector("[data-wysihtml5-selection-offset]")||this.element,b=a.getAttribute("data-wysihtml5-selection-offset"),g=a.getAttribute("data-wysihtml5-selection-node"),a.removeAttribute("data-wysihtml5-selection-offset"),a.removeAttribute("data-wysihtml5-selection-node"));
null!==g&&(a=this.getChildNodeByIndex(a,+g));this.composer.selection.set(a,b)},getChildNodeIndex:function(a,b){for(var g=0,f=a.childNodes,h=f.length;g<h;g++)if(f[g]===b)return g},getChildNodeByIndex:function(a,b){return a.childNodes[b]}})})(wysihtml5);
wysihtml5.views.View=Base.extend({constructor:function(a,h,e){this.parent=a;this.element=h;this.config=e;this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var a=this;this.parent.on("beforeload",function(){a.parent.on("change_view",function(h){h===a.name?(a.parent.currentView=a,a.show(),setTimeout(function(){a.focus()},0)):a.hide()})})},focus:function(){if(!this.element||!this.element.ownerDocument||this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element&&
this.element.focus()}catch(a){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}});
(function(a){var h=a.dom,e=a.browser;a.views.Composer=a.views.View.extend({name:"composer",constructor:function(a,e,f){this.base(a,e,f);this.config.noTextarea?this.editableArea=e:this.textarea=this.parent.textarea;this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=e.displaysCaretInEmptyContentEditableCorrectly()?"":"<br>"},getValue:function(b,e){var f=this.isEmpty()?"":a.quirks.getCorrectInnerHTML(this.element);!1!==b&&(f=this.parent.parse(f,
!1===e?!1:!0));return f},setValue:function(a,e){!1!==e&&(a=this.parent.parse(a));try{this.element.innerHTML=a}catch(f){this.element.innerText=a}},cleanUp:function(a){var e;this.selection&&this.selection.isInThisEditable()&&(e=rangy.saveSelection(this.win));this.parent.parse(this.element,void 0,a);e&&rangy.restoreSelection(e)},show:function(){this.editableArea.style.display=this._displayStyle||"";this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=
h.getStyle("display").from(this.editableArea);"none"===this._displayStyle&&(this._displayStyle=null);this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer");this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer");this.element.setAttribute("contentEditable","true")},focus:function(b){a.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear();this.base();var e=this.element.lastChild;b&&e&&this.selection&&
("BR"===e.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getScrollPos:function(){if(this.doc&&this.win){var a={};a.y="undefined"!==typeof this.win.pageYOffset?this.win.pageYOffset:(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollTop;a.x="undefined"!==typeof this.win.pageXOffset?this.win.pageXOffset:(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollLeft;return a}},setScrollPos:function(a){a&&
"undefined"!==typeof a.x&&"undefined"!==typeof a.y&&this.win.scrollTo(a.x,a.y)},getTextContent:function(){return h.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var a=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(a)||""===a||"<br>"===a||"<p></p>"===a||"<p><br></p>"===
a||this.hasPlaceholderSet()},_initContentEditableArea:function(){var a=this;this.config.noTextarea?this.sandbox=new h.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox},this.editableArea):(this.sandbox=new h.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox}),this.editableArea=this.sandbox.getContentEditable(),h.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var a=
this;this.sandbox=new h.Sandbox(function(){a._create()},{stylesheets:this.config.stylesheets,className:this.config.classNames.sandbox});this.editableArea=this.sandbox.getIframe();var e=this.textarea.element;h.insert(this.editableArea).after(e);this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var a=document.createElement("input");a.type="hidden";a.name="_wysihtml5_mode";a.value=1;h.insert(a).after(this.textarea.element)}},_create:function(){var b=this;
this.doc=this.sandbox.getDocument();this.win=this.sandbox.getWindow();this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body;this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1));this.selection=new a.Selection(this.parent,this.element,this.config.classNames.uneditableContainer);this.commands=new a.Commands(this.parent);this.config.noTextarea||h.copyAttributes("className spellcheck title lang dir accessKey".split(" ")).from(this.textarea.element).to(this.element);
this._initAutoLinking();h.addClass(this.element,this.config.classNames.composer);this.config.style&&!this.config.contentEditableMode&&this.style();this.observe();var g=this.config.name;g&&(h.addClass(this.element,g),this.config.contentEditableMode||h.addClass(this.editableArea,g));this.enable();!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();(g="string"===typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):
this.textarea.element.getAttribute("placeholder"))&&h.simulatePlaceholder(this.parent,this,g,this.config.classNames.placeholder);this.commands.exec("styleWithCSS",!1);this._initObjectResizing();this._initUndoManager();this._initLineBreaking();this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||e.isIos()||setTimeout(function(){b.focus(!0)},100);e.clearsContentEditableCorrectly()||a.quirks.ensureProperClearing(this);this.initSync&&
this.config.sync&&this.initSync();this.config.noTextarea||this.textarea.hide();this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var b=this,g=e.canDisableAutoLinking(),f=e.doesAutoLinkingInContentEditable();g&&this.commands.exec("AutoUrlDetect",!1,!1);if(this.config.autoLink){if(!f||f&&g)this.parent.on("newword:composer",function(){if(h.getTextContent(b.element).match(h.autoLink.URL_REG_EXP)){for(var e=b.selection.getSelectedNode(),f=b.element.querySelectorAll("."+b.config.classNames.uneditableContainer),
g=!1,k=f.length;k--;)a.dom.contains(f[k],e)&&(g=!0);g||h.autoLink(e,[b.config.classNames.uneditableContainer])}}),h.observe(this.element,"blur",function(){h.autoLink(b.element,[b.config.classNames.uneditableContainer])});var l=this.sandbox.getDocument().getElementsByTagName("a"),k=h.autoLink.URL_REG_EXP,n=function(b){b=a.lang.string(h.getTextContent(b)).trim();"www."===b.substr(0,4)&&(b="http://"+b);return b};h.observe(this.element,"keydown",function(a){if(l.length){a=b.selection.getSelectedNode(a.target.ownerDocument);
var e=h.getParentElement(a,{query:"a"},4),f;e&&(f=n(e),setTimeout(function(){var a=n(e);a!==f&&a.match(k)&&e.setAttribute("href",a)},0))}})}},_initObjectResizing:function(){this.commands.exec("enableObjectResizing",!0);if(e.supportsEvent("resizeend")){var b=["width","height"],g=b.length,f=this.element;h.observe(f,"resizeend",function(e){e=e.target||e.srcElement;var h=e.style,n=0,m;if("IMG"===e.nodeName){for(;n<g;n++)m=b[n],h[m]&&(e.setAttribute(m,parseInt(h[m],10)),h[m]="");a.quirks.redraw(f)}})}},
_initUndoManager:function(){this.undoManager=new a.UndoManager(this.parent)},_initLineBreaking:function(){function b(a){var b=h.getParentElement(a,{query:"p, div"},2);b&&h.contains(g.element,b)&&g.selection.executeAndRestoreRangy(function(){g.config.useLineBreaks?((!b.firstChild||b.firstChild===b.lastChild&&1===b.firstChild.nodeType&&b.firstChild.classList.contains("rangySelectionBoundary"))&&b.appendChild(g.doc.createElement("br")),h.replaceWithChildNodes(b)):"P"!==b.nodeName&&h.renameElement(b,
"p")})}var g=this;this.config.useLineBreaks||h.observe(this.element,["focus"],function(){g.isEmpty()&&setTimeout(function(){var a=g.doc.createElement("P");g.element.innerHTML="";g.element.appendChild(a);e.displaysCaretInEmptyContentEditableCorrectly()?g.selection.selectNode(a,!0):(a.innerHTML="<br>",g.selection.setBefore(a.firstChild))},0)});h.observe(this.element,"keydown",function(e){var l=e.keyCode;if(!(e.shiftKey||e.ctrlKey||e.defaultPrevented||l!==a.ENTER_KEY&&l!==a.BACKSPACE_KEY)){var k=h.getParentElement(g.selection.getSelectedNode(),
{query:"li, p, h1, h2, h3, h4, h5, h6"},4);k?setTimeout(function(){var e=g.selection.getSelectedNode(),f;if("LI"===k.nodeName){if(!e)return;(f=h.getParentElement(e,{query:"ul, ol, menu"},2))||b(e)}l===a.ENTER_KEY&&k.nodeName.match(/^H[1-6]$/)&&b(e)},0):g.config.useLineBreaks&&l===a.ENTER_KEY&&!a.browser.insertsLineBreaksOnReturn()&&(e.preventDefault(),g.commands.exec("insertLineBreak"))}})}})})(wysihtml5);
(function(a){var h=a.dom,e=document,b=window,g=e.createElement("div"),f="background-color color cursor font-family font-size font-style font-variant font-weight line-height letter-spacing text-align text-decoration text-indent text-rendering word-break word-wrap word-spacing".split(" "),l="background-color border-collapse border-bottom-color border-bottom-style border-bottom-width border-left-color border-left-style border-left-width border-right-color border-right-style border-right-width border-top-color border-top-style border-top-width clear display float margin-bottom margin-left margin-right margin-top outline-color outline-offset outline-width outline-style padding-left padding-right padding-top padding-bottom position top left right bottom z-index vertical-align text-align -webkit-box-sizing -moz-box-sizing -ms-box-sizing box-sizing -webkit-box-shadow -moz-box-shadow -ms-box-shadow box-shadow -webkit-border-top-right-radius -moz-border-radius-topright border-top-right-radius -webkit-border-bottom-right-radius -moz-border-radius-bottomright border-bottom-right-radius -webkit-border-bottom-left-radius -moz-border-radius-bottomleft border-bottom-left-radius -webkit-border-top-left-radius -moz-border-radius-topleft border-top-left-radius width height".split(" "),
k=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",a.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],n=function(a){if(a.setActive)try{a.setActive()}catch(f){}else{var g=a.style,k=e.documentElement.scrollTop||
e.body.scrollTop,l=e.documentElement.scrollLeft||e.body.scrollLeft,g={position:g.position,top:g.top,left:g.left,WebkitUserSelect:g.WebkitUserSelect};h.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(a);a.focus();h.setStyles(g).on(a);b.scrollTo&&b.scrollTo(l,k)}};a.views.Composer.prototype.style=function(){var b=this,p=e.querySelector(":focus"),q=this.textarea.element,r=q.hasAttribute("placeholder"),t=r&&q.getAttribute("placeholder"),u=q.style.display,y=q.disabled,
x;this.focusStylesHost=g.cloneNode(!1);this.blurStylesHost=g.cloneNode(!1);this.disabledStylesHost=g.cloneNode(!1);r&&q.removeAttribute("placeholder");q===p&&q.blur();q.disabled=!1;q.style.display=x="none";if(q.getAttribute("rows")&&"auto"===h.getStyle("height").from(q)||q.getAttribute("cols")&&"auto"===h.getStyle("width").from(q))q.style.display=x=u;h.copyStyles(l).from(q).to(this.editableArea).andTo(this.blurStylesHost);h.copyStyles(f).from(q).to(this.element).andTo(this.blurStylesHost);h.insertCSS(k).into(this.element.ownerDocument);
q.disabled=!0;h.copyStyles(l).from(q).to(this.disabledStylesHost);h.copyStyles(f).from(q).to(this.disabledStylesHost);q.disabled=y;q.style.display=u;n(q);q.style.display=x;h.copyStyles(l).from(q).to(this.focusStylesHost);h.copyStyles(f).from(q).to(this.focusStylesHost);q.style.display=u;h.copyStyles(["display"]).from(q).to(this.editableArea);var z=a.lang.array(l).without(["display"]);p?p.focus():q.blur();r&&q.setAttribute("placeholder",t);this.parent.on("focus:composer",function(){h.copyStyles(z).from(b.focusStylesHost).to(b.editableArea);
h.copyStyles(f).from(b.focusStylesHost).to(b.element)});this.parent.on("blur:composer",function(){h.copyStyles(z).from(b.blurStylesHost).to(b.editableArea);h.copyStyles(f).from(b.blurStylesHost).to(b.element)});this.parent.observe("disable:composer",function(){h.copyStyles(z).from(b.disabledStylesHost).to(b.editableArea);h.copyStyles(f).from(b.disabledStylesHost).to(b.element)});this.parent.observe("enable:composer",function(){h.copyStyles(z).from(b.blurStylesHost).to(b.editableArea);h.copyStyles(f).from(b.blurStylesHost).to(b.element)});
return this}})(wysihtml5);
(function(a){var h=a.dom,e=h.domNode,b=a.browser,g={66:"bold",73:"italic",85:"underline"},f={addListeners:function(a,b,e){for(var f=0,g=b.length;f<g;f++)a.addEventListener(b[f],e,!1)},removeListeners:function(a,b,e){for(var f=0,g=b.length;f<g;f++)a.removeEventListener(b[f],e,!1)},fixLastBrDeletionInTable:function(b,e){if(b.selection.caretIsLastInSelection()){var f=b.selection.getSelection(),g=f.anchorNode;if(g&&1===g.nodeType&&(a.dom.getParentElement(g,{query:"td, th"},!1,b.element)||e)&&(f=g.childNodes[f.anchorOffset])&&
1===f.nodeType&"BR"===f.nodeName)return f.parentNode.removeChild(f),!0}return!1},handleUneditableDeletion:function(a){var b=a.selection.getBeforeSelection(!0);if(b&&("element"===b.type||"leafnode"===b.type)&&1===b.node.nodeType&&b.node.classList.contains(a.config.classNames.uneditableContainer)){if(f.fixLastBrDeletionInTable(a,!0))return!0;try{var e=new CustomEvent("wysihtml5:uneditable:delete",{bubbles:!0,cancelable:!1});b.node.dispatchEvent(e)}catch(g){}b.node.parentNode.removeChild(b.node);return!0}return!1},
fixDeleteInTheBeginningOfBlock:function(b){var f=b.selection,g=f.getPreviousNode();if(f.caretIsFirstInSelection(a.browser.usesControlRanges())&&g&&1===g.nodeType&&a.dom.domNode(g).is.block()&&!e(g).test({query:"ol, ul, table, tr, dl"})){if(/^\s*$/.test(g.textContent||g.innerText))return g.parentNode.removeChild(g),!0;if(g.lastChild){var h=g.lastChild,k=f.getSelectedNode(),l=e(g).commonAncestor(k,b.element);if(b=a.dom.getParentElement(k,{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},!1,
l||b.element))return e(b).transferContentTo(g,!0),f.setAfter(h),!0;if(a.browser.usesControlRanges())return k=f.getCaretNode(),e(k).transferContentTo(g,!0),f.setAfter(h),!0}}return!1},fixDeleteInTheBeginningOfLi:function(b){if(a.browser.hasLiDeletingProblem()){var f=b.selection.getSelection(),g=f.anchorNode,h;h=b.selection.caretIsFirstInSelection();3===g.nodeType&&0===f.anchorOffset&&g===g.parentNode.firstChild&&(g=g.parentNode,h=!0);if(h&&g&&1===g.nodeType&&"LI"===g.nodeName&&((f=e(g).prev({nodeTypes:[1,
3],ignoreBlankTexts:!0}))||!g.parentNode||"UL"!==g.parentNode.nodeName&&"OL"!==g.parentNode.nodeName||(f=e(g.parentNode).prev({nodeTypes:[1,3],ignoreBlankTexts:!0})),f))return h=g.firstChild,e(g).transferContentTo(f,!0),h?b.selection.setBefore(h):f&&(1===f.nodeType?f.lastChild?b.selection.setAfter(f.lastChild):b.selection.selectNode(f):b.selection.setAfter(f)),!0}return!1},fixDeleteInTheBeginningOfControlSelection:function(a){var b=a.selection,f=b.getPreviousNode(),g=b.getSelectedNode();return b.caretIsFirstInSelection()?
(3===g.nodeType&&(g=g.parentNode),b=g.firstChild,e(g).transferContentTo(f,!0),b&&a.selection.setBefore(b),!0):!1},initTableHandling:function(){var b=function(){window.removeEventListener("load",b);this.doc.execCommand("enableObjectResizing",!1,"false");this.doc.execCommand("enableInlineTableEditing",!1,"false")}.bind(this),e=function(){b.call(this);f.removeListeners(this.sandbox.getIframe(),["focus","mouseup","mouseover"],e)}.bind(this);this.doc.execCommand&&a.browser.supportsCommand(this.doc,"enableObjectResizing")&&
a.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?f.addListeners(this.sandbox.getIframe(),["focus","mouseup","mouseover"],e):window.addEventListener("load",b));this.tableSelection=a.quirks.tableCellsSelection(this.element,this.parent)},doLineBreaksModeEnterWithCaret:function(b){var f,g,k=!1;if(f=b.selection.getNodesNearCaret()){if(f.caretNode||f.nextNode)g=h.getParentElement(f.caretNode||f.nextNode,{query:"p, pre, div, blockquote"},2),g===b.element&&(g=void 0);
if(g&&f.caretNode)if(e(f.caretNode).is.lineBreak()){if(b.config.doubleLineBreakEscapesBlock){k=!0;f.caretNode.parentNode.removeChild(f.caretNode);e(f.nextNode).is.lineBreak()&&f.nextNode.parentNode.removeChild(f.nextNode);var l=b.doc.createElement("br");e(f.nextNode).is.lineBreak()&&f.nextNode===g.lastChild?g.parentNode.insertBefore(l,g.nextSibling):b.selection.splitElementAtCaret(g,l);f.nextNode&&3===f.nextNode.nodeType&&(f.nextNode.data=f.nextNode.data.replace(/^ *[\r\n]+/,""));b.selection.setBefore(l)}}else 3===
f.caretNode.nodeType&&a.browser.hasCaretBlockElementIssue()&&f.textOffset===f.caretNode.data.length&&!f.nextNode&&(k=!0,f=b.doc.createElement("br"),g=b.doc.createElement("br"),l=b.doc.createDocumentFragment(),l.appendChild(f),l.appendChild(g),b.selection.insertNode(l),b.selection.setBefore(g))}return k}},l=function(b,e){var g=e.selection;g.isCollapsed()?f.handleUneditableDeletion(e)?b.preventDefault():f.fixDeleteInTheBeginningOfLi(e)?b.preventDefault():f.fixDeleteInTheBeginningOfBlock(e)?b.preventDefault():
f.fixLastBrDeletionInTable(e)?b.preventDefault():a.browser.usesControlRanges()&&f.fixDeleteInTheBeginningOfControlSelection(e)&&b.preventDefault():g.containsUneditable()&&(b.preventDefault(),g.deleteContents())},k=function(a,b){!b.config.useLineBreaks||a.shiftKey||a.ctrlKey||b.selection.isCollapsed()&&f.doLineBreaksModeEnterWithCaret(b)&&a.preventDefault()},n=function(a,b,e){if(!a.selection.isCollapsed())a.selection.deleteContents();else if(a.selection.caretIsInTheBeginnig("li"))if(e){if(a.commands.exec("outdentList"))return}else if(a.commands.exec("indentList"))return;
a.commands.exec("insertHTML","&emsp;")},m=function(a){this.domNodeRemovedInterval&&clearInterval(domNodeRemovedInterval);this.parent.fire("destroy:composer")},p=function(a){this.parent.fire("beforeinteraction",a).fire("beforeinteraction:composer",a);setTimeout(function(){this.parent.fire("interaction",a).fire("interaction:composer",a)}.bind(this),0)},q=function(a){this.parent.fire("focus",a).fire("focus:composer",a);setTimeout(function(){this.focusState=this.getValue(!1,!1)}.bind(this),0)},r=function(a){if(this.focusState!==
this.getValue(!1,!1)){var b=a;"function"==typeof Object.create&&(b=Object.create(a,{type:{value:"change"}}));this.parent.fire("change",b).fire("change:composer",b)}this.parent.fire("blur",a).fire("blur:composer",a)},t=function(a){this.parent.fire(a.type,a).fire(a.type+":composer",a);"paste"===a.type&&setTimeout(function(){this.parent.fire("newword:composer")}.bind(this),0)},u=function(b){this.config.copyedFromMarking&&(a.browser.supportsModernPaste()&&(b.clipboardData.setData("text/html",this.config.copyedFromMarking+
this.selection.getHtml()),b.clipboardData.setData("text/plain",this.selection.getPlainText()),b.preventDefault()),this.parent.fire(b.type,b).fire(b.type+":composer",b))},y=function(b){b=b.keyCode;b!==a.SPACE_KEY&&b!==a.ENTER_KEY||this.parent.fire("newword:composer")},x=function(e){if(!b.canSelectImagesInContentEditable()){var f=e.target,g=this.element.querySelectorAll("img"),h=this.element.querySelectorAll("."+this.config.classNames.uneditableContainer+" img"),g=a.lang.array(g).without(h);"IMG"===
f.nodeName&&a.lang.array(g).contains(f)&&this.selection.selectNode(f)}a.browser.usesControlRanges()&&(this.selection.lastMouseDownPos={x:e.clientX,y:e.clientY},setTimeout(function(){delete this.selection.lastMouseDownPos}.bind(this),0))},z=function(a){var b=this.selection.lastMouseDownPos;if(b){var e=document.body.createTextRange();setTimeout(function(){try{e.moveToPoint(b.x,b.y),e.select()}catch(a){}}.bind(this),0)}},B=function(b){this.config.classNames.uneditableContainer&&(b=a.dom.getParentElement(b.target,
{query:"."+this.config.classNames.uneditableContainer},!1,this.element))&&this.selection.setAfter(b)},D=function(a){b.canSelectImagesInContentEditable()||setTimeout(function(){this.selection.getSelection().removeAllRanges()}.bind(this),0)},w=function(b){var e=b.keyCode,f=g[e],h;!b.ctrlKey&&!b.metaKey||b.altKey||65!==e?((b.ctrlKey||b.metaKey)&&!b.altKey&&f&&(this.commands.exec(f),b.preventDefault()),e===a.BACKSPACE_KEY&&l(b,this),(e===a.BACKSPACE_KEY||e===a.DELETE_KEY)&&(f=this.selection.getSelectedNode(!0))&&
"IMG"===f.nodeName&&(b.preventDefault(),h=f.parentNode,h.removeChild(f),"A"!==h.nodeName||h.firstChild||h.parentNode.removeChild(h),setTimeout(function(){a.quirks.redraw(this.element)}.bind(this),0)),this.config.handleTabKey&&e===a.TAB_KEY&&(b.preventDefault(),n(this,this.element,b.shiftKey)),e===a.ENTER_KEY&&k(b,this)):(this.selection.selectAll(),b.preventDefault())};a.views.Composer.prototype.observeActions=f;a.views.Composer.prototype.observe=function(){var e=this.sandbox.getIframe?this.sandbox.getIframe():
this.sandbox.getContentEditable(),g=b.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?this.element:this.sandbox.getWindow();this.focusState=this.getValue(!1,!1);e.addEventListener(["DOMNodeRemoved"],m.bind(this),!1);b.supportsMutationEvents()||(this.domNodeRemovedInterval=setInterval(function(){h.contains(document.documentElement,e)||m.call(this)},250));this.config.handleTables&&f.initTableHandling.call(this);f.addListeners(g,["drop","paste","mouseup","focus","keyup"],p.bind(this));
g.addEventListener("focus",q.bind(this),!1);g.addEventListener("blur",r.bind(this),!1);f.addListeners(this.element,["drop","paste","beforepaste"],t.bind(this),!1);this.element.addEventListener("copy",u.bind(this),!1);this.element.addEventListener("mousedown",x.bind(this),!1);this.element.addEventListener("click",B.bind(this),!1);this.element.addEventListener("drop",D.bind(this),!1);this.element.addEventListener("keyup",y.bind(this),!1);this.element.addEventListener("keydown",w.bind(this),!1);a.browser.usesControlRanges()&&
this.element.addEventListener("mscontrolselect",z.bind(this),!1);this.element.addEventListener("dragenter",function(){this.parent.fire("unset_placeholder")}.bind(this),!1)}})(wysihtml5);
(function(a){a.views.Synchronizer=Base.extend({constructor:function(a,e,b){this.editor=a;this.textarea=e;this.composer=b;this._observe()},fromComposerToTextarea:function(h){this.textarea.setValue(a.lang.string(this.composer.getValue(!1,!1)).trim(),h)},fromTextareaToComposer:function(a){var e=this.textarea.getValue(!1,!1);e?this.composer.setValue(e,a):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(a){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(a):
this.fromComposerToTextarea(a)},_observe:function(){var h,e=this,b=this.textarea.element.form,g=function(){h=setInterval(function(){e.fromComposerToTextarea()},400)},f=function(){clearInterval(h);h=null};g();b&&(a.dom.observe(b,"submit",function(){e.sync(!0)}),a.dom.observe(b,"reset",function(){setTimeout(function(){e.fromTextareaToComposer()},0)}));this.editor.on("change_view",function(a){"composer"!==a||h?"textarea"===a&&(e.fromComposerToTextarea(!0),f()):(e.fromTextareaToComposer(!0),g())});this.editor.on("destroy:composer",
f)}})})(wysihtml5);
(function(a){a.views.SourceView=Base.extend({constructor:function(a,e){this.editor=a;this.composer=e;this._observe()},switchToTextarea:function(a){var e=this.composer.win.getComputedStyle(this.composer.element),b=parseFloat(e.width),e=Math.max(parseFloat(e.height),100);this.textarea||(this.textarea=this.composer.doc.createElement("textarea"),this.textarea.className="wysihtml5-source-view");this.textarea.style.width=b+"px";this.textarea.style.height=e+"px";this.textarea.value=this.editor.getValue(a,!0);
this.composer.element.parentNode.insertBefore(this.textarea,this.composer.element);this.editor.currentView="source";this.composer.element.style.display="none"},switchToComposer:function(a){var e=this.textarea.value;e?this.composer.setValue(e,a):(this.composer.clear(),this.editor.fire("set_placeholder"));this.textarea.parentNode.removeChild(this.textarea);this.editor.currentView=this.composer;this.composer.element.style.display=""},_observe:function(){this.editor.on("change_view",function(a){"composer"===
a?this.switchToComposer(!0):"textarea"===a&&this.switchToTextarea(!0)}.bind(this))}})})(wysihtml5);
wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(a,h,e){this.base(a,h,e);this._observe()},clear:function(){this.element.value=""},getValue:function(a){var h=this.isEmpty()?"":this.element.value;!1!==a&&(h=this.parent.parse(h));return h},setValue:function(a,h){!1!==h&&(a=this.parent.parse(a));this.element.value=a},cleanUp:function(a){a=this.parent.parse(this.element.value,void 0,a);this.element.value=a},hasPlaceholderSet:function(){var a=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),
h=this.element.getAttribute("placeholder")||null,e=this.element.value;return a&&!e||e===h},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var a=this.element,h=this.parent,e={focusin:"focus",focusout:"blur"},b=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];h.on("beforeload",function(){wysihtml5.dom.observe(a,b,function(a){a=e[a.type]||a.type;h.fire(a).fire(a+":textarea")});
wysihtml5.dom.observe(a,["paste","drop"],function(){setTimeout(function(){h.fire("paste").fire("paste:textarea")},0)})})}});
(function(a){var h={name:void 0,style:!0,toolbar:void 0,showToolbarAfterInit:!0,showToolbarDialogsOnSelection:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{},b:{},i:{},u:{}},classes:{}},pasteParserRulesets:null,parser:a.dom.parse,useLineBreaks:!0,doubleLineBreakEscapesBlock:!0,stylesheets:[],placeholderText:void 0,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,classNames:{composer:"wysihtml5-editor",body:"wysihtml5-supported",sandbox:"wysihtml5-sandbox",
placeholder:"wysihtml5-placeholder",uneditableContainer:"wysihtml5-uneditable-container"},copyedFromMarking:'<meta name="copied-from" content="wysihtml5">'};a.Editor=a.lang.Dispatcher.extend({constructor:function(e,b){this.editableElement="string"===typeof e?document.getElementById(e):e;this.config=a.lang.object({}).merge(h).merge(b).get();this._isCompatible=a.browser.supported();b&&b.classNames&&a.lang.object(this.config.classNames).merge(b.classNames);"textarea"!=this.editableElement.nodeName.toLowerCase()&&
(this.config.contentEditableMode=!0,this.config.noTextarea=!0);this.config.noTextarea||(this.currentView=this.textarea=new a.views.Textarea(this,this.editableElement,this.config));if(!this._isCompatible||!this.config.supportTouchDevices&&a.browser.isTouchDevice()){var g=this;setTimeout(function(){g.fire("beforeload").fire("load")},0)}else a.dom.addClass(document.body,this.config.classNames.body),this.currentView=this.composer=new a.views.Composer(this,this.editableElement,this.config),"function"===
typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea?this.sourceView=new a.views.SourceView(this,this.composer):this.synchronizer=new a.views.Synchronizer(this,this.textarea,this.composer);this.config.toolbar&&(this.toolbar=new a.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){this.currentView.clear();return this},
getValue:function(a,b){return this.currentView.getValue(a,b)},setValue:function(a,b){this.fire("unset_placeholder");if(!a)return this.clear();this.currentView.setValue(a,b);return this},cleanUp:function(a){this.currentView.cleanUp(a)},focus:function(a){this.currentView.focus(a);return this},disable:function(){this.currentView.disable();return this},enable:function(){this.currentView.enable();return this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},
destroy:function(){this.composer&&this.composer.sandbox&&this.composer.sandbox.destroy();this.toolbar&&this.toolbar.destroy();this.off()},parse:function(e,b,g){var f=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null;b=this.config.parser(e,{rules:g||this.config.parserRules,cleanUp:this.config.cleanUp,context:f,uneditableClass:this.config.classNames.uneditableContainer,clearInternals:b});"object"===typeof e&&a.quirks.redraw(e);return b},_initParser:function(){var e;
if(a.browser.supportsModernPaste())this.on("paste:composer",function(b){b.preventDefault();(e=a.dom.getPastedHtml(b))&&this._cleanAndPaste(e)}.bind(this));else this.on("beforepaste:composer",function(b){b.preventDefault();var e=this.composer.getScrollPos();a.dom.getPastedHtmlWithDiv(this.composer,function(a){a&&this._cleanAndPaste(a);this.composer.setScrollPos(e)}.bind(this))}.bind(this))},_cleanAndPaste:function(e){e=a.quirks.cleanPastedHTML(e,{referenceNode:this.composer.element,rules:this.config.pasteParserRulesets||
[{set:this.config.parserRules}],uneditableClass:this.config.classNames.uneditableContainer});this.composer.selection.deleteContents();this.composer.selection.insertHTML(e)}})})(wysihtml5);
(function(a){var h=a.dom;a.toolbar.Dialog=a.lang.Dispatcher.extend({constructor:function(a,b){this.link=a;this.container=b},_observe:function(){if(!this._observed){var e=this,b=function(a){var b=e._serialize();e.fire("save",b);e.hide();a.preventDefault();a.stopPropagation()};h.observe(e.link,"click",function(){h.hasClass(e.link,"wysihtml5-command-dialog-opened")&&setTimeout(function(){e.hide()},0)});h.observe(this.container,"keydown",function(g){var f=g.keyCode;f===a.ENTER_KEY&&b(g);f===a.ESCAPE_KEY&&
e.cancel()});h.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",b);h.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(a){e.cancel();a.preventDefault();a.stopPropagation()});this._observed=!0}},_serialize:function(){for(var a={},b=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),g=b.length,f=0;f<g;f++)a[b[f].getAttribute("data-wysihtml5-dialog-field")]=b[f].value;return a},_interpolate:function(a){for(var b,g,f=document.querySelector(":focus"),
h=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),k=h.length,n=0;n<k;n++)b=h[n],b===f||a&&"hidden"===b.type||(g=b.getAttribute("data-wysihtml5-dialog-field"),g=this.elementToChange&&"boolean"!==typeof this.elementToChange?this.elementToChange.getAttribute(g)||"":b.defaultValue,b.value=g)},update:function(a){this.elementToChange=a?a:this.elementToChange;this._interpolate()},show:function(a){var b=this.container.querySelector("input, select, textarea");this._observe();this.update(a);
h.addClass(this.link,"wysihtml5-command-dialog-opened");this.container.style.display="";this.isOpen=!0;this.fire("show");if(b&&!a)try{b.focus()}catch(g){}},_hide:function(a){this.elementToChange=null;h.removeClass(this.link,"wysihtml5-command-dialog-opened");this.container.style.display="none";this.isOpen=!1},hide:function(){this._hide();this.fire("hide")},cancel:function(){this._hide();this.fire("cancel")}})})(wysihtml5);
(function(a){var h=a.dom,e={position:"relative"},b={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},g={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},f={"x-webkit-speech":"",speech:""};a.toolbar.Speech=function(l,k){var n=document.createElement("input");if(a.browser.supportsSpeechApiOn(n)){var m=l.editor.textarea.element.getAttribute("lang");m&&(f.lang=m);m=document.createElement("div");
a.lang.object(b).merge({width:k.offsetWidth+"px",height:k.offsetHeight+"px"});h.insert(n).into(m);h.insert(m).into(k);h.setStyles(g).on(n);h.setAttributes(f).on(n);h.setStyles(b).on(m);h.setStyles(e).on(k);h.observe(n,"onwebkitspeechchange"in n?"webkitspeechchange":"speechchange",function(){l.execCommand("insertText",n.value);n.value=""});h.observe(n,"click",function(a){h.hasClass(k,"wysihtml5-command-disabled")&&a.preventDefault();a.stopPropagation()})}else k.style.display="none"}})(wysihtml5);
(function(a){function h(b,e){var f=b.commands.state(e.name,e.value);!e.dialog.multiselect&&a.lang.object(f).isArray()&&(f=1===f.length?f[0]:!0);return f}var e="wysihtml5-command-disabled",b="wysihtml5-commands-disabled",g="wysihtml5-command-active",f="wysihtml5-action-active",l=a.dom;a.toolbar.Toolbar=Base.extend({constructor:function(h,l,m){this.editor=h;this.container="string"===typeof l?document.getElementById(l):l;this.composer=h.composer;this._getLinks("command");this._getLinks("action");this._observe();
m&&this.show();null!=h.config.classNameCommandDisabled&&(e=h.config.classNameCommandDisabled);null!=h.config.classNameCommandsDisabled&&(b=h.config.classNameCommandsDisabled);null!=h.config.classNameCommandActive&&(g=h.config.classNameCommandActive);null!=h.config.classNameActionActive&&(f=h.config.classNameActionActive);h=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]");l=h.length;for(m=0;m<l;m++)new a.toolbar.Speech(this,h[m])},_getLinks:function(b){for(var e=this[b+"Links"]=
a.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+b+"]")).get(),f=e.length,g=0,h=this[b+"Mapping"]={},l,t,u,y,x,z;g<f;g++)l=e[g],u=l.getAttribute("data-wysihtml5-"+b),y=l.getAttribute("data-wysihtml5-"+b+"-value"),z=l.getAttribute("data-wysihtml5-"+b+"-blank-value"),t=this.container.querySelector("[data-wysihtml5-"+b+"-group='"+u+"']"),x=this._getDialog(l,u),h[u+":"+y]={link:l,group:t,name:u,value:y,tracksBlankValue:z,dialog:x,state:!1}},_getDialog:function(b,e){var f=this,g=this.container.querySelector("[data-wysihtml5-dialog='"+
e+"']"),h,l;g&&(h=a.toolbar["Dialog_"+e]?new a.toolbar["Dialog_"+e](b,g):new a.toolbar.Dialog(b,g),h.on("show",function(){l=f.composer.selection.getBookmark();f.editor.fire("show:dialog",{command:e,dialogContainer:g,commandLink:b})}),h.on("save",function(a){l&&f.composer.selection.setBookmark(l);f._execCommand(e,a);f.editor.fire("save:dialog",{command:e,dialogContainer:g,commandLink:b});f._hideAllDialogs();f._preventInstantFocus();l=void 0}),h.on("cancel",function(){l&&f.composer.selection.setBookmark(l);
f.editor.fire("cancel:dialog",{command:e,dialogContainer:g,commandLink:b});l=void 0;f._preventInstantFocus()}),h.on("hide",function(){f.editor.fire("hide:dialog",{command:e,dialogContainer:g,commandLink:b});l=void 0}));return h},execCommand:function(a,b){this.commandsDisabled||this._execCommand(a,b)},_execCommand:function(a,b){this.editor.focus(!1);this.composer.commands.exec(a,b);this._updateLinkStates()},execAction:function(a){var b=this.editor;"change_view"===a&&(b.currentView===b.textarea||"source"===
b.currentView?b.fire("change_view","composer"):b.fire("change_view","textarea"));"showSource"==a&&b.fire("showSource")},_observe:function(){for(var e=this,f=this.editor,g=this.container,p=this.commandLinks.concat(this.actionLinks),q=p.length,r=0;r<q;r++)if("A"===p[r].nodeName)l.setAttributes({href:"javascript:;",unselectable:"on"}).on(p[r]);else l.setAttributes({unselectable:"on"}).on(p[r]);l.delegate(g,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(a){a.preventDefault()});
l.delegate(g,"[data-wysihtml5-command]","click",function(a){var b;b=this.getAttribute("data-wysihtml5-command");var f=this.getAttribute("data-wysihtml5-command-value"),g=e.commandMapping[b+":"+f];f||!g.dialog?e.execCommand(b,f):(b=h(e.composer,g),g.dialog.show(b));a.preventDefault()});l.delegate(g,"[data-wysihtml5-action]","click",function(a){var b=this.getAttribute("data-wysihtml5-action");e.execAction(b);a.preventDefault()});f.on("interaction:composer",function(a){e.preventFocus||e._updateLinkStates()});
this._ownerDocumentClick=function(b){a.dom.contains(e.container,b.target)||a.dom.contains(e.composer.element,b.target)||(e._updateLinkStates(),e._preventInstantFocus())};this.container.ownerDocument.addEventListener("click",this._ownerDocumentClick,!1);this.editor.on("destroy:composer",this.destroy.bind(this));this.editor.config.handleTables&&(f.on("tableselect:composer",function(){e.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display=""}),f.on("tableunselect:composer",
function(){e.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display="none"}));f.on("change_view",function(a){setTimeout(function(){e.commandsDisabled="composer"!==a;e._updateLinkStates();e.commandsDisabled?l.addClass(g,b):l.removeClass(g,b)},0)})},destroy:function(){this.container.ownerDocument.removeEventListener("click",this._ownerDocumentClick,!1)},_hideAllDialogs:function(){var a=this.commandMapping,b;for(b in a)a[b].dialog&&a[b].dialog.hide()},_preventInstantFocus:function(){this.preventFocus=
!0;setTimeout(function(){this.preventFocus=!1}.bind(this),0)},_updateLinkStates:function(){var a,b,m,p,q=this.commandMapping,r=this.composer,t=this.actionMapping;for(a in q)if(m=q[a],this.commandsDisabled?(b=!1,l.removeClass(m.link,g),m.group&&l.removeClass(m.group,g),m.dialog&&m.dialog.hide()):(b=this.composer.commands.state(m.name,m.value),l.removeClass(m.link,e),m.group&&l.removeClass(m.group,e)),m.state!==b||m.tracksBlankValue)(m.state=b)?m.tracksBlankValue?l.removeClass(m.link,g):(l.addClass(m.link,
g),m.group&&l.addClass(m.group,g),!m.dialog||"undefined"!==typeof m.value&&null!==m.value||(b&&"object"===typeof b?(b=h(r,m),m.state=b,p=m.dialog.container.dataset?m.dialog.container.dataset.showdialogonselection:!1,r.config.showToolbarDialogsOnSelection||p?m.dialog.show(b):m.dialog.update(b)):m.dialog.hide())):m.tracksBlankValue?l.addClass(m.link,g):(l.removeClass(m.link,g),m.group&&l.removeClass(m.group,g),m.dialog&&!m.value&&m.dialog.hide());for(a in t)b=t[a],"change_view"===b.name&&(b.state=this.editor.currentView===
this.editor.textarea||"source"===this.editor.currentView,b.state?l.addClass(b.link,f):l.removeClass(b.link,f))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})})(wysihtml5);(function(a){a.toolbar.Dialog_createTable=a.toolbar.Dialog.extend({show:function(a){this.base(a)}})})(wysihtml5);
(function(a){a.toolbar.Dialog_foreColorStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var a={},e=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),b=e.length,g=0;g<b;g++)a[e[g].getAttribute("data-wysihtml5-dialog-field")]=e[g].value;return a},_interpolate:function(h){for(var e,b,g=a.quirks.styleParser,f=document.querySelector(":focus"),l=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),k=l.length,n=0,m=(e=(e=this.elementToChange?a.lang.object(this.elementToChange).isArray()?
this.elementToChange[0]:this.elementToChange:null)?e.getAttribute("style"):null)?g.parseColor(e,"color"):null;n<k;n++)e=l[n],e===f||h&&"hidden"===e.type||"color"!==e.getAttribute("data-wysihtml5-dialog-field")||(b=(e.dataset.colormode||"rgb").toLowerCase(),b="hex"===b?"hash":b,e.value=m?g.unparseColor(m,b):g.unparseColor([0,0,0],b))}})})(wysihtml5);
(function(a){a.toolbar.Dialog_fontSizeStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field="size"]').value}},_interpolate:function(h){h=document.querySelector(":focus");var e=this.container.querySelector("[data-wysihtml5-dialog-field='size']"),b=this.elementToChange?a.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,b=(b=b?b.getAttribute("style"):null)?a.quirks.styleParser.parseFontSize(b):
null;e&&e!==h&&b&&!/^\s*$/.test(b)&&(e.value=b)}})})(wysihtml5);!function(a){function h(a){var b=a.length,f=e.type(a);return"function"!==f&&!e.isWindow(a)&&(!(1!==a.nodeType||!b)||"array"===f||0===b||"number"==typeof b&&0<b&&b-1 in a)}if(!a.jQuery){var e=function(a,b){return new e.fn.init(a,b)};e.isWindow=function(a){return a&&a===a.window};e.type=function(a){return a?"object"==typeof a||"function"==typeof a?g[l.call(a)]||"object":typeof a:a+""};e.isArray=Array.isArray||function(a){return"array"===e.type(a)};e.isPlainObject=function(a){var b;if(!a||"object"!==
e.type(a)||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!f.call(a,"constructor")&&!f.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(g){return!1}for(b in a);return void 0===b||f.call(a,b)};e.each=function(a,b,e){var f,g=0,k=a.length,l=h(a);if(e)if(l)for(;g<k&&(f=b.apply(a[g],e),!1!==f);g++);else for(g in a){if(a.hasOwnProperty(g)&&(f=b.apply(a[g],e),!1===f))break}else if(l)for(;g<k&&(f=b.call(a[g],g,a[g]),!1!==f);g++);else for(g in a)if(a.hasOwnProperty(g)&&(f=b.call(a[g],
g,a[g]),!1===f))break;return a};e.data=function(a,f,g){if(void 0===g){g=(g=a[e.expando])&&b[g];if(void 0===f)return g;if(g&&f in g)return g[f]}else if(void 0!==f)return a=a[e.expando]||(a[e.expando]=++e.uuid),b[a]=b[a]||{},b[a][f]=g,g};e.removeData=function(a,f){var g=a[e.expando],h=g&&b[g];h&&(f?e.each(f,function(a,b){delete h[b]}):delete b[g])};e.extend=function(){var a,b,f,g,h,k,l=arguments[0]||{},n=1,z=arguments.length,B=!1;"boolean"==typeof l&&(B=l,l=arguments[n]||{},n++);"object"!=typeof l&&
"function"!==e.type(l)&&(l={});for(n===z&&(l=this,n--);n<z;n++)if(h=arguments[n])for(g in h)h.hasOwnProperty(g)&&(a=l[g],f=h[g],l!==f&&(B&&f&&(e.isPlainObject(f)||(b=e.isArray(f)))?(b?(b=!1,k=a&&e.isArray(a)?a:[]):k=a&&e.isPlainObject(a)?a:{},l[g]=e.extend(B,k,f)):void 0!==f&&(l[g]=f)));return l};e.queue=function(a,b,f){function g(a,b){var e=b||[];if(a)if(h(Object(a))){var f;f="string"==typeof a?[a]:a;for(var k=+f.length,l=0,m=e.length;l<k;)e[m++]=f[l++];if(k!==k)for(;void 0!==f[l];)e[m++]=f[l++];
f=(e.length=m,e);!f}else[].push.call(e,a);return e}if(a){b=(b||"fx")+"queue";var k=e.data(a,b);return f?(!k||e.isArray(f)?k=e.data(a,b,g(f)):k.push(f),k):k||[]}};e.dequeue=function(a,b){e.each(a.nodeType?[a]:a,function(a,f){b=b||"fx";var g=e.queue(f,b),h=g.shift();"inprogress"===h&&(h=g.shift());h&&("fx"===b&&g.unshift("inprogress"),h.call(f,function(){e.dequeue(f,b)}))})};e.fn=e.prototype={init:function(a){if(a.nodeType)return this[0]=a,this;throw Error("Not a DOM node.");},offset:function(){var b=
this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:b.top+(a.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:b.left+(a.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var a=this[0],b;for(b=a.offsetParent||document;b&&"html"!==b.nodeType.toLowerCase&&"static"===b.style.position;)b=b.offsetParent;b=b||document;var f=this.offset(),g=/^(?:body|html)$/i.test(b.nodeName)?{top:0,left:0}:e(b).offset();return f.top-=parseFloat(a.style.marginTop)||
0,f.left-=parseFloat(a.style.marginLeft)||0,b.style&&(g.top+=parseFloat(b.style.borderTopWidth)||0,g.left+=parseFloat(b.style.borderLeftWidth)||0),{top:f.top-g.top,left:f.left-g.left}}};var b={};e.expando="velocity"+(new Date).getTime();e.uuid=0;for(var g={},f=g.hasOwnProperty,l=g.toString,k="Boolean Number String Function Array Date RegExp Object Error".split(" "),n=0;n<k.length;n++)g["[object "+k[n]+"]"]=k[n].toLowerCase();e.fn.init.prototype=e.fn;a.Velocity={Utilities:e}}}(window);
(function(a){"object"==typeof module&&"object"==typeof module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):a()})(function(){return function(a,h,e,b){function g(a){for(var b=-1,e=a?a.length:0,f=[];++b<e;){var g=a[b];g&&f.push(g)}return f}function f(a){return y.isWrapped(a)?a=[].slice.call(a):y.isNode(a)&&(a=[a]),a}function l(a){a=r.data(a,"velocity");return null===a?b:a}function k(a){return function(b){return Math.round(b*a)*(1/a)}}function n(a,b,e,f){function g(a,b,e){return(((1-
3*e+3*b)*a+(3*e-6*b))*a+3*b)*a}var k="Float32Array"in h;if(4!==arguments.length)return!1;for(var l=0;4>l;++l)if("number"!=typeof arguments[l]||isNaN(arguments[l])||!isFinite(arguments[l]))return!1;a=Math.min(a,1);e=Math.min(e,1);a=Math.max(a,0);e=Math.max(e,0);var m=k?new Float32Array(11):Array(11),n=!1,k=function(h){if(!n&&(n=!0,a!==b||e!==f))for(var k=0;11>k;++k)m[k]=g(.1*k,a,e);if(a!==b||e!==f)if(0===h)h=0;else if(1===h)h=1;else{for(var l=0,k=1;10!==k&&m[k]<=h;++k)l+=.1;--k;var k=l+(h-m[k])/(m[k+
1]-m[k])*.1,r=3*(1-3*e+3*a)*k*k+2*(3*e-6*a)*k+3*a;if(.001<=r){for(l=0;4>l;++l){r=3*(1-3*e+3*a)*k*k+2*(3*e-6*a)*k+3*a;if(0===r)break;var p=g(k,a,e)-h,k=k-p/r}h=k}else if(0===r)h=k;else{var k=l,l=l+.1,q=0;do p=k+(l-k)/2,r=g(p,a,e)-h,0<r?l=p:k=p;while(1E-7<Math.abs(r)&&10>++q);h=p}h=g(h,b,f)}return h};k.getControlPoints=function(){return[{x:a,y:b},{x:e,y:f}]};var r="generateBezier("+[a,b,e,f]+")";return k.toString=function(){return r},k}function m(a,b){var e=a;return y.isString(a)?B.Easings[a]||(e=!1):
e=y.isArray(a)&&1===a.length?k.apply(null,a):y.isArray(a)&&2===a.length?D.apply(null,a.concat([b])):!(!y.isArray(a)||4!==a.length)&&n.apply(null,a),!1===e&&(e=B.Easings[B.defaults.easing]?B.defaults.easing:z),e}function p(a){if(a){a=B.timestamp&&!0!==a?a:(new Date).getTime();var e=B.State.calls.length;1E4<e&&(B.State.calls=g(B.State.calls),e=B.State.calls.length);for(var f=0;f<e;f++)if(B.State.calls[f]){var h=B.State.calls[f],k=h[0],m=h[2],n=h[3],u=!!n,x=null;n||(n=B.State.calls[f][3]=a-16);for(var A=
Math.min((a-n)/m.duration,1),z=0,D=k.length;z<D;z++){var N=k[z],aa=N.element;if(l(aa)){var ca=!1;m.display!==b&&null!==m.display&&"none"!==m.display&&("flex"===m.display&&r.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],function(a,b){w.setPropertyValue(aa,"display",b)}),w.setPropertyValue(aa,"display",m.display));m.visibility!==b&&"hidden"!==m.visibility&&w.setPropertyValue(aa,"visibility",m.visibility);for(var U in N)if(N.hasOwnProperty(U)&&"element"!==U){var la,Z=N[U],ma=y.isString(Z.easing)?
B.Easings[Z.easing]:Z.easing;y.isString(Z.pattern)?la=Z.pattern.replace(/{(\d+)}/g,1===A?function(a,b){return Z.endValue[b]}:function(a,b){var e=Z.startValue[b],f=Z.endValue[b]-e;return e+f*ma(A,m,f)}):1===A?la=Z.endValue:(la=Z.endValue-Z.startValue,la=Z.startValue+la*ma(A,m,la));if(u||la!==Z.currentValue)if(Z.currentValue=la,"tween"===U)x=la;else{var pa;if(w.Hooks.registered[U]){pa=w.Hooks.getRoot(U);var qa=l(aa).rootPropertyValueCache[pa];qa&&(Z.rootPropertyValue=qa)}la=w.setPropertyValue(aa,U,
Z.currentValue+(9>t&&0===parseFloat(la)?"":Z.unitType),Z.rootPropertyValue,Z.scrollData);w.Hooks.registered[U]&&(w.Normalizations.registered[pa]?l(aa).rootPropertyValueCache[pa]=w.Normalizations.registered[pa]("extract",null,la[1]):l(aa).rootPropertyValueCache[pa]=la[1]);"transform"===la[0]&&(ca=!0)}}m.mobileHA&&l(aa).transformCache.translate3d===b&&(l(aa).transformCache.translate3d="(0px, 0px, 0px)",ca=!0);ca&&w.flushTransformCache(aa)}}m.display!==b&&"none"!==m.display&&(B.State.calls[f][2].display=
!1);m.visibility!==b&&"hidden"!==m.visibility&&(B.State.calls[f][2].visibility=!1);m.progress&&m.progress.call(h[1],h[1],A,Math.max(0,n+m.duration-a),n,x);1===A&&q(f)}}B.State.isTicking&&C(p)}function q(a,e){if(!B.State.calls[a])return!1;for(var f=B.State.calls[a][0],g=B.State.calls[a][1],h=B.State.calls[a][2],k=B.State.calls[a][4],m=!1,n=0,p=f.length;n<p;n++){var q=f[n].element;e||h.loop||("none"===h.display&&w.setPropertyValue(q,"display",h.display),"hidden"===h.visibility&&w.setPropertyValue(q,
"visibility",h.visibility));var t=l(q);if(!0!==h.loop&&(r.queue(q)[1]===b||!/\.velocityQueueEntryFlag/i.test(r.queue(q)[1]))&&t){t.isAnimating=!1;t.rootPropertyValueCache={};var u=!1;r.each(w.Lists.transforms3D,function(a,e){var f=/^scale/.test(e)?1:0,g=t.transformCache[e];t.transformCache[e]!==b&&(new RegExp("^\\("+f+"[^.]")).test(g)&&(u=!0,delete t.transformCache[e])});h.mobileHA&&(u=!0,delete t.transformCache.translate3d);u&&w.flushTransformCache(q);w.Values.removeClass(q,"velocity-animating")}if(!e&&
h.complete&&!h.loop&&n===p-1)try{h.complete.call(g,g)}catch(x){setTimeout(function(){throw x;},1)}k&&!0!==h.loop&&k(g);t&&!0===h.loop&&!e&&(r.each(t.tweensContainer,function(a,b){if(/^rotate/.test(a)&&0===(parseFloat(b.startValue)-parseFloat(b.endValue))%360){var e=b.startValue;b.startValue=b.endValue;b.endValue=e}/^backgroundPosition/.test(a)&&100===parseFloat(b.endValue)&&"%"===b.unitType&&(b.endValue=0,b.startValue=100)}),B(q,"reverse",{loop:!0,delay:h.delay}));!1!==h.queue&&r.dequeue(q,h.queue)}B.State.calls[a]=
!1;f=0;for(g=B.State.calls.length;f<g;f++)if(!1!==B.State.calls[f]){m=!0;break}!1===m&&(B.State.isTicking=!1,delete B.State.calls,B.State.calls=[])}var r,t=function(){if(e.documentMode)return e.documentMode;for(var a=7;4<a;a--){var f=e.createElement("div");if(f.innerHTML="\x3c!--[if IE "+a+"]><span></span><![endif]--\x3e",f.getElementsByTagName("span").length)return a}return b}(),u=function(){var a=0;return h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame||function(b){var e,f=(new Date).getTime();
return e=Math.max(0,16-(f-a)),a=f+e,setTimeout(function(){b(f+e)},e)}}(),y={isNumber:function(a){return"number"==typeof a},isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&
a.length!==b&&(0===a.length||"object"==typeof a[0]&&0<a[0].nodeType)},isWrapped:function(a){return a&&(y.isArray(a)||y.isNumber(a.length)&&!y.isString(a)&&!y.isFunction(a))},isSVG:function(a){return h.SVGElement&&a instanceof h.SVGElement},isEmptyObject:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}},x=!1;if(a.fn&&a.fn.jquery?(r=a,x=!0):r=h.Velocity.Utilities,8>=t&&!x)throw Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=t)return void(jQuery.fn.velocity=
jQuery.fn.animate);var z="swing",B={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:h.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:e.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:r,Redirects:{},Easings:{},
Promise:h.Promise,defaults:{queue:"",duration:400,easing:z,begin:b,complete:b,progress:b,display:b,visibility:b,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(a){r.data(a,"velocity",{isSVG:y.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:3,patch:1},debug:!1,timestamp:!0};h.pageYOffset!==b?(B.State.scrollAnchor=h,B.State.scrollPropertyLeft="pageXOffset",B.State.scrollPropertyTop=
"pageYOffset"):(B.State.scrollAnchor=e.documentElement||e.body.parentNode||e.body,B.State.scrollPropertyLeft="scrollLeft",B.State.scrollPropertyTop="scrollTop");var D=function(){function a(b,e,f){var g=b.v+f.dv*e;return{dx:g,dv:-b.tension*(b.x+f.dx*e)-b.friction*g}}function b(e,f){var g={dx:e.v,dv:-e.tension*e.x-e.friction*e.v},h=a(e,.5*f,g),k=a(e,.5*f,h),l=a(e,f,k),m=1/6*(g.dv+2*(h.dv+k.dv)+l.dv);return e.x+=1/6*(g.dx+2*(h.dx+k.dx)+l.dx)*f,e.v+=m*f,e}return function O(a,e,f){var g,h,k,l={x:-1,v:0,
tension:null,friction:null},m=[0],n=0;a=parseFloat(a)||500;e=parseFloat(e)||20;f=f||null;l.tension=a;l.friction=e;for((g=null!==f)?(n=O(a,e),h=n/f*.016):h=.016;k=b(k||l,h),m.push(1+k.x),n+=16,1E-4<Math.abs(k.x)&&1E-4<Math.abs(k.v););return g?function(a){return m[a*(m.length-1)|0]}:n}}();B.Easings={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}};r.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],
["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,
.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(a,b){B.Easings[b[0]]=n.apply(null,b[1])});var w=B.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},
Lists:{colors:"fill stroke stopColor color backgroundColor borderColor borderTopColor borderRightColor borderBottomColor borderLeftColor outlineColor".split(" "),transformsBase:"translateX translateY scale scaleX scaleY skewX skewY rotateZ".split(" "),transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],
backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a=0;a<w.Lists.colors.length;a++)w.Hooks.templates[w.Lists.colors[a]]=["Red Green Blue Alpha","color"===w.Lists.colors[a]?"0 0 0 1":"255 255 255 1"];var b,e;if(t)for(b in w.Hooks.templates)w.Hooks.templates.hasOwnProperty(b)&&(e=w.Hooks.templates[b],a=e[0].split(" "),e=e[1].match(w.RegEx.valueSplit),"Color"===a[0]&&(a.push(a.shift()),e.push(e.shift()),
w.Hooks.templates[b]=[a.join(" "),e.join(" ")]));for(b in w.Hooks.templates)if(w.Hooks.templates.hasOwnProperty(b)){e=w.Hooks.templates[b];var a=e[0].split(" "),f;for(f in a)a.hasOwnProperty(f)&&(w.Hooks.registered[b+a[f]]=[b,f])}},getRoot:function(a){var b=w.Hooks.registered[a];return b?b[0]:a},cleanRootPropertyValue:function(a,b){return w.RegEx.valueUnwrap.test(b)&&(b=b.match(w.RegEx.valueUnwrap)[1]),w.Values.isCSSNullValue(b)&&(b=w.Hooks.templates[a][1]),b},extractValue:function(a,b){var e=w.Hooks.registered[a];
if(e){var f=e[1];return b=w.Hooks.cleanRootPropertyValue(e[0],b),b.toString().match(w.RegEx.valueSplit)[f]}return b},injectValue:function(a,b,e){if(a=w.Hooks.registered[a]){var f,g=a[1];return e=w.Hooks.cleanRootPropertyValue(a[0],e),f=e.toString().match(w.RegEx.valueSplit),f[g]=b,f.join(" ")}return e}},Normalizations:{registered:{clip:function(a,b,e){switch(a){case "name":return"clip";case "extract":var f;return w.RegEx.wrappedValueAlreadyExtracted.test(e)?f=e:(f=e.toString().match(w.RegEx.valueUnwrap),
f=f?f[1].replace(/,(\s+)?/g," "):e),f;case "inject":return"rect("+e+")"}},blur:function(a,b,e){switch(a){case "name":return B.State.isFirefox?"filter":"-webkit-filter";case "extract":return a=parseFloat(e),a||0===a||(a=(e=e.toString().match(/blur\(([0-9]+[A-z]+)\)/i))?e[1]:0),a;case "inject":return parseFloat(e)?"blur("+e+")":"none"}},opacity:function(a,b,e){if(8>=t)switch(a){case "name":return"filter";case "extract":return(a=e.toString().match(/alpha\(opacity=(.*)\)/i))?a[1]/100:1;case "inject":return b.style.zoom=
1,1<=parseFloat(e)?"":"alpha(opacity="+parseInt(100*parseFloat(e),10)+")"}else switch(a){case "name":return"opacity";case "extract":return e;case "inject":return e}}},register:function(){function a(b,e,f){if("border-box"===w.getPropertyValue(e,"boxSizing").toString().toLowerCase()===(f||!1)){var g,h=0;b="width"===b?["Left","Right"]:["Top","Bottom"];var k=["padding"+b[0],"padding"+b[1],"border"+b[0]+"Width","border"+b[1]+"Width"];for(b=0;b<k.length;b++)g=parseFloat(w.getPropertyValue(e,k[b])),isNaN(g)||
(h+=g);return f?-h:h}return 0}function e(b,f){return function(e,g,h){switch(e){case "name":return b;case "extract":return parseFloat(h)+a(b,g,f);case "inject":return parseFloat(h)-a(b,g,f)+"px"}}}t&&!(9<t)||B.State.isGingerbread||(w.Lists.transformsBase=w.Lists.transformsBase.concat(w.Lists.transforms3D));for(var f=0;f<w.Lists.transformsBase.length;f++)!function(){var a=w.Lists.transformsBase[f];w.Normalizations.registered[a]=function(e,f,g){switch(e){case "name":return"transform";case "extract":return l(f)===
b||l(f).transformCache[a]===b?/^scale/i.test(a)?1:0:l(f).transformCache[a].replace(/[()]/g,"");case "inject":e=!1;switch(a.substr(0,a.length-1)){case "translate":e=!/(%|px|em|rem|vw|vh|\d)$/i.test(g);break;case "scal":case "scale":B.State.isAndroid&&l(f).transformCache[a]===b&&1>g&&(g=1);e=!/(\d)$/i.test(g);break;case "skew":e=!/(deg|\d)$/i.test(g);break;case "rotate":e=!/(deg|\d)$/i.test(g)}return e||(l(f).transformCache[a]="("+g+")"),l(f).transformCache[a]}}}();for(var g=0;g<w.Lists.colors.length;g++)!function(){var a=
w.Lists.colors[g];w.Normalizations.registered[a]=function(e,f,g){switch(e){case "name":return a;case "extract":if(!w.RegEx.wrappedValueAlreadyExtracted.test(g)){var h;e={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(g)?h=e[g]!==b?e[g]:e.black:w.RegEx.isHex.test(g)?h="rgb("+w.Values.hexToRgb(g).join(" ")+")":/^rgba?\(/i.test(g)||(h=e.black);g=(h||g).toString().match(w.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g,
" ")}return(!t||8<t)&&3===g.split(" ").length&&(g+=" 1"),g;case "inject":return/^rgb/.test(g)?g:(8>=t?4===g.split(" ").length&&(g=g.split(/\s+/).slice(0,3).join(" ")):3===g.split(" ").length&&(g+=" 1"),(8>=t?"rgb":"rgba")+"("+g.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();w.Normalizations.registered.innerWidth=e("width",!0);w.Normalizations.registered.innerHeight=e("height",!0);w.Normalizations.registered.outerWidth=e("width");w.Normalizations.registered.outerHeight=e("height")}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,
function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(t||B.State.isAndroid&&!B.State.isChrome)&&(b+="|transform"),(new RegExp("^("+b+")$","i")).test(a)},prefixCheck:function(a){if(B.State.prefixMatches[a])return[B.State.prefixMatches[a],!0];for(var b=["","Webkit","Moz","ms","O"],e=0,f=b.length;e<f;e++){var g;if(g=0===e?a:b[e]+a.replace(/^\w/,function(a){return a.toUpperCase()}),y.isString(B.State.prefixElement.style[g]))return B.State.prefixMatches[a]=
g,[g,!0]}return[a,!1]}},Values:{hexToRgb:function(a){var b;return a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,e,f){return b+b+e+e+f+f}),b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a),b?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:[0,0,0]},isCSSNullValue:function(a){return!a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?
"":"px"},getDisplayType:function(a){a=a&&a.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(a)?"inline":/^(li)$/i.test(a)?"list-item":/^(tr)$/i.test(a)?"table-row":/^(table)$/i.test(a)?"table":/^(tbody)$/i.test(a)?"table-row-group":"block"},addClass:function(a,b){if(a)if(a.classList)a.classList.add(b);else if(y.isString(a.className))a.className+=(a.className.length?
" ":"")+b;else{var e=a.getAttribute(7>=t?"className":"class")||"";a.setAttribute("class",e+(e?" ":"")+b)}},removeClass:function(a,b){if(a)if(a.classList)a.classList.remove(b);else if(y.isString(a.className))a.className=a.className.toString().replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)","gi")," ");else{var e=a.getAttribute(7>=t?"className":"class")||"";a.setAttribute("class",e.replace(new RegExp("(^|s)"+b.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(a,e,f,
g){function k(a,e){var f=0;if(8>=t)f=r.css(a,e);else{var m=!1;/^(width|height)$/.test(e)&&0===w.getPropertyValue(a,"display")&&(m=!0,w.setPropertyValue(a,"display",w.Values.getDisplayType(a)));var n=function(){m&&w.setPropertyValue(a,"display","none")};if(!g){if("height"===e&&"border-box"!==w.getPropertyValue(a,"boxSizing").toString().toLowerCase())return f=a.offsetHeight-(parseFloat(w.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(w.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(w.getPropertyValue(a,
"paddingTop"))||0)-(parseFloat(w.getPropertyValue(a,"paddingBottom"))||0),n(),f;if("width"===e&&"border-box"!==w.getPropertyValue(a,"boxSizing").toString().toLowerCase())return f=a.offsetWidth-(parseFloat(w.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(w.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(w.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(w.getPropertyValue(a,"paddingRight"))||0),n(),f}f=l(a)===b?h.getComputedStyle(a,null):l(a).computedStyle?l(a).computedStyle:l(a).computedStyle=
h.getComputedStyle(a,null);"borderColor"===e&&(e="borderTopColor");f=9===t&&"filter"===e?f.getPropertyValue(e):f[e];""!==f&&null!==f||(f=a.style[e]);n()}"auto"===f&&/^(top|right|bottom|left)$/i.test(e)&&(n=k(a,"position"),("fixed"===n||"absolute"===n&&/top|left/i.test(e))&&(f=r(a).position()[e]+"px"));return f}var m;if(w.Hooks.registered[e])m=w.Hooks.getRoot(e),f===b&&(f=w.getPropertyValue(a,w.Names.prefixCheck(m)[0])),w.Normalizations.registered[m]&&(f=w.Normalizations.registered[m]("extract",a,
f)),m=w.Hooks.extractValue(e,f);else if(w.Normalizations.registered[e]){var n;f=w.Normalizations.registered[e]("name",a);"transform"!==f&&(n=k(a,w.Names.prefixCheck(f)[0]),w.Values.isCSSNullValue(n)&&w.Hooks.templates[e]&&(n=w.Hooks.templates[e][1]));m=w.Normalizations.registered[e]("extract",a,n)}if(!/^[\d-]/.test(m))if((f=l(a))&&f.isSVG&&w.Names.SVGAttribute(e))if(/^(height|width)$/i.test(e))try{m=a.getBBox()[e]}catch(p){m=0}else m=a.getAttribute(e);else m=k(a,w.Names.prefixCheck(e)[0]);return w.Values.isCSSNullValue(m)&&
(m=0),2<=B.debug&&console.log("Get "+e+": "+m),m},setPropertyValue:function(a,b,e,f,g){var k=b;if("scroll"===b)g.container?g.container["scroll"+g.direction]=e:"Left"===g.direction?h.scrollTo(e,g.alternateValue):h.scrollTo(g.alternateValue,e);else if(w.Normalizations.registered[b]&&"transform"===w.Normalizations.registered[b]("name",a))w.Normalizations.registered[b]("inject",a,e),k="transform",e=l(a).transformCache[b];else{w.Hooks.registered[b]&&(k=b,b=w.Hooks.getRoot(b),f=f||w.getPropertyValue(a,
b),e=w.Hooks.injectValue(k,e,f));if(w.Normalizations.registered[b]&&(e=w.Normalizations.registered[b]("inject",a,e),b=w.Normalizations.registered[b]("name",a)),k=w.Names.prefixCheck(b)[0],8>=t)try{a.style[k]=e}catch(m){B.debug&&console.log("Browser does not support ["+e+"] for ["+k+"]")}else(f=l(a))&&f.isSVG&&w.Names.SVGAttribute(b)?a.setAttribute(b,e):a.style[k]=e;2<=B.debug&&console.log("Set "+b+" ("+k+"): "+e)}return[k,e]},flushTransformCache:function(a){var b="",e=l(a);if((t||B.State.isAndroid&&
!B.State.isChrome)&&e&&e.isSVG){var e=function(b){return parseFloat(w.getPropertyValue(a,b))},f={translate:[e("translateX"),e("translateY")],skewX:[e("skewX")],skewY:[e("skewY")],scale:1!==e("scale")?[e("scale"),e("scale")]:[e("scaleX"),e("scaleY")],rotate:[e("rotateZ"),0,0]};r.each(l(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate");f[a]&&(b+=a+"("+f[a].join(" ")+") ",delete f[a])})}else{var g,h;r.each(l(a).transformCache,
function(e){return g=l(a).transformCache[e],"transformPerspective"===e?(h=g,!0):(9===t&&"rotateZ"===e&&(e="rotate"),void(b+=e+g+" "))});h&&(b="perspective"+h+" "+b)}w.setPropertyValue(a,"transform",b)}};w.Hooks.register();w.Normalizations.register();B.hook=function(a,e,g){var h;return a=f(a),r.each(a,function(a,f){if(l(f)===b&&B.init(f),g===b)h===b&&(h=w.getPropertyValue(f,e));else{var k=w.setPropertyValue(f,e,g);"transform"===k[0]&&B.CSS.flushTransformCache(f);h=k}}),h};var A=function(){function a(){return n?
R.promise||null:t}function g(a,f){function k(g){var u,A;if(q.begin&&0===N)try{q.begin.call(x,x)}catch(E){setTimeout(function(){throw E;},1)}if("scroll"===aa){var G,v,H,D=/^x$/i.test(q.axis)?"Left":"Top",J=parseFloat(q.offset)||0;q.container?y.isWrapped(q.container)||y.isNode(q.container)?(q.container=q.container[0]||q.container,G=q.container["scroll"+D],H=G+r(a).position()[D.toLowerCase()]+J):q.container=null:(G=B.State.scrollAnchor[B.State["scrollProperty"+D]],v=B.State.scrollAnchor[B.State["scrollProperty"+
("Left"===D?"Top":"Left")]],H=r(a).offset()[D.toLowerCase()]+J);t={scroll:{rootPropertyValue:!1,startValue:G,currentValue:G,endValue:H,unitType:"",easing:q.easing,scrollData:{container:q.container,direction:D,alternateValue:v}},element:a};B.debug&&console.log("tweensContainer (scroll): ",t.scroll,a)}else if("reverse"===aa){if(u=l(a),!u)return;if(!u.tweensContainer)return void r.dequeue(a,q.queue);"none"===u.opts.display&&(u.opts.display="auto");"hidden"===u.opts.visibility&&(u.opts.visibility="visible");
u.opts.loop=!1;u.opts.begin=null;u.opts.complete=null;C.easing||delete q.easing;C.duration||delete q.duration;q=r.extend({},u.opts,q);A=r.extend(!0,{},u?u.tweensContainer:null);for(J in A)A.hasOwnProperty(J)&&"element"!==J&&(D=A[J].startValue,A[J].startValue=A[J].currentValue=A[J].endValue,A[J].endValue=D,y.isEmptyObject(C)||(A[J].easing=q.easing),B.debug&&console.log("reverse tweensContainer ("+J+"): "+JSON.stringify(A[J]),a));t=A}else if("start"===aa){(u=l(a))&&u.tweensContainer&&!0===u.isAnimating&&
(A=u.tweensContainer);G=function(b,e){var g,h,k;return y.isFunction(b)&&(b=b.call(a,f,Y)),y.isArray(b)?(g=b[0],!y.isArray(b[1])&&/^[\d-]/.test(b[1])||y.isFunction(b[1])||w.RegEx.isHex.test(b[1])?k=b[1]:y.isString(b[1])&&!w.RegEx.isHex.test(b[1])&&B.Easings[b[1]]||y.isArray(b[1])?(h=e?b[1]:m(b[1],q.duration),k=b[2]):k=b[1]||b[2]):g=b,e||(h=h||q.easing),y.isFunction(g)&&(g=g.call(a,f,Y)),y.isFunction(k)&&(k=k.call(a,f,Y)),[g||0,h,k]};v=function(f,g){var k,l=w.Hooks.getRoot(f),m=!1,p=g[0],x=g[1],v=g[2];
if(!(u&&u.isSVG||"tween"===l||!1!==w.Names.prefixCheck(l)[1]||w.Normalizations.registered[l]!==b))return void(B.debug&&console.log("Skipping ["+l+"] due to a lack of browser support."));(q.display!==b&&null!==q.display&&"none"!==q.display||q.visibility!==b&&"hidden"!==q.visibility)&&/opacity|filter/.test(f)&&!v&&0!==p&&(v=0);q._cacheValues&&A&&A[f]?(v===b&&(v=A[f].endValue+A[f].unitType),m=u.rootPropertyValueCache[l]):w.Hooks.registered[f]?v===b?(m=w.getPropertyValue(a,l),v=w.getPropertyValue(a,f,
m)):m=w.Hooks.templates[l][1]:v===b&&(v=w.getPropertyValue(a,f));var z,C,E,G=!1,l=function(a,b){var e,f;return f=(b||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(a){return e=a,""}),e||(e=w.Values.getUnitType(a)),[f,e]};if(y.isString(v)&&y.isString(p)){k="";for(var H=0,D=0,J=[],O=[];H<v.length&&D<p.length;){var L=v[H],M=p[D];if(/[\d\.]/.test(L)&&/[\d\.]/.test(M)){for(var K=L,P=M,N=".",R=".";++H<v.length;){if(L=v[H],L===N)N="..";else if(!/\d/.test(L))break;K+=L}for(;++D<p.length;){if(M=
p[D],M===R)R="..";else if(!/\d/.test(M))break;P+=M}K===P?k+=K:(k+="{"+J.length+"}",J.push(parseFloat(K)),O.push(parseFloat(P)))}else{if(L!==M)break;k+=L;H++;D++}}H===v.length&&D===p.length||(B.debug&&console.error('Trying to pattern match mis-matched strings ["'+p+'", "'+v+'"]'),k=b);k&&(J.length?(B.debug&&console.log('Pattern found "'+k+'" -> ',J,O,v,p),v=J,p=O,C=E=""):k=b)}k||(z=l(f,v),v=z[0],E=z[1],z=l(f,p),p=z[0].replace(/^([+-\/*])=/,function(a,b){return G=b,""}),C=z[1],v=parseFloat(v)||0,p=
parseFloat(p)||0,"%"===C&&(/^(fontSize|lineHeight)$/.test(f)?(p/=100,C="em"):/^scale/.test(f)?(p/=100,C=""):/(Red|Green|Blue)$/i.test(f)&&(p=p/100*255,C="")));z=function(){var b=a.parentNode||e.body,f=w.getPropertyValue(a,"position"),g=w.getPropertyValue(a,"fontSize"),k=f===Z.lastPosition&&b===Z.lastParent,l=g===Z.lastFontSize;Z.lastParent=b;Z.lastPosition=f;Z.lastFontSize=g;var m={};if(l&&k)m.emToPx=Z.lastEmToPx,m.percentToPxWidth=Z.lastPercentToPxWidth,m.percentToPxHeight=Z.lastPercentToPxHeight;
else{var n=u&&u.isSVG?e.createElementNS("http://www.w3.org/2000/svg","rect"):e.createElement("div");B.init(n);b.appendChild(n);r.each(["overflow","overflowX","overflowY"],function(a,b){B.CSS.setPropertyValue(n,b,"hidden")});B.CSS.setPropertyValue(n,"position",f);B.CSS.setPropertyValue(n,"fontSize",g);B.CSS.setPropertyValue(n,"boxSizing","content-box");r.each("minWidth maxWidth width minHeight maxHeight height".split(" "),function(a,b){B.CSS.setPropertyValue(n,b,"100%")});B.CSS.setPropertyValue(n,
"paddingLeft","100em");m.percentToPxWidth=Z.lastPercentToPxWidth=(parseFloat(w.getPropertyValue(n,"width",null,!0))||1)/100;m.percentToPxHeight=Z.lastPercentToPxHeight=(parseFloat(w.getPropertyValue(n,"height",null,!0))||1)/100;m.emToPx=Z.lastEmToPx=(parseFloat(w.getPropertyValue(n,"paddingLeft"))||1)/100;b.removeChild(n)}return null===Z.remToPx&&(Z.remToPx=parseFloat(w.getPropertyValue(e.body,"fontSize"))||16),null===Z.vwToPx&&(Z.vwToPx=parseFloat(h.innerWidth)/100,Z.vhToPx=parseFloat(h.innerHeight)/
100),m.remToPx=Z.remToPx,m.vwToPx=Z.vwToPx,m.vhToPx=Z.vhToPx,1<=B.debug&&console.log("Unit ratios: "+JSON.stringify(m),a),m};if(/[\/*]/.test(G))C=E;else if(E!==C&&0!==v)if(0===p)C=E;else{n=n||z();z=/margin|padding|left|right|width|text|word|letter/i.test(f)||/X$/.test(f)||"x"===f?"x":"y";switch(E){case "%":v*="x"===z?n.percentToPxWidth:n.percentToPxHeight;break;case "px":break;default:v*=n[E+"ToPx"]}switch(C){case "%":v*=1/("x"===z?n.percentToPxWidth:n.percentToPxHeight);break;case "px":break;default:v*=
1/n[C+"ToPx"]}}switch(G){case "+":p=v+p;break;case "-":p=v-p;break;case "*":p*=v;break;case "/":p=v/p}t[f]={rootPropertyValue:m,startValue:v,currentValue:v,endValue:p,unitType:C,easing:x};k&&(t[f].pattern=k);B.debug&&console.log("tweensContainer ("+f+"): "+JSON.stringify(t[f]),a)};for(D in z)if(z.hasOwnProperty(D)){H=w.Names.camelCase(D);g=G(z[D]);if(0<=w.Lists.colors.indexOf(H)){var O=g[0],J=g[1],M=g[2];if(w.RegEx.isHex.test(O)){g=["Red","Green","Blue"];for(var O=w.Values.hexToRgb(O),M=M?w.Values.hexToRgb(M):
b,V=0;V<g.length;V++){var U=[O[V]];J&&U.push(J);M!==b&&U.push(M[V]);v(H+g[V],U)}continue}}v(H,g)}t.element=a}t.element&&(w.Values.addClass(a,"velocity-animating"),ma.push(t),u=l(a),u&&(""===q.queue&&(u.tweensContainer=t,u.opts=q),u.isAnimating=!0),N===Y-1?(B.State.calls.push([ma,x,q,null,R.resolver]),!1===B.State.isTicking&&(B.State.isTicking=!0,p())):N++)}var n,q=r.extend({},B.defaults,C),t={};switch(l(a)===b&&B.init(a),parseFloat(q.delay)&&!1!==q.queue&&r.queue(a,q.queue,function(b){B.velocityQueueEntryFlag=
!0;l(a).delayTimer={setTimeout:setTimeout(b,parseFloat(q.delay)),next:b}}),q.duration.toString().toLowerCase()){case "fast":q.duration=200;break;case "normal":q.duration=400;break;case "slow":q.duration=600;break;default:q.duration=parseFloat(q.duration)||1}!1!==B.mock&&(!0===B.mock?q.duration=q.delay=1:(q.duration*=parseFloat(B.mock)||1,q.delay*=parseFloat(B.mock)||1));q.easing=m(q.easing,q.duration);q.begin&&!y.isFunction(q.begin)&&(q.begin=null);q.progress&&!y.isFunction(q.progress)&&(q.progress=
null);q.complete&&!y.isFunction(q.complete)&&(q.complete=null);q.display!==b&&null!==q.display&&(q.display=q.display.toString().toLowerCase(),"auto"===q.display&&(q.display=B.CSS.Values.getDisplayType(a)));q.visibility!==b&&null!==q.visibility&&(q.visibility=q.visibility.toString().toLowerCase());q.mobileHA=q.mobileHA&&B.State.isMobile&&!B.State.isGingerbread;!1===q.queue?q.delay?setTimeout(k,q.delay):k():r.queue(a,q.queue,function(a,b){return!0===b?(R.promise&&R.resolver(x),!0):(B.velocityQueueEntryFlag=
!0,void k(a))});""!==q.queue&&"fx"!==q.queue||"inprogress"===r.queue(a)[0]||r.dequeue(a)}var k,n,t,u,x,z,C,D=arguments[0]&&(arguments[0].p||r.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||y.isString(arguments[0].properties));y.isWrapped(this)?(n=!1,u=0,x=this,t=this):(n=!0,u=1,x=D?arguments[0].elements||arguments[0].e:arguments[0]);var R={promise:null,resolver:null,rejecter:null};if(n&&B.Promise&&(R.promise=new B.Promise(function(a,b){R.resolver=a;R.rejecter=b})),D?(z=arguments[0].properties||
arguments[0].p,C=arguments[0].options||arguments[0].o):(z=arguments[u],C=arguments[u+1]),x=f(x),!x)return void(R.promise&&(z&&C&&!1===C.promiseRejectEmpty?R.resolver():R.rejecter()));var Y=x.length,N=0;if(!/^(stop|finish|finishAll)$/i.test(z)&&!r.isPlainObject(C))for(C={},u+=1;u<arguments.length;u++)y.isArray(arguments[u])||!/^(fast|normal|slow)$/i.test(arguments[u])&&!/^\d/.test(arguments[u])?y.isString(arguments[u])||y.isArray(arguments[u])?C.easing=arguments[u]:y.isFunction(arguments[u])&&(C.complete=
arguments[u]):C.duration=arguments[u];var aa;switch(z){case "scroll":aa="scroll";break;case "reverse":aa="reverse";break;case "finish":case "finishAll":case "stop":r.each(x,function(a,b){l(b)&&l(b).delayTimer&&(clearTimeout(l(b).delayTimer.setTimeout),l(b).delayTimer.next&&l(b).delayTimer.next(),delete l(b).delayTimer);"finishAll"!==z||!0!==C&&!y.isString(C)||(r.each(r.queue(b,y.isString(C)?C:""),function(a,b){y.isFunction(b)&&b()}),r.queue(b,y.isString(C)?C:"",[]))});var ca=[];return r.each(B.State.calls,
function(a,e){e&&r.each(e[1],function(f,g){var h=C===b?"":C;return!0!==h&&e[2].queue!==h&&(C!==b||!1!==e[2].queue)||void r.each(x,function(b,f){if(f===g)if((!0===C||y.isString(C))&&(r.each(r.queue(f,y.isString(C)?C:""),function(a,b){y.isFunction(b)&&b(null,!0)}),r.queue(f,y.isString(C)?C:"",[])),"stop"===z){var k=l(f);k&&k.tweensContainer&&!1!==h&&r.each(k.tweensContainer,function(a,b){b.endValue=b.currentValue});ca.push(a)}else"finish"!==z&&"finishAll"!==z||(e[2].duration=1)})})}),"stop"===z&&(r.each(ca,
function(a,b){q(b,!0)}),R.promise&&R.resolver(x)),a();default:if(!r.isPlainObject(z)||y.isEmptyObject(z)){if(y.isString(z)&&B.Redirects[z]){k=r.extend({},C);var U=k.duration,la=k.delay||0;return!0===k.backwards&&(x=r.extend(!0,[],x).reverse()),r.each(x,function(a,e){parseFloat(k.stagger)?k.delay=la+parseFloat(k.stagger)*a:y.isFunction(k.stagger)&&(k.delay=la+k.stagger.call(e,a,Y));k.drag&&(k.duration=parseFloat(U)||(/^(callout|transition)/.test(z)?1E3:400),k.duration=Math.max(k.duration*(k.backwards?
1-a/Y:(a+1)/Y),.75*k.duration,200));B.Redirects[z].call(e,e,k||{},a,Y,x,R.promise?R:b)}),a()}u="Velocity: First argument ("+z+") was not a property map, a known action, or a registered redirect. Aborting.";return R.promise?R.rejecter(Error(u)):console.log(u),a()}aa="start"}var Z={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},ma=[];r.each(x,function(a,b){y.isNode(b)&&g(b,a)});k=r.extend({},
B.defaults,C);k.loop=parseInt(k.loop,10);u=2*k.loop-1;if(k.loop)for(D=0;D<u;D++){var pa={delay:k.delay,progress:k.progress};D===u-1&&(pa.display=k.display,pa.visibility=k.visibility,pa.complete=k.complete);A(x,"reverse",pa)}return a()},B=r.extend(A,B);B.animate=A;var C=h.requestAnimationFrame||u;return B.State.isMobile||e.hidden===b||e.addEventListener("visibilitychange",function(){e.hidden?(C=function(a){return setTimeout(function(){a(!0)},16)},p()):C=h.requestAnimationFrame||u}),a.Velocity=B,a!==
h&&(a.fn.velocity=A,a.fn.velocity.defaults=B.defaults),r.each(["Down","Up"],function(a,e){B.Redirects["slide"+e]=function(a,f,g,h,k,l){f=r.extend({},f);var m=f.begin,n=f.complete,p={},q={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};f.display===b&&(f.display="Down"===e?"inline"===B.CSS.Values.getDisplayType(a)?"inline-block":"block":"none");f.begin=function(){0===g&&m&&m.call(k,k);for(var b in q)if(q.hasOwnProperty(b)){p[b]=a.style[b];var f=w.getPropertyValue(a,b);q[b]="Down"===
e?[f,0]:[0,f]}p.overflow=a.style.overflow;a.style.overflow="hidden"};f.complete=function(){for(var b in p)p.hasOwnProperty(b)&&(a.style[b]=p[b]);g===h-1&&(n&&n.call(k,k),l&&l.resolver(k))};B(a,q,f)}}),r.each(["In","Out"],function(a,e){B.Redirects["fade"+e]=function(a,f,g,h,k,l){a=r.extend({},f);var m=a.complete;f={opacity:"In"===e?1:0};0!==g&&(a.begin=null);g!==h-1?a.complete=null:a.complete=function(){m&&m.call(k,k);l&&l.resolver(k)};a.display===b&&(a.display="In"===e?"auto":"none");B(this,f,a)}}),
B}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)});!function(a){"function"==typeof require&&"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(["velocity"],a):a()}(function(){return function(a,h,e,b){var g=a.Velocity;if(!g||!g.Utilities)return void(h.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting."));var f=g.Utilities;if(function(a,b){var e=[];return!(!a||!b)&&(f.each([a,b],function(a,b){var g=[];f.each(b,function(a,b){for(;5>b.toString().length;)b="0"+b;g.push(b)});e.push(g.join(""))}),
parseFloat(e[0])>parseFloat(e[1]))}({major:1,minor:1,patch:0},g.version))throw alert("Velocity UI Pack: You need to update Velocity (velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity."),Error("Velocity UI Pack: You need to update Velocity (velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.");g.RegisterEffect=g.RegisterUI=function(a,e){function h(a,b,e,k){var l,m=0;f.each(a.nodeType?[a]:a,function(a,b){k&&(e+=a*k);l=b.parentNode;var h=["height",
"paddingTop","paddingBottom","marginTop","marginBottom"];"border-box"===g.CSS.getPropertyValue(b,"boxSizing").toString().toLowerCase()&&(h=["height"]);f.each(h,function(a,e){m+=parseFloat(g.CSS.getPropertyValue(b,e))})});g.animate(l,{height:("In"===b?"+":"-")+"="+m},{queue:!1,easing:"ease-in-out",duration:e*("In"===b?.6:1)})}return g.Redirects[a]=function(l,q,r,t,u,y,x){var z=r===t-1;x=x||e.loop;"function"==typeof e.defaultDuration?e.defaultDuration=e.defaultDuration.call(u,u):e.defaultDuration=parseFloat(e.defaultDuration);
for(var B=0;B<e.calls.length;B++){var D=e.calls[B],w=D[0],A=1E3,C=D[1],D=D[2]||{},E={};if(q.duration!==b?A=q.duration:e.defaultDuration!==b&&(A=e.defaultDuration),E.duration=A*(C||1),E.queue=q.queue||"",E.easing=D.easing||"ease",E.delay=parseFloat(D.delay)||0,E.loop=!e.loop&&D.loop,E._cacheValues=D._cacheValues||!0,0===B){if(E.delay+=parseFloat(q.delay)||0,0===r&&(E.begin=function(){q.begin&&q.begin.call(u,u);var e=a.match(/(In|Out)$/);e&&"In"===e[0]&&w.opacity!==b&&f.each(u.nodeType?[u]:u,function(a,
b){g.CSS.setPropertyValue(b,"opacity",0)});q.animateParentHeight&&e&&h(u,e[0],A+E.delay,q.stagger)}),null!==q.display)q.display!==b&&"none"!==q.display?E.display=q.display:/In$/.test(a)&&(C=g.CSS.Values.getDisplayType(l),E.display="inline"===C?"inline-block":C);q.visibility&&"hidden"!==q.visibility&&(E.visibility=q.visibility)}if(B===e.calls.length-1){var H=function(){q.display!==b&&"none"!==q.display||!/Out$/.test(a)||f.each(u.nodeType?[u]:u,function(a,b){g.CSS.setPropertyValue(b,"display","none")});
q.complete&&q.complete.call(u,u);y&&y.resolver(u||l)};E.complete=function(){if(x&&g.Redirects[a](l,q,r,t,u,y,!0===x||Math.max(0,x-1)),e.reset){for(var f in e.reset)if(e.reset.hasOwnProperty(f)){var h=e.reset[f];g.CSS.Hooks.registered[f]!==b||"string"!=typeof h&&"number"!=typeof h||(e.reset[f]=[e.reset[f],e.reset[f]])}f={duration:0,queue:!1};z&&(f.complete=H);g.animate(l,e.reset,f)}else z&&H()};"hidden"===q.visibility&&(E.visibility=q.visibility)}g.animate(l,w,E)}},g};g.RegisterEffect.packagedEffects=
{"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:0},.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]},.25],[{opacity:[1,"easeInOutQuad"]},.25],[{opacity:[0,
"easeInOutQuad"]},.25],[{opacity:[1,"easeInOutQuad"]},.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1E3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",
.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,
rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},
"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,
400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,
translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,
scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%",
"50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],
[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1E3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1E3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1E3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,
-1E3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1E3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1E3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},
.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,
1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},
"transition.slideRightIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,
calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,
75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,
800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,
800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,2E3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,
2E3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,
2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var l in g.RegisterEffect.packagedEffects)g.RegisterEffect.packagedEffects.hasOwnProperty(l)&&g.RegisterEffect(l,g.RegisterEffect.packagedEffects[l]);g.RunSequence=function(a){var b=f.extend(!0,[],a);1<b.length&&(f.each(b.reverse(),function(a,e){var h=b[a+1];if(h){var k=e.o||e.options,l=h.o||h.options,k=k&&!1===k.sequenceQueue?"begin":
"complete",u=l&&l[k],y={};y[k]=function(){var a=h.e||h.elements,a=a.nodeType?[a]:a;u&&u.call(a,a);g(e)};h.o?h.o=f.extend({},l,y):h.options=f.extend({},l,y)}}),b.reverse());g(b[0])}}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)});(function(){var a=window.Messenger,h;h=window.Messenger=function(){return h._call.apply(this,arguments)};window.Messenger.noConflict=function(){window.Messenger=a;return h}})();
window.Messenger._=function(){if(window._)return window._;var a=Array.prototype,h=a.slice,e=Object.prototype.toString,b=a.forEach,g=a.filter,a=Object.keys,f=Function.prototype.bind,l={},k={},n=l.each=l.forEach=function(a,e,f){if(null!=a)if(b&&a.forEach===b)a.forEach(e,f);else if(a.length===+a.length)for(var g=0,h=a.length;g<h&&e.call(f,a[g],g,a)!==k;g++);else for(g in a)if(l.has(a,g)&&e.call(f,a[g],g,a)===k)break};l.result=function(a,b){if(null==a)return null;var e=a[b];return l.isFunction(e)?e.call(a):
e};l.once=function(a){var b=!1,e;return function(){if(b)return e;b=!0;e=a.apply(this,arguments);a=null;return e}};var m=0;l.uniqueId=function(a){var b=++m+"";return a?a+b:b};l.filter=l.select=function(a,b,e){var f=[];if(null==a)return f;if(g&&a.filter===g)return a.filter(b,e);n(a,function(a,g,h){b.call(e,a,g,h)&&(f[f.length]=a)});return f};n("Arguments Function String Number Date RegExp".split(" "),function(a){l["is"+a]=function(b){return e.call(b)=="[object "+a+"]"}});l.defaults=function(a){n(h.call(arguments,
1),function(b){if(b)for(var e in b)null==a[e]&&(a[e]=b[e])});return a};l.extend=function(a){n(h.call(arguments,1),function(b){if(b)for(var e in b)a[e]=b[e]});return a};l.keys=a||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],e;for(e in a)l.has(a,e)&&(b[b.length]=e);return b};l.bind=function(a,b){if(a.bind===f&&f)return f.apply(a,h.call(arguments,1));var e=h.call(arguments,2);return function(){return a.apply(b,e.concat(h.call(arguments)))}};l.isObject=function(a){return a===
Object(a)};return l}();
window.Messenger.Events=function(){return window.Backbone&&Backbone.Events?Backbone.Events:function(){var a=/\s+/,h=function(b,e,h,k){if(!h)return!0;if("object"===typeof h)for(var n in h)b[e].apply(b,[n,h[n]].concat(k));else if(a.test(h)){h=h.split(a);n=0;for(var m=h.length;n<m;n++)b[e].apply(b,[h[n]].concat(k))}else return!0},e=function(a,b){var e,h=-1,n=a.length;switch(b.length){case 0:for(;++h<n;)(e=a[h]).callback.call(e.ctx);break;case 1:for(;++h<n;)(e=a[h]).callback.call(e.ctx,b[0]);break;case 2:for(;++h<
n;)(e=a[h]).callback.call(e.ctx,b[0],b[1]);break;case 3:for(;++h<n;)(e=a[h]).callback.call(e.ctx,b[0],b[1],b[2]);break;default:for(;++h<n;)(e=a[h]).callback.apply(e.ctx,b)}},b={on:function(a,b,e){if(!h(this,"on",a,[b,e])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:e,ctx:e||this});return this},once:function(a,b,e){if(!h(this,"once",a,[b,e])||!b)return this;var k=this,n=_.once(function(){k.off(a,n);b.apply(this,arguments)});n._callback=
b;this.on(a,n,e);return this},off:function(a,b,e){var k,n,m,p,q,r,t,u;if(!this._events||!h(this,"off",a,[b,e]))return this;if(!a&&!b&&!e)return this._events={},this;p=a?[a]:_.keys(this._events);q=0;for(r=p.length;q<r;q++)if(a=p[q],k=this._events[a]){m=[];if(b||e)for(t=0,u=k.length;t<u;t++)n=k[t],(b&&b!==n.callback&&b!==n.callback._callback||e&&e!==n.context)&&m.push(n);this._events[a]=m}return this},trigger:function(a){if(!this._events)return this;var b=Array.prototype.slice.call(arguments,1);if(!h(this,
"trigger",a,b))return this;var l=this._events[a],k=this._events.all;l&&e(l,b);k&&e(k,arguments);return this},listenTo:function(a,b,e){var h=this._listeners||(this._listeners={}),n=a._listenerId||(a._listenerId=_.uniqueId("l"));h[n]=a;a.on(b,"object"===typeof b?this:e,this);return this},stopListening:function(a,b,e){var h=this._listeners;if(h){if(a)a.off(b,"object"===typeof b?this:e,this),b||e||delete h[a._listenerId];else{"object"===typeof b&&(e=this);for(var n in h)h[n].off(b,e,this);this._listeners=
{}}return this}}};b.bind=b.on;b.unbind=b.off;return b}()}();
(function(){var a,h,e,b,g,f,l,k,n,m,p={}.hasOwnProperty,q=function(a,b){function e(){this.constructor=a}for(var f in b)p.call(b,f)&&(a[f]=b[f]);e.prototype=b.prototype;a.prototype=new e;a.__super__=b.prototype;return a},r=[].slice,t=[].indexOf||function(a){for(var b=0,e=this.length;b<e;b++)if(b in this&&this[b]===a)return b;return-1};a=jQuery;f=null!=(e=window._)?e:window.Messenger._;b=null!=(n="undefined"!==typeof Backbone&&null!==Backbone?Backbone.Events:void 0)?n:window.Messenger.Events;e=function(){function e(g){a.extend(this,
b);f.isObject(g)&&(g.el&&this.setElement(g.el),this.model=g.model);this.initialize.apply(this,arguments)}e.prototype.setElement=function(b){this.$el=a(b);return this.el=this.$el[0]};e.prototype.delegateEvents=function(a){var b,e,g,h,k,l;if(a||(a=f.result(this,"events"))){this.undelegateEvents();b=/^(\S+)\s*(.*)$/;l=[];for(g in a){k=a[g];f.isFunction(k)||(k=this[a[g]]);if(!k)throw Error('Method "'+a[g]+'" does not exist');h=g.match(b);e=h[1];h=h[2];k=f.bind(k,this);e+=".delegateEvents"+this.cid;""===
h?l.push(this.jqon(e,k)):l.push(this.jqon(e,h,k))}return l}};e.prototype.jqon=function(a,b,e){var f;if(null!=this.$el.on)return(f=this.$el).on.apply(f,arguments);null==e&&(e=b,b=void 0);return null!=b?this.$el.delegate(b,a,e):this.$el.bind(a,e)};e.prototype.jqoff=function(a){var b;if(null!=this.$el.off)return(b=this.$el).off.apply(b,arguments);this.$el.undelegate();return this.$el.unbind(a)};e.prototype.undelegateEvents=function(){return this.jqoff(".delegateEvents"+this.cid)};e.prototype.remove=
function(){this.undelegateEvents();return this.$el.remove()};return e}();l=function(b){function e(){return e.__super__.constructor.apply(this,arguments)}q(e,b);e.prototype.defaults={hideAfter:10,scroll:!0,closeButtonText:"&times;",escapeText:!1};e.prototype.initialize=function(b){null==b&&(b={});this.rendered=this.shown=!1;this.messenger=b.messenger;return this.options=a.extend({},this.options,b,this.defaults)};e.prototype.show=function(){var a;this.rendered||this.render();this.$message.removeClass("messenger-hidden");
a=this.shown;this.shown=!0;if(!a)return this.trigger("show")};e.prototype.hide=function(){var a;if(this.rendered&&(this.$message.addClass("messenger-hidden"),a=this.shown,this.shown=!1,a))return this.trigger("hide")};e.prototype.cancel=function(){return this.hide()};e.prototype.update=function(b){var e,g=this;f.isString(b)&&(b={message:b});a.extend(this.options,b);this.lastUpdate=new Date;this.rendered=!1;this.events=null!=(e=this.options.events)?e:{};this.render();this.actionsToEvents();this.delegateEvents();
this.checkClickable();this.options.hideAfter?(this.$message.addClass("messenger-will-hide-after"),null!=this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(function(){return g.hide()},1E3*this.options.hideAfter)):this.$message.removeClass("messenger-will-hide-after");if(this.options.hideOnNavigate){if(this.$message.addClass("messenger-will-hide-on-navigate"),null!=("undefined"!==typeof Backbone&&null!==Backbone?Backbone.history:void 0))Backbone.history.on("route",function(){return g.hide()})}else this.$message.removeClass("messenger-will-hide-on-navigate");
return this.trigger("update",this)};e.prototype.scrollTo=function(){if(this.options.scroll)return a.scrollTo(this.$el,{duration:400,offset:{left:0,top:-20}})};e.prototype.timeSinceUpdate=function(){return this.lastUpdate?new Date-this.lastUpdate:null};e.prototype.actionsToEvents=function(){var a,b,e,f,g=this;e=this.options.actions;f=[];for(b in e)a=e[b],f.push(this.events['click [data-action="'+b+'"] a']=function(a){return function(e){e.preventDefault();e.stopPropagation();g.trigger("action:"+b,a,
e);return a.action.call(g,e,g)}}(a));return f};e.prototype.checkClickable=function(){var a,b,e;b=this.events;e=[];for(a in b)"click"===a?e.push(this.$message.addClass("messenger-clickable")):e.push(void 0);return e};e.prototype.undelegateEvents=function(){var a;e.__super__.undelegateEvents.apply(this,arguments);return null!=(a=this.$message)?a.removeClass("messenger-clickable"):void 0};e.prototype.parseActions=function(){var b,e,f,g;e=[];g=this.options.actions;for(f in g)b=g[f],b=a.extend({},b),b.name=
f,null==b.label&&(b.label=f),e.push(b);return e};e.prototype.template=function(b){var e,f,g,h,k,l,m,n=this;g=a("<div class='messenger-message message alert "+b.type+" message-"+b.type+" alert-"+b.type+"'>");b.showCloseButton&&(f=a('<button type="button" class="messenger-close" data-dismiss="alert">'),f.html(b.closeButtonText),f.click(function(){var a;n.cancel();if("function"===typeof(a=n.options).onClickClose)a.onClickClose();return!0}),g.append(f));f=b.escapeText?a('<div class="messenger-message-inner"></div>').text(b.message):
a('<div class="messenger-message-inner">'+b.message+"</div>");g.append(f);b.actions.length&&(e=a('<div class="messenger-actions">'));m=b.actions;k=0;for(l=m.length;k<l;k++)h=m[k],b=a("<span>"),b.attr("data-action",""+h.name),f=a("<a>"),f.html(h.label),b.append(a('<span class="messenger-phrase">')),b.append(f),e.append(b);g.append(e);return g};e.prototype.render=function(){var b;if(!this.rendered)return this._hasSlot||(this.setElement(this.messenger._reserveMessageSlot(this)),this._hasSlot=!0),b=a.extend({},
this.options,{actions:this.parseActions()}),this.$message=a(this.template(b)),this.$el.html(this.$message),this.rendered=this.shown=!0,this.trigger("render")};return e}(e);g=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}q(b,a);b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);return this._timers={}};b.prototype.cancel=function(){this.clearTimers();this.hide();if(null!=this._actionInstance&&null!=this._actionInstance.abort)return this._actionInstance.abort()};
b.prototype.clearTimers=function(){var a,b,e,f;e=this._timers;for(a in e)b=e[a],clearTimeout(b);this._timers={};return null!=(f=this.$message)?f.removeClass("messenger-retry-soon messenger-retry-later"):void 0};b.prototype.render=function(){var a,e,f,g;b.__super__.render.apply(this,arguments);this.clearTimers();f=this.options.actions;g=[];for(e in f)a=f[e],a.auto?g.push(this.startCountdown(e,a)):g.push(void 0);return g};b.prototype.renderPhrase=function(a,b){return a.phrase.replace("TIME",this.formatTime(b))};
b.prototype.formatTime=function(a){var b;b=function(a,b){a=Math.floor(a);1!==a&&(b+="s");return"in "+a+" "+b};if(0===Math.floor(a))return"now...";if(60>a)return b(a,"second");a/=60;return 60>a?b(a,"minute"):b(a/60,"hour")};b.prototype.startCountdown=function(a,b){var e,f,g,h,k=this;if(null==this._timers[a])return e=this.$message.find("[data-action='"+a+"'] .messenger-phrase"),f=null!=(h=b.delay)?h:3,10>=f?(this.$message.removeClass("messenger-retry-later"),this.$message.addClass("messenger-retry-soon")):
(this.$message.removeClass("messenger-retry-soon"),this.$message.addClass("messenger-retry-later")),g=function(){var h;e.text(k.renderPhrase(b,f));if(0<f)return h=Math.min(f,1),f-=h,k._timers[a]=setTimeout(g,1E3*h);k.$message.removeClass("messenger-retry-soon messenger-retry-later");delete k._timers[a];return b.action()},g()};return b}(l);k=function(b){function e(){return e.__super__.constructor.apply(this,arguments)}q(e,b);e.prototype.tagName="ul";e.prototype.className="messenger";e.prototype.messageDefaults=
{type:"info"};e.prototype.initialize=function(b){this.options=null!=b?b:{};this.history=[];return this.messageDefaults=a.extend({},this.messageDefaults,this.options.messageDefaults)};e.prototype.render=function(){return this.updateMessageSlotClasses()};e.prototype.findById=function(a){return f.filter(this.history,function(b){return b.msg.options.id===a})};e.prototype._reserveMessageSlot=function(b){var e,f,g=this;e=a("<li>");e.addClass("messenger-message-slot");this.$el.prepend(e);this.history.push({msg:b,
$slot:e});this._enforceIdConstraint(b);for(b.on("update",function(){return g._enforceIdConstraint(b)});this.options.maxMessages&&this.history.length>this.options.maxMessages;)f=this.history.shift(),f.msg.remove(),f.$slot.remove();return e};e.prototype._enforceIdConstraint=function(a){var b,e,f,g;if(null!=a.options.id)for(g=this.history,e=0,f=g.length;e<f;e++)if(b=g[e],b=b.msg,null!=b.options.id&&b.options.id===a.options.id&&a!==b)if(a.options.singleton){a.hide();break}else b.hide()};e.prototype.newMessage=
function(a){var b,e,f,h,k=this;null==a&&(a={});a.messenger=this;l=null!=(e=null!=(f=Messenger.themes[null!=(h=a.theme)?h:this.options.theme])?f.Message:void 0)?e:g;b=new l(a);b.on("show",function(){if(a.scrollTo&&"fixed"!==k.$el.css("position"))return b.scrollTo()});b.on("hide show render",this.updateMessageSlotClasses,this);return b};e.prototype.updateMessageSlotClasses=function(){var a,b,e,f,g,h,k;f=!0;b=null;a=!1;k=this.history;g=0;for(h=k.length;g<h;g++)e=k[g],e.$slot.removeClass("messenger-first messenger-last messenger-shown"),
e.msg.shown&&e.msg.rendered&&(e.$slot.addClass("messenger-shown"),a=!0,b=e,f&&(f=!1,e.$slot.addClass("messenger-first")));null!=b&&b.$slot.addClass("messenger-last");return this.$el[""+(a?"remove":"add")+"Class"]("messenger-empty")};e.prototype.hideAll=function(){var a,b,e,f,g;f=this.history;g=[];b=0;for(e=f.length;b<e;b++)a=f[b],g.push(a.msg.hide());return g};e.prototype.post=function(b){var e;f.isString(b)&&(b={message:b});b=a.extend(!0,{},this.messageDefaults,b);e=this.newMessage(b);e.update(b);
return e};return e}(e);h=function(b){function e(){return e.__super__.constructor.apply(this,arguments)}q(e,b);e.prototype.doDefaults={progressMessage:null,successMessage:null,errorMessage:"Error connecting to the server.",showSuccessWithoutError:!0,retry:{auto:!0,allow:!0},action:a.ajax};e.prototype.hookBackboneAjax=function(b){var e,g=this;null==b&&(b={});if(null==window.Backbone)throw"Expected Backbone to be defined";b=f.defaults(b,{id:"BACKBONE_ACTION",errorMessage:!1,successMessage:"Request completed successfully.",
showSuccessWithoutError:!1});e=function(a){var e;e=f.extend({},b,a.messenger);return g["do"](e,a)};if(null!=Backbone.ajax){Backbone.ajax._withoutMessenger&&(Backbone.ajax=Backbone.ajax._withoutMessenger);if(null==b.action||b.action===this.doDefaults.action)b.action=Backbone.ajax;e._withoutMessenger=Backbone.ajax;return Backbone.ajax=e}return Backbone.sync=f.wrap(Backbone.sync,function(){var b,f,g;g=arguments[0];b=2<=arguments.length?r.call(arguments,1):[];f=a.ajax;a.ajax=e;g.call.apply(g,[this].concat(r.call(b)));
return a.ajax=f})};e.prototype._getHandlerResponse=function(a){return!1===a?!1:!0===a||null==a?!0:a};e.prototype._parseEvents=function(a){var b,e,f,g,h;null==a&&(a={});g={};for(f in a)e=a[f],b=f.indexOf(" "),h=f.substring(0,b),b=f.substring(b+1),null==g[h]&&(g[h]={}),g[h][b]=e;return g};e.prototype._normalizeResponse=function(){var a,b,e,g,h,k,l;e=1<=arguments.length?r.call(arguments,0):[];a=h=g=null;k=0;for(l=e.length;k<l;k++)b=e[k],"success"===b||"timeout"===b||"abort"===b?g=b:null!=(null!=b?b.readyState:
void 0)&&null!=(null!=b?b.responseText:void 0)?h=b:f.isObject(b)&&(a=b);return[g,a,h]};e.prototype.run=function(){var b,e,g,h,k,l,m,n,p,q=this;l=arguments[0];n=arguments[1];b=3<=arguments.length?r.call(arguments,2):[];null==n&&(n={});l=a.extend(!0,{},this.messageDefaults,this.doDefaults,null!=l?l:{});e=this._parseEvents(l.events);g=function(a,b){var e;e=l[a+"Message"];return f.isFunction(e)?e.call(q,a,b):e};m=null!=(h=l.messageInstance)?h:this.newMessage(l);null!=l.id&&(m.options.id=l.id);null!=l.progressMessage&&
m.update(a.extend({},l,{message:g("progress",null),type:"info"}));k={};f.each(["error","success"],function(h){var p;p=n[h];return k[h]=function(){var k,w,u,y,H,D,Y,N;w=1<=arguments.length?r.call(arguments,0):[];y=q._normalizeResponse.apply(q,w);k=y[0];y=y[2];"success"===h&&null==m.errorCount&&!1===l.showSuccessWithoutError&&(l.successMessage=null);"error"===h&&(null==l.errorCount&&(l.errorCount=0),l.errorCount+=1);w=l.returnsPromise?w[0]:"function"===typeof p?p.apply(null,w):void 0;w=q._getHandlerResponse(w);
f.isString(w)&&(w={message:w});if("error"!==h||0!==(null!=y?y.status:void 0)&&"abort"!==k)if("error"===h&&null!=l.ignoredErrorCodes&&(H=null!=y?y.status:void 0,0<=t.call(l.ignoredErrorCodes,H)))m.hide();else return k={message:g(h,y),type:h,events:null!=(D=e[h])?D:{},hideOnNavigate:"success"===h},u=a.extend({},l,k,w),"number"===typeof(null!=(Y=u.retry)?Y.allow:void 0)&&u.retry.allow--,"error"===h&&500<=(null!=y?y.status:void 0)&&null!=(N=u.retry)&&N.allow?(null==u.retry.delay&&(u.retry.delay=4>u.errorCount?
10:300),u.hideAfter&&(null==u._hideAfter&&(u._hideAfter=u.hideAfter),u.hideAfter=u._hideAfter+u.retry.delay),u._retryActions=!0,u.actions={retry:{label:"retry now",phrase:"Retrying TIME",auto:u.retry.auto,delay:u.retry.delay,action:function(){u.messageInstance=m;return setTimeout(function(){return q["do"].apply(q,[u,n].concat(r.call(b)))},0)}},cancel:{action:function(){return m.cancel()}}}):u._retryActions&&(delete u.actions.retry,delete u.actions.cancel,delete l._retryActions),m.update(u),w&&u.message?
(Messenger(f.extend({},q.options,{instance:q})),m.show()):m.hide();else m.hide()}});if(!l.returnsPromise)for(p in k)h=k[p],n[p]=h;m._actionInstance=l.action.apply(l,[n].concat(r.call(b)));l.returnsPromise&&m._actionInstance.then(k.success,k.error);return m};e.prototype["do"]=e.prototype.run;e.prototype.ajax=function(){var b,e;e=arguments[0];b=2<=arguments.length?r.call(arguments,1):[];e.action=a.ajax;return this.run.apply(this,[e].concat(r.call(b)))};e.prototype.expectPromise=function(a,b){b=f.extend({},
b,{action:a,returnsPromise:!0});return this.run(b)};e.prototype.error=function(a){null==a&&(a={});"string"===typeof a&&(a={message:a});a.type="error";return this.post(a)};e.prototype.info=function(a){null==a&&(a={});"string"===typeof a&&(a={message:a});a.type="info";return this.post(a)};e.prototype.success=function(a){null==a&&(a={});"string"===typeof a&&(a={message:a});a.type="success";return this.post(a)};return e}(k);a.fn.messenger=function(){var b,e,g,l,m;e=arguments[0];b=2<=arguments.length?
r.call(arguments,1):[];null==e&&(e={});if(null!=e&&f.isString(e))return(m=this.data("messenger"))[e].apply(m,b);b=e;null==this.data("messenger")&&(k=null!=(g=null!=(l=Messenger.themes[b.theme])?l.Messenger:void 0)?g:h,this.data("messenger",g=new k(a.extend({el:this},b))),g.render());return this.data("messenger")};window.Messenger._call=function(b){var e,f,g,h,k,l,m;b=a.extend({extraClasses:"messenger-fixed messenger-on-bottom messenger-on-right",theme:"future",maxMessages:9,parentLocations:["body"]},
a._messengerDefaults,Messenger.options,b);null!=b.theme&&(b.extraClasses+=" messenger-theme-"+b.theme);e=b.instance||Messenger.instance;if(null==b.instance){k=b.parentLocations;f=null;l=0;for(m=k.length;l<m;l++)if(h=k[l],f=a(h),f.length){g=h;break}e?a(e._location).is(a(g))||(e.$el.detach(),f.prepend(e.$el)):(e=a("<ul>"),f.prepend(e),e=e.messenger(b),e._location=g,Messenger.instance=e)}null!=e._addedClasses&&e.$el.removeClass(e._addedClasses);e.$el.addClass(b=""+e.className+" "+b.extraClasses);e._addedClasses=
b;return e};a.extend(Messenger,{Message:g,Messenger:h,themes:null!=(m=Messenger.themes)?m:{}});a.globalMessenger=window.Messenger=Messenger}).call(this);(function(a){var h=function(e,b){this.options=a.extend({},a.fn.editableform.defaults,b);this.$div=a(e);this.options.scope||(this.options.scope=this)};h.prototype={constructor:h,initInput:function(){this.input=this.options.input;this.value=this.input.str2value(this.options.value);this.input.prerender()},initTemplate:function(){this.$form=a(a.fn.editableform.template)},initButtons:function(){var e=this.$form.find(".editable-buttons");e.append(a.fn.editableform.buttons);"bottom"===this.options.showbuttons&&
e.addClass("editable-buttons-bottom")},render:function(){this.$loading=a(a.fn.editableform.loading);this.$div.empty().append(this.$loading);this.initTemplate();this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove();this.showLoading();this.isSaving=!1;this.$div.triggerHandler("rendering");this.initInput();this.$form.find("div.editable-input").append(this.input.$tpl);this.$div.append(this.$form);a.when(this.input.render()).then(a.proxy(function(){this.options.showbuttons||
this.input.autosubmit();this.$form.find(".editable-cancel").click(a.proxy(this.cancel,this));this.input.error?(this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(a){a.preventDefault()})):(this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled"),this.input.value2input(null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:
this.value),this.$form.submit(a.proxy(this.submit,this)));this.$div.triggerHandler("rendered");this.showForm();this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var a,b;this.$form?(a=this.$form.outerWidth(),b=this.$form.outerHeight(),a&&this.$loading.width(a),b&&this.$loading.height(b),this.$form.hide()):(a=this.$loading.parent().width())&&this.$loading.width(a);this.$loading.show()},showForm:function(a){this.$loading.hide();
this.$form.show();!1!==a&&this.input.activate();this.$div.triggerHandler("show")},error:function(e){var b=this.$form.find(".control-group"),g=this.$form.find(".editable-error-block");if(!1===e)b.removeClass(a.fn.editableform.errorGroupClass),g.removeClass(a.fn.editableform.errorBlockClass).empty().hide();else{if(e){e=(""+e).split("\n");for(var f=0;f<e.length;f++)e[f]=a("<div>").text(e[f]).html();e=e.join("<br>")}b.addClass(a.fn.editableform.errorGroupClass);g.addClass(a.fn.editableform.errorBlockClass).html(e).show()}},
submit:function(e){e.stopPropagation();e.preventDefault();var b=this.input.input2value();e=this.validate(b);if("object"===a.type(e)&&void 0!==e.newValue){if(b=e.newValue,this.input.value2input(b),"string"===typeof e.msg){this.error(e.msg);this.showForm();return}}else if(e){this.error(e);this.showForm();return}if(this.options.savenochange||this.input.value2str(b)!=this.input.value2str(this.value)){var g=this.input.value2submit(b);this.isSaving=!0;a.when(this.save(g)).done(a.proxy(function(a){this.isSaving=
!1;var e="function"===typeof this.options.success?this.options.success.call(this.options.scope,a,b):null;!1===e?(this.error(!1),this.showForm(!1)):"string"===typeof e?(this.error(e),this.showForm()):(e&&"object"===typeof e&&e.hasOwnProperty("newValue")&&(b=e.newValue),this.error(!1),this.value=b,this.$div.triggerHandler("save",{newValue:b,submitValue:g,response:a}))},this)).fail(a.proxy(function(a){this.isSaving=!1;a="function"===typeof this.options.error?this.options.error.call(this.options.scope,
a,b):"string"===typeof a?a:a.responseText||a.statusText||"Unknown error!";this.error(a);this.showForm()},this))}else this.$div.triggerHandler("nochange")},save:function(e){this.options.pk=a.fn.editableutils.tryParseJson(this.options.pk,!0);var b="function"===typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk;if("function"===typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==b&&void 0!==b))return this.showLoading(),
e={name:this.options.name||"",value:e,pk:b},"function"===typeof this.options.params?e=this.options.params.call(this.options.scope,e):(this.options.params=a.fn.editableutils.tryParseJson(this.options.params,!0),a.extend(e,this.options.params)),"function"===typeof this.options.url?this.options.url.call(this.options.scope,e):a.ajax(a.extend({url:this.options.url,data:e,type:"POST"},this.options.ajaxOptions))},validate:function(a){void 0===a&&(a=this.value);if("function"===typeof this.options.validate)return this.options.validate.call(this.options.scope,
a)},option:function(a,b){a in this.options&&(this.options[a]=b);"value"===a&&this.setValue(b)},setValue:function(a,b){this.value=b?this.input.str2value(a):a;this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}};a.fn.editableform=function(e){var b=arguments;return this.each(function(){var g=a(this),f=g.data("editableform"),l="object"===typeof e&&e;f||g.data("editableform",f=new h(this,l));"string"===typeof e&&f[e].apply(f,Array.prototype.slice.call(b,1))})};a.fn.editableform.Constructor=
h;a.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1};a.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>';a.fn.editableform.loading='<div class="editableform-loading"></div>';
a.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>';a.fn.editableform.errorGroupClass=null;a.fn.editableform.errorBlockClass="editable-error";a.fn.editableform.engine="jquery"})(window.jQuery);
(function(a){a.fn.editableutils={inherit:function(a,e){var b=function(){};b.prototype=e.prototype;a.prototype=new b;a.prototype.constructor=a;a.superclass=e.prototype},setCursorPosition:function(a,e){if(a.setSelectionRange)a.setSelectionRange(e,e);else if(a.createTextRange){var b=a.createTextRange();b.collapse(!0);b.moveEnd("character",e);b.moveStart("character",e);b.select()}},tryParseJson:function(a,e){if("string"===typeof a&&a.length&&a.match(/^[\{\[].*[\}\]]$/))if(e)try{a=(new Function("return "+
a))()}catch(b){}finally{}else a=(new Function("return "+a))();return a},sliceObj:function(h,e,b){var g,f,l={};if(!a.isArray(e)||!e.length)return l;for(var k=0;k<e.length;k++)g=e[k],h.hasOwnProperty(g)&&(l[g]=h[g]),!0!==b&&(f=g.toLowerCase(),h.hasOwnProperty(f)&&(l[g]=h[f]));return l},getConfigData:function(h){var e={};a.each(h.data(),function(a,g){if("object"!==typeof g||g&&"object"===typeof g&&(g.constructor===Object||g.constructor===Array))e[a]=g});return e},objectKeys:function(a){if(Object.keys)return Object.keys(a);
if(a!==Object(a))throw new TypeError("Object.keys called on a non-object");var e=[],b;for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&e.push(b);return e},escape:function(h){return a("<div>").text(h).html()},itemsByValue:function(h,e,b){if(!e||null===h)return[];if("function"!==typeof b){var g=b||"value";b=function(a){return a[g]}}var f=a.isArray(h),l=[],k=this;a.each(e,function(e,g){if(g.children)l=l.concat(k.itemsByValue(h,g.children,b));else if(f)a.grep(h,function(a){return a==(g&&"object"===
typeof g?b(g):g)}).length&&l.push(g);else{var p=g&&"object"===typeof g?b(g):g;h==p&&l.push(g)}});return l},createInput:function(h){var e;e=h.type;"date"===e&&("inline"===h.mode?a.fn.editabletypes.datefield?e="datefield":a.fn.editabletypes.dateuifield&&(e="dateuifield"):a.fn.editabletypes.date?e="date":a.fn.editabletypes.dateui&&(e="dateui"),"date"!==e||a.fn.editabletypes.date||(e="combodate"));"datetime"===e&&"inline"===h.mode&&(e="datetimefield");"wysihtml5"!==e||a.fn.editabletypes[e]||(e="textarea");
if("function"===typeof a.fn.editabletypes[e])return e=a.fn.editabletypes[e],h=this.sliceObj(h,this.objectKeys(e.defaults)),h=new e(h);a.error("Unknown type: "+e);return!1},supportsTransitions:function(){var a=(document.body||document.documentElement).style,e="transition",b=["Moz","Webkit","Khtml","O","ms"];if("string"===typeof a[e])return!0;for(var e=e.charAt(0).toUpperCase()+e.substr(1),g=0;g<b.length;g++)if("string"===typeof a[b[g]+e])return!0;return!1}}})(window.jQuery);
(function(a){var h=function(a,e){this.init(a,e)},e=function(a,e){this.init(a,e)};h.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(b,e){this.$element=a(b);this.options=a.extend({},a.fn.editableContainer.defaults,e);this.splitOptions();this.formOptions.scope=this.$element[0];this.initContainer();this.delayedHide=!1;this.$element.on("destroyed",a.proxy(function(){this.destroy()},this));a(document).data("editable-handlers-attached")||
(a(document).on("keyup.editable",function(b){27===b.which&&a(".editable-open").editableContainer("hide")}),a(document).on("click.editable",function(b){var e=a(b.target),g,n=".editable-container .ui-datepicker-header .datepicker .modal-backdrop .bootstrap-wysihtml5-insert-image-modal .bootstrap-wysihtml5-insert-link-modal".split(" ");if(a.contains(document.documentElement,b.target)&&!e.is(document)){for(g=0;g<n.length;g++)if(e.is(n[g])||e.parents(n[g]).length)return;h.prototype.closeOthers(b.target)}}),
a(document).data("editable-handlers-attached",!0))},splitOptions:function(){this.containerOptions={};this.formOptions={};if(!a.fn[this.containerName])throw Error(this.containerName+" not found. Have you included corresponding js file?");for(var b in this.options)b in this.defaults?this.containerOptions[b]=this.options[b]:this.formOptions[b]=this.options[b]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var a;return this.containerDataName&&(a=this.$element.data(this.containerDataName))?
a:a=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:a.proxy(this.save,this),nochange:a.proxy(function(){this.hide("nochange")},this),cancel:a.proxy(function(){this.hide("cancel")},this),show:a.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},
this),rendering:a.proxy(this.setPosition,this),resize:a.proxy(this.setPosition,this),rendered:a.proxy(function(){this.$element.triggerHandler("shown",a(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(b){this.$element.addClass("editable-open");!1!==b&&this.closeOthers(this.$element[0]);this.innerShow();this.tip().addClass(this.containerClass);this.$form=a("<div>");this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form);
this.renderForm()},hide:function(a){this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")&&(this.$form.data("editableform").isSaving?this.delayedHide={reason:a}:(this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",a||"manual")))},innerShow:function(){},innerHide:function(){},toggle:function(a){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(a)},setPosition:function(){},save:function(a,
e){this.$element.triggerHandler("save",e);this.hide("save")},option:function(a,e){this.options[a]=e;a in this.containerOptions?(this.containerOptions[a]=e,this.setContainerOption(a,e)):(this.formOptions[a]=e,this.$form&&this.$form.editableform("option",a,e))},setContainerOption:function(a,e){this.call("option",a,e)},destroy:function(){this.hide();this.innerDestroy();this.$element.off("destroyed");this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(b){a(".editable-open").each(function(e,
f){if(f!==b&&!a(f).find(b).length){var h=a(f),k=h.data("editableContainer");k&&("cancel"===k.options.onblur?h.data("editableContainer").hide("onblur"):"submit"===k.options.onblur&&h.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}};a.fn.editableContainer=function(b){var g=arguments;return this.each(function(){var f=a(this),l=f.data("editableContainer"),k="object"===typeof b&&
b,n="inline"===k.mode?e:h;l||f.data("editableContainer",l=new n(this,k));"string"===typeof b&&l[b].apply(l,Array.prototype.slice.call(g,1))})};a.fn.editableContainer.Popup=h;a.fn.editableContainer.Inline=e;a.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"};jQuery.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(window.jQuery);
(function(a){a.extend(a.fn.editableContainer.Inline.prototype,a.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=a("<span></span>");this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={};this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide();this.tip().insertAfter(this.$element).show()},
innerHide:function(){this.$tip.hide(this.options.anim,a.proxy(function(){this.$element.show();this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})})(window.jQuery);
(function(a){var h=function(e,b){this.$element=a(e);this.options=a.extend({},a.fn.editable.defaults,b,a.fn.editableutils.getConfigData(this.$element));this.options.selector?this.initLive():this.init();this.options.highlight&&!a.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};h.prototype={constructor:h,init:function(){var e=!1;this.options.name=this.options.name||this.$element.attr("id");this.options.scope=this.$element[0];if(this.input=a.fn.editableutils.createInput(this.options)){void 0===
this.options.value||null===this.options.value?(this.value=this.input.html2value(a.trim(this.$element.html())),e=!0):(this.options.value=a.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"===typeof this.options.value?this.input.str2value(this.options.value):this.options.value);this.$element.addClass("editable");"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped");"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+
".editable",a.proxy(function(a){this.options.disabled||a.preventDefault();"mouseenter"===this.options.toggle?this.show():this.toggle("click"!==this.options.toggle)},this))):this.$element.attr("tabindex",-1);"function"===typeof this.options.display&&(this.options.autotext="always");switch(this.options.autotext){case "always":e=!0;break;case "auto":e=!a.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!e;break;default:e=!1}a.when(e?this.render():!0).then(a.proxy(function(){this.options.disabled?
this.disable():this.enable();this.$element.triggerHandler("init",this)},this))}},initLive:function(){var e=this.options.selector;this.options.selector=!1;this.options.autotext="never";this.$element.on(this.options.toggle+".editable",e,a.proxy(function(b){var e=a(b.target);e.data("editable")||(e.hasClass(this.options.emptyclass)&&e.empty(),e.editable(this.options).trigger(b))},this))},render:function(a){if(!1!==this.options.display)return this.input.value2htmlFinal?this.input.value2html(this.value,
this.$element[0],this.options.display,a):"function"===typeof this.options.display?this.options.display.call(this.$element[0],this.value,a):this.input.value2html(this.value,this.$element[0])},enable:function(){this.options.disabled=!1;this.$element.removeClass("editable-disabled");this.handleEmpty(this.isEmpty);"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0;this.hide();this.$element.addClass("editable-disabled");
this.handleEmpty(this.isEmpty);this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(e,b){if(e&&"object"===typeof e)a.each(e,a.proxy(function(b,e){this.option(a.trim(b),e)},this));else{this.options[e]=b;if("disabled"===e)return b?this.disable():this.enable();"value"===e&&this.setValue(b);this.container&&this.container.option(e,b);this.input.option&&this.input.option(e,b)}},handleEmpty:function(e){!1!==this.options.display&&
((this.isEmpty=void 0!==e?e:"function"===typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===a.trim(this.$element.html()),this.options.disabled)?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(e){if(!this.options.disabled){if(!this.container){var b=
a.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(b);this.$element.on("save.internal",a.proxy(this.save,this));this.container=this.$element.data("editableContainer")}else if(this.container.tip().is(":visible"))return;this.container.show(e)}},hide:function(){this.container&&this.container.hide()},toggle:function(a){this.container&&this.container.tip().is(":visible")?this.hide():this.show(a)},save:function(a,b){if(this.options.unsavedclass){var g;(g=(g=(g=
(g="function"===typeof this.options.url)||!1===this.options.display)||void 0!==b.response)||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(b.newValue))?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var f=this.$element,h=f.css("background-color");f.css("background-color",this.options.highlight);setTimeout(function(){"transparent"===h&&(h="");f.css("background-color",h);f.addClass("editable-bg-transition");
setTimeout(function(){f.removeClass("editable-bg-transition")},1700)},10)}this.setValue(b.newValue,!1,b.response)},validate:function(){if("function"===typeof this.options.validate)return this.options.validate.call(this,this.value)},setValue:function(e,b,g){this.value=b?this.input.str2value(e):e;this.container&&this.container.option("value",this.value);a.when(this.render(g)).then(a.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable();
this.container&&this.container.destroy();this.input.destroy();"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable"));this.$element.off("save.internal");this.$element.removeClass("editable editable-open editable-disabled");this.$element.removeData("editable")}};a.fn.editable=function(e){var b={},g=arguments;switch(e){case "validate":return this.each(function(){var e=a(this).data("editable"),f;e&&(f=e.validate())&&(b[e.options.name]=
f)}),b;case "getValue":return 2===arguments.length&&!0===arguments[1]?b=this.eq(0).data("editable").value:this.each(function(){var e=a(this).data("editable");e&&void 0!==e.value&&null!==e.value&&(b[e.options.name]=e.input.value2submit(e.value))}),b;case "submit":var f=arguments[1]||{},l=this,k=this.editable("validate");if(a.isEmptyObject(k)){var n={};1===l.length?(k=l.data("editable"),n={name:k.options.name||"",value:k.input.value2submit(k.value),pk:"function"===typeof k.options.pk?k.options.pk.call(k.options.scope):
k.options.pk},"function"===typeof k.options.params?n=k.options.params.call(k.options.scope,n):(k.options.params=a.fn.editableutils.tryParseJson(k.options.params,!0),a.extend(n,k.options.params)),n={url:k.options.url,data:n,type:"POST"},f.success=f.success||k.options.success,f.error=f.error||k.options.error):(k=this.editable("getValue"),n={url:f.url,data:k,type:"POST"});n.success="function"===typeof f.success?function(a){f.success.call(l,a,f)}:a.noop;n.error="function"===typeof f.error?function(){f.error.apply(l,
arguments)}:a.noop;f.ajaxOptions&&a.extend(n,f.ajaxOptions);f.data&&a.extend(n.data,f.data);a.ajax(n)}else"function"===typeof f.error&&f.error.call(l,k);return this}return this.each(function(){var b=a(this),f=b.data("editable"),k="object"===typeof e&&e;k&&k.selector?new h(this,k):(f||b.data("editable",f=new h(this,k)),"string"===typeof e&&f[e].apply(f,Array.prototype.slice.call(g,1)))})};a.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,
emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}})(window.jQuery);
(function(a){a.fn.editabletypes={};var h=function(){};h.prototype={init:function(e,b,g){this.type=e;this.options=a.extend({},g,b)},prerender:function(){this.$input=this.$tpl=a(this.options.tpl);this.error=this.$clear=null},render:function(){},value2html:function(e,b){a(b)[this.options.escape?"text":"html"](a.trim(e))},html2value:function(e){return a("<div>").html(e).text()},value2str:function(a){return a},str2value:function(a){return a},value2submit:function(a){return a},value2input:function(a){this.$input.val(a)},
input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(e){return a("<div>").text(e).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(a){void 0!==this.options[a]&&null!==this.options[a]&&this.$input.attr(a,this.options[a])},option:function(a,b){this.options[a]=b}};h.defaults=
{tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0};a.extend(a.fn.editabletypes,{abstractinput:h})})(window.jQuery);
(function(a){var h=function(a){};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{render:function(){var e=a.Deferred();this.error=null;this.onSourceReady(function(){this.renderList();e.resolve()},function(){this.error=this.options.sourceError;e.resolve()});return e.promise()},html2value:function(a){return null},value2html:function(e,b,g,f){var h=a.Deferred(),k=function(){"function"===typeof g?g.call(b,e,this.sourceData,f):this.value2htmlFinal(e,b);h.resolve()};
if(null===e)k.call(this);else this.onSourceReady(k,function(){h.resolve()});return h.promise()},onSourceReady:function(e,b){var g;a.isFunction(this.options.source)?(g=this.options.source.call(this.options.scope),this.sourceData=null):g=this.options.source;if(this.options.sourceCache&&a.isArray(this.sourceData))e.call(this);else{try{g=a.fn.editableutils.tryParseJson(g,!1)}catch(f){b.call(this);return}if("string"===typeof g){if(this.options.sourceCache){var h=g,k;a(document).data(h)||a(document).data(h,
{});k=a(document).data(h);if(!1===k.loading&&k.sourceData){this.sourceData=k.sourceData;this.doPrepend();e.call(this);return}if(!0===k.loading){k.callbacks.push(a.proxy(function(){this.sourceData=k.sourceData;this.doPrepend();e.call(this)},this));k.err_callbacks.push(a.proxy(b,this));return}k.loading=!0;k.callbacks=[];k.err_callbacks=[]}g=a.extend({url:g,type:"get",cache:!1,dataType:"json",success:a.proxy(function(f){k&&(k.loading=!1);this.sourceData=this.makeArray(f);a.isArray(this.sourceData)?(k&&
(k.sourceData=this.sourceData,a.each(k.callbacks,function(){this.call()})),this.doPrepend(),e.call(this)):(b.call(this),k&&a.each(k.err_callbacks,function(){this.call()}))},this),error:a.proxy(function(){b.call(this);k&&(k.loading=!1,a.each(k.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);a.ajax(g)}else this.sourceData=this.makeArray(g),a.isArray(this.sourceData)?(this.doPrepend(),e.call(this)):b.call(this)}},doPrepend:function(){null!==this.options.prepend&&void 0!==
this.options.prepend&&(a.isArray(this.prependData)||(a.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=a.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"===typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),a.isArray(this.prependData)&&a.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},
value2htmlFinal:function(a,b){},makeArray:function(e){var b,g,f=[],h,k;if(!e||"string"===typeof e)return null;if(a.isArray(e)){k=function(a,e){g={value:a,text:e};if(2<=b++)return!1};for(var n=0;n<e.length;n++)h=e[n],"object"===typeof h?(b=0,a.each(h,k),1===b?f.push(g):1<b&&(h.children&&(h.children=this.makeArray(h.children)),f.push(h))):f.push({value:h,text:h})}else a.each(e,function(a,b){f.push({value:a,text:b})});return f},option:function(a,b){this.options[a]=b;"source"===a&&(this.sourceData=null);
"prepend"===a&&(this.prependData=null)}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null});a.fn.editabletypes.list=h})(window.jQuery);
(function(a){var h=function(a){this.init("text",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),a.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=a('<span class="editable-clear-x"></span>'),
this.$input.after(this.$clear).css("padding-right",24).keyup(a.proxy(function(e){if(!~a.inArray(e.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var b=this;this.t=setTimeout(function(){b.toggleClear(e)},100)}},this)).parent().css("position","relative"),this.$clear.click(a.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(a){if(this.$clear){a=this.$input.val().length;var b=this.$clear.is(":visible");a&&!b&&this.$clear.show();!a&&b&&this.$clear.hide()}},clear:function(){this.$clear.hide();
this.$input.val("").focus()}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0});a.fn.editabletypes.text=h})(window.jQuery);
(function(a){var h=function(a){this.init("textarea",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{render:function(){this.setClass();this.setAttr("placeholder");this.setAttr("rows");this.$input.keydown(function(e){e.ctrlKey&&13===e.which&&a(this).closest("form").submit()})},activate:function(){a.fn.editabletypes.text.prototype.activate.call(this)}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",
placeholder:null,rows:7});a.fn.editabletypes.textarea=h})(window.jQuery);
(function(a){var h=function(a){this.init("select",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.list);a.extend(h.prototype,{renderList:function(){this.$input.empty();var e=function(b,g){var f;if(a.isArray(g))for(var h=0;h<g.length;h++)f={},g[h].children?(f.label=g[h].text,b.append(e(a("<optgroup>",f),g[h].children))):(f.value=g[h].value,g[h].disabled&&(f.disabled=!0),b.append(a("<option>",f).text(g[h].text)));return b};e(this.$input,this.sourceData);this.setClass();this.$input.on("keydown.editable",
function(b){13===b.which&&a(this).closest("form").submit()})},value2htmlFinal:function(e,b){var g="",f=a.fn.editableutils.itemsByValue(e,this.sourceData);f.length&&(g=f[0].text);a.fn.editabletypes.abstractinput.prototype.value2html.call(this,g,b)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){a(this).closest("form").submit()})}});h.defaults=a.extend({},a.fn.editabletypes.list.defaults,{tpl:"<select></select>"});a.fn.editabletypes.select=h})(window.jQuery);
(function(a){var h=function(a){this.init("checklist",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.list);a.extend(h.prototype,{renderList:function(){var e;this.$tpl.empty();if(a.isArray(this.sourceData)){for(var b=0;b<this.sourceData.length;b++)e=a("<label>").append(a("<input>",{type:"checkbox",value:this.sourceData[b].value})).append(a("<span>").text(" "+this.sourceData[b].text)),a("<div>").append(e).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]');this.setClass()}},
value2str:function(e){return a.isArray(e)?e.sort().join(a.trim(this.options.separator)):""},str2value:function(e){var b;b=null;"string"===typeof e&&e.length?(b=new RegExp("\\s*"+a.trim(this.options.separator)+"\\s*"),b=e.split(b)):b=a.isArray(e)?e:[e];return b},value2input:function(e){this.$input.prop("checked",!1);a.isArray(e)&&e.length&&this.$input.each(function(b,g){var f=a(g);a.each(e,function(a,b){f.val()==b&&f.prop("checked",!0)})})},input2value:function(){var e=[];this.$input.filter(":checked").each(function(b,
g){e.push(a(g).val())});return e},value2htmlFinal:function(e,b){var g=[],f=a.fn.editableutils.itemsByValue(e,this.sourceData),h=this.options.escape;f.length?(a.each(f,function(b,e){var f=h?a.fn.editableutils.escape(e.text):e.text;g.push(f)}),a(b).html(g.join("<br>"))):a(b).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(e){13===e.which&&a(this).closest("form").submit()})}});h.defaults=a.extend({},a.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',
inputclass:null,separator:","});a.fn.editabletypes.checklist=h})(window.jQuery);(function(a){var h=function(a){this.init("password",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.text);a.extend(h.prototype,{value2html:function(e,b){e?a(b).text("[hidden]"):a(b).empty()},html2value:function(a){return null}});h.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="password">'});a.fn.editabletypes.password=h})(window.jQuery);
(function(a){var h=function(a){this.init("email",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.text);h.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="email">'});a.fn.editabletypes.email=h})(window.jQuery);(function(a){var h=function(a){this.init("url",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.text);h.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="url">'});a.fn.editabletypes.url=h})(window.jQuery);
(function(a){var h=function(a){this.init("tel",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.text);h.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'});a.fn.editabletypes.tel=h})(window.jQuery);
(function(a){var h=function(a){this.init("number",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.text);a.extend(h.prototype,{render:function(){h.superclass.render.call(this);this.setAttr("min");this.setAttr("max");this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}});h.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null});a.fn.editabletypes.number=h})(window.jQuery);
(function(a){var h=function(a){this.init("range",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.number);a.extend(h.prototype,{render:function(){this.$input=this.$tpl.filter("input");this.setClass();this.setAttr("min");this.setAttr("max");this.setAttr("step");this.$input.on("input",function(){a(this).siblings("output").text(a(this).val())})},activate:function(){this.$input.focus()}});h.defaults=a.extend({},a.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',
inputclass:"input-medium"});a.fn.editabletypes.range=h})(window.jQuery);(function(a){var h=function(a){this.init("time",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{render:function(){this.setClass()}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'});a.fn.editabletypes.time=h})(window.jQuery);
(function(a){var h=function(e){this.init("select2",e,h.defaults);e.select2=e.select2||{};this.sourceData=null;e.placeholder&&(e.select2.placeholder=e.placeholder);if(!e.select2.tags&&e.source){var b=e.source;a.isFunction(e.source)&&(b=e.source.call(e.scope));"string"===typeof b?(e.select2.ajax=e.select2.ajax||{},e.select2.ajax.data||(e.select2.ajax.data=function(a){return{query:a}}),e.select2.ajax.results||(e.select2.ajax.results=function(a){return{results:a}}),e.select2.ajax.url=b):(this.sourceData=
this.convertSource(b),e.select2.data=this.sourceData)}this.options.select2=a.extend({},h.defaults.select2,e.select2);this.isMultiple=this.options.select2.tags||this.options.select2.multiple;this.isRemote="ajax"in this.options.select2;this.idFunc=this.options.select2.id;if("function"!==typeof this.idFunc){var g=this.idFunc||"id";this.idFunc=function(a){return a[g]}}this.formatSelection=this.options.select2.formatSelection;"function"!==typeof this.formatSelection&&(this.formatSelection=function(a){return a.text})};
a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{render:function(){this.setClass();if(this.isRemote)this.$input.on("select2-loaded",a.proxy(function(a){this.sourceData=a.items.results},this));if(this.isMultiple)this.$input.on("change",function(){a(this).closest("form").parent().triggerHandler("resize")})},value2html:function(e,b){var g="",f,l=this;this.options.select2.tags?f=e:this.sourceData&&(f=a.fn.editableutils.itemsByValue(e,this.sourceData,this.idFunc));a.isArray(f)?
(g=[],a.each(f,function(a,b){g.push(b&&"object"===typeof b?l.formatSelection(b):b)})):f&&(g=l.formatSelection(f));g=a.isArray(g)?g.join(this.options.viewseparator):g;h.superclass.value2html.call(this,g,b)},html2value:function(a){return this.options.select2.tags?this.str2value(a,this.options.viewseparator):null},value2input:function(e){a.isArray(e)&&(e=e.join(this.getSeparator()));this.$input.data("select2")?this.$input.val(e).trigger("change",!0):(this.$input.val(e),this.$input.select2(this.options.select2));
if(this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var b=this.options.select2.formatSelection;this.options.select2.id||b||(b=a(this.options.scope),b.data("editable").isEmpty||(e={id:e,text:b.text()},this.$input.select2("data",e)))}},input2value:function(){return this.$input.select2("val")},str2value:function(e,b){if("string"!==typeof e||!this.isMultiple)return e;b=b||this.getSeparator();var g,f,h;if(null===e||1>e.length)return null;g=e.split(b);f=0;for(h=g.length;f<h;f+=1)g[f]=
a.trim(g[f]);return g},autosubmit:function(){this.$input.on("change",function(e,b){b||a(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||a.fn.select2.defaults.separator},convertSource:function(e){if(a.isArray(e)&&e.length&&void 0!==e[0].value)for(var b=0;b<e.length;b++)void 0!==e[b].value&&(e[b].id=e[b].value,delete e[b].value);return e},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,
{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "});a.fn.editabletypes.select2=h})(window.jQuery);
(function(a){var h=function(e,b){this.$element=a(e);this.$element.is("input")?(this.options=a.extend({},a.fn.combodate.defaults,b,this.$element.data()),this.init()):a.error("Combodate should be applied to INPUT element")};h.prototype={constructor:h,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]};this.$widget=a('<span class="combodate"></span>').html(this.getTemplate());this.initCombos();
this.$widget.on("change","select",a.proxy(function(e){this.$element.val(this.getValue()).change();this.options.smartDays&&(a(e.target).is(".month")||a(e.target).is(".year"))&&this.fillCombo("day")},this));this.$widget.find("select").css("width","auto");this.$element.hide().after(this.$widget);this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var e=this.options.template;a.each(this.map,function(a,g){g=g[0];var f=new RegExp(g+"+"),h=1<g.length?g.substring(1,2):g;e=e.replace(f,
"{"+h+"}")});e=e.replace(/ /g,"&nbsp;");a.each(this.map,function(a,g){g=g[0];var f=1<g.length?g.substring(1,2):g;e=e.replace("{"+f+"}",'<select class="'+a+'"></select>')});return e},initCombos:function(){for(var a in this.map){var b=this.$widget.find("."+a);this["$"+a]=b.length?b:null;this.fillCombo(a)}},fillCombo:function(a){var b=this["$"+a];if(b){a=this["fill"+a.charAt(0).toUpperCase()+a.slice(1)]();var g=b.val();b.empty();for(var f=0;f<a.length;f++)b.append('<option value="'+a[f][0]+'">'+a[f][1]+
"</option>");b.val(g)}},fillCommon:function(a){var b=[],g;"name"===this.options.firstItem?(g=moment.relativeTime||moment.langData()._relativeTime,a="function"===typeof g[a]?g[a](1,!0,a,!1):g[a],a=a.split(" ").reverse()[0],b.push(["",a])):"empty"===this.options.firstItem&&b.push(["",""]);return b},fillDay:function(){var a=this.fillCommon("d"),b,g,f=-1!==this.options.template.indexOf("DD"),h=31;this.options.smartDays&&this.$month&&this.$year&&(b=parseInt(this.$month.val(),10),g=parseInt(this.$year.val(),
10),isNaN(b)||isNaN(g)||(h=moment([g,b]).daysInMonth()));for(g=1;g<=h;g++)b=f?this.leadZero(g):g,a.push([g,b]);return a},fillMonth:function(){var a=this.fillCommon("M"),b,g,f=-1!==this.options.template.indexOf("MMMM"),h=-1!==this.options.template.indexOf("MMM"),k=-1!==this.options.template.indexOf("MM");for(g=0;11>=g;g++)b=f?moment().date(1).month(g).format("MMMM"):h?moment().date(1).month(g).format("MMM"):k?this.leadZero(g+1):g+1,a.push([g,b]);return a},fillYear:function(){var a=[],b,g,f=-1!==this.options.template.indexOf("YYYY");
for(g=this.options.maxYear;g>=this.options.minYear;g--)b=f?g:(g+"").substring(2),a[this.options.yearDescending?"push":"unshift"]([g,b]);return a=this.fillCommon("y").concat(a)},fillHour:function(){var a=this.fillCommon("h"),b,g;b=-1!==this.options.template.indexOf("h");this.options.template.indexOf("H");var f=-1!==this.options.template.toLowerCase().indexOf("hh"),h=b?12:23;for(g=b?1:0;g<=h;g++)b=f?this.leadZero(g):g,a.push([g,b]);return a},fillMinute:function(){var a=this.fillCommon("m"),b,g,f=-1!==
this.options.template.indexOf("mm");for(g=0;59>=g;g+=this.options.minuteStep)b=f?this.leadZero(g):g,a.push([g,b]);return a},fillSecond:function(){var a=this.fillCommon("s"),b,g,f=-1!==this.options.template.indexOf("ss");for(g=0;59>=g;g+=this.options.secondStep)b=f?this.leadZero(g):g,a.push([g,b]);return a},fillAmpm:function(){var a=-1!==this.options.template.indexOf("a");this.options.template.indexOf("A");return[["am",a?"am":"AM"],["pm",a?"pm":"PM"]]},getValue:function(e){var b,g={},f=this,h=!1;a.each(this.map,
function(a,b){if("ampm"!==a){var e="day"===a?1:0;g[a]=f["$"+a]?parseInt(f["$"+a].val(),10):e;if(isNaN(g[a]))return h=!0,!1}});if(h)return"";this.$ampm&&(g.hour=12===g.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?g.hour:g.hour+12);b=moment([g.year,g.month,g.day,g.hour,g.minute,g.second]);this.highlight(b);e=void 0===e?this.options.format:e;return null===e?b.isValid()?b:null:b.isValid()?b.format(e):""},setValue:function(e){function b(b,e){var f={};b.children("option").each(function(b,g){var h=
a(g).attr("value"),k;""!==h&&(k=Math.abs(h-e),"undefined"===typeof f.distance||k<f.distance)&&(f={value:h,distance:k})});return f.value}if(e){var g="string"===typeof e?moment(e,this.options.format):moment(e),f=this,h={};g.isValid()&&(a.each(this.map,function(a,b){"ampm"!==a&&(h[a]=g[b[1]]())}),this.$ampm&&(12<=h.hour?(h.ampm="pm",12<h.hour&&(h.hour-=12)):(h.ampm="am",0===h.hour&&(h.hour=12))),a.each(h,function(a,e){f["$"+a]&&("minute"===a&&1<f.options.minuteStep&&f.options.roundTime&&(e=b(f["$"+a],
e)),"second"===a&&1<f.options.secondStep&&f.options.roundTime&&(e=b(f["$"+a],e)),f["$"+a].val(e))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(g.format(this.options.format)).change())}},highlight:function(a){a.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),
this.$widget.find("select").css("border-color","red"))},leadZero:function(a){return 9>=a?"0"+a:a},destroy:function(){this.$widget.remove();this.$element.removeData("combodate").show()}};a.fn.combodate=function(e){var b,g=Array.apply(null,arguments);g.shift();return"getValue"===e&&this.length&&(b=this.eq(0).data("combodate"))?b.getValue.apply(b,g):this.each(function(){var b=a(this),l=b.data("combodate"),k="object"==typeof e&&e;l||b.data("combodate",l=new h(this,k));"string"==typeof e&&"function"==
typeof l[e]&&l[e].apply(l,g)})};a.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}})(window.jQuery);
(function(a){var h=function(e){this.init("combodate",e,h.defaults);this.options.viewformat||(this.options.viewformat=this.options.format);e.combodate=a.fn.editableutils.tryParseJson(e.combodate,!0);this.options.combodate=a.extend({},h.defaults.combodate,e.combodate,{format:this.options.format,template:this.options.template})};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{render:function(){this.$input.combodate(this.options.combodate);"bs3"===a.fn.editableform.engine&&
this.$input.siblings().find("select").addClass("form-control");this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(a,b){var g=a?a.format(this.options.viewformat):"";h.superclass.value2html.call(this,g,b)},html2value:function(a){return a?moment(a,this.options.viewformat):null},value2str:function(a){return a?a.format(this.options.format):""},str2value:function(a){return a?moment(a,this.options.format):null},value2submit:function(a){return this.value2str(a)},
value2input:function(a){this.$input.combodate("setValue",a)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null});a.fn.editabletypes.combodate=h})(window.jQuery);
(function(a){var h=a.fn.editableform.Constructor.prototype.initInput;a.extend(a.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=a(a.fn.editableform.template);this.$form.find(".control-group").addClass("form-group");this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){h.apply(this);var e=null===this.input.options.inputclass||!1===this.input.options.inputclass;~a.inArray(this.input.type,"text select textarea password email url tel number range time typeaheadjs".split(" "))&&
(this.input.$input.addClass("form-control"),e&&(this.input.options.inputclass="input-sm input-transparent",this.input.$input.addClass("input-sm input-transparent")));for(var b=this.$form.find(".editable-buttons"),e=e?["input-sm input-transparent"]:this.input.options.inputclass.split(" "),g=0;g<e.length;g++)"input-lg"===e[g].toLowerCase()&&b.find("button").removeClass("btn-sm").addClass("btn-lg")}});a.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="fa-check"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="fa-remove"></i></button>';
a.fn.editableform.errorGroupClass="has-error";a.fn.editableform.errorBlockClass=null;a.fn.editableform.engine="bs3"})(window.jQuery);
(function(a){a.extend(a.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:a.fn.popover.Constructor.DEFAULTS,initContainer:function(){a.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var h;this.$element.data("template")&&(h=this.$element.data("template"),this.$element.removeData("template"));this.call(this.containerOptions);h&&this.$element.data("template",h)},innerShow:function(){this.call("show")},
innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(a,e){this.container().options[a]=e},setPosition:function(){(function(){var a=this.tip(),e="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,b=/\s?auto?\s?/i,g=b.test(e);g&&(e=e.replace(b,"")||"top");var b=this.getPosition(),f=a[0].offsetWidth,l=a[0].offsetHeight;if(g){var k=this.$element.parent(),g=e,n=document.documentElement.scrollTop||
document.body.scrollTop,m="body"==this.options.container?window.innerWidth:k.outerWidth(),p="body"==this.options.container?window.innerHeight:k.outerHeight(),k="body"==this.options.container?0:k.offset().left,e="bottom"==e&&b.top+b.height+l-n>p?"top":"top"==e&&0>b.top-n-l?"bottom":"right"==e&&b.right+f>m?"left":"left"==e&&b.left-f<k?"right":e;a.removeClass(g).addClass(e)}a=this.getCalculatedOffset(e,b,f,l);this.applyPlacement(a,e)}).call(this.container())}})})(window.jQuery);
(function(a){function h(){return new Date(Date.UTC.apply(Date,arguments))}function e(b,e){var f=a(b).data(),g={},h,k=new RegExp("^"+e.toLowerCase()+"([A-Z])");e=new RegExp("^"+e.toLowerCase());for(var l in f)e.test(l)&&(h=l.replace(k,function(a,b){return b.toLowerCase()}),g[h]=f[l]);return g}function b(b){var e={};if(!p[b]&&(b=b.split("-")[0],!p[b]))return;var f=p[b];a.each(m,function(a,b){b in f&&(e[b]=f[b])});return e}var g=function(b,e){this._process_options(e);this.element=a(b);this.isInline=
!1;this.isInput=this.element.is("input");this.hasInput=(this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1)&&this.element.find("input").length;this.component&&0===this.component.length&&(this.component=!1);this.picker=a(q.template);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right"));
this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(a,b){return parseInt(b)+1});this._allow_update=!1;this.setStartDate(this.o.startDate);this.setEndDate(this.o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()};g.prototype={constructor:g,_process_options:function(b){this._o=a.extend({},this._o,b);b=this.o=a.extend({},
this._o);var e=b.language;p[e]||(e=e.split("-")[0],p[e]||(e=n.language));b.language=e;switch(b.startView){case 2:case "decade":b.startView=2;break;case 1:case "year":b.startView=1;break;default:b.startView=0}switch(b.minViewMode){case 1:case "months":b.minViewMode=1;break;case 2:case "years":b.minViewMode=2;break;default:b.minViewMode=0}b.startView=Math.max(b.startView,b.minViewMode);b.weekStart%=7;b.weekEnd=(b.weekStart+6)%7;e=q.parseFormat(b.format);-Infinity!==b.startDate&&(b.startDate=q.parseDate(b.startDate,
e,b.language));Infinity!==b.endDate&&(b.endDate=q.parseDate(b.endDate,e,b.language));b.daysOfWeekDisabled=b.daysOfWeekDisabled||[];a.isArray(b.daysOfWeekDisabled)||(b.daysOfWeekDisabled=b.daysOfWeekDisabled.split(/[,\s]*/));b.daysOfWeekDisabled=a.map(b.daysOfWeekDisabled,function(a){return parseInt(a,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var b=0,e,f;b<a.length;b++)e=a[b][0],f=a[b][1],e.on(f)},_unapplyEvents:function(a){for(var b=0,e,f;b<a.length;b++)e=a[b][0],f=a[b][1],
e.off(f)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this),keydown:a.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this),keydown:a.proxy(this.keydown,this)}],[this.component,{click:a.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:a.proxy(this.show,this)}]];this._secondaryEvents=
[[this.picker,{click:a.proxy(this.click,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{mousedown:a.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).size()||this.picker.is(a.target)||this.picker.find(a.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},
_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(b,e){var f=e||this.date,g=new Date(f.getTime()+6E4*f.getTimezoneOffset());this.element.trigger({type:b,date:g,format:a.proxy(function(a){return q.formatDate(f,a||this.o.format,this.o.language)},this)})},show:function(a){this.isInline||this.picker.appendTo("body");this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();
a&&a.preventDefault();this._trigger("show")},hide:function(a){!this.isInline&&this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;this.isInput||
delete this.element.data().date},getDate:function(){var a=this.getUTCDate();return new Date(a.getTime()+6E4*a.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(a){this.setUTCDate(new Date(a.getTime()-6E4*a.getTimezoneOffset()))},setUTCDate:function(a){this.date=a;this.setValue()},setValue:function(){var a=this.getFormattedDate();this.isInput?this.element.val(a):this.component&&this.element.find("input").val(a)},getFormattedDate:function(a){void 0===a&&(a=this.o.format);
return q.formatDate(this.date,a,this.o.language)},setStartDate:function(a){this._process_options({startDate:a});this.update();this.updateNavArrows()},setEndDate:function(a){this._process_options({endDate:a});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(a){this._process_options({daysOfWeekDisabled:a});this.update();this.updateNavArrows()},place:function(){if(!this.isInline){var b=parseInt(this.element.parents().filter(function(){return"auto"!=a(this).css("z-index")}).first().css("z-index"))+
10,e=this.component?this.component.parent().offset():this.element.offset(),f=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:e.top+f,left:e.left,zIndex:b})}},_allow_update:!0,update:function(){if(this._allow_update){var a,b=!1;arguments&&arguments.length&&("string"===typeof arguments[0]||arguments[0]instanceof Date)?(a=arguments[0],b=!0):(a=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date);
this.date=q.parseDate(a,this.o.format,this.o.language);b&&this.setValue();this.viewDate=this.date<this.o.startDate?new Date(this.o.startDate):this.date>this.o.endDate?new Date(this.o.endDate):new Date(this.date);this.fill()}},fillDow:function(){var a=this.o.weekStart,b="<tr>";this.o.calendarWeeks&&(b+='<th class="cw">&nbsp;</th>',this.picker.find(".datepicker-days thead tr:first-child").prepend('<th class="cw">&nbsp;</th>'));for(;a<this.o.weekStart+7;)b+='<th class="dow">'+p[this.o.language].daysMin[a++%
7]+"</th>";b+="</tr>";this.picker.find(".datepicker-days thead").append(b)},fillMonths:function(){for(var a="",b=0;12>b;)a+='<span class="month">'+p[this.o.language].monthsShort[b++]+"</span>";this.picker.find(".datepicker-months td").html(a)},setRange:function(b){b&&b.length?this.range=a.map(b,function(a){return a.valueOf()}):delete this.range;this.fill()},getClassNames:function(b){var e=[],f=this.viewDate.getUTCFullYear(),g=this.viewDate.getUTCMonth(),h=this.date.valueOf(),k=new Date;b.getUTCFullYear()<
f||b.getUTCFullYear()==f&&b.getUTCMonth()<g?e.push("old"):(b.getUTCFullYear()>f||b.getUTCFullYear()==f&&b.getUTCMonth()>g)&&e.push("new");this.o.todayHighlight&&b.getUTCFullYear()==k.getFullYear()&&b.getUTCMonth()==k.getMonth()&&b.getUTCDate()==k.getDate()&&e.push("today");h&&b.valueOf()==h&&e.push("active");(b.valueOf()<this.o.startDate||b.valueOf()>this.o.endDate||-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekDisabled))&&e.push("disabled");this.range&&(b>this.range[0]&&b<this.range[this.range.length-
1]&&e.push("range"),-1!=a.inArray(b.valueOf(),this.range)&&e.push("selected"));return e},fill:function(){var b=new Date(this.viewDate),e=b.getUTCFullYear(),f=b.getUTCMonth(),b=-Infinity!==this.o.startDate?this.o.startDate.getUTCFullYear():-Infinity,g=-Infinity!==this.o.startDate?this.o.startDate.getUTCMonth():-Infinity,k=Infinity!==this.o.endDate?this.o.endDate.getUTCFullYear():Infinity,l=Infinity!==this.o.endDate?this.o.endDate.getUTCMonth():Infinity,m;this.picker.find(".datepicker-days thead th.datepicker-switch").text(p[this.o.language].months[f]+
" "+e);this.picker.find("tfoot th.today").text(p[this.o.language].today).toggle(!1!==this.o.todayBtn);this.picker.find("tfoot th.clear").text(p[this.o.language].clear).toggle(!1!==this.o.clearBtn);this.updateNavArrows();this.fillMonths();var n=h(e,f-1,28,0,0,0,0),f=q.getDaysInMonth(n.getUTCFullYear(),n.getUTCMonth());n.setUTCDate(f);n.setUTCDate(f-(n.getUTCDay()-this.o.weekStart+7)%7);var w=new Date(n);w.setUTCDate(w.getUTCDate()+42);for(var w=w.valueOf(),f=[],A;n.valueOf()<w;){if(n.getUTCDay()==
this.o.weekStart&&(f.push("<tr>"),this.o.calendarWeeks)){A=new Date(+n+(this.o.weekStart-n.getUTCDay()-7)%7*864E5);A=new Date(+A+(11-A.getUTCDay())%7*864E5);var C=new Date(+(C=h(A.getUTCFullYear(),0,1))+(11-C.getUTCDay())%7*864E5);f.push('<td class="cw">'+((A-C)/864E5/7+1)+"</td>")}A=this.getClassNames(n);A.push("day");var E=this.o.beforeShowDay(n);void 0===E?E={}:"boolean"===typeof E?E={enabled:E}:"string"===typeof E&&(E={classes:E});!1===E.enabled&&A.push("disabled");E.classes&&(A=A.concat(E.classes.split(/\s+/)));
E.tooltip&&(m=E.tooltip);A=a.unique(A);f.push('<td class="'+A.join(" ")+'"'+(m?' title="'+m+'"':"")+">"+n.getUTCDate()+"</td>");n.getUTCDay()==this.o.weekEnd&&f.push("</tr>");n.setUTCDate(n.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(f.join(""));m=this.date&&this.date.getUTCFullYear();f=this.picker.find(".datepicker-months").find("th:eq(1)").text(e).end().find("span").removeClass("active");m&&m==e&&f.eq(this.date.getUTCMonth()).addClass("active");(e<b||e>k)&&f.addClass("disabled");
e==b&&f.slice(0,g).addClass("disabled");e==k&&f.slice(l+1).addClass("disabled");f="";e=10*parseInt(e/10,10);g=this.picker.find(".datepicker-years").find("th:eq(1)").text(e+"-"+(e+9)).end().find("td");--e;for(l=-1;11>l;l++)f+='<span class="year'+(-1==l?" old":10==l?" new":"")+(m==e?" active":"")+(e<b||e>k?" disabled":"")+'">'+e+"</span>",e+=1;g.html(f)},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getUTCFullYear(),a=a.getUTCMonth();switch(this.viewMode){case 0:-Infinity!==
this.o.startDate&&b<=this.o.startDate.getUTCFullYear()&&a<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()&&a>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:-Infinity!==this.o.startDate&&b<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):
this.picker.find(".prev").css({visibility:"visible"}),Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(b){b.preventDefault();b=a(b.target).closest("span, td, th");if(1==b.length)switch(b[0].nodeName.toLowerCase()){case "th":switch(b[0].className){case "datepicker-switch":this.showMode(1);break;case "prev":case "next":b=q.modes[this.viewMode].navStep*("prev"==b[0].className?
-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,b);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,b)}this.fill();break;case "today":b=new Date;b=h(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0);this.showMode(-2);this._setDate(b,"linked"==this.o.todayBtn?null:"view");break;case "clear":var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input"));e&&e.val("").change();this._trigger("changeDate");this.update();this.o.autoclose&&this.hide()}break;
case "span":if(!b.is(".disabled")){this.viewDate.setUTCDate(1);if(b.is(".month")){e=1;var f=b.parent().find("span").index(b),g=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(f);this._trigger("changeMonth",this.viewDate);1===this.o.minViewMode&&this._setDate(h(g,f,e,0,0,0,0))}else g=parseInt(b.text(),10)||0,e=1,f=0,this.viewDate.setUTCFullYear(g),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(h(g,f,e,0,0,0,0));this.showMode(-1);this.fill()}break;case "td":b.is(".day")&&
!b.is(".disabled")&&(e=parseInt(b.text(),10)||1,g=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),b.is(".old")?0===f?(f=11,--g):--f:b.is(".new")&&(11==f?(f=0,g+=1):f+=1),this._setDate(h(g,f,e,0,0,0,0)))}},_setDate:function(a,b){b&&"date"!=b||(this.date=new Date(a));b&&"view"!=b||(this.viewDate=new Date(a));this.fill();this.setValue();this._trigger("changeDate");var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input"));e&&(e.change(),!this.o.autoclose||b&&"date"!=
b||this.hide())},moveMonth:function(a,b){if(!b)return a;var e=new Date(a.valueOf()),f=e.getUTCDate(),g=e.getUTCMonth(),h=Math.abs(b),k;b=0<b?1:-1;if(1==h){if(h=-1==b?function(){return e.getUTCMonth()==g}:function(){return e.getUTCMonth()!=k},k=g+b,e.setUTCMonth(k),0>k||11<k)k=(k+12)%12}else{for(var l=0;l<h;l++)e=this.moveMonth(e,b);k=e.getUTCMonth();e.setUTCDate(f);h=function(){return k!=e.getUTCMonth()}}for(;h();)e.setUTCDate(--f),e.setUTCMonth(k);return e},moveYear:function(a,b){return this.moveMonth(a,
12*b)},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(this.picker.is(":not(:visible)"))27==a.keyCode&&this.show();else{var b=!1,e,f,g;switch(a.keyCode){case 27:this.hide();a.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37==a.keyCode?-1:1;a.ctrlKey?(f=this.moveYear(this.date,e),g=this.moveYear(this.viewDate,e)):a.shiftKey?(f=this.moveMonth(this.date,e),g=this.moveMonth(this.viewDate,e)):(f=new Date(this.date),f.setUTCDate(this.date.getUTCDate()+
e),g=new Date(this.viewDate),g.setUTCDate(this.viewDate.getUTCDate()+e));this.dateWithinRange(f)&&(this.date=f,this.viewDate=g,this.setValue(),this.update(),a.preventDefault(),b=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38==a.keyCode?-1:1;a.ctrlKey?(f=this.moveYear(this.date,e),g=this.moveYear(this.viewDate,e)):a.shiftKey?(f=this.moveMonth(this.date,e),g=this.moveMonth(this.viewDate,e)):(f=new Date(this.date),f.setUTCDate(this.date.getUTCDate()+7*e),g=new Date(this.viewDate),
g.setUTCDate(this.viewDate.getUTCDate()+7*e));this.dateWithinRange(f)&&(this.date=f,this.viewDate=g,this.setValue(),this.update(),a.preventDefault(),b=!0);break;case 13:this.hide();a.preventDefault();break;case 9:this.hide()}if(b){this._trigger("changeDate");var h;this.isInput?h=this.element:this.component&&(h=this.element.find("input"));h&&h.change()}}},showMode:function(a){a&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+a)));this.picker.find(">div").hide().filter(".datepicker-"+
q.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var f=function(b,e){this.element=a(b);this.inputs=a.map(e.inputs,function(a){return a.jquery?a[0]:a});delete e.inputs;a(this.inputs).datepicker(e).bind("changeDate",a.proxy(this.dateUpdated,this));this.pickers=a.map(this.inputs,function(b){return a(b).data("datepicker")});this.updateDates()};f.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(a){return a.date});this.updateRanges()},updateRanges:function(){var b=
a.map(this.dates,function(a){return a.valueOf()});a.each(this.pickers,function(a,e){e.setRange(b)})},dateUpdated:function(b){var e=a(b.target).data("datepicker").getUTCDate();b=a.inArray(b.target,this.inputs);var f=this.inputs.length;if(-1!=b){if(e<this.dates[b])for(;0<=b&&e<this.dates[b];)this.pickers[b--].setUTCDate(e);else if(e>this.dates[b])for(;b<f&&e>this.dates[b];)this.pickers[b++].setUTCDate(e);this.updateDates()}},remove:function(){a.map(this.pickers,function(a){a.remove()});delete this.element.data().datepicker}};
var l=a.fn.datepicker,k=a.fn.datepicker=function(h){var k=Array.apply(null,arguments);k.shift();var l;this.each(function(){var m=a(this),p=m.data("datepicker"),q="object"==typeof h&&h;if(!p){var p=e(this,"date"),B=a.extend({},n,p,q),B=b(B.language),q=a.extend({},n,B,p,q);m.is(".input-daterange")||q.inputs?(p={inputs:q.inputs||m.find("input").toArray()},m.data("datepicker",p=new f(this,a.extend(q,p)))):m.data("datepicker",p=new g(this,q))}if("string"==typeof h&&"function"==typeof p[h]&&(l=p[h].apply(p,
k),void 0!==l))return!1});return void 0!==l?l:this},n=a.fn.datepicker.defaults={autoclose:!1,beforeShowDay:a.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},m=a.fn.datepicker.locale_opts=["format","rtl","weekStart"];a.fn.datepicker.Constructor=g;var p=a.fn.datepicker.dates={en:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
daysShort:"Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),daysMin:"Su Mo Tu We Th Fr Sa Su".split(" "),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),today:"Today",clear:"Clear"}},q={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return 0===a%4&&0!==a%
100||0===a%400},getDaysInMonth:function(a,b){return[31,q.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(a){var b=a.replace(this.validParts,"\x00").split("\x00");a=a.match(this.validParts);if(!b||!b.length||!a||0===a.length)throw Error("Invalid date format.");return{separators:b,parts:a}},parseDate:function(b,e,f){if(b instanceof Date)return b;"string"===typeof e&&(e=q.parseFormat(e));
if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(b)){var k=/([\-+]\d+)([dmwy])/,l=b.match(/([\-+]\d+)([dmwy])/g),m;b=new Date;for(var n=0;n<l.length;n++)switch(e=k.exec(l[n]),m=parseInt(e[1]),e[2]){case "d":b.setUTCDate(b.getUTCDate()+m);break;case "m":b=g.prototype.moveMonth.call(g.prototype,b,m);break;case "w":b.setUTCDate(b.getUTCDate()+7*m);break;case "y":b=g.prototype.moveYear.call(g.prototype,b,m)}return h(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),0,0,0)}l=b&&b.match(this.nonpunctuation)||
[];b=new Date;var k={},D="yyyy yy M MM m mm d dd".split(" ");m={yyyy:function(a,b){return a.setUTCFullYear(b)},yy:function(a,b){return a.setUTCFullYear(2E3+b)},m:function(a,b){for(--b;0>b;)b+=12;b%=12;for(a.setUTCMonth(b);a.getUTCMonth()!=b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};var w;m.M=m.MM=m.mm=m.m;m.dd=m.d;b=h(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0);var A=e.parts.slice();l.length!=A.length&&(A=a(A).filter(function(b,e){return-1!==a.inArray(e,
D)}).toArray());if(l.length==A.length){for(var n=0,C=A.length;n<C;n++){w=parseInt(l[n],10);e=A[n];if(isNaN(w))switch(e){case "MM":w=a(p[f].months).filter(function(){var a=this.slice(0,l[n].length),b=l[n].slice(0,a.length);return a==b});w=a.inArray(w[0],p[f].months)+1;break;case "M":w=a(p[f].monthsShort).filter(function(){var a=this.slice(0,l[n].length),b=l[n].slice(0,a.length);return a==b}),w=a.inArray(w[0],p[f].monthsShort)+1}k[e]=w}for(n=0;n<D.length;n++)if(e=D[n],e in k&&!isNaN(k[e]))m[e](b,k[e])}return b},
formatDate:function(b,e,f){"string"===typeof e&&(e=q.parseFormat(e));f={d:b.getUTCDate(),D:p[f].daysShort[b.getUTCDay()],DD:p[f].days[b.getUTCDay()],m:b.getUTCMonth()+1,M:p[f].monthsShort[b.getUTCMonth()],MM:p[f].months[b.getUTCMonth()],yy:b.getUTCFullYear().toString().substring(2),yyyy:b.getUTCFullYear()};f.dd=(10>f.d?"0":"")+f.d;f.mm=(10>f.m?"0":"")+f.m;b=[];for(var g=a.extend([],e.separators),h=0,k=e.parts.length;h<=k;h++)g.length&&b.push(g.shift()),b.push(f[e.parts[h]]);return b.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',
contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};q.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+q.headTemplate+"<tbody></tbody>"+q.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+q.headTemplate+q.contTemplate+q.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+
q.headTemplate+q.contTemplate+q.footTemplate+"</table></div></div>";a.fn.datepicker.DPGlobal=q;a.fn.datepicker.noConflict=function(){a.fn.datepicker=l;return this};a(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(b){var e=a(this);e.data("datepicker")||(b.preventDefault(),k.call(e,"show"))});a(function(){k.call(a('[data-provide="datepicker-inline"]'))})})(window.jQuery);
(function(a){a.fn.bdatepicker=a.fn.datepicker.noConflict();a.fn.datepicker||(a.fn.datepicker=a.fn.bdatepicker);var h=function(a){this.init("date",a,h.defaults);this.initPicker(a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{initPicker:function(e,b){this.options.viewformat||(this.options.viewformat=this.options.format);e.datepicker=a.fn.editableutils.tryParseJson(e.datepicker,!0);this.options.datepicker=a.extend({},b.datepicker,e.datepicker,{format:this.options.viewformat});
this.options.datepicker.language=this.options.datepicker.language||"en";this.dpg=a.fn.bdatepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker);this.options.clear&&(this.$clear=a('<a href="#"></a>').html(this.options.clear).click(a.proxy(function(a){a.preventDefault();a.stopPropagation();this.clear()},this)),this.$tpl.parent().append(a('<div class="editable-clear">').append(this.$clear)))},
value2html:function(a,b){var g=a?this.dpg.formatDate(a,this.parsedViewFormat,this.options.datepicker.language):"";h.superclass.value2html.call(this,g,b)},html2value:function(a){return this.parseDate(a,this.parsedViewFormat)},value2str:function(a){return a?this.dpg.formatDate(a,this.parsedFormat,this.options.datepicker.language):""},str2value:function(a){return this.parseDate(a,this.parsedFormat)},value2submit:function(a){return this.value2str(a)},value2input:function(a){this.$input.bdatepicker("update",
a)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null;this.$input.find(".active").removeClass("active");this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(e){if(!a(e.currentTarget).is(".old")&&!a(e.currentTarget).is(".new")){var b=a(this).closest("form");setTimeout(function(){b.submit()},200)}})},parseDate:function(a,b){var g=
null,f;a&&(g=this.dpg.parseDate(a,b,this.options.datepicker.language),"string"===typeof a&&(f=this.dpg.formatDate(g,b,this.options.datepicker.language),a!==f&&(g=null)));return g}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"});a.fn.editabletypes.date=h})(window.jQuery);
(function(a){var h=function(a){this.init("datefield",a,h.defaults);this.initPicker(a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.date);a.extend(h.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.bdatepicker(this.options.datepicker);this.$input.off("focus keydown");this.$input.keyup(a.proxy(function(){this.$tpl.removeData("date");this.$tpl.bdatepicker("update")},this))},value2input:function(a){this.$input.val(a?
this.dpg.formatDate(a,this.parsedViewFormat,this.options.datepicker.language):"");this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){a.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});h.defaults=a.extend({},a.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,
startView:0,minViewMode:0,autoclose:!0}});a.fn.editabletypes.datefield=h})(window.jQuery);
(function(a){var h=function(a){this.init("datetime",a,h.defaults);this.initPicker(a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{initPicker:function(e,b){this.options.viewformat||(this.options.viewformat=this.options.format);e.datetimepicker=a.fn.editableutils.tryParseJson(e.datetimepicker,!0);this.options.datetimepicker=a.extend({},b.datetimepicker,e.datetimepicker,{format:this.options.viewformat});this.options.datetimepicker.language=this.options.datetimepicker.language||
"en";this.dpg=a.fn.datetimepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker);this.$input.on("changeMode",function(e){var b=a(this).closest("form").parent();setTimeout(function(){b.triggerHandler("resize")},0)});this.options.clear&&(this.$clear=a('<a href="#"></a>').html(this.options.clear).click(a.proxy(function(a){a.preventDefault();
a.stopPropagation();this.clear()},this)),this.$tpl.parent().append(a('<div class="editable-clear">').append(this.$clear)))},value2html:function(a,b){var g=a?this.dpg.formatDate(this.toUTC(a),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";if(b)h.superclass.value2html.call(this,g,b);else return g},html2value:function(a){return(a=this.parseDate(a,this.parsedViewFormat))?this.fromUTC(a):null},value2str:function(a){return a?this.dpg.formatDate(this.toUTC(a),this.parsedFormat,
this.options.datetimepicker.language,this.options.formatType):""},str2value:function(a){return(a=this.parseDate(a,this.parsedFormat))?this.fromUTC(a):null},value2submit:function(a){return this.value2str(a)},value2input:function(a){a&&this.$input.data("datetimepicker").setDate(a)},input2value:function(){var a=this.$input.data("datetimepicker");return a.date?a.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null;this.$input.find(".active").removeClass("active");
this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(e){var b=a(this).closest("form");setTimeout(function(){b.submit()},200)})},toUTC:function(a){return a?new Date(a.valueOf()-6E4*a.getTimezoneOffset()):a},fromUTC:function(a){return a?new Date(a.valueOf()+6E4*a.getTimezoneOffset()):a},parseDate:function(a,b){var g=null,f;a&&(g=this.dpg.parseDate(a,b,this.options.datetimepicker.language,this.options.formatType),"string"===
typeof a&&(f=this.dpg.formatDate(g,b,this.options.datetimepicker.language,this.options.formatType),a!==f&&(g=null)));return g}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"});a.fn.editabletypes.datetime=h})(window.jQuery);
(function(a){var h=function(a){this.init("datetimefield",a,h.defaults);this.initPicker(a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.datetime);a.extend(h.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.datetimepicker(this.options.datetimepicker);this.$input.off("focus keydown");this.$input.keyup(a.proxy(function(){this.$tpl.removeData("date");this.$tpl.datetimepicker("update")},this))},value2input:function(a){this.$input.val(this.value2html(a));
this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){a.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});h.defaults=a.extend({},a.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}});a.fn.editabletypes.datetimefield=h})(window.jQuery);(function(a,h,e,b){function g(b,e){this.element=a(b);this.settings=a.extend({},l,e);this._defaults=l;this._name="bootstrapDropdownHover";this.init()}function f(b){a("body").one("touchstart.dropdownhover",function(){m=!0});a("body").one("mouseenter.dropdownhover",function(){m||(p=!0)});a(".dropdown-toggle, .dropdown-menu",b.element.parent()).on("mouseenter.dropdownhover",function(){p&&!a(this).is(":hover")&&(p=!1);p&&(clearTimeout(k),b.element.parent().hasClass("open")||(n=!1,b.element.dropdown("toggle")))});
a(".dropdown-toggle, .dropdown-menu",b.element.parent()).on("mouseleave.dropdownhover",function(){});b.element.on("click.dropdownhover",function(a){if(p)switch(b.settings.clickBehavior){case "disable":a.preventDefault();a.stopImmediatePropagation();break;case "sticky":n?n=!1:(n=!0,b.element.parent().hasClass("open")&&(a.stopImmediatePropagation(),a.preventDefault()))}})}var l={clickBehavior:"sticky",hideTimeout:200},k,n=!1,m=!1,p=!1;g.prototype={init:function(){this.setClickBehavior(this.settings.clickBehavior);
this.setHideTimeout(this.settings.hideTimeout);f(this);return this.element},setClickBehavior:function(a){this.settings.clickBehavior=a;return this.element},setHideTimeout:function(a){this.settings.hideTimeout=a;return this.element},destroy:function(){clearTimeout(k);a(".dropdown-toggle, .dropdown-menu",this.element.parent()).off(".dropdownhover");a(".dropdown-toggle, .dropdown-menu",this.element.parent()).off(".dropdown");this.element.off(".dropdownhover");a("body").off(".dropdownhover");this.element.data("plugin_bootstrapDropdownHover",
null);return this.element}};a.fn.bootstrapDropdownHover=function(f){var h=arguments;if(f===b||"object"===typeof f)return a.contains(e,a(this)[0])||a('[data-toggle="dropdown"]').each(function(b,e){a(e).bootstrapDropdownHover(f)}),this.each(function(){a(this).hasClass("dropdown-toggle")&&"dropdown"===a(this).data("toggle")?a.data(this,"plugin_bootstrapDropdownHover")||a.data(this,"plugin_bootstrapDropdownHover",new g(this,f)):a('[data-toggle="dropdown"]',this).each(function(b,e){a(e).bootstrapDropdownHover(f)})});
if("string"===typeof f&&"_"!==f[0]&&"init"!==f){var k;this.each(function(){var b=a.data(this,"plugin_bootstrapDropdownHover");b instanceof g&&"function"===typeof b[f]&&(k=b[f].apply(b,Array.prototype.slice.call(h,1)))});return k!==b?k:this}}})(jQuery,window,document);(function(a){var h=function(e,b){e=a(e);var g=this,f=[],h=a.extend({},a.fn.bootstrapWizard.defaults,b),k=null,n=null;this.rebindClick=function(a,b){a.unbind("click",b).bind("click",b)};this.fixNavigationButtons=function(){k.length||(n.find("a:first").tab("show"),k=n.find('li:has([data-toggle="tab"]):first'));a(h.previousSelector,e).toggleClass("disabled",g.firstIndex()>=g.currentIndex());a(h.nextSelector,e).toggleClass("disabled",g.currentIndex()>=g.navigationLength());a(h.nextSelector,e).toggleClass("hidden",
g.currentIndex()>=g.navigationLength()&&0<a(h.finishSelector,e).length);a(h.lastSelector,e).toggleClass("hidden",g.currentIndex()>=g.navigationLength()&&0<a(h.finishSelector,e).length);a(h.finishSelector,e).toggleClass("hidden",g.currentIndex()<g.navigationLength());a(h.backSelector,e).toggleClass("disabled",0==f.length);a(h.backSelector,e).toggleClass("hidden",g.currentIndex()>=g.navigationLength()&&0<a(h.finishSelector,e).length);g.rebindClick(a(h.nextSelector,e),g.next);g.rebindClick(a(h.previousSelector,
e),g.previous);g.rebindClick(a(h.lastSelector,e),g.last);g.rebindClick(a(h.firstSelector,e),g.first);g.rebindClick(a(h.finishSelector,e),g.finish);g.rebindClick(a(h.backSelector,e),g.back);if(h.onTabShow&&"function"===typeof h.onTabShow&&!1===h.onTabShow(k,n,g.currentIndex()))return!1};this.next=function(a){if(e.hasClass("last")||h.onNext&&"function"===typeof h.onNext&&!1===h.onNext(k,n,g.nextIndex()))return!1;a=g.currentIndex();var b=g.nextIndex();b>g.navigationLength()||(f.push(a),n.find('li:has([data-toggle="tab"])'+
(h.withVisible?":visible":"")+":eq("+b+") a").tab("show"))};this.previous=function(a){if(e.hasClass("first")||h.onPrevious&&"function"===typeof h.onPrevious&&!1===h.onPrevious(k,n,g.previousIndex()))return!1;a=g.currentIndex();var b=g.previousIndex();0>b||(f.push(a),n.find('li:has([data-toggle="tab"])'+(h.withVisible?":visible":"")+":eq("+b+") a").tab("show"))};this.first=function(a){if(h.onFirst&&"function"===typeof h.onFirst&&!1===h.onFirst(k,n,g.firstIndex())||e.hasClass("disabled"))return!1;f.push(g.currentIndex());
n.find('li:has([data-toggle="tab"]):eq(0) a').tab("show")};this.last=function(a){if(h.onLast&&"function"===typeof h.onLast&&!1===h.onLast(k,n,g.lastIndex())||e.hasClass("disabled"))return!1;f.push(g.currentIndex());n.find('li:has([data-toggle="tab"]):eq('+g.navigationLength()+") a").tab("show")};this.finish=function(a){if(h.onFinish&&"function"===typeof h.onFinish)h.onFinish(k,n,g.lastIndex())};this.back=function(){if(0==f.length)return null;var a=f.pop();if(h.onBack&&"function"===typeof h.onBack&&
!1===h.onBack(k,n,a))return f.push(a),!1;e.find('li:has([data-toggle="tab"]):eq('+a+") a").tab("show")};this.currentIndex=function(){return n.find('li:has([data-toggle="tab"])').index(k)};this.firstIndex=function(){return 0};this.lastIndex=function(){return g.navigationLength()};this.getIndex=function(a){return n.find('li:has([data-toggle="tab"])').index(a)};this.nextIndex=function(){return n.find('li:has([data-toggle="tab"])').index(k)+1};this.previousIndex=function(){return n.find('li:has([data-toggle="tab"])').index(k)-
1};this.navigationLength=function(){return n.find('li:has([data-toggle="tab"])').length-1};this.activeTab=function(){return k};this.nextTab=function(){return n.find('li:has([data-toggle="tab"]):eq('+(g.currentIndex()+1)+")").length?n.find('li:has([data-toggle="tab"]):eq('+(g.currentIndex()+1)+")"):null};this.previousTab=function(){return 0>=g.currentIndex()?null:n.find('li:has([data-toggle="tab"]):eq('+parseInt(g.currentIndex()-1)+")")};this.show=function(a){a=isNaN(a)?e.find('li:has([data-toggle="tab"]) a[href=#'+
a+"]"):e.find('li:has([data-toggle="tab"]):eq('+a+") a");0<a.length&&(f.push(g.currentIndex()),a.tab("show"))};this.disable=function(a){n.find('li:has([data-toggle="tab"]):eq('+a+")").addClass("disabled")};this.enable=function(a){n.find('li:has([data-toggle="tab"]):eq('+a+")").removeClass("disabled")};this.hide=function(a){n.find('li:has([data-toggle="tab"]):eq('+a+")").hide()};this.display=function(a){n.find('li:has([data-toggle="tab"]):eq('+a+")").show()};this.remove=function(b){var e="undefined"!=
typeof b[1]?b[1]:!1;b=n.find('li:has([data-toggle="tab"]):eq('+b[0]+")");e&&(e=b.find("a").attr("href"),a(e).remove());b.remove()};var m=function(b){var e=n.find('li:has([data-toggle="tab"])');b=e.index(a(b.currentTarget).parent('li:has([data-toggle="tab"])'));e=a(e[b]);if(h.onTabClick&&"function"===typeof h.onTabClick&&!1===h.onTabClick(k,n,g.currentIndex(),b,e))return!1},p=function(b){b=a(b.target).parent();var e=n.find('li:has([data-toggle="tab"])').index(b);if(b.hasClass("disabled")||h.onTabChange&&
"function"===typeof h.onTabChange&&!1===h.onTabChange(k,n,g.currentIndex(),e))return!1;k=b;g.fixNavigationButtons()};this.resetWizard=function(){a('a[data-toggle="tab"]',n).off("click",m);a('a[data-toggle="tab"]',n).off("shown shown.bs.tab",p);n=e.find("ul:first",e);k=n.find('li:has([data-toggle="tab"]).active',e);a('a[data-toggle="tab"]',n).on("click",m);a('a[data-toggle="tab"]',n).on("shown shown.bs.tab",p);g.fixNavigationButtons()};n=e.find("ul:first",e);k=n.find('li:has([data-toggle="tab"]).active',
e);n.hasClass(h.tabClass)||n.addClass(h.tabClass);if(h.onInit&&"function"===typeof h.onInit)h.onInit(k,n,0);if(h.onShow&&"function"===typeof h.onShow)h.onShow(k,n,g.nextIndex());a('a[data-toggle="tab"]',n).on("click",m);a('a[data-toggle="tab"]',n).on("shown shown.bs.tab",p)};a.fn.bootstrapWizard=function(e){if("string"==typeof e){var b=Array.prototype.slice.call(arguments,1);1===b.length&&b.toString();return this.data("bootstrapWizard")[e](b)}return this.each(function(b){b=a(this);if(!b.data("bootstrapWizard")){var f=
new h(b,e);b.data("bootstrapWizard",f);f.fixNavigationButtons()}})};a.fn.bootstrapWizard.defaults={withVisible:!0,tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",finishSelector:".wizard li.finish",backSelector:".wizard li.back",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onFinish:null,onBack:null,onTabChange:null,onTabClick:null,onTabShow:null}})(jQuery);(function(a,h){"function"===typeof define&&define.amd?define("sifter",h):"object"===typeof exports?module.exports=h():a.Sifter=h()})(this,function(){var a=function(a,b){this.items=a;this.settings=b||{diacritics:!0}};a.prototype.tokenize=function(a){a=(String(a||"").toLowerCase()+"").replace(/^\s+|\s+$|/g,"");if(!a||!a.length)return[];var b,e,f,h=[],q=a.split(/ +/);a=0;for(b=q.length;a<b;a++){e=(q[a]+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");if(this.settings.diacritics)for(f in g)g.hasOwnProperty(f)&&
(e=e.replace(new RegExp(f,"g"),g[f]));h.push({string:q[a],regex:new RegExp(e,"i")})}return h};a.prototype.iterator=function(a,e){(b(a)?Array.prototype.forEach||function(a){for(var b=0,e=this.length;b<e;b++)a(this[b],b,this)}:function(a){for(var b in this)this.hasOwnProperty(b)&&a(this[b],b,this)}).apply(a,[e])};a.prototype.getScoreFunction=function(a,b){var e,f,g;a=this.prepareSearch(a,b);f=a.tokens;e=a.options.fields;g=f.length;var h=function(a,b){var e,f;if(!a)return 0;a=String(a||"");f=a.search(b.regex);
if(-1===f)return 0;e=b.string.length/a.length;0===f&&(e+=.5);return e},r=function(){var a=e.length;return a?1===a?function(a,b){return h(b[e[0]],a)}:function(b,f){for(var g=0,k=0;g<a;g++)k+=h(f[e[g]],b);return k/a}:function(){return 0}}();return g?1===g?function(a){return r(f[0],a)}:"and"===a.options.conjunction?function(a){for(var b,e=0,h=0;e<g;e++){b=r(f[e],a);if(0>=b)return 0;h+=b}return h/g}:function(a){for(var b=0,e=0;b<g;b++)e+=r(f[b],a);return e/g}:function(){return 0}};a.prototype.getSortFunction=
function(a,b){var e,f,g,q,r,t,u,y,x,z;g=this;a=g.prepareSearch(a,b);z=!a.query&&b.sort_empty||b.sort;x=function(a,b){return"$score"===a?b.score:g.items[b.id][a]};r=[];if(z)for(e=0,f=z.length;e<f;e++)(a.query||"$score"!==z[e].field)&&r.push(z[e]);if(a.query){z=!0;e=0;for(f=r.length;e<f;e++)if("$score"===r[e].field){z=!1;break}z&&r.unshift({field:"$score",direction:"desc"})}else for(e=0,f=r.length;e<f;e++)if("$score"===r[e].field){r.splice(e,1);break}y=[];e=0;for(f=r.length;e<f;e++)y.push("desc"===
r[e].direction?-1:1);return(t=r.length)?1===t?(q=r[0].field,u=y[0],function(a,b){return u*h(x(q,a),x(q,b))}):function(a,b){var e,f;for(e=0;e<t;e++)if(f=r[e].field,f=y[e]*h(x(f,a),x(f,b)))return f;return 0}:null};a.prototype.prepareSearch=function(a,f){if("object"===typeof a)return a;f=e({},f);var g=f.fields,h=f.sort,p=f.sort_empty;g&&!b(g)&&(f.fields=[g]);h&&!b(h)&&(f.sort=[h]);p&&!b(p)&&(f.sort_empty=[p]);return{options:f,query:String(a||"").toLowerCase(),tokens:this.tokenize(a),total:0,items:[]}};
a.prototype.search=function(a,b){var e,f,g,h;f=this.prepareSearch(a,b);b=f.options;a=f.query;h=b.score||this.getScoreFunction(f);a.length?this.iterator(this.items,function(a,g){e=h(a);(!1===b.filter||0<e)&&f.items.push({score:e,id:g})}):this.iterator(this.items,function(a,b){f.items.push({score:1,id:b})});(g=this.getSortFunction(f,b))&&f.items.sort(g);f.total=f.items.length;"number"===typeof b.limit&&(f.items=f.items.slice(0,b.limit));return f};var h=function(a,b){if("number"===typeof a&&"number"===
typeof b)return a>b?1:a<b?-1:0;a=f(String(a||""));b=f(String(b||""));return a>b?1:b>a?-1:0},e=function(a,b){var e,f,g,h;e=1;for(f=arguments.length;e<f;e++)if(h=arguments[e])for(g in h)h.hasOwnProperty(g)&&(a[g]=h[g]);return a},b=Array.isArray||$&&$.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},g={a:"[a\u00c0\u00c1\u00c2\u00c3\u00c4\u00c5\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5\u0100\u0101\u0105\u0104]",c:"[c\u00c7\u00e7\u0107\u0106\u010d\u010c]",d:"[d\u0111\u0110\u010f\u010e]",
e:"[e\u00c8\u00c9\u00ca\u00cb\u00e8\u00e9\u00ea\u00eb\u011b\u011a\u0112\u0113\u0119\u0118]",i:"[i\u00cc\u00cd\u00ce\u00cf\u00ec\u00ed\u00ee\u00ef\u012a\u012b]",l:"[l\u0142\u0141]",n:"[n\u00d1\u00f1\u0148\u0147\u0144\u0143]",o:"[o\u00d2\u00d3\u00d4\u00d5\u00d5\u00d6\u00d8\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8\u014c\u014d]",r:"[r\u0159\u0158]",s:"[s\u0160\u0161\u015b\u015a]",t:"[t\u0165\u0164]",u:"[u\u00d9\u00da\u00db\u00dc\u00f9\u00fa\u00fb\u00fc\u016f\u016e\u016a\u016b]",y:"[y\u0178\u00ff\u00fd\u00dd]",
z:"[z\u017d\u017e\u017c\u017b\u017a\u0179]"},f=function(){var a,b,e,f,h="",q={};for(e in g)if(g.hasOwnProperty(e))for(f=g[e].substring(2,g[e].length-1),h+=f,a=0,b=f.length;a<b;a++)q[f.charAt(a)]=e;var r=new RegExp("["+h+"]","g");return function(a){return a.replace(r,function(a){return q[a]}).toLowerCase()}}();return a});
(function(a,h){"function"===typeof define&&define.amd?define("microplugin",h):"object"===typeof exports?module.exports=h():a.MicroPlugin=h()})(this,function(){var a={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}};return{mixin:function(h){h.plugins={};h.prototype.initializePlugins=function(e){var b,g,f=[];this.plugins={names:[],settings:{},requested:{},loaded:{}};if(a.isArray(e))for(b=0,g=e.length;b<g;b++)"string"===typeof e[b]?f.push(e[b]):(this.plugins.settings[e[b].name]=
e[b].options,f.push(e[b].name));else if(e)for(b in e)e.hasOwnProperty(b)&&(this.plugins.settings[b]=e[b],f.push(b));for(;f.length;)this.require(f.shift())};h.prototype.loadPlugin=function(a){var b=this.plugins,g=h.plugins[a];if(!h.plugins.hasOwnProperty(a))throw Error('Unable to find "'+a+'" plugin');b.requested[a]=!0;b.loaded[a]=g.fn.apply(this,[this.plugins.settings[a]||{}]);b.names.push(a)};h.prototype.require=function(a){var b=this.plugins;if(!this.plugins.loaded.hasOwnProperty(a)){if(b.requested[a])throw Error('Plugin has circular dependency ("'+
a+'")');this.loadPlugin(a)}return b.loaded[a]};h.define=function(a,b){h.plugins[a]={name:a,fn:b}}}}});
(function(a,h){"function"===typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],h):"object"===typeof exports?module.exports=h(require("jquery"),require("sifter"),require("microplugin")):a.Selectize=h(a.jQuery,a.Sifter,a.MicroPlugin)})(this,function(a,h,e){var b=function(a,b){if("string"!==typeof b||b.length){var e="string"===typeof b?new RegExp(b,"i"):b,f=function(a){var b=0;if(3===a.nodeType){var g=a.data.search(e);if(0<=g&&0<a.data.length){var h=a.data.match(e),b=document.createElement("span");
b.className="highlight";a=a.splitText(g);a.splitText(h[0].length);g=a.cloneNode(!0);b.appendChild(g);a.parentNode.replaceChild(b,a);b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(g=0;g<a.childNodes.length;++g)g+=f(a.childNodes[g]);return b};return a.each(function(){f(this)})}},g=function(){};g.prototype={on:function(a,b){this._events=this._events||{};this._events[a]=this._events[a]||[];this._events[a].push(b)},off:function(a,b){var e=arguments.length;if(0===e)return delete this._events;
if(1===e)return delete this._events[a];this._events=this._events||{};!1!==a in this._events&&this._events[a].splice(this._events[a].indexOf(b),1)},trigger:function(a){this._events=this._events||{};if(!1!==a in this._events)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}};g.mixin=function(a){for(var b=["on","off","trigger"],e=0;e<b.length;e++)a.prototype[b[e]]=g.prototype[b[e]]};var f=/Mac/.test(navigator.userAgent),l=f?91:17,k=f?18:
17,n=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,m=function(a){return"undefined"===typeof a||null===a?null:"boolean"===typeof a?a?"1":"0":a+""},p=function(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},q=function(a){return(a+"").replace(/\$/g,"$$$$")},r={before:function(a,b,e){var f=a[b];a[b]=function(){e.apply(a,arguments);return f.apply(a,arguments)}},after:function(a,b,e){var f=a[b];a[b]=function(){var b=
f.apply(a,arguments);e.apply(a,arguments);return b}}},t=function(a){var b=!1;return function(){b||(b=!0,a.apply(this,arguments))}},u=function(a,b){var e;return function(){var f=this,g=arguments;window.clearTimeout(e);e=window.setTimeout(function(){a.apply(f,g)},b)}},y=function(a,b,e){var f,g=a.trigger,h={};a.trigger=function(){var e=arguments[0];if(-1!==b.indexOf(e))h[e]=arguments;else return g.apply(a,arguments)};e.apply(a,[]);a.trigger=g;for(f in h)h.hasOwnProperty(f)&&g.apply(a,h[f])},x=function(a,
b,e,f){a.on(b,e,function(b){for(var e=b.target;e&&e.parentNode!==a[0];)e=e.parentNode;b.currentTarget=e;return f.apply(this,[b])})},z=function(a){var b={};if("selectionStart"in a)b.start=a.selectionStart,b.length=a.selectionEnd-b.start;else if(document.selection){a.focus();var e=document.selection.createRange(),f=document.selection.createRange().text.length;e.moveStart("character",-a.value.length);b.start=e.text.length-f;b.length=f}return b},B=function(b){var e=null,f=function(f,g){var h,k,l;f=f||
window.event||{};g=g||{};if(!f.metaKey&&!f.altKey&&(g.force||!1!==b.data("grow"))){h=b.val();f.type&&"keydown"===f.type.toLowerCase()&&(k=f.keyCode,l=97<=k&&122>=k||65<=k&&90>=k||48<=k&&57>=k||32===k,46===k||8===k?(l=z(b[0]),l.length?h=h.substring(0,l.start)+h.substring(l.start+l.length):8===k&&l.start?h=h.substring(0,l.start-1)+h.substring(l.start+1):46===k&&"undefined"!==typeof l.start&&(h=h.substring(0,l.start)+h.substring(l.start+1))):l&&(k=f.shiftKey,l=String.fromCharCode(f.keyCode),l=k?l.toUpperCase():
l.toLowerCase(),h+=l));k=b.attr("placeholder");!h&&k&&(h=k);if(h){h=a("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(h).appendTo("body");k=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];var m,n={};if(k)for(l=0,m=k.length;l<m;l++)n[k[l]]=b.css(k[l]);else n=b.css();h.css(n);k=h.width();h.remove();h=k}else h=0;h+=4;h!==e&&(e=h,b.width(h),b.triggerHandler("resize"))}};b.on("keydown keyup update blur",f);f()},D=function(b,
e){var f,g;f=b[0];f.selectize=this;g=(g=(g=window.getComputedStyle&&window.getComputedStyle(f,null))?g.getPropertyValue("direction"):f.currentStyle&&f.currentStyle.direction)||b.parents("[dir]:first").attr("dir")||"";a.extend(this,{order:0,settings:e,$input:b,tabIndex:b.attr("tabindex")||"",tagType:"select"===f.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(g),eventNS:".selectize"+ ++D.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:b.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,
isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===e.loadThrottle?this.onSearchChange:u(this.onSearchChange,e.loadThrottle)});this.sifter=new h(this.options,{diacritics:e.diacritics});if(this.settings.options){f=0;for(g=this.settings.options.length;f<
g;f++)this.registerOption(this.settings.options[f]);delete this.settings.options}if(this.settings.optgroups){f=0;for(g=this.settings.optgroups.length;f<g;f++)this.registerOptionGroup(this.settings.optgroups[f]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi");"boolean"!==typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode);this.initializePlugins(this.settings.plugins);this.setupCallbacks();this.setupTemplates();
this.setup()};g.mixin(D);e.mixin(D);a.extend(D.prototype,{setup:function(){var b=this,e=b.settings,g=b.eventNS,h=a(window),m=a(document),p=b.$input,q,r,t,u,y,z;y=b.settings.mode;z=p.attr("class")||"";q=a("<div>").addClass(e.wrapperClass).addClass(z).addClass(y);r=a("<div>").addClass(e.inputClass).addClass("items").appendTo(q);t=a('<input type="text" autocomplete="off" />').appendTo(r).attr("tabindex",p.is(":disabled")?"-1":b.tabIndex);u=a(e.dropdownParent||q);u=a("<div>").addClass(e.dropdownClass).addClass(y).hide().appendTo(u);
y=a("<div>").addClass(e.dropdownContentClass).appendTo(u);b.settings.copyClassesToDropdown&&u.addClass(z);q.css({width:p[0].style.width});b.plugins.names.length&&(z="plugin-"+b.plugins.names.join(" plugin-"),q.addClass(z),u.addClass(z));(null===e.maxItems||1<e.maxItems)&&1===b.tagType&&p.attr("multiple","multiple");b.settings.placeholder&&t.attr("placeholder",e.placeholder);!b.settings.splitOn&&b.settings.delimiter&&(z=b.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),b.settings.splitOn=
new RegExp("\\s*"+z+"+\\s*"));p.attr("autocorrect")&&t.attr("autocorrect",p.attr("autocorrect"));p.attr("autocapitalize")&&t.attr("autocapitalize",p.attr("autocapitalize"));b.$wrapper=q;b.$control=r;b.$control_input=t;b.$dropdown=u;b.$dropdown_content=y;u.on("mouseenter","[data-selectable]",function(){return b.onOptionHover.apply(b,arguments)});u.on("mousedown click","[data-selectable]",function(){return b.onOptionSelect.apply(b,arguments)});x(r,"mousedown","*:not(input)",function(){return b.onItemSelect.apply(b,
arguments)});B(t);r.on({mousedown:function(){return b.onMouseDown.apply(b,arguments)},click:function(){return b.onClick.apply(b,arguments)}});t.on({mousedown:function(a){a.stopPropagation()},keydown:function(){return b.onKeyDown.apply(b,arguments)},keyup:function(){return b.onKeyUp.apply(b,arguments)},keypress:function(){return b.onKeyPress.apply(b,arguments)},resize:function(){b.positionDropdown.apply(b,[])},blur:function(){return b.onBlur.apply(b,arguments)},focus:function(){b.ignoreBlur=!1;return b.onFocus.apply(b,
arguments)},paste:function(){return b.onPaste.apply(b,arguments)}});m.on("keydown"+g,function(a){b.isCmdDown=a[f?"metaKey":"ctrlKey"];b.isCtrlDown=a[f?"altKey":"ctrlKey"];b.isShiftDown=a.shiftKey});m.on("keyup"+g,function(a){a.keyCode===k&&(b.isCtrlDown=!1);16===a.keyCode&&(b.isShiftDown=!1);a.keyCode===l&&(b.isCmdDown=!1)});m.on("mousedown"+g,function(a){if(b.isFocused){if(a.target===b.$dropdown[0]||a.target.parentNode===b.$dropdown[0])return!1;b.$control.has(a.target).length||a.target===b.$control[0]||
b.blur(a.target)}});h.on(["scroll"+g,"resize"+g].join(" "),function(){b.isOpen&&b.positionDropdown.apply(b,arguments)});h.on("mousemove"+g,function(){b.ignoreHover=!1});this.revertSettings={$children:p.children().detach(),tabindex:p.attr("tabindex")};p.attr("tabindex",-1).hide().after(b.$wrapper);a.isArray(e.items)&&(b.setValue(e.items),delete e.items);if(n)p.on("invalid"+g,function(a){a.preventDefault();b.isInvalid=!0;b.refreshState()});b.updateOriginalInput();b.refreshItems();b.refreshState();b.updatePlaceholder();
b.isSetup=!0;p.is(":disabled")&&b.disable();b.on("change",this.onChange);p.data("selectize",b);p.addClass("selectized");b.trigger("initialize");if(!0===e.preload)b.onSearchChange("")},setupTemplates:function(){var b=this.settings.labelField,e=this.settings.optgroupLabelField;this.settings.render=a.extend({},{optgroup:function(a){return'<div class="optgroup">'+a.html+"</div>"},optgroup_header:function(a,b){return'<div class="optgroup-header">'+b(a[e])+"</div>"},option:function(a,e){return'<div class="option">'+
e(a[b])+"</div>"},item:function(a,e){return'<div class="item">'+e(a[b])+"</div>"},option_create:function(a,b){return'<div class="create">Add <strong>'+b(a.input)+"</strong>&hellip;</div>"}},this.settings.render)},setupCallbacks:function(){var a,b,e={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",
optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(a in e)if(e.hasOwnProperty(a)&&(b=this.settings[e[a]]))this.on(a,b)},onClick:function(a){this.isFocused||(this.focus(),a.preventDefault())},onMouseDown:function(b){var e=this,f=b.isDefaultPrevented();a(b.target);if(e.isFocused){if(b.target!==e.$control_input[0])return"single"===e.settings.mode?e.isOpen?e.close():e.open():f||e.setActiveItem(null),
!1}else f||window.setTimeout(function(){e.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(b){var e=this;e.isFull()||e.isInputHidden||e.isLocked?b.preventDefault():e.settings.splitOn&&setTimeout(function(){for(var b=a.trim(e.$control_input.val()||"").split(e.settings.splitOn),f=0,g=b.length;f<g;f++)e.createItem(b[f])},0)},onKeyPress:function(a){if(this.isLocked)return a&&a.preventDefault();var b=String.fromCharCode(a.keyCode||a.which);if(this.settings.create&&"multi"===
this.settings.mode&&b===this.settings.delimiter)return this.createItem(),a.preventDefault(),!1},onKeyDown:function(a){if(this.isLocked)9!==a.keyCode&&a.preventDefault();else{switch(a.keyCode){case 65:if(this.isCmdDown){this.selectAll();return}break;case 27:this.isOpen&&(a.preventDefault(),a.stopPropagation(),this.close());return;case 78:if(!a.ctrlKey||a.altKey)break;case 40:if(!this.isOpen&&this.hasOptions)this.open();else if(this.$activeOption){this.ignoreHover=!0;var b=this.getAdjacentOption(this.$activeOption,
1);b.length&&this.setActiveOption(b,!0,!0)}a.preventDefault();return;case 80:if(!a.ctrlKey||a.altKey)break;case 38:this.$activeOption&&(this.ignoreHover=!0,b=this.getAdjacentOption(this.$activeOption,-1),b.length&&this.setActiveOption(b,!0,!0));a.preventDefault();return;case 13:this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),a.preventDefault());return;case 37:this.advanceSelection(-1,a);return;case 39:this.advanceSelection(1,a);return;case 9:this.settings.selectOnTab&&
this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),this.isFull()||a.preventDefault());this.settings.create&&this.createItem()&&a.preventDefault();return;case 8:case 46:this.deleteSelection(a);return}!this.isFull()&&!this.isInputHidden||(f?a.metaKey:a.ctrlKey)||a.preventDefault()}},onKeyUp:function(a){if(this.isLocked)return a&&a.preventDefault();a=this.$control_input.val()||"";this.lastValue!==a&&(this.lastValue=a,this.onSearchChange(a),this.refreshOptions(),
this.trigger("type",a))},onSearchChange:function(a){var b=this,e=b.settings.load;e&&!b.loadedSearches.hasOwnProperty(a)&&(b.loadedSearches[a]=!0,b.load(function(f){e.apply(b,[a,f])}))},onFocus:function(a){var b=this.isFocused;if(this.isDisabled)return this.blur(),a&&a.preventDefault(),!1;if(!this.ignoreFocus){this.isFocused=!0;if("focus"===this.settings.preload)this.onSearchChange("");b||this.trigger("focus");this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus));
this.refreshState()}},onBlur:function(a,b){var e=this;if(e.isFocused&&(e.isFocused=!1,!e.ignoreFocus))if(e.ignoreBlur||document.activeElement!==e.$dropdown_content[0]){var f=function(){e.close();e.setTextboxValue("");e.setActiveItem(null);e.setActiveOption(null);e.setCaret(e.items.length);e.refreshState();(b||document.body).focus();e.ignoreFocus=!1;e.trigger("blur")};e.ignoreFocus=!0;e.settings.create&&e.settings.createOnBlur?e.createItem(null,!1,f):f()}else e.ignoreBlur=!0,e.onFocus(a)},onOptionHover:function(a){this.ignoreHover||
this.setActiveOption(a.currentTarget,!1)},onOptionSelect:function(b){var e,f=this;b.preventDefault&&(b.preventDefault(),b.stopPropagation());e=a(b.currentTarget);e.hasClass("create")?f.createItem(null,function(){f.settings.closeAfterSelect&&f.close()}):(e=e.attr("data-value"),"undefined"!==typeof e&&(f.lastQuery=null,f.setTextboxValue(""),f.addItem(e),f.settings.closeAfterSelect?f.close():!f.settings.hideSelected&&b.type&&/mouse/.test(b.type)&&f.setActiveOption(f.getOption(e))))},onItemSelect:function(a){this.isLocked||
"multi"!==this.settings.mode||(a.preventDefault(),this.setActiveItem(a.currentTarget,a))},load:function(a){var b=this,e=b.$wrapper.addClass(b.settings.loadingClass);b.loading++;a.apply(b,[function(a){b.loading=Math.max(b.loading-1,0);a&&a.length&&(b.addOption(a),b.refreshOptions(b.isFocused&&!b.isInputHidden));b.loading||e.removeClass(b.settings.loadingClass);b.trigger("load",a)}])},setTextboxValue:function(a){var b=this.$control_input;b.val()!==a&&(b.val(a).triggerHandler("update"),this.lastValue=
a)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(a,b){y(this,b?[]:["change"],function(){this.clear(b);this.addItems(a,b)})},setActiveItem:function(b,e){var f,g,h;if("single"!==this.settings.mode)if(b=a(b),b.length){f=e&&e.type.toLowerCase();if("mousedown"===f&&this.isShiftDown&&this.$activeItems.length){f=this.$control.children(".active:last");g=Array.prototype.indexOf.apply(this.$control[0].childNodes,
[f[0]]);f=Array.prototype.indexOf.apply(this.$control[0].childNodes,[b[0]]);g>f&&(h=g,g=f,f=h);for(;g<=f;g++)h=this.$control[0].childNodes[g],-1===this.$activeItems.indexOf(h)&&(a(h).addClass("active"),this.$activeItems.push(h));e.preventDefault()}else"mousedown"===f&&this.isCtrlDown||"keydown"===f&&this.isShiftDown?b.hasClass("active")?(f=this.$activeItems.indexOf(b[0]),this.$activeItems.splice(f,1),b.removeClass("active")):this.$activeItems.push(b.addClass("active")[0]):(a(this.$activeItems).removeClass("active"),
this.$activeItems=[b.addClass("active")[0]]);this.hideInput();this.isFocused||this.focus()}else a(this.$activeItems).removeClass("active"),this.$activeItems=[],this.isFocused&&this.showInput()},setActiveOption:function(b,e,f){var g,h,k;this.$activeOption&&this.$activeOption.removeClass("active");this.$activeOption=null;b=a(b);b.length&&(this.$activeOption=b.addClass("active"),e||"undefined"===typeof e)&&(b=this.$dropdown_content.height(),g=this.$activeOption.outerHeight(!0),e=this.$dropdown_content.scrollTop()||
0,h=this.$activeOption.offset().top-this.$dropdown_content.offset().top+e,k=h-b+g,h+g>b+e?this.$dropdown_content.stop().animate({scrollTop:k},f?this.settings.scrollDuration:0):h<e&&this.$dropdown_content.stop().animate({scrollTop:h},f?this.settings.scrollDuration:0))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue("");
this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1E4:-1E4});this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0});this.isInputHidden=!1},focus:function(){var a=this;a.isDisabled||(a.ignoreFocus=!0,a.$control_input[0].focus(),window.setTimeout(function(){a.ignoreFocus=!1;a.onFocus()},0))},blur:function(a){this.$control_input[0].blur();this.onBlur(null,a)},getScoreFunction:function(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())},
getSearchOptions:function(){var a=this.settings,b=a.sortField;"string"===typeof b&&(b=[{field:b}]);return{fields:a.searchField,conjunction:a.searchConjunction,sort:b}},search:function(b){var e,f;e=this.settings;var g=this.getSearchOptions();if(e.score&&(f=this.settings.score.apply(this,[b]),"function"!==typeof f))throw Error('Selectize "score" setting must be a function that returns a function');b!==this.lastQuery?(this.lastQuery=b,this.currentResults=b=this.sifter.search(b,a.extend(g,{score:f}))):
b=a.extend(!0,{},this.currentResults);if(e.hideSelected)for(e=b.items.length-1;0<=e;e--)-1!==this.items.indexOf(m(b.items[e].id))&&b.items.splice(e,1);return b},refreshOptions:function(e){var f,g,h,k,l,n,p,q,r,t,u,y;"undefined"===typeof e&&(e=!0);var x=this;u=a.trim(x.$control_input.val());var z=x.search(u),B=x.$dropdown_content,D=x.$activeOption&&m(x.$activeOption.attr("data-value"));k=z.items.length;"number"===typeof x.settings.maxOptions&&(k=Math.min(k,x.settings.maxOptions));l={};n=[];for(f=0;f<
k;f++)for(p=x.options[z.items[f].id],q=x.render("option",p),p=p[x.settings.optgroupField]||"",r=a.isArray(p)?p:[p],g=0,h=r&&r.length;g<h;g++)p=r[g],x.optgroups.hasOwnProperty(p)||(p=""),l.hasOwnProperty(p)||(l[p]=[],n.push(p)),l[p].push(q);this.settings.lockOptgroupOrder&&n.sort(function(a,b){return(x.optgroups[a].$order||0)-(x.optgroups[b].$order||0)});q=[];f=0;for(k=n.length;f<k;f++)p=n[f],x.optgroups.hasOwnProperty(p)&&l[p].length?(g=x.render("optgroup_header",x.optgroups[p])||"",g+=l[p].join(""),
q.push(x.render("optgroup",a.extend({},x.optgroups[p],{html:g})))):q.push(l[p].join(""));B.html(q.join(""));if(x.settings.highlight&&z.query.length&&z.tokens.length)for(f=0,k=z.tokens.length;f<k;f++)b(B,z.tokens[f].regex);if(!x.settings.hideSelected)for(f=0,k=x.items.length;f<k;f++)x.getOption(x.items[f]).addClass("selected");if(f=x.canCreate(u))B.prepend(x.render("option_create",{input:u})),y=a(B[0].childNodes[0]);x.hasOptions=0<z.items.length||f;x.hasOptions?(0<z.items.length?((u=D&&x.getOption(D))&&
u.length?t=u:"single"===x.settings.mode&&x.items.length&&(t=x.getOption(x.items[0])),t&&t.length||(t=y&&!x.settings.addPrecedence?x.getAdjacentOption(y,1):B.find("[data-selectable]:first"))):t=y,x.setActiveOption(t),e&&!x.isOpen&&x.open()):(x.setActiveOption(null),e&&x.isOpen&&x.close())},addOption:function(b){var e,f;if(a.isArray(b))for(e=0,f=b.length;e<f;e++)this.addOption(b[e]);else if(e=this.registerOption(b))this.userOptions[e]=!0,this.lastQuery=null,this.trigger("option_add",e,b)},registerOption:function(a){var b=
m(a[this.settings.valueField]);if(!b||this.options.hasOwnProperty(b))return!1;a.$order=a.$order||++this.order;this.options[b]=a;return b},registerOptionGroup:function(a){var b=m(a[this.settings.optgroupValueField]);if(!b)return!1;a.$order=a.$order||++this.order;this.optgroups[b]=a;return b},addOptionGroup:function(a,b){b[this.settings.optgroupValueField]=a;(a=this.registerOptionGroup(b))&&this.trigger("optgroup_add",a,b)},removeOptionGroup:function(a){this.optgroups.hasOwnProperty(a)&&(delete this.optgroups[a],
this.renderCache={},this.trigger("optgroup_remove",a))},clearOptionGroups:function(){this.optgroups={};this.renderCache={};this.trigger("optgroup_clear")},updateOption:function(b,e){var f,g,h;b=m(b);f=m(e[this.settings.valueField]);if(null!==b&&this.options.hasOwnProperty(b)){if("string"!==typeof f)throw Error("Value must be set in option data");h=this.options[b].$order;f!==b&&(delete this.options[b],g=this.items.indexOf(b),-1!==g&&this.items.splice(g,1,f));e.$order=e.$order||h;this.options[f]=e;
g=this.renderCache.item;h=this.renderCache.option;g&&(delete g[b],delete g[f]);h&&(delete h[b],delete h[f]);-1!==this.items.indexOf(f)&&(f=this.getItem(b),g=a(this.render("item",e)),f.hasClass("active")&&g.addClass("active"),f.replaceWith(g));this.lastQuery=null;this.isOpen&&this.refreshOptions(!1)}},removeOption:function(a,b){a=m(a);var e=this.renderCache.item,f=this.renderCache.option;e&&delete e[a];f&&delete f[a];delete this.userOptions[a];delete this.options[a];this.lastQuery=null;this.trigger("option_remove",
a);this.removeItem(a,b)},clearOptions:function(){this.loadedSearches={};this.userOptions={};this.renderCache={};this.options=this.sifter.items={};this.lastQuery=null;this.trigger("option_clear");this.clear()},getOption:function(a){return this.getElementWithValue(a,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(b,e){var f=this.$dropdown.find("[data-selectable]"),g=f.index(b)+e;return 0<=g&&g<f.length?f.eq(g):a()},getElementWithValue:function(b,e){b=m(b);if("undefined"!==
typeof b&&null!==b)for(var f=0,g=e.length;f<g;f++)if(e[f].getAttribute("data-value")===b)return a(e[f]);return a()},getItem:function(a){return this.getElementWithValue(a,this.$control.children())},addItems:function(b,e){for(var f=a.isArray(b)?b:[b],g=0,h=f.length;g<h;g++)this.isPending=g<h-1,this.addItem(f[g],e)},addItem:function(b,e){y(this,e?[]:["change"],function(){var f,g,h,k=this.settings.mode;b=m(b);-1!==this.items.indexOf(b)?"single"===k&&this.close():this.options.hasOwnProperty(b)&&("single"===
k&&this.clear(e),"multi"===k&&this.isFull()||(f=a(this.render("item",this.options[b])),h=this.isFull(),this.items.splice(this.caretPos,0,b),this.insertAtCaret(f),(!this.isPending||!h&&this.isFull())&&this.refreshState(),this.isSetup&&(h=this.$dropdown_content.find("[data-selectable]"),this.isPending||(g=this.getOption(b),g=this.getAdjacentOption(g,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==k),g&&this.setActiveOption(this.getOption(g))),!h.length||this.isFull()?this.close():
this.positionDropdown(),this.updatePlaceholder(),this.trigger("item_add",b,f),this.updateOriginalInput({silent:e}))))})},removeItem:function(a,b){var e,f,g;e="object"===typeof a?a:this.getItem(a);a=m(e.attr("data-value"));f=this.items.indexOf(a);-1!==f&&(e.remove(),e.hasClass("active")&&(g=this.$activeItems.indexOf(e[0]),this.$activeItems.splice(g,1)),this.items.splice(f,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(a)&&this.removeOption(a,b),f<this.caretPos&&this.setCaret(this.caretPos-
1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:b}),this.positionDropdown(),this.trigger("item_remove",a,e))},createItem:function(b,e){var f=this,g=f.caretPos;b=b||a.trim(f.$control_input.val()||"");var h=arguments[arguments.length-1];"function"!==typeof h&&(h=function(){});"boolean"!==typeof e&&(e=!0);if(!f.canCreate(b))return h(),!1;f.lock();var k="function"===typeof f.settings.create?this.settings.create:function(a){var b={};b[f.settings.labelField]=a;b[f.settings.valueField]=
a;return b},l=t(function(a){f.unlock();if(!a||"object"!==typeof a)return h();var b=m(a[f.settings.valueField]);if("string"!==typeof b)return h();f.setTextboxValue("");f.addOption(a);f.setCaret(g);f.addItem(b);f.refreshOptions(e&&"single"!==f.settings.mode);h(a)}),k=k.apply(this,[b,l]);"undefined"!==typeof k&&l(k);return!0},refreshItems:function(){this.lastQuery=null;this.isSetup&&this.addItem(this.items);this.refreshState();this.updateOriginalInput()},refreshState:function(){this.isRequired&&(this.items.length&&
(this.isInvalid=!1),this.$control_input.prop("required",void 0));this.refreshClasses()},refreshClasses:function(){var b=this.isFull(),e=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl);this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",e).toggleClass("full",b).toggleClass("not-full",!b).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",
this.isOpen).toggleClass("has-options",!a.isEmptyObject(this.options)).toggleClass("has-items",0<this.items.length);this.$control_input.data("grow",!b&&!e)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(a){var b,e,f,g;a=a||{};if(1===this.tagType){f=[];b=0;for(e=this.items.length;b<e;b++)g=this.options[this.items[b]][this.settings.labelField]||"",f.push('<option value="'+p(this.items[b])+'" selected="selected">'+p(g)+
"</option>");f.length||this.$input.attr("multiple")||f.push('<option value="" selected="selected"></option>');this.$input.html(f.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&(a.silent||this.trigger("change",this.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var a=this.$control_input;this.items.length?a.removeAttr("placeholder"):a.attr("placeholder",this.settings.placeholder);a.triggerHandler("update",{force:!0})}},
open:function(){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var a=this.isOpen;"single"===this.settings.mode&&this.items.length&&this.hideInput();this.isOpen=!1;this.$dropdown.hide();this.setActiveOption(null);this.refreshState();a&&this.trigger("dropdown_close",
this.$dropdown)},positionDropdown:function(){var a=this.$control,b="body"===this.settings.dropdownParent?a.offset():a.position();b.top+=a.outerHeight(!0);this.$dropdown.css({width:a.outerWidth(),top:b.top,left:b.left})},clear:function(a){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:a}),this.refreshState(),this.showInput(),this.trigger("clear"))},
insertAtCaret:function(b){var e=Math.min(this.caretPos,this.items.length);0===e?this.$control.prepend(b):a(this.$control[0].childNodes[e]).before(b);this.setCaret(e+1)},deleteSelection:function(b){var e,f,g,h,k;e=b&&8===b.keyCode?-1:1;f=z(this.$control_input[0]);this.$activeOption&&!this.settings.hideSelected&&(k=this.getAdjacentOption(this.$activeOption,-1).attr("data-value"));g=[];if(this.$activeItems.length){h=this.$control.children(".active:"+(0<e?"last":"first"));h=this.$control.children(":not(input)").index(h);
0<e&&h++;e=0;for(f=this.$activeItems.length;e<f;e++)g.push(a(this.$activeItems[e]).attr("data-value"));b&&(b.preventDefault(),b.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(0>e&&0===f.start&&0===f.length?g.push(this.items[this.caretPos-1]):0<e&&f.start===this.$control_input.val().length&&g.push(this.items[this.caretPos]));if(!g.length||"function"===typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[g]))return!1;for("undefined"!==typeof h&&
this.setCaret(h);g.length;)this.removeItem(g.pop());this.showInput();this.positionDropdown();this.refreshOptions(!0);k&&(b=this.getOption(k),b.length&&this.setActiveOption(b));return!0},advanceSelection:function(a,b){var e,f;0!==a&&(this.rtl&&(a*=-1),e=0<a?"last":"first",f=z(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(e=this.$control_input.val().length,(f=0>a?0===f.start&&0===f.length:f.start===e)&&!e&&this.advanceCaret(a,b)):(f=this.$control.children(".active:"+e),f.length&&(f=this.$control.children(":not(input)").index(f),
this.setActiveItem(null),this.setCaret(0<a?f+1:f))))},advanceCaret:function(a,b){var e;0!==a&&(e=0<a?"next":"prev",this.isShiftDown?(e=this.$control_input[e](),e.length&&(this.hideInput(),this.setActiveItem(e),b&&b.preventDefault())):this.setCaret(this.caretPos+a))},setCaret:function(b){b="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,b));if(!this.isPending){var e,f,g,h;g=this.$control.children(":not(input)");e=0;for(f=g.length;e<f;e++)h=a(g[e]).detach(),e<b?
this.$control_input.before(h):this.$control.append(h)}this.caretPos=b},lock:function(){this.close();this.isLocked=!0;this.refreshState()},unlock:function(){this.isLocked=!1;this.refreshState()},disable:function(){this.$input.prop("disabled",!0);this.$control_input.prop("disabled",!0).prop("tabindex",-1);this.isDisabled=!0;this.lock()},enable:function(){this.$input.prop("disabled",!1);this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex);this.isDisabled=!1;this.unlock()},destroy:function(){var b=
this.eventNS,e=this.revertSettings;this.trigger("destroy");this.off();this.$wrapper.remove();this.$dropdown.remove();this.$input.html("").append(e.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:e.tabindex}).show();this.$control_input.removeData("grow");this.$input.removeData("selectize");a(window).off(b);a(document).off(b);a(document.body).off(b);delete this.$input[0].selectize},render:function(a,b){var e,f,g="",h=!1,k=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;
if("option"===a||"item"===a)e=m(b[this.settings.valueField]),h=!!e;if(h&&("undefined"===typeof this.renderCache[a]&&(this.renderCache[a]={}),this.renderCache[a].hasOwnProperty(e)))return this.renderCache[a][e];g=this.settings.render[a].apply(this,[b,p]);if("option"===a||"option_create"===a)g=g.replace(k,"<$1 data-selectable");"optgroup"===a&&(f=b[this.settings.optgroupValueField]||"",g=g.replace(k,'<$1 data-group="'+q(p(f))+'"'));if("option"===a||"item"===a)g=g.replace(k,'<$1 data-value="'+q(p(e||
""))+'"');h&&(this.renderCache[a][e]=g);return g},clearCache:function(a){"undefined"===typeof a?this.renderCache={}:delete this.renderCache[a]},canCreate:function(a){if(!this.settings.create)return!1;var b=this.settings.createFilter;return a.length&&("function"!==typeof b||b.apply(this,[a]))&&("string"!==typeof b||(new RegExp(b)).test(a))&&(!(b instanceof RegExp)||b.test(a))}});D.count=0;D.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,
createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1E3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",
dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}};a.fn.selectize=function(b){var e=a.fn.selectize.defaults,f=a.extend({},e,b),g=f.dataAttr,h=f.labelField,k=f.valueField,l=f.optgroupField,n=f.optgroupLabelField,p=f.optgroupValueField,q=function(b,e){var q,r,t,u,w=e.options,x={},y=function(a){a=g&&a.attr(g);return"string"===typeof a&&a.length?JSON.parse(a):null},z=function(b,g){b=a(b);var n=m(b.attr("value"));
if(n||f.allowEmptyOption)if(x.hasOwnProperty(n)){if(g){var p=x[n][l];p?a.isArray(p)?p.push(g):x[n][l]=[p,g]:x[n][l]=g}}else p=y(b)||{},p[h]=p[h]||b.text(),p[k]=p[k]||n,p[l]=p[l]||g,x[n]=p,w.push(p),b.is(":selected")&&e.items.push(n)},A=function(b){var f,g,h;b=a(b);if(g=b.attr("label"))f=y(b)||{},f[n]=g,f[p]=g,e.optgroups.push(f);h=a("option",b);b=0;for(f=h.length;b<f;b++)z(h[b],g)};e.maxItems=b.attr("multiple")?null:1;u=b.children();q=0;for(r=u.length;q<r;q++)t=u[q].tagName.toLowerCase(),"optgroup"===
t?A(u[q]):"option"===t&&z(u[q])};return this.each(function(){if(!this.selectize){var l=a(this),m=this.tagName.toLowerCase(),n=l.attr("placeholder")||l.attr("data-placeholder");n||f.allowEmptyOption||(n=l.children('option[value=""]').text());n={placeholder:n,options:[],optgroups:[],items:[]};if("select"===m)q(l,n);else{var p,r,t;if(m=l.attr(g))for(n.options=JSON.parse(m),m=0,p=n.options.length;m<p;m++)n.items.push(n.options[m][k]);else if(m=a.trim(l.val()||""),f.allowEmptyOption||m.length){r=m.split(f.delimiter);
m=0;for(p=r.length;m<p;m++)t={},t[h]=r[m],t[k]=r[m],n.options.push(t);n.items=r}}new D(l,a.extend(!0,{},e,n,b))}})};a.fn.selectize.defaults=D.defaults;a.fn.selectize.support={validity:n};D.define("drag_drop",function(b){if(!a.fn.sortable)throw Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var e=this;e.lock=function(){var a=e.lock;return function(){var b=e.$control.data("sortable");b&&b.disable();return a.apply(e,arguments)}}();e.unlock=function(){var a=
e.unlock;return function(){var b=e.$control.data("sortable");b&&b.enable();return a.apply(e,arguments)}}();e.setup=function(){var b=e.setup;return function(){b.apply(this,arguments);var f=e.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:e.isLocked,start:function(a,b){b.placeholder.css("width",b.helper.css("width"));f.css({overflow:"visible"})},stop:function(){f.css({overflow:"hidden"});var b=e.$activeItems?e.$activeItems.slice():null,g=[];f.children("[data-value]").each(function(){g.push(a(this).attr("data-value"))});
e.setValue(g);e.setActiveItem(b)}})}}()}});D.define("dropdown_header",function(b){var e=this;b=a.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(a){return'<div class="'+a.headerClass+'"><div class="'+a.titleRowClass+'"><span class="'+a.labelClass+'">'+a.title+'</span><a href="javascript:void(0)" class="'+a.closeClass+'">&times;</a></div></div>'}},
b);e.setup=function(){var f=e.setup;return function(){f.apply(e,arguments);e.$dropdown_header=a(b.html(b));e.$dropdown.prepend(e.$dropdown_header)}}()});D.define("optgroup_columns",function(b){var e=this;b=a.extend({equalizeWidth:!0,equalizeHeight:!0},b);this.getAdjacentOption=function(b,e){var f=b.closest("[data-group]").find("[data-selectable]"),g=f.index(b)+e;return 0<=g&&g<f.length?f.eq(g):a()};this.onKeyDown=function(){var a=e.onKeyDown;return function(b){var f,g;if(!this.isOpen||37!==b.keyCode&&
39!==b.keyCode)return a.apply(this,arguments);e.ignoreHover=!0;g=this.$activeOption.closest("[data-group]");f=g.find("[data-selectable]").index(this.$activeOption);g=37===b.keyCode?g.prev("[data-group]"):g.next("[data-group]");g=g.find("[data-selectable]");f=g.eq(Math.min(g.length-1,f));f.length&&this.setActiveOption(f)}}();var f=function(){var a,b=f.width,e=document;"undefined"===typeof b&&(a=e.createElement("div"),a.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',
a=a.firstChild,e.body.appendChild(a),b=f.width=a.offsetWidth-a.clientWidth,e.body.removeChild(a));return b},g=function(){var g,h,k,l;l=a("[data-group]",e.$dropdown_content);if((h=l.length)&&e.$dropdown_content.width()){if(b.equalizeHeight){for(g=k=0;g<h;g++)k=Math.max(k,l.eq(g).height());l.css({height:k})}b.equalizeWidth&&(k=e.$dropdown_content.innerWidth()-f(),g=Math.round(k/h),l.css({width:g}),1<h&&(g=k-g*(h-1),l.eq(h-1).css({width:g})))}};if(b.equalizeHeight||b.equalizeWidth)r.after(this,"positionDropdown",
g),r.after(this,"refreshOptions",g)});D.define("remove_button",function(b){if("single"!==this.settings.mode){b=a.extend({label:"&times;",title:"Remove",className:"remove",append:!0},b);var e=this,f='<a href="javascript:void(0)" class="'+b.className+'" tabindex="-1" title="'+p(b.title)+'">'+b.label+"</a>";this.setup=function(){var g=e.setup;return function(){if(b.append){var h=e.settings.render.item;e.settings.render.item=function(a){var b=h.apply(this,arguments),e=b.search(/(<\/[^>]+>\s*)$/);return b.substring(0,
e)+f+b.substring(e)}}g.apply(this,arguments);this.$control.on("click","."+b.className,function(b){b.preventDefault();e.isLocked||(b=a(b.currentTarget).parent(),e.setActiveItem(b),e.deleteSelection()&&e.setCaret(e.items.length))})}}()}});D.define("restore_on_backspace",function(a){var b=this;a.text=a.text||function(a){return a[this.settings.labelField]};this.onKeyDown=function(){var e=b.onKeyDown;return function(b){var f;if(8===b.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&
(f=this.caretPos-1,0<=f&&f<this.items.length)){f=this.options[this.items[f]];this.deleteSelection(b)&&(this.setTextboxValue(a.text.apply(this,[f])),this.refreshOptions(!0));b.preventDefault();return}return e.apply(this,arguments)}}()});return D});var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};
Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert first argument to object");for(var h=Object(a),e=1;e<arguments.length;e++){var b=arguments[e];if(void 0!==b&&null!==b)for(var b=Object(b),g=Object.keys(Object(b)),f=0,l=g.length;f<l;f++){var k=g[f],n=Object.getOwnPropertyDescriptor(b,k);void 0!==n&&n.enumerable&&(h[k]=b[k])}}return h}});
Array.prototype.find||(Array.prototype.find=function(a,h){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof a)throw new TypeError("predicate must be a function");for(var e=Object(this),b=e.length>>>0,g,f=0;f<b;f++)if(g=e[f],a.call(h,g,f,e))return g});
Array.prototype.findIndex||(Array.prototype.findIndex=function(a,h){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!==typeof a)throw new TypeError("predicate must be a function");for(var e=Object(this),b=e.length>>>0,g,f=0;f<b;f++)if(g=e[f],a.call(h,g,f,e))return f;return-1});
Array.prototype.includes||(Array.prototype.includes=function(a,h){var e=Object(this),b=parseInt(e.length)||0;if(0===b)return!1;var g=parseInt(h)||0;0<=g||(g=b+g,0>g&&(g=0));for(var f;g<b;){f=e[g];if(a===f||a!==a&&f!==f)return!0;g++}return!1});String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)});
String.prototype.endsWith||(String.prototype.endsWith=function(a,h){var e=this.toString();if("number"!==typeof h||!isFinite(h)||Math.floor(h)!==h||h>e.length)h=e.length;h-=a.length;e=e.indexOf(a,h);return-1!==e&&e===h});
var jsPanel={version:"3.0.0 RC1",date:"2016-04-16 10:59",id:0,zi:100,modalcount:0,autopositionSpacing:5,pbTreshold:.556,lastbeforeclose:!1,template:'<div class="jsPanel">\n                <div class="jsPanel-hdr">\n                    <div class="jsPanel-headerbar">\n                        <div class="jsPanel-titlebar">\n                            <h3 class="jsPanel-title"></h3>\n                        </div>\n                        <div class="jsPanel-controlbar">\n                            <div class="jsPanel-btn jsPanel-btn-smallify"><span class="jsglyph jsglyph-chevron-up"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-smallifyrev"><span class="jsglyph jsglyph-chevron-down"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-minimize"><span class="jsglyph jsglyph-minimize"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-normalize"><span class="jsglyph jsglyph-normalize"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-maximize"><span class="jsglyph jsglyph-maximize"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-close"><span class="jsglyph jsglyph-close"></span></div>\n                        </div>\n                    </div>\n                    <div class="jsPanel-hdr-toolbar"></div>\n                </div>\n                <div class="jsPanel-content"></div>\n                <div class="jsPanel-ftr"></div>\n               </div>',replacementTemplate:'<div class="jsPanel-replacement">\n                            <div class="jsPanel-hdr">\n                                <div class="jsPanel-headerbar">\n                                    <div class="jsPanel-titlebar">\n                                        <h3 class="jsPanel-title"></h3>\n                                    </div>\n                                    <div class="jsPanel-controlbar">\n                                        <div class="jsPanel-btn jsPanel-btn-normalize"><span class="jsglyph jsglyph-normalize"></span></div>\n                                        <div class="jsPanel-btn jsPanel-btn-maximize"><span class="jsglyph jsglyph-maximize"></span></div>\n                                        <div class="jsPanel-btn jsPanel-btn-close"><span class="jsglyph jsglyph-close"></span></div>\n                                    </div>\n                                </div>\n                            </div>\n                          </div>',
themes:"default primary info success warning danger".split(" "),tplHeaderOnly:'<div class="jsPanel">\n                        <div class="jsPanel-hdr">\n                            <div class="jsPanel-headerbar">\n                                <div class="jsPanel-titlebar">\n                                    <h3 class="jsPanel-title"></h3>\n                                </div>\n                                <div class="jsPanel-controlbar">\n                                    <div class="jsPanel-btn jsPanel-btn-close"><span class="jsglyph jsglyph-close"></span></div>\n                                </div>\n                            </div>\n                            <div class="jsPanel-hdr-toolbar"></div>\n                        </div>\n                    </div>',
tplContentOnly:'<div class="jsPanel">\n                        <div class="jsPanel-content jsPanel-content-noheader jsPanel-content-nofooter"></div>\n                     </div>',activePanels:{list:[],getPanel:function(a){return"string"===typeof a?document.getElementById(a).jspanel.noop():document.getElementById(this.list[a]).jspanel.noop()}},position:function(a,h){function e(a,b){var e;if((e=a.ownerDocument.defaultView)&&e.getComputedStyle)return b=b.replace(/([A-Z])/g,"-$1").toLowerCase(),e.getComputedStyle(a,
null).getPropertyValue(b);if(a.currentStyle)return b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),e=a.currentStyle[b],/^\d+(em|pt|%|ex)?$/i.test(e)?function(b){var e=a.style.left,f=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b||0;b=a.style.pixelLeft+"px";a.style.left=e;a.runtimeStyle.left=f;return b}(e):e}function b(a){var b={};y.includes(a)?b.left=window.pageXOffset:x.includes(a)?b.left=window.pageXOffset+document.documentElement.clientWidth/2:z.includes(a)?
b.left=window.pageXOffset+document.documentElement.clientWidth:b.left=window.pageXOffset;B.includes(a)?b.top=window.pageYOffset:D.includes(a)?b.top=window.pageYOffset+window.innerHeight/2:w.includes(a)?b.top=window.pageYOffset+window.innerHeight:b.top=window.pageYOffset;return b}function g(a){var b={},e=k(p.of);y.includes(a)?b.left=e.left:x.includes(a)?b.left=e.left+e.width/2:z.includes(a)?b.left=e.left+e.width:b.left=e.left;B.includes(a)?b.top=e.top:D.includes(a)?b.top=e.top+e.height/2:w.includes(a)?
b.top=e.top+e.height:b.top=e.top;return b}function f(a){var b={},e=q.getBoundingClientRect();y.includes(a)?b.left=0:x.includes(a)?b.left=e.width/2:z.includes(a)?b.left=e.width:b.left=0;B.includes(a)?b.top=0:D.includes(a)?b.top=e.height/2:w.includes(a)?b.top=e.height:b.top=0;return b}function l(a){var b={},e=q.getBoundingClientRect(),f=document.querySelector(p.of).getBoundingClientRect(),g=f.left-e.left,e=f.top-e.top;y.includes(a)?b.left=g:x.includes(a)?b.left=g+f.width/2:z.includes(a)?b.left=g+f.width:
b.left=g;B.includes(a)?b.top=e:D.includes(a)?b.top=e+f.height/2:w.includes(a)?b.top=e+f.height:b.top=e;return b}function k(a){var b=void 0,b=a.jquery?a[0].getBoundingClientRect():"string"===typeof a?document.querySelector(a).getBoundingClientRect():a.getBoundingClientRect();return{width:Math.round(b.width),height:Math.round(b.height),left:Math.round(b.left+window.pageXOffset),top:Math.round(b.top+window.pageYOffset)}}var n=void 0,m=void 0,p=void 0,q=void 0,r=0,t=0,u=m=m=void 0,y=["left-top","left-center",
"left-bottom"],x=["center-top","center","center-bottom"],z=["right-top","right-center","right-bottom"],B=["left-top","center-top","right-top"],D=["left-center","center","right-center"],w=["left-bottom","center-bottom","right-bottom"];"string"===typeof h&&(n=h.match(/\b[a-z]{4,6}-{1}[a-z]{3,6}\b/),m=h.match(/DOWN|UP|RIGHT|LEFT/),u=h.match(/[+-]?\d+\.?\d*%?/g),h=$.isArray(n)?{my:n[0],at:n[0]}:{my:"center",at:"center"},$.isArray(m)&&(h.autoposition=m[0]),$.isArray(u)&&(h.offsetX=u[0],2===u.length&&(h.offsetY=
u[1])));p=Object.assign({my:"center",at:"center",offsetX:0,offsetY:0,modify:!1,fixed:"true"},h);n="string"===typeof a?document.querySelector(a):a.jquery?a[0]:a;q=n.parentElement;p.of||(q===document.body?p.of="window":p.of=q);m=k(n);"string"===typeof p.offsetX&&"%"===p.offsetX.slice(-1)?p.offsetX="window"===p.of?window.innerWidth*(parseInt(p.offsetX,10)/100):q.clientWidth*(parseInt(p.offsetX,10)/100):"string"===typeof p.offsetX?p.offsetX=parseFloat(p.offsetX):$.isFunction(p.offsetX)&&(p.offsetX=parseInt(p.offsetX.call(a,
a)));"string"===typeof p.offsetY&&"%"===p.offsetY.slice(-1)?p.offsetY="window"===p.of?window.innerHeight*(parseInt(p.offsetY,10)/100):q.clientHeight*(parseInt(p.offsetY,10)/100):"string"===typeof p.offsetY?p.offsetY=parseFloat(p.offsetY):$.isFunction(p.offsetY)&&(p.offsetY=parseInt(p.offsetY.call(a,a)));u=parseInt(e(q,"border-left-width"));y.includes(p.my)?r=u:x.includes(p.my)?r=m.width/2+u:z.includes(p.my)&&(r=m.width+u);u=parseInt(e(q,"border-top-width"));B.includes(p.my)?t=u:D.includes(p.my)?t=
m.height/2+u:w.includes(p.my)&&(t=m.height+u);n.parentElement===document.body?"window"===p.of?(u=b(p.at),p.fixed?(m=u.left-r+p.offsetX-window.pageXOffset,u=u.top-t+p.offsetY-window.pageYOffset):(m=u.left-r+p.offsetX,u=u.top-t+p.offsetY)):(u=g(p.at),m=u.left-r+p.offsetX,u=u.top-t+p.offsetY):(m=u=void 0,m="string"===typeof p.of?document.querySelector(p.of):p.of.jquery?p.of[0]:p.of,u=q===m?f(p.at):l(p.at),m=u.left-r+p.offsetX,u=u.top-t+p.offsetY);if(p.autoposition){var A=void 0,r=void 0,t=[],C=this.autopositionSpacing;
p.my===p.at&&(A=p.my);n.setAttribute("data-autoposition",p.autoposition);$.isFunction(p.offsetX)||n.setAttribute("data-offsetx",p.offsetX);$.isFunction(p.offsetY)||n.setAttribute("data-offsety",p.offsetY);n.classList.add(A);r=document.getElementsByClassName(A);for(A=0;A<r.length;A++)r[A].parentElement===q&&t.push(r[A]);if("DOWN"===p.autoposition)for(A=0;A<t.length-1;A++)u+=t[A].getBoundingClientRect().height+C;else if("UP"===p.autoposition)for(A=0;A<t.length-1;A++)u-=t[A].getBoundingClientRect().height+
C;else if("RIGHT"===p.autoposition)for(A=0;A<t.length-1;A++)m+=t[A].getBoundingClientRect().width+C;else if("LEFT"===p.autoposition)for(A=0;A<t.length-1;A++)m-=t[A].getBoundingClientRect().width+C}m={left:m,top:u};"function"===typeof p.modify&&(m=p.modify.call(m,m));n.style.position="absolute";n.style.left=m.left+"px";n.style.top=m.top+"px";n.style.opacity=1;"window"===p.of&&p.fixed&&q===document.body&&(n.style.position="fixed");return n},reposition:function(a){var h=1>=arguments.length||void 0===
arguments[1]?a.option.position:arguments[1];"minimized"!==a.data("status")&&(0<$(".jsPanel-connector",a).length&&$(".jsPanel-connector",a).remove(),this.position(a,h),a.option.position=h);return a},addCustomTheme:function(a){this.themes.includes(a)||this.themes.push(a)},hslToRgb:function(a,h,e){if(0===h)e=h=a=e;else{var b=function(a,b,e){0>e&&(e+=1);1<e&&--e;return e<1/6?a+6*(b-a)*e:.5>e?b:e<2/3?a+(b-a)*(2/3-e)*6:a},g=.5>e?e*(1+h):e+h-e*h,f=2*e-g;e=b(f,g,a+1/3);h=b(f,g,a);a=b(f,g,a-1/3)}return[Math.round(255*
e),Math.round(255*h),Math.round(255*a)]},rgbToHsl:function(a,h,e){a/=255;h/=255;e/=255;var b=Math.max(a,h,e),g=Math.min(a,h,e),f,l=(b+g)/2;if(b===g)f=g=0;else{var k=b-g,g=.5<l?k/(2-b-g):k/(b+g);switch(b){case a:f=(h-e)/k+(h<e?6:0);break;case h:f=(e-a)/k+2;break;case e:f=(a-h)/k+4}f/=6}f*=360;g=100*g+"%";l=100*l+"%";return{css:"hsl("+f+","+g+","+l+")",h:f,s:g,l:l}},rgbToHex:function(a,h,e){var b=void 0,g=void 0,f=void 0,b=Number(a).toString(16);1===b.length&&(b="0"+b);g=Number(h).toString(16);1===
g.length&&(g="0"+g);f=Number(e).toString(16);1===f.length&&(f="0"+f);return"#"+b+g+f},perceivedBrightness:function(a){a=this.color(a).rgb;return a.r/255*.2627+a.g/255*.678+a.b/255*.0593},lighten:function(a,h){var e=this.color(a).hsl,b=parseFloat(e.l);return"hsl("+e.h+","+e.s+","+(b+(100-b)*h+"%")+")"},darken:function(a,h){var e=this.color(a).hsl,b=parseFloat(e.l);return"hsl("+e.h+","+e.s+","+(b-b*h+"%")+")"},color:function(a){a=a.toLowerCase();var h=void 0,e=void 0,b=void 0,g=b=e=void 0,h=e=h=void 0,
f={},h=/^rgba?\(([0-9]{1,3}),([0-9]{1,3}),([0-9]{1,3}),?(0|1|0\.[0-9]{1,2}|\.[0-9]{1,2})?\)$/gi,e=/^hsla?\(([0-9]{1,3}),([0-9]{1,3}\%),([0-9]{1,3}\%),?(0|1|0\.[0-9]{1,2}|\.[0-9]{1,2})?\)$/gi,b={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",
cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",
dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",
lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",
midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",
salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};b[a]&&(a=b[a]);null!==a.match(/^#?([0-9a-f]{3}|[0-9a-f]{6})$/gi)?(a=a.replace("#",""),1===a.length%
2?(h=a.substr(0,1).repeat(2),e=a.substr(1,1).repeat(2),b=a.substr(2,1).repeat(2),f.rgb={r:parseInt(h,16),g:parseInt(e,16),b:parseInt(b,16)},f.hex="#"+h+e+b):(f.rgb={r:parseInt(a.substr(0,2),16),g:parseInt(a.substr(2,2),16),b:parseInt(a.substr(4,2),16)},f.hex="#"+a),h=this.rgbToHsl(f.rgb.r,f.rgb.g,f.rgb.b),f.hsl=h,f.rgb.css="rgb("+f.rgb.r+","+f.rgb.g+","+f.rgb.b+")"):a.match(h)?(h=h.exec(a),f.rgb={css:a,r:h[1],g:h[2],b:h[3]},f.hex=this.rgbToHex(h[1],h[2],h[3]),h=this.rgbToHsl(h[1],h[2],h[3]),f.hsl=
h):a.match(e)?(h=e.exec(a),e=h[1]/360,b=h[2].substr(0,h[2].length-1)/100,g=h[3].substr(0,h[3].length-1)/100,e=this.hslToRgb(e,b,g),f.rgb={css:"rgb("+e[0]+","+e[1]+","+e[2]+")",r:e[0],g:e[1],b:e[2]},f.hex=this.rgbToHex(f.rgb.r,f.rgb.g,f.rgb.b),f.hsl={css:"hsl("+h[1]+","+h[2]+","+h[3]+")",h:h[1],s:h[2],l:h[3]}):(f.hex="#f5f5f5",f.rgb={css:"rgb(245,245,245)",r:245,g:245,b:245},f.hsl={css:"hsl(0,0%,96.08%)",h:0,s:"0%",l:"96.08%"});return f},calcColors:function(a){var h=this.color(a),e=this.lighten(a,
.81),b=this.darken(a,.5),g=void 0,f=void 0,l=void 0;this.perceivedBrightness(a)<=this.pbTreshold?g="#ffffff":g="#000000";this.perceivedBrightness(e)<=this.pbTreshold?f="#ffffff":f="#000000";this.perceivedBrightness(b)<=this.pbTreshold?l="#000000":l="#ffffff";return[h.hsl.css,e,b,g,f,l]},insertModalBackdrop:function(a){var h=void 0,h=void 0;0===$(".jsPanel-modal-backdrop").length?h="rgba(0,0,0,0.65)":h="rgba(0,0,0,0.15)";h=a?'<div id="jsPanel-modal-backdrop-'+a.attr("id")+'" class="jsPanel-modal-backdrop" style="background:'+
h+";z-index:"+(this.modalcount+9999)+'"></div>':'<div id="jsPanel-modal-backdrop" class="jsPanel-modal-backdrop" style="background:'+h+";z-index:"+(this.modalcount+9999)+'"></div>';$("body").append(h);this.modalcount+=1},addConnector:function(a){function h(b){if(b.match(/top|topleft|topright|lefttopcorner|righttopcorner|leftbottom|rightbottom/))return"none"!==a.footer.css("display")?k:0<parseFloat(a.option.contentSize.height)?l:n}function e(b){if(b.match(/bottom|bottomleft|bottomright|leftbottomcorner|rightbottomcorner/)){if(!a.option.headerRemove)return n;
if(0<parseFloat(a.option.contentSize.height))return l;if("none"!==a.footer.css("display"))return k}}function b(b){if(b.match(/lefttop|righttop/))return a.option.headerRemove?l:n}function g(b){if(b.match(/left|right/)){if(0<parseFloat(a.option.contentSize.height))return l;if(!a.option.headerRemove)return n;if("none"!==a.footer.css("display"))return k}}var f=a.option.paneltype.connectorBG||null,l=a.content.css("background-color"),k=a.footer.css("background-color"),n=a.css("background-color");a.hasClass("jsPanel-tooltip-top")?
(a.append("<div class='jsPanel-connector jsPanel-connector-top'>"),$(".jsPanel-connector-top",a).css("border-top-color",f||h("top")),a.option.position.offsetY=a.option.position.offsetY-10||-10):a.hasClass("jsPanel-tooltip-bottom")?(a.append("<div class='jsPanel-connector jsPanel-connector-bottom'>"),$(".jsPanel-connector-bottom",a).css("border-bottom-color",f||e("bottom")),a.option.position.offsetY=a.option.position.offsetY+10||10):a.hasClass("jsPanel-tooltip-left")?(a.append("<div class='jsPanel-connector jsPanel-connector-left'>"),
$(".jsPanel-connector-left",a).css("border-left-color",f||g("left")),a.option.position.offsetX=a.option.position.offsetX-12||-12):a.hasClass("jsPanel-tooltip-right")?(a.append("<div class='jsPanel-connector jsPanel-connector-right'>"),$(".jsPanel-connector-right",a).css("border-right-color",f||g("right")),a.option.position.offsetX=a.option.position.offsetX+12||12):a.hasClass("jsPanel-tooltip-lefttopcorner")?(a.append("<div class='jsPanel-connector jsPanel-connector-lefttopcorner'>"),$(".jsPanel-connector-lefttopcorner",
a).css("background-color",f||h("lefttopcorner"))):a.hasClass("jsPanel-tooltip-righttopcorner")?(a.append("<div class='jsPanel-connector jsPanel-connector-righttopcorner'>"),$(".jsPanel-connector-righttopcorner",a).css("background-color",f||h("righttopcorner"))):a.hasClass("jsPanel-tooltip-rightbottomcorner")?(a.append("<div class='jsPanel-connector jsPanel-connector-rightbottomcorner'>"),$(".jsPanel-connector-rightbottomcorner",a).css("background-color",f||e("rightbottomcorner"))):a.hasClass("jsPanel-tooltip-leftbottomcorner")?
(a.append("<div class='jsPanel-connector jsPanel-connector-leftbottomcorner'>"),$(".jsPanel-connector-leftbottomcorner",a).css("background-color",f||e("leftbottomcorner"))):a.hasClass("jsPanel-tooltip-lefttop")?(a.append("<div class='jsPanel-connector jsPanel-connector-lefttop'>"),$(".jsPanel-connector-lefttop",a).css("border-left-color",f||b("lefttop")),a.option.position.offsetX=a.option.position.offsetX-12||-12):a.hasClass("jsPanel-tooltip-leftbottom")?(a.append("<div class='jsPanel-connector jsPanel-connector-leftbottom'>"),
$(".jsPanel-connector-leftbottom",a).css("border-left-color",f||h("leftbottom")),a.option.position.offsetX=a.option.position.offsetX-12||-12):a.hasClass("jsPanel-tooltip-topleft")?(a.append("<div class='jsPanel-connector jsPanel-connector-topleft'>"),$(".jsPanel-connector-topleft",a).css("border-top-color",f||h("topleft")),a.option.position.offsetY=a.option.position.offsetY-10||-10):a.hasClass("jsPanel-tooltip-topright")?(a.append("<div class='jsPanel-connector jsPanel-connector-topright'>"),$(".jsPanel-connector-topright",
a).css("border-top-color",f||h("topright")),a.option.position.offsetY=a.option.position.offsetY-10||-10):a.hasClass("jsPanel-tooltip-righttop")?(a.append("<div class='jsPanel-connector jsPanel-connector-righttop'>"),$(".jsPanel-connector-righttop",a).css("border-right-color",f||b("righttop")),a.option.position.offsetX=a.option.position.offsetX+12||12):a.hasClass("jsPanel-tooltip-rightbottom")?(a.append("<div class='jsPanel-connector jsPanel-connector-rightbottom'>"),$(".jsPanel-connector-rightbottom",
a).css("border-right-color",f||h("rightbottom")),a.option.position.offsetX=a.option.position.offsetX+12||12):a.hasClass("jsPanel-tooltip-bottomleft")?(a.append("<div class='jsPanel-connector jsPanel-connector-bottomleft'>"),$(".jsPanel-connector-bottomleft",a).css("border-bottom-color",f||e("bottomleft")),a.option.position.offsetY=a.option.position.offsetY+10||10):a.hasClass("jsPanel-tooltip-bottomright")&&(a.append("<div class='jsPanel-connector jsPanel-connector-bottomright'>"),$(".jsPanel-connector-bottomright",
a).css("border-bottom-color",f||e("bottomright")),a.option.position.offsetY=a.option.position.offsetY+10||10)},setTrigger:function(a){return"string"===typeof a.of?document.querySelector(a.of):a.of.jquery?a.of[0]:a.of},closeTooltips:function(){$(".jsPanel-tooltip").each(function(a,h){return h.jspanel.close()})},setTooltipClass:function(a){var h=a.option.position;"center-bottom"===h.my&&"center-top"===h.at?a.addClass("jsPanel-tooltip-top"):"left-bottom"===h.my&&"right-top"===h.at?a.addClass("jsPanel-tooltip-righttopcorner"):
"left-center"===h.my&&"right-center"===h.at?a.addClass("jsPanel-tooltip-right"):"left-top"===h.my&&"right-bottom"===h.at?a.addClass("jsPanel-tooltip-rightbottomcorner"):"center-top"===h.my&&"center-bottom"===h.at?a.addClass("jsPanel-tooltip-bottom"):"right-top"===h.my&&"left-bottom"===h.at?a.addClass("jsPanel-tooltip-leftbottomcorner"):"right-center"===h.my&&"left-center"===h.at?a.addClass("jsPanel-tooltip-left"):"right-bottom"===h.my&&"left-top"===h.at?a.addClass("jsPanel-tooltip-lefttopcorner"):
"center"===h.my&&"center"===h.at?a.addClass("jsPanel-tooltip-center"):"right-top"===h.my&&"left-top"===h.at?a.addClass("jsPanel-tooltip-lefttop"):"right-bottom"===h.my&&"left-bottom"===h.at?a.addClass("jsPanel-tooltip-leftbottom"):"left-bottom"===h.my&&"left-top"===h.at?a.addClass("jsPanel-tooltip-topleft"):"right-bottom"===h.my&&"right-top"===h.at?a.addClass("jsPanel-tooltip-topright"):"left-top"===h.my&&"right-top"===h.at?a.addClass("jsPanel-tooltip-righttop"):"left-bottom"===h.my&&"right-bottom"===
h.at?a.addClass("jsPanel-tooltip-rightbottom"):"left-top"===h.my&&"left-bottom"===h.at?a.addClass("jsPanel-tooltip-bottomleft"):"right-top"===h.my&&"right-bottom"===h.at&&a.addClass("jsPanel-tooltip-bottomright")},setTooltipMode:function(a,h){"semisticky"===a.option.paneltype.mode?a.hover(function(){return $.noop()},function(){a.close();$(h).removeClass("hasTooltip")}):"sticky"===a.option.paneltype.mode?$.noop():$(h).mouseout(function(){a.close();$(h).removeClass("hasTooltip")})},ajax:function(a){var h=
a.option.contentAjax;$.ajax(h).done(function(e,b,g){h.autoload&&a.content.append(e);$.isFunction(h.done)&&h.done.call(a,e,b,g,a)}).fail(function(e,b,g){$.isFunction(h.fail)&&h.fail.call(a,e,b,g,a)}).always(function(e,b,g){$.isFunction(h.always)&&h.always.call(a,e,b,g,a)}).then(function(e,b,g){h.then&&$.isArray(h.then)&&$.isFunction(h.then[0])&&h.then[0].call(a,e,b,g,a)},function(e,b,g){$.isArray(h.then)&&$.isFunction(h.then[1])&&h.then[1].call(a,e,b,g,a)});a.data("ajaxURL",h.url)},iframe:function(a){var h=
$("<iframe></iframe>"),e=a.option.contentIframe;e.srcdoc&&(h.prop("srcdoc",e.srcdoc),a.data("iframeDOC",e.srcdoc));e.src&&(h.prop("src",e.src),a.data("iframeSRC",e.src));"auto"===a.option.contentSize.width||e.width?h.prop("width",e.width):h.css("width","100%");"auto"===a.option.contentSize.height||e.height?h.prop("height",e.height):h.css("height","100%");e.name&&h.prop("name",e.name);e.sandbox&&h.prop("sandox",e.sandbox);e.id&&h.prop("id",e.id);$.isPlainObject(e.style)&&h.css(e.style);"string"===
typeof e.classname?h.addClass(e.classname):$.isFunction(e.classname)&&h.addClass(e.classname());a.content.append(h)},contentReload:function(a){a.option.content?a.content.empty().append(a.option.content):a.option.contentAjax?(a.content.empty(),this.ajax(a)):a.option.contentIframe&&(a.content.empty(),this.iframe(a));return a},contentResize:function(a){var h=void 0;a.footer.hasClass("active")?h=a.header.outerHeight()+a.footer.outerHeight():h=a.header.outerHeight();a.content.css({height:a.outerHeight()-
h});return a},configIconfont:function(a){var h="close maximize normalize minimize smallify smallifyrev".split(" "),e="remove fullscreen resize-full minus chevron-up chevron-down".split(" "),b="times arrows-alt expand minus chevron-up chevron-down".split(" "),g=a.option.headerControls.iconfont,f=a.header.headerbar;"bootstrap"===g||"glyphicon"===g?(h.forEach(function(a,b){$(".jsPanel-btn-"+a+" span",f).removeClass().addClass("glyphicon glyphicon-"+e[b])}),$(".jsPanel-headerbar .jsPanel-btn",a).css("padding-top",
"4px")):"font-awesome"===g&&h.forEach(function(a,e){$(".jsPanel-btn-"+a+" span",f).removeClass().addClass("fa fa-"+b[e])})},headerControl:function(a,h,e){var b=a.header.headerbar,g=a[0];"disable"===e?"removed"!==g.getAttribute("data-btn"+h)&&(g.setAttribute("data-btn"+h,"disabled"),$(".jsPanel-btn-"+h,b).css({pointerEvents:"none",opacity:.4,cursor:"default"})):"enable"===e?"removed"!==g.getAttribute("data-btn"+h)&&(g.setAttribute("data-btn"+h,"enabled"),$(".jsPanel-btn-"+h,b).css({pointerEvents:"auto",
opacity:1,cursor:"pointer"})):"remove"===e&&"close"!==h&&(g.setAttribute("data-btn"+h,"removed"),$(".jsPanel-btn-"+h,b).remove());return a},hideControls:function(a,h){var e=h.header.headerbar;$("div",e).css("display","flex");$(a,e).css("display","none")},headerTitle:function(a,h){return h?(a.header.title.empty().append(h),a):a.header.title.html()},configToolbar:function(a,h,e){var b=void 0,g=void 0;a.forEach(function(a){"object"===("undefined"===typeof a?"undefined":_typeof(a))&&(b=$(a.item),"string"===
typeof a.btntext&&b.append(a.btntext),"string"===typeof a.btnclass&&b.addClass(a.btnclass),h.append(b),$.isFunction(a.callback)&&(g=a.event||"click",b.on(g,e,a.callback)))})},toolbar:function(a,h,e){"header"===h?(a.header.toolbar.addClass("active"),$.isArray(e)?this.configToolbar(e,a.header.toolbar,a):$.isFunction(e)?a.header.toolbar.append(e(a.header)):a.header.toolbar.append(e)):"footer"===h&&(a.content.removeClass("jsPanel-content-nofooter"),a.footer.addClass("active"),$.isArray(e)?this.configToolbar(e,
a.footer,a):$.isFunction(e)?a.footer.append(e(a.footer)):a.footer.append(e));this.contentResize(a);return a},closeChildpanels:function(a){$(".jsPanel",a).each(function(a,e){e.jspanel.close()});return a},dblclickhelper:function(a,h){if("string"===typeof a)if("maximize"===a||"normalize"===a)"normalized"===h.data("status")?h.maximize():h.normalize();else if("minimize"===a||"smallify"===a||"close"===a)h[a]()},exportPanels:function(){var a=void 0,h=void 0,e=void 0,b=void 0,g=void 0,f=void 0,l=void 0,k=
[],n=void 0,m=$(".jsPanel").not(".jsPanel-tooltip, .jsPanel-hint, .jsPanel-modal");m.each(function(a,b){"normalized"!==$(b).data("status")&&$(".jsPanel-btn-normalize",b).trigger("click")});m.each(function(m,q){l=$(q).data("container");a=$(q).offset();h=$(q).position();"body"===l.toLowerCase()?(e=Math.floor(a.top-$(window).scrollTop()),b=Math.floor(a.left-$(window).scrollLeft())):(e=Math.floor(h.top),b=Math.floor(h.left));g=$(q).css("width");f=$(".jsPanel-content",q).css("height");n={status:$(q).data("status"),
id:$(q).prop("id"),headerTitle:$(".jsPanel-title",q).html(),custom:$(q).data("custom"),content:$(q).data("content"),contentSize:{width:g,height:f},position:{my:"left-top",at:"left-top",offsetX:b,offsetY:e}};$(q).data("ajaxURL")&&(n.contentAjax={url:$(q).data("ajaxURL"),autoload:!0});if($(q).data("iframeDOC")||$(q).data("iframeSRC"))n.contentIframe={src:$(q).data("iframeSRC")||"",srcdoc:$(q).data("iframeDOC")||""};k.push(n);switch(n.status){case "minimized":$(".jsPanel-btn-minimize",q).trigger("click");
break;case "maximized":$(".jsPanel-btn-maximize",q).trigger("click");break;case "smallified":$(".jsPanel-btn-smallify",q).trigger("click");break;case "smallifiedMax":$(".jsPanel-btn-smallify",q).trigger("click")}});window.localStorage.setItem("jspanels",JSON.stringify(k));return k},importPanels:function(a){var h=JSON.parse(localStorage.jspanels)||{},e=a["default"]||{},b=void 0;h.forEach(function(g){b="string"===typeof g.custom.config?$.extend(!0,{},e,a[g.custom.config],g):$.extend(!0,{},e,g);$.jsPanel(b)})},
resize:function(a,h,e){if("minimized"!==a.data("status")){if($.isFunction(a.option.onbeforeresize)&&!1===a.option.onbeforeresize.call(a,a))return a;h&&null!==h||(h=a.content.css("width")+a.content.css("border-left-width"));a.css("width",h);e&&null!==e&&a.css("height",e);a.contentResize();$.isFunction(a.option.onresized)&&a.option.onresized.call(a,a)}return a},setZi:function(a){a.hasClass("jsPanel-modal")||(this.zi+=1)>a.css("z-index")&&a.css("z-index",this.zi)},resetZis:function(){var a=[];$(".jsPanel:not(.jsPanel-modal):not(.jsPanel-hint)").each(function(h,
e){a.push(e)});a.sort(function(a,e){return $(a).css("z-index")-$(e).css("z-index")}).forEach(function(a,e){(jsPanel.zi+=1)>$(a).css("z-index")&&$(a).css("z-index",100+e)});this.zi=99+a.length},updateCachedData:function(a){var h=window.getComputedStyle(a[0],null);a.cachedData.top=h.getPropertyValue("top");a.cachedData.left=h.getPropertyValue("left");a.cachedData.width=h.getPropertyValue("width");a.cachedData.height=h.getPropertyValue("height")}};$(document.body).append("<div id='jsPanel-replacement-container'>");
(function(a){a.jsPanel=function(h){var e=void 0,b=h||{},g=a.extend(!0,{},b.config||{},b),f=void 0,l=[],k=void 0,n=void 0,m=a(b.template||jsPanel.template),p=void 0;h.zi&&(jsPanel.zi=h.zi);"tooltip"===g.paneltype&&(g.paneltype={tooltip:!0});g.paneltype?"modal"===g.paneltype?m.option=a.extend(!0,{},a.jsPanel.defaults,a.jsPanel.modaldefaults,g):g.paneltype.tooltip?m.option=a.extend(!0,{},a.jsPanel.defaults,a.jsPanel.tooltipdefaults,g):"hint"===g.paneltype&&(m.option=a.extend(!0,{},a.jsPanel.defaults,
a.jsPanel.hintdefaults,g)):m.option=a.extend(!0,{},a.jsPanel.defaults,g);if(m.option.paneltype.tooltip&&(p=jsPanel.setTrigger(m.option.position),a(p).hasClass("hasTooltip")))return!1;var q="container contentAjax contentIframe contentOverflow contentSize footerToolbar headerControls headerRemove headerTitle headerToolbar".split(" ");"selector ajax iframe overflow size toolbarFooter controls removeHeader title toolbarHeader".split(" ").forEach(function(a,b){m.option[a]&&(m.option[q[b]]=m.option[a])});
switch(m.option.theme){case "light":m.option.theme="gainsboro";break;case "medium":m.option.theme="silver";break;case "dark":m.option.theme="gray";break;case "autumngreen":m.option.theme="#5A521B";break;case "autumnbrown":m.option.theme="#823E1D";break;case "autumnred":m.option.theme="#852228"}if(m.option.bootstrap)switch(m.option.bootstrap){case "default":m.option.theme="bootstrap-default";break;case "primary":m.option.theme="bootstrap-primary";break;case "info":m.option.theme="bootstrap-info";break;
case "success":m.option.theme="bootstrap-success";break;case "warning":m.option.theme="bootstrap-warning";break;case "danger":m.option.theme="bootstrap-danger"}m.option.load.url&&(m.option.contentAjax={url:m.option.load.url,autoload:!0,data:m.option.load.data||void 0,done:m.option.load.complete||void 0});m.option.panelstatus&&("smallifiedMax"===m.option.panelstatus?m.option.setstatus="maximize smallify":m.option.setstatus=m.option.panelstatus);m.option.headerControls.buttons&&(m.option.headerControls.controls=
m.option.headerControls.buttons);f=m.option.theme.toLowerCase().replace(/ /g,"");f.endsWith("filled")?(l[1]="filled",l[0]=f.substr(0,f.length-6)):f.endsWith("filledlight")?(l[1]="filledlight",l[0]=f.substr(0,f.length-11)):(l[1]="",l[0]=f);l[0].match("-")&&(k=l[0].split("-"),n=!0);"string"===typeof m.option.id?e=m.option.id:a.isFunction(m.option.id)&&(m.option.id=e=m.option.id());if(0<a("#"+e).length)return console.warn("jsPanel Error: No jsPanel created - id attribute passed with option.id already exists in document"),
!1;m.attr("id",e);m.data("custom",m.option.custom);m.header=a(".jsPanel-hdr",m);m.header.headerbar=a(".jsPanel-headerbar",m.header);m.header.title=a(".jsPanel-title",m.header.headerbar);m.header.controls=a(".jsPanel-controlbar",m.header.headerbar);m.header.toolbar=a(".jsPanel-hdr-toolbar",m.header);m.content=a(".jsPanel-content",m);m.footer=a(".jsPanel-ftr",m);m.data("status","initialized");m.cachedData={};m.toolbarAdd=function(){return jsPanel.toolbar(m,0>=arguments.length||void 0===arguments[0]?
"header":arguments[0],1>=arguments.length||void 0===arguments[1]?[]:arguments[1])};m.close=function(){a(document).trigger("jspanelbeforeclose",e);if(a.isFunction(m.option.onbeforeclose)&&!1===m.option.onbeforeclose.call(m,m))return m;var b=m.option.position;if(b.autoposition||"string"===typeof b&&b.match(/DOWN|RIGHT|UP|LEFT/)){var b=a("#"+e).parent(),f=document.getElementById(e).className.match(/left-top|center-top|right-top|left-center|center|right-center|left-bottom|center-bottom|right-bottom/);
f&&(jsPanel.lastbeforeclose={parent:b,"class":f[0]})}m.closeChildpanels().remove();b=jsPanel.activePanels.list.findIndex(function(a){return a===e});-1<b&&jsPanel.activePanels.list.splice(b,1);a("#"+e+"-min").remove();"modal"===m.option.paneltype&&a("#jsPanel-modal-backdrop-"+m.attr("id")).remove();m.option.paneltype.tooltip&&a(p).removeClass("hasTooltip");a(document).trigger("jspanelclosed",e);a(document).trigger("jspanelstatuschange",e);var g=b=b=void 0;jsPanel.lastbeforeclose&&(b=jsPanel.lastbeforeclose.parent,
b=a("."+jsPanel.lastbeforeclose["class"],b),g=jsPanel.lastbeforeclose["class"]);b&&(b.each(function(b,e){a(e).removeClass(g)}),b.each(function(a,b){var e=b.getAttribute("data-autoposition"),f=b.getAttribute("data-offsetx"),h=b.getAttribute("data-offsety");jsPanel.position(b,{my:g,at:g,autoposition:e,offsetX:f,offsetY:h})}));jsPanel.lastbeforeclose=!1;a.isFunction(m.option.onclosed)&&m.option.onclosed.call(m,m);jsPanel.resetZis()};m.closeChildpanels=function(){return jsPanel.closeChildpanels(m)};m.contentReload=
function(){return jsPanel.contentReload(m)};m.contentResize=function(){return jsPanel.contentResize(m)};m.headerControl=function(a){var b=1>=arguments.length||void 0===arguments[1]?"enable":arguments[1];a?jsPanel.headerControl(m,a,b):["close","maximize","minimize","normalize","smallify"].forEach(function(a){jsPanel.headerControl(m,a,b)});return m};m.headerTitle=function(a){return jsPanel.headerTitle(m,a)};m.front=function(){m.css("z-index",jsPanel.setZi(m));jsPanel.resetZis();return m};m.normalize=
function(){if("normalized"===m.data("status"))return m;a(document).trigger("jspanelbeforenormalize",e);if(a.isFunction(m.option.onbeforenormalize)&&!1===m.option.onbeforenormalize.call(m,m))return m;m.css({left:m.cachedData.left,top:m.cachedData.top,width:m.cachedData.width,height:m.cachedData.height,zIndex:function(){jsPanel.setZi(m)}}).data("status","normalized").contentResize();jsPanel.hideControls(".jsPanel-btn-normalize, .jsPanel-btn-smallifyrev",m);a("#"+m.prop("id")+"-min").remove();a(document).trigger("jspanelnormalized",
e);a(document).trigger("jspanelstatuschange",e);a.isFunction(m.option.onnormalized)&&m.option.onnormalized.call(m,m);return m};m.maximize=function(){var b=m.option.maximizedMargin,f=m[0].parentNode;if("maximized"===m.data("status"))return m;"normalized"===m.data("status")&&jsPanel.updateCachedData(m);a(document).trigger("jspanelbeforemaximize",e);if(a.isFunction(m.option.onbeforemaximize)&&!1===m.option.onbeforemaximize.call(m,m))return m;f===document.body?(m.css({width:document.documentElement.clientWidth-
b.left-b.right+"px",height:document.documentElement.clientHeight-b.top-b.bottom+"px",left:b.left+"px",top:b.top+"px"}),!1===m.option.position.fixed&&m.css({left:window.pageXOffset+b.left+"px",top:window.pageYOffset+b.top+"px"})):m.css({width:f.clientWidth-b.left-b.right+"px",height:f.clientHeight-b.top-b.bottom+"px",left:b.left+"px",top:b.top+"px"});m.contentResize().data("status","maximized").css("z-index",jsPanel.setZi(m));jsPanel.hideControls(".jsPanel-btn-maximize, .jsPanel-btn-smallifyrev",m);
a("#"+m.prop("id")+"-min").remove();a(document).trigger("jspanelmaximized",e);a(document).trigger("jspanelstatuschange",e);a.isFunction(m.option.onmaximized)&&m.option.onmaximized.call(m,m);return m};m.minimize=function(){if("minimized"===m.data("status"))return m;a(document).trigger("jspanelbeforeminimize",e);if(a.isFunction(m.option.onbeforeminimize)&&!1===m.option.onbeforeminimize.call(m,m))return m;var b=m.header.headerbar.css("color"),f=void 0,f=n?"transparent"===m.header.css("background-color")?
m.css("background-color"):m.header.css("background-color"):m.css("background-color");"normalized"===m.data("status")&&jsPanel.updateCachedData(m);var g=a(jsPanel.replacementTemplate);g.left=m.css("left");m.css("left","-9999px").data("status","minimized");g.css({backgroundColor:f}).prop("id",m.prop("id")+"-min").find("h3").css({color:b}).html(m.headerTitle());a(".jsPanel-btn",g).css({color:b});b=a(m.option.container).closest(".jsPanel-content");b.length?(a(".jsPanel-minimized-box").length||a(b[0]).append("<div class='jsPanel-minimized-box'>"),
a(".jsPanel-minimized-box").append(g)):a("#jsPanel-replacement-container").append(g);a(document).trigger("jspanelminimized",e);a(document).trigger("jspanelstatuschange",e);a.isFunction(m.option.onminimized)&&m.option.onminimized.call(m,m);a(".jsPanel-btn-normalize",g).css("display","block").click(function(){m.css("left",g.left);g.remove();a(".jsPanel-btn-normalize",m).trigger("click")});"disabled"===m[0].dataset.btnnormalize?a(".jsPanel-btn-normalize",g).css({pointerEvents:"none",opacity:.5,cursor:"default"}):
"removed"===m[0].dataset.btnnormalize&&a(".jsPanel-btn-normalize",g).remove();a(".jsPanel-btn-maximize",g).click(function(){m.css("left",g.left);g.remove();a(".jsPanel-btn-maximize",m).trigger("click")});"disabled"===m[0].dataset.btnmaximize?a(".jsPanel-btn-maximize",g).css({pointerEvents:"none",opacity:.5,cursor:"default"}):"removed"===m[0].dataset.btnmaximize&&a(".jsPanel-btn-maximize",g).remove();a(".jsPanel-btn-close",g).click(function(){g.remove();m.close()});"disabled"===m[0].dataset.btnclose&&
a(".jsPanel-btn-close",g).css({pointerEvents:"none",opacity:.5,cursor:"default"});return m};m.reposition=function(a){return jsPanel.reposition(m,a)};m.resize=function(a,b){return jsPanel.resize(m,a,b)};m.smallify=function(){"normalized"===m.data("status")||"maximized"===m.data("status")?"smallified"!==m.data("status")&&"smallifiedMax"!==m.data("status")&&(m.smallify.height=m.outerHeight(),m.animate({height:m.header.headerbar.outerHeight()+"px"}),"maximized"===m.data("status")?(jsPanel.hideControls(".jsPanel-btn-maximize, .jsPanel-btn-smallify",
m),m.data("status","smallifiedMax"),a(document).trigger("jspanelsmallifiedmax",e)):(jsPanel.hideControls(".jsPanel-btn-normalize, .jsPanel-btn-smallify",m),m.data("status","smallified"),a(document).trigger("jspanelsmallified",e)),a(document).trigger("jspanelstatuschange",e),a.isFunction(m.option.onsmallified)&&m.option.onsmallified.call(m,m)):"minimized"!==m.data("status")&&(m.animate({height:m.smallify.height}),"smallified"===m.data("status")?(jsPanel.hideControls(".jsPanel-btn-normalize, .jsPanel-btn-smallifyrev",
m),m.data("status","normalized"),a(document).trigger("jspanelnormalized",e)):(jsPanel.hideControls(".jsPanel-btn-maximize, .jsPanel-btn-smallifyrev",m),m.data("status","maximized"),a(document).trigger("jspanelmaximized",e)),a(document).trigger("jspanelstatuschange",e),a.isFunction(m.option.onunsmallified)&&m.option.onunsmallified.call(m,m));m.css("z-index",jsPanel.setZi(m));return m};m.addToolbar=m.toolbarAdd;m.reloadContent=m.contentReload;m.resizeContent=m.contentResize;m.control=m.headerControl;
m.title=m.headerTitle;a(".jsPanel-btn-close",m).on("click",function(a){a.preventDefault();m.close()});a(".jsPanel-btn-minimize",m).on("click",function(a){a.preventDefault();m.minimize()});a(".jsPanel-btn-maximize",m).on("click",function(a){a.preventDefault();m.maximize()});a(".jsPanel-btn-normalize",m).on("click",function(a){a.preventDefault();m.normalize()});a(".jsPanel-btn-smallify, .jsPanel-btn-smallifyrev",m).on("click",function(a){a.preventDefault();m.smallify()});m.option.headerRemove?(m.header.remove(),
m.content.addClass("jsPanel-content-noheader"),["close","maximize","minimize","normalize","smallify"].forEach(function(a){m[0].setAttribute("data-btn"+a,"removed")})):"closeonly"===m.option.headerControls.controls?(a(".jsPanel-btn:not(.jsPanel-btn-close)",m.header.headerbar).remove(),["maximize","minimize","normalize","smallify"].forEach(function(a){m[0].setAttribute("data-btn"+a,"removed")}),m[0].setAttribute("data-btn-close","enabled")):"none"===m.option.headerControls.controls?(a(m.header.controls).remove(),
["close","maximize","minimize","normalize","smallify"].forEach(function(a){m[0].setAttribute("data-btn"+a,"removed")})):["close","maximize","minimize","normalize","smallify"].forEach(function(a){"disable"===m.option.headerControls[a]?m.headerControl(a,"disable"):"remove"===m.option.headerControls[a]?m.headerControl(a,"remove"):m[0].setAttribute("data-btn"+a,"enabled")});jsPanel.configIconfont(m);"modal"===m.option.paneltype?(jsPanel.insertModalBackdrop(m),m.addClass("jsPanel-modal").css("z-index",
jsPanel.modalcount+9999)):"hint"===m.option.paneltype?m.addClass("jsPanel-hint").css("z-index",1E4):m.option.paneltype.tooltip&&(p=jsPanel.setTrigger(m.option.position),m.addClass("jsPanel-tooltip"),jsPanel.setTooltipClass(m),m.option.paneltype.solo&&jsPanel.closeTooltips(),jsPanel.setTooltipMode(m,p));m.appendTo(m.option.container);jsPanel.activePanels.list.push(e);m.option.paneltype.tooltip&&a(p).addClass("hasTooltip");a(document).trigger("jspanelloaded",e);m.data("container",m.option.container);
n?(b=h=void 0,m.addClass("panel panel-"+k[1]).addClass("card card-inverse card-"+k[1]).header.addClass("panel-heading").title.addClass("panel-title"),m.content.addClass("panel-body").css("border-top-color",function(){return m.header.css("border-top-color")}),m.footer.addClass("panel-footer card-footer"),h="transparent"===a(".panel-heading",m).css("background-color")?m.css("background-color").replace(/\s+/g,""):a(".panel-heading",m).css("background-color").replace(/\s+/g,""),b=jsPanel.calcColors(h),
a("*",m.header).css("color",b[3]),m.option.headerToolbar?m.header.toolbar.css({boxShadow:"0 0 1px "+b[3]+" inset",width:"calc(100% + 4px)",marginLeft:"-2px"}):m.content.css({borderTop:"1px solid "+b[3]}),"filled"===l[1]?m.content.css({backgroundColor:h,color:b[3]}):"filledlight"===l[1]&&m.content.css({backgroundColor:b[1],color:"#000000"})):jsPanel.themes.includes(l[0])?([m,m.header,m.content,m.footer].forEach(function(b){return a(b).addClass("jsPanel-theme-"+l[0])}),"filled"===l[1]?m.content.css("background",
"").addClass("jsPanel-content-filled"):"filledlight"===l[1]&&m.content.css("background","").addClass("jsPanel-content-filledlight"),m.option.headerToolbar||m.content.css({borderTop:"1px solid "+m.header.title.css("color")})):(k=jsPanel.calcColors(l[0]),m.css("background-color",k[0]),a(".jsPanel-hdr *",m).css({color:k[3]}),m.option.headerToolbar?m.header.toolbar.css({boxShadow:"0 0 1px "+k[3]+" inset",width:"calc(100% + 4px)",marginLeft:"-2px"}):m.content.css({borderTop:"1px solid "+k[3]}),"filled"===
l[1]?m.content.css({"background-color":k[0],color:k[3]}):"filledlight"===l[1]&&m.content.css({"background-color":k[1]}));(m.option.headerRemove||1>a(".jsPanel-hdr").length)&&m.content.css("border","none");m.option.headerToolbar&&!m.option.headerRemove&&jsPanel.toolbar(m,"header",m.option.headerToolbar);m.option.footerToolbar&&jsPanel.toolbar(m,"footer",m.option.footerToolbar);m.option.content&&(m.content.append(m.option.content),m.data("content",m.option.content));"string"===typeof m.option.contentAjax?
(m.option.contentAjax={url:m.option.contentAjax,autoload:!0},jsPanel.ajax(m)):a.isPlainObject(m.option.contentAjax)&&jsPanel.ajax(m);a.isPlainObject(m.option.contentIframe)&&(m.option.contentIframe.src||m.option.contentIframe.srcdoc)&&jsPanel.iframe(m);m.option.paneltype.connector&&jsPanel.addConnector(m);"string"===typeof m.option.contentSize&&(k=m.option.contentSize.trim().split(" "),h=k.length,m.option.contentSize={width:k[0],height:k[--h]});0===m.option.contentSize.height&&(m.option.contentSize.height=
"0");m.content.css({width:m.option.contentSize.width||a.jsPanel.defaults.contentSize.width,height:m.option.contentSize.height||a.jsPanel.defaults.contentSize.height});m.css({width:function(){return 0<a(".jsPanel-content",m).length?m.content.outerWidth()+"px":m.option.contentSize.width||a.jsPanel.defaults.contentSize.width},zIndex:function(){jsPanel.setZi(m)}});m.content.css("width","100%");jsPanel.position(m,m.option.position);m.data("status","normalized");a(document).trigger("jspanelstatuschange",
e);if(!m.option.paneltype&&m.option.dblclicks){if(m.option.dblclicks.title)m.header.headerbar.on("dblclick",function(a){a.preventDefault();jsPanel.dblclickhelper(m.option.dblclicks.title,m)});if(m.option.dblclicks.content)m.content.on("dblclick",function(a){a.preventDefault();jsPanel.dblclickhelper(m.option.dblclicks.content,m)});if(m.option.dblclicks.footer)m.footer.on("dblclick",function(a){a.preventDefault();jsPanel.dblclickhelper(m.option.dblclicks.footer,m)})}"string"===typeof m.option.contentOverflow?
m.content.css("overflow",m.option.contentOverflow):a.isPlainObject(m.option.contentOverflow)&&m.content.css({"overflow-y":m.option.contentOverflow.vertical||m.option.contentOverflow["overflow-y"],"overflow-x":m.option.contentOverflow.horizontal||m.option.contentOverflow["overflow-x"]});a.isPlainObject(m.option.draggable)?m.draggable(m.option.draggable):"disabled"===m.option.draggable?(a(".jsPanel-hdr, .jsPanel-ftr",m).css("cursor","default"),m.draggable({disabled:!0})):a(".jsPanel-hdr, .jsPanel-ftr",
m).css("cursor","default");a.isPlainObject(m.option.resizable)?m.resizable(m.option.resizable):"disabled"===m.option.resizable&&(m.resizable({disabled:!0}),a(".ui-icon-gripsmall-diagonal-se, .ui-resizable-handle.ui-resizable-sw",m).css({"background-image":"none","text-indent":-9999}),a(".ui-resizable-handle",m).css({cursor:"inherit"}));m.on("resize",function(){return m.contentResize()});!0===m.option.rtl.rtl&&(a(".jsPanel-hdr, .jsPanel-headerbar, .jsPanel-titlebar, .jsPanel-controlbar, .jsPanel-hdr-toolbar, .jsPanel-ftr",
m).addClass("jsPanel-rtl"),[m.header.title,m.content,a("*",m.header.toolbar),a("*",m.footer)].forEach(function(a){a.prop("dir","rtl");m.option.rtl.lang&&a.prop("lang",m.option.rtl.lang)}),a(".ui-icon-gripsmall-diagonal-se",m).css({backgroundImage:"none",textIndent:-9999}));"string"===typeof m.option.show&&m.addClass(m.option.show).css("opacity",1);m.header.title.empty().prepend(m.option.headerTitle);m[0].addEventListener("mousedown",function(b){b=a(b.target).closest(".jsPanel").css("z-index");!m.hasClass("jsPanel-modal")&&
b<jsPanel.zi&&(m.css("z-index",jsPanel.setZi(m)),jsPanel.resetZis())},!1);jsPanel.updateCachedData(m);"string"===typeof m.option.setstatus&&("maximize smallify"===m.option.setstatus?m.maximize().smallify():m[m.option.setstatus]());"number"===typeof m.option.autoclose&&0<m.option.autoclose&&window.setTimeout(function(){m&&m.close()},m.option.autoclose);m[0].jspanel={close:function(){m.close()},normalize:function(){m.normalize();return m},maximize:function(){m.maximize();return m},minimize:function(){m.minimize();
return m},smallify:function(){m.smallify();return m},front:function(){m.front();return m},closeChildpanels:function(){m.closeChildpanels();return m},reposition:function(a){m.reposition(a);return m},resize:function(a,b){m.resize(a,b);return m},contentResize:function(){m.contentResize();return m},contentReload:function(){m.contentReload();return m},headerTitle:function(a){m.headerTitle(a);return m},headerControl:function(a,b){m.headerControl(a,b);return m},toolbarAdd:function(a,b){m.toolbarAdd(a,b);
return m},noop:function(){return m}};m.option.callback&&a.isFunction(m.option.callback)?m.option.callback.call(m,m):a.isArray(m.option.callback)&&m.option.callback.forEach(function(b){a.isFunction(b)&&b.call(m,m)});return m};a.jsPanel.defaults={autoclose:!1,callback:!1,container:"body",content:!1,contentAjax:!1,contentIframe:!1,contentOverflow:"hidden",contentSize:{width:400,height:200},custom:!1,dblclicks:!1,draggable:{handle:"div.jsPanel-hdr, div.jsPanel-ftr",opacity:.8},footerToolbar:!1,headerControls:{close:!1,
maximize:!1,minimize:!1,normalize:!1,smallify:!1,controls:"all",iconfont:"jsglyph"},headerRemove:!1,headerTitle:"jsPanel",headerToolbar:!1,id:function(){return"jsPanel-"+(jsPanel.id+=1)},load:!1,maximizedMargin:{top:5,right:5,bottom:5,left:5},onbeforeclose:!1,onbeforemaximize:!1,onbeforeminimize:!1,onbeforenormalize:!1,onclosed:!1,onmaximized:!1,onminimized:!1,onnormalized:!1,onbeforeresize:!1,onresized:!1,onsmallified:!1,onunsmallified:!1,paneltype:!1,position:{my:"center",at:"center"},resizable:{handles:"n, e, s, w, ne, se, sw, nw",
autoHide:!1,minWidth:40,minHeight:40},rtl:!1,setstatus:!1,show:!1,template:!1,theme:"default"};a.jsPanel.modaldefaults={draggable:"disabled",headerControls:{controls:"closeonly"},position:{my:"center",at:"center"},resizable:"disabled"};a.jsPanel.tooltipdefaults={draggable:!1,headerControls:{controls:"closeonly"},position:{fixed:!1},resizable:!1};a.jsPanel.hintdefaults={autoclose:8E3,draggable:!1,headerControls:{controls:"closeonly"},resizable:!1}})(jQuery);
