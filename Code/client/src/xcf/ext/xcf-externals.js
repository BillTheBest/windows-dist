(function(){var a,h,b,g,f,e,l,k,n,m,p,r,q,u,w,y,x,z,B,D,t={}.hasOwnProperty,A=[].indexOf||function(a){for(var b=0,e=this.length;b<e;b++)if(b in this&&this[b]===a)return b;return-1};e={is_unordered:!1,is_counting:!1,is_exclusive:!1,is_solitary:!1,prevent_default:!1,prevent_repeat:!1,normalize_caps_lock:!1};z="meta alt option ctrl shift cmd".split(" ");y="ctrl";D={debug:!1};a=function(){function a(b){var e,f;for(e in b)t.call(b,e)&&(f=b[e],!1!==f&&(this[e]=f));this.keys=this.keys||[];this.count=this.count||
0}a.prototype.allows_key_repeat=function(){return!this.prevent_repeat&&"function"===typeof this.on_keydown};a.prototype.reset=function(){this.count=0;return this.keyup_fired=null};return a}();D.Listener=function(){function k(a,b){var f,g;"undefined"!==typeof jQuery&&null!==jQuery&&a instanceof jQuery&&(1!==a.length&&w("Warning: your jQuery selector should have exactly one object."),a=a[0]);this.should_force_event_defaults=this.should_suppress_event_defaults=!1;this.sequence_delay=800;this._registered_combos=
[];this._keys_down=[];this._active_combos=[];this._sequence=[];this._sequence_timer=null;this._prevent_capture=!1;this._defaults=b||{};for(f in e)t.call(e,f)&&(g=e[f],this._defaults[f]=this._defaults[f]||g);this.element=a||document.body;f=function(a,b,e){a.addEventListener?a.addEventListener(b,e):a.attachEvent&&a.attachEvent("on"+b,e);return e};this.keydown_event=f(this.element,"keydown",function(a){return function(b){b=b||window.event;a._receive_input(b,!0);return a._bug_catcher(b)}}(this));this.keyup_event=
f(this.element,"keyup",function(a){return function(b){b=b||window.event;return a._receive_input(b,!1)}}(this));this.blur_event=f(window,"blur",function(a){return function(){var b,e,f,g;g=a._keys_down;e=0;for(f=g.length;e<f;e++)b=g[e],a._key_up(b,{});return a._keys_down=[]}}(this))}k.prototype.destroy=function(){var a;a=function(a,b,e){if(null!=a.removeEventListener)return a.removeEventListener(b,e);if(null!=a.removeEvent)return a.removeEvent("on"+b,e)};a(this.element,"keydown",this.keydown_event);
a(this.element,"keyup",this.keyup_event);return a(window,"blur",this.blur_event)};k.prototype._bug_catcher=function(a){var b,e;if("cmd"===y&&0<=A.call(this._keys_down,"cmd")&&"cmd"!==(b=g(null!=(e=a.keyCode)?e:a.key))&&"shift"!==b&&"alt"!==b&&"caps"!==b&&"tab"!==b)return this._receive_input(a,!1)};k.prototype._cmd_bug_check=function(a){return"cmd"===y&&0<=A.call(this._keys_down,"cmd")&&0>A.call(a,"cmd")?!1:!0};k.prototype._prevent_default=function(a,b,e){e=a.target;if(!(e&&-1!=e.className.toLowerCase().indexOf("input")||
!b&&!this.should_suppress_event_defaults||this.should_force_event_defaults)&&(a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation))return a.stopPropagation()};k.prototype._get_active_combos=function(a){var b,e;b=[];e=l(this._keys_down,function(b){return b!==a});e.push(a);this._match_combo_arrays(e,function(a){return function(e){if(a._cmd_bug_check(e.keys))return b.push(e)}}(this));this._fuzzy_match_combo_arrays(e,function(a){return function(e){if(!(0<=A.call(b,e)||e.is_solitary)&&
a._cmd_bug_check(e.keys))return b.push(e)}}(this));return b};k.prototype._get_potential_combos=function(a){var b,e,f,g,k;g=[];k=this._registered_combos;e=0;for(f=k.length;e<f;e++)b=k[e],b.is_sequence||0<=A.call(b.keys,a)&&this._cmd_bug_check(b.keys)&&g.push(b);return g};k.prototype._add_to_active_combos=function(a){var b,e,f,g,k,l,h,n,m,q,p;p=!1;q=!0;f=!1;if(0<=A.call(this._active_combos,a))return!0;if(this._active_combos.length)for(g=k=0,n=this._active_combos.length;0<=n?k<n:k>n;g=0<=n?++k:--k)if((b=
this._active_combos[g])&&b.is_exclusive&&a.is_exclusive){b=b.keys;if(!p)for(h=0,l=b.length;h<l;h++)if(e=b[h],p=!0,0>A.call(a.keys,e)){p=!1;break}if(q&&!p)for(m=a.keys,h=0,l=m.length;h<l;h++)if(e=m[h],q=!1,0>A.call(b,e)){q=!0;break}p&&(f?(b=this._active_combos.splice(g,1)[0],null!=b&&b.reset()):(b=this._active_combos.splice(g,1,a)[0],null!=b&&b.reset(),f=!0),q=!1)}q&&this._active_combos.unshift(a);return p||q};k.prototype._remove_from_active_combos=function(a){var b,e,f,g;e=f=0;for(g=this._active_combos.length;0<=
g?f<g:f>g;e=0<=g?++f:--f)if(b=this._active_combos[e],b===a){a=this._active_combos.splice(e,1)[0];a.reset();break}};k.prototype._get_possible_sequences=function(){var a,b,e,f,g,k,h,n,m,q,p,t;h=[];m=this._registered_combos;e=0;for(f=m.length;e<f;e++)for(a=m[e],b=g=1,q=this._sequence.length;1<=q?g<=q:g>=q;b=1<=q?++g:--g)if(t=this._sequence.slice(-b),a.is_sequence){if(0>A.call(a.keys,"shift")&&(t=l(t,function(a){return"shift"!==a}),!t.length))continue;b=n=0;for(p=t.length;0<=p?n<p:n>p;b=0<=p?++n:--n)if(a.keys[b]===
t[b])k=!0;else{k=!1;break}k&&h.push(a)}return h};k.prototype._add_key_to_sequence=function(a,b){var e,f,g,k;this._sequence.push(a);k=this._get_possible_sequences();if(k.length){f=0;for(g=k.length;f<g;f++)e=k[f],this._prevent_default(b,e.prevent_default);this._sequence_timer&&clearTimeout(this._sequence_timer);-1<this.sequence_delay&&(this._sequence_timer=setTimeout(function(a){return function(){return a._sequence=[]}}(this),this.sequence_delay))}else this._sequence=[]};k.prototype._get_sequence=function(a){var b,
e,f,g,k,h,n,m,q,p,t,r;m=this._registered_combos;f=0;for(g=m.length;f<g;f++)if(b=m[f],b.is_sequence){e=k=1;for(q=this._sequence.length;1<=q?k<=q:k>=q;e=1<=q?++k:--k)if(r=l(this._sequence,function(a){return 0<=A.call(b.keys,"shift")?!0:"shift"!==a}).slice(-e),b.keys.length===r.length)for(e=n=0,p=r.length;0<=p?n<p:n>p;e=0<=p?++n:--n)if(t=r[e],!(0>A.call(b.keys,"shift")&&"shift"===t||"shift"===a&&0>A.call(b.keys,"shift")))if(b.keys[e]===t)h=!0;else{h=!1;break}if(h)return b.is_exclusive&&(this._sequence=
[]),b}return!1};k.prototype._receive_input=function(a,b){var e,f;if(this._prevent_capture)this._keys_down.length&&(this._keys_down=[]);else if(e=g(null!=(f=a.keyCode)?f:a.key),(b||this._keys_down.length||"alt"!==e&&e!==y)&&e)return b?this._key_down(e,a):this._key_up(e,a)};k.prototype._fire=function(a,b,e,f){"function"===typeof b["on_"+a]&&this._prevent_default(e,!0!==b["on_"+a].call(b["this"],e,b.count,f));"release"===a&&(b.count=0);if("keyup"===a)return b.keyup_fired=!0};k.prototype._match_combo_arrays=
function(a,e){var f,g,k,l,n;l=this._registered_combos;g=0;for(k=l.length;g<k;g++)n=l[g],f=a.slice(0),n.normalize_caps_lock&&0<=A.call(f,"caps")&&f.splice(f.indexOf("caps"),1),(!n.is_unordered&&b(f,n.keys)||n.is_unordered&&h(f,n.keys))&&e(n)};k.prototype._fuzzy_match_combo_arrays=function(a,b){var e,f,g,k;g=this._registered_combos;e=0;for(f=g.length;e<f;e++)k=g[e],(!k.is_unordered&&m(k.keys,a)||k.is_unordered&&n(k.keys,a))&&b(k)};k.prototype._keys_remain=function(a){var b,e,f,g;g=a.keys;e=0;for(f=
g.length;e<f;e++)if(a=g[e],0<=A.call(this._keys_down,a)){b=!0;break}return b};k.prototype._key_down=function(a,b){var e,g,k,l,h;(e=f(a,b))&&(a=e);this._add_key_to_sequence(a,b);(e=this._get_sequence(a))&&this._fire("keydown",e,b);for(h in x)e=x[h],b[e]&&(h===a||0<=A.call(this._keys_down,h)||this._keys_down.push(h));for(h in x)if(e=x[h],h!==a&&0<=A.call(this._keys_down,h)&&!b[e]&&("cmd"!==h||"cmd"===y))for(e=g=0,k=this._keys_down.length;0<=k?g<k:g>k;e=0<=k?++g:--g)this._keys_down[e]===h&&this._keys_down.splice(e,
1);g=this._get_active_combos(a);h=this._get_potential_combos(a);l=0;for(k=g.length;l<k;l++)e=g[l],this._handle_combo_down(e,h,a,b);if(h.length)for(g=0,e=h.length;g<e;g++)k=h[g],this._prevent_default(b,k.prevent_default);0>A.call(this._keys_down,a)&&this._keys_down.push(a)};k.prototype._handle_combo_down=function(a,b,e,f){var g,k,l,h,n;if(0>A.call(a.keys,e))return!1;this._prevent_default(f,a&&a.prevent_default);g=!1;if(0<=A.call(this._keys_down,e)&&(g=!0,!a.allows_key_repeat()))return!1;n=this._add_to_active_combos(a,
e);e=a.keyup_fired=!1;if(a.is_exclusive)for(k=0,l=b.length;k<l;k++)if(h=b[k],h.is_exclusive&&h.keys.length>a.keys.length){e=!0;break}if(!e&&(a.is_counting&&"function"===typeof a.on_keydown&&(a.count+=1),n))return this._fire("keydown",a,f,g)};k.prototype._key_up=function(a,b){var e,g,k,l,h,n;g=a;(e=f(a,b))&&(a=e);e=u[g];b.shiftKey?e&&0<=A.call(this._keys_down,e)||(a=g):g&&0<=A.call(this._keys_down,g)||(a=e);(l=this._get_sequence(a))&&this._fire("keyup",l,b);if(0>A.call(this._keys_down,a))return!1;
l=h=0;for(n=this._keys_down.length;0<=n?h<n:h>n;l=0<=n?++h:--h)if((k=this._keys_down[l])===a||k===e||k===g){this._keys_down.splice(l,1);break}g=this._active_combos.length;k=[];n=this._active_combos;h=0;for(l=n.length;h<l;h++)e=n[h],0<=A.call(e.keys,a)&&k.push(e);h=0;for(l=k.length;h<l;h++)e=k[h],this._handle_combo_up(e,b,a);if(1<g)for(h=this._active_combos,l=0,g=h.length;l<g;l++)e=h[l],void 0===e||0<=A.call(k,e)||this._keys_remain(e)||this._remove_from_active_combos(e)};k.prototype._handle_combo_up=
function(a,b,e){var f,g;this._prevent_default(b,a&&a.prevent_default);g=this._keys_remain(a);a.keyup_fired||(f=this._keys_down.slice(),f.push(e),a.is_solitary&&!h(f,a.keys))||(this._fire("keyup",a,b),a.is_counting&&"function"===typeof a.on_keyup&&"function"!==typeof a.on_keydown&&(a.count+=1));g||(this._fire("release",a,b),this._remove_from_active_combos(a))};k.prototype.simple_combo=function(a,b){return this.register_combo({keys:a,on_keydown:b})};k.prototype.counting_combo=function(a,b){return this.register_combo({keys:a,
is_counting:!0,is_unordered:!1,on_keydown:b})};k.prototype.sequence_combo=function(a,b){return this.register_combo({keys:a,on_keydown:b,is_sequence:!0,is_exclusive:!0})};k.prototype.register_combo=function(b){var e,f,g;"string"===typeof b.keys&&(b.keys=b.keys.split(" "));g=this._defaults;for(e in g)t.call(g,e)&&(f=g[e],void 0===b[e]&&(b[e]=f));b=new a(b);if(B(b))return this._registered_combos.push(b),b};k.prototype.register_many=function(a){var b,e,f,g;g=[];e=0;for(f=a.length;e<f;e++)b=a[e],g.push(this.register_combo(b));
return g};k.prototype.unregister_combo=function(e){var f,g,k,l,n,m;if(!e)return!1;g=function(a){return function(b){var e,f,g,k;k=[];e=f=0;for(g=a._registered_combos.length;0<=g?f<g:f>g;e=0<=g?++f:--f)if(b===a._registered_combos[e]){a._registered_combos.splice(e,1);break}else k.push(void 0);return k}}(this);if(e instanceof a)return g(e);"string"===typeof e&&(e=e.split(" "));n=this._registered_combos;m=[];k=0;for(l=n.length;k<l;k++)f=n[k],null!=f&&(f.is_unordered&&h(e,f.keys)||!f.is_unordered&&b(e,
f.keys)?m.push(g(f)):m.push(void 0));return m};k.prototype.unregister_many=function(a){var b,e,f,g;g=[];e=0;for(f=a.length;e<f;e++)b=a[e],g.push(this.unregister_combo(b));return g};k.prototype.get_registered_combos=function(){return this._registered_combos};k.prototype.reset=function(){return this._registered_combos=[]};k.prototype.listen=function(){return this._prevent_capture=!1};k.prototype.stop_listening=function(){return this._prevent_capture=!0};k.prototype.get_meta_key=function(){return y};
return k}();g=function(a){return q[a]};l=function(a,b){var e;if(a.filter)return a.filter(b);var f,g,k;k=[];f=0;for(g=a.length;f<g;f++)e=a[f],b(e)&&k.push(e);return k};h=function(a,b){var e,f,g;if(a.length!==b.length)return!1;f=0;for(g=a.length;f<g;f++)if(e=a[f],!(0<=__indexOf.call(b,e)))return!1;return!0};b=function(a,b){var e,f,g;if(a.length!==b.length)return!1;e=f=0;for(g=a.length;0<=g?f<g:f>g;e=0<=g?++f:--f)if(a[e]!==b[e])return!1;return!0};n=function(a,b){var e,f,g;f=0;for(g=a.length;f<g;f++)if(e=
a[f],0>__indexOf.call(b,e))return!1;return!0};k=Array.prototype.indexOf||function(a,b){var e,f,g;e=f=0;for(g=a.length;0<=g?f<=g:f>=g;e=0<=g?++f:--f)if(a[e]===b)return e;return-1};m=function(a,b){var e,f,g,l;g=f=0;for(l=a.length;g<l;g++)if(e=a[g],e=k.call(b,e),e>=f)f=e;else return!1;return!0};w=function(){if(D.debug)return console.log.apply(console,arguments)};p=function(a){var b,e,f;e=!1;for(b in q)if(f=q[b],a===f){e=!0;break}if(!e)for(b in u)if(f=u[b],a===f){e=!0;break}return e};B=function(a){var b,
f,g,l,h,n,m;m=!0;a.keys.length||w("You're trying to bind a combo with no keys:",a);f=l=0;for(h=a.keys.length;0<=h?l<h:l>h;f=0<=h?++l:--l)g=a.keys[f],(b=r[g])&&(g=a.keys[f]=b),"meta"===g&&a.keys.splice(f,1,y),"cmd"===g&&w('Warning: use the "meta" key rather than "cmd" for Windows compatibility');_ref1=a.keys;_j=0;for(_len=_ref1.length;_j<_len;_j++)g=_ref1[_j],p(g)||(w('Do not recognize the key "'+g+'"'),m=!1);if(0<=A.call(a.keys,"meta")||0<=A.call(a.keys,"cmd")){h=a.keys.slice();l=0;for(b=z.length;l<
b;l++)g=z[l],-1<(f=k.call(h,g))&&h.splice(f,1);1<h.length&&(w("META and CMD key combos cannot have more than 1 non-modifier keys",a,h),m=!1)}for(n in a)"undefined"===e[n]&&w("The property "+n+" is not a valid combo property. Your combo has still been registered.");return m};f=function(a,b){var e;if(!b.shiftKey)return!1;e=u[a];return null!=e?e:!1};x={cmd:"metaKey",ctrl:"ctrlKey",shift:"shiftKey",alt:"altKey"};r={escape:"esc",control:"ctrl",command:"cmd","break":"pause",windows:"cmd",option:"alt",caps_lock:"caps",
apostrophe:"'",semicolon:";",tilde:"~",accent:"`",scroll_lock:"scroll",num_lock:"num"};u={"/":"?",".":">",",":"<","'":'"',";":":","[":"{","]":"}","\\":"|","`":"~","=":"+","-":"_",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")"};q={0:"\\",8:"backspace",9:"tab",12:"num",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",44:"print",45:"insert",46:"delete",48:"0",49:"1",50:"2",
51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"cmd",92:"cmd",93:"cmd",96:"num_0",97:"num_1",98:"num_2",99:"num_3",100:"num_4",101:"num_5",102:"num_6",103:"num_7",104:"num_8",105:"num_9",106:"num_multiply",107:"num_add",108:"num_enter",109:"num_subtract",110:"num_decimal",111:"num_divide",112:"f1",113:"f2",114:"f3",
115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",124:"print",144:"num",145:"scroll",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"`",224:"cmd",225:"alt",57392:"ctrl",63289:"num",59:";",61:"=",173:"-"};D._keycode_dictionary=q;D._is_array_in_array_sorted=m;-1!==navigator.userAgent.indexOf("Mac OS X")&&(y="cmd");-1!==navigator.userAgent.indexOf("Opera")&&(q["17"]="cmd");window.keypress=D;"function"===typeof define&&define.amd||
("undefined"!==typeof exports&&null!==exports?exports.keypress=D:window.keypress=D)}).call(this);/*

 lodash 3.10.1 (Custom Build) lodash.com/license | Underscore.js 1.8.3 underscorejs.org/LICENSE
 Build: `lodash modern -o ./lodash.js`
*/
(function(){function a(a,b){if(a!==b){var e=null===a,f=a===t,g=a===a,k=null===b,l=b===t,h=b===b;if(a>b&&!k||!g||e&&!l&&h||f&&h)return 1;if(a<b&&!e||!h||k&&!f&&g||l&&g)return-1}return 0}function h(a,b,e){for(var f=a.length,g=e?f:-1;e?g--:++g<f;)if(b(a[g],g,a))return g;return-1}function b(a,b,e){if(b!==b)return q(a,e);--e;for(var f=a.length;++e<f;)if(a[e]===b)return e;return-1}function g(a){return"function"==typeof a||!1}function f(a){return null==a?"":a+""}function e(a,b){for(var e=-1,f=a.length;++e<
f&&-1<b.indexOf(a.charAt(e)););return e}function l(a,b){for(var e=a.length;e--&&-1<b.indexOf(a.charAt(e)););return e}function k(b,e){return a(b.a,e.a)||b.b-e.b}function n(a){return zb[a]}function m(a){return Ua[a]}function p(a,b,e){return b?a=nb[a]:e&&(a=Ma[a]),"\\"+a}function r(a){return"\\"+Ma[a]}function q(a,b,e){var f=a.length;for(b+=e?0:-1;e?b--:++b<f;){var g=a[b];if(g!==g)return b}return-1}function u(a){return!!a&&"object"==typeof a}function w(a){return 160>=a&&9<=a&&13>=a||32==a||160==a||5760==
a||6158==a||8192<=a&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function y(a,b){for(var e=-1,f=a.length,g=-1,k=[];++e<f;)a[e]===b&&(a[e]=ta,k[++g]=e);return k}function x(a){for(var b=-1,e=a.length;++b<e&&w(a.charCodeAt(b)););return b}function z(a){for(var b=a.length;b--&&w(a.charCodeAt(b)););return b}function B(a){return Da[a]}function D(w){function C(a){if(u(a)&&!(qa(a)||a instanceof oa)){if(a instanceof Ca)return a;if(Za.call(a,"__chain__")&&Za.call(a,"__wrapped__"))return vd(a)}return new Ca(a)}
function Da(){}function Ca(a,b,e){this.__wrapped__=a;this.__actions__=e||[];this.__chain__=!!b}function oa(a){this.__wrapped__=a;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=tc;this.__views__=[]}function nb(){this.__data__={}}function Va(a){var b=a?a.length:0;for(this.data={hash:uc(null),set:new vc};b--;)this.push(a[b])}function Ma(a,b){var e=a.data;return("string"==typeof b||Na(b)?e.set.has(b):e.hash[b])?0:-1}function Ja(a,b){var e=-1,f=a.length;
for(b||(b=Oa(f));++e<f;)b[e]=a[e];return b}function Ya(a,b){for(var e=-1,f=a.length;++e<f&&!1!==b(a[e],e,a););return a}function ub(a,b){for(var e=-1,f=a.length;++e<f;)if(!b(a[e],e,a))return!1;return!0}function zb(a,b){for(var e=-1,f=a.length,g=-1,k=[];++e<f;){var l=a[e];b(l,e,a)&&(k[++g]=l)}return k}function ab(a,b){for(var e=-1,f=a.length,g=Oa(f);++e<f;)g[e]=b(a[e],e,a);return g}function Ua(a,b){for(var e=-1,f=b.length,g=a.length;++e<f;)a[g+e]=b[e];return a}function wc(a,b,e,f){var g=-1,k=a.length;
for(f&&k&&(e=a[++g]);++g<k;)e=b(e,a[g],g,a);return e}function ec(a,b){for(var e=-1,f=a.length;++e<f;)if(b(a[e],e,a))return!0;return!1}function Hb(a,b,e,f){return a!==t&&Za.call(f,e)?a:b}function Nb(a,b,e){for(var f=-1,g=gb(b),k=g.length;++f<k;){var l=g[f],h=a[l],n=e(h,b[l],l,a,b);(n===n?n===h:h!==h)&&(h!==t||l in a)||(a[l]=n)}return a}function Eb(a,b){return null==b?a:fc(b,gb(b),a)}function xc(a,b){for(var e=-1,f=null==a,g=!f&&db(a),k=g?a.length:0,l=b.length,h=Oa(l);++e<l;){var n=b[e];h[e]=g?Ib(n,
k)?a[n]:t:f?t:a[n]}return h}function fc(a,b,e){e||(e={});for(var f=-1,g=b.length;++f<g;){var k=b[f];e[k]=a[k]}return e}function Wb(a,b,e){var f=typeof a;return"function"==f?b===t?a:pb(a,b,e):null==a?Ob:"object"==f?Pb(a):b===t?yc(a):zc(a,b)}function Fb(a,b,e,f,g,k,l){var h;if(e&&(h=g?e(a,f,g):e(a)),h!==t)return h;if(!Na(a))return a;if(f=qa(a)){if(h=cf(a),!b)return Ja(a,h)}else{var n=qb.call(a),m=n==ja;if(n!=Fa&&n!=Y&&(!m||g))return ra[n]?df(a,n,b):g?a:{};if(h=ef(m?{}:a),!b)return Eb(h,a)}k||(k=[]);
l||(l=[]);for(g=k.length;g--;)if(k[g]==a)return l[g];return k.push(a),l.push(h),(f?Ya:Ab)(a,function(f,g){h[g]=Fb(f,b,e,g,a,k,l)}),h}function Ac(a,b,e){if("function"!=typeof a)throw new vb(V);return Bc(function(){a.apply(t,e)},b)}function Jb(a,e){var f=a?a.length:0,g=[];if(!f)return g;var k=-1,l=Xb(),h=l===b,n=h&&e.length>=N&&uc&&vc?new Va(e):null,m=e.length;n&&(l=Ma,h=!1,e=n);a:for(;++k<f;)if(n=a[k],h&&n===n){for(var q=m;q--;)if(e[q]===n)continue a;g.push(n)}else 0>l(e,n,0)&&g.push(n);return g}function gc(a,
b){var e=!0;return Bb(a,function(a,f,g){return e=!!b(a,f,g)}),e}function Cc(a,b,e,f){var g=f,k=g;return Bb(a,function(a,l,h){l=+b(a,l,h);(e(l,g)||l===f&&l===k)&&(g=l,k=a)}),k}function Yb(a,b){var e=[];return Bb(a,function(a,f,g){b(a,f,g)&&e.push(a)}),e}function Dc(a,b,e,f){var g;return e(a,function(a,e,k){return b(a,e,k)?(g=f?e:a,!1):void 0}),g}function hb(a,b,e,f){f||(f=[]);for(var g=-1,k=a.length;++g<k;){var l=a[g];u(l)&&db(l)&&(e||qa(l)||Gb(l))?b?hb(l,b,e,f):Ua(f,l):e||(f[f.length]=l)}return f}
function hc(a,b){Sc(a,b,Kb)}function Ab(a,b){return Sc(a,b,gb)}function ic(a,b){return xd(a,b,gb)}function jc(a,b){for(var e=-1,f=b.length,g=-1,k=[];++e<f;){var l=b[e];Qb(a[l])&&(k[++g]=l)}return k}function rb(a,b,e){if(null!=a){e!==t&&e in Cb(a)&&(b=[e]);e=0;for(var f=b.length;null!=a&&e<f;)a=a[b[e++]];return e&&e==f?a:t}}function Rb(a,b,e,f,g,k){if(a===b)a=!0;else if(null==a||null==b||!Na(a)&&!u(b))a=a!==a&&b!==b;else a:{var l=Rb,h=qa(a),n=qa(b),m=na,q=na;h||(m=qb.call(a),m==Y?m=Fa:m!=Fa&&(h=Zb(a)));
n||(q=qb.call(b),q==Y?q=Fa:q!=Fa&&Zb(b));var p=m==Fa,n=q==Fa,q=m==q;if(!q||h||p)if(!f&&(m=p&&Za.call(a,"__wrapped__"),n=n&&Za.call(b,"__wrapped__"),m||n))a=l(m?a.value():a,n?b.value():b,e,f,g,k);else if(q){g||(g=[]);k||(k=[]);for(m=g.length;m--;)if(g[m]==a){a=k[m]==b;break a}g.push(a);k.push(b);a=(h?ff:gf)(a,b,l,e,f,g,k);g.pop();k.pop()}else a=!1;else a=hf(a,b,m)}return a}function $b(a,b,e){var f=b.length,g=f,k=!e;if(null==a)return!g;for(a=Cb(a);f--;){var l=b[f];if(k&&l[2]?l[1]!==a[l[0]]:!(l[0]in
a))return!1}for(;++f<g;){var l=b[f],h=l[0],n=a[h],m=l[1];if(k&&l[2]){if(n===t&&!(h in a))return!1}else if(l=e?e(n,m,h):t,l===t?!Rb(m,n,e,!0):!l)return!1}return!0}function ac(a,b){var e=-1,f=db(a)?Oa(a.length):[];return Bb(a,function(a,g,k){f[++e]=b(a,g,k)}),f}function Pb(a){var b=yd(a);if(1==b.length&&b[0][2]){var e=b[0][0],f=b[0][1];return function(a){return null==a?!1:a[e]===f&&(f!==t||e in Cb(a))}}return function(a){return $b(a,b)}}function zc(a,b){var e=qa(a),f=Sb(a)&&b===b&&!Na(b),g=a+"";return a=
Lb(a),function(k){if(null==k)return!1;var l=g;if(k=Cb(k),!(!e&&f||l in k)){if(k=1==a.length?k:rb(k,wb(a,0,-1)),null==k)return!1;l=kc(a);k=Cb(k)}return k[l]===b?b!==t||l in k:Rb(b,k[l],t,!0)}}function Ec(a,b,e,f,g){if(!Na(a))return a;var k=db(b)&&(qa(b)||Zb(b)),l=k?t:gb(b);return Ya(l||b,function(h,n){if(l&&(n=h,h=b[n]),u(h)){f||(f=[]);g||(g=[]);a:{for(var m=n,q=f,p=g,r=q.length,A=b[m];r--;)if(q[r]==A){a[m]=p[r];break a}var r=a[m],w=e?e(r,A,m,a,b):t,x=w===t;x&&(w=A,db(A)&&(qa(A)||Zb(A))?w=qa(r)?r:
db(r)?Ja(r):[]:Fc(A)||Gb(A)?w=Gb(r)?zd(r):Fc(r)?r:{}:x=!1);q.push(A);p.push(w);x?a[m]=Ec(w,A,e,q,p):(w===w?w!==r:r===r)&&(a[m]=w)}}else m=a[n],q=e?e(m,h,n,a,b):t,(p=q===t)&&(q=h),q===t&&(!k||n in a)||!p&&(q===q?q===m:m!==m)||(a[n]=q)}),a}function Tc(a){return function(b){return null==b?t:b[a]}}function jf(a){var b=a+"";return a=Lb(a),function(e){return rb(e,a,b)}}function Ad(a,b){for(var e=a?b.length:0;e--;){var f=b[e];if(f!=g&&Ib(f)){var g=f;Bd.call(a,f,1)}}}function Uc(a,b){return a+Tb(Cd()*(b-
a+1))}function kf(a,b,e,f,g){return g(a,function(a,g,k){e=f?(f=!1,a):b(e,a,g,k)}),e}function wb(a,b,e){var f=-1,g=a.length;b=null==b?0:+b||0;0>b&&(b=-b>g?0:g+b);e=e===t||e>g?g:+e||0;0>e&&(e+=g);g=b>e?0:e-b>>>0;b>>>=0;for(e=Oa(g);++f<g;)e[f]=a[f+b];return e}function lf(a,b){var e;return Bb(a,function(a,f,g){return e=b(a,f,g),!e}),!!e}function Dd(a,b){var e=a.length;for(a.sort(b);e--;)a[e]=a[e].c;return a}function Ed(b,e,f){var g=Ka(),k=-1;return e=ab(e,function(a){return g(a)}),b=ac(b,function(a){return{a:ab(e,
function(b){return b(a)}),b:++k,c:a}}),Dd(b,function(b,e){var g;a:{for(var k=-1,l=b.a,h=e.a,n=l.length,m=f.length;++k<n;)if(g=a(l[k],h[k])){if(k>=m)break a;k=f[k];g*="asc"===k||!0===k?1:-1;break a}g=b.b-e.b}return g})}function mf(a,b){var e=0;return Bb(a,function(a,f,g){e+=+b(a,f,g)||0}),e}function lc(a,e){var f=-1,g=Xb(),k=a.length,l=g===b,h=l&&k>=N,n=h&&uc&&vc?new Va(void 0):null,m=[];n?(g=Ma,l=!1):(h=!1,n=e?[]:m);a:for(;++f<k;){var q=a[f],p=e?e(q,f,a):q;if(l&&q===q){for(var t=n.length;t--;)if(n[t]===
p)continue a;e&&n.push(p);m.push(q)}else 0>g(n,p,0)&&((e||h)&&n.push(p),m.push(q))}return m}function Vc(a,b){for(var e=-1,f=b.length,g=Oa(f);++e<f;)g[e]=a[b[e]];return g}function Gc(a,b,e,f){for(var g=a.length,k=f?g:-1;(f?k--:++k<g)&&b(a[k],k,a););return e?wb(a,f?0:k,f?k+1:g):wb(a,f?k+1:0,f?g:k)}function Fd(a,b){var e=a;e instanceof oa&&(e=e.value());for(var f=-1,g=b.length;++f<g;)var k=b[f],e=k.func.apply(k.thisArg,Ua([e],k.args));return e}function Wc(a,b,e){var f=0,g=a?a.length:f;if("number"==typeof b&&
b===b&&g<=nf){for(;f<g;){var k=f+g>>>1,l=a[k];(e?l<=b:l<b)&&null!==l?f=k+1:g=k}return g}return Gd(a,b,Ob,e)}function Gd(a,b,e,f){b=e(b);for(var g=0,k=a?a.length:0,l=b!==b,h=null===b,n=b===t;g<k;){var m=Tb((g+k)/2),q=e(a[m]),p=q!==t,r=q===q;(l?r||f:h?r&&p&&(f||null!=q):n?r&&(f||p):null==q?0:f?q<=b:q<b)?g=m+1:k=m}return ob(k,of)}function pb(a,b,e){if("function"!=typeof a)return Ob;if(b===t)return a;switch(e){case 1:return function(e){return a.call(b,e)};case 3:return function(e,f,g){return a.call(b,
e,f,g)};case 4:return function(e,f,g,k){return a.call(b,e,f,g,k)};case 5:return function(e,f,g,k,l){return a.call(b,e,f,g,k,l)}}return function(){return a.apply(b,arguments)}}function Hd(a){var b=new pf(a.byteLength);return(new Id(b)).set(new Id(a)),b}function Jd(a,b,e){for(var f=e.length,g=-1,k=eb(a.length-f,0),l=-1,h=b.length,n=Oa(h+k);++l<h;)n[l]=b[l];for(;++g<f;)n[e[g]]=a[g];for(;k--;)n[l++]=a[g++];return n}function Kd(a,b,e){for(var f=-1,g=e.length,k=-1,l=eb(a.length-g,0),h=-1,n=b.length,m=Oa(l+
n);++k<l;)m[k]=a[k];for(l=k;++h<n;)m[l+h]=b[h];for(;++f<g;)m[l+e[f]]=a[k++];return m}function Hc(a,b){return function(e,f,g){var k=b?b():{};if(f=Ka(f,g,3),qa(e)){g=-1;for(var l=e.length;++g<l;){var h=e[g];a(k,h,f(h,g,e),e)}}else Bb(e,function(b,e,g){a(k,b,f(b,e,g),g)});return k}}function Ld(a){return Ga(function(b,e){var f=-1,g=null==b?0:e.length,k=2<g?e[g-2]:t,l=2<g?e[2]:t,h=1<g?e[g-1]:t;"function"==typeof k?(k=pb(k,h,5),g-=2):(k="function"==typeof h?h:t,g-=k?1:0);for(l&&ya(e[0],e[1],l)&&(k=3>g?
t:k,g=1);++f<g;)(l=e[f])&&a(b,l,k);return b})}function Md(a,b){return function(e,f){var g=e?mc(e):0;if(!Db(g))return a(e,f);for(var k=b?g:-1,l=Cb(e);(b?k--:++k<g)&&!1!==f(l[k],k,l););return e}}function Nd(a){return function(b,e,f){var g=Cb(b);f=f(b);for(var k=f.length,l=a?k:-1;a?l--:++l<k;){var h=f[l];if(!1===e(g[h],h,g))break}return b}}function qf(a,b){function e(){return(this&&this!==Ha&&this instanceof e?f:a).apply(b,arguments)}var f=Ic(a);return e}function Jc(a){return function(b){var e=-1;b=
Od(Pd(b));for(var f=b.length,g="";++e<f;)g=a(g,b[e],e);return g}}function Ic(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var e=nc(a.prototype),b=a.apply(e,b);return Na(b)?b:e}}function Qd(a){function b(e,
f,g){return g&&ya(e,f,g)&&(f=t),e=Mb(e,a,t,t,t,t,t,f),e.placeholder=b.placeholder,e}return b}function Rd(a,b){return Ga(function(e){var f=e[0];return null==f?f:(e.push(b),a.apply(t,e))})}function Sd(a,b){return function(e,f,g){if(g&&ya(e,f,g)&&(f=t),f=Ka(f,g,3),1==f.length){g=e=qa(e)?e:Xc(e);for(var k=f,l=-1,h=g.length,n=b,m=n;++l<h;){var q=g[l],p=+k(q);a(p,n)&&(n=p,m=q)}if(g=m,!e.length||g!==b)return g}return Cc(e,f,a,b)}}function Td(a,b){return function(e,f,g){return f=Ka(f,g,3),qa(e)?(f=h(e,f,
b),-1<f?e[f]:t):Dc(e,f,a)}}function Ud(a){return function(b,e,f){return b&&b.length?(e=Ka(e,f,3),h(b,e,a)):-1}}function Vd(a){return function(b,e,f){return e=Ka(e,f,3),Dc(b,e,a,!0)}}function Wd(a){return function(){for(var b,e=arguments.length,f=a?e:-1,g=0,k=Oa(e);a?f--:++f<e;){var l=k[g++]=arguments[f];if("function"!=typeof l)throw new vb(V);!b&&Ca.prototype.thru&&"wrapper"==Kc(l)&&(b=new Ca([],!0))}for(f=b?-1:e;++f<e;){var l=k[f],g=Kc(l),h="wrapper"==g?Yc(l):t;b=h&&Zc(h[0])&&h[1]==(L|E|J|R)&&!h[4].length&&
1==h[9]?b[Kc(h[0])].apply(b,h[3]):1==l.length&&Zc(l)?b[g]():b.thru(l)}return function(){var a=arguments,f=a[0];if(b&&1==a.length&&qa(f)&&f.length>=N)return b.plant(f).value();for(var g=0,a=e?k[g].apply(this,a):f;++g<e;)a=k[g].call(this,a);return a}}}function Xd(a,b){return function(e,f,g){return"function"==typeof f&&g===t&&qa(e)?a(e,f):b(e,pb(f,g,3))}}function Yd(a){return function(b,e,f){return("function"!=typeof e||f!==t)&&(e=pb(e,f,3)),a(b,e,Kb)}}function Zd(a){return function(b,e,f){return("function"!=
typeof e||f!==t)&&(e=pb(e,f,3)),a(b,e)}}function $d(a){return function(b,e,f){var g={};return e=Ka(e,f,3),Ab(b,function(b,f,k){k=e(b,f,k);f=a?k:f;b=a?b:k;g[f]=b}),g}}function ae(a){return function(b,e,g){return b=f(b),(a?b:"")+be(b,e,g)+(a?"":b)}}function ce(a){var b=Ga(function(e,f){var g=y(f,b.placeholder);return Mb(e,a,t,f,g)});return b}function de(a,b){return function(e,f,g,k){var l=3>arguments.length;return"function"==typeof f&&k===t&&qa(e)?a(e,f,g,l):kf(e,Ka(f,k,4),g,l,b)}}function $c(a,b,e,
f,g,k,l,h,n,m){function q(){for(var z=arguments.length,D=z,K=Oa(z);D--;)K[D]=arguments[D];if(f&&(K=Jd(K,f,g)),k&&(K=Kd(K,k,l)),w||u){var D=q.placeholder,C=y(K,D),z=z-C.length;if(z<m){var v=h?Ja(h):t,z=eb(m-z,0),E=w?C:t,C=w?t:C,B=w?K:t,K=w?t:K;return b|=w?J:M,b&=~(w?M:J),x||(b&=~(F|G)),K=[a,b,e,B,E,K,C,v,n,z],v=$c.apply(t,K),Zc(a)&&ee(v,K),v.placeholder=D,v}}if(D=r?e:this,v=A?D[a]:a,h)for(z=K.length,E=ob(h.length,z),C=Ja(K);E--;)B=h[E],K[E]=Ib(B,z)?C[B]:t;return p&&n<K.length&&(K.length=n),this&&this!==
Ha&&this instanceof q&&(v=Ec||Ic(a)),v.apply(D,K)}var p=b&L,r=b&F,A=b&G,w=b&E,x=b&K,u=b&O,Ec=A?t:Ic(a);return q}function be(a,b,e){return a=a.length,b=+b,a<b&&bc(b)?(b-=a,e=null==e?" ":e+"",fe(e,Lc(b/e.length)).slice(0,b)):""}function rf(a,b,e,f){function g(){for(var b=-1,h=arguments.length,n=-1,m=f.length,q=Oa(m+h);++n<m;)q[n]=f[n];for(;h--;)q[n++]=arguments[++b];return(this&&this!==Ha&&this instanceof g?l:a).apply(k?e:this,q)}var k=b&F,l=Ic(a);return g}function ad(a){var b=Ub[a];return function(a,
e){return(e=e===t?0:+e||0)?(e=sf(10,e),b(a*e)/e):b(a)}}function ge(a){return function(b,e,f,g){var k=Ka(f);return null==f&&k===Wb?Wc(b,e,a):Gd(b,e,k(f,g,1),a)}}function Mb(a,b,e,f,g,k,l,h){var n=b&G;if(!n&&"function"!=typeof a)throw new vb(V);var m=f?f.length:0;if(m||(b&=~(J|M),f=g=t),m-=g?g.length:0,b&M){var q=f,p=g;f=g=t}var r=n?t:Yc(a);return e=[a,b,e,f,g,q,p,k,l,h],r&&(f=e[1],b=r[1],h=f|b,g=b==L&&f==E||b==L&&f==R&&e[7].length<=r[8]||b==(L|R)&&f==E,(h<L||g)&&(b&F&&(e[2]=r[2],h|=f&F?0:K),(f=r[3])&&
(g=e[3],e[3]=g?Jd(g,f,r[4]):Ja(f),e[4]=g?y(e[3],ta):Ja(r[4])),(f=r[5])&&(g=e[5],e[5]=g?Kd(g,f,r[6]):Ja(f),e[6]=g?y(e[5],ta):Ja(r[6])),(f=r[7])&&(e[7]=Ja(f)),b&L&&(e[8]=null==e[8]?r[8]:ob(e[8],r[8])),null==e[9]&&(e[9]=r[9]),e[0]=r[0],e[1]=h),b=e[1],h=e[9]),e[9]=null==h?n?0:a.length:eb(h-m,0)||0,(r?he:ee)(b==F?qf(e[0],e[2]):b!=J&&b!=(F|J)||e[4].length?$c.apply(t,e):rf.apply(t,e),e)}function ff(a,b,e,f,g,k,l){var h=-1,n=a.length,m=b.length;if(n!=m&&(!g||m<=n))return!1;for(;++h<n;){var q=a[h],m=b[h],
p=f?f(g?m:q,g?q:m,h):t;if(p!==t){if(p)continue;return!1}if(g){if(!ec(b,function(a){return q===a||e(q,a,f,g,k,l)}))return!1}else if(q!==m&&!e(q,m,f,g,k,l))return!1}return!0}function hf(a,b,e){switch(e){case Aa:case ka:return+a==+b;case bb:return a.name==b.name&&a.message==b.message;case Ra:return a!=+a?b!=+b:a==+b;case xa:case cb:return a==b+""}return!1}function gf(a,b,e,f,g,k,l){var h=gb(a),n=h.length,m=gb(b).length;if(n!=m&&!g)return!1;for(m=n;m--;){var q=h[m];if(!(g?q in b:Za.call(b,q)))return!1}for(var p=
g;++m<n;){var q=h[m],r=a[q],A=b[q],w=f?f(g?A:r,g?r:A,q):t;if(w===t?!e(r,A,f,g,k,l):!w)return!1;p||(p="constructor"==q)}return p||(e=a.constructor,f=b.constructor,!(e!=f&&"constructor"in a&&"constructor"in b)||"function"==typeof e&&e instanceof e&&"function"==typeof f&&f instanceof f)?!0:!1}function Ka(a,b,e){var f=C.callback||Mc,f=f===Mc?Wb:f;return e?f(a,b,e):f}function Kc(a){for(var b=a.name+"",e=Nc[b],f=e?e.length:0;f--;){var g=e[f],k=g.func;if(null==k||k==a)return g.name}return b}function Xb(a,
e,f){var g=C.indexOf||bd,g=g===bd?b:g;return a?g(a,e,f):g}function yd(a){a=ie(a);for(var b=a.length;b--;){var e=a[b][1];a[b][2]=e===e&&!Na(e)}return a}function cc(a,b){var e=null==a?t:a[b];return je(e)?e:t}function cf(a){var b=a.length,e=new a.constructor(b);return b&&"string"==typeof a[0]&&Za.call(a,"index")&&(e.index=a.index,e.input=a.input),e}function ef(a){return a=a.constructor,"function"==typeof a&&a instanceof a||(a=Vb),new a}function df(a,b,e){var f=a.constructor;switch(b){case Sa:return Hd(a);
case Aa:case ka:return new f(+a);case xb:case ib:case ca:case v:case fb:case La:case ma:case jb:case H:return b=a.buffer,new f(e?Hd(b):b,a.byteOffset,a.length);case Ra:case cb:return new f(a);case xa:var g=new f(a.source,Pa.exec(a));g.lastIndex=a.lastIndex}return g}function cd(a,b,e){return null==a||Sb(b,a)||(b=Lb(b),a=1==b.length?a:rb(a,wb(b,0,-1)),b=kc(b)),b=null==a?a:a[b],null==b?t:b.apply(a,e)}function db(a){return null!=a&&Db(mc(a))}function Ib(a,b){return a="number"==typeof a||Wa.test(a)?+a:
-1,b=null==b?ke:b,-1<a&&0==a%1&&a<b}function ya(a,b,e){if(!Na(e))return!1;var f=typeof b;return("number"==f?db(e)&&Ib(b,e.length):"string"==f&&b in e)?(b=e[b],a===a?a===b:b!==b):!1}function Sb(a,b){var e=typeof a;return"string"==e&&ua.test(a)||"number"==e?!0:qa(a)?!1:!P.test(a)||null!=b&&a in Cb(b)}function Zc(a){var b=Kc(a),e=C[b];return"function"==typeof e&&b in oa.prototype?a===e?!0:(b=Yc(e),!!b&&a===b[0]):!1}function Db(a){return"number"==typeof a&&-1<a&&0==a%1&&a<=ke}function le(a,b){return a===
t?b:dd(a,b,le)}function me(a,b){a=Cb(a);for(var e=-1,f=b.length,g={};++e<f;){var k=b[e];k in a&&(g[k]=a[k])}return g}function ne(a,b){var e={};return hc(a,function(a,f,g){b(a,f,g)&&(e[f]=a)}),e}function oe(a){for(var b=Kb(a),e=b.length,f=e&&a.length,g=!!f&&Db(f)&&(qa(a)||Gb(a)),k=-1,l=[];++k<e;){var h=b[k];(g&&Ib(h,f)||Za.call(a,h))&&l.push(h)}return l}function Xc(a){return null==a?[]:db(a)?Na(a)?a:Vb(a):Oc(a)}function Cb(a){return Na(a)?a:Vb(a)}function Lb(a){if(qa(a))return a;var b=[];return f(a).replace(fa,
function(a,e,f,g){b.push(f?g.replace(Ta,"$1"):e||a)}),b}function vd(a){return a instanceof oa?a.clone():new Ca(a.__wrapped__,a.__chain__,Ja(a.__actions__))}function pe(a,b,e){return a&&a.length?((e?ya(a,b,e):null==b)&&(b=1),wb(a,0>b?0:b)):[]}function qe(a,b,e){var f=a?a.length:0;return f?((e?ya(a,b,e):null==b)&&(b=1),b=f-(+b||0),wb(a,0,0>b?0:b)):[]}function re(a){return a?a[0]:t}function bd(a,e,f){var g=a?a.length:0;if(!g)return-1;if("number"==typeof f)f=0>f?eb(g+f,0):f;else if(f)return f=Wc(a,e),
f<g&&(e===e?e===a[f]:a[f]!==a[f])?f:-1;return b(a,e,f||0)}function kc(a){var b=a?a.length:0;return b?a[b-1]:t}function se(a){return pe(a,1)}function te(a,e,f,g){if(!a||!a.length)return[];null!=e&&"boolean"!=typeof e&&(g=f,f=ya(a,e,g)?t:e,e=!1);var k=Ka();if((null!=f||k!==Wb)&&(f=k(f,g,3)),e&&Xb()===b){e=f;var l;f=-1;g=a.length;for(var k=-1,h=[];++f<g;){var n=a[f],m=e?e(n,f,a):n;f&&l===m||(l=m,h[++k]=n)}a=h}else a=lc(a,f);return a}function ed(a){if(!a||!a.length)return[];var b=-1,e=0;a=zb(a,function(a){return db(a)?
(e=eb(a.length,e),!0):void 0});for(var f=Oa(e);++b<e;)f[b]=ab(a,Tc(b));return f}function ue(a,b,e){return a&&a.length?(a=ed(a),null==b?a:(b=pb(b,e,4),ab(a,function(a){return wc(a,b,t,!0)}))):[]}function ve(a,b){var e=-1,f=a?a.length:0,g={};for(!f||b||qa(a[0])||(b=[]);++e<f;){var k=a[e];b?g[k]=b[e]:k&&(g[k[0]]=k[1])}return g}function we(a){return a=C(a),a.__chain__=!0,a}function fd(a,b,e){return b.call(e,a)}function xe(a,b,e){var f=qa(a)?ub:gc;return e&&ya(a,b,e)&&(b=t),("function"!=typeof b||e!==
t)&&(b=Ka(b,e,3)),f(a,b)}function gd(a,b,e){var f=qa(a)?zb:Yb;return b=Ka(b,e,3),f(a,b)}function hd(a,b,e,f){var g=a?mc(a):0;return Db(g)||(a=Oc(a),g=a.length),e="number"!=typeof e||f&&ya(b,e,f)?0:0>e?eb(g+e,0):e||0,"string"==typeof a||!qa(a)&&id(a)?e<=g&&-1<a.indexOf(b,e):!!g&&-1<Xb(a,b,e)}function jd(a,b,e){var f=qa(a)?ab:ac;return b=Ka(b,e,3),f(a,b)}function Pc(a,b,e){if(e?ya(a,b,e):null==b){a=Xc(a);var f=a.length;return 0<f?a[Uc(0,f-1)]:t}e=-1;a=ye(a);var f=a.length,g=f-1;for(b=ob(0>b?0:+b||0,
f);++e<b;){var f=Uc(e,g),k=a[f];a[f]=a[e];a[e]=k}return a.length=b,a}function ze(a,b,e){var f=qa(a)?ec:lf;return e&&ya(a,b,e)&&(b=t),("function"!=typeof b||e!==t)&&(b=Ka(b,e,3)),f(a,b)}function Ae(a,b){var e;if("function"!=typeof b){if("function"!=typeof a)throw new vb(V);var f=a;a=b;b=f}return function(){return 0<--a&&(e=b.apply(this,arguments)),1>=a&&(b=t),e}}function Be(a,b,e){function f(b,e){e&&oc(e);n=r=A=t;b&&(w=pc(),m=a.apply(p,h),r||n||(h=p=t))}function g(){var a=b-(pc()-q);0>=a||a>b?f(A,
n):r=Bc(g,a)}function k(){f(u,r)}function l(){if(h=arguments,q=pc(),p=this,A=u&&(r||!G),!1===x)var e=G&&!r;else{n||G||(w=q);var f=x-(q-w),F=0>=f||f>x;F?(n&&(n=oc(n)),w=q,m=a.apply(p,h)):n||(n=Bc(k,f))}return F&&r?r=oc(r):r||b===x||(r=Bc(g,b)),e&&(F=!0,m=a.apply(p,h)),!F||r||n||(h=p=t),m}var h,n,m,q,p,r,A,w=0,x=!1,u=!0;if("function"!=typeof a)throw new vb(V);if(b=0>b?0:+b||0,!0===e)var G=!0,u=!1;else Na(e)&&(G=!!e.leading,x="maxWait"in e&&eb(+e.maxWait||0,b),u="trailing"in e?!!e.trailing:u);return l.cancel=
function(){r&&oc(r);n&&oc(n);w=0;n=r=A=t},l}function kd(a,b){function e(){var f=arguments,g=b?b.apply(this,f):f[0],k=e.cache;return k.has(g)?k.get(g):(f=a.apply(this,f),e.cache=k.set(g,f),f)}if("function"!=typeof a||b&&"function"!=typeof b)throw new vb(V);return e.cache=new kd.Cache,e}function Ga(a,b){if("function"!=typeof a)throw new vb(V);return b=eb(b===t?a.length-1:+b||0,0),function(){for(var e=arguments,f=-1,g=eb(e.length-b,0),k=Oa(g);++f<g;)k[f]=e[b+f];switch(b){case 0:return a.call(this,k);
case 1:return a.call(this,e[0],k);case 2:return a.call(this,e[0],e[1],k)}g=Oa(b+1);for(f=-1;++f<b;)g[f]=e[f];return g[b]=k,a.apply(this,g)}}function Ce(a,b){return a>b}function Gb(a){return u(a)&&db(a)&&Za.call(a,"callee")&&!tf.call(a,"callee")}function De(a,b,e,f){return f=(e="function"==typeof e?pb(e,f,3):t)?e(a,b):t,f===t?Rb(a,b,e):!!f}function ld(a){return u(a)&&"string"==typeof a.message&&qb.call(a)==bb}function Qb(a){return Na(a)&&qb.call(a)==ja}function Na(a){var b=typeof a;return!!a&&("object"==
b||"function"==b)}function je(a){return null==a?!1:Qb(a)?uf.test(Ee.call(a)):u(a)&&Qa.test(a)}function Fe(a){return"number"==typeof a||u(a)&&qb.call(a)==Ra}function Fc(a){var b;if(!u(a)||qb.call(a)!=Fa||Gb(a)||!(Za.call(a,"constructor")||(b=a.constructor,"function"!=typeof b||b instanceof b)))return!1;var e;return hc(a,function(a,b){e=b}),e===t||Za.call(a,e)}function Ge(a){return Na(a)&&qb.call(a)==xa}function id(a){return"string"==typeof a||u(a)&&qb.call(a)==cb}function Zb(a){return u(a)&&Db(a.length)&&
!!za[qb.call(a)]}function He(a,b){return a<b}function ye(a){var b=a?mc(a):0;return Db(b)?b?Ja(a):[]:Oc(a)}function zd(a){return fc(a,Kb(a))}function md(a){return jc(a,Kb(a))}function Kb(a){if(null==a)return[];Na(a)||(a=Vb(a));for(var b=a.length,b=b&&Db(b)&&(qa(a)||Gb(a))&&b||0,e=a.constructor,f=-1,e="function"==typeof e&&e.prototype===a,g=Oa(b),k=0<b;++f<b;)g[f]=f+"";for(var l in a)k&&Ib(l,b)||"constructor"==l&&(e||!Za.call(a,l))||g.push(l);return g}function ie(a){a=Cb(a);for(var b=-1,e=gb(a),f=e.length,
g=Oa(f);++b<f;){var k=e[b];g[b]=[k,a[k]]}return g}function Oc(a){return Vc(a,gb(a))}function Pd(a){return(a=f(a))&&a.replace(kb,n).replace($a,"")}function fe(a,b){var e="";if(a=f(a),b=+b,1>b||!a||!bc(b))return e;do b%2&&(e+=a),b=Tb(b/2),a+=a;while(b);return e}function Ie(a,b,g){var k=a;return(a=f(a))?(g?ya(k,b,g):null==b)?a.slice(x(a),z(a)+1):(b+="",a.slice(e(a,b),l(a,b)+1)):a}function Od(a,b,e){return e&&ya(a,b,e)&&(b=t),a=f(a),a.match(b||sb)||[]}function Mc(a,b,e){return e&&ya(a,b,e)&&(b=t),u(a)?
Je(a):Wb(a,b)}function Ob(a){return a}function Je(a){return Pb(Fb(a,!0))}function nd(a,b,e){if(null==e){var f=Na(b),g=f?gb(b):t;((g=g&&g.length?jc(b,g):t)?g.length:f)||(g=!1,e=b,b=a,a=this)}g||(g=jc(b,gb(b)));var k=!0,f=-1,l=Qb(a),h=g.length;!1===e?k=!1:Na(e)&&"chain"in e&&(k=e.chain);for(;++f<h;){e=g[f];var n=b[e];a[e]=n;l&&(a.prototype[e]=function(b){return function(){var e=this.__chain__;if(k||e){var f=a(this.__wrapped__);return(f.__actions__=Ja(this.__actions__)).push({func:b,args:arguments,thisArg:a}),
f.__chain__=e,f}return b.apply(a,Ua([this.value()],arguments))}}(n))}return a}function Ke(){}function yc(a){return Sb(a)?Tc(a):jf(a)}w=w?tb.defaults(Ha.Object(),w,tb.pick(Ha,yb)):Ha;var Oa=w.Array,Le=w.Date,vf=w.Error,Me=w.Function,Ub=w.Math,Ne=w.Number,Vb=w.Object,od=w.RegExp,Oe=w.String,vb=w.TypeError,Pe=Oa.prototype,pd=Vb.prototype,wf=Oe.prototype,Ee=Me.prototype.toString,Za=pd.hasOwnProperty,xf=0,qb=pd.toString,yf=Ha._,uf=od("^"+Ee.call(Za).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
"$1.*?")+"$"),pf=w.ArrayBuffer,oc=w.clearTimeout,zf=w.parseFloat,sf=Ub.pow,tf=pd.propertyIsEnumerable,vc=cc(w,"Set"),Bc=w.setTimeout,Bd=Pe.splice,Id=w.Uint8Array,Qe=cc(w,"WeakMap"),Lc=Ub.ceil,uc=cc(Vb,"create"),Tb=Ub.floor,Af=cc(Oa,"isArray"),bc=w.isFinite,Re=cc(Vb,"keys"),eb=Ub.max,ob=Ub.min,Bf=cc(Le,"now"),Cf=w.parseInt,Cd=Ub.random,Df=Ne.NEGATIVE_INFINITY,tc=Ne.POSITIVE_INFINITY,of=4294967294,nf=2147483647,ke=9007199254740991,Qc=Qe&&new Qe,Nc={};C.support={};C.templateSettings={escape:ga,evaluate:da,
interpolate:va,variable:"",imports:{_:C}};var nc=function(){function a(){}return function(b){if(Na(b)){a.prototype=b;var e=new a;a.prototype=t}return e||{}}}(),Bb=Md(Ab),qd=Md(ic,!0),Sc=Nd(),xd=Nd(!0),he=Qc?function(a,b){return Qc.set(a,b),a}:Ob,Yc=Qc?function(a){return Qc.get(a)}:Ke,mc=Tc("length"),ee=function(){var a=0,b=0;return function(e,f){var g=pc(),k=ea-(g-b);if(b=g,0<k){if(++a>=T)return e}else a=0;return he(e,f)}}(),Ef=Ga(function(a,b){return u(a)&&db(a)?Jb(a,hb(b,!1,!0)):[]}),Ff=Ud(),Gf=
Ud(!0),Hf=Ga(function(a){for(var e=a.length,f=e,g=Oa(q),k=Xb(),l=k===b,h=[];f--;){var n=a[f]=db(n=a[f])?n:[];g[f]=l&&120<=n.length&&uc&&vc?new Va(f&&n):null}var l=a[0],m=-1,q=l?l.length:0,p=g[0];a:for(;++m<q;)if(n=l[m],0>(p?Ma(p,n):k(h,n,0))){for(f=e;--f;){var t=g[f];if(0>(t?Ma(t,n):k(a[f],n,0)))continue a}p&&p.push(n);h.push(n)}return h}),If=Ga(function(b,e){e=hb(e);var f=xc(b,e);return Ad(b,e.sort(a)),f}),Jf=ge(),Kf=ge(!0),Lf=Ga(function(a){return lc(hb(a,!1,!0))}),Mf=Ga(function(a,b){return db(a)?
Jb(a,b):[]}),Nf=Ga(ed),Of=Ga(function(a){var b=a.length,e=2<b?a[b-2]:t,f=1<b?a[b-1]:t;return 2<b&&"function"==typeof e?b-=2:(e=1<b&&"function"==typeof f?(--b,f):t,f=t),a.length=b,ue(a,e,f)}),Pf=Ga(function(a){return a=hb(a),this.thru(function(b){b=qa(b)?b:[Cb(b)];for(var e=a,f=-1,g=b.length,k=-1,l=e.length,h=Oa(g+l);++f<g;)h[f]=b[f];for(;++k<l;)h[f++]=e[k];return h})}),Qf=Ga(function(a,b){return xc(a,hb(b))}),Rf=Hc(function(a,b,e){Za.call(a,e)?++a[e]:a[e]=1}),rd=Td(Bb),Sf=Td(qd,!0),Se=Xd(Ya,Bb),Te=
Xd(function(a,b){for(var e=a.length;e--&&!1!==b(a[e],e,a););return a},qd),Tf=Hc(function(a,b,e){Za.call(a,e)?a[e].push(b):a[e]=[b]}),Uf=Hc(function(a,b,e){a[e]=b}),Vf=Ga(function(a,b,e){var f=-1,g="function"==typeof b,k=Sb(b),l=db(a)?Oa(a.length):[];return Bb(a,function(a){var h=g?b:k&&null!=a?a[b]:t;l[++f]=h?h.apply(a,e):cd(a,b,e)}),l}),Wf=Hc(function(a,b,e){a[e?0:1].push(b)},function(){return[[],[]]}),sd=de(wc,Bb),Ue=de(function(a,b,e,f){var g=a.length;for(f&&g&&(e=a[--g]);g--;)e=b(e,a[g],g,a);
return e},qd),Xf=Ga(function(a,b){if(null==a)return[];var e=b[2];return e&&ya(b[0],b[1],e)&&(b.length=1),Ed(a,hb(b),[])}),pc=Bf||function(){return(new Le).getTime()},Ve=Ga(function(a,b,e){var f=F;if(e.length)var g=y(e,Ve.placeholder),f=f|J;return Mb(a,f,b,e,g)}),Yf=Ga(function(a,b){b=b.length?hb(b):md(a);for(var e=-1,f=b.length;++e<f;){var g=b[e];a[g]=Mb(a[g],F,a)}return a}),We=Ga(function(a,b,e){var f=F|G;if(e.length)var g=y(e,We.placeholder),f=f|J;return Mb(b,f,a,e,g)}),Zf=Qd(E),$f=Qd(O),ag=Ga(function(a,
b){return Ac(a,1,b)}),bg=Ga(function(a,b,e){return Ac(a,b,e)}),cg=Wd(),td=Wd(!0),dg=Ga(function(a,b){if(b=hb(b),"function"!=typeof a||!ub(b,g))throw new vb(V);var e=b.length;return Ga(function(f){for(var g=ob(f.length,e);g--;)f[g]=b[g](f[g]);return a.apply(this,f)})}),eg=ce(J),fg=ce(M),gg=Ga(function(a,b){return Mb(a,R,t,t,t,hb(b))}),qa=Af||function(a){return u(a)&&Db(a.length)&&qb.call(a)==na},dd=Ld(Ec),ud=Ld(function(a,b,e){return e?Nb(a,b,e):Eb(a,b)}),hg=Rd(ud,function(a,b){return a===t?b:a}),
ig=Rd(dd,le),jg=Vd(Ab),kg=Vd(ic),lg=Yd(Sc),mg=Yd(xd),ng=Zd(Ab),og=Zd(ic),gb=Re?function(a){var b=null==a?t:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&db(a)?oe(a):Na(a)?Re(a):[]}:oe,pg=$d(!0),qg=$d(),rg=Ga(function(a,b){if(null==a)return{};if("function"!=typeof b[0])return b=ab(hb(b),Oe),me(a,Jb(Kb(a),b));var e=pb(b[0],b[1],3);return ne(a,function(a,b,f){return!e(a,b,f)})}),sg=Ga(function(a,b){return null==a?{}:"function"==typeof b[0]?ne(a,pb(b[0],b[1],3)):me(a,
hb(b))}),tg=Jc(function(a,b,e){return b=b.toLowerCase(),a+(e?b.charAt(0).toUpperCase()+b.slice(1):b)}),ug=Jc(function(a,b,e){return a+(e?"-":"")+b.toLowerCase()}),vg=ae(),wg=ae(!0),xg=Jc(function(a,b,e){return a+(e?"_":"")+b.toLowerCase()}),yg=Jc(function(a,b,e){return a+(e?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Xe=Ga(function(a,b){try{return a.apply(t,b)}catch(e){return ld(e)?e:new vf(e)}}),zg=Ga(function(a,b){return function(e){return cd(e,a,b)}}),Ag=Ga(function(a,b){return function(e){return cd(a,
e,b)}}),Bg=ad("ceil"),Cg=ad("floor"),Dg=Sd(Ce,Df),Eg=Sd(He,tc),Fg=ad("round");return C.prototype=Da.prototype,Ca.prototype=nc(Da.prototype),Ca.prototype.constructor=Ca,oa.prototype=nc(Da.prototype),oa.prototype.constructor=oa,nb.prototype["delete"]=function(a){return this.has(a)&&delete this.__data__[a]},nb.prototype.get=function(a){return"__proto__"==a?t:this.__data__[a]},nb.prototype.has=function(a){return"__proto__"!=a&&Za.call(this.__data__,a)},nb.prototype.set=function(a,b){return"__proto__"!=
a&&(this.__data__[a]=b),this},Va.prototype.push=function(a){var b=this.data;"string"==typeof a||Na(a)?b.set.add(a):b.hash[a]=!0},kd.Cache=nb,C.after=function(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new vb(V);var e=a;a=b;b=e}return a=bc(a=+a)?a:0,function(){return 1>--a?b.apply(this,arguments):void 0}},C.ary=function(a,b,e){return e&&ya(a,b,e)&&(b=t),b=a&&null==b?a.length:eb(+b||0,0),Mb(a,L,t,t,t,t,b)},C.assign=ud,C.at=Qf,C.before=Ae,C.bind=Ve,C.bindAll=Yf,C.bindKey=We,C.callback=
Mc,C.chain=we,C.chunk=function(a,b,e){b=(e?ya(a,b,e):null==b)?1:eb(Tb(b)||1,1);e=0;for(var f=a?a.length:0,g=-1,k=Oa(Lc(f/b));e<f;)k[++g]=wb(a,e,e+=b);return k},C.compact=function(a){for(var b=-1,e=a?a.length:0,f=-1,g=[];++b<e;){var k=a[b];k&&(g[++f]=k)}return g},C.constant=function(a){return function(){return a}},C.countBy=Rf,C.create=function(a,b,e){var f=nc(a);return e&&ya(a,b,e)&&(b=t),b?Eb(f,b):f},C.curry=Zf,C.curryRight=$f,C.debounce=Be,C.defaults=hg,C.defaultsDeep=ig,C.defer=ag,C.delay=bg,C.difference=
Ef,C.drop=pe,C.dropRight=qe,C.dropRightWhile=function(a,b,e){return a&&a.length?Gc(a,Ka(b,e,3),!0,!0):[]},C.dropWhile=function(a,b,e){return a&&a.length?Gc(a,Ka(b,e,3),!0):[]},C.fill=function(a,b,e,f){var g=a?a.length:0;if(!g)return[];e&&"number"!=typeof e&&ya(a,b,e)&&(e=0,f=g);g=a.length;e=null==e?0:+e||0;0>e&&(e=-e>g?0:g+e);f=f===t||f>g?g:+f||0;0>f&&(f+=g);g=e>f?0:f>>>0;for(e>>>=0;e<g;)a[e++]=b;return a},C.filter=gd,C.flatten=function(a,b,e){var f=a?a.length:0;return e&&ya(a,b,e)&&(b=!1),f?hb(a,
b):[]},C.flattenDeep=function(a){return a&&a.length?hb(a,!0):[]},C.flow=cg,C.flowRight=td,C.forEach=Se,C.forEachRight=Te,C.forIn=lg,C.forInRight=mg,C.forOwn=ng,C.forOwnRight=og,C.functions=md,C.groupBy=Tf,C.indexBy=Uf,C.initial=function(a){return qe(a,1)},C.intersection=Hf,C.invert=function(a,b,e){e&&ya(a,b,e)&&(b=t);e=-1;for(var f=gb(a),g=f.length,k={};++e<g;){var l=f[e],h=a[l];b?Za.call(k,h)?k[h].push(l):k[h]=[l]:k[h]=l}return k},C.invoke=Vf,C.keys=gb,C.keysIn=Kb,C.map=jd,C.mapKeys=pg,C.mapValues=
qg,C.matches=Je,C.matchesProperty=function(a,b){return zc(a,Fb(b,!0))},C.memoize=kd,C.merge=dd,C.method=zg,C.methodOf=Ag,C.mixin=nd,C.modArgs=dg,C.negate=function(a){if("function"!=typeof a)throw new vb(V);return function(){return!a.apply(this,arguments)}},C.omit=rg,C.once=function(a){return Ae(2,a)},C.pairs=ie,C.partial=eg,C.partialRight=fg,C.partition=Wf,C.pick=sg,C.pluck=function(a,b){return jd(a,yc(b))},C.property=yc,C.propertyOf=function(a){return function(b){return rb(a,Lb(b),b+"")}},C.pull=
function(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var e=0,f=Xb(),g=a.length;++e<g;)for(var k=0,l=a[e];-1<(k=f(b,l,k));)Bd.call(b,k,1);return b},C.pullAt=If,C.range=function(a,b,e){e&&ya(a,b,e)&&(b=e=t);a=+a||0;e=null==e?1:+e||0;null==b?(b=a,a=0):b=+b||0;var f=-1;b=eb(Lc((b-a)/(e||1)),0);for(var g=Oa(b);++f<b;)g[f]=a,a+=e;return g},C.rearg=gg,C.reject=function(a,b,e){var f=qa(a)?zb:Yb;return b=Ka(b,e,3),f(a,function(a,e,f){return!b(a,e,f)})},C.remove=function(a,b,e){var f=[];if(!a||!a.length)return f;
var g=-1,k=[],l=a.length;for(b=Ka(b,e,3);++g<l;)e=a[g],b(e,g,a)&&(f.push(e),k.push(g));return Ad(a,k),f},C.rest=se,C.restParam=Ga,C.set=function(a,b,e){if(null==a)return a;var f=b+"";b=null!=a[f]||Sb(b,a)?[f]:Lb(b);for(var f=-1,g=b.length,k=g-1,l=a;null!=l&&++f<g;){var h=b[f];Na(l)&&(f==k?l[h]=e:null==l[h]&&(l[h]=Ib(b[f+1])?[]:{}));l=l[h]}return a},C.shuffle=function(a){return Pc(a,tc)},C.slice=function(a,b,e){var f=a?a.length:0;return f?(e&&"number"!=typeof e&&ya(a,b,e)&&(b=0,e=f),wb(a,b,e)):[]},
C.sortBy=function(a,b,e){if(null==a)return[];e&&ya(a,b,e)&&(b=t);var f=-1;return b=Ka(b,e,3),a=ac(a,function(a,e,g){return{a:b(a,e,g),b:++f,c:a}}),Dd(a,k)},C.sortByAll=Xf,C.sortByOrder=function(a,b,e,f){return null==a?[]:(f&&ya(b,e,f)&&(e=t),qa(b)||(b=null==b?[]:[b]),qa(e)||(e=null==e?[]:[e]),Ed(a,b,e))},C.spread=function(a){if("function"!=typeof a)throw new vb(V);return function(b){return a.apply(this,b)}},C.take=function(a,b,e){return a&&a.length?((e?ya(a,b,e):null==b)&&(b=1),wb(a,0,0>b?0:b)):[]},
C.takeRight=function(a,b,e){var f=a?a.length:0;return f?((e?ya(a,b,e):null==b)&&(b=1),b=f-(+b||0),wb(a,0>b?0:b)):[]},C.takeRightWhile=function(a,b,e){return a&&a.length?Gc(a,Ka(b,e,3),!1,!0):[]},C.takeWhile=function(a,b,e){return a&&a.length?Gc(a,Ka(b,e,3)):[]},C.tap=function(a,b,e){return b.call(e,a),a},C.throttle=function(a,b,e){var f=!0,g=!0;if("function"!=typeof a)throw new vb(V);return!1===e?f=!1:Na(e)&&(f="leading"in e?!!e.leading:f,g="trailing"in e?!!e.trailing:g),Be(a,b,{leading:f,maxWait:+b,
trailing:g})},C.thru=fd,C.times=function(a,b,e){if(a=Tb(a),1>a||!bc(a))return[];var f=-1,g=Oa(ob(a,4294967295));for(b=pb(b,e,1);++f<a;)4294967295>f?g[f]=b(f):b(f);return g},C.toArray=ye,C.toPlainObject=zd,C.transform=function(a,b,e,f){var g=qa(a)||Zb(a);return b=Ka(b,f,4),null==e&&(g||Na(a)?(f=a.constructor,e=g?qa(a)?new f:[]:nc(Qb(f)?f.prototype:t)):e={}),(g?Ya:Ab)(a,function(a,f,g){return b(e,a,f,g)}),e},C.union=Lf,C.uniq=te,C.unzip=ed,C.unzipWith=ue,C.values=Oc,C.valuesIn=function(a){return Vc(a,
Kb(a))},C.where=function(a,b){return gd(a,Pb(b))},C.without=Mf,C.wrap=function(a,b){return b=null==b?Ob:b,Mb(b,J,t,[a],[])},C.xor=function(){for(var a=-1,b=arguments.length;++a<b;){var e=arguments[a];if(db(e))var f=f?Ua(Jb(f,e),Jb(e,f)):e}return f?lc(f):[]},C.zip=Nf,C.zipObject=ve,C.zipWith=Of,C.backflow=td,C.collect=jd,C.compose=td,C.each=Se,C.eachRight=Te,C.extend=ud,C.iteratee=Mc,C.methods=md,C.object=ve,C.select=gd,C.tail=se,C.unique=te,nd(C,C),C.add=function(a,b){return(+a||0)+(+b||0)},C.attempt=
Xe,C.camelCase=tg,C.capitalize=function(a){return(a=f(a))&&a.charAt(0).toUpperCase()+a.slice(1)},C.ceil=Bg,C.clone=function(a,b,e,f){return b&&"boolean"!=typeof b&&ya(a,b,e)?b=!1:"function"==typeof b&&(f=e,e=b,b=!1),"function"==typeof e?Fb(a,b,pb(e,f,3)):Fb(a,b)},C.cloneDeep=function(a,b,e){return"function"==typeof b?Fb(a,!0,pb(b,e,3)):Fb(a,!0)},C.deburr=Pd,C.endsWith=function(a,b,e){a=f(a);b+="";var g=a.length;return e=e===t?g:ob(0>e?0:+e||0,g),e-=b.length,0<=e&&a.indexOf(b,e)==e},C.escape=function(a){return(a=
f(a))&&ia.test(a)?a.replace(U,m):a},C.escapeRegExp=function(a){return(a=f(a))&&pa.test(a)?a.replace(ba,p):a||"(?:)"},C.every=xe,C.find=rd,C.findIndex=Ff,C.findKey=jg,C.findLast=Sf,C.findLastIndex=Gf,C.findLastKey=kg,C.findWhere=function(a,b){return rd(a,Pb(b))},C.first=re,C.floor=Cg,C.get=function(a,b,e){return a=null==a?t:rb(a,Lb(b),b+""),a===t?e:a},C.gt=Ce,C.gte=function(a,b){return a>=b},C.has=function(a,b){if(null==a)return!1;var e=Za.call(a,b);if(!e&&!Sb(b)){if(b=Lb(b),a=1==b.length?a:rb(a,wb(b,
0,-1)),null==a)return!1;b=kc(b);e=Za.call(a,b)}return e||Db(a.length)&&Ib(b,a.length)&&(qa(a)||Gb(a))},C.identity=Ob,C.includes=hd,C.indexOf=bd,C.inRange=function(a,b,e){return b=+b||0,e===t?(e=b,b=0):e=+e||0,a>=ob(b,e)&&a<eb(b,e)},C.isArguments=Gb,C.isArray=qa,C.isBoolean=function(a){return!0===a||!1===a||u(a)&&qb.call(a)==Aa},C.isDate=function(a){return u(a)&&qb.call(a)==ka},C.isElement=function(a){return!!a&&1===a.nodeType&&u(a)&&!Fc(a)},C.isEmpty=function(a){return null==a?!0:db(a)&&(qa(a)||id(a)||
Gb(a)||u(a)&&Qb(a.splice))?!a.length:!gb(a).length},C.isEqual=De,C.isError=ld,C.isFinite=function(a){return"number"==typeof a&&bc(a)},C.isFunction=Qb,C.isMatch=function(a,b,e,f){return e="function"==typeof e?pb(e,f,3):t,$b(a,yd(b),e)},C.isNaN=function(a){return Fe(a)&&a!=+a},C.isNative=je,C.isNull=function(a){return null===a},C.isNumber=Fe,C.isObject=Na,C.isPlainObject=Fc,C.isRegExp=Ge,C.isString=id,C.isTypedArray=Zb,C.isUndefined=function(a){return a===t},C.kebabCase=ug,C.last=kc,C.lastIndexOf=function(a,
b,e){var f=a?a.length:0;if(!f)return-1;var g=f;if("number"==typeof e)g=(0>e?eb(f+e,0):ob(e||0,f-1))+1;else if(e)return g=Wc(a,b,!0)-1,a=a[g],(b===b?b===a:a!==a)?g:-1;if(b!==b)return q(a,g,!0);for(;g--;)if(a[g]===b)return g;return-1},C.lt=He,C.lte=function(a,b){return a<=b},C.max=Dg,C.min=Eg,C.noConflict=function(){return Ha._=yf,this},C.noop=Ke,C.now=pc,C.pad=function(a,b,e){a=f(a);b=+b;var g=a.length;return g<b&&bc(b)?(g=(b-g)/2,b=Tb(g),g=Lc(g),e=be("",g,e),e.slice(0,b)+a+e):a},C.padLeft=vg,C.padRight=
wg,C.parseInt=function(a,b,e){return(e?ya(a,b,e):null==b)?b=0:b&&(b=+b),a=Ie(a),Cf(a,b||(sa.test(a)?16:10))},C.random=function(a,b,e){e&&ya(a,b,e)&&(b=e=t);var f=null==b;return null==e&&(f&&"boolean"==typeof a?(e=a,a=1):"boolean"==typeof b&&(e=b,f=!0)),null==a&&f&&(b=1,f=!1),a=+a||0,f?(b=a,a=0):b=+b||0,e||a%1||b%1?(e=Cd(),ob(a+e*(b-a+zf("1e-"+((e+"").length-1))),b)):Uc(a,b)},C.reduce=sd,C.reduceRight=Ue,C.repeat=fe,C.result=function(a,b,e){var f=null==a?t:a[b];return f===t&&(null==a||Sb(b,a)||(b=
Lb(b),a=1==b.length?a:rb(a,wb(b,0,-1)),f=null==a?t:a[kc(b)]),f=f===t?e:f),Qb(f)?f.call(a):f},C.round=Fg,C.runInContext=D,C.size=function(a){var b=a?mc(a):0;return Db(b)?b:gb(a).length},C.snakeCase=xg,C.some=ze,C.sortedIndex=Jf,C.sortedLastIndex=Kf,C.startCase=yg,C.startsWith=function(a,b,e){return a=f(a),e=null==e?0:ob(0>e?0:+e||0,a.length),a.lastIndexOf(b,e)==e},C.sum=function(a,b,e){if(e&&ya(a,b,e)&&(b=t),b=Ka(b,e,3),1==b.length){a=qa(a)?a:Xc(a);e=a.length;for(var f=0;e--;)f+=+b(a[e])||0;a=f}else a=
mf(a,b);return a},C.template=function(a,b,e){var g=C.templateSettings;e&&ya(a,b,e)&&(b=e=t);a=f(a);b=Nb(Eb({},e||b),g,Hb);e=Nb(Eb({},b.imports),g.imports,Hb);var k,l,h=gb(e),n=Vc(e,h),m=0;e=b.interpolate||Ia;var q="__p+='";e=od((b.escape||Ia).source+"|"+e.source+"|"+(e===va?la:Ia).source+"|"+(b.evaluate||Ia).source+"|$","g");var p="sourceURL"in b?"//# sourceURL="+b.sourceURL+"\n":"";if(a.replace(e,function(b,e,f,g,h,n){return f||(f=g),q+=a.slice(m,n).replace(aa,r),e&&(k=!0,q+="'+__e("+e+")+'"),h&&
(l=!0,q+="';"+h+";\n__p+='"),f&&(q+="'+((__t=("+f+"))==null?'':__t)+'"),m=n+b.length,b}),q+="';",(b=b.variable)||(q="with(obj){"+q+"}"),q=(l?q.replace(lb,""):q).replace(mb,"$1").replace(Ba,"$1;"),q="function("+(b||"obj")+"){"+(b?"":"obj||(obj={});")+"var __t,__p=''"+(k?",__e=_.escape":"")+(l?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+q+"return __p}",b=Xe(function(){return Me(h,p+"return "+q).apply(t,n)}),b.source=q,ld(b))throw b;return b},C.trim=Ie,C.trimLeft=function(a,
b,g){var k=a;return(a=f(a))?a.slice((g?ya(k,b,g):null==b)?x(a):e(a,b+"")):a},C.trimRight=function(a,b,e){var g=a;return(a=f(a))?(e?ya(g,b,e):null==b)?a.slice(0,z(a)+1):a.slice(0,l(a,b+"")+1):a},C.trunc=function(a,b,e){e&&ya(a,b,e)&&(b=t);var g=Q;if(e=X,null!=b)if(Na(b)){var k="separator"in b?b.separator:k,g="length"in b?+b.length||0:g;e="omission"in b?f(b.omission):e}else g=+b||0;if(a=f(a),g>=a.length)return a;if(g-=e.length,1>g)return e;if(b=a.slice(0,g),null==k)return b+e;if(Ge(k)){if(a.slice(g).search(k)){var l,
h=a.slice(0,g);k.global||(k=od(k.source,(Pa.exec(k)||"")+"g"));for(k.lastIndex=0;a=k.exec(h);)l=a.index;b=b.slice(0,null==l?g:l)}}else a.indexOf(k,g)!=g&&(k=b.lastIndexOf(k),-1<k&&(b=b.slice(0,k)));return b+e},C.unescape=function(a){return(a=f(a))&&Xa.test(a)?a.replace(wa,B):a},C.uniqueId=function(a){var b=++xf;return f(a)+b},C.words=Od,C.all=xe,C.any=ze,C.contains=hd,C.eq=De,C.detect=rd,C.foldl=sd,C.foldr=Ue,C.head=re,C.include=hd,C.inject=sd,nd(C,function(){var a={};return Ab(C,function(b,e){C.prototype[e]||
(a[e]=b)}),a}(),!1),C.sample=Pc,C.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return Pc(b,a)}):Pc(this.value())},C.VERSION=A,Ya("bind bindKey curry curryRight partial partialRight".split(" "),function(a){C[a].placeholder=C}),Ya(["drop","take"],function(a,b){oa.prototype[a]=function(e){var f=this.__filtered__;if(f&&!b)return new oa(this);e=null==e?1:eb(Tb(e)||0,0);var g=this.clone();return f?g.__takeCount__=ob(g.__takeCount__,e):g.__views__.push({size:e,type:a+
(0>g.__dir__?"Right":"")}),g};oa.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),Ya(["filter","map","takeWhile"],function(a,b){var e=b+1,f=e!=ha;oa.prototype[a]=function(a,b){var g=this.clone();return g.__iteratees__.push({iteratee:Ka(a,b,1),type:e}),g.__filtered__=g.__filtered__||f,g}}),Ya(["first","last"],function(a,b){var e="take"+(b?"Right":"");oa.prototype[a]=function(){return this[e](1).value()[0]}}),Ya(["initial","rest"],function(a,b){var e="drop"+(b?"":"Right");oa.prototype[a]=
function(){return this.__filtered__?new oa(this):this[e](1)}}),Ya(["pluck","where"],function(a,b){var e=b?"filter":"map",f=b?Pb:yc;oa.prototype[a]=function(a){return this[e](f(a))}}),oa.prototype.compact=function(){return this.filter(Ob)},oa.prototype.reject=function(a,b){return a=Ka(a,b,1),this.filter(function(b){return!a(b)})},oa.prototype.slice=function(a,b){a=null==a?0:+a||0;var e=this;return e.__filtered__&&(0<a||0>b)?new oa(e):(0>a?e=e.takeRight(-a):a&&(e=e.drop(a)),b!==t&&(b=+b||0,e=0>b?e.dropRight(-b):
e.take(b-a)),e)},oa.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()},oa.prototype.toArray=function(){return this.take(tc)},Ab(oa.prototype,function(a,b){var e=/^(?:filter|map|reject)|While$/.test(b),f=/^(?:first|last)$/.test(b),g=C[f?"take"+("last"==b?"Right":""):b];g&&(C.prototype[b]=function(){function b(a){return f&&l?g(a,1)[0]:g.apply(t,Ua([a],k))}var k=f?[1]:arguments,l=this.__chain__,h=this.__wrapped__,n=!!this.__actions__.length,m=h instanceof oa,q=k[0],
p=m||qa(h);return p&&e&&"function"==typeof q&&1!=q.length&&(m=p=!1),q={func:fd,args:[b],thisArg:t},n=m&&!n,f&&!l?n?(h=h.clone(),h.__actions__.push(q),a.call(h)):g.call(t,this.value())[0]:!f&&p?(h=n?h:new oa(this),h=a.apply(h,k),h.__actions__.push(q),new Ca(h,l)):this.thru(b)})}),Ya("join pop push replace shift sort splice split unshift".split(" "),function(a){var b=(/^(?:replace|split)$/.test(a)?wf:Pe)[a],e=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",f=/^(?:join|pop|replace|shift)$/.test(a);C.prototype[a]=
function(){var a=arguments;return f&&!this.__chain__?b.apply(this.value(),a):this[e](function(e){return b.apply(e,a)})}}),Ab(oa.prototype,function(a,b){var e=C[b];if(e){var f=e.name+"";(Nc[f]||(Nc[f]=[])).push({name:b,func:e})}}),Nc[$c(t,G).name]=[{name:"wrapper",func:t}],oa.prototype.clone=function(){var a=new oa(this.__wrapped__);return a.__actions__=Ja(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Ja(this.__iteratees__),a.__takeCount__=this.__takeCount__,
a.__views__=Ja(this.__views__),a},oa.prototype.reverse=function(){if(this.__filtered__){var a=new oa(this);a.__dir__=-1;a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a},oa.prototype.value=function(){var a,b=this.__wrapped__.value(),e=this.__dir__,f=qa(b),g=0>e,k=f?b.length:0;a=k;for(var l=this.__views__,h=0,n=-1,m=l.length;++n<m;){var q=l[n],p=q.size;switch(q.type){case "drop":h+=p;break;case "dropRight":a-=p;break;case "take":a=ob(a,h+p);break;case "takeRight":h=eb(h,a-p)}}if(a={start:h,
end:a},l=a.start,h=a.end,a=h-l,g=g?h:l-1,l=this.__iteratees__,h=l.length,n=0,m=ob(a,this.__takeCount__),!f||k<N||k==a&&m==a)return Fd(b,this.__actions__);f=[];a:for(;a--&&n<m;){g+=e;k=-1;for(q=b[g];++k<h;){var t=l[k],p=t.type,t=t.iteratee(q);if(p==ha)q=t;else if(!t){if(p==Z)continue a;break a}}f[n++]=q}return f},C.prototype.chain=function(){return we(this)},C.prototype.commit=function(){return new Ca(this.value(),this.__chain__)},C.prototype.concat=Pf,C.prototype.plant=function(a){for(var b,e=this;e instanceof
Da;){var f=vd(e);b?g.__wrapped__=f:b=f;var g=f,e=e.__wrapped__}return g.__wrapped__=a,b},C.prototype.reverse=function(){function a(b){return b.reverse()}var b=this.__wrapped__;return b instanceof oa?(this.__actions__.length&&(b=new oa(this)),b=b.reverse(),b.__actions__.push({func:fd,args:[a],thisArg:t}),new Ca(b,this.__chain__)):this.thru(a)},C.prototype.toString=function(){return this.value()+""},C.prototype.run=C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=function(){return Fd(this.__wrapped__,
this.__actions__)},C.prototype.collect=C.prototype.map,C.prototype.head=C.prototype.first,C.prototype.select=C.prototype.filter,C.prototype.tail=C.prototype.rest,C}var t,A="3.10.1",F=1,G=2,K=4,E=8,O=16,J=32,M=64,L=128,R=256,Q=30,X="...",T=150,ea=16,N=200,Z=1,ha=2,V="Expected a function",ta="__lodash_placeholder__",Y="[object Arguments]",na="[object Array]",Aa="[object Boolean]",ka="[object Date]",bb="[object Error]",ja="[object Function]",Ra="[object Number]",Fa="[object Object]",xa="[object RegExp]",
cb="[object String]",Sa="[object ArrayBuffer]",xb="[object Float32Array]",ib="[object Float64Array]",ca="[object Int8Array]",v="[object Int16Array]",fb="[object Int32Array]",La="[object Uint8Array]",ma="[object Uint8ClampedArray]",jb="[object Uint16Array]",H="[object Uint32Array]",lb=/\b__p\+='';/g,mb=/\b(__p\+=)''\+/g,Ba=/(__e\(.*?\)|\b__t\))\+'';/g,wa=/&(?:amp|lt|gt|quot|#39|#96);/g,U=/[&<>"'`]/g,Xa=RegExp(wa.source),ia=RegExp(U.source),ga=/<%-([\s\S]+?)%>/g,da=/<%([\s\S]+?)%>/g,va=/<%=([\s\S]+?)%>/g,
P=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ua=/^\w*$/,fa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,ba=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,pa=RegExp(ba.source),$a=/[\u0300-\u036f\ufe20-\ufe23]/g,Ta=/\\(\\)?/g,la=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pa=/\w*$/,sa=/^0[xX]/,Qa=/^\[object .+?Constructor\]$/,Wa=/^\d+$/,kb=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ia=/($^)/,aa=/['\n\r\u2028\u2029\\]/g,sb=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+",
"g"),yb="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),za={};za[xb]=za[ib]=za[ca]=za[v]=za[fb]=za[La]=za[ma]=za[jb]=za[H]=!0;za[Y]=za[na]=za[Sa]=za[Aa]=za[ka]=za[bb]=za[ja]=za["[object Map]"]=za[Ra]=za[Fa]=za[xa]=za["[object Set]"]=za[cb]=za["[object WeakMap]"]=!1;var ra={};ra[Y]=
ra[na]=ra[Sa]=ra[Aa]=ra[ka]=ra[xb]=ra[ib]=ra[ca]=ra[v]=ra[fb]=ra[Ra]=ra[Fa]=ra[xa]=ra[cb]=ra[La]=ra[ma]=ra[jb]=ra[H]=!0;ra[bb]=ra[ja]=ra["[object Map]"]=ra["[object Set]"]=ra["[object WeakMap]"]=!1;var zb={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e",
"\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},
Ua={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Da={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ca={"function":!0,object:!0},nb={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ma={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ub=Ca[typeof exports]&&
exports&&!exports.nodeType&&exports,ab=Ca[typeof module]&&module&&!module.nodeType&&module,Va=Ca[typeof self]&&self&&self.Object&&self,Ja=Ca[typeof window]&&window&&window.Object&&window,Ya=ab&&ab.exports===ub&&ub,Ha=ub&&ab&&"object"==typeof global&&global&&global.Object&&global||Ja!==(this&&this.window)&&Ja||Va||this,tb=D();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ha._=tb,define(function(){return tb})):ub&&ab?Ya?(ab.exports=tb)._=tb:ub._=tb:Ha._=tb}).call(this);(function(a,h,b,g,f,e){function l(a,b){var e=typeof a[b];return"function"==e||!("object"!=e||!a[b])||"unknown"==e}function k(){if(!w(navigator.plugins)&&"object"==typeof navigator.plugins["Shockwave Flash"]){var a=navigator.plugins["Shockwave Flash"].description;a&&!w(navigator.mimeTypes)&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(X=a.match(/\d+/g))}if(!X){var b;try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),
X=Array.prototype.slice.call(b.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1)}catch(e){}}if(!X)return!1;a=parseInt(X[0],10);b=parseInt(X[1],10);T=9<a&&0<b;return!0}function n(){if(!Z){Z=!0;for(var a=0;a<ha.length;a++)ha[a]();ha.length=0}}function m(a,b){Z?a.call(b):ha.push(function(){a.call(b)})}function p(){var a=parent;if(""!==O)for(var b=0,e=O.split(".");b<e.length;b++)a=a[e[b]];return a.easyXDM}function r(a){var b=a.toLowerCase().match(G);a=b[2];var e=b[3],b=b[4]||"";if("http:"==
a&&":80"==b||"https:"==a&&":443"==b)b="";return a+"//"+e+b}function q(a){a=a.replace(E,"$1/");if(!a.match(/^(http||https):\/\//)){var e="/"===a.substring(0,1)?"":b.pathname;"/"!==e.substring(e.length-1)&&(e=e.substring(0,e.lastIndexOf("/")+1));a=b.protocol+"//"+b.host+e+a}for(;K.test(a);)a=a.replace(K,"");return a}function u(a,b){var f="",g=a.indexOf("#");-1!==g&&(f=a.substring(g),a=a.substring(0,g));var g=[],k;for(k in b)b.hasOwnProperty(k)&&g.push(k+"="+e(b[k]));return a+(Q?"#":-1==a.indexOf("?")?
"?":"&")+g.join("&")+f}function w(a){return"undefined"===typeof a}function y(a,b,e){var f,g;for(g in b)b.hasOwnProperty(g)&&(g in a?(f=b[g],"object"===typeof f?y(a[g],f,e):e||(a[g]=b[g])):a[g]=b[g]);return a}function x(a){if(w(R)){var b=h.body.appendChild(h.createElement("form")),e=b.appendChild(h.createElement("input"));e.name=L+"TEST"+A;R=e!==b.elements[e.name];h.body.removeChild(b)}R?b=h.createElement('<iframe name="'+a.props.name+'"/>'):(b=h.createElement("IFRAME"),b.name=a.props.name);b.id=b.name=
a.props.name;delete a.props.name;"string"==typeof a.container&&(a.container=h.getElementById(a.container));a.container||(y(b.style,{position:"absolute",top:"-2000px",left:"0px"}),a.container=h.body);e=a.props.src;a.props.src="javascript:false";y(b,a.props);b.border=b.frameBorder=0;b.allowTransparency=!0;a.container.appendChild(b);a.onLoad&&ea(b,"load",a.onLoad);if(a.usePost){var f=a.container.appendChild(h.createElement("form")),g;f.target=b.name;f.action=e;f.method="POST";if("object"===typeof a.usePost)for(var k in a.usePost)a.usePost.hasOwnProperty(k)&&
(R?g=h.createElement('<input name="'+k+'"/>'):(g=h.createElement("INPUT"),g.name=k),g.value=a.usePost[k],f.appendChild(g));f.submit();f.parentNode.removeChild(f)}else b.src=e;a.props.src=e;return b}function z(e){var f=e.protocol,g;e.isHost=e.isHost||w(Y.xdm_p);Q=e.hash||!1;e.props||(e.props={});if(e.isHost)e.remote=q(e.remote),e.channel=e.channel||"default"+A++,e.secret=Math.random().toString(16).substring(2),w(f)&&(f=r(b.href)==r(e.remote)?"4":l(a,"postMessage")||l(h,"postMessage")?"1":e.swf&&l(a,
"ActiveXObject")&&k()?"6":"Gecko"===navigator.product&&"frameElement"in a&&-1==navigator.userAgent.indexOf("WebKit")?"5":e.remoteHelper?"2":"0");else{e.channel=Y.xdm_c.replace(/["'<>\\]/g,"");e.secret=Y.xdm_s;e.remote=Y.xdm_e.replace(/["'<>\\]/g,"");var f=Y.xdm_p,n;if(n=e.acl){a:{n=e.acl;var m=e.remote;"string"==typeof n&&(n=[n]);for(var p,t=n.length;t--;)if(p=n[t],p=new RegExp("^"==p.substr(0,1)?p:"^"+p.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),p.test(m)){n=!0;break a}n=!1}n=!n}if(n)throw Error("Access denied for "+
e.remote);}e.protocol=f;switch(f){case "0":y(e,{interval:100,delay:2E3,useResize:!0,useParent:!1,usePolling:!1},!0);if(e.isHost){if(!e.local){f=b.protocol+"//"+b.host;g=h.body.getElementsByTagName("img");for(m=g.length;m--;)if(n=g[m],n.src.substring(0,f.length)===f){e.local=n.src;break}e.local||(e.local=a)}f={xdm_c:e.channel,xdm_p:0};e.local===a?(e.usePolling=!0,e.useParent=!0,e.local=b.protocol+"//"+b.host+b.pathname+b.search,f.xdm_e=e.local,f.xdm_pa=1):f.xdm_e=q(e.local);e.container&&(e.useResize=
!1,f.xdm_po=1);e.remote=u(e.remote,f)}else y(e,{useParent:!w(Y.xdm_pa),usePolling:!w(Y.xdm_po),useResize:e.useParent?!1:e.useResize});g=[new J.stack.HashTransport(e),new J.stack.ReliableBehavior({}),new J.stack.QueueBehavior({encode:!0,maxLength:4E3-e.remote.length}),new J.stack.VerifyBehavior({initiate:e.isHost})];break;case "1":g=[new J.stack.PostMessageTransport(e)];break;case "2":e.isHost&&(e.remoteHelper=q(e.remoteHelper));g=[new J.stack.NameTransport(e),new J.stack.QueueBehavior,new J.stack.VerifyBehavior({initiate:e.isHost})];
break;case "3":g=[new J.stack.NixTransport(e)];break;case "4":g=[new J.stack.SameOriginTransport(e)];break;case "5":g=[new J.stack.FrameElementTransport(e)];break;case "6":X||k(),g=[new J.stack.FlashTransport(e)]}g.push(new J.stack.QueueBehavior({lazy:e.lazy,remove:!0}));return g}function B(a){for(var b,e={incoming:function(a,b){this.up.incoming(a,b)},outgoing:function(a,b){this.down.outgoing(a,b)},callback:function(a){this.up.callback(a)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},
f=0,g=a.length;f<g;f++)b=a[f],y(b,e,!0),0!==f&&(b.down=a[f-1]),f!==g-1&&(b.up=a[f+1]);return b}function D(a){a.up.down=a.down;a.down.up=a.up;a.up=a.down=null}var t=this,A=Math.floor(1E4*Math.random()),F=Function.prototype,G=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,K=/[\-\w]+\/\.\.\//,E=/([^:])\/\//g,O="",J={},M=a.easyXDM,L="easyXDM_",R,Q=!1,X,T,ea,N;if(l(a,"addEventListener"))ea=function(a,b,e){a.addEventListener(b,e,!1)},N=function(a,b,e){a.removeEventListener(b,e,!1)};else if(l(a,"attachEvent"))ea=
function(a,b,e){a.attachEvent("on"+b,e)},N=function(a,b,e){a.detachEvent("on"+b,e)};else throw Error("Browser not supported");var Z=!1,ha=[],V;"readyState"in h?(V=h.readyState,Z="complete"==V||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==V||"interactive"==V)):Z=!!h.body;if(!Z){if(l(a,"addEventListener"))ea(h,"DOMContentLoaded",n);else if(ea(h,"readystatechange",function(){"complete"==h.readyState&&n()}),h.documentElement.doScroll&&a===top){var ta=function(){if(!Z){try{h.documentElement.doScroll("left")}catch(a){g(ta,
1);return}n()}};ta()}ea(a,"load",n)}var Y=function(a){a=a.substring(1).split("&");for(var b={},e,g=a.length;g--;)e=a[g].split("="),b[e[0]]=f(e[1]);return b}(/xdm_e=/.test(b.search)?b.search:b.hash),na=function(){var a={},b={a:[1,2,3]};if("undefined"!=typeof JSON&&"function"===typeof JSON.stringify&&'{"a":[1,2,3]}'===JSON.stringify(b).replace(/\s/g,""))return JSON;Object.toJSON&&'{"a":[1,2,3]}'===Object.toJSON(b).replace(/\s/g,"")&&(a.stringify=Object.toJSON);"function"===typeof String.prototype.evalJSON&&
(b='{"a":[1,2,3]}'.evalJSON(),b.a&&3===b.a.length&&3===b.a[2]&&(a.parse=function(a){return a.evalJSON()}));return a.stringify&&a.parse?(na=function(){return a},a):null};y(J,{version:"2.4.20.7",query:Y,stack:{},apply:y,getJSONObject:na,whenReady:m,noConflict:function(b){a.easyXDM=M;(O=b)&&(L="easyXDM_"+O.replace(".","_")+"_");return J}});J.DomHelper={on:ea,un:N,requiresJSON:function(b){"object"==typeof a.JSON&&a.JSON||h.write('<script type="text/javascript" src="'+b+'">\x3c/script>')}};(function(){var a=
{};J.Fn={set:function(b,e){a[b]=e},get:function(b,e){if(a.hasOwnProperty(b)){var f=a[b];e&&delete a[b];return f}}}})();J.Socket=function(a){var b=B(z(a).concat([{incoming:function(b,e){a.onMessage(b,e)},callback:function(b){if(a.onReady)a.onReady(b)}}])),e=r(a.remote);this.origin=r(a.remote);this.destroy=function(){b.destroy()};this.postMessage=function(a){b.outgoing(a,e)};b.init()};J.Rpc=function(a,b){if(b.local)for(var e in b.local)if(b.local.hasOwnProperty(e)){var f=b.local[e];"function"===typeof f&&
(b.local[e]={method:f})}var g=B(z(a).concat([new J.stack.RpcBehavior(this,b),{callback:function(b){if(a.onReady)a.onReady(b)}}]));this.origin=r(a.remote);this.destroy=function(){g.destroy()};g.init()};J.stack.SameOriginTransport=function(a){var e,f,k,l;return e={outgoing:function(a,b,e){k(a);e&&e()},destroy:function(){f&&(f.parentNode.removeChild(f),f=null)},onDOMReady:function(){l=r(a.remote);a.isHost?(y(a.props,{src:u(a.remote,{xdm_e:b.protocol+"//"+b.host+b.pathname,xdm_c:a.channel,xdm_p:4}),name:L+
a.channel+"_provider"}),f=x(a),J.Fn.set(a.channel,function(a){k=a;g(function(){e.up.callback(!0)},0);return function(a){e.up.incoming(a,l)}})):(k=p().Fn.get(a.channel,!0)(function(a){e.up.incoming(a,l)}),g(function(){e.up.callback(!0)},0))},init:function(){m(e.onDOMReady,e)}}};J.stack.FlashTransport=function(a){function f(a,b){g(function(){l.up.incoming(a,p)},0)}function k(b){var f=a.swf+"?host="+a.isHost,g="easyXDM_swf_"+Math.floor(1E4*Math.random());J.Fn.set("flash_loaded"+b.replace(/[\-.]/g,"_"),
function(){J.stack.FlashTransport[b].swf=A=w.firstChild;for(var a=J.stack.FlashTransport[b].queue,e=0;e<a.length;e++)a[e]();a.length=0});a.swfContainer?w="string"==typeof a.swfContainer?h.getElementById(a.swfContainer):a.swfContainer:(w=h.createElement("div"),y(w.style,T&&a.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),h.body.appendChild(w));var l="callback=flash_loaded"+e(b.replace(/[\-.]/g,
"_"))+"&proto="+t.location.protocol+"&domain="+e(t.location.href.match(G)[3])+"&port="+e(t.location.href.match(G)[4]||"")+"&ns="+e(O);w.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+g+"' data='"+f+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+f+"'></param><param name='flashvars' value='"+l+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+l+"' allowScriptAccess='always' wmode='transparent' src='"+
f+"' height='1' width='1'></embed></object>"}var l,n,p,A,w;return l={outgoing:function(b,e,f){A.postMessage(a.channel,b.toString());f&&f()},destroy:function(){try{A.destroyChannel(a.channel)}catch(b){}A=null;n&&(n.parentNode.removeChild(n),n=null)},onDOMReady:function(){p=a.remote;J.Fn.set("flash_"+a.channel+"_init",function(){g(function(){l.up.callback(!0)})});J.Fn.set("flash_"+a.channel+"_onMessage",f);a.swf=q(a.swf);var e=a.swf.match(G)[3],h=function(){J.stack.FlashTransport[e].init=!0;A=J.stack.FlashTransport[e].swf;
A.createChannel(a.channel,a.secret,r(a.remote),a.isHost);a.isHost&&(T&&a.swfNoThrottle&&y(a.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),y(a.props,{src:u(a.remote,{xdm_e:r(b.href),xdm_c:a.channel,xdm_p:6,xdm_s:a.secret}),name:L+a.channel+"_provider"}),n=x(a))};J.stack.FlashTransport[e]&&J.stack.FlashTransport[e].init?h():J.stack.FlashTransport[e]?J.stack.FlashTransport[e].queue.push(h):(J.stack.FlashTransport[e]={queue:[h]},k(e))},init:function(){m(l.onDOMReady,l)}}};J.stack.PostMessageTransport=
function(e){function f(a){if("string"===typeof a.data){var g;if(a.origin)g=r(a.origin);else if(a.uri)g=r(a.uri);else if(a.domain)g=b.protocol+"//"+a.domain;else throw"Unable to retrieve the origin of the event";g==q&&a.data.substring(0,e.channel.length+1)==e.channel+" "&&l.up.incoming(a.data.substring(e.channel.length+1),g)}}function k(b){b.data==e.channel+"-ready"&&(n="postMessage"in h.contentWindow?h.contentWindow:h.contentWindow.document,N(a,"message",k),ea(a,"message",f),g(function(){l.up.callback(!0)},
0))}var l,h,n,q;return l={outgoing:function(a,b,f){n.postMessage(e.channel+" "+a,b||q);f&&f()},destroy:function(){N(a,"message",k);N(a,"message",f);h&&(n=null,h.parentNode.removeChild(h),h=null)},onDOMReady:function(){q=r(e.remote);e.isHost?(ea(a,"message",k),y(e.props,{src:u(e.remote,{xdm_e:r(b.href),xdm_c:e.channel,xdm_p:1}),name:L+e.channel+"_provider"}),h=x(e)):(ea(a,"message",f),n="postMessage"in a.parent?a.parent:a.parent.document,n.postMessage(e.channel+"-ready",q),g(function(){l.up.callback(!0)},
0))},init:function(){m(l.onDOMReady,l)}}};J.stack.FrameElementTransport=function(e){var f,k,l,n;return f={outgoing:function(a,b,e){l.call(this,a);e&&e()},destroy:function(){k&&(k.parentNode.removeChild(k),k=null)},onDOMReady:function(){n=r(e.remote);e.isHost?(y(e.props,{src:u(e.remote,{xdm_e:r(b.href),xdm_c:e.channel,xdm_p:5}),name:L+e.channel+"_provider"}),k=x(e),k.fn=function(a){delete k.fn;l=a;g(function(){f.up.callback(!0)},0);return function(a){f.up.incoming(a,n)}}):(h.referrer&&r(h.referrer)!=
Y.xdm_e&&(a.top.location=Y.xdm_e),l=a.frameElement.fn(function(a){f.up.incoming(a,n)}),f.up.callback(!0))},init:function(){m(f.onDOMReady,f)}}};J.stack.NameTransport=function(a){function b(e){n.contentWindow.sendMessage(e,a.remoteHelper+(h?"#_3":"#_2")+a.channel)}function e(){h?2!==++t&&h||l.up.callback(!0):(b("ready"),l.up.callback(!0))}function f(a){l.up.incoming(a,w)}function k(){A&&g(function(){A(!0)},0)}var l,h,n,p,t,A,w,G;return l={outgoing:function(a,e,f){A=f;b(a)},destroy:function(){n.parentNode.removeChild(n);
n=null;h&&(p.parentNode.removeChild(p),p=null)},onDOMReady:function(){h=a.isHost;t=0;w=r(a.remote);a.local=q(a.local);h?(J.Fn.set(a.channel,function(b){h&&"ready"===b&&(J.Fn.set(a.channel,f),e())}),G=u(a.remote,{xdm_e:a.local,xdm_c:a.channel,xdm_p:2}),y(a.props,{src:G+"#"+a.channel,name:L+a.channel+"_provider"}),p=x(a)):(a.remoteHelper=a.remote,J.Fn.set(a.channel,f));var b=function(){var f=n||this;N(f,"load",b);J.Fn.set(a.channel+"_load",k);(function jb(){"function"==typeof f.contentWindow.sendMessage?
e():g(jb,50)})()};n=x({props:{src:a.local+"#_4"+a.channel},onLoad:b})},init:function(){m(l.onDOMReady,l)}}};J.stack.HashTransport=function(b){function e(){if(p){var a=p.location.href,b="",g=a.indexOf("#");-1!=g&&(b=a.substring(g));b&&b!=n&&(n=b,f.up.incoming(n.substring(n.indexOf("_")+1),w))}}var f,k,l,h,n,q,p,t,A,w;return f={outgoing:function(a,e){if(t){var f=b.remote+"#"+q++ +"_"+a;(k||!A?t.contentWindow:t).location=f}},destroy:function(){a.clearInterval(l);!k&&A||t.parentNode.removeChild(t);t=
null},onDOMReady:function(){k=b.isHost;h=b.interval;n="#"+b.channel;q=0;A=b.useParent;w=r(b.remote);if(k){y(b.props,{src:b.remote,name:L+b.channel+"_provider"});if(A)b.onLoad=function(){p=a;l=setInterval(e,h);f.up.callback(!0)};else{var m=0,u=b.delay/50;(function ma(){if(++m>u)throw Error("Unable to reference listenerwindow");try{p=t.contentWindow.frames[L+b.channel+"_consumer"]}catch(a){}p?(l=setInterval(e,h),f.up.callback(!0)):g(ma,50)})()}t=x(b)}else p=a,l=setInterval(e,h),A?(t=parent,f.up.callback(!0)):
(y(b,{props:{src:b.remote+"#"+b.channel+new Date,name:L+b.channel+"_consumer"},onLoad:function(){f.up.callback(!0)}}),t=x(b))},init:function(){m(f.onDOMReady,f)}}};J.stack.ReliableBehavior=function(a){var b,e,f=0,g=0,k="";return b={incoming:function(a,l){var h=a.indexOf("_"),n=a.substring(0,h).split(",");a=a.substring(h+1);n[0]==f&&(k="",e&&e(!0));0<a.length&&(b.down.outgoing(n[1]+","+f+"_"+k,l),g!=n[1]&&(g=n[1],b.up.incoming(a,l)))},outgoing:function(a,l,h){k=a;e=h;b.down.outgoing(g+","+ ++f+"_"+
a,l)}}};J.stack.QueueBehavior=function(a){function b(){if(a.remove&&0===l.length)D(k);else if(!h&&0!==l.length&&!m){h=!0;var e=l.shift();k.down.outgoing(e.data,e.origin,function(a){h=!1;e.callback&&g(function(){e.callback(a)},0);b()})}}var k,l=[],h=!0,n="",m,q=0,p=!1,t=!1;return k={init:function(){w(a)&&(a={});a.maxLength&&(q=a.maxLength,t=!0);a.lazy?p=!0:k.down.init()},callback:function(a){h=!1;var e=k.up;b();e.callback(a)},incoming:function(b,e){if(t){var g=b.indexOf("_"),l=parseInt(b.substring(0,
g),10);n+=b.substring(g+1);0===l&&(a.encode&&(n=f(n)),k.up.incoming(n,e),n="")}else k.up.incoming(b,e)},outgoing:function(f,g,h){a.encode&&(f=e(f));var n=[],m;if(t){for(;0!==f.length;)m=f.substring(0,q),f=f.substring(m.length),n.push(m);for(;m=n.shift();)l.push({data:n.length+"_"+m,origin:g,callback:0===n.length?h:null})}else l.push({data:f,origin:g,callback:h});p?k.down.init():b()},destroy:function(){m=!0;k.down.destroy()}}};J.stack.VerifyBehavior=function(a){function b(){f=Math.random().toString(16).substring(2);
e.down.outgoing(f)}var e,f,g;return e={incoming:function(k,l){var h=k.indexOf("_");-1===h?k===f?e.up.callback(!0):g||(g=k,a.initiate||b(),e.down.outgoing(k)):k.substring(0,h)===g&&e.up.incoming(k.substring(h+1),l)},outgoing:function(a,b,g){e.down.outgoing(f+"_"+a,b,g)},callback:function(e){a.initiate&&b()}}};J.stack.RpcBehavior=function(a,b){function e(a){a.jsonrpc="2.0";k.down.outgoing(l.stringify(a))}function f(a,b){var g=Array.prototype.slice;return function(){var f=arguments.length,k,l={method:b};
0<f&&"function"===typeof arguments[f-1]?(1<f&&"function"===typeof arguments[f-2]?(k={success:arguments[f-2],error:arguments[f-1]},l.params=g.call(arguments,0,f-2)):(k={success:arguments[f-1]},l.params=g.call(arguments,0,f-1)),n[""+ ++h]=k,l.id=h):l.params=g.call(arguments,0);a.namedParams&&1===l.params.length&&(l.params=l.params[0]);e(l)}}function g(a,b,f,k){if(f){var l,h;b?(l=function(a){l=F;e({id:b,result:a})},h=function(a,f){h=F;var g={id:b,error:{code:-32099,message:a}};f&&(g.error.data=f);e(g)}):
l=h=F;"[object Array]"!==Object.prototype.toString.call(k)&&(k=[k]);try{var n=f.method.apply(f.scope,k.concat([l,h]));w(n)||l(n)}catch(m){h(m.message)}}else b&&e({id:b,error:{code:-32601,message:"Procedure not found."}})}var k,l=b.serializer||na(),h=0,n={};return k={incoming:function(a,f){var k=l.parse(a);if(k.method)b.handle?b.handle(k,e):g(k.method,k.id,b.local[k.method],k.params);else{var h=n[k.id];k.error?h.error&&h.error(k.error):h.success&&h.success(k.result);delete n[k.id]}},init:function(){if(b.remote)for(var e in b.remote)b.remote.hasOwnProperty(e)&&
(a[e]=f(b.remote[e],e));k.down.init()},destroy:function(){for(var e in b.remote)b.remote.hasOwnProperty(e)&&a.hasOwnProperty(e)&&delete a[e];k.down.destroy()}}};t.easyXDM=J})(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent);(function(a,h){"object"===typeof module&&"object"===typeof module.exports?module.exports=a.document?h(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return h(a)}:h(a)})("undefined"!==typeof window?window:this,function(a,h){function b(a){var b=!!a&&"length"in a&&a.length,e=v.type(a);return"function"===e||v.isWindow(a)?!1:"array"===e||0===b||"number"===typeof b&&0<b&&b-1 in a}function g(a,b,e){if(v.isFunction(b))return v.grep(a,function(a,f){return!!b.call(a,
f,a)!==e});if(b.nodeType)return v.grep(a,function(a){return a===b!==e});if("string"===typeof b){if(U.test(b))return v.filter(b,a,e);b=v.filter(b,a)}return v.grep(a,function(a){return-1<cb.call(b,a)!==e})}function f(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function e(a){var b={};v.each(a.match(va)||[],function(a,e){b[e]=!0});return b}function l(){ja.removeEventListener("DOMContentLoaded",l);a.removeEventListener("load",l);v.ready()}function k(){this.expando=v.expando+k.uid++}function n(a,b,e){if(void 0===
e&&1===a.nodeType)if(e="data-"+b.replace(Ta,"-$&").toLowerCase(),e=a.getAttribute(e),"string"===typeof e){try{e="true"===e?!0:"false"===e?!1:"null"===e?null:+e+""===e?+e:$a.test(e)?v.parseJSON(e):e}catch(f){}pa.set(a,b,e)}else e=void 0;return e}function m(a,b,e,f){var g,k=1,l=20,h=f?function(){return f.cur()}:function(){return v.css(a,b,"")},n=h(),m=e&&e[3]||(v.cssNumber[b]?"":"px"),q=(v.cssNumber[b]||"px"!==m&&+n)&&Pa.exec(v.css(a,b));if(q&&q[3]!==m){m=m||q[3];e=e||[];q=+n||1;do k=k||".5",q/=k,v.style(a,
b,q+m);while(k!==(k=h()/n)&&1!==k&&--l)}e&&(q=+q||+n||0,g=e[1]?q+(e[1]+1)*e[2]:+e[2],f&&(f.unit=m,f.start=q,f.end=g));return g}function p(a,b){var e="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&v.nodeName(a,b)?v.merge([a],e):e}function r(a,b){for(var e=0,f=a.length;e<f;e++)ba.set(a[e],"globalEval",!b||ba.get(b[e],"globalEval"))}function q(a,b,e,f,g){for(var k,l,h,n=b.createDocumentFragment(),
m=[],q=0,t=a.length;q<t;q++)if((k=a[q])||0===k)if("object"===v.type(k))v.merge(m,k.nodeType?[k]:k);else if(sb.test(k)){l=l||n.appendChild(b.createElement("div"));h=(kb.exec(k)||["",""])[1].toLowerCase();h=aa[h]||aa._default;l.innerHTML=h[1]+v.htmlPrefilter(k)+h[2];for(h=h[0];h--;)l=l.lastChild;v.merge(m,l.childNodes);l=n.firstChild;l.textContent=""}else m.push(b.createTextNode(k));n.textContent="";for(q=0;k=m[q++];)if(f&&-1<v.inArray(k,f))g&&g.push(k);else if(a=v.contains(k.ownerDocument,k),l=p(n.appendChild(k),
"script"),a&&r(l),e)for(h=0;k=l[h++];)Ia.test(k.type||"")&&e.push(k);return n}function u(){return!0}function w(){return!1}function y(){try{return ja.activeElement}catch(a){}}function x(a,b,e,f,g,k){var l,h;if("object"===typeof b){"string"!==typeof e&&(f=f||e,e=void 0);for(h in b)x(a,h,e,f,b[h],k);return a}null==f&&null==g?(g=e,f=e=void 0):null==g&&("string"===typeof e?(g=f,f=void 0):(g=f,f=e,e=void 0));if(!1===g)g=w;else if(!g)return a;1===k&&(l=g,g=function(a){v().off(a);return l.apply(this,arguments)},
g.guid=l.guid||(l.guid=v.guid++));return a.each(function(){v.event.add(this,b,g,f,e)})}function z(a,b){return v.nodeName(a,"table")&&v.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function B(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}function D(a){var b=Ca.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function t(a,b){var e,f,g,k;if(1===b.nodeType){if(ba.hasData(a)&&(k=ba.access(a),
e=ba.set(b,k),k=k.events))for(g in delete e.handle,e.events={},k)for(e=0,f=k[g].length;e<f;e++)v.event.add(b,g,k[g][e]);pa.hasData(a)&&(g=pa.access(a),g=v.extend({},g),pa.set(b,g))}}function A(a,b,e,f){b=Fa.apply([],b);var g,k,l,h,n=0,m=a.length,t=m-1,r=b[0],w=v.isFunction(r);if(w||1<m&&"string"===typeof r&&!ca.checkClone&&Da.test(r))return a.each(function(g){var k=a.eq(g);w&&(b[0]=r.call(this,g,k.html()));A(k,b,e,f)});if(m&&(g=q(b,a[0].ownerDocument,!1,a,f),k=g.firstChild,1===g.childNodes.length&&
(g=k),k||f)){k=v.map(p(g,"script"),B);for(l=k.length;n<m;n++)h=g,n!==t&&(h=v.clone(h,!0,!0),l&&v.merge(k,p(h,"script"))),e.call(a[n],h,n);if(l)for(g=k[k.length-1].ownerDocument,v.map(k,D),n=0;n<l;n++)h=k[n],Ia.test(h.type||"")&&!ba.access(h,"globalEval")&&v.contains(g,h)&&(h.src?v._evalUrl&&v._evalUrl(h.src):v.globalEval(h.textContent.replace(nb,"")))}return a}function F(a,b,e){for(var f=b?v.filter(b,a):a,g=0;null!=(b=f[g]);g++)e||1!==b.nodeType||v.cleanData(p(b)),b.parentNode&&(e&&v.contains(b.ownerDocument,
b)&&r(p(b,"script")),b.parentNode.removeChild(b));return a}function G(a,b){var e=v(b.createElement(a)).appendTo(b.body),f=v.css(e[0],"display");e.detach();return f}function K(a){var b=ja,e=ub[a];e||(e=G(a,b),"none"!==e&&e||(Ma=(Ma||v("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Ma[0].contentDocument,b.write(),b.close(),e=G(a,b),Ma.detach()),ub[a]=e);return e}function E(a,b,e){var f,g,k=a.style;g=(e=e||Ja(a))?e.getPropertyValue(b)||e[b]:void 0;""!==g&&void 0!==g||
v.contains(a.ownerDocument,a)||(g=v.style(a,b));e&&!ca.pixelMarginRight()&&Va.test(g)&&ab.test(b)&&(a=k.width,b=k.minWidth,f=k.maxWidth,k.minWidth=k.maxWidth=k.width=g,g=e.width,k.width=a,k.minWidth=b,k.maxWidth=f);return void 0!==g?g+"":g}function O(a,b){return{get:function(){if(a())delete this.get;else return(this.get=b).apply(this,arguments)}}}function J(a){if(a in rc)return a;for(var b=a[0].toUpperCase()+a.slice(1),e=Ea.length;e--;)if(a=Ea[e]+b,a in rc)return a}function M(a,b,e){return(a=Pa.exec(b))?
Math.max(0,a[2]-(e||0))+(a[3]||"px"):b}function L(a,b,e,f,g){b=e===(f?"border":"content")?4:"width"===b?1:0;for(var k=0;4>b;b+=2)"margin"===e&&(k+=v.css(a,e+sa[b],!0,g)),f?("content"===e&&(k-=v.css(a,"padding"+sa[b],!0,g)),"margin"!==e&&(k-=v.css(a,"border"+sa[b]+"Width",!0,g))):(k+=v.css(a,"padding"+sa[b],!0,g),"padding"!==e&&(k+=v.css(a,"border"+sa[b]+"Width",!0,g)));return k}function R(a,b,e){var f=!0,g="width"===b?a.offsetWidth:a.offsetHeight,k=Ja(a),l="border-box"===v.css(a,"boxSizing",!1,k);
if(0>=g||null==g){g=E(a,b,k);if(0>g||null==g)g=a.style[b];if(Va.test(g))return g;f=l&&(ca.boxSizingReliable()||g===a.style[b]);g=parseFloat(g)||0}return g+L(a,b,e||(l?"border":"content"),f,k)+"px"}function Q(a,b){for(var e,f,g,k=[],l=0,h=a.length;l<h;l++)f=a[l],f.style&&(k[l]=ba.get(f,"olddisplay"),e=f.style.display,b?(k[l]||"none"!==e||(f.style.display=""),""===f.style.display&&Qa(f)&&(k[l]=ba.access(f,"olddisplay",K(f.nodeName)))):(g=Qa(f),"none"===e&&g||ba.set(f,"olddisplay",g?e:v.css(f,"display"))));
for(l=0;l<h;l++)f=a[l],!f.style||b&&"none"!==f.style.display&&""!==f.style.display||(f.style.display=b?k[l]||"":"none");return a}function X(a,b,e,f,g){return new X.prototype.init(a,b,e,f,g)}function T(){a.setTimeout(function(){oa=void 0});return oa=v.now()}function ea(a,b){var e,f=0,g={height:a};for(b=b?1:0;4>f;f+=2-b)e=sa[f],g["margin"+e]=g["padding"+e]=a;b&&(g.opacity=g.width=a);return g}function N(a,b,e){for(var f,g=(ha.tweeners[b]||[]).concat(ha.tweeners["*"]),k=0,l=g.length;k<l;k++)if(f=g[k].call(e,
b,a))return f}function Z(a,b){var e,f,g,k,l;for(e in a)if(f=v.camelCase(e),g=b[f],k=a[e],v.isArray(k)&&(g=k[1],k=a[e]=k[0]),e!==f&&(a[f]=k,delete a[e]),(l=v.cssHooks[f])&&"expand"in l)for(e in k=l.expand(k),delete a[f],k)e in a||(a[e]=k[e],b[e]=g);else b[f]=g}function ha(a,b,e){var f,g=0,k=ha.prefilters.length,l=v.Deferred().always(function(){delete h.elem}),h=function(){if(f)return!1;for(var b=oa||T(),b=Math.max(0,n.startTime+n.duration-b),e=1-(b/n.duration||0),g=0,k=n.tweens.length;g<k;g++)n.tweens[g].run(e);
l.notifyWith(a,[n,e,b]);if(1>e&&k)return b;l.resolveWith(a,[n]);return!1},n=l.promise({elem:a,props:v.extend({},b),opts:v.extend(!0,{specialEasing:{},easing:v.easing._default},e),originalProperties:b,originalOptions:e,startTime:oa||T(),duration:e.duration,tweens:[],createTween:function(b,e){var f=v.Tween(a,n.opts,b,e,n.opts.specialEasing[b]||n.opts.easing);n.tweens.push(f);return f},stop:function(b){var e=0,g=b?n.tweens.length:0;if(f)return this;for(f=!0;e<g;e++)n.tweens[e].run(1);b?(l.notifyWith(a,
[n,1,0]),l.resolveWith(a,[n,b])):l.rejectWith(a,[n,b]);return this}});e=n.props;for(Z(e,n.opts.specialEasing);g<k;g++)if(b=ha.prefilters[g].call(n,a,e,n.opts))return v.isFunction(b.stop)&&(v._queueHooks(n.elem,n.opts.queue).stop=v.proxy(b.stop,b)),b;v.map(e,N,n);v.isFunction(n.opts.start)&&n.opts.start.call(a,n);v.fx.timer(v.extend(h,{elem:a,anim:n,queue:n.opts.queue}));return n.progress(n.opts.progress).done(n.opts.done,n.opts.complete).fail(n.opts.fail).always(n.opts.always)}function V(a){return a.getAttribute&&
a.getAttribute("class")||""}function ta(a){return function(b,e){"string"!==typeof b&&(e=b,b="*");var f,g=0,k=b.toLowerCase().match(va)||[];if(v.isFunction(e))for(;f=k[g++];)"+"===f[0]?(f=f.slice(1)||"*",(a[f]=a[f]||[]).unshift(e)):(a[f]=a[f]||[]).push(e)}}function Y(a,b,e,f){function g(h){var n;k[h]=!0;v.each(a[h]||[],function(a,h){var m=h(b,e,f);if("string"===typeof m&&!l&&!k[m])return b.dataTypes.unshift(m),g(m),!1;if(l)return!(n=m)});return n}var k={},l=a===gc;return g(b.dataTypes[0])||!k["*"]&&
g("*")}function na(a,b){var e,f,g=v.ajaxSettings.flatOptions||{};for(e in b)void 0!==b[e]&&((g[e]?a:f||(f={}))[e]=b[e]);f&&v.extend(!0,a,f);return a}function Aa(a,b,e,f){var g;if(v.isArray(b))v.each(b,function(b,g){e||hb.test(a)?f(a,g):Aa(a+"["+("object"===typeof g&&null!=g?b:"")+"]",g,e,f)});else if(e||"object"!==v.type(b))f(a,b);else for(g in b)Aa(a+"["+g+"]",b[g],e,f)}function ka(a){return v.isWindow(a)?a:9===a.nodeType&&a.defaultView}var bb=[],ja=a.document,Ra=bb.slice,Fa=bb.concat,xa=bb.push,
cb=bb.indexOf,Sa={},xb=Sa.toString,ib=Sa.hasOwnProperty,ca={},v=function(a,b){return new v.fn.init(a,b)},fb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,La=/^-ms-/,ma=/-([\da-z])/gi,jb=function(a,b){return b.toUpperCase()};v.fn=v.prototype={jquery:"2.2.4",constructor:v,selector:"",length:0,toArray:function(){return Ra.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:Ra.call(this)},pushStack:function(a){a=v.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},
each:function(a){return v.each(this,a)},map:function(a){return this.pushStack(v.map(this,function(b,e){return a.call(b,e,b)}))},slice:function(){return this.pushStack(Ra.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:xa,sort:bb.sort,splice:bb.splice};v.extend=v.fn.extend=function(){var a,b,e,
f,g,k=arguments[0]||{},l=1,h=arguments.length,n=!1;"boolean"===typeof k&&(n=k,k=arguments[l]||{},l++);"object"===typeof k||v.isFunction(k)||(k={});l===h&&(k=this,l--);for(;l<h;l++)if(null!=(a=arguments[l]))for(b in a)e=k[b],f=a[b],k!==f&&(n&&f&&(v.isPlainObject(f)||(g=v.isArray(f)))?(g?(g=!1,e=e&&v.isArray(e)?e:[]):e=e&&v.isPlainObject(e)?e:{},k[b]=v.extend(n,e,f)):void 0!==f&&(k[b]=f));return k};v.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);
},noop:function(){},isFunction:function(a){return"function"===v.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!v.isArray(a)&&0<=b-parseFloat(b)+1},isPlainObject:function(a){var b;if("object"!==v.type(a)||a.nodeType||v.isWindow(a)||a.constructor&&!ib.call(a,"constructor")&&!ib.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||ib.call(a,b)},isEmptyObject:function(a){for(var b in a)return!1;
return!0},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?Sa[xb.call(a)]||"object":typeof a},globalEval:function(a){var b;b=eval;if(a=v.trim(a))1===a.indexOf("use strict")?(b=ja.createElement("script"),b.text=a,ja.head.appendChild(b).parentNode.removeChild(b)):b(a)},camelCase:function(a){return a.replace(La,"ms-").replace(ma,jb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,e){var f,g=0;if(b(a))for(f=a.length;g<
f&&!1!==e.call(a[g],g,a[g]);g++);else for(g in a)if(!1===e.call(a[g],g,a[g]))break;return a},trim:function(a){return null==a?"":(a+"").replace(fb,"")},makeArray:function(a,e){var f=e||[];null!=a&&(b(Object(a))?v.merge(f,"string"===typeof a?[a]:a):xa.call(f,a));return f},inArray:function(a,b,e){return null==b?-1:cb.call(b,a,e)},merge:function(a,b){for(var e=+b.length,f=0,g=a.length;f<e;f++)a[g++]=b[f];a.length=g;return a},grep:function(a,b,e){for(var f=[],g=0,k=a.length,l=!e;g<k;g++)e=!b(a[g],g),e!==
l&&f.push(a[g]);return f},map:function(a,e,f){var g,k,l=0,h=[];if(b(a))for(g=a.length;l<g;l++)k=e(a[l],l,f),null!=k&&h.push(k);else for(l in a)k=e(a[l],l,f),null!=k&&h.push(k);return Fa.apply([],h)},guid:1,proxy:function(a,b){var e,f;"string"===typeof b&&(e=a[b],b=a,a=e);if(v.isFunction(a))return f=Ra.call(arguments,2),e=function(){return a.apply(b||this,f.concat(Ra.call(arguments)))},e.guid=a.guid=a.guid||v.guid++,e},now:Date.now,support:ca});"function"===typeof Symbol&&(v.fn[Symbol.iterator]=bb[Symbol.iterator]);
v.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){Sa["[object "+b+"]"]=b.toLowerCase()});var H=function(a){function b(a,e,f,g){var k,l,h,n,m,p=e&&e.ownerDocument,r=e?e.nodeType:9;f=f||[];if("string"!==typeof a||!a||1!==r&&9!==r&&11!==r)return f;if(!g&&((e?e.ownerDocument||e:ca)!==aa&&O(e),e=e||aa,J)){if(11!==r&&(n=Va.exec(a)))if(k=n[1])if(9===r)if(l=e.getElementById(k)){if(l.id===k)return f.push(l),f}else return f;else{if(p&&(l=p.getElementById(k))&&
M(e,l)&&l.id===k)return f.push(l),f}else{if(n[2])return Fa.apply(f,e.getElementsByTagName(a)),f;if((k=n[3])&&z.getElementsByClassName&&e.getElementsByClassName)return Fa.apply(f,e.getElementsByClassName(k)),f}if(!(!z.qsa||T[a+" "]||Q&&Q.test(a))){if(1!==r)p=e,m=a;else if("object"!==e.nodeName.toLowerCase()){(h=e.getAttribute("id"))?h=h.replace(ka,"\\$&"):e.setAttribute("id",h=Ea);n=C(a);k=n.length;for(l=yb.test(h)?"#"+h:"[id='"+h+"']";k--;)n[k]=l+" "+t(n[k]);m=n.join(",");p=La.test(a)&&q(e.parentNode)||
e}if(m)try{return Fa.apply(f,p.querySelectorAll(m)),f}catch(A){}finally{h===Ea&&e.removeAttribute("id")}}}return B(a.replace(fb,"$1"),e,f,g)}function e(){function a(e,f){b.push(e+" ")>D.cacheLength&&delete a[b.shift()];return a[e+" "]=f}var b=[];return a}function f(a){a[Ea]=!0;return a}function g(a){var b=aa.createElement("div");try{return!!a(b)}catch(e){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function k(a,b){for(var e=a.split("|"),f=e.length;f--;)D.attrHandle[e[f]]=b}function l(a,
b){var e=b&&a,f=e&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(f)return f;if(e)for(;e=e.nextSibling;)if(e===b)return-1;return a?1:-1}function h(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function n(a){return function(b){var e=b.nodeName.toLowerCase();return("input"===e||"button"===e)&&b.type===a}}function m(a){return f(function(b){b=+b;return f(function(e,f){for(var g,k=a([],e.length,b),l=k.length;l--;)e[g=k[l]]&&
(e[g]=!(f[g]=e[g]))})})}function q(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function p(){}function t(a){for(var b=0,e=a.length,f="";b<e;b++)f+=a[b].value;return f}function r(a,b,e){var f=b.dir,g=e&&"parentNode"===f,k=X++;return b.first?function(b,e,k){for(;b=b[f];)if(1===b.nodeType||g)return a(b,e,k)}:function(b,e,l){var h,n,m=[Ca,k];if(l)for(;b=b[f];){if((1===b.nodeType||g)&&a(b,e,l))return!0}else for(;b=b[f];)if(1===b.nodeType||g){n=b[Ea]||(b[Ea]={});n=n[b.uniqueID]||(n[b.uniqueID]=
{});if((h=n[f])&&h[0]===Ca&&h[1]===k)return m[2]=h[2];n[f]=m;if(m[2]=a(b,e,l))return!0}}}function A(a){return 1<a.length?function(b,e,f){for(var g=a.length;g--;)if(!a[g](b,e,f))return!1;return!0}:a[0]}function w(a,b,e,f,g){for(var k,l=[],h=0,n=a.length,m=null!=b;h<n;h++)if(k=a[h])if(!e||e(k,f,g))l.push(k),m&&b.push(h);return l}function x(a,e,g,k,l,h){k&&!k[Ea]&&(k=x(k));l&&!l[Ea]&&(l=x(l,h));return f(function(f,h,n,m){var q,p,t=[],r=[],A=h.length,x;if(!(x=f)){x=e||"*";for(var u=n.nodeType?[n]:n,G=
[],F=0,z=u.length;F<z;F++)b(x,u[F],G);x=G}x=!a||!f&&e?x:w(x,t,a,n,m);u=g?l||(f?a:A||k)?[]:h:x;g&&g(x,u,n,m);if(k)for(q=w(u,r),k(q,[],n,m),n=q.length;n--;)if(p=q[n])u[r[n]]=!(x[r[n]]=p);if(f){if(l||a){if(l){q=[];for(n=u.length;n--;)(p=u[n])&&q.push(x[n]=p);l(null,u=[],q,m)}for(n=u.length;n--;)(p=u[n])&&-1<(q=l?mb(f,p):t[n])&&(f[q]=!(h[q]=p))}}else u=w(u===h?u.splice(A,u.length):u),l?l(null,h,u,m):Fa.apply(h,u)})}function u(a){var b,e,f,g=a.length,k=D.relative[a[0].type];e=k||D.relative[" "];for(var l=
k?1:0,h=r(function(a){return a===b},e,!0),n=r(function(a){return-1<mb(b,a)},e,!0),m=[function(a,e,f){a=!k&&(f||e!==v)||((b=e).nodeType?h(a,e,f):n(a,e,f));b=null;return a}];l<g;l++)if(e=D.relative[a[l].type])m=[r(A(m),e)];else{e=D.filter[a[l].type].apply(null,a[l].matches);if(e[Ea]){for(f=++l;f<g&&!D.relative[a[f].type];f++);return x(1<l&&A(m),1<l&&t(a.slice(0,l-1).concat({value:" "===a[l-2].type?"*":""})).replace(fb,"$1"),e,l<f&&u(a.slice(l,f)),f<g&&u(a=a.slice(f)),f<g&&t(a))}m.push(e)}return A(m)}
function G(a,e){var g=0<e.length,k=0<a.length,l=function(f,l,h,n,m){var q,p,t,r=0,A="0",x=f&&[],u=[],G=v,F=f||k&&D.find.TAG("*",m),z=Ca+=null==G?1:Math.random()||.1,y=F.length;for(m&&(v=l===aa||l||m);A!==y&&null!=(q=F[A]);A++){if(k&&q){p=0;l||q.ownerDocument===aa||(O(q),h=!J);for(;t=a[p++];)if(t(q,l||aa,h)){n.push(q);break}m&&(Ca=z)}g&&((q=!t&&q)&&r--,f&&x.push(q))}r+=A;if(g&&A!==r){for(p=0;t=e[p++];)t(x,u,l,h);if(f){if(0<r)for(;A--;)x[A]||u[A]||(u[A]=Y.call(n));u=w(u)}Fa.apply(n,u);m&&!f&&0<u.length&&
1<r+e.length&&b.uniqueSort(n)}m&&(Ca=z,v=G);return x};return g?f(l):l}var F,z,D,y,K,C,E,B,v,ma,Da,O,aa,H,J,Q,V,jb,M,Ea="sizzle"+1*new Date,ca=a.document,Ca=0,X=0,ta=e(),sb=e(),T=e(),lb=function(a,b){a===b&&(Da=!0);return 0},rc={}.hasOwnProperty,L=[],Y=L.pop,Ba=L.push,Fa=L.push,na=L.slice,mb=function(a,b){for(var e=0,f=a.length;e<f;e++)if(a[e]===b)return e;return-1},N=RegExp("[\\x20\\t\\r\\n\\f]+","g"),fb=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),oa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,
ea=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Ra=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),nb=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,yb=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,R={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,
CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},U=/^(?:input|select|textarea|button)$/i,Aa=/^h\d$/i,wa=/^[^{]+\{\s*\[native \w/,
Va=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,La=/[+~]/,ka=/'|\\/g,Ma=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),xa=function(a,b,e){a="0x"+b-65536;return a!==a||e?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)},Z=function(){O()};try{Fa.apply(L=na.call(ca.childNodes),ca.childNodes),L[ca.childNodes.length].nodeType}catch(ia){Fa={apply:L.length?function(a,b){Ba.apply(a,na.call(b))}:function(a,b){for(var e=a.length,f=0;a[e++]=b[f++];);a.length=
e-1}}}z=b.support={};K=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};O=b.setDocument=function(a){var b;a=a?a.ownerDocument||a:ca;if(a===aa||9!==a.nodeType||!a.documentElement)return aa;aa=a;H=aa.documentElement;J=!K(aa);(b=aa.defaultView)&&b.top!==b&&(b.addEventListener?b.addEventListener("unload",Z,!1):b.attachEvent&&b.attachEvent("onunload",Z));z.attributes=g(function(a){a.className="i";return!a.getAttribute("className")});z.getElementsByTagName=g(function(a){a.appendChild(aa.createComment(""));
return!a.getElementsByTagName("*").length});z.getElementsByClassName=wa.test(aa.getElementsByClassName);z.getById=g(function(a){H.appendChild(a).id=Ea;return!aa.getElementsByName||!aa.getElementsByName(Ea).length});z.getById?(D.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&J){var e=b.getElementById(a);return e?[e]:[]}},D.filter.ID=function(a){var b=a.replace(Ma,xa);return function(a){return a.getAttribute("id")===b}}):(delete D.find.ID,D.filter.ID=function(a){var b=a.replace(Ma,
xa);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});D.find.TAG=z.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a);if(z.qsa)return b.querySelectorAll(a)}:function(a,b){var e,f=[],g=0,k=b.getElementsByTagName(a);if("*"===a){for(;e=k[g++];)1===e.nodeType&&f.push(e);return f}return k};D.find.CLASS=z.getElementsByClassName&&function(a,b){if("undefined"!==typeof b.getElementsByClassName&&
J)return b.getElementsByClassName(a)};V=[];Q=[];if(z.qsa=wa.test(aa.querySelectorAll))g(function(a){H.appendChild(a).innerHTML="<a id='"+Ea+"'></a><select id='"+Ea+"-\r\\' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&Q.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||Q.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll("[id~="+Ea+"-]").length||Q.push("~=");a.querySelectorAll(":checked").length||Q.push(":checked");a.querySelectorAll("a#"+Ea+"+*").length||Q.push(".#.+[+~]")}),g(function(a){var b=aa.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&Q.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||Q.push(":enabled",":disabled");a.querySelectorAll("*,:x");Q.push(",.*:")});(z.matchesSelector=
wa.test(jb=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&g(function(a){z.disconnectedMatch=jb.call(a,"div");jb.call(a,"[s!='']:x");V.push("!=",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
Q=Q.length&&new RegExp(Q.join("|"));V=V.length&&new RegExp(V.join("|"));M=(b=wa.test(H.compareDocumentPosition))||wa.test(H.contains)?function(a,b){var e=9===a.nodeType?a.documentElement:a,f=b&&b.parentNode;return a===f||!!(f&&1===f.nodeType&&(e.contains?e.contains(f):a.compareDocumentPosition&&a.compareDocumentPosition(f)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};lb=b?function(a,b){if(a===b)return Da=!0,0;var e=!a.compareDocumentPosition-!b.compareDocumentPosition;
if(e)return e;e=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;return e&1||!z.sortDetached&&b.compareDocumentPosition(a)===e?a===aa||a.ownerDocument===ca&&M(ca,a)?-1:b===aa||b.ownerDocument===ca&&M(ca,b)?1:ma?mb(ma,a)-mb(ma,b):0:e&4?-1:1}:function(a,b){if(a===b)return Da=!0,0;var e,f=0;e=a.parentNode;var g=b.parentNode,k=[a],h=[b];if(!e||!g)return a===aa?-1:b===aa?1:e?-1:g?1:ma?mb(ma,a)-mb(ma,b):0;if(e===g)return l(a,b);for(e=a;e=e.parentNode;)k.unshift(e);for(e=b;e=e.parentNode;)h.unshift(e);
for(;k[f]===h[f];)f++;return f?l(k[f],h[f]):k[f]===ca?-1:h[f]===ca?1:0};return aa};b.matches=function(a,e){return b(a,null,null,e)};b.matchesSelector=function(a,e){(a.ownerDocument||a)!==aa&&O(a);e=e.replace(Ra,"='$1']");if(!(!z.matchesSelector||!J||T[e+" "]||V&&V.test(e)||Q&&Q.test(e)))try{var f=jb.call(a,e);if(f||z.disconnectedMatch||a.document&&11!==a.document.nodeType)return f}catch(g){}return 0<b(e,aa,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==aa&&O(a);return M(a,b)};b.attr=
function(a,b){(a.ownerDocument||a)!==aa&&O(a);var e=D.attrHandle[b.toLowerCase()],e=e&&rc.call(D.attrHandle,b.toLowerCase())?e(a,b,!J):void 0;return void 0!==e?e:z.attributes||!J?a.getAttribute(b):(e=a.getAttributeNode(b))&&e.specified?e.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,e=[],f=0,g=0;Da=!z.detectDuplicates;ma=!z.sortStable&&a.slice(0);a.sort(lb);if(Da){for(;b=a[g++];)b===a[g]&&(f=e.push(g));for(;f--;)a.splice(e[f],
1)}ma=null;return a};y=b.getText=function(a){var b,e="",f=0;b=a.nodeType;if(!b)for(;b=a[f++];)e+=y(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)e+=y(a)}else if(3===b||4===b)return a.nodeValue;return e};D=b.selectors={cacheLength:50,createPseudo:f,match:R,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=
a[1].replace(Ma,xa);a[3]=(a[3]||a[4]||a[5]||"").replace(Ma,xa);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,e=!a[6]&&a[2];if(R.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":e&&nb.test(e)&&(b=C(e,!0))&&(b=e.indexOf(")",e.length-b)-e.length)&&(a[0]=a[0].slice(0,
b),a[2]=e.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(Ma,xa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=ta[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&ta(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,e,f){return function(g){g=
b.attr(g,a);if(null==g)return"!="===e;if(!e)return!0;g+="";return"="===e?g===f:"!="===e?g!==f:"^="===e?f&&0===g.indexOf(f):"*="===e?f&&-1<g.indexOf(f):"$="===e?f&&g.slice(-f.length)===f:"~="===e?-1<(" "+g.replace(N," ")+" ").indexOf(f):"|="===e?g===f||g.slice(0,f.length+1)===f+"-":!1}},CHILD:function(a,b,e,f,g){var k="nth"!==a.slice(0,3),l="last"!==a.slice(-4),h="of-type"===b;return 1===f&&0===g?function(a){return!!a.parentNode}:function(b,e,n){var m,q,p,t,r;e=k!==l?"nextSibling":"previousSibling";
var A=b.parentNode,w=h&&b.nodeName.toLowerCase();n=!n&&!h;m=!1;if(A){if(k){for(;e;){for(p=b;p=p[e];)if(h?p.nodeName.toLowerCase()===w:1===p.nodeType)return!1;r=e="only"===a&&!r&&"nextSibling"}return!0}r=[l?A.firstChild:A.lastChild];if(l&&n)for(p=A,q=p[Ea]||(p[Ea]={}),q=q[p.uniqueID]||(q[p.uniqueID]={}),m=q[a]||[],m=(t=m[0]===Ca&&m[1])&&m[2],p=t&&A.childNodes[t];p=++t&&p&&p[e]||(m=t=0)||r.pop();){if(1===p.nodeType&&++m&&p===b){q[a]=[Ca,t,m];break}}else if(n&&(p=b,q=p[Ea]||(p[Ea]={}),q=q[p.uniqueID]||
(q[p.uniqueID]={}),m=q[a]||[],m=t=m[0]===Ca&&m[1]),!1===m)for(;(p=++t&&p&&p[e]||(m=t=0)||r.pop())&&((h?p.nodeName.toLowerCase()!==w:1!==p.nodeType)||!++m||(n&&(q=p[Ea]||(p[Ea]={}),q=q[p.uniqueID]||(q[p.uniqueID]={}),q[a]=[Ca,m]),p!==b)););m-=g;return m===f||0===m%f&&0<=m/f}}},PSEUDO:function(a,e){var g,k=D.pseudos[a]||D.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return k[Ea]?k(e):1<k.length?(g=[a,a,"",e],D.setFilters.hasOwnProperty(a.toLowerCase())?f(function(a,b){for(var f,g=
k(a,e),l=g.length;l--;)f=mb(a,g[l]),a[f]=!(b[f]=g[l])}):function(a){return k(a,0,g)}):k}},pseudos:{not:f(function(a){var b=[],e=[],g=E(a.replace(fb,"$1"));return g[Ea]?f(function(a,b,e,f){f=g(a,null,f,[]);for(var k=a.length;k--;)if(e=f[k])a[k]=!(b[k]=e)}):function(a,f,k){b[0]=a;g(b,null,k,e);b[0]=null;return!e.pop()}}),has:f(function(a){return function(e){return 0<b(a,e).length}}),contains:f(function(a){a=a.replace(Ma,xa);return function(b){return-1<(b.textContent||b.innerText||y(b)).indexOf(a)}}),
lang:f(function(a){yb.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(Ma,xa).toLowerCase();return function(b){var e;do if(e=J?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return e=e.toLowerCase(),e===a||0===e.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var e=a.location&&a.location.hash;return e&&e.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===aa.activeElement&&(!aa.hasFocus||aa.hasFocus())&&!!(a.type||a.href||
~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!D.pseudos.empty(a)},header:function(a){return Aa.test(a.nodeName)},input:function(a){return U.test(a.nodeName)},
button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:m(function(){return[0]}),last:m(function(a,b){return[b-1]}),eq:m(function(a,b,e){return[0>e?e+b:e]}),even:m(function(a,b){for(var e=0;e<b;e+=2)a.push(e);return a}),odd:m(function(a,b){for(var e=1;e<b;e+=2)a.push(e);return a}),lt:m(function(a,b,e){for(b=
0>e?e+b:e;0<=--b;)a.push(b);return a}),gt:m(function(a,b,e){for(e=0>e?e+b:e;++e<b;)a.push(e);return a})}};D.pseudos.nth=D.pseudos.eq;for(F in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})D.pseudos[F]=h(F);for(F in{submit:!0,reset:!0})D.pseudos[F]=n(F);p.prototype=D.filters=D.pseudos;D.setFilters=new p;C=b.tokenize=function(a,e){var f,g,k,l,h,n,m;if(h=sb[a+" "])return e?0:h.slice(0);h=a;n=[];for(m=D.preFilter;h;){if(!f||(g=oa.exec(h)))g&&(h=h.slice(g[0].length)||h),n.push(k=[]);f=!1;if(g=ea.exec(h))f=
g.shift(),k.push({value:f,type:g[0].replace(fb," ")}),h=h.slice(f.length);for(l in D.filter)!(g=R[l].exec(h))||m[l]&&!(g=m[l](g))||(f=g.shift(),k.push({value:f,type:l,matches:g}),h=h.slice(f.length));if(!f)break}return e?h.length:h?b.error(a):sb(a,n).slice(0)};E=b.compile=function(a,b){var e,f=[],g=[],k=T[a+" "];if(!k){b||(b=C(a));for(e=b.length;e--;)k=u(b[e]),k[Ea]?f.push(k):g.push(k);k=T(a,G(g,f));k.selector=a}return k};B=b.select=function(a,b,e,f){var g,k,l,h,n="function"===typeof a&&a,m=!f&&C(a=
n.selector||a);e=e||[];if(1===m.length){k=m[0]=m[0].slice(0);if(2<k.length&&"ID"===(l=k[0]).type&&z.getById&&9===b.nodeType&&J&&D.relative[k[1].type]){b=(D.find.ID(l.matches[0].replace(Ma,xa),b)||[])[0];if(!b)return e;n&&(b=b.parentNode);a=a.slice(k.shift().value.length)}for(g=R.needsContext.test(a)?0:k.length;g--;){l=k[g];if(D.relative[h=l.type])break;if(h=D.find[h])if(f=h(l.matches[0].replace(Ma,xa),La.test(k[0].type)&&q(b.parentNode)||b)){k.splice(g,1);a=f.length&&t(k);if(!a)return Fa.apply(e,
f),e;break}}}(n||E(a,m))(f,b,!J,e,!b||La.test(a)&&q(b.parentNode)||b);return e};z.sortStable=Ea.split("").sort(lb).join("")===Ea;z.detectDuplicates=!!Da;O();z.sortDetached=g(function(a){return a.compareDocumentPosition(aa.createElement("div"))&1});g(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||k("type|href|height|width",function(a,b,e){if(!e)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});z.attributes&&g(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value",
"");return""===a.firstChild.getAttribute("value")})||k("value",function(a,b,e){if(!e&&"input"===a.nodeName.toLowerCase())return a.defaultValue});g(function(a){return null==a.getAttribute("disabled")})||k("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,e){var f;if(!e)return!0===a[b]?b.toLowerCase():(f=a.getAttributeNode(b))&&f.specified?f.value:null});return b}(a);v.find=H;v.expr=H.selectors;v.expr[":"]=v.expr.pseudos;
v.uniqueSort=v.unique=H.uniqueSort;v.text=H.getText;v.isXMLDoc=H.isXML;v.contains=H.contains;var lb=function(a,b,e){for(var f=[],g=void 0!==e;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(g&&v(a).is(e))break;f.push(a)}return f},mb=function(a,b){for(var e=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&e.push(a);return e},Ba=v.expr.match.needsContext,wa=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,U=/^.[^:#\[\.,]*$/;v.filter=function(a,b,e){var f=b[0];e&&(a=":not("+a+")");return 1===b.length&&1===f.nodeType?v.find.matchesSelector(f,
a)?[f]:[]:v.find.matches(a,v.grep(b,function(a){return 1===a.nodeType}))};v.fn.extend({find:function(a){var b,e=this.length,f=[],g=this;if("string"!==typeof a)return this.pushStack(v(a).filter(function(){for(b=0;b<e;b++)if(v.contains(g[b],this))return!0}));for(b=0;b<e;b++)v.find(a,g[b],f);f=this.pushStack(1<e?v.unique(f):f);f.selector=this.selector?this.selector+" "+a:a;return f},filter:function(a){return this.pushStack(g(this,a||[],!1))},not:function(a){return this.pushStack(g(this,a||[],!0))},is:function(a){return!!g(this,
"string"===typeof a&&Ba.test(a)?v(a):a||[],!1).length}});var Xa,ia=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(v.fn.init=function(a,b,e){var f;if(!a)return this;e=e||Xa;if("string"===typeof a){f="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:ia.exec(a);if(!f||!f[1]&&b)return!b||b.jquery?(b||e).find(a):this.constructor(b).find(a);if(f[1]){if(b=b instanceof v?b[0]:b,v.merge(this,v.parseHTML(f[1],b&&b.nodeType?b.ownerDocument||b:ja,!0)),wa.test(f[1])&&v.isPlainObject(b))for(f in b)if(v.isFunction(this[f]))this[f](b[f]);
else this.attr(f,b[f])}else(b=ja.getElementById(f[2]))&&b.parentNode&&(this.length=1,this[0]=b),this.context=ja,this.selector=a;return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(v.isFunction(a))return void 0!==e.ready?e.ready(a):a(v);void 0!==a.selector&&(this.selector=a.selector,this.context=a.context);return v.makeArray(a,this)}).prototype=v.fn;Xa=v(ja);var ga=/^(?:parents|prev(?:Until|All))/,da={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({has:function(a){var b=
v(a,this),e=b.length;return this.filter(function(){for(var a=0;a<e;a++)if(v.contains(this,b[a]))return!0})},closest:function(a,b){for(var e,f=0,g=this.length,k=[],l=Ba.test(a)||"string"!==typeof a?v(a,b||this.context):0;f<g;f++)for(e=this[f];e&&e!==b;e=e.parentNode)if(11>e.nodeType&&(l?-1<l.index(e):1===e.nodeType&&v.find.matchesSelector(e,a))){k.push(e);break}return this.pushStack(1<k.length?v.uniqueSort(k):k)},index:function(a){return a?"string"===typeof a?cb.call(v(a),this[0]):cb.call(this,a.jquery?
a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(v.uniqueSort(v.merge(this.get(),v(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});v.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return lb(a,"parentNode")},parentsUntil:function(a,b,e){return lb(a,"parentNode",e)},next:function(a){return f(a,"nextSibling")},prev:function(a){return f(a,"previousSibling")},
nextAll:function(a){return lb(a,"nextSibling")},prevAll:function(a){return lb(a,"previousSibling")},nextUntil:function(a,b,e){return lb(a,"nextSibling",e)},prevUntil:function(a,b,e){return lb(a,"previousSibling",e)},siblings:function(a){return mb((a.parentNode||{}).firstChild,a)},children:function(a){return mb(a.firstChild)},contents:function(a){return a.contentDocument||v.merge([],a.childNodes)}},function(a,b){v.fn[a]=function(e,f){var g=v.map(this,b,e);"Until"!==a.slice(-5)&&(f=e);f&&"string"===
typeof f&&(g=v.filter(f,g));1<this.length&&(da[a]||v.uniqueSort(g),ga.test(a)&&g.reverse());return this.pushStack(g)}});var va=/\S+/g;v.Callbacks=function(a){a="string"===typeof a?e(a):v.extend({},a);var b,f,g,k,l=[],h=[],n=-1,m=function(){k=a.once;for(g=b=!0;h.length;n=-1)for(f=h.shift();++n<l.length;)!1===l[n].apply(f[0],f[1])&&a.stopOnFalse&&(n=l.length,f=!1);a.memory||(f=!1);b=!1;k&&(l=f?[]:"")},q={add:function(){l&&(f&&!b&&(n=l.length-1,h.push(f)),function lc(b){v.each(b,function(b,e){v.isFunction(e)?
a.unique&&q.has(e)||l.push(e):e&&e.length&&"string"!==v.type(e)&&lc(e)})}(arguments),f&&!b&&m());return this},remove:function(){v.each(arguments,function(a,b){for(var e;-1<(e=v.inArray(b,l,e));)l.splice(e,1),e<=n&&n--});return this},has:function(a){return a?-1<v.inArray(a,l):0<l.length},empty:function(){l&&(l=[]);return this},disable:function(){k=h=[];l=f="";return this},disabled:function(){return!l},lock:function(){k=h=[];f||(l=f="");return this},locked:function(){return!!k},fireWith:function(a,
e){k||(e=e||[],e=[a,e.slice?e.slice():e],h.push(e),b||m());return this},fire:function(){q.fireWith(this,arguments);return this},fired:function(){return!!g}};return q};v.extend({Deferred:function(a){var b=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],e="pending",f={state:function(){return e},always:function(){g.done(arguments).fail(arguments);return this},then:function(){var a=arguments;
return v.Deferred(function(e){v.each(b,function(b,k){var l=v.isFunction(a[b])&&a[b];g[k[1]](function(){var a=l&&l.apply(this,arguments);if(a&&v.isFunction(a.promise))a.promise().progress(e.notify).done(e.resolve).fail(e.reject);else e[k[0]+"With"](this===f?e.promise():this,l?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?v.extend(a,f):f}},g={};f.pipe=f.then;v.each(b,function(a,k){var l=k[2],h=k[3];f[k[1]]=l.add;h&&l.add(function(){e=h},b[a^1][2].disable,b[2][2].lock);g[k[0]]=
function(){g[k[0]+"With"](this===g?f:this,arguments);return this};g[k[0]+"With"]=l.fireWith});f.promise(g);a&&a.call(g,g);return g},when:function(a){var b=0,e=Ra.call(arguments),f=e.length,g=1!==f||a&&v.isFunction(a.promise)?f:0,k=1===g?a:v.Deferred(),l=function(a,b,e){return function(f){b[a]=this;e[a]=1<arguments.length?Ra.call(arguments):f;e===h?k.notifyWith(b,e):--g||k.resolveWith(b,e)}},h,n,m;if(1<f)for(h=Array(f),n=Array(f),m=Array(f);b<f;b++)e[b]&&v.isFunction(e[b].promise)?e[b].promise().progress(l(b,
n,h)).done(l(b,m,e)).fail(k.reject):--g;g||k.resolveWith(m,e);return k.promise()}});var P;v.fn.ready=function(a){v.ready.promise().done(a);return this};v.extend({isReady:!1,readyWait:1,holdReady:function(a){a?v.readyWait++:v.ready(!0)},ready:function(a){(!0===a?--v.readyWait:v.isReady)||(v.isReady=!0,!0!==a&&0<--v.readyWait||(P.resolveWith(ja,[v]),v.fn.triggerHandler&&(v(ja).triggerHandler("ready"),v(ja).off("ready"))))}});v.ready.promise=function(b){P||(P=v.Deferred(),"complete"===ja.readyState||
"loading"!==ja.readyState&&!ja.documentElement.doScroll?a.setTimeout(v.ready):(ja.addEventListener("DOMContentLoaded",l),a.addEventListener("load",l)));return P.promise(b)};v.ready.promise();var ua=function(a,b,e,f,g,k,l){var h=0,n=a.length,m=null==e;if("object"===v.type(e))for(h in g=!0,e)ua(a,b,h,e[h],!0,k,l);else if(void 0!==f&&(g=!0,v.isFunction(f)||(l=!0),m&&(l?(b.call(a,f),b=null):(m=b,b=function(a,b,e){return m.call(v(a),e)})),b))for(;h<n;h++)b(a[h],e,l?f:f.call(a[h],h,b(a[h],e)));return g?
a:m?b.call(a):n?b(a[0],e):k},fa=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};k.uid=1;k.prototype={register:function(a,b){var e=b||{};a.nodeType?a[this.expando]=e:Object.defineProperty(a,this.expando,{value:e,writable:!0,configurable:!0});return a[this.expando]},cache:function(a){if(!fa(a))return{};var b=a[this.expando];b||(b={},fa(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0})));return b},set:function(a,b,e){var f;a=this.cache(a);
if("string"===typeof b)a[b]=e;else for(f in b)a[f]=b[f];return a},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,e){if(void 0===b||b&&"string"===typeof b&&void 0===e)return e=this.get(a,b),void 0!==e?e:this.get(a,v.camelCase(b));this.set(a,b,e);return void 0!==e?e:b},remove:function(a,b){var e,f,g=a[this.expando];if(void 0!==g){if(void 0===b)this.register(a);else for(v.isArray(b)?f=b.concat(b.map(v.camelCase)):(e=v.camelCase(b),b in g?f=
[b,e]:(f=e,f=f in g?[f]:f.match(va)||[])),e=f.length;e--;)delete g[f[e]];if(void 0===b||v.isEmptyObject(g))a.nodeType?a[this.expando]=void 0:delete a[this.expando]}},hasData:function(a){a=a[this.expando];return void 0!==a&&!v.isEmptyObject(a)}};var ba=new k,pa=new k,$a=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ta=/[A-Z]/g;v.extend({hasData:function(a){return pa.hasData(a)||ba.hasData(a)},data:function(a,b,e){return pa.access(a,b,e)},removeData:function(a,b){pa.remove(a,b)},_data:function(a,b,e){return ba.access(a,
b,e)},_removeData:function(a,b){ba.remove(a,b)}});v.fn.extend({data:function(a,b){var e,f,g,k=this[0],l=k&&k.attributes;if(void 0===a){if(this.length&&(g=pa.get(k),1===k.nodeType&&!ba.get(k,"hasDataAttrs"))){for(e=l.length;e--;)l[e]&&(f=l[e].name,0===f.indexOf("data-")&&(f=v.camelCase(f.slice(5)),n(k,f,g[f])));ba.set(k,"hasDataAttrs",!0)}return g}return"object"===typeof a?this.each(function(){pa.set(this,a)}):ua(this,function(b){var e,f;if(k&&void 0===b){e=pa.get(k,a)||pa.get(k,a.replace(Ta,"-$&").toLowerCase());
if(void 0!==e)return e;f=v.camelCase(a);e=pa.get(k,f);if(void 0!==e)return e;e=n(k,f,void 0);if(void 0!==e)return e}else f=v.camelCase(a),this.each(function(){var e=pa.get(this,f);pa.set(this,f,b);-1<a.indexOf("-")&&void 0!==e&&pa.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){pa.remove(this,a)})}});v.extend({queue:function(a,b,e){var f;if(a)return b=(b||"fx")+"queue",f=ba.get(a,b),e&&(!f||v.isArray(e)?f=ba.access(a,b,v.makeArray(e)):f.push(e)),
f||[]},dequeue:function(a,b){b=b||"fx";var e=v.queue(a,b),f=e.length,g=e.shift(),k=v._queueHooks(a,b),l=function(){v.dequeue(a,b)};"inprogress"===g&&(g=e.shift(),f--);g&&("fx"===b&&e.unshift("inprogress"),delete k.stop,g.call(a,l,k));!f&&k&&k.empty.fire()},_queueHooks:function(a,b){var e=b+"queueHooks";return ba.get(a,e)||ba.access(a,e,{empty:v.Callbacks("once memory").add(function(){ba.remove(a,[b+"queue",e])})})}});v.fn.extend({queue:function(a,b){var e=2;"string"!==typeof a&&(b=a,a="fx",e--);return arguments.length<
e?v.queue(this[0],a):void 0===b?this:this.each(function(){var e=v.queue(this,a,b);v._queueHooks(this,a);"fx"===a&&"inprogress"!==e[0]&&v.dequeue(this,a)})},dequeue:function(a){return this.each(function(){v.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var e,f=1,g=v.Deferred(),k=this,l=this.length,h=function(){--f||g.resolveWith(k,[k])};"string"!==typeof a&&(b=a,a=void 0);for(a=a||"fx";l--;)(e=ba.get(k[l],a+"queueHooks"))&&e.empty&&(f++,e.empty.add(h));
h();return g.promise(b)}});var la=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pa=new RegExp("^(?:([+-])=|)("+la+")([a-z%]*)$","i"),sa=["Top","Right","Bottom","Left"],Qa=function(a,b){a=b||a;return"none"===v.css(a,"display")||!v.contains(a.ownerDocument,a)},Wa=/^(?:checkbox|radio)$/i,kb=/<([\w:-]+)/,Ia=/^$|\/(?:java|ecma)script/i,aa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};aa.optgroup=aa.option;aa.tbody=aa.tfoot=aa.colgroup=aa.caption=aa.thead;aa.th=aa.td;var sb=/<|&#?\w+;/;(function(){var a=ja.createDocumentFragment().appendChild(ja.createElement("div")),b=ja.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");a.appendChild(b);ca.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";ca.noCloneChecked=
!!a.cloneNode(!0).lastChild.defaultValue})();var yb=/^key/,za=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ra=/^([^.]*)(?:\.(.+)|)/;v.event={global:{},add:function(a,b,e,f,g){var k,l,h,n,m,q,p,t,r;if(m=ba.get(a))for(e.handler&&(k=e,e=k.handler,g=k.selector),e.guid||(e.guid=v.guid++),(n=m.events)||(n=m.events={}),(l=m.handle)||(l=m.handle=function(b){return"undefined"!==typeof v&&v.event.triggered!==b.type?v.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(va)||[""],m=b.length;m--;)h=
ra.exec(b[m])||[],t=q=h[1],r=(h[2]||"").split(".").sort(),t&&(h=v.event.special[t]||{},t=(g?h.delegateType:h.bindType)||t,h=v.event.special[t]||{},q=v.extend({type:t,origType:q,data:f,handler:e,guid:e.guid,selector:g,needsContext:g&&v.expr.match.needsContext.test(g),namespace:r.join(".")},k),(p=n[t])||(p=n[t]=[],p.delegateCount=0,h.setup&&!1!==h.setup.call(a,f,r,l)||a.addEventListener&&a.addEventListener(t,l)),h.add&&(h.add.call(a,q),q.handler.guid||(q.handler.guid=e.guid)),g?p.splice(p.delegateCount++,
0,q):p.push(q),v.event.global[t]=!0)},remove:function(a,b,e,f,g){var k,l,h,n,m,q,p,t,r,A,w,u=ba.hasData(a)&&ba.get(a);if(u&&(n=u.events)){b=(b||"").match(va)||[""];for(m=b.length;m--;)if(h=ra.exec(b[m])||[],r=w=h[1],A=(h[2]||"").split(".").sort(),r){p=v.event.special[r]||{};r=(f?p.delegateType:p.bindType)||r;t=n[r]||[];h=h[2]&&new RegExp("(^|\\.)"+A.join("\\.(?:.*\\.|)")+"(\\.|$)");for(l=k=t.length;k--;)q=t[k],!g&&w!==q.origType||e&&e.guid!==q.guid||h&&!h.test(q.namespace)||f&&f!==q.selector&&("**"!==
f||!q.selector)||(t.splice(k,1),q.selector&&t.delegateCount--,p.remove&&p.remove.call(a,q));l&&!t.length&&(p.teardown&&!1!==p.teardown.call(a,A,u.handle)||v.removeEvent(a,r,u.handle),delete n[r])}else for(r in n)v.event.remove(a,r+b[m],e,f,!0);v.isEmptyObject(n)&&ba.remove(a,"handle events")}},dispatch:function(a){a=v.event.fix(a);var b,e,f,g,k=[],l=Ra.call(arguments);b=(ba.get(this,"events")||{})[a.type]||[];var h=v.event.special[a.type]||{};l[0]=a;a.delegateTarget=this;if(!h.preDispatch||!1!==h.preDispatch.call(this,
a)){k=v.event.handlers.call(this,a,b);for(b=0;(g=k[b++])&&!a.isPropagationStopped();)for(a.currentTarget=g.elem,e=0;(f=g.handlers[e++])&&!a.isImmediatePropagationStopped();)if(!a.rnamespace||a.rnamespace.test(f.namespace))a.handleObj=f,a.data=f.data,f=((v.event.special[f.origType]||{}).handle||f.handler).apply(g.elem,l),void 0!==f&&!1===(a.result=f)&&(a.preventDefault(),a.stopPropagation());h.postDispatch&&h.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var e,f,g,k,l=[],h=b.delegateCount,
n=a.target;if(h&&n.nodeType&&("click"!==a.type||isNaN(a.button)||1>a.button))for(;n!==this;n=n.parentNode||this)if(1===n.nodeType&&(!0!==n.disabled||"click"!==a.type)){f=[];for(e=0;e<h;e++)k=b[e],g=k.selector+" ",void 0===f[g]&&(f[g]=k.needsContext?-1<v(g,this).index(n):v.find(g,this,null,[n]).length),f[g]&&f.push(k);f.length&&l.push({elem:n,handlers:f})}h<b.length&&l.push({elem:this,handlers:b.slice(h)});return l},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var e,f,g=b.button;null==a.pageX&&null!=b.clientX&&(e=a.target.ownerDocument||ja,f=e.documentElement,e=e.body,a.pageX=b.clientX+(f&&f.scrollLeft||e&&e.scrollLeft||0)-(f&&f.clientLeft||e&&e.clientLeft||0),a.pageY=
b.clientY+(f&&f.scrollTop||e&&e.scrollTop||0)-(f&&f.clientTop||e&&e.clientTop||0));a.which||void 0===g||(a.which=g&1?1:g&2?3:g&4?2:0);return a}},fix:function(a){if(a[v.expando])return a;var b,e,f;b=a.type;var g=a,k=this.fixHooks[b];k||(this.fixHooks[b]=k=za.test(b)?this.mouseHooks:yb.test(b)?this.keyHooks:{});f=k.props?this.props.concat(k.props):this.props;a=new v.Event(g);for(b=f.length;b--;)e=f[b],a[e]=g[e];a.target||(a.target=ja);3===a.target.nodeType&&(a.target=a.target.parentNode);return k.filter?
k.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==y()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===y()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&v.nodeName(this,"input"))return this.click(),!1},_default:function(a){return v.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=
a.result)}}}};v.removeEvent=function(a,b,e){a.removeEventListener&&a.removeEventListener(b,e)};v.Event=function(a,b){if(!(this instanceof v.Event))return new v.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?u:w):this.type=a;b&&v.extend(this,b);this.timeStamp=a&&a.timeStamp||v.now();this[v.expando]=!0};v.Event.prototype={constructor:v.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,
isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=u;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=u;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=u;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};v.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",
pointerleave:"pointerout"},function(a,b){v.event.special[a]={delegateType:b,bindType:b,handle:function(a){var e,f=a.relatedTarget,g=a.handleObj;if(!f||f!==this&&!v.contains(this,f))a.type=g.origType,e=g.handler.apply(this,arguments),a.type=b;return e}}});v.fn.extend({on:function(a,b,e,f){return x(this,a,b,e,f)},one:function(a,b,e,f){return x(this,a,b,e,f,1)},off:function(a,b,e){var f;if(a&&a.preventDefault&&a.handleObj)return f=a.handleObj,v(a.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:
f.origType,f.selector,f.handler),this;if("object"===typeof a){for(f in a)this.off(f,b,a[f]);return this}if(!1===b||"function"===typeof b)e=b,b=void 0;!1===e&&(e=w);return this.each(function(){v.event.remove(this,a,e,b)})}});var zb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ua=/<script|<style|<link/i,Da=/checked\s*(?:[^=]|=\s*.checked.)/i,Ca=/^true\/(.*)/,nb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;v.extend({htmlPrefilter:function(a){return a.replace(zb,"<$1></$2>")},
clone:function(a,b,e){var f,g,k,l,h=a.cloneNode(!0),n=v.contains(a.ownerDocument,a);if(!(ca.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||v.isXMLDoc(a)))for(l=p(h),k=p(a),f=0,g=k.length;f<g;f++){var m=k[f],q=l[f],A=q.nodeName.toLowerCase();if("input"===A&&Wa.test(m.type))q.checked=m.checked;else if("input"===A||"textarea"===A)q.defaultValue=m.defaultValue}if(b)if(e)for(k=k||p(a),l=l||p(h),f=0,g=k.length;f<g;f++)t(k[f],l[f]);else t(a,h);l=p(h,"script");0<l.length&&r(l,!n&&p(a,"script"));return h},
cleanData:function(a){for(var b,e,f,g=v.event.special,k=0;void 0!==(e=a[k]);k++)if(fa(e)){if(b=e[ba.expando]){if(b.events)for(f in b.events)g[f]?v.event.remove(e,f):v.removeEvent(e,f,b.handle);e[ba.expando]=void 0}e[pa.expando]&&(e[pa.expando]=void 0)}}});v.fn.extend({domManip:A,detach:function(a){return F(this,a,!0)},remove:function(a){return F(this,a)},text:function(a){return ua(this,function(a){return void 0===a?v.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||
9===this.nodeType)this.textContent=a})},null,a,arguments.length)},append:function(){return A(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||z(this,a).appendChild(a)})},prepend:function(){return A(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=z(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return A(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return A(this,
arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(v.cleanData(p(a,!1)),a.textContent="");return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return v.clone(this,a,b)})},html:function(a){return ua(this,function(a){var b=this[0]||{},e=0,f=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"===typeof a&&!Ua.test(a)&&!aa[(kb.exec(a)||["",
""])[1].toLowerCase()]){a=v.htmlPrefilter(a);try{for(;e<f;e++)b=this[e]||{},1===b.nodeType&&(v.cleanData(p(b,!1)),b.innerHTML=a);b=0}catch(g){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return A(this,arguments,function(b){var e=this.parentNode;0>v.inArray(this,a)&&(v.cleanData(p(this)),e&&e.replaceChild(b,this))},a)}});v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){v.fn[a]=function(a){for(var e=
[],f=v(a),g=f.length-1,k=0;k<=g;k++)a=k===g?this:this.clone(!0),v(f[k])[b](a),xa.apply(e,a.get());return this.pushStack(e)}});var Ma,ub={HTML:"block",BODY:"block"},ab=/^margin/,Va=new RegExp("^("+la+")(?!px)[a-z%]+$","i"),Ja=function(b){var e=b.ownerDocument.defaultView;e&&e.opener||(e=a);return e.getComputedStyle(b)},Ya=function(a,b,e,f){var g,k={};for(g in b)k[g]=a.style[g],a.style[g]=b[g];e=e.apply(a,f||[]);for(g in b)a.style[g]=k[g];return e},Ha=ja.documentElement;(function(){function b(){h.style.cssText=
"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";h.innerHTML="";Ha.appendChild(l);var n=a.getComputedStyle(h);e="1%"!==n.top;k="2px"===n.marginLeft;f="4px"===n.width;h.style.marginRight="50%";g="4px"===n.marginRight;Ha.removeChild(l)}var e,f,g,k,l=ja.createElement("div"),h=ja.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",
ca.clearCloneStyle="content-box"===h.style.backgroundClip,l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.appendChild(h),v.extend(ca,{pixelPosition:function(){b();return e},boxSizingReliable:function(){null==f&&b();return f},pixelMarginRight:function(){null==f&&b();return g},reliableMarginLeft:function(){null==f&&b();return k},reliableMarginRight:function(){var b,e=h.appendChild(ja.createElement("div"));e.style.cssText=h.style.cssText=
"-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";e.style.marginRight=e.style.width="0";h.style.width="1px";Ha.appendChild(l);b=!parseFloat(a.getComputedStyle(e).marginRight);Ha.removeChild(l);h.removeChild(e);return b}}))})();var tb=/^(none|table(?!-c[ea]).+)/,qc={position:"absolute",visibility:"hidden",display:"block"},C={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"],rc=ja.createElement("div").style;v.extend({cssHooks:{opacity:{get:function(a,
b){if(b){var e=E(a,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,e,f){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,k,l,h=v.camelCase(b),n=a.style;b=v.cssProps[h]||(v.cssProps[h]=J(h)||h);l=v.cssHooks[b]||v.cssHooks[h];if(void 0!==e)k=typeof e,"string"===k&&(g=Pa.exec(e))&&g[1]&&
(e=m(a,b,g),k="number"),null!=e&&e===e&&("number"===k&&(e+=g&&g[3]||(v.cssNumber[h]?"":"px")),ca.clearCloneStyle||""!==e||0!==b.indexOf("background")||(n[b]="inherit"),l&&"set"in l&&void 0===(e=l.set(a,e,f))||(n[b]=e));else return l&&"get"in l&&void 0!==(g=l.get(a,!1,f))?g:n[b]}},css:function(a,b,e,f){var g,k;k=v.camelCase(b);b=v.cssProps[k]||(v.cssProps[k]=J(k)||k);(k=v.cssHooks[b]||v.cssHooks[k])&&"get"in k&&(g=k.get(a,!0,e));void 0===g&&(g=E(a,b,f));"normal"===g&&b in C&&(g=C[b]);return""===e||
e?(a=parseFloat(g),!0===e||isFinite(a)?a||0:g):g}});v.each(["height","width"],function(a,b){v.cssHooks[b]={get:function(a,e,f){if(e)return tb.test(v.css(a,"display"))&&0===a.offsetWidth?Ya(a,qc,function(){return R(a,b,f)}):R(a,b,f)},set:function(a,e,f){var g,k=f&&Ja(a);(f=f&&L(a,b,f,"border-box"===v.css(a,"boxSizing",!1,k),k))&&(g=Pa.exec(e))&&"px"!==(g[3]||"px")&&(a.style[b]=e,e=v.css(a,b));return M(a,e,f)}}});v.cssHooks.marginLeft=O(ca.reliableMarginLeft,function(a,b){if(b)return(parseFloat(E(a,
"marginLeft"))||a.getBoundingClientRect().left-Ya(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"});v.cssHooks.marginRight=O(ca.reliableMarginRight,function(a,b){if(b)return Ya(a,{display:"inline-block"},E,[a,"marginRight"])});v.each({margin:"",padding:"",border:"Width"},function(a,b){v.cssHooks[a+b]={expand:function(e){var f=0,g={};for(e="string"===typeof e?e.split(" "):[e];4>f;f++)g[a+sa[f]+b]=e[f]||e[f-2]||e[0];return g}};ab.test(a)||(v.cssHooks[a+b].set=M)});v.fn.extend({css:function(a,
b){return ua(this,function(a,b,e){var f,g={},k=0;if(v.isArray(b)){e=Ja(a);for(f=b.length;k<f;k++)g[b[k]]=v.css(a,b[k],!1,e);return g}return void 0!==e?v.style(a,b,e):v.css(a,b)},a,b,1<arguments.length)},show:function(){return Q(this,!0)},hide:function(){return Q(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){Qa(this)?v(this).show():v(this).hide()})}});v.Tween=X;X.prototype={constructor:X,init:function(a,b,e,f,g,k){this.elem=a;this.prop=e;this.easing=
g||v.easing._default;this.options=b;this.start=this.now=this.cur();this.end=f;this.unit=k||(v.cssNumber[e]?"":"px")},cur:function(){var a=X.propHooks[this.prop];return a&&a.get?a.get(this):X.propHooks._default.get(this)},run:function(a){var b,e=X.propHooks[this.prop];this.pos=this.options.duration?b=v.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);e&&e.set?e.set(this):
X.propHooks._default.set(this);return this}};X.prototype.init.prototype=X.prototype;X.propHooks={_default:{get:function(a){return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(a=v.css(a.elem,a.prop,""))&&"auto"!==a?a:0},set:function(a){if(v.fx.step[a.prop])v.fx.step[a.prop](a);else 1!==a.elem.nodeType||null==a.elem.style[v.cssProps[a.prop]]&&!v.cssHooks[a.prop]?a.elem[a.prop]=a.now:v.style(a.elem,a.prop,a.now+a.unit)}}};X.propHooks.scrollTop=X.propHooks.scrollLeft=
{set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};v.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};v.fx=X.prototype.init;v.fx.step={};var oa,sc,Ye=/^(?:toggle|show|hide)$/,Ze=/queueHooks$/;v.Animation=v.extend(ha,{tweeners:{"*":[function(a,b){var e=this.createTween(a,b);m(e.elem,a,Pa.exec(b),e);return e}]},tweener:function(a,b){v.isFunction(a)?(b=a,a=["*"]):a=a.match(va);for(var e,f=0,g=a.length;f<g;f++)e=a[f],ha.tweeners[e]=
ha.tweeners[e]||[],ha.tweeners[e].unshift(b)},prefilters:[function(a,b,e){var f,g,k,l,h,n,m=this,q={},p=a.style,t=a.nodeType&&Qa(a),r=ba.get(a,"fxshow");e.queue||(l=v._queueHooks(a,"fx"),null==l.unqueued&&(l.unqueued=0,h=l.empty.fire,l.empty.fire=function(){l.unqueued||h()}),l.unqueued++,m.always(function(){m.always(function(){l.unqueued--;v.queue(a,"fx").length||l.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(e.overflow=[p.overflow,p.overflowX,p.overflowY],n=v.css(a,"display"),
g="none"===n?ba.get(a,"olddisplay")||K(a.nodeName):n,"inline"===g&&"none"===v.css(a,"float")&&(p.display="inline-block"));e.overflow&&(p.overflow="hidden",m.always(function(){p.overflow=e.overflow[0];p.overflowX=e.overflow[1];p.overflowY=e.overflow[2]}));for(f in b)if(g=b[f],Ye.exec(g)){delete b[f];k=k||"toggle"===g;if(g===(t?"hide":"show"))if("show"===g&&r&&void 0!==r[f])t=!0;else continue;q[f]=r&&r[f]||v.style(a,f)}else n=void 0;if(v.isEmptyObject(q))"inline"===("none"===n?K(a.nodeName):n)&&(p.display=
n);else for(f in r?"hidden"in r&&(t=r.hidden):r=ba.access(a,"fxshow",{}),k&&(r.hidden=!t),t?v(a).show():m.done(function(){v(a).hide()}),m.done(function(){var b;ba.remove(a,"fxshow");for(b in q)v.style(a,b,q[b])}),q)b=N(t?r[f]:0,f,m),f in r||(r[f]=b.start,t&&(b.end=b.start,b.start="width"===f||"height"===f?1:0))}],prefilter:function(a,b){b?ha.prefilters.unshift(a):ha.prefilters.push(a)}});v.speed=function(a,b,e){var f=a&&"object"===typeof a?v.extend({},a):{complete:e||!e&&b||v.isFunction(a)&&a,duration:a,
easing:e&&b||b&&!v.isFunction(b)&&b};f.duration=v.fx.off?0:"number"===typeof f.duration?f.duration:f.duration in v.fx.speeds?v.fx.speeds[f.duration]:v.fx.speeds._default;if(null==f.queue||!0===f.queue)f.queue="fx";f.old=f.complete;f.complete=function(){v.isFunction(f.old)&&f.old.call(this);f.queue&&v.dequeue(this,f.queue)};return f};v.fn.extend({fadeTo:function(a,b,e,f){return this.filter(Qa).css("opacity",0).show().end().animate({opacity:b},a,e,f)},animate:function(a,b,e,f){var g=v.isEmptyObject(a),
k=v.speed(b,e,f);b=function(){var b=ha(this,v.extend({},a),k);(g||ba.get(this,"finish"))&&b.stop(!0)};b.finish=b;return g||!1===k.queue?this.each(b):this.queue(k.queue,b)},stop:function(a,b,e){var f=function(a){var b=a.stop;delete a.stop;b(e)};"string"!==typeof a&&(e=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,g=null!=a&&a+"queueHooks",k=v.timers,l=ba.get(this);if(g)l[g]&&l[g].stop&&f(l[g]);else for(g in l)l[g]&&l[g].stop&&Ze.test(g)&&f(l[g]);for(g=k.length;g--;)k[g].elem!==
this||null!=a&&k[g].queue!==a||(k[g].anim.stop(e),b=!1,k.splice(g,1));!b&&e||v.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,e=ba.get(this),f=e[a+"queue"];b=e[a+"queueHooks"];var g=v.timers,k=f?f.length:0;e.finish=!0;v.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=g.length;b--;)g[b].elem===this&&g[b].queue===a&&(g[b].anim.stop(!0),g.splice(b,1));for(b=0;b<k;b++)f[b]&&f[b].finish&&f[b].finish.call(this);delete e.finish})}});v.each(["toggle","show",
"hide"],function(a,b){var e=v.fn[b];v.fn[b]=function(a,f,g){return null==a||"boolean"===typeof a?e.apply(this,arguments):this.animate(ea(b,!0),a,f,g)}});v.each({slideDown:ea("show"),slideUp:ea("hide"),slideToggle:ea("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){v.fn[a]=function(a,e,f){return this.animate(b,a,e,f)}});v.timers=[];v.fx.tick=function(){var a,b=0,e=v.timers;for(oa=v.now();b<e.length;b++)a=e[b],a()||e[b]!==a||e.splice(b--,1);e.length||
v.fx.stop();oa=void 0};v.fx.timer=function(a){v.timers.push(a);a()?v.fx.start():v.timers.pop()};v.fx.interval=13;v.fx.start=function(){sc||(sc=a.setInterval(v.fx.tick,v.fx.interval))};v.fx.stop=function(){a.clearInterval(sc);sc=null};v.fx.speeds={slow:600,fast:200,_default:400};v.fn.delay=function(b,e){b=v.fx?v.fx.speeds[b]||b:b;return this.queue(e||"fx",function(e,f){var g=a.setTimeout(e,b);f.stop=function(){a.clearTimeout(g)}})};(function(){var a=ja.createElement("input"),b=ja.createElement("select"),
e=b.appendChild(ja.createElement("option"));a.type="checkbox";ca.checkOn=""!==a.value;ca.optSelected=e.selected;b.disabled=!0;ca.optDisabled=!e.disabled;a=ja.createElement("input");a.value="t";a.type="radio";ca.radioValue="t"===a.value})();var wd,dc=v.expr.attrHandle;v.fn.extend({attr:function(a,b){return ua(this,v.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){v.removeAttr(this,a)})}});v.extend({attr:function(a,b,e){var f,g,k=a.nodeType;if(3!==k&&8!==k&&2!==k){if("undefined"===
typeof a.getAttribute)return v.prop(a,b,e);1===k&&v.isXMLDoc(a)||(b=b.toLowerCase(),g=v.attrHooks[b]||(v.expr.match.bool.test(b)?wd:void 0));if(void 0!==e){if(null===e){v.removeAttr(a,b);return}if(g&&"set"in g&&void 0!==(f=g.set(a,e,b)))return f;a.setAttribute(b,e+"");return e}if(g&&"get"in g&&null!==(f=g.get(a,b)))return f;f=v.find.attr(a,b);return null==f?void 0:f}},attrHooks:{type:{set:function(a,b){if(!ca.radioValue&&"radio"===b&&v.nodeName(a,"input")){var e=a.value;a.setAttribute("type",b);e&&
(a.value=e);return b}}}},removeAttr:function(a,b){var e,f,g=0,k=b&&b.match(va);if(k&&1===a.nodeType)for(;e=k[g++];)f=v.propFix[e]||e,v.expr.match.bool.test(e)&&(a[f]=!1),a.removeAttribute(e)}});wd={set:function(a,b,e){!1===b?v.removeAttr(a,e):a.setAttribute(e,e);return e}};v.each(v.expr.match.bool.source.match(/\w+/g),function(a,b){var e=dc[b]||v.find.attr;dc[b]=function(a,b,f){var g,k;f||(k=dc[b],dc[b]=g,g=null!=e(a,b,f)?b.toLowerCase():null,dc[b]=k);return g}});var $e=/^(?:input|select|textarea|button)$/i,
af=/^(?:a|area)$/i;v.fn.extend({prop:function(a,b){return ua(this,v.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[v.propFix[a]||a]})}});v.extend({prop:function(a,b,e){var f,g,k=a.nodeType;if(3!==k&&8!==k&&2!==k)return 1===k&&v.isXMLDoc(a)||(b=v.propFix[b]||b,g=v.propHooks[b]),void 0!==e?g&&"set"in g&&void 0!==(f=g.set(a,e,b))?f:a[b]=e:g&&"get"in g&&null!==(f=g.get(a,b))?f:a[b]},propHooks:{tabIndex:{get:function(a){var b=v.find.attr(a,"tabindex");return b?
parseInt(b,10):$e.test(a.nodeName)||af.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});ca.optSelected||(v.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null},set:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex}});v.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){v.propFix[this.toLowerCase()]=
this});var Rc=/[\t\r\n\f]/g;v.fn.extend({addClass:function(a){var b,e,f,g,k,l,h=0;if(v.isFunction(a))return this.each(function(b){v(this).addClass(a.call(this,b,V(this)))});if("string"===typeof a&&a)for(b=a.match(va)||[];e=this[h++];)if(g=V(e),f=1===e.nodeType&&(" "+g+" ").replace(Rc," ")){for(l=0;k=b[l++];)0>f.indexOf(" "+k+" ")&&(f+=k+" ");f=v.trim(f);g!==f&&e.setAttribute("class",f)}return this},removeClass:function(a){var b,e,f,g,k,l,h=0;if(v.isFunction(a))return this.each(function(b){v(this).removeClass(a.call(this,
b,V(this)))});if(!arguments.length)return this.attr("class","");if("string"===typeof a&&a)for(b=a.match(va)||[];e=this[h++];)if(g=V(e),f=1===e.nodeType&&(" "+g+" ").replace(Rc," ")){for(l=0;k=b[l++];)for(;-1<f.indexOf(" "+k+" ");)f=f.replace(" "+k+" "," ");f=v.trim(f);g!==f&&e.setAttribute("class",f)}return this},toggleClass:function(a,b){var e=typeof a;return"boolean"===typeof b&&"string"===e?b?this.addClass(a):this.removeClass(a):v.isFunction(a)?this.each(function(e){v(this).toggleClass(a.call(this,
e,V(this),b),b)}):this.each(function(){var b,f,g,k;if("string"===e)for(f=0,g=v(this),k=a.match(va)||[];b=k[f++];)g.hasClass(b)?g.removeClass(b):g.addClass(b);else if(void 0===a||"boolean"===e)(b=V(this))&&ba.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":ba.get(this,"__className__")||"")})},hasClass:function(a){var b,e=0;for(a=" "+a+" ";b=this[e++];)if(1===b.nodeType&&-1<(" "+V(b)+" ").replace(Rc," ").indexOf(a))return!0;return!1}});var bf=/\r/g,wc=/[\x20\t\r\n\f]+/g;
v.fn.extend({val:function(a){var b,e,f,g=this[0];if(arguments.length)return f=v.isFunction(a),this.each(function(e){1===this.nodeType&&(e=f?a.call(this,e,v(this).val()):a,null==e?e="":"number"===typeof e?e+="":v.isArray(e)&&(e=v.map(e,function(a){return null==a?"":a+""})),b=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(g){if((b=v.valHooks[g.type]||v.valHooks[g.nodeName.toLowerCase()])&&"get"in b&&void 0!==(e=b.get(g,
"value")))return e;e=g.value;return"string"===typeof e?e.replace(bf,""):null==e?"":e}}});v.extend({valHooks:{option:{get:function(a){var b=v.find.attr(a,"value");return null!=b?b:v.trim(v.text(a)).replace(wc," ")}},select:{get:function(a){for(var b,e=a.options,f=a.selectedIndex,g=(a="select-one"===a.type||0>f)?null:[],k=a?f+1:e.length,l=0>f?k:a?f:0;l<k;l++)if(b=e[l],!(!b.selected&&l!==f||(ca.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&v.nodeName(b.parentNode,
"optgroup"))){b=v(b).val();if(a)return b;g.push(b)}return g},set:function(a,b){for(var e,f,g=a.options,k=v.makeArray(b),l=g.length;l--;)if(f=g[l],f.selected=-1<v.inArray(v.valHooks.option.get(f),k))e=!0;e||(a.selectedIndex=-1);return k}}}});v.each(["radio","checkbox"],function(){v.valHooks[this]={set:function(a,b){if(v.isArray(b))return a.checked=-1<v.inArray(v(a).val(),b)}};ca.checkOn||(v.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ec=/^(?:focusinfocus|focusoutblur)$/;
v.extend(v.event,{trigger:function(b,e,f,g){var k,l,h,n,m,q,p=[f||ja],t=ib.call(b,"type")?b.type:b;q=ib.call(b,"namespace")?b.namespace.split("."):[];l=k=f=f||ja;if(3!==f.nodeType&&8!==f.nodeType&&!ec.test(t+v.event.triggered)&&(-1<t.indexOf(".")&&(q=t.split("."),t=q.shift(),q.sort()),n=0>t.indexOf(":")&&"on"+t,b=b[v.expando]?b:new v.Event(t,"object"===typeof b&&b),b.isTrigger=g?2:3,b.namespace=q.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=
void 0,b.target||(b.target=f),e=null==e?[b]:v.makeArray(e,[b]),q=v.event.special[t]||{},g||!q.trigger||!1!==q.trigger.apply(f,e))){if(!g&&!q.noBubble&&!v.isWindow(f)){h=q.delegateType||t;ec.test(h+t)||(l=l.parentNode);for(;l;l=l.parentNode)p.push(l),k=l;k===(f.ownerDocument||ja)&&p.push(k.defaultView||k.parentWindow||a)}for(k=0;(l=p[k++])&&!b.isPropagationStopped();)b.type=1<k?h:q.bindType||t,(m=(ba.get(l,"events")||{})[b.type]&&ba.get(l,"handle"))&&m.apply(l,e),(m=n&&l[n])&&m.apply&&fa(l)&&(b.result=
m.apply(l,e),!1===b.result&&b.preventDefault());b.type=t;g||b.isDefaultPrevented()||q._default&&!1!==q._default.apply(p.pop(),e)||!fa(f)||!n||!v.isFunction(f[t])||v.isWindow(f)||((k=f[n])&&(f[n]=null),v.event.triggered=t,f[t](),v.event.triggered=void 0,k&&(f[n]=k));return b.result}},simulate:function(a,b,e){a=v.extend(new v.Event,e,{type:a,isSimulated:!0});v.event.trigger(a,null,b)}});v.fn.extend({trigger:function(a,b){return this.each(function(){v.event.trigger(a,b,this)})},triggerHandler:function(a,
b){var e=this[0];if(e)return v.event.trigger(a,b,e,!0)}});v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){v.fn[b]=function(a,e){return 0<arguments.length?this.on(b,null,a,e):this.trigger(b)}});v.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});ca.focusin="onfocusin"in a;ca.focusin||v.each({focus:"focusin",
blur:"focusout"},function(a,b){var e=function(a){v.event.simulate(b,a.target,v.event.fix(a))};v.event.special[b]={setup:function(){var f=this.ownerDocument||this,g=ba.access(f,b);g||f.addEventListener(a,e,!0);ba.access(f,b,(g||0)+1)},teardown:function(){var f=this.ownerDocument||this,g=ba.access(f,b)-1;g?ba.access(f,b,g):(f.removeEventListener(a,e,!0),ba.remove(f,b))}}});var Hb=a.location,Nb=v.now(),Eb=/\?/;v.parseJSON=function(a){return JSON.parse(a+"")};v.parseXML=function(b){var e;if(!b||"string"!==
typeof b)return null;try{e=(new a.DOMParser).parseFromString(b,"text/xml")}catch(f){e=void 0}e&&!e.getElementsByTagName("parsererror").length||v.error("Invalid XML: "+b);return e};var xc=/#.*$/,fc=/([?&])_=[^&]*/,Wb=/^(.*?):[ \t]*([^\r\n]*)$/mg,Fb=/^(?:GET|HEAD)$/,Ac=/^\/\//,Jb={},gc={},Cc="*/".concat("*"),Yb=ja.createElement("a");Yb.href=Hb.href;v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Hb.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Hb.protocol),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Cc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?
na(na(a,v.ajaxSettings),b):na(v.ajaxSettings,a)},ajaxPrefilter:ta(Jb),ajaxTransport:ta(gc),ajax:function(b,e){function f(b,e,h,m){var p,G,F,D;D=e;if(2!==z){z=2;n&&a.clearTimeout(n);g=void 0;l=m||"";y.readyState=0<b?4:0;m=200<=b&&300>b||304===b;if(h){F=t;for(var K=y,C,E,B,ma,aa=F.contents,Da=F.dataTypes;"*"===Da[0];)Da.shift(),void 0===C&&(C=F.mimeType||K.getResponseHeader("Content-Type"));if(C)for(E in aa)if(aa[E]&&aa[E].test(C)){Da.unshift(E);break}if(Da[0]in h)B=Da[0];else{for(E in h){if(!Da[0]||
F.converters[E+" "+Da[0]]){B=E;break}ma||(ma=E)}B=B||ma}B?(B!==Da[0]&&Da.unshift(B),F=h[B]):F=void 0}a:{h=t;C=F;E=y;B=m;var O,H,J,K={},aa=h.dataTypes.slice();if(aa[1])for(H in h.converters)K[H.toLowerCase()]=h.converters[H];for(ma=aa.shift();ma;)if(h.responseFields[ma]&&(E[h.responseFields[ma]]=C),!J&&B&&h.dataFilter&&(C=h.dataFilter(C,h.dataType)),J=ma,ma=aa.shift())if("*"===ma)ma=J;else if("*"!==J&&J!==ma){H=K[J+" "+ma]||K["* "+ma];if(!H)for(O in K)if(F=O.split(" "),F[1]===ma&&(H=K[J+" "+F[0]]||
K["* "+F[0]])){!0===H?H=K[O]:!0!==K[O]&&(ma=F[0],aa.unshift(F[1]));break}if(!0!==H)if(H&&h["throws"])C=H(C);else try{C=H(C)}catch(Q){F={state:"parsererror",error:H?Q:"No conversion from "+J+" to "+ma};break a}}F={state:"success",data:C}}if(m)t.ifModified&&((D=y.getResponseHeader("Last-Modified"))&&(v.lastModified[k]=D),(D=y.getResponseHeader("etag"))&&(v.etag[k]=D)),204===b||"HEAD"===t.type?D="nocontent":304===b?D="notmodified":(D=F.state,p=F.data,G=F.error,m=!G);else if(G=D,b||!D)D="error",0>b&&
(b=0);y.status=b;y.statusText=(e||D)+"";m?w.resolveWith(r,[p,D,y]):w.rejectWith(r,[y,D,G]);y.statusCode(x);x=void 0;q&&A.trigger(m?"ajaxSuccess":"ajaxError",[y,t,m?p:G]);u.fireWith(r,[y,D]);q&&(A.trigger("ajaxComplete",[y,t]),--v.active||v.event.trigger("ajaxStop"))}}"object"===typeof b&&(e=b,b=void 0);e=e||{};var g,k,l,h,n,m,q,p,t=v.ajaxSetup({},e),r=t.context||t,A=t.context&&(r.nodeType||r.jquery)?v(r):v.event,w=v.Deferred(),u=v.Callbacks("once memory"),x=t.statusCode||{},G={},F={},z=0,D="canceled",
y={readyState:0,getResponseHeader:function(a){var b;if(2===z){if(!h)for(h={};b=Wb.exec(l);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===z?l:null},setRequestHeader:function(a,b){var e=a.toLowerCase();z||(a=F[e]=F[e]||a,G[a]=b);return this},overrideMimeType:function(a){z||(t.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>z)for(b in a)x[b]=[x[b],a[b]];else y.always(a[y.status]);return this},abort:function(a){a=a||
D;g&&g.abort(a);f(0,a);return this}};w.promise(y).complete=u.add;y.success=y.done;y.error=y.fail;t.url=((b||t.url||Hb.href)+"").replace(xc,"").replace(Ac,Hb.protocol+"//");t.type=e.method||e.type||t.method||t.type;t.dataTypes=v.trim(t.dataType||"*").toLowerCase().match(va)||[""];if(null==t.crossDomain){m=ja.createElement("a");try{m.href=t.url,m.href=m.href,t.crossDomain=Yb.protocol+"//"+Yb.host!==m.protocol+"//"+m.host}catch(K){t.crossDomain=!0}}t.data&&t.processData&&"string"!==typeof t.data&&(t.data=
v.param(t.data,t.traditional));Y(Jb,t,e,y);if(2===z)return y;(q=v.event&&t.global)&&0===v.active++&&v.event.trigger("ajaxStart");t.type=t.type.toUpperCase();t.hasContent=!Fb.test(t.type);k=t.url;t.hasContent||(t.data&&(k=t.url+=(Eb.test(k)?"&":"?")+t.data,delete t.data),!1===t.cache&&(t.url=fc.test(k)?k.replace(fc,"$1_="+Nb++):k+(Eb.test(k)?"&":"?")+"_="+Nb++));t.ifModified&&(v.lastModified[k]&&y.setRequestHeader("If-Modified-Since",v.lastModified[k]),v.etag[k]&&y.setRequestHeader("If-None-Match",
v.etag[k]));(t.data&&t.hasContent&&!1!==t.contentType||e.contentType)&&y.setRequestHeader("Content-Type",t.contentType);y.setRequestHeader("Accept",t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+("*"!==t.dataTypes[0]?", "+Cc+"; q=0.01":""):t.accepts["*"]);for(p in t.headers)y.setRequestHeader(p,t.headers[p]);if(t.beforeSend&&(!1===t.beforeSend.call(r,y,t)||2===z))return y.abort();D="abort";for(p in{success:1,error:1,complete:1})y[p](t[p]);if(g=Y(gc,t,e,y)){y.readyState=1;q&&A.trigger("ajaxSend",
[y,t]);if(2===z)return y;t.async&&0<t.timeout&&(n=a.setTimeout(function(){y.abort("timeout")},t.timeout));try{z=1,g.send(G,f)}catch(C){if(2>z)f(-1,C);else throw C;}}else f(-1,"No Transport");return y},getJSON:function(a,b,e){return v.get(a,b,e,"json")},getScript:function(a,b){return v.get(a,void 0,b,"script")}});v.each(["get","post"],function(a,b){v[b]=function(a,e,f,g){v.isFunction(e)&&(g=g||f,f=e,e=void 0);return v.ajax(v.extend({url:a,type:b,dataType:g,data:e,success:f},v.isPlainObject(a)&&a))}});
v._evalUrl=function(a){return v.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};v.fn.extend({wrapAll:function(a){var b;if(v.isFunction(a))return this.each(function(b){v(this).wrapAll(a.call(this,b))});this[0]&&(b=v(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this));return this},wrapInner:function(a){return v.isFunction(a)?this.each(function(b){v(this).wrapInner(a.call(this,
b))}):this.each(function(){var b=v(this),e=b.contents();e.length?e.wrapAll(a):b.append(a)})},wrap:function(a){var b=v.isFunction(a);return this.each(function(e){v(this).wrapAll(b?a.call(this,e):a)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()}});v.expr.filters.hidden=function(a){return!v.expr.filters.visible(a)};v.expr.filters.visible=function(a){return 0<a.offsetWidth||0<a.offsetHeight||0<a.getClientRects().length};
var Dc=/%20/g,hb=/\[\]$/,hc=/\r?\n/g,Ab=/^(?:submit|button|image|reset|file)$/i,ic=/^(?:input|select|textarea|keygen)/i;v.param=function(a,b){var e,f=[],g=function(a,b){b=v.isFunction(b)?b():null==b?"":b;f[f.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};void 0===b&&(b=v.ajaxSettings&&v.ajaxSettings.traditional);if(v.isArray(a)||a.jquery&&!v.isPlainObject(a))v.each(a,function(){g(this.name,this.value)});else for(e in a)Aa(e,a[e],b,g);return f.join("&").replace(Dc,"+")};v.fn.extend({serialize:function(){return v.param(this.serializeArray())},
serializeArray:function(){return this.map(function(){var a=v.prop(this,"elements");return a?v.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!v(this).is(":disabled")&&ic.test(this.nodeName)&&!Ab.test(a)&&(this.checked||!Wa.test(a))}).map(function(a,b){var e=v(this).val();return null==e?null:v.isArray(e)?v.map(e,function(a){return{name:b.name,value:a.replace(hc,"\r\n")}}):{name:b.name,value:e.replace(hc,"\r\n")}}).get()}});v.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};
var jc={0:200,1223:204},rb=v.ajaxSettings.xhr();ca.cors=!!rb&&"withCredentials"in rb;ca.ajax=rb=!!rb;v.ajaxTransport(function(b){var e,f;if(ca.cors||rb&&!b.crossDomain)return{send:function(g,k){var l,h=b.xhr();h.open(b.type,b.url,b.async,b.username,b.password);if(b.xhrFields)for(l in b.xhrFields)h[l]=b.xhrFields[l];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType);b.crossDomain||g["X-Requested-With"]||(g["X-Requested-With"]="XMLHttpRequest");for(l in g)h.setRequestHeader(l,g[l]);e=function(a){return function(){e&&
(e=f=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!==typeof h.status?k(0,"error"):k(h.status,h.statusText):k(jc[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!==typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}};h.onload=e();f=h.onerror=e("error");void 0!==h.onabort?h.onabort=f:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){e&&f()})};e=e("abort");
try{h.send(b.hasContent&&b.data||null)}catch(n){if(e)throw n;}},abort:function(){e&&e()}}});v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){v.globalEval(a);return a}}});v.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});v.ajaxTransport("script",function(a){if(a.crossDomain){var b,e;return{send:function(f,
g){b=v("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",e=function(a){b.remove();e=null;a&&g("error"===a.type?404:200,a.type)});ja.head.appendChild(b[0])},abort:function(){e&&e()}}}});var Rb=[],$b=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Rb.pop()||v.expando+"_"+Nb++;this[a]=!0;return a}});v.ajaxPrefilter("json jsonp",function(b,e,f){var g,k,l,h=!1!==b.jsonp&&($b.test(b.url)?"url":"string"===typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&
$b.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return g=b.jsonpCallback=v.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace($b,"$1"+g):!1!==b.jsonp&&(b.url+=(Eb.test(b.url)?"&":"?")+b.jsonp+"="+g),b.converters["script json"]=function(){l||v.error(g+" was not called");return l[0]},b.dataTypes[0]="json",k=a[g],a[g]=function(){l=arguments},f.always(function(){void 0===k?v(a).removeProp(g):a[g]=k;b[g]&&(b.jsonpCallback=e.jsonpCallback,Rb.push(g));l&&v.isFunction(k)&&
k(l[0]);l=k=void 0}),"script"});v.parseHTML=function(a,b,e){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(e=b,b=!1);b=b||ja;var f=wa.exec(a);e=!e&&[];if(f)return[b.createElement(f[1])];f=q([a],b,e);e&&e.length&&v(e).remove();return v.merge([],f.childNodes)};var ac=v.fn.load;v.fn.load=function(a,b,e){if("string"!==typeof a&&ac)return ac.apply(this,arguments);var f,g,k,l=this,h=a.indexOf(" ");-1<h&&(f=v.trim(a.slice(h)),a=a.slice(0,h));v.isFunction(b)?(e=b,b=void 0):b&&"object"===typeof b&&
(g="POST");0<l.length&&v.ajax({url:a,type:g||"GET",dataType:"html",data:b}).done(function(a){k=arguments;l.html(f?v("<div>").append(v.parseHTML(a)).find(f):a)}).always(e&&function(a,b){l.each(function(){e.apply(this,k||[a.responseText,b,a])})});return this};v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){v.fn[b]=function(a){return this.on(b,a)}});v.expr.filters.animated=function(a){return v.grep(v.timers,function(b){return a===b.elem}).length};v.offset=
{setOffset:function(a,b,e){var f,g,k,l=v.css(a,"position"),h=v(a),n={};"static"===l&&(a.style.position="relative");k=h.offset();g=v.css(a,"top");f=v.css(a,"left");("absolute"===l||"fixed"===l)&&-1<(g+f).indexOf("auto")?(f=h.position(),g=f.top,f=f.left):(g=parseFloat(g)||0,f=parseFloat(f)||0);v.isFunction(b)&&(b=b.call(a,e,v.extend({},k)));null!=b.top&&(n.top=b.top-k.top+g);null!=b.left&&(n.left=b.left-k.left+f);"using"in b?b.using.call(a,n):h.css(n)}};v.fn.extend({offset:function(a){if(arguments.length)return void 0===
a?this:this.each(function(b){v.offset.setOffset(this,a,b)});var b,e;e=this[0];var f={top:0,left:0},g=e&&e.ownerDocument;if(g){b=g.documentElement;if(!v.contains(b,e))return f;f=e.getBoundingClientRect();e=ka(g);return{top:f.top+e.pageYOffset-b.clientTop,left:f.left+e.pageXOffset-b.clientLeft}}},position:function(){if(this[0]){var a,b,e=this[0],f={top:0,left:0};"fixed"===v.css(e,"position")?b=e.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),v.nodeName(a[0],"html")||(f=a.offset()),f.top+=
v.css(a[0],"borderTopWidth",!0),f.left+=v.css(a[0],"borderLeftWidth",!0));return{top:b.top-f.top-v.css(e,"marginTop",!0),left:b.left-f.left-v.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===v.css(a,"position");)a=a.offsetParent;return a||Ha})}});v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var e="pageYOffset"===b;v.fn[a]=function(f){return ua(this,function(a,f,g){var k=ka(a);if(void 0===g)return k?k[b]:
a[f];k?k.scrollTo(e?k.pageXOffset:g,e?g:k.pageYOffset):a[f]=g},a,f,arguments.length)}});v.each(["top","left"],function(a,b){v.cssHooks[b]=O(ca.pixelPosition,function(a,e){if(e)return e=E(a,b),Va.test(e)?v(a).position()[b]+"px":e})});v.each({Height:"height",Width:"width"},function(a,b){v.each({padding:"inner"+a,content:b,"":"outer"+a},function(e,f){v.fn[f]=function(f,g){var k=arguments.length&&(e||"boolean"!==typeof f),l=e||(!0===f||!0===g?"margin":"border");return ua(this,function(b,e,f){return v.isWindow(b)?
b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===f?v.css(b,e,l):v.style(b,e,f,l)},b,k?f:void 0,k,null)}})});v.fn.extend({bind:function(a,b,e){return this.on(a,null,b,e)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,e,f){return this.on(b,a,e,f)},undelegate:function(a,b,e){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",e)},size:function(){return this.length}});
v.fn.andSelf=v.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return v});var Pb=a.jQuery,zc=a.$;v.noConflict=function(b){a.$===v&&(a.$=zc);b&&a.jQuery===v&&(a.jQuery=Pb);return v};h||(a.jQuery=a.$=v);return v});(function(a,h){function b(b,e){var f,h,p,r=b.nodeName.toLowerCase();return"area"===r?(f=b.parentNode,h=f.name,b.href&&h&&"map"===f.nodeName.toLowerCase()?(p=a("img[usemap=#"+h+"]")[0],!!p&&g(p)):!1):(/input|select|textarea|button|object/.test(r)?!b.disabled:"a"===r?b.href||e:e)&&g(b)}function g(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var f=0,e=/^ui-id-\d+$/;a.ui=a.ui||{};a.ui.version||(a.extend(a.ui,{version:"1.10.1",
keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({_focus:a.fn.focus,focus:function(b,e){return"number"==typeof b?this.each(function(){var f=this;setTimeout(function(){a(f).focus();e&&e.call(f)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.ui.ie&&
/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(b){if(b!==
h)return this.css("zIndex",b);if(this.length){b=a(this[0]);for(var e;b.length&&b[0]!==document;){e=b.css("position");if("absolute"===e||"relative"===e||"fixed"===e)if(e=parseInt(b.css("zIndex"),10),!isNaN(e)&&0!==e)return e;b=b.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++f)})},removeUniqueId:function(){return this.each(function(){e.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(e){return!!a.data(e,
b)}}):function(b,e,f){return!!a.data(b,f[3])},focusable:function(e){return b(e,!isNaN(a.attr(e,"tabindex")))},tabbable:function(e){var f=a.attr(e,"tabindex"),g=isNaN(f);return(g||0<=f)&&b(e,!g)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,e){function f(b,e,k,l){return a.each(g,function(){e-=parseFloat(a.css(b,"padding"+this))||0;k&&(e-=parseFloat(a.css(b,"border"+this+"Width"))||0);l&&(e-=parseFloat(a.css(b,"margin"+this))||0)}),e}var g="Width"===e?["Left","Right"]:["Top",
"Bottom"],p=e.toLowerCase(),r={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+e]=function(b){return b===h?r["inner"+e].call(this):this.each(function(){a(this).css(p,f(this,b)+"px")})};a.fn["outer"+e]=function(b,g){return"number"!=typeof b?r["outer"+e].call(this,b):this.each(function(){a(this).css(p,f(this,b,!0,g)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),
a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(e){return arguments.length?b.call(this,a.camelCase(e)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),
a.extend(a.ui,{plugin:{add:function(b,e,f){var g;b=a.ui[b].prototype;for(g in f)b.plugins[g]=b.plugins[g]||[],b.plugins[g].push([e,f[g]])},call:function(a,b,e){var f=a.plugins[b];if(f&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;b<f.length;b++)a.options[f[b][0]]&&f[b][1].apply(a.element,e)}},hasScroll:function(b,e){if("hidden"===a(b).css("overflow"))return!1;var f=e&&"left"===e?"scrollLeft":"scrollTop",g=!1;return 0<b[f]?!0:(b[f]=1,g=0<b[f],b[f]=0,g)}}))})(jQuery);
(function(a,h){var b=0,g=Array.prototype.slice,f=a.cleanData;a.cleanData=function(b){for(var g=0,k;null!=(k=b[g]);g++)try{a(k).triggerHandler("remove")}catch(h){}f(b)};a.widget=function(b,f,g){var h,m,p,r,q={},u=b.split(".")[0];b=b.split(".")[1];h=u+"-"+b;g||(g=f,f=a.Widget);a.expr[":"][h.toLowerCase()]=function(b){return!!a.data(b,h)};a[u]=a[u]||{};m=a[u][b];p=a[u][b]=function(a,b){if(!this._createWidget)return new p(a,b);arguments.length&&this._createWidget(a,b)};a.extend(p,m,{version:g.version,
_proto:a.extend({},g),_childConstructors:[]});r=new f;r.options=a.widget.extend({},r.options);a.each(g,function(b,e){a.isFunction(e)?q[b]=function(){var a=function(){return f.prototype[b].apply(this,arguments)},g=function(a){return f.prototype[b].apply(this,a)};return function(){var b=this._super,f=this._superApply,k;return this._super=a,this._superApply=g,k=e.apply(this,arguments),this._super=b,this._superApply=f,k}}():q[b]=e});p.prototype=a.widget.extend(r,{widgetEventPrefix:m?r.widgetEventPrefix:
b},q,{constructor:p,namespace:u,widgetName:b,widgetFullName:h});m?(a.each(m._childConstructors,function(b,e){var f=e.prototype;a.widget(f.namespace+"."+f.widgetName,p,e._proto)}),delete m._childConstructors):f._childConstructors.push(p);a.widget.bridge(b,p)};a.widget.extend=function(b){for(var f=g.call(arguments,1),k=0,n=f.length,m,p;k<n;k++)for(m in f[k])p=f[k][m],f[k].hasOwnProperty(m)&&p!==h&&(a.isPlainObject(p)?b[m]=a.isPlainObject(b[m])?a.widget.extend({},b[m],p):a.widget.extend({},p):b[m]=p);
return b};a.widget.bridge=function(b,f){var k=f.prototype.widgetFullName||b;a.fn[b]=function(n){var m="string"==typeof n,p=g.call(arguments,1),r=this;return n=!m&&p.length?a.widget.extend.apply(null,[n].concat(p)):n,m?this.each(function(){var f,g=a.data(this,k);if(!g)return a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+n+"'");if(!a.isFunction(g[n])||"_"===n.charAt(0))return a.error("no such method '"+n+"' for "+b+" widget instance");f=g[n].apply(g,p);if(f!==
g&&f!==h)return r=f&&f.jquery?r.pushStack(f.get()):f,!1}):this.each(function(){var b=a.data(this,k);b?b.option(n||{})._init():a.data(this,k,new f(n,this))}),r}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,f){f=a(f||this.defaultElement||this)[0];this.element=a(f);this.uuid=b++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},
this.options,this._getCreateOptions(),e);this.bindings=a();this.hoverable=a();this.focusable=a();f!==this&&(a.data(f,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===f&&this.destroy()}}),this.document=a(f.style?f.ownerDocument:f.document||f),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,
_init:a.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},
option:function(b,f){var g=b,n,m,p;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(g={},n=b.split("."),b=n.shift(),n.length){m=g[b]=a.widget.extend({},this.options[b]);for(p=0;p<n.length-1;p++)m[n[p]]=m[n[p]]||{},m=m[n[p]];b=n.pop();if(f===h)return m[b]===h?null:m[b];m[b]=f}else{if(f===h)return this.options[b]===h?null:this.options[b];g[b]=f}return this._setOptions(g),this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,
b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,f,g){var h,m=this;"boolean"!=typeof b&&(g=f,f=b,b=!1);g?(f=h=a(f),this.bindings=this.bindings.add(f)):(g=f,f=this.element,h=
this.widget());a.each(g,function(g,k){function q(){if(b||!0!==m.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"==typeof k?m[k]:k).apply(m,arguments)}"string"!=typeof k&&(q.guid=k.guid=k.guid||q.guid||a.guid++);var u=g.match(/^(\w+)\s*(.*)$/),w=u[1]+m.eventNamespace;(u=u[2])?h.delegate(u,w,q):f.bind(w,q)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var f=this;return setTimeout(function(){return("string"==
typeof a?f[a]:a).apply(f,arguments)},b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,f,g){var h,
m=this.options[b];g=g||{};f=a.Event(f);f.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();f.target=this.element[0];if(b=f.originalEvent)for(h in b)h in f||(f[h]=b[h]);return this.element.trigger(f,g),!(a.isFunction(m)&&!1===m.apply(this.element[0],[f].concat(g))||f.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,f){a.Widget.prototype["_"+b]=function(g,h,m){"string"==typeof h&&(h={effect:h});var p,r=h?!0===h||"number"==typeof h?f:h.effect||f:b;h=h||
{};"number"==typeof h&&(h={duration:h});p=!a.isEmptyObject(h);h.complete=m;h.delay&&g.delay(h.delay);p&&a.effects&&a.effects.effect[r]?g[b](h):r!==b&&g[r]?g[r](h.duration,h.easing,m):g.queue(function(f){a(this)[b]();m&&m.call(g[0]);f()})}})})(jQuery);
(function(a,h){var b=!1;a(document).mouseup(function(){b=!1});a.widget("ui.mouse",{version:"1.10.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(f){if(!0===a.data(f.target,b.widgetName+".preventClickEvent"))return a.removeData(f.target,b.widgetName+".preventClickEvent"),f.stopImmediatePropagation(),!1});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(g){if(!b){this._mouseStarted&&this._mouseUp(g);this._mouseDownEvent=g;var f=this,e=1===g.which,l="string"==typeof this.options.cancel&&g.target.nodeName?a(g.target).closest(this.options.cancel).length:!1;if(!e||l||!this._mouseCapture(g))return!0;(this.mouseDelayMet=
!this.options.delay)||(this._mouseDelayTimer=setTimeout(function(){f.mouseDelayMet=!0},this.options.delay));return this._mouseDistanceMet(g)&&this._mouseDelayMet(g)&&(this._mouseStarted=!1!==this._mouseStart(g),!this._mouseStarted)?(g.preventDefault(),!0):(!0===a.data(g.target,this.widgetName+".preventClickEvent")&&a.removeData(g.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return f._mouseMove(a)},this._mouseUpDelegate=function(a){return f._mouseUp(a)},a(document).bind("mousemove."+
this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),g.preventDefault(),b=!0,!0)}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b),this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},
_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(a,h){function b(a,b,e){return[parseFloat(a[0])*(q.test(a[0])?b/100:1),parseFloat(a[1])*(q.test(a[1])?e/100:1)]}function g(b){var e=b[0];return 9===e.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(e)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var f,e=Math.max,l=Math.abs,k=
Math.round,n=/left|center|right/,m=/top|center|bottom/,p=/[\+\-]\d+(\.[\d]+)?%?/,r=/^\w+/,q=/%$/,u=a.fn.position;a.position={scrollbarWidth:function(){if(f!==h)return f;var b,e,g=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),k=g.children()[0];return a("body").append(g),b=k.offsetWidth,g.css("overflow","scroll"),e=k.offsetWidth,b===e&&(e=g[0].clientWidth),g.remove(),f=b-e},getScrollInfo:function(b){var e=b.isWindow?"":b.element.css("overflow-x"),
f=b.isWindow?"":b.element.css("overflow-y"),f="scroll"===f||"auto"===f&&b.height<b.element[0].scrollHeight;return{width:"scroll"===e||"auto"===e&&b.width<b.element[0].scrollWidth?a.position.scrollbarWidth():0,height:f?a.position.scrollbarWidth():0}},getWithinInfo:function(b){b=a(b||window);var e=a.isWindow(b[0]);return{element:b,isWindow:e,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:e?b.width():b.outerWidth(),height:e?b.height():b.outerHeight()}}};a.fn.position=
function(f){if(!f||!f.of)return u.apply(this,arguments);f=a.extend({},f);var h,q,z,B,D,t,A=a(f.of),F=a.position.getWithinInfo(f.within),G=a.position.getScrollInfo(F),K=(f.collision||"flip").split(" "),E={};return t=g(A),A[0].preventDefault&&(f.at="left top"),q=t.width,z=t.height,B=t.offset,D=a.extend({},B),a.each(["my","at"],function(){var a=(f[this]||"").split(" "),b,e;1===a.length&&(a=n.test(a[0])?a.concat(["center"]):m.test(a[0])?["center"].concat(a):["center","center"]);a[0]=n.test(a[0])?a[0]:
"center";a[1]=m.test(a[1])?a[1]:"center";b=p.exec(a[0]);e=p.exec(a[1]);E[this]=[b?b[0]:0,e?e[0]:0];f[this]=[r.exec(a[0])[0],r.exec(a[1])[0]]}),1===K.length&&(K[1]=K[0]),"right"===f.at[0]?D.left+=q:"center"===f.at[0]&&(D.left+=q/2),"bottom"===f.at[1]?D.top+=z:"center"===f.at[1]&&(D.top+=z/2),h=b(E.at,q,z),D.left+=h[0],D.top+=h[1],this.each(function(){var g,n,m=a(this),p=m.outerWidth(),t=m.outerHeight(),r=parseInt(a.css(this,"marginLeft"),10)||0,u=parseInt(a.css(this,"marginTop"),10)||0,T=p+r+(parseInt(a.css(this,
"marginRight"),10)||0)+G.width,ea=t+u+(parseInt(a.css(this,"marginBottom"),10)||0)+G.height,N=a.extend({},D),Z=b(E.my,m.outerWidth(),m.outerHeight());"right"===f.my[0]?N.left-=p:"center"===f.my[0]&&(N.left-=p/2);"bottom"===f.my[1]?N.top-=t:"center"===f.my[1]&&(N.top-=t/2);N.left+=Z[0];N.top+=Z[1];a.support.offsetFractions||(N.left=k(N.left),N.top=k(N.top));g={marginLeft:r,marginTop:u};a.each(["left","top"],function(b,e){a.ui.position[K[b]]&&a.ui.position[K[b]][e](N,{targetWidth:q,targetHeight:z,elemWidth:p,
elemHeight:t,collisionPosition:g,collisionWidth:T,collisionHeight:ea,offset:[h[0]+Z[0],h[1]+Z[1]],my:f.my,at:f.at,within:F,elem:m})});f.using&&(n=function(a){var b=B.left-N.left,g=b+q-p,k=B.top-N.top,h=k+z-t,n={target:{element:A,left:B.left,top:B.top,width:q,height:z},element:{element:m,left:N.left,top:N.top,width:p,height:t},horizontal:0>g?"left":0<b?"right":"center",vertical:0>h?"top":0<k?"bottom":"middle"};q<p&&l(b+g)<q&&(n.horizontal="center");z<t&&l(k+h)<z&&(n.vertical="middle");e(l(b),l(g))>
e(l(k),l(h))?n.important="horizontal":n.important="vertical";f.using.call(this,a,n)});m.offset(a.extend(N,{using:n}))})};a.ui.position={fit:{left:function(a,b){var f=b.within,g=f.isWindow?f.scrollLeft:f.offset.left,f=f.width,k=a.left-b.collisionPosition.marginLeft,l=g-k,h=k+b.collisionWidth-f-g,n;b.collisionWidth>f?0<l&&0>=h?(n=a.left+l+b.collisionWidth-f-g,a.left+=l-n):0<h&&0>=l?a.left=g:l>h?a.left=g+f-b.collisionWidth:a.left=g:0<l?a.left+=l:0<h?a.left-=h:a.left=e(a.left-k,a.left)},top:function(a,
b){var f=b.within,f=f.isWindow?f.scrollTop:f.offset.top,g=b.within.height,k=a.top-b.collisionPosition.marginTop,l=f-k,h=k+b.collisionHeight-g-f,n;b.collisionHeight>g?0<l&&0>=h?(n=a.top+l+b.collisionHeight-g-f,a.top+=l-n):0<h&&0>=l?a.top=f:l>h?a.top=f+g-b.collisionHeight:a.top=f:0<l?a.top+=l:0<h?a.top-=h:a.top=e(a.top-k,a.top)}},flip:{left:function(a,b){var e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,k=e.isWindow?e.scrollLeft:e.offset.left,h=a.left-b.collisionPosition.marginLeft,e=h-k,n=h+b.collisionWidth-
g-k,h="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,m="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,q=-2*b.offset[0];if(0>e){if(f=a.left+h+m+q+b.collisionWidth-g-f,0>f||f<l(e))a.left+=h+m+q}else 0<n&&(f=a.left-b.collisionPosition.marginLeft+h+m+q-k,0<f||l(f)<n)&&(a.left+=h+m+q)},top:function(a,b){var e=b.within,f=e.offset.top+e.scrollTop,g=e.height,e=e.isWindow?e.scrollTop:e.offset.top,k=a.top-b.collisionPosition.marginTop,h=k-e,k=k+b.collisionHeight-g-e,n="top"===
b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,m="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,q=-2*b.offset[1],p,r;0>h?(r=a.top+n+m+q+b.collisionHeight-g-f,a.top+n+m+q>h&&(0>r||r<l(h))&&(a.top+=n+m+q)):0<k&&(p=a.top-b.collisionPosition.marginTop+n+m+q-e,a.top+n+m+q>k&&(0<p||l(p)<k)&&(a.top+=n+m+q))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);
a.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,e,f,g,k=document.getElementsByTagName("body")[0];f=document.createElement("div");b=document.createElement(k?"div":"body");e={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};k&&a.extend(e,{position:"absolute",left:"-1000px",top:"-1000px"});for(g in e)b.style[g]=e[g];b.appendChild(f);e=k||document.documentElement;e.insertBefore(b,e.firstChild);f.style.cssText="position: absolute; left: 10.7432222px;";f=a(f).offset().left;
a.support.offsetFractions=10<f&&11>f;b.innerHTML="";e.removeChild(b)})()})(jQuery);
(function(a,h){var b=0,g={},f={};g.height=g.paddingTop=g.paddingBottom=g.borderTopWidth=g.borderBottomWidth="hide";f.height=f.paddingTop=f.paddingBottom=f.borderTopWidth=f.borderBottomWidth="show";a.widget("ui.accordion",{version:"1.10.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var b=this.options;
this.prevShow=this.prevHide=a();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");b.collapsible||!1!==b.active&&null!=b.active||(b.active=0);this._processPanels();0>b.active&&(b.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():a(),content:this.active.length?this.active.next():a()}},_createIcons:function(){var b=this.options.icons;b&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+
b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&
this.removeAttribute("id")});this._destroyIcons();a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){"active"===a?this._activate(b):
("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"===a&&!b&&!1===this.options.active&&this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),"disabled"===a&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b))},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var f=a.ui.keyCode,g=this.headers.length,h=this.headers.index(b.target),m=!1;switch(b.keyCode){case f.RIGHT:case f.DOWN:m=
this.headers[(h+1)%g];break;case f.LEFT:case f.UP:m=this.headers[(h-1+g)%g];break;case f.SPACE:case f.ENTER:this._eventHandler(b);break;case f.HOME:m=this.headers[0];break;case f.END:m=this.headers[g-1]}m&&(a(b.target).attr("tabIndex",-1),a(m).attr("tabIndex",0),m.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().focus()},refresh:function(){var b=this.options;this._processPanels();if(!1===b.active&&!0===b.collapsible||!this.headers.length)b.active=
!1,this.active=a();!1===b.active?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=a()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},
_refresh:function(){var e,f=this.options,g=f.heightStyle,h=this.element.parent(),m=this.accordionId="ui-accordion-"+(this.element.attr("id")||++b);this.active=this._findActive(f.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(b){var e=a(this),f=e.attr("id"),g=e.next(),k=g.attr("id");f||(f=m+"-header-"+b,e.attr("id",f));k||(k=m+"-panel-"+
b,g.attr("id",k));e.attr("aria-controls",k);g.attr("aria-labelledby",f)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(f.event);"fill"===g?(e=h.height(),this.element.siblings(":visible").each(function(){var b=
a(this),f=b.css("position");"absolute"!==f&&"fixed"!==f&&(e-=b.outerHeight(!0))}),this.headers.each(function(){e-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,e-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===g&&(e=0,this.headers.next().each(function(){e=Math.max(e,a(this).css("height","").height())}).height(e))},_activate:function(b){b=this._findActive(b)[0];b!==this.active[0]&&(b=b||this.active[0],this._eventHandler({target:b,
currentTarget:b,preventDefault:a.noop}))},_findActive:function(b){return"number"==typeof b?this.headers.eq(b):a()},_setupEvents:function(b){var f={keydown:"_keydown"};b&&a.each(b.split(" "),function(a,b){f[b]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,f);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(b){var f=this.options,g=this.active,h=a(b.currentTarget),m=h[0]===
g[0],p=m&&f.collapsible,r=p?a():h.next(),q=g.next(),r={oldHeader:g,oldPanel:q,newHeader:p?a():h,newPanel:r};b.preventDefault();m&&!f.collapsible||!1===this._trigger("beforeActivate",b,r)||(f.active=p?!1:this.headers.index(h),this.active=m?a():h,this._toggle(r),g.removeClass("ui-accordion-header-active ui-state-active"),f.icons&&g.children(".ui-accordion-header-icon").removeClass(f.icons.activeHeader).addClass(f.icons.header),m||(h.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),
f.icons&&h.children(".ui-accordion-header-icon").removeClass(f.icons.header).addClass(f.icons.activeHeader),h.next().addClass("ui-accordion-content-active")))},_toggle:function(b){var f=b.newPanel,g=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=f;this.prevHide=g;this.options.animate?this._animate(f,g,b):(g.hide(),f.show(),this._toggleComplete(b));g.attr({"aria-expanded":"false","aria-hidden":"true"});g.prev().attr("aria-selected","false");
f.length&&g.length?g.prev().attr("tabIndex",-1):f.length&&this.headers.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);f.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(a,b,k){var h,m,p,r=this,q=0,u=a.length&&(!b.length||a.index()<b.index()),w=this.options.animate||{},u=u&&w.down||w,y=function(){r._toggleComplete(k)};"number"==typeof u&&(p=u);"string"==typeof u&&(m=u);m=m||u.easing||w.easing;p=p||
u.duration||w.duration;if(!b.length)return a.animate(f,p,m,y);if(!a.length)return b.animate(g,p,m,y);h=a.show().outerHeight();b.animate(g,{duration:p,easing:m,step:function(a,b){b.now=Math.round(a)}});a.hide().animate(f,{duration:p,easing:m,complete:y,step:function(a,e){e.now=Math.round(a);"height"!==e.prop?q+=e.now:"content"!==r.options.heightStyle&&(e.now=Math.round(h-b.outerHeight()-q),q=0)}})},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");
b.length&&(b.parent()[0].className=b.parent()[0].className);this._trigger("activate",null,a)}})})(jQuery);
(function(a,h){var b=0;a.widget("ui.autocomplete",{version:"1.10.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var b,f,e,l=this.element[0].nodeName.toLowerCase(),k="textarea"===l,l="input"===l;this.isMultiLine=k?!0:l?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[k||
l?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(k){if(this.element.prop("readOnly"))f=e=b=!0;else{f=e=b=!1;var l=a.ui.keyCode;switch(k.keyCode){case l.PAGE_UP:b=!0;this._move("previousPage",k);break;case l.PAGE_DOWN:b=!0;this._move("nextPage",k);break;case l.UP:b=!0;this._keyEvent("previous",k);break;case l.DOWN:b=!0;this._keyEvent("next",k);break;case l.ENTER:case l.NUMPAD_ENTER:this.menu.active&&
(b=!0,k.preventDefault(),this.menu.select(k));break;case l.TAB:this.menu.active&&this.menu.select(k);break;case l.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(k),k.preventDefault());break;default:f=!0,this._searchTimeout(k)}}},keypress:function(e){if(b)b=!1,e.preventDefault();else if(!f){var k=a.ui.keyCode;switch(e.keyCode){case k.PAGE_UP:this._move("previousPage",e);break;case k.PAGE_DOWN:this._move("nextPage",e);break;case k.UP:this._keyEvent("previous",e);break;case k.DOWN:this._keyEvent("next",
e)}}},input:function(a){e?(e=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({input:a(),role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(b){b.preventDefault();this.cancelBlur=
!0;this._delay(function(){delete this.cancelBlur});var e=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(f){f.target!==b.element[0]&&f.target!==e&&!a.contains(e,f.target)&&b.close()})})},menufocus:function(b,e){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)});return}var f=
e.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:f})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(f.value):this.liveRegion.text(f.value)},menuselect:function(a,b){var e=b.item.data("ui-autocomplete-item"),f=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=f,this._delay(function(){this.previous=f;this.selectedItem=e}));!1!==this._trigger("select",a,{item:e})&&this._value(e.value);this.term=this._value();this.close(a);
this.selectedItem=e}});this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b);"source"===a&&this._initSource();"appendTo"===
a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b||(b=this.element.closest(".ui-front")),b.length||(b=this.document[0].body),b},_initSource:function(){var b,f,e=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(e,f){f(a.ui.autocomplete.filter(b,e.term))}):"string"==typeof this.options.source?(f=this.options.source,
this.source=function(b,g){e.xhr&&e.xhr.abort();e.xhr=a.ajax({url:f,data:b,dataType:"json",success:function(a){g(a)},error:function(){g([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(b);if(!1!==this._trigger("search",
b))return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var a=this,f=++b;return function(e){f===b&&a.__response(e);a.pending--;a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):
this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},
_suggest:function(b){var f=this.menu.element.empty();this._renderMenu(f,b);this.menu.refresh();f.show();this._resizeMenu();f.position(a.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,f){var e=this;a.each(f,function(a,f){e._renderItemData(b,f)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",
b)},_renderItem:function(b,f){return a("<li>").append(a("<a>").text(f.label)).appendTo(b)},_move:function(a,b){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this._value(this.term),this.menu.blur();else this.menu[a](b);else this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,
b),b.preventDefault()}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,f){var e=new RegExp(a.ui.autocomplete.escapeRegex(f),"i");return a.grep(b,function(a){return e.test(a.label||a.value||a)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;
this._superApply(arguments);this.options.disabled||this.cancelSearch||(a&&a.length?b=this.options.messages.results(a.length):b=this.options.messages.noResults,this.liveRegion.text(b))}})})(jQuery);
(function(a,h){var b,g,f,e,l=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},k=function(b){var e=b.name,f=b.form,g=a([]);return e&&(e=e.replace(/'/g,"\\'"),f?g=a(f).find("[name='"+e+"']"):g=a("[name='"+e+"']",b.ownerDocument).filter(function(){return!this.form})),g};a.widget("ui.button",{version:"1.10.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+
this.eventNamespace).bind("reset"+this.eventNamespace,l);"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var h=this,m=this.options,p="checkbox"===this.type||"radio"===this.type,r=p?"":"ui-state-active";null===m.label&&(m.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);
this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){m.disabled||this===b&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){m.disabled||a(this).removeClass(r)}).bind("click"+this.eventNamespace,function(a){m.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});this.element.bind("focus"+this.eventNamespace,function(){h.buttonElement.addClass("ui-state-focus")}).bind("blur"+
this.eventNamespace,function(){h.buttonElement.removeClass("ui-state-focus")});p&&(this.element.bind("change"+this.eventNamespace,function(){e||h.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(a){m.disabled||(e=!1,g=a.pageX,f=a.pageY)}).bind("mouseup"+this.eventNamespace,function(a){m.disabled||g===a.pageX&&f===a.pageY||(e=!0)}));"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(m.disabled||e)return!1}):"radio"===this.type?this.buttonElement.bind("click"+
this.eventNamespace,function(){if(m.disabled||e)return!1;a(this).addClass("ui-state-active");h.buttonElement.attr("aria-pressed","true");var b=h.element[0];k(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(m.disabled)return!1;a(this).addClass("ui-state-active");b=this;h.document.one("mouseup",function(){b=null})}).bind("mouseup"+this.eventNamespace,function(){if(m.disabled)return!1;
a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){if(m.disabled)return!1;b.keyCode!==a.ui.keyCode.SPACE&&b.keyCode!==a.ui.keyCode.ENTER||a(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()}));this._setOption("disabled",m.disabled);this._resetButton()},
_determineButtonType:function(){var a,b,e;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";"checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=
a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),e=this.element.is(":checked"),e&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",e)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){this._super(a,b);"disabled"===a?b?this.element.prop("disabled",!0):this.element.prop("disabled",!1):this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b);"radio"===this.type?k(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
"true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
e=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),f=this.options.icons,g=f.primary&&f.secondary,k=[];f.primary||f.secondary?(this.options.text&&k.push("ui-button-text-icon"+(g?"s":f.primary?"-primary":"-secondary")),f.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+f.primary+"'></span>"),f.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+f.secondary+"'></span>"),this.options.text||(k.push(g?"ui-button-icons-only":
"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(e)))):k.push("ui-button-text-only");b.addClass(k.join(" "))}}});a.widget("ui.buttonset",{version:"1.10.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b);this._super(a,b)},refresh:function(){var b=
"rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);
(function(a,h){function b(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";
this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",
firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,
onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};a.extend(this._defaults,this.regional[""]);this.dpDiv=g(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function g(b){return b.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){a(this).removeClass("ui-state-hover");
-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){a.datepicker._isDisabledDatepicker(l.inline?b.parent()[0]:l.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),
-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))})}function f(b,e){a.extend(b,e);for(var f in e)null==e[f]&&(b[f]=e[f]);return b}a.extend(a.ui,{datepicker:{version:"1.10.1"}});var e=(new Date).getTime(),l;a.extend(b.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return f(this._defaults,
a||{}),this},_attachDatepicker:function(b,e){var f,g,l;f=b.nodeName.toLowerCase();g="div"===f||"span"===f;b.id||(this.uuid+=1,b.id="dp"+this.uuid);l=this._newInst(a(b),g);l.settings=a.extend({},e||{});"input"===f?this._connectDatepicker(b,l):g&&this._inlineDatepicker(b,l)},_newInst:function(b,e){return{id:b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?g(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(b,e){var f=a(b);e.append=a([]);e.trigger=a([]);f.hasClass(this.markerClassName)||(this._attachments(f,e),f.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(e),a.data(b,"datepicker",e),e.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,e){var f,g;f=this._get(e,"appendText");var l=this._get(e,"isRTL");e.append&&e.append.remove();f&&(e.append=a("<span class='"+this._appendClass+
"'>"+f+"</span>"),b[l?"before":"after"](e.append));b.unbind("focus",this._showDatepicker);e.trigger&&e.trigger.remove();f=this._get(e,"showOn");"focus"!==f&&"both"!==f||b.focus(this._showDatepicker);if("button"===f||"both"===f)f=this._get(e,"buttonText"),g=this._get(e,"buttonImage"),e.trigger=a(this._get(e,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):a("<button type='button'></button>").addClass(this._triggerClass).html(g?a("<img/>").attr({src:g,alt:f,title:f}):
f)),b[l?"before":"after"](e.trigger),e.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1})},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,e,f,g,l=new Date(2009,11,20),h=this._get(a,"dateFormat");h.match(/[DM]/)&&(b=function(a){for(g=
f=e=0;g<a.length;g++)a[g].length>e&&(e=a[g].length,f=g);return f},l.setMonth(b(this._get(a,h.match(/MM/)?"monthNames":"monthNamesShort"))),l.setDate(b(this._get(a,h.match(/DD/)?"dayNames":"dayNamesShort"))+20-l.getDay()));a.input.attr("size",this._formatDate(a,l).length)}},_inlineDatepicker:function(b,e){var f=a(b);f.hasClass(this.markerClassName)||(f.addClass(this.markerClassName).append(e.dpDiv),a.data(b,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),
e.settings.disabled&&this._disableDatepicker(b),e.dpDiv.css("display","block"))},_dialogDatepicker:function(b,e,g,l,h){var q,u,w,y,x;b=this._dialogInst;return b||(this.uuid+=1,q="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+q+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),b=this._dialogInst=this._newInst(this._dialogInput,!1),b.settings={},a.data(this._dialogInput[0],"datepicker",b)),f(b.settings,
l||{}),e=e&&e.constructor===Date?this._formatDate(b,e):e,this._dialogInput.val(e),this._pos=h?h.length?h:[h.pageX,h.pageY]:null,this._pos||(u=document.documentElement.clientWidth,w=document.documentElement.clientHeight,y=document.documentElement.scrollLeft||document.body.scrollLeft,x=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[u/2-100+y,w/2-150+x]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),b.settings.onSelect=g,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),
this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],"datepicker",b),this},_destroyDatepicker:function(b){var e,f=a(b),g=a.data(b,"datepicker");f.hasClass(this.markerClassName)&&(e=b.nodeName.toLowerCase(),a.removeData(b,"datepicker"),"input"===e?(g.append.remove(),g.trigger.remove(),f.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):
("div"===e||"span"===e)&&f.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var e,f=a(b),g=a.data(b,"datepicker");if(f.hasClass(this.markerClassName)){e=b.nodeName.toLowerCase();if("input"===e)b.disabled=!1,g.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"===e||"span"===e)e=f.children("."+this._inlineClass),e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a})}},_disableDatepicker:function(b){var e,f=a(b),g=a.data(b,"datepicker");if(f.hasClass(this.markerClassName)){e=b.nodeName.toLowerCase();if("input"===e)b.disabled=!0,g.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"===e||"span"===e)e=f.children("."+this._inlineClass),e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a});this._disabledInputs[this._disabledInputs.length]=b}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(e){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(b,e,g){var l,r,q,u,w=this._getInst(b);if(2===arguments.length&&"string"==
typeof e)return"defaults"===e?a.extend({},a.datepicker._defaults):w?"all"===e?a.extend({},w.settings):this._get(w,e):null;l=e||{};"string"==typeof e&&(l={},l[e]=g);w&&(this._curInst===w&&this._hideDatepicker(),r=this._getDateDatepicker(b,!0),q=this._getMinMaxDate(w,"min"),u=this._getMinMaxDate(w,"max"),f(w.settings,l),null!==q&&l.dateFormat!==h&&l.minDate===h&&(w.settings.minDate=this._formatDate(w,q)),null!==u&&l.dateFormat!==h&&l.maxDate===h&&(w.settings.maxDate=this._formatDate(w,u)),"disabled"in
l&&(l.disabled?this._disableDatepicker(b):this._enableDatepicker(b)),this._attachments(a(b),w),this._autoSize(w),this._setDate(w,r),this._updateAlternate(w),this._updateDatepicker(w))},_changeDatepicker:function(a,b,e){this._optionDatepicker(a,b,e)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){var e=this._getInst(a);e&&(this._setDate(e,b),this._updateDatepicker(e),this._updateAlternate(e))},_getDateDatepicker:function(a,b){var e=
this._getInst(a);return e&&!e.inline&&this._setDateFromField(e,b),e?this._getDate(e):null},_doKeyDown:function(b){var e,f,g,l=a.datepicker._getInst(b.target),h=!0,u=l.dpDiv.is(".ui-datepicker-rtl");l._keyEvent=!0;if(a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker();h=!1;break;case 13:return g=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",l.dpDiv),g[0]&&a.datepicker._selectDay(b.target,l.selectedMonth,l.selectedYear,g[0]),e=a.datepicker._get(l,
"onSelect"),e?(f=a.datepicker._formatDate(l),e.apply(l.input?l.input[0]:null,[f,l])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(l,"stepBigMonths"):-a.datepicker._get(l,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(l,"stepBigMonths"):+a.datepicker._get(l,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target);
h=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target);h=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,u?1:-1,"D");h=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(l,"stepBigMonths"):-a.datepicker._get(l,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D");h=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&
a.datepicker._adjustDate(b.target,u?-1:1,"D");h=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(l,"stepBigMonths"):+a.datepicker._get(l,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D");h=b.ctrlKey||b.metaKey;break;default:h=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):h=!1;h&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var e,f,g=a.datepicker._getInst(b.target);
if(a.datepicker._get(g,"constrainInput"))return e=a.datepicker._possibleChars(a.datepicker._get(g,"dateFormat")),f=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">f||!e||-1<e.indexOf(f)},_doKeyUp:function(b){var e;b=a.datepicker._getInst(b.target);if(b.input.val()!==b.lastVal)try{(e=a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,a.datepicker._getFormatConfig(b)))&&(a.datepicker._setDateFromField(b),a.datepicker._updateAlternate(b),
a.datepicker._updateDatepicker(b))}catch(f){}return!0},_showDatepicker:function(b){b=b.target||b;"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]);if(!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var e,g,l,h,q;e=a.datepicker._getInst(b);a.datepicker._curInst&&a.datepicker._curInst!==e&&(a.datepicker._curInst.dpDiv.stop(!0,!0),e&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0]));g=(g=a.datepicker._get(e,"beforeShow"))?
g.apply(b,[b,e]):{};!1!==g&&(f(e.settings,g),e.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(e),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),l=!1,a(b).parents().each(function(){return l|="fixed"===a(this).css("position"),!l}),g={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
a.datepicker._updateDatepicker(e),g=a.datepicker._checkOffset(e,g,l),e.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":l?"fixed":"absolute",display:"none",left:g.left+"px",top:g.top+"px"}),e.inline||(h=a.datepicker._get(e,"showAnim"),q=a.datepicker._get(e,"duration"),e.dpDiv.zIndex(a(b).zIndex()+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[h]?e.dpDiv.show(h,a.datepicker._get(e,"showOptions"),q):e.dpDiv[h||"show"](h?q:null),e.input.is(":visible")&&!e.input.is(":disabled")&&
e.input.focus(),a.datepicker._curInst=e))}},_updateDatepicker:function(b){this.maxRows=4;l=b;b.dpDiv.empty().append(this._generateHTML(b));this._attachHandlers(b);b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e,f=this._getNumberOfMonths(b),g=f[1];b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<g&&b.dpDiv.addClass("ui-datepicker-multi-"+g).css("width",17*g+"em");b.dpDiv[(1!==f[0]||1!==f[1]?"add":"remove")+"Class"]("ui-datepicker-multi");
b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&b.input&&b.input.is(":visible")&&!b.input.is(":disabled")&&b.input[0]!==document.activeElement&&b.input.focus();b.yearshtml&&(e=b.yearshtml,setTimeout(function(){e===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);e=b.yearshtml=null},0))},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||
a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(b,e,f){var g=b.dpDiv.outerWidth(),l=b.dpDiv.outerHeight(),h=b.input?b.input.outerWidth():0,u=b.input?b.input.outerHeight():0,w=document.documentElement.clientWidth+(f?0:a(document).scrollLeft()),y=document.documentElement.clientHeight+(f?0:a(document).scrollTop());return e.left-=this._get(b,"isRTL")?g-h:0,e.left-=f&&e.left===b.input.offset().left?a(document).scrollLeft():0,e.top-=f&&
e.top===b.input.offset().top+u?a(document).scrollTop():0,e.left-=Math.min(e.left,e.left+g>w&&w>g?Math.abs(e.left+g-w):0),e.top-=Math.min(e.top,e.top+l>y&&y>l?Math.abs(l+u):0),e},_findPos:function(b){for(var e,f=this._getInst(b),f=this._get(f,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[f?"previousSibling":"nextSibling"];return e=a(b).offset(),[e.left,e.top]},_hideDatepicker:function(b){var e,f,g,l,h=this._curInst;!h||b&&h!==a.data(b,"datepicker")||this._datepickerShowing&&
(e=this._get(h,"showAnim"),f=this._get(h,"duration"),g=function(){a.datepicker._tidyDialog(h)},a.effects&&(a.effects.effect[e]||a.effects[e])?h.dpDiv.hide(e,a.datepicker._get(h,"showOptions"),f,g):h.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?f:null,g),e||g(),this._datepickerShowing=!1,l=this._get(h,"onClose"),l&&l.apply(h.input?h.input[0]:null,[h.input?h.input.val():"",h]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),
a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){b=a(b.target);var e=a.datepicker._getInst(b[0]);(!(b[0].id===a.datepicker._mainDivId||0!==b.parents("#"+a.datepicker._mainDivId).length||b.hasClass(a.datepicker.markerClassName)||b.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&
a.blockUI)||b.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==e)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,e,f){b=a(b);var g=this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(g,e+("M"===f?this._get(g,"showCurrentAtPos"):0),f),this._updateDatepicker(g))},_gotoToday:function(b){var e;b=a(b);var f=this._getInst(b[0]);this._get(f,"gotoCurrent")&&f.currentDay?(f.selectedDay=f.currentDay,f.drawMonth=f.selectedMonth=f.currentMonth,f.drawYear=f.selectedYear=
f.currentYear):(e=new Date,f.selectedDay=e.getDate(),f.drawMonth=f.selectedMonth=e.getMonth(),f.drawYear=f.selectedYear=e.getFullYear());this._notifyChange(f);this._adjustDate(b)},_selectMonthYear:function(b,e,f){b=a(b);var g=this._getInst(b[0]);g["selected"+("M"===f?"Month":"Year")]=g["draw"+("M"===f?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10);this._notifyChange(g);this._adjustDate(b)},_selectDay:function(b,e,f,g){var l;l=a(b);a(g).hasClass(this._unselectableClass)||this._isDisabledDatepicker(l[0])||
(l=this._getInst(l[0]),l.selectedDay=l.currentDay=a("a",g).html(),l.selectedMonth=l.currentMonth=e,l.selectedYear=l.currentYear=f,this._selectDate(b,this._formatDate(l,l.currentDay,l.currentMonth,l.currentYear)))},_clearDate:function(b){b=a(b);this._selectDate(b,"")},_selectDate:function(b,e){var f;f=a(b);var g=this._getInst(f[0]);e=null!=e?e:this._formatDate(g);g.input&&g.input.val(e);this._updateAlternate(g);(f=this._get(g,"onSelect"))?f.apply(g.input?g.input[0]:null,[e,g]):g.input&&g.input.trigger("change");
g.inline?this._updateDatepicker(g):(this._hideDatepicker(),this._lastInput=g.input[0],"object"!=typeof g.input[0]&&g.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var e,f,g,l=this._get(b,"altField");l&&(e=this._get(b,"altFormat")||this._get(b,"dateFormat"),f=this._getDate(b),g=this.formatDate(e,f,this._getFormatConfig(b)),a(l).each(function(){a(this).val(g)}))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b;a=new Date(a.getTime());return a.setDate(a.getDate()+
4-(a.getDay()||7)),b=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(b,e,f){if(null==b||null==e)throw"Invalid arguments";e="object"==typeof e?e.toString():e+"";if(""===e)return null;var g,l,h,u=0;l=(f?f.shortYearCutoff:null)||this._defaults.shortYearCutoff;l="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10);h=(f?f.dayNamesShort:null)||this._defaults.dayNamesShort;var w=(f?f.dayNames:null)||this._defaults.dayNames,y=(f?f.monthNamesShort:
null)||this._defaults.monthNamesShort,x=(f?f.monthNames:null)||this._defaults.monthNames,z=f=-1,B=-1,D=-1,t=!1,A,F=function(a){a=g+1<b.length&&b.charAt(g+1)===a;return a&&g++,a},G=function(a){var b=F(a);a=new RegExp("^\\d{1,"+("@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2)+"}");a=e.substring(u).match(a);if(!a)throw"Missing number at position "+u;return u+=a[0].length,parseInt(a[0],10)},K=function(b,f,g){var k=-1;b=a.map(F(b)?g:f,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-
b[1].length)});a.each(b,function(a,b){var f=b[1];if(e.substr(u,f.length).toLowerCase()===f.toLowerCase())return k=b[0],u+=f.length,!1});if(-1!==k)return k+1;throw"Unknown name at position "+u;},E=function(){if(e.charAt(u)!==b.charAt(g))throw"Unexpected literal at position "+u;u++};for(g=0;g<b.length;g++)if(t)"'"!==b.charAt(g)||F("'")?E():t=!1;else switch(b.charAt(g)){case "d":B=G("d");break;case "D":K("D",h,w);break;case "o":D=G("o");break;case "m":z=G("m");break;case "M":z=K("M",y,x);break;case "y":f=
G("y");break;case "@":A=new Date(G("@"));f=A.getFullYear();z=A.getMonth()+1;B=A.getDate();break;case "!":A=new Date((G("!")-this._ticksTo1970)/1E4);f=A.getFullYear();z=A.getMonth()+1;B=A.getDate();break;case "'":F("'")?E():t=!0;break;default:E()}if(u<e.length&&(h=e.substr(u),!/^\s+/.test(h)))throw"Extra/unparsed characters found in date: "+h;-1===f?f=(new Date).getFullYear():100>f&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=l?0:-100));if(-1<D){z=1;B=D;do{l=this._getDaysInMonth(f,
z-1);if(B<=l)break;z++;B-=l}while(1)}A=this._daylightSavingAdjust(new Date(f,z-1,B));if(A.getFullYear()!==f||A.getMonth()+1!==z||A.getDate()!==B)throw"Invalid date";return A},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,e){if(!b)return"";
var f,g=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,l=(e?e.dayNames:null)||this._defaults.dayNames,h=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort;e=(e?e.monthNames:null)||this._defaults.monthNames;var w=function(b){b=f+1<a.length&&a.charAt(f+1)===b;return b&&f++,b},y=function(a,b,e){b=""+b;if(w(a))for(;b.length<e;)b="0"+b;return b},x=function(a,b,e,f){return w(a)?f[b]:e[b]},z="",B=!1;if(b)for(f=0;f<a.length;f++)if(B)"'"!==a.charAt(f)||w("'")?z+=a.charAt(f):B=!1;else switch(a.charAt(f)){case "d":z+=
y("d",b.getDate(),2);break;case "D":z+=x("D",b.getDay(),g,l);break;case "o":z+=y("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":z+=y("m",b.getMonth()+1,2);break;case "M":z+=x("M",b.getMonth(),h,e);break;case "y":z+=w("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":z+=b.getTime();break;case "!":z+=1E4*b.getTime()+this._ticksTo1970;break;case "'":w("'")?z+="'":B=!0;break;
default:z+=a.charAt(f)}return z},_possibleChars:function(a){var b,e="",f=!1,g=function(e){e=b+1<a.length&&a.charAt(b+1)===e;return e&&b++,e};for(b=0;b<a.length;b++)if(f)"'"!==a.charAt(b)||g("'")?e+=a.charAt(b):f=!1;else switch(a.charAt(b)){case "d":case "m":case "y":case "@":e+="0123456789";break;case "D":case "M":return null;case "'":g("'")?e+="'":f=!0;break;default:e+=a.charAt(b)}return e},_get:function(a,b){return a.settings[b]!==h?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,
b){if(a.input.val()!==a.lastVal){var e=this._get(a,"dateFormat"),f=a.lastVal=a.input?a.input.val():null,g=this._getDefaultDate(a),l=g,h=this._getFormatConfig(a);try{l=this.parseDate(e,f,h)||g}catch(w){f=b?"":f}a.selectedDay=l.getDate();a.drawMonth=a.selectedMonth=l.getMonth();a.drawYear=a.selectedYear=l.getFullYear();a.currentDay=f?l.getDate():0;a.currentMonth=f?l.getMonth():0;a.currentYear=f?l.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,
this._get(a,"defaultDate"),new Date))},_determineDate:function(b,e,f){var g=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},l=function(e){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),e,a.datepicker._getFormatConfig(b))}catch(f){}for(var g=(e.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,l=g.getFullYear(),h=g.getMonth(),g=g.getDate(),n=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,m=n.exec(e);m;){switch(m[2]||"d"){case "d":case "D":g+=parseInt(m[1],
10);break;case "w":case "W":g+=7*parseInt(m[1],10);break;case "m":case "M":h+=parseInt(m[1],10);g=Math.min(g,a.datepicker._getDaysInMonth(l,h));break;case "y":case "Y":l+=parseInt(m[1],10),g=Math.min(g,a.datepicker._getDaysInMonth(l,h))}m=n.exec(e)}return new Date(l,h,g)};e=null==e||""===e?f:"string"==typeof e?l(e):"number"==typeof e?isNaN(e)?f:g(e):new Date(e.getTime());return e=e&&"Invalid Date"===e.toString()?f:e,e&&(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)),this._daylightSavingAdjust(e)},
_daylightSavingAdjust:function(a){return a?(a.setHours(12<a.getHours()?a.getHours()+2:0),a):null},_setDate:function(a,b,e){var f=!b,g=a.selectedMonth,l=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();g===a.selectedMonth&&l===a.selectedYear||e||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(f?"":this._formatDate(a))},
_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(b){var f=this._get(b,"stepMonths"),g="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){a(this).bind(this.getAttribute("data-event"),{prev:function(){window["DP_jQuery_"+e].datepicker._adjustDate(g,-f,"M")},next:function(){window["DP_jQuery_"+e].datepicker._adjustDate(g,+f,"M")},hide:function(){window["DP_jQuery_"+
e].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+e].datepicker._gotoToday(g)},selectDay:function(){return window["DP_jQuery_"+e].datepicker._selectDay(g,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+e].datepicker._selectMonthYear(g,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+e].datepicker._selectMonthYear(g,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,
e,f,g,l,h,w,y,x,z,B,D,t,A,F,G,K,E,O,J,M,L,R,Q,X,T,ea,N=new Date,N=this._daylightSavingAdjust(new Date(N.getFullYear(),N.getMonth(),N.getDate())),Z=this._get(a,"isRTL");h=this._get(a,"showButtonPanel");f=this._get(a,"hideIfNoPrevNext");l=this._get(a,"navigationAsDateFormat");var ha=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos");g=this._get(a,"stepMonths");var ta=1!==ha[0]||1!==ha[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,
9,9)),na=this._getMinMaxDate(a,"min"),Aa=this._getMinMaxDate(a,"max"),V=a.drawMonth-V,ka=a.drawYear;0>V&&(V+=12,ka--);if(Aa)for(b=this._daylightSavingAdjust(new Date(Aa.getFullYear(),Aa.getMonth()-ha[0]*ha[1]+1,Aa.getDate())),b=na&&b<na?na:b;this._daylightSavingAdjust(new Date(ka,V,1))>b;)V--,0>V&&(V=11,ka--);a.drawMonth=V;a.drawYear=ka;b=this._get(a,"prevText");b=l?this.formatDate(b,this._daylightSavingAdjust(new Date(ka,V-g,1)),this._getFormatConfig(a)):b;b=this._canAdjustMonth(a,-1,ka,V)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+
b+"'><span class='ui-icon ui-icon-circle-triangle-"+(Z?"e":"w")+"'>"+b+"</span></a>":f?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(Z?"e":"w")+"'>"+b+"</span></a>";e=this._get(a,"nextText");e=l?this.formatDate(e,this._daylightSavingAdjust(new Date(ka,V+g,1)),this._getFormatConfig(a)):e;f=this._canAdjustMonth(a,1,ka,V)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+
(Z?"w":"e")+"'>"+e+"</span></a>":f?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Z?"w":"e")+"'>"+e+"</span></a>";g=this._get(a,"currentText");e=this._get(a,"gotoCurrent")&&a.currentDay?Y:N;g=l?this.formatDate(g,e,this._getFormatConfig(a)):g;l=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+
"</button>";h=h?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Z?l:"")+(this._isInRange(a,e)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(Z?"":l)+"</div>":"";l=parseInt(this._get(a,"firstDay"),10);l=isNaN(l)?0:l;g=this._get(a,"showWeek");e=this._get(a,"dayNames");w=this._get(a,"dayNamesMin");y=this._get(a,"monthNames");x=this._get(a,"monthNamesShort");z=this._get(a,
"beforeShowDay");B=this._get(a,"showOtherMonths");D=this._get(a,"selectOtherMonths");t=this._getDefaultDate(a);A="";F;for(G=0;G<ha[0];G++){K="";this.maxRows=4;for(E=0;E<ha[1];E++){O=this._daylightSavingAdjust(new Date(ka,V,a.selectedDay));F=" ui-corner-all";J="";if(ta){J+="<div class='ui-datepicker-group";if(1<ha[1])switch(E){case 0:J+=" ui-datepicker-group-first";F=" ui-corner-"+(Z?"right":"left");break;case ha[1]-1:J+=" ui-datepicker-group-last";F=" ui-corner-"+(Z?"left":"right");break;default:J+=
" ui-datepicker-group-middle",F=""}J+="'>"}J+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+F+"'>"+(/all|left/.test(F)&&0===G?Z?f:b:"")+(/all|right/.test(F)&&0===G?Z?b:f:"")+this._generateMonthYearHeader(a,V,ka,na,Aa,0<G||0<E,y,x)+"</div><table class='ui-datepicker-calendar'><thead><tr>";M=g?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(F=0;7>F;F++)L=(F+l)%7,M+="<th"+(5<=(F+l+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+e[L]+
"'>"+w[L]+"</span></th>";J+=M+"</tr></thead><tbody>";M=this._getDaysInMonth(ka,V);ka===a.selectedYear&&V===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,M));F=(this._getFirstDayOfMonth(ka,V)-l+7)%7;M=Math.ceil((F+M)/7);this.maxRows=M=ta?this.maxRows>M?this.maxRows:M:M;L=this._daylightSavingAdjust(new Date(ka,V,1-F));for(R=0;R<M;R++){J+="<tr>";Q=g?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(L)+"</td>":"";for(F=0;7>F;F++)X=z?z.apply(a.input?a.input[0]:null,[L]):[!0,""],
ea=(T=L.getMonth()!==V)&&!D||!X[0]||na&&L<na||Aa&&L>Aa,Q+="<td class='"+(5<=(F+l+6)%7?" ui-datepicker-week-end":"")+(T?" ui-datepicker-other-month":"")+(L.getTime()===O.getTime()&&V===a.selectedMonth&&a._keyEvent||t.getTime()===L.getTime()&&t.getTime()===O.getTime()?" "+this._dayOverClass:"")+(ea?" "+this._unselectableClass+" ui-state-disabled":"")+(T&&!B?"":" "+X[1]+(L.getTime()===Y.getTime()?" "+this._currentClass:"")+(L.getTime()===N.getTime()?" ui-datepicker-today":""))+"'"+(T&&!B||!X[2]?"":" title='"+
X[2].replace(/'/g,"&#39;")+"'")+(ea?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(T&&!B?"&#xa0;":ea?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===N.getTime()?" ui-state-highlight":"")+(L.getTime()===Y.getTime()?" ui-state-active":"")+(T?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);J+=Q+"</tr>"}V++;
11<V&&(V=0,ka++);J+="</tbody></table>"+(ta?"</div>"+(0<ha[0]&&E===ha[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");K+=J}A+=K}return A+=h,a._keyEvent=!1,A},_generateMonthYearHeader:function(a,b,e,f,g,l,h,w){var y,x,z,B=this._get(a,"changeMonth"),D=this._get(a,"changeYear"),t=this._get(a,"showMonthAfterYear"),A="<div class='ui-datepicker-title'>",F="";if(l||!B)F+="<span class='ui-datepicker-month'>"+h[b]+"</span>";else{h=f&&f.getFullYear()===e;y=g&&g.getFullYear()===e;F+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";
for(x=0;12>x;x++)(!h||x>=f.getMonth())&&(!y||x<=g.getMonth())&&(F+="<option value='"+x+"'"+(x===b?" selected='selected'":"")+">"+w[x]+"</option>");F+="</select>"}t||(A+=F+(!l&&B&&D?"":"&#xa0;"));if(!a.yearshtml)if(a.yearshtml="",l||!D)A+="<span class='ui-datepicker-year'>"+e+"</span>";else{w=this._get(a,"yearRange").split(":");z=(new Date).getFullYear();h=function(a){a=a.match(/c[+\-].*/)?e+parseInt(a.substring(1),10):a.match(/[+\-].*/)?z+parseInt(a,10):parseInt(a,10);return isNaN(a)?z:a};b=h(w[0]);
w=Math.max(b,h(w[1]||""));b=f?Math.max(b,f.getFullYear()):b;w=g?Math.min(w,g.getFullYear()):w;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";b<=w;b++)a.yearshtml+="<option value='"+b+"'"+(b===e?" selected='selected'":"")+">"+b+"</option>";a.yearshtml+="</select>";A+=a.yearshtml;a.yearshtml=null}return A+=this._get(a,"yearSuffix"),t&&(A+=(!l&&B&&D?"":"&#xa0;")+F),A+="</div>",A},_adjustInstDate:function(a,b,e){var f=a.drawYear+("Y"===e?b:0),g=a.drawMonth+
("M"===e?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(f,g))+("D"===e?b:0);f=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(f,g,b)));a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();"M"!==e&&"Y"!==e||this._notifyChange(a)},_restrictMinMax:function(a,b){var e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),e=e&&b<e?e:b;return f&&e>f?f:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?
a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,e,f){var g=this._getNumberOfMonths(a);e=this._daylightSavingAdjust(new Date(e,
f+(0>b?b:g[0]*g[1]),1));return 0>b&&e.setDate(this._getDaysInMonth(e.getFullYear(),e.getMonth())),this._isInRange(a,e)},_isInRange:function(a,b){var e,f,g=this._getMinMaxDate(a,"min"),l=this._getMinMaxDate(a,"max"),h=null,w=null,y=this._get(a,"yearRange");return y&&(e=y.split(":"),f=(new Date).getFullYear(),h=parseInt(e[0],10),w=parseInt(e[1],10),e[0].match(/[+\-].*/)&&(h+=f),e[1].match(/[+\-].*/)&&(w+=f)),(!g||b.getTime()>=g.getTime())&&(!l||b.getTime()<=l.getTime())&&(!h||b.getFullYear()>=h)&&(!w||
b.getFullYear()<=w)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,e,f){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(f,
e,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0);0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==
b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(e)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(e))};a.datepicker=new b;a.datepicker.initialized=!1;a.datepicker.uuid=(new Date).getTime();a.datepicker.version=
"1.10.1";window["DP_jQuery_"+e]=a})(jQuery);
(function(a,h){var b={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},g={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.10.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var e=a(this).css(b).offset().top;
0>e&&a(this).css("top",b.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};
this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&a.fn.draggable&&this._makeDraggable();this.options.resizable&&a.fn.resizable&&this._makeResizable();this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=
this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);a=b.parent.children().eq(b.index);a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},
widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var e=this;this._isOpen&&!1!==this._trigger("beforeClose",b)&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||a(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",b)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(a,b){var g=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;
return g&&!b&&this._trigger("focus",a),g},open:function(){var b=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable();b._trigger("focus")}),this._trigger("open"))},_focusTabbable:function(){var a=this.element.find("[autofocus]");a.length||(a=this.element.find(":tabbable"));a.length||
(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));a.length||(a=this.uiDialog);a.eq(0).focus()},_keepFocus:function(b){function e(){var b=this.document[0].activeElement;this.uiDialog[0]===b||a.contains(this.uiDialog[0],b)||this._focusTabbable()}b.preventDefault();e.call(this);this._delay(e)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,
role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)b.preventDefault(),this.close(b);else if(b.keyCode===a.ui.keyCode.TAB){var e=this.uiDialog.find(":tabbable"),g=e.filter(":first"),e=e.filter(":last");b.target!==e[0]&&b.target!==this.uiDialog[0]||b.shiftKey?(b.target===g[0]||b.target===this.uiDialog[0])&&b.shiftKey&&(e.focus(1),b.preventDefault()):(g.focus(1),b.preventDefault())}},
mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});this.uiDialogTitlebarClose=
a("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});b=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(b);this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title||a.html("&#160;");a.text(this.options.title)},
_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var b=this,e=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();a.isEmptyObject(e)||a.isArray(e)&&!e.length?this.uiDialog.removeClass("ui-dialog-buttons"):(a.each(e,function(e,g){var h,m;g=a.isFunction(g)?
{click:g,text:e}:g;g=a.extend({type:"button"},g);h=g.click;g.click=function(){h.apply(b.element[0],arguments)};m={icons:g.icons,text:g.showText};delete g.icons;delete g.showText;a("<button></button>",g).button(m).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var e=this,g=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",
handle:".ui-dialog-titlebar",containment:"document",start:function(g,l){a(this).addClass("ui-dialog-dragging");e._blockFrames();e._trigger("dragStart",g,b(l))},drag:function(a,g){e._trigger("drag",a,b(g))},stop:function(k,h){g.position=[h.position.left-e.document.scrollLeft(),h.position.top-e.document.scrollTop()];a(this).removeClass("ui-dialog-dragging");e._unblockFrames();e._trigger("dragStop",k,b(h))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,
position:a.position,size:a.size}}var e=this,g=this.options,k=g.resizable,h=this.uiDialog.css("position"),k="string"==typeof k?k:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:g.maxWidth,maxHeight:g.maxHeight,minWidth:g.minWidth,minHeight:this._minHeight(),handles:k,start:function(g,k){a(this).addClass("ui-dialog-resizing");e._blockFrames();e._trigger("resizeStart",g,b(k))},resize:function(a,g){e._trigger("resize",
a,b(g))},stop:function(k,h){g.height=a(this).height();g.width=a(this).width();a(this).removeClass("ui-dialog-resizing");e._unblockFrames();e._trigger("resizeStop",k,b(h))}}).css("position",h)},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show();this.uiDialog.position(this.options.position);a||this.uiDialog.hide()},_setOptions:function(f){var e=this,l=!1,k={};a.each(f,
function(a,f){e._setOption(a,f);a in b&&(l=!0);a in g&&(k[a]=f)});l&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",k)},_setOption:function(a,b){var g,k,h=this.uiDialog;"dialogClass"===a&&h.removeClass(this.options.dialogClass).addClass(b);"disabled"!==a&&(this._super(a,b),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+b}),"draggable"===
a&&(g=h.is(":data(ui-draggable)"),g&&!b&&h.draggable("destroy"),!g&&b&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&(k=h.is(":data(ui-resizable)"),k&&!b&&h.resizable("destroy"),k&&"string"==typeof b&&h.resizable("option","handles",b),!k&&!1!==b&&this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,g,k=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});k.minWidth>
k.width&&(k.width=k.minWidth);a=this.uiDialog.css({height:"auto",width:k.width}).outerHeight();b=Math.max(0,k.minHeight-a);g="number"==typeof k.maxHeight?Math.max(0,k.maxHeight-a):"none";"auto"===k.height?this.element.css({minHeight:b,maxHeight:g,height:"auto"}):this.element.height(Math.max(0,k.height-a));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=
a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_createOverlay:function(){this.options.modal&&(a.ui.dialog.overlayInstances||this._delay(function(){a.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(b){a(b.target).closest(".ui-dialog").length||a(b.target).closest(".ui-datepicker").length||
(b.preventDefault(),a(".ui-dialog:visible:last .ui-dialog-content").data("ui-dialog")._focusTabbable())})}),this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),a.ui.dialog.overlayInstances++)},_destroyOverlay:function(){this.options.modal&&this.overlay&&(a.ui.dialog.overlayInstances--,a.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}});a.ui.dialog.overlayInstances=
0;!1!==a.uiBackCompat&&a.widget("ui.dialog",a.ui.dialog,{_position:function(){var b=this.options.position,e=[],g=[0,0],k;if(b){if("string"==typeof b||"object"==typeof b&&"0"in b)e=b.split?b.split(" "):[b[0],b[1]],1===e.length&&(e[1]=e[0]),a.each(["left","top"],function(a,b){+e[a]===e[a]&&(g[a]=e[a],e[a]=b)}),b={my:e[0]+(0>g[0]?g[0]:"+"+g[0])+" "+e[1]+(0>g[1]?g[1]:"+"+g[1]),at:e.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;(k=this.uiDialog.is(":visible"))||
this.uiDialog.show();this.uiDialog.position(b);k||this.uiDialog.hide()}})})(jQuery);
(function(a,h){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&
!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(b){var g=this.options;return this.helper||g.disabled||0<a(b.target).closest(".ui-resizable-handle").length?
!1:(this.handle=this._getHandle(b),this.handle?(a(!0===g.iframeFix?"iframe":g.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var g=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),
a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),
this.originalPageX=b.pageX,this.originalPageY=b.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),g.containment&&this._setContainment(),!1===this._trigger("start",b)?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,g){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!g){var f=
this._uiHash();if(!1===this._trigger("drag",b,f))return this._mouseUp({}),!1;this.position=f.position}this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");return a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var g,f=this,e=!1,l=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(l=a.ui.ddmanager.drop(this,b));this.dropped&&(l=this.dropped,this.dropped=
!1);for(g=this.element[0];g&&(g=g.parentNode);)g===document&&(e=!0);return e||"original"!==this.options.helper?("invalid"===this.options.revert&&!l||"valid"===this.options.revert&&l||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,l)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==f._trigger("stop",b)&&f._clear()}):!1!==this._trigger("stop",b)&&this._clear(),!1):!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),
a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var g=this.options.handle&&a(this.options.handle,this.element).length?!1:!0;return a(this.options.handle,this.element).find("*").addBack().each(function(){this===b.target&&(g=!0)}),g},_createHelper:function(b){var g=this.options;b=a.isFunction(g.helper)?a(g.helper.apply(this.element[0],
[b])):"clone"===g.helper?this.element.clone().removeAttr("id"):this.element;return b.parents("body").length||b.appendTo("parent"===g.appendTo?this.element[0].parentNode:g.appendTo),b[0]!==this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position","absolute"),b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-
b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===
document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||
0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,g,f;b=this.options;"parent"===b.containment&&
(b.containment=this.helper[0].parentNode);if("document"===b.containment||"window"===b.containment)this.containment=["document"===b.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"===b.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"===b.containment?0:a(window).scrollLeft())+a("document"===b.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"===b.containment?0:
a(window).scrollTop())+(a("document"===b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(/^(document|window|parent)$/.test(b.containment)||b.containment.constructor===Array)b.containment.constructor===Array&&(this.containment=b.containment);else if(g=a(b.containment),f=g[0])b="hidden"!==a(f).css("overflow"),this.containment=[(parseInt(a(f).css("borderLeftWidth"),10)||0)+(parseInt(a(f).css("paddingLeft"),10)||0),(parseInt(a(f).css("borderTopWidth"),
10)||0)+(parseInt(a(f).css("paddingTop"),10)||0),(b?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(a(f).css("borderLeftWidth"),10)||0)-(parseInt(a(f).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-(parseInt(a(f).css("borderTopWidth"),10)||0)-(parseInt(a(f).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=g},
_convertPositionTo:function(b,g){g||(g=this.position);var f="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(e[0].tagName);return{top:g.top+this.offset.relative.top*f+this.offset.parent.top*f-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:e.scrollTop())*f,left:g.left+this.offset.relative.left*f+this.offset.parent.left*f-("fixed"===this.cssPosition?
-this.scrollParent.scrollLeft():l?0:e.scrollLeft())*f}},_generatePosition:function(b){var g,f,e,l,k=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,m=/(html|body)/i.test(h[0].tagName),p=b.pageX,r=b.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(f=this.relative_container.offset(),g=[this.containment[0]+f.left,this.containment[1]+f.top,this.containment[2]+
f.left,this.containment[3]+f.top]):g=this.containment,b.pageX-this.offset.click.left<g[0]&&(p=g[0]+this.offset.click.left),b.pageY-this.offset.click.top<g[1]&&(r=g[1]+this.offset.click.top),b.pageX-this.offset.click.left>g[2]&&(p=g[2]+this.offset.click.left),b.pageY-this.offset.click.top>g[3]&&(r=g[3]+this.offset.click.top)),k.grid&&(e=k.grid[1]?this.originalPageY+Math.round((r-this.originalPageY)/k.grid[1])*k.grid[1]:this.originalPageY,r=g?e-this.offset.click.top>=g[1]||e-this.offset.click.top>g[3]?
e:e-this.offset.click.top>=g[1]?e-k.grid[1]:e+k.grid[1]:e,l=k.grid[0]?this.originalPageX+Math.round((p-this.originalPageX)/k.grid[0])*k.grid[0]:this.originalPageX,p=g?l-this.offset.click.left>=g[0]||l-this.offset.click.left>g[2]?l:l-this.offset.click.left>=g[0]?l-k.grid[0]:l+k.grid[0]:l)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():m?0:h.scrollTop()),left:p-this.offset.click.left-this.offset.relative.left-
this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():m?0:h.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(b,g,f){return f=f||this._uiHash(),a.ui.plugin.call(this,b,[g,f]),"drag"===b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,g,f)},plugins:{},
_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(b,g){var f=a(this).data("ui-draggable"),e=f.options,l=a.extend({},g,{item:f.element});f.sortables=[];a(e.connectToSortable).each(function(){var e=a.data(this,"ui-sortable");e&&!e.options.disabled&&(f.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",
b,l))})},stop:function(b,g){var f=a(this).data("ui-draggable"),e=a.extend({},g,{item:f.element});a.each(f.sortables,function(){this.instance.isOver?(this.instance.isOver=0,f.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"===f.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",
b,e))})},drag:function(b,g){var f=a(this).data("ui-draggable"),e=this;a.each(f.sortables,function(){var l=!1,k=this;this.instance.positionAbs=f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&(l=!0,a.each(f.sortables,function(){return this.instance.positionAbs=f.positionAbs,this.instance.helperProportions=f.helperProportions,this.instance.offset.click=f.offset.click,this!==k&&this.instance._intersectsWith(this.instance.containerCache)&&
a.contains(k.instance.element[0],this.instance.element[0])&&(l=!1),l}));l?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return g.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=f.offset.click.top,
this.instance.offset.click.left=f.offset.click.left,this.instance.offset.parent.left-=f.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=f.offset.parent.top-this.instance.offset.parent.top,f._trigger("toSortable",b),f.dropped=this.instance.element,f.currentItem=f.element,this.instance.fromOutside=f),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=
!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),f._trigger("fromSortable",b),f.dropped=!1)})}});a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),g=a(this).data("ui-draggable").options;b.css("cursor")&&(g._cursor=b.css("cursor"));b.css("cursor",g.cursor)},stop:function(){var b=
a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(b,g){var f=a(g.helper),e=a(this).data("ui-draggable").options;f.css("opacity")&&(e._opacity=f.css("opacity"));f.css("opacity",e.opacity)},stop:function(b,g){var f=a(this).data("ui-draggable").options;f._opacity&&a(g.helper).css("opacity",f._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==
document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var g=a(this).data("ui-draggable"),f=g.options,e=!1;g.scrollParent[0]!==document&&"HTML"!==g.scrollParent[0].tagName?(f.axis&&"x"===f.axis||(g.overflowOffset.top+g.scrollParent[0].offsetHeight-b.pageY<f.scrollSensitivity?g.scrollParent[0].scrollTop=e=g.scrollParent[0].scrollTop+f.scrollSpeed:b.pageY-g.overflowOffset.top<f.scrollSensitivity&&(g.scrollParent[0].scrollTop=e=g.scrollParent[0].scrollTop-
f.scrollSpeed)),f.axis&&"y"===f.axis||(g.overflowOffset.left+g.scrollParent[0].offsetWidth-b.pageX<f.scrollSensitivity?g.scrollParent[0].scrollLeft=e=g.scrollParent[0].scrollLeft+f.scrollSpeed:b.pageX-g.overflowOffset.left<f.scrollSensitivity&&(g.scrollParent[0].scrollLeft=e=g.scrollParent[0].scrollLeft-f.scrollSpeed))):(f.axis&&"x"===f.axis||(b.pageY-a(document).scrollTop()<f.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-f.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<
f.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+f.scrollSpeed))),f.axis&&"y"===f.axis||(b.pageX-a(document).scrollLeft()<f.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-f.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<f.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+f.scrollSpeed))));!1!==e&&a.ui.ddmanager&&!f.dropBehaviour&&a.ui.ddmanager.prepareOffsets(g,b)}});a.ui.plugin.add("draggable","snap",{start:function(){var b=
a(this).data("ui-draggable"),g=b.options;b.snapElements=[];a(g.snap.constructor!==String?g.snap.items||":data(ui-draggable)":g.snap).each(function(){var f=a(this),e=f.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:f.outerWidth(),height:f.outerHeight(),top:e.top,left:e.left})})},drag:function(b,g){var f,e,l,k,h,m,p,r,q,u,w=a(this).data("ui-draggable"),y=w.options,x=y.snapTolerance,z=g.offset.left,B=z+w.helperProportions.width,D=g.offset.top,t=D+w.helperProportions.height;for(q=
w.snapElements.length-1;0<=q;q--)h=w.snapElements[q].left,m=h+w.snapElements[q].width,p=w.snapElements[q].top,r=p+w.snapElements[q].height,h-x<z&&z<m+x&&p-x<D&&D<r+x||h-x<z&&z<m+x&&p-x<t&&t<r+x||h-x<B&&B<m+x&&p-x<D&&D<r+x||h-x<B&&B<m+x&&p-x<t&&t<r+x?("inner"!==y.snapMode&&(f=Math.abs(p-t)<=x,e=Math.abs(r-D)<=x,l=Math.abs(h-B)<=x,k=Math.abs(m-z)<=x,f&&(g.position.top=w._convertPositionTo("relative",{top:p-w.helperProportions.height,left:0}).top-w.margins.top),e&&(g.position.top=w._convertPositionTo("relative",
{top:r,left:0}).top-w.margins.top),l&&(g.position.left=w._convertPositionTo("relative",{top:0,left:h-w.helperProportions.width}).left-w.margins.left),k&&(g.position.left=w._convertPositionTo("relative",{top:0,left:m}).left-w.margins.left)),u=f||e||l||k,"outer"!==y.snapMode&&(f=Math.abs(p-D)<=x,e=Math.abs(r-t)<=x,l=Math.abs(h-z)<=x,k=Math.abs(m-B)<=x,f&&(g.position.top=w._convertPositionTo("relative",{top:p,left:0}).top-w.margins.top),e&&(g.position.top=w._convertPositionTo("relative",{top:r-w.helperProportions.height,
left:0}).top-w.margins.top),l&&(g.position.left=w._convertPositionTo("relative",{top:0,left:h}).left-w.margins.left),k&&(g.position.left=w._convertPositionTo("relative",{top:0,left:m-w.helperProportions.width}).left-w.margins.left)),!w.snapElements[q].snapping&&(f||e||l||k||u)&&w.options.snap.snap&&w.options.snap.snap.call(w.element,b,a.extend(w._uiHash(),{snapItem:w.snapElements[q].item})),w.snapElements[q].snapping=f||e||l||k||u):(w.snapElements[q].snapping&&w.options.snap.release&&w.options.snap.release.call(w.element,
b,a.extend(w._uiHash(),{snapItem:w.snapElements[q].item})),w.snapElements[q].snapping=!1)}});a.ui.plugin.add("draggable","stack",{start:function(){var b,g=this.data("ui-draggable").options,g=a.makeArray(a(g.stack)).sort(function(b,e){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(e).css("zIndex"),10)||0)});g.length&&(b=parseInt(a(g[0]).css("zIndex"),10)||0,a(g).each(function(f){a(this).css("zIndex",b+f)}),this.css("zIndex",b+g.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(b,
g){var f=a(g.helper),e=a(this).data("ui-draggable").options;f.css("zIndex")&&(e._zIndex=f.css("zIndex"));f.css("zIndex",e.zIndex)},stop:function(b,g){var f=a(this).data("ui-draggable").options;f._zIndex&&a(g.helper).css("zIndex",f._zIndex)}})})(jQuery);
(function(a,h){a.widget("ui.droppable",{version:"1.10.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b=this.options,g=b.accept;this.isover=!1;this.isout=!0;this.accept=a.isFunction(g)?g:function(a){return a.is(g)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[b.scope]=
a.ui.ddmanager.droppables[b.scope]||[];a.ui.ddmanager.droppables[b.scope].push(this);b.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var b=0,g=a.ui.ddmanager.droppables[this.options.scope];b<g.length;b++)g[b]===this&&g.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,g){"accept"===b&&(this.accept=a.isFunction(g)?g:function(a){return a.is(g)});a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var g=
a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);g&&this._trigger("activate",b,this.ui(g))},_deactivate:function(b){var g=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);g&&this._trigger("deactivate",b,this.ui(g))},_over:function(b){var g=a.ui.ddmanager.current;g&&(g.currentItem||g.element)[0]!==this.element[0]&&this.accept.call(this.element[0],g.currentItem||g.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),
this._trigger("over",b,this.ui(g)))},_out:function(b){var g=a.ui.ddmanager.current;g&&(g.currentItem||g.element)[0]!==this.element[0]&&this.accept.call(this.element[0],g.currentItem||g.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(g)))},_drop:function(b,g){var f=g||a.ui.ddmanager.current,e=!1;return f&&(f.currentItem||f.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=
a.data(this,"ui-droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope===f.options.scope&&b.accept.call(b.element[0],f.currentItem||f.element)&&a.ui.intersect(f,a.extend(b,{offset:b.element.offset()}),b.options.tolerance))return e=!0,!1}),e?!1:this.accept.call(this.element[0],f.currentItem||f.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(f)),
this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.ui.intersect=function(a,g,f){if(!g.offset)return!1;var e,l,k=(a.positionAbs||a.position.absolute).left,h=k+a.helperProportions.width,m=(a.positionAbs||a.position.absolute).top,p=m+a.helperProportions.height,r=g.offset.left,q=r+g.proportions.width,u=g.offset.top,w=u+g.proportions.height;switch(f){case "fit":return r<=k&&h<=q&&u<=m&&p<=w;case "intersect":return r<
k+a.helperProportions.width/2&&h-a.helperProportions.width/2<q&&u<m+a.helperProportions.height/2&&p-a.helperProportions.height/2<w;case "pointer":return e=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,l=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,l>u&&l<u+g.proportions.height&&e>r&&e<r+g.proportions.width;case "touch":return(m>=u&&m<=w||p>=u&&p<=w||m<u&&p>w)&&(k>=r&&k<=q||h>=r&&h<=q||k<r&&h>q);default:return!1}};a.ui.ddmanager={current:null,
droppables:{"default":[]},prepareOffsets:function(b,g){var f,e,l=a.ui.ddmanager.droppables[b.options.scope]||[],k=g?g.type:null,h=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();f=0;a:for(;f<l.length;f++)if(!(l[f].options.disabled||b&&!l[f].accept.call(l[f].element[0],b.currentItem||b.element))){for(e=0;e<h.length;e++)if(h[e]===l[f].element[0]){l[f].proportions.height=0;continue a}l[f].visible="none"!==l[f].element.css("display");l[f].visible&&("mousedown"===k&&l[f]._activate.call(l[f],
g),l[f].offset=l[f].element.offset(),l[f].proportions={width:l[f].element[0].offsetWidth,height:l[f].element[0].offsetHeight})}},drop:function(b,g){var f=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(f=this._drop.call(this,g)||f),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,
g)))}),f},dragStart:function(b,g){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,g)})},drag:function(b,g){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,g);a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var f,e,l,k=a.ui.intersect(b,this,this.options.tolerance);if(k=!k&&this.isover?"isout":k&&!this.isover?"isover":null)this.options.greedy&&
(e=this.options.scope,l=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===e}),l.length&&(f=a.data(l[0],"ui-droppable"),f.greedyChild="isover"===k)),f&&"isover"===k&&(f.isover=!1,f.isout=!0,f._out.call(f,g)),this[k]=!0,this["isout"===k?"isover":"isout"]=!1,this["isover"===k?"_over":"_out"].call(this,g),f&&"isout"===k&&(f.isout=!1,f.isover=!0,f._over.call(f,g))}})},dragStop:function(b,g){b.element.parentsUntil("body").unbind("scroll.droppable");
b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,g)}}})(jQuery);
jQuery.effects||function(a,h){a.effects={effect:{}};(function(a,g){function f(a,b,e){var f=r[b.type]||{};return null==a?e||!b.def?null:b.def:(a=f.floor?~~a:parseFloat(a),isNaN(a)?b.def:f.mod?(a+f.mod)%f.mod:0>a?0:f.max<a?f.max:a)}function e(e){var f=m(),g=f._rgba=[];return e=e.toLowerCase(),y(h,function(a,b){var k,l=b.re.exec(e),l=l&&b.parse(l),h=b.space||"rgba";if(l)return k=f[h](l),f[p[h].cache]=k[p[h].cache],g=f._rgba=k._rgba,!1}),g.length?("0,0,0,0"===g.join()&&a.extend(g,w.transparent),f):w[e]}
function l(a,b,e){return e=(e+1)%1,1>6*e?a+(b-a)*e*6:1>2*e?b:2>3*e?a+(b-a)*(2/3-e)*6:a}var k=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],
16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],m=a.Color=function(e,f,g,k){return new a.Color.fn.parse(e,f,g,k)},p={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,
type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},r={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},q=m.support={},u=a("<p>")[0],w,y=a.each;u.style.cssText="background-color:rgba(1,1,1,.5)";q.rgba=-1<u.style.backgroundColor.indexOf("rgba");y(p,function(a,b){b.cache="_"+a;b.props.alpha={idx:3,type:"percent",def:1}});m.fn=a.extend(m.prototype,{parse:function(k,l,h,n){if(k===g)return this._rgba=[null,null,
null,null],this;if(k.jquery||k.nodeType)k=a(k).css(l),l=g;var q=this,r=a.type(k),u=this._rgba=[];l!==g&&(k=[k,l,h,n],r="array");if("string"===r)return this.parse(e(k)||w._default);if("array"===r)return y(p.rgba.props,function(a,b){u[b.idx]=f(k[b.idx],b)}),this;if("object"===r)return k instanceof m?y(p,function(a,b){k[b.cache]&&(q[b.cache]=k[b.cache].slice())}):y(p,function(e,g){var l=g.cache;y(g.props,function(a,b){if(!q[l]&&g.to){if("alpha"===a||null==k[a])return;q[l]=g.to(q._rgba)}q[l][b.idx]=f(k[a],
b,!0)});q[l]&&0>a.inArray(null,q[l].slice(0,3))&&(q[l][3]=1,g.from&&(q._rgba=g.from(q[l])))}),this},is:function(a){var b=m(a),e=!0,f=this;return y(p,function(a,g){var k,l=b[g.cache];return l&&(k=f[g.cache]||g.to&&g.to(f._rgba)||[],y(g.props,function(a,b){if(null!=l[b.idx])return e=l[b.idx]===k[b.idx],e})),e}),e},_space:function(){var a=[],b=this;return y(p,function(e,f){b[f.cache]&&a.push(e)}),a.pop()},transition:function(a,b){var e=m(a),g=e._space(),k=p[g],l=0===this.alpha()?m("transparent"):this,
h=l[k.cache]||k.to(l._rgba),n=h.slice();return e=e[k.cache],y(k.props,function(a,g){var k=g.idx,l=h[k],m=e[k],q=r[g.type]||{};null!==m&&(null===l?n[k]=m:(q.mod&&(m-l>q.mod/2?l+=q.mod:l-m>q.mod/2&&(l-=q.mod)),n[k]=f((m-l)*b+l,g)))}),this[g](n)},blend:function(e){if(1===this._rgba[3])return this;var f=this._rgba.slice(),g=f.pop(),k=m(e)._rgba;return m(a.map(f,function(a,b){return(1-g)*k[b]+g*a}))},toRgbaString:function(){var e="rgba(",f=a.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});return 1===
f[3]&&(f.pop(),e="rgb("),e+f.join()+")"},toHslaString:function(){var e="hsla(",f=a.map(this.hsla(),function(a,b){return null==a&&(a=2<b?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===f[3]&&(f.pop(),e="hsl("),e+f.join()+")"},toHexString:function(e){var f=this._rgba.slice(),g=f.pop();return e&&f.push(~~(255*g)),"#"+a.map(f,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});m.fn.parse.prototype=
m.fn;p.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/255,e=a[1]/255,f=a[2]/255;a=a[3];var g=Math.max(b,e,f),k=Math.min(b,e,f),l=g-k,h=g+k,m=.5*h,n,q;return k===g?n=0:b===g?n=60*(e-f)/l+360:e===g?n=60*(f-b)/l+120:n=60*(b-e)/l+240,0===l?q=0:.5>=m?q=l/h:q=l/(2-h),[Math.round(n)%360,q,m,null==a?1:a]};p.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,e=a[1],f=a[2];a=a[3];e=.5>=f?f*(1+e):f+e-f*e;f=
2*f-e;return[Math.round(255*l(f,e,b+1/3)),Math.round(255*l(f,e,b)),Math.round(255*l(f,e,b-1/3)),a]};y(p,function(e,l){var h=l.props,n=l.cache,q=l.to,p=l.from;m.fn[e]=function(e){q&&!this[n]&&(this[n]=q(this._rgba));if(e===g)return this[n].slice();var k,l=a.type(e),r="array"===l||"object"===l?e:arguments,w=this[n].slice();return y(h,function(a,b){var e=r["object"===l?a:b.idx];null==e&&(e=w[b.idx]);w[b.idx]=f(e,b)}),p?(k=m(p(w)),k[n]=w,k):m(w)};y(h,function(f,g){m.fn[f]||(m.fn[f]=function(l){var h=
a.type(l),m="alpha"===f?this._hsla?"hsla":"rgba":e,n=this[m](),q=n[g.idx],t;return"undefined"===h?q:("function"===h&&(l=l.call(this,q),h=a.type(l)),null==l&&g.empty?this:("string"===h&&(t=k.exec(l),t&&(l=q+parseFloat(t[2])*("+"===t[1]?1:-1))),n[g.idx]=l,this[m](n)))})})});m.hook=function(f){f=f.split(" ");y(f,function(f,g){a.cssHooks[g]={set:function(f,k){var l,h="";if("transparent"!==k&&("string"!==a.type(k)||(l=e(k)))){k=m(l||k);if(!q.rgba&&1!==k._rgba[3]){for(l="backgroundColor"===g?f.parentNode:
f;(""===h||"transparent"===h)&&l&&l.style;)try{h=a.css(l,"backgroundColor"),l=l.parentNode}catch(n){}k=k.blend(h&&"transparent"!==h?h:"_default")}k=k.toRgbaString()}try{f.style[g]=k}catch(p){}}};a.fx.step[g]=function(e){e.colorInit||(e.start=m(e.elem,g),e.end=m(e.end),e.colorInit=!0);a.cssHooks[g].set(e.elem,e.start.transition(e.end,e.pos))}})};m.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");
a.cssHooks.borderColor={expand:function(a){var b={};return y(["Top","Right","Bottom","Left"],function(e,f){b["border"+f+"Color"]=a}),b}};w=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){function b(b){var f,
g=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,h={};if(g&&g.length&&g[0]&&g[g[0]])for(b=g.length;b--;)f=g[b],"string"==typeof g[f]&&(h[a.camelCase(f)]=g[f]);else for(f in g)"string"==typeof g[f]&&(h[f]=g[f]);return h}var g=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,
f){a.fx.step[f]=function(a){if("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)jQuery.style(a.elem,f,a.end),a.setAttr=!0}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a.effects.animateClass=function(e,l,k,h){var m=a.speed(l,k,h);return this.queue(function(){var k=a(this),l=k.attr("class")||"",h,n=m.children?k.find("*").addBack():k,n=n.map(function(){return{el:a(this),start:b(this)}});h=function(){a.each(g,function(a,b){e[b]&&k[b+
"Class"](e[b])})};h();n=n.map(function(){this.end=b(this.el[0]);var e=this.start,g=this.end,k={},l,h;for(l in g)h=g[l],e[l]===h||f[l]||!a.fx.step[l]&&isNaN(parseFloat(h))||(k[l]=h);return this.diff=k,this});k.attr("class",l);n=n.map(function(){var b=this,e=a.Deferred(),f=a.extend({},m,{queue:!1,complete:function(){e.resolve(b)}});return this.el.animate(this.diff,f),e.promise()});a.when.apply(a,n.get()).done(function(){h();a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,
"")})});m.complete.call(k[0])})})};a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,f,g,h){return f?a.effects.animateClass.call(this,{add:b},f,g,h):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,f,g,h){return 1<arguments.length?a.effects.animateClass.call(this,{remove:b},f,g,h):this._removeClass.apply(this,arguments)},_toggleClass:a.fn.toggleClass,toggleClass:function(b,f,g,n,m){return"boolean"==typeof f||f===h?g?a.effects.animateClass.call(this,f?{add:b}:{remove:b},
g,n,m):this._toggleClass(b,f):a.effects.animateClass.call(this,{toggle:b},f,g,n)},switchClass:function(b,f,g,h,m){return a.effects.animateClass.call(this,{add:f,remove:b},g,h,m)}})})();(function(){function b(b,e,g,k){a.isPlainObject(b)&&(e=b,b=b.effect);b={effect:b};null==e&&(e={});a.isFunction(e)&&(k=e,g=null,e={});if("number"==typeof e||a.fx.speeds[e])k=g,g=e,e={};return a.isFunction(g)&&(k=g,g=null),e&&a.extend(b,e),g=g||e.duration,b.duration=a.fx.off?0:"number"==typeof g?g:g in a.fx.speeds?a.fx.speeds[g]:
a.fx.speeds._default,b.complete=k||e.complete,b}function g(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"==typeof b&&!a.effects.effect[b]}a.extend(a.effects,{version:"1.10.1",save:function(a,b){for(var g=0;g<b.length;g++)null!==b[g]&&a.data("ui-effects-"+b[g],a[0].style[b[g]])},restore:function(a,b){var g,k;for(k=0;k<b.length;k++)null!==b[k]&&(g=a.data("ui-effects-"+b[k]),g===h&&(g=""),a.css(b[k],g))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,
b){var g,k;switch(a[0]){case "top":g=0;break;case "middle":g=.5;break;case "bottom":g=1;break;default:g=a[0]/b.height}switch(a[1]){case "left":k=0;break;case "center":k=.5;break;case "right":k=1;break;default:k=a[1]/b.width}return{x:k,y:g}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var e={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},g=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",
margin:0,padding:0}),k={width:b.width(),height:b.height()},h=document.activeElement;try{h.id}catch(m){h=document.body}return b.wrap(g),(b[0]===h||a.contains(b[0],h))&&a(h).focus(),g=b.parent(),"static"===b.css("position")?(g.css({position:"relative"}),b.css({position:"relative"})):(a.extend(e,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,g){e[g]=b.css(g);isNaN(parseInt(e[g],10))&&(e[g]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",
bottom:"auto"})),b.css(k),g.css(e).show()},removeWrapper:function(b){var e=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===e||a.contains(b[0],e))&&a(e).focus()),b},setTransition:function(b,e,g,k){return k=k||{},a.each(e,function(a,e){var h=b.cssUnit(e);0<h[0]&&(k[e]=h[0]*g+h[1])}),k}});a.fn.extend({effect:function(){function f(b){function f(){a.isFunction(k)&&k.call(g[0]);a.isFunction(b)&&b()}var g=a(this),k=e.complete,l=e.mode;(g.is(":hidden")?
"hide"===l:"show"===l)?f():h.call(g[0],e,f)}var e=b.apply(this,arguments),g=e.mode,k=e.queue,h=a.effects.effect[e.effect];return a.fx.off||!h?g?this[g](e.duration,e.complete):this.each(function(){e.complete&&e.complete.call(this)}):!1===k?this.each(f):this.queue(k||"fx",f)},_show:a.fn.show,show:function(a){if(g(a))return this._show.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="show",this.effect.call(this,e)},_hide:a.fn.hide,hide:function(a){if(g(a))return this._hide.apply(this,
arguments);var e=b.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)},__toggle:a.fn.toggle,toggle:function(f){if(g(f)||"boolean"==typeof f||a.isFunction(f))return this.__toggle.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)},cssUnit:function(b){var e=this.css(b),g=[];return a.each(["em","px","%","pt"],function(a,b){0<e.indexOf(b)&&(g=[parseFloat(e),b])}),g}})})();(function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],
function(a,f){b[f]=function(b){return Math.pow(b,a+2)}});a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,e=4;a<((b=Math.pow(2,--e))-1)/11;);return 1/Math.pow(4,3-e)-7.5625*Math.pow((3*b-2)/22-a,2)}});a.each(b,function(b,f){a.easing["easeIn"+b]=f;a.easing["easeOut"+b]=function(a){return 1-
f(1-a)};a.easing["easeInOut"+b]=function(a){return.5>a?f(2*a)/2:1-f(-2*a+2)/2}})})()}(jQuery);
(function(a,h){var b=/up|down|vertical/,g=/up|left|vertical|horizontal/;a.effects.effect.blind=function(f,e){var l=a(this),k="position top bottom left right height width".split(" "),h=a.effects.setMode(l,f.mode||"hide"),m=f.direction||"up",p=b.test(m),r=p?"height":"width",q=p?"top":"left",m=g.test(m),u={},w="show"===h,y,x,z;l.parent().is(".ui-effects-wrapper")?a.effects.save(l.parent(),k):a.effects.save(l,k);l.show();y=a.effects.createWrapper(l).css({overflow:"hidden"});x=y[r]();z=parseFloat(y.css(q))||
0;u[r]=w?x:0;m||(l.css(p?"bottom":"right",0).css(p?"top":"left","auto").css({position:"absolute"}),u[q]=w?z:x+z);w&&(y.css(r,0),m||y.css(q,z+x));y.animate(u,{duration:f.duration,easing:f.easing,queue:!1,complete:function(){"hide"===h&&l.hide();a.effects.restore(l,k);a.effects.removeWrapper(l);e()}})}})(jQuery);
(function(a,h){a.effects.effect.bounce=function(b,g){var f=a(this),e="position top bottom left right height width".split(" "),l=a.effects.setMode(f,b.mode||"effect"),k="hide"===l,h="show"===l,m=b.direction||"up",l=b.distance,p=b.times||5,r=2*p+(h||k?1:0),q=b.duration/r,u=b.easing,w="up"===m||"down"===m?"top":"left",m="up"===m||"left"===m,y,x,z=f.queue(),B=z.length;(h||k)&&e.push("opacity");a.effects.save(f,e);f.show();a.effects.createWrapper(f);l||(l=f["top"===w?"outerHeight":"outerWidth"]()/3);h&&
(x={opacity:1},x[w]=0,f.css("opacity",0).css(w,m?2*-l:2*l).animate(x,q,u));k&&(l/=Math.pow(2,p-1));x={};for(h=x[w]=0;h<p;h++)y={},y[w]=(m?"-=":"+=")+l,f.animate(y,q,u).animate(x,q,u),l=k?2*l:l/2;k&&(y={opacity:0},y[w]=(m?"-=":"+=")+l,f.animate(y,q,u));f.queue(function(){k&&f.hide();a.effects.restore(f,e);a.effects.removeWrapper(f);g()});1<B&&z.splice.apply(z,[1,0].concat(z.splice(B,r+1)));f.dequeue()}})(jQuery);
(function(a,h){a.effects.effect.clip=function(b,g){var f=a(this),e="position top bottom left right height width".split(" "),l="show"===a.effects.setMode(f,b.mode||"hide"),k="vertical"===(b.direction||"vertical"),h=k?"height":"width",k=k?"top":"left",m={},p,r;a.effects.save(f,e);f.show();p=a.effects.createWrapper(f).css({overflow:"hidden"});p="IMG"===f[0].tagName?p:f;r=p[h]();l&&(p.css(h,0),p.css(k,r/2));m[h]=l?r:0;m[k]=l?0:r/2;p.animate(m,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){l||
f.hide();a.effects.restore(f,e);a.effects.removeWrapper(f);g()}})}})(jQuery);
(function(a,h){a.effects.effect.drop=function(b,g){var f=a(this),e="position top bottom left right opacity height width".split(" "),l=a.effects.setMode(f,b.mode||"hide"),k="show"===l,h=b.direction||"left",m="up"===h||"down"===h?"top":"left",h="up"===h||"left"===h?"pos":"neg",p={opacity:k?1:0},r;a.effects.save(f,e);f.show();a.effects.createWrapper(f);r=b.distance||f["top"===m?"outerHeight":"outerWidth"](!0)/2;k&&f.css("opacity",0).css(m,"pos"===h?-r:r);p[m]=(k?"pos"===h?"+=":"-=":"pos"===h?"-=":"+=")+
r;f.animate(p,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===l&&f.hide();a.effects.restore(f,e);a.effects.removeWrapper(f);g()}})}})(jQuery);
(function(a,h){a.effects.effect.explode=function(b,g){function f(){q.push(this);q.length===e*l&&(k.css({visibility:"visible"}),a(q).remove(),h||k.hide(),g())}var e=b.pieces?Math.round(Math.sqrt(b.pieces)):3,l=e,k=a(this),h="show"===a.effects.setMode(k,b.mode||"hide"),m=k.show().css("visibility","hidden").offset(),p=Math.ceil(k.outerWidth()/l),r=Math.ceil(k.outerHeight()/e),q=[],u,w,y,x,z,B;for(u=0;u<e;u++)for(x=m.top+u*r,B=u-(e-1)/2,w=0;w<l;w++)y=m.left+w*p,z=w-(l-1)/2,k.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",
visibility:"visible",left:-w*p,top:-u*r}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:r,left:y+(h?z*p:0),top:x+(h?B*r:0),opacity:h?0:1}).animate({left:y+(h?0:z*p),top:x+(h?0:B*r),opacity:h?1:0},b.duration||500,b.easing,f)}})(jQuery);(function(a,h){a.effects.effect.fade=function(b,g){var f=a(this),e=a.effects.setMode(f,b.mode||"toggle");f.animate({opacity:e},{queue:!1,duration:b.duration,easing:b.easing,complete:g})}})(jQuery);
(function(a,h){a.effects.effect.fold=function(b,g){var f=a(this),e="position top bottom left right height width".split(" "),l=a.effects.setMode(f,b.mode||"hide"),k="show"===l,h="hide"===l,l=b.size||15,m=/([0-9]+)%/.exec(l),p=!!b.horizFirst,r=k!==p,q=r?["width","height"]:["height","width"],u=b.duration/2,w,y={},x={};a.effects.save(f,e);f.show();w=a.effects.createWrapper(f).css({overflow:"hidden"});r=r?[w.width(),w.height()]:[w.height(),w.width()];m&&(l=parseInt(m[1],10)/100*r[h?0:1]);k&&w.css(p?{height:0,
width:l}:{height:l,width:0});y[q[0]]=k?r[0]:l;x[q[1]]=k?r[1]:0;w.animate(y,u,b.easing).animate(x,u,b.easing,function(){h&&f.hide();a.effects.restore(f,e);a.effects.removeWrapper(f);g()})}})(jQuery);
(function(a,h){a.effects.effect.highlight=function(b,g){var f=a(this),e=["backgroundImage","backgroundColor","opacity"],l=a.effects.setMode(f,b.mode||"show"),k={backgroundColor:f.css("backgroundColor")};"hide"===l&&(k.opacity=0);a.effects.save(f,e);f.show().css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(k,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===l&&f.hide();a.effects.restore(f,e);g()}})}})(jQuery);
(function(a,h){a.effects.effect.pulsate=function(b,g){var f=a(this),e=a.effects.setMode(f,b.mode||"show"),l="show"===e,k="hide"===e,e=2*(b.times||5)+(l||"hide"===e?1:0),h=b.duration/e,m=0,p=f.queue(),r=p.length;if(l||!f.is(":visible"))f.css("opacity",0).show(),m=1;for(l=1;l<e;l++)f.animate({opacity:m},h,b.easing),m=1-m;f.animate({opacity:m},h,b.easing);f.queue(function(){k&&f.hide();g()});1<r&&p.splice.apply(p,[1,0].concat(p.splice(r,e+1)));f.dequeue()}})(jQuery);
(function(a,h){a.effects.effect.puff=function(b,g){var f=a(this),e=a.effects.setMode(f,b.mode||"hide"),l="hide"===e,k=parseInt(b.percent,10)||150,h=k/100,m={height:f.height(),width:f.width(),outerHeight:f.outerHeight(),outerWidth:f.outerWidth()};a.extend(b,{effect:"scale",queue:!1,fade:!0,mode:e,complete:g,percent:l?k:100,from:l?m:{height:m.height*h,width:m.width*h,outerHeight:m.outerHeight*h,outerWidth:m.outerWidth*h}});f.effect(b)};a.effects.effect.scale=function(b,g){var f=a(this),e=a.extend(!0,
{},b),l=a.effects.setMode(f,b.mode||"effect"),k=parseInt(b.percent,10)||(0===parseInt(b.percent,10)?0:"hide"===l?0:100),h=b.direction||"both",m=b.origin,p={height:f.height(),width:f.width(),outerHeight:f.outerHeight(),outerWidth:f.outerWidth()},r="horizontal"!==h?k/100:1,k="vertical"!==h?k/100:1;e.effect="size";e.queue=!1;e.complete=g;"effect"!==l&&(e.origin=m||["middle","center"],e.restore=!0);e.from=b.from||("show"===l?{height:0,width:0,outerHeight:0,outerWidth:0}:p);e.to={height:p.height*r,width:p.width*
k,outerHeight:p.outerHeight*r,outerWidth:p.outerWidth*k};e.fade&&("show"===l&&(e.from.opacity=0,e.to.opacity=1),"hide"===l&&(e.from.opacity=1,e.to.opacity=0));f.effect(e)};a.effects.effect.size=function(b,g){var f,e,l,k,h,m,p=a(this),r="position top bottom left right width height overflow opacity".split(" ");h="position top bottom left right overflow opacity".split(" ");var q=["width","height","overflow"],u=["fontSize"],w=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],y=["borderLeftWidth",
"borderRightWidth","paddingLeft","paddingRight"],x=a.effects.setMode(p,b.mode||"effect"),z=b.restore||"effect"!==x,B=b.scale||"both",D=b.origin||["middle","center"],t=p.css("position"),A=z?r:h,F={height:0,width:0,outerHeight:0,outerWidth:0};"show"===x&&p.show();h={height:p.height(),width:p.width(),outerHeight:p.outerHeight(),outerWidth:p.outerWidth()};"toggle"===b.mode&&"show"===x?(p.from=b.to||F,p.to=b.from||h):(p.from=b.from||("show"===x?F:h),p.to=b.to||("hide"===x?F:h));l=p.from.height/h.height;
k=p.from.width/h.width;f=p.to.height/h.height;e=p.to.width/h.width;if("box"===B||"both"===B)l!==f&&(A=A.concat(w),p.from=a.effects.setTransition(p,w,l,p.from),p.to=a.effects.setTransition(p,w,f,p.to)),k!==e&&(A=A.concat(y),p.from=a.effects.setTransition(p,y,k,p.from),p.to=a.effects.setTransition(p,y,e,p.to));("content"===B||"both"===B)&&l!==f&&(A=A.concat(u).concat(q),p.from=a.effects.setTransition(p,u,l,p.from),p.to=a.effects.setTransition(p,u,f,p.to));a.effects.save(p,A);p.show();a.effects.createWrapper(p);
p.css("overflow","hidden").css(p.from);D&&(m=a.effects.getBaseline(D,h),p.from.top=(h.outerHeight-p.outerHeight())*m.y,p.from.left=(h.outerWidth-p.outerWidth())*m.x,p.to.top=(h.outerHeight-p.to.outerHeight)*m.y,p.to.left=(h.outerWidth-p.to.outerWidth)*m.x);p.css(p.from);if("content"===B||"both"===B)w=w.concat(["marginTop","marginBottom"]).concat(u),y=y.concat(["marginLeft","marginRight"]),q=r.concat(w).concat(y),p.find("*[width]").each(function(){var g=a(this),h=g.height(),m=g.width(),n=g.outerHeight(),
t=g.outerWidth();z&&a.effects.save(g,q);g.from={height:h*l,width:m*k,outerHeight:n*l,outerWidth:t*k};g.to={height:h*f,width:m*e,outerHeight:h*f,outerWidth:m*e};l!==f&&(g.from=a.effects.setTransition(g,w,l,g.from),g.to=a.effects.setTransition(g,w,f,g.to));k!==e&&(g.from=a.effects.setTransition(g,y,k,g.from),g.to=a.effects.setTransition(g,y,e,g.to));g.css(g.from);g.animate(g.to,b.duration,b.easing,function(){z&&a.effects.restore(g,q)})});p.animate(p.to,{queue:!1,duration:b.duration,easing:b.easing,
complete:function(){0===p.to.opacity&&p.css("opacity",p.from.opacity);"hide"===x&&p.hide();a.effects.restore(p,A);z||("static"===t?p.css({position:"relative",top:p.to.top,left:p.to.left}):a.each(["top","left"],function(a,b){p.css(b,function(b,e){var f=parseInt(e,10),g=a?p.to.left:p.to.top;return"auto"===e?g+"px":f+g+"px"})}));a.effects.removeWrapper(p);g()}})}})(jQuery);
(function(a,h){a.effects.effect.shake=function(b,g){var f=a(this),e="position top bottom left right height width".split(" "),l=a.effects.setMode(f,b.mode||"effect"),k=b.direction||"left",h=b.distance||20,m=b.times||3,p=2*m+1,r=Math.round(b.duration/p),q="up"===k||"down"===k?"top":"left",u="up"===k||"left"===k,k={},w={},y={},x=f.queue(),z=x.length;a.effects.save(f,e);f.show();a.effects.createWrapper(f);k[q]=(u?"-=":"+=")+h;w[q]=(u?"+=":"-=")+2*h;y[q]=(u?"-=":"+=")+2*h;f.animate(k,r,b.easing);for(h=
1;h<m;h++)f.animate(w,r,b.easing).animate(y,r,b.easing);f.animate(w,r,b.easing).animate(k,r/2,b.easing).queue(function(){"hide"===l&&f.hide();a.effects.restore(f,e);a.effects.removeWrapper(f);g()});1<z&&x.splice.apply(x,[1,0].concat(x.splice(z,p+1)));f.dequeue()}})(jQuery);
(function(a,h){a.effects.effect.slide=function(b,g){var f=a(this),e="position top bottom left right width height".split(" "),l=a.effects.setMode(f,b.mode||"show"),k="show"===l,h=b.direction||"left",m="up"===h||"down"===h?"top":"left",h="up"===h||"left"===h,p,r={};a.effects.save(f,e);f.show();p=b.distance||f["top"===m?"outerHeight":"outerWidth"](!0);a.effects.createWrapper(f).css({overflow:"hidden"});k&&f.css(m,h?isNaN(p)?"-"+p:-p:p);r[m]=(k?h?"+=":"-=":h?"-=":"+=")+p;f.animate(r,{queue:!1,duration:b.duration,
easing:b.easing,complete:function(){"hide"===l&&f.hide();a.effects.restore(f,e);a.effects.removeWrapper(f);g()}})}})(jQuery);
(function(a,h){a.effects.effect.transfer=function(b,g){var f=a(this),e=a(b.to),l="fixed"===e.css("position"),k=a("body"),h=l?k.scrollTop():0,k=l?k.scrollLeft():0,m=e.offset(),e={top:m.top-h,left:m.left-k,height:e.innerHeight(),width:e.innerWidth()},m=f.offset(),p=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(b.className).css({top:m.top-h,left:m.left-k,height:f.innerHeight(),width:f.innerWidth(),position:l?"fixed":"absolute"}).animate(e,b.duration,b.easing,function(){p.remove();
g()})}})(jQuery);
(function(a,h){a.widget("ui.menu",{version:"1.10.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,
a.proxy(function(a){this.options.disabled&&a.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(b){var g=a(b.target).closest(".ui-menu-item");!this.mouseHandled&&g.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(b),g.has(".ui-menu").length?
this.expand(b):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){var g=a(b.currentTarget);g.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(b,g)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,g){var f=this.active||this.element.children(".ui-menu-item").eq(0);g||this.focus(a,f)},blur:function(b){this._delay(function(){a.contains(this.element[0],
this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){function g(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var f,e,h,k,n=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);
break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:n=!1,f=this.previousFilter||"",e=String.fromCharCode(b.keyCode),h=!1,clearTimeout(this.filterTimer),e===f?h=!0:e=f+e,k=new RegExp("^"+g(e),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return k.test(a(this).children("a").text())}),f=h&&-1!==f.index(this.active.next())?this.active.nextAll(".ui-menu-item"):f,f.length||(e=String.fromCharCode(b.keyCode),k=new RegExp("^"+g(e),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return k.test(a(this).children("a").text())})),
f.length?(this.focus(b,f),1<f.length?(this.previousFilter=e,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}n&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var b,g=this.options.icons.submenu;b=this.element.find(this.options.menus);b.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,
"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),e=b.prev("a"),h=a("<span>").addClass("ui-menu-icon ui-icon "+g).data("ui-menu-submenu-carat",!0);e.attr("aria-haspopup","true").prepend(h);b.attr("aria-labelledby",e.attr("id"))});b=b.add(this.element);b.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});b.children(":not(.ui-menu-item)").each(function(){var b=
a(this);/[^\-\u2014\u2013\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")});b.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,g){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(g.submenu);this._super(a,g)},focus:function(a,g){var f;this.blur(a,a&&
"focus"===a.type);this._scrollIntoView(g);this.active=g.first();f=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",f.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);f=g.children(".ui-menu");f.length&&/^mouse/.test(a.type)&&this._startOpening(f);this.activeMenu=g.parent();this._trigger("focus",
a,{item:g})},_scrollIntoView:function(b){var g,f,e,h,k,n;this._hasScroll()&&(g=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,f=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-g-f,h=this.activeMenu.scrollTop(),k=this.activeMenu.height(),n=b.height(),0>e?this.activeMenu.scrollTop(h+e):e+n>k&&this.activeMenu.scrollTop(h+e-k+n))},blur:function(a,g){g||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),
this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(b){var g=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true");b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(g)},collapseAll:function(b,
g){clearTimeout(this.timer);this.timer=this._delay(function(){var f=g?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));f.length||(f=this.element);this._close(f);this.blur(b);this.activeMenu=f},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var g=this.active&&this.active.parent().closest(".ui-menu-item",
this.element);g&&g.length&&(this._close(),this.focus(a,g))},expand:function(a){var g=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();g&&g.length&&(this._open(g.parent()),this._delay(function(){this.focus(a,g)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},
_move:function(a,g,f){var e;this.active&&("first"===a||"last"===a?e=this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):e=this.active[a+"All"](".ui-menu-item").eq(0));e&&e.length&&this.active||(e=this.activeMenu.children(".ui-menu-item")[g]());this.focus(f,e)},nextPage:function(b){var g,f,e;this.active?this.isLastItem()||(this._hasScroll()?(f=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return g=a(this),0>g.offset().top-f-e}),
this.focus(b,g)):this.focus(b,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(b)},previousPage:function(b){var g,f,e;this.active?this.isFirstItem()||(this._hasScroll()?(f=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return g=a(this),0<g.offset().top-f+e}),this.focus(b,g)):this.focus(b,this.activeMenu.children(".ui-menu-item").first())):this.next(b)},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var g={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0);this._trigger("select",b,g)}})})(jQuery);
(function(a,h){a.widget("ui.progressbar",{version:"1.10.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove()},value:function(a){if(a===h)return this.options.value;this.options.value=this._constrainedValue(a);this._refreshValue()},_constrainedValue:function(a){return a===h&&(a=this.options.value),this.indeterminate=!1===a,"number"!=typeof a&&(a=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var g=a.value;delete a.value;this._super(a);this.options.value=this._constrainedValue(g);this._refreshValue()},_setOption:function(a,g){"max"===
a&&(g=Math.max(this.min,g));this._super(a,g)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var b=this.options.value,g=this._percentage();this.valueDiv.toggle(this.indeterminate||b>this.min).toggleClass("ui-corner-right",b===this.options.max).width(g.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||
(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":b}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==b&&(this.oldValue=b,this._trigger("change"));b===this.options.max&&this._trigger("complete")}})})(jQuery);
(function(a,h){function b(a){return parseInt(a,10)||0}function g(a){return!isNaN(parseInt(a,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var b,e,g,k,h,m=this,p=this.options;this.element.addClass("ui-resizable");
a.extend(this,{_aspectRatio:!!p.aspectRatio,aspectRatio:p.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:p.helper||p.ghost||p.animate?p.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=p.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");
if(this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),this.handles={},e=0;e<b.length;e++)g=a.trim(b[e]),h="ui-resizable-"+g,k=a("<div class='ui-resizable-handle "+h+"'></div>"),k.css({zIndex:p.zIndex}),"se"===g&&k.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[g]=".ui-resizable-"+g,this.element.append(k);this._renderAxis=function(b){var e,f,g,k;b=b||this.element;for(e in this.handles)this.handles[e].constructor===
String&&(this.handles[e]=a(this.handles[e],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(f=a(this.handles[e],this.element),k=/sw|ne|nw|se|n|s/.test(e)?f.outerHeight():f.outerWidth(),g=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),b.css(g,k),this._proportionallyResize()),a(this.handles[e])};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){m.resizing||(this.className&&(k=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),m.axis=k&&k[1]?k[1]:"se")});p.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){p.disabled||(a(this).removeClass("ui-resizable-autohide"),m._handles.show())}).mouseleave(function(){p.disabled||m.resizing||(a(this).addClass("ui-resizable-autohide"),m._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var b,e=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(e(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),
this},_mouseCapture:function(b){var e,g,k=!1;for(e in this.handles)if(g=a(this.handles[e])[0],g===b.target||a.contains(g,b.target))k=!0;return!this.options.disabled&&k},_mouseStart:function(f){var e,g,k,h=this.options,m=this.element.position(),p=this.element;return this.resizing=!0,/absolute/.test(p.css("position"))?p.css({position:"absolute",top:p.css("top"),left:p.css("left")}):p.is(".ui-draggable")&&p.css({position:"absolute",top:m.top,left:m.left}),this._renderProxy(),e=b(this.helper.css("left")),
g=b(this.helper.css("top")),h.containment&&(e+=a(h.containment).scrollLeft()||0,g+=a(h.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:g},this.size=this._helper?{width:p.outerWidth(),height:p.outerHeight()}:{width:p.width(),height:p.height()},this.originalSize=this._helper?{width:p.outerWidth(),height:p.outerHeight()}:{width:p.width(),height:p.height()},this.originalPosition={left:e,top:g},this.sizeDiff={width:p.outerWidth()-p.width(),height:p.outerHeight()-
p.height()},this.originalMousePosition={left:f.pageX,top:f.pageY},this.aspectRatio="number"==typeof h.aspectRatio?h.aspectRatio:this.originalSize.width/this.originalSize.height||1,k=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===k?this.axis+"-resize":k),p.addClass("ui-resizable-resizing"),this._propagate("start",f),!0},_mouseDrag:function(b){var e,g=this.helper,k={};e=this.originalMousePosition;var h=this.position.top,m=this.position.left,p=this.size.width,r=this.size.height,
q=this._change[this.axis];if(!q)return!1;e=q.apply(this,[b,b.pageX-e.left||0,b.pageY-e.top||0]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)e=this._updateRatio(e,b);return e=this._respectSize(e,b),this._updateCache(e),this._propagate("resize",b),this.position.top!==h&&(k.top=this.position.top+"px"),this.position.left!==m&&(k.left=this.position.left+"px"),this.size.width!==p&&(k.width=this.size.width+"px"),this.size.height!==r&&(k.height=this.size.height+"px"),g.css(k),
!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(k)||this._trigger("resize",b,this.ui()),!1},_mouseStop:function(b){this.resizing=!1;var e,g,k,h,m,p,r,q=this.options;return this._helper&&(e=this._proportionallyResizeElements,g=e.length&&/textarea/i.test(e[0].nodeName),k=g&&a.ui.hasScroll(e[0],"left")?0:this.sizeDiff.height,h=g?0:this.sizeDiff.width,m={width:this.helper.width()-h,height:this.helper.height()-k},p=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,r=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,q.animate||this.element.css(a.extend(m,{top:r,left:p})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!q.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b,
h,k,n;n=this.options;n={minWidth:g(n.minWidth)?n.minWidth:0,maxWidth:g(n.maxWidth)?n.maxWidth:Infinity,minHeight:g(n.minHeight)?n.minHeight:0,maxHeight:g(n.maxHeight)?n.maxHeight:Infinity};if(this._aspectRatio||a)a=n.minHeight*this.aspectRatio,h=n.minWidth/this.aspectRatio,b=n.maxHeight*this.aspectRatio,k=n.maxWidth/this.aspectRatio,a>n.minWidth&&(n.minWidth=a),h>n.minHeight&&(n.minHeight=h),b<n.maxWidth&&(n.maxWidth=b),k<n.maxHeight&&(n.maxHeight=k);this._vBoundaries=n},_updateCache:function(a){this.offset=
this.helper.offset();g(a.left)&&(this.position.left=a.left);g(a.top)&&(this.position.top=a.top);g(a.height)&&(this.size.height=a.height);g(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,h=this.size,k=this.axis;return g(a.height)?a.width=a.height*this.aspectRatio:g(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===k&&(a.left=b.left+(h.width-a.width),a.top=null),"nw"===k&&(a.top=b.top+(h.height-a.height),a.left=b.left+(h.width-a.width)),a},_respectSize:function(a){var b=
this._vBoundaries,h=this.axis,k=g(a.width)&&b.maxWidth&&b.maxWidth<a.width,n=g(a.height)&&b.maxHeight&&b.maxHeight<a.height,m=g(a.width)&&b.minWidth&&b.minWidth>a.width,p=g(a.height)&&b.minHeight&&b.minHeight>a.height,r=this.originalPosition.left+this.originalSize.width,q=this.position.top+this.size.height,u=/sw|nw|w/.test(h),h=/nw|ne|n/.test(h);return m&&(a.width=b.minWidth),p&&(a.height=b.minHeight),k&&(a.width=b.maxWidth),n&&(a.height=b.maxHeight),m&&u&&(a.left=r-b.minWidth),k&&u&&(a.left=r-b.maxWidth),
p&&h&&(a.top=q-b.minHeight),n&&h&&(a.top=q-b.maxHeight),a.width||a.height||a.left||!a.top?!a.width&&!a.height&&!a.top&&a.left&&(a.left=null):a.top=null,a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,b,g,k,h,m=this.helper||this.element;for(a=0;a<this._proportionallyResizeElements.length;a++){h=this._proportionallyResizeElements[a];if(!this.borderDif)for(this.borderDif=[],g=[h.css("borderTopWidth"),h.css("borderRightWidth"),h.css("borderBottomWidth"),h.css("borderLeftWidth")],
k=[h.css("paddingTop"),h.css("paddingRight"),h.css("paddingBottom"),h.css("paddingLeft")],b=0;b<g.length;b++)this.borderDif[b]=(parseInt(g[b],10)||0)+(parseInt(k[b],10)||0);h.css({height:m.height()-this.borderDif[0]-this.borderDif[2]||0,width:m.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,g){return{top:this.originalPosition.top+g,height:this.originalSize.height-g}},s:function(a,b,g){return{height:this.originalSize.height+
g}},se:function(b,e,g){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,e,g]))},sw:function(b,e,g){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,e,g]))},ne:function(b,e,g){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,e,g]))},nw:function(b,e,g){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,e,g]))}},_propagate:function(b,e){a.ui.plugin.call(this,b,[e,this.ui()]);
"resize"!==b&&this._trigger(b,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable","animate",{stop:function(b){var e=a(this).data("ui-resizable"),g=e.options,k=e._proportionallyResizeElements,h=k.length&&/textarea/i.test(k[0].nodeName),m=h&&a.ui.hasScroll(k[0],"left")?0:e.sizeDiff.height,h=
{width:e.size.width-(h?0:e.sizeDiff.width),height:e.size.height-m},m=parseInt(e.element.css("left"),10)+(e.position.left-e.originalPosition.left)||null,p=parseInt(e.element.css("top"),10)+(e.position.top-e.originalPosition.top)||null;e.element.animate(a.extend(h,p&&m?{top:p,left:m}:{}),{duration:g.animateDuration,easing:g.animateEasing,step:function(){var g={width:parseInt(e.element.css("width"),10),height:parseInt(e.element.css("height"),10),top:parseInt(e.element.css("top"),10),left:parseInt(e.element.css("left"),
10)};k&&k.length&&a(k[0]).css({width:g.width,height:g.height});e._updateCache(g);e._propagate("resize",b)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var f,e,g,k,h,m,p,r=a(this).data("ui-resizable"),q=r.element,u=r.options.containment;if(q=u instanceof a?u.get(0):/parent/.test(u)?q.parent().get(0):u)r.containerElement=a(q),/document/.test(u)||u===document?(r.containerOffset={left:0,top:0},r.containerPosition={left:0,top:0},r.parentData={element:a(document),left:0,top:0,width:a(document).width(),
height:a(document).height()||document.body.parentNode.scrollHeight}):(f=a(q),e=[],a(["Top","Right","Left","Bottom"]).each(function(a,g){e[a]=b(f.css("padding"+g))}),r.containerOffset=f.offset(),r.containerPosition=f.position(),r.containerSize={height:f.innerHeight()-e[3],width:f.innerWidth()-e[1]},g=r.containerOffset,k=r.containerSize.height,h=r.containerSize.width,m=a.ui.hasScroll(q,"left")?q.scrollWidth:h,p=a.ui.hasScroll(q)?q.scrollHeight:k,r.parentData={element:q,left:g.left,top:g.top,width:m,
height:p})},resize:function(b){var e,g,k,h,m=a(this).data("ui-resizable");e=m.options;g=m.containerOffset;k=m.position;b=m._aspectRatio||b.shiftKey;h={top:0,left:0};var p=m.containerElement;p[0]!==document&&/static/.test(p.css("position"))&&(h=g);k.left<(m._helper?g.left:0)&&(m.size.width+=m._helper?m.position.left-g.left:m.position.left-h.left,b&&(m.size.height=m.size.width/m.aspectRatio),m.position.left=e.helper?g.left:0);k.top<(m._helper?g.top:0)&&(m.size.height+=m._helper?m.position.top-g.top:
m.position.top,b&&(m.size.width=m.size.height*m.aspectRatio),m.position.top=m._helper?g.top:0);m.offset.left=m.parentData.left+m.position.left;m.offset.top=m.parentData.top+m.position.top;e=Math.abs(m.offset.left-h.left+m.sizeDiff.width);g=Math.abs((m._helper?m.offset.top-h.top:m.offset.top-g.top)+m.sizeDiff.height);k=m.containerElement.get(0)===m.element.parent().get(0);h=/relative|absolute/.test(m.containerElement.css("position"));k&&h&&(e-=m.parentData.left);e+m.size.width>=m.parentData.width&&
(m.size.width=m.parentData.width-e,b&&(m.size.height=m.size.width/m.aspectRatio));g+m.size.height>=m.parentData.height&&(m.size.height=m.parentData.height-g,b&&(m.size.width=m.size.height*m.aspectRatio))},stop:function(){var b=a(this).data("ui-resizable"),e=b.options,g=b.containerOffset,k=b.containerPosition,h=b.containerElement,m=a(b.helper),p=m.offset(),r=m.outerWidth()-b.sizeDiff.width,m=m.outerHeight()-b.sizeDiff.height;b._helper&&!e.animate&&/relative/.test(h.css("position"))&&a(this).css({left:p.left-
k.left-g.left,width:r,height:m});b._helper&&!e.animate&&/static/.test(h.css("position"))&&a(this).css({left:p.left-k.left-g.left,width:r,height:m})}});a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("ui-resizable").options,e=function(b){a(b).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof b.alsoResize||b.alsoResize.parentNode?
e(b.alsoResize):b.alsoResize.length?(b.alsoResize=b.alsoResize[0],e(b.alsoResize)):a.each(b.alsoResize,function(a){e(a)})},resize:function(b,e){var g=a(this).data("ui-resizable"),k=g.options,h=g.originalSize,m=g.originalPosition,p={height:g.size.height-h.height||0,width:g.size.width-h.width||0,top:g.position.top-m.top||0,left:g.position.left-m.left||0},r=function(b,f){a(b).each(function(){var b=a(this),g=a(this).data("ui-resizable-alsoresize"),k={},h=f&&f.length?f:b.parents(e.originalElement[0]).length?
["width","height"]:["width","height","top","left"];a.each(h,function(a,b){var e=(g[b]||0)+(p[b]||0);e&&0<=e&&(k[b]=e||null)});b.css(k)})};"object"!=typeof k.alsoResize||k.alsoResize.nodeType?r(k.alsoResize):a.each(k.alsoResize,function(a,b){r(a,b)})},stop:function(){a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("ui-resizable"),e=b.options,g=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:.25,display:"block",position:"relative",
height:g.height,width:g.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof e.ghost?e.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("ui-resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("ui-resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("ui-resizable"),
e=b.options,g=b.size,k=b.originalSize,h=b.originalPosition,m=b.axis,p="number"==typeof e.grid?[e.grid,e.grid]:e.grid,r=p[0]||1,q=p[1]||1,u=Math.round((g.width-k.width)/r)*r,g=Math.round((g.height-k.height)/q)*q,w=k.width+u,k=k.height+g,y=e.maxWidth&&e.maxWidth<w,x=e.maxHeight&&e.maxHeight<k,z=e.minWidth&&e.minWidth>w,B=e.minHeight&&e.minHeight>k;e.grid=p;z&&(w+=r);B&&(k+=q);y&&(w-=r);x&&(k-=q);/^(se|s|e)$/.test(m)?(b.size.width=w,b.size.height=k):/^(ne)$/.test(m)?(b.size.width=w,b.size.height=k,b.position.top=
h.top-g):/^(sw)$/.test(m)?(b.size.width=w,b.size.height=k,b.position.left=h.left-u):(b.size.width=w,b.size.height=k,b.position.top=h.top-g,b.position.left=h.left-u)}})})(jQuery);
(function(a,h){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b,g=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){b=a(g.options.filter,g.element[0]);b.addClass("ui-selectee");b.each(function(){var b=a(this),e=b.offset();a.data(this,"selectable-item",{element:this,$element:b,
left:e.left,top:e.top,right:e.left+b.outerWidth(),bottom:e.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})};this.refresh();this.selectees=b.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");
this._mouseDestroy()},_mouseStart:function(b){var g=this,f=this.options;this.opos=[b.pageX,b.pageY];this.options.disabled||(this.selectees=a(f.filter,this.element[0]),this._trigger("start",b),a(f.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),f.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=a.data(this,"selectable-item");e.startselected=!0;b.metaKey||b.ctrlKey||(e.$element.removeClass("ui-selected"),e.selected=!1,
e.$element.addClass("ui-unselecting"),e.unselecting=!0,g._trigger("unselecting",b,{unselecting:e.element}))}),a(b.target).parents().addBack().each(function(){var e,f=a.data(this,"selectable-item");if(f)return e=!b.metaKey&&!b.ctrlKey||!f.$element.hasClass("ui-selected"),f.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),f.unselecting=!e,f.selecting=e,f.selected=e,e?g._trigger("selecting",b,{selecting:f.element}):g._trigger("unselecting",b,{unselecting:f.element}),
!1}))},_mouseDrag:function(b){this.dragged=!0;if(!this.options.disabled){var g,f=this,e=this.options,h=this.opos[0],k=this.opos[1],n=b.pageX,m=b.pageY;return h>n&&(g=n,n=h,h=g),k>m&&(g=m,m=k,k=g),this.helper.css({left:h,top:k,width:n-h,height:m-k}),this.selectees.each(function(){var g=a.data(this,"selectable-item"),r=!1;g&&g.element!==f.element[0]&&("touch"===e.tolerance?r=!(g.left>n||g.right<h||g.top>m||g.bottom<k):"fit"===e.tolerance&&(r=g.left>h&&g.right<n&&g.top>k&&g.bottom<m),r?(g.selected&&
(g.$element.removeClass("ui-selected"),g.selected=!1),g.unselecting&&(g.$element.removeClass("ui-unselecting"),g.unselecting=!1),g.selecting||(g.$element.addClass("ui-selecting"),g.selecting=!0,f._trigger("selecting",b,{selecting:g.element}))):(g.selecting&&((b.metaKey||b.ctrlKey)&&g.startselected?(g.$element.removeClass("ui-selecting"),g.selecting=!1,g.$element.addClass("ui-selected"),g.selected=!0):(g.$element.removeClass("ui-selecting"),g.selecting=!1,g.startselected&&(g.$element.addClass("ui-unselecting"),
g.unselecting=!0),f._trigger("unselecting",b,{unselecting:g.element}))),g.selected&&!b.metaKey&&!b.ctrlKey&&!g.startselected&&(g.$element.removeClass("ui-selected"),g.selected=!1,g.$element.addClass("ui-unselecting"),g.unselecting=!0,f._trigger("unselecting",b,{unselecting:g.element}))))}),!1}},_mouseStop:function(b){var g=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var f=a.data(this,"selectable-item");f.$element.removeClass("ui-unselecting");f.unselecting=!1;
f.startselected=!1;g._trigger("unselected",b,{unselected:f.element})}),a(".ui-selecting",this.element[0]).each(function(){var f=a.data(this,"selectable-item");f.$element.removeClass("ui-selecting").addClass("ui-selected");f.selecting=!1;f.selected=!0;f.startselected=!0;g._trigger("selected",b,{selected:f.element})}),this._trigger("stop",b),this.helper.remove(),!1}})})(jQuery);
(function(a,h){a.widget("ui.slider",a.ui.mouse,{version:"1.10.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();
this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var b,g;b=this.options;var f=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),e=[];g=b.values&&b.values.length||1;f.length>g&&(f.slice(g).remove(),f=f.slice(0,g));for(b=f.length;b<g;b++)e.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=f.add(a(e.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var b=this.options,g="";b.range?(!0===b.range&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",
bottom:""}):(this.range=a("<div></div>").appendTo(this.element),g="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(g+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))):this.range=a([])},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a);this._on(a,this._handleEvents);this._hoverable(a);this._focusable(a)},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(b){var g,f,e,h,k,n,m,p,r=this,q=this.options;return q.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),g={x:b.pageX,y:b.pageY},f=this._normValueFromMouse(g),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var g=Math.abs(f-r.values(b));if(e>g||e===g&&(b===r._lastChangedValue||r.values(b)===q.min))e=g,h=a(this),k=b}),n=this._start(b,k),!1===n?!1:
(this._mouseSliding=!0,this._handleIndex=k,h.addClass("ui-state-active").focus(),m=h.offset(),p=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=p?{left:0,top:0}:{left:b.pageX-m.left-h.width()/2,top:b.pageY-m.top-h.height()/2-(parseInt(h.css("borderTopWidth"),10)||0)-(parseInt(h.css("borderBottomWidth"),10)||0)+(parseInt(h.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,k,f),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var g=
this._normValueFromMouse({x:a.pageX,y:a.pageY});return this._slide(a,this._handleIndex,g),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var g,f,e,h,k;return"horizontal"===
this.orientation?(g=this.elementSize.width,f=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(g=this.elementSize.height,f=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),e=f/g,1<e&&(e=1),0>e&&(e=0),"vertical"===this.orientation&&(e=1-e),h=this._valueMax()-this._valueMin(),k=this._valueMin()+e*h,this._trimAlignValue(k)},_start:function(a,g){var f={handle:this.handles[g],value:this.value()};return this.options.values&&this.options.values.length&&(f.value=
this.values(g),f.values=this.values()),this._trigger("start",a,f)},_slide:function(a,g,f){var e,h,k;this.options.values&&this.options.values.length?(e=this.values(g?0:1),2===this.options.values.length&&!0===this.options.range&&(0===g&&f>e||1===g&&f<e)&&(f=e),f!==this.values(g)&&(h=this.values(),h[g]=f,k=this._trigger("slide",a,{handle:this.handles[g],value:f,values:h}),this.values(g?0:1),!1!==k&&this.values(g,f,!0))):f!==this.value()&&(k=this._trigger("slide",a,{handle:this.handles[g],value:f}),!1!==
k&&this.value(f))},_stop:function(a,g){var f={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(f.value=this.values(g),f.values=this.values());this._trigger("stop",a,f)},_change:function(a,g){if(!this._keySliding&&!this._mouseSliding){var f={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(f.value=this.values(g),f.values=this.values());this._lastChangedValue=g;this._trigger("change",a,f)}},value:function(a){if(arguments.length)this.options.value=
this._trimAlignValue(a),this._refreshValue(),this._change(null,0);else return this._value()},values:function(b,g){var f,e,h;if(1<arguments.length)this.options.values[b]=this._trimAlignValue(g),this._refreshValue(),this._change(null,b);else{if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();f=this.options.values;e=arguments[0];for(h=0;h<f.length;h+=1)f[h]=this._trimAlignValue(e[h]),this._change(null,
h);this._refreshValue()}},_setOption:function(b,g){var f,e=0;"range"===b&&!0===this.options.range&&("min"===g?(this.options.value=this._values(0),this.options.values=null):"max"===g&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));a.isArray(this.options.values)&&(e=this.options.values.length);a.Widget.prototype._setOption.apply(this,arguments);switch(b){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(f=0;f<e;f+=1)this._change(null,f);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a),
a},_values:function(a){var g,f;if(arguments.length)return g=this.options.values[a],g=this._trimAlignValue(g),g;if(this.options.values&&this.options.values.length){g=this.options.values.slice();for(f=0;f<g.length;f+=1)g[f]=this._trimAlignValue(g[f]);return g}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var g=0<this.options.step?this.options.step:1,f=(a-this._valueMin())%g;a-=f;return 2*Math.abs(f)>=g&&(a+=0<f?g:
-g),parseFloat(a.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b,g,f,e,h,k=this.options.range,n=this.options,m=this,p=this._animateOff?!1:n.animate,r={};this.options.values&&this.options.values.length?this.handles.each(function(e){g=(m.values(e)-m._valueMin())/(m._valueMax()-m._valueMin())*100;r["horizontal"===m.orientation?"left":"bottom"]=g+"%";a(this).stop(1,1)[p?"animate":"css"](r,n.animate);!0===m.options.range&&
("horizontal"===m.orientation?(0===e&&m.range.stop(1,1)[p?"animate":"css"]({left:g+"%"},n.animate),1===e&&m.range[p?"animate":"css"]({width:g-b+"%"},{queue:!1,duration:n.animate})):(0===e&&m.range.stop(1,1)[p?"animate":"css"]({bottom:g+"%"},n.animate),1===e&&m.range[p?"animate":"css"]({height:g-b+"%"},{queue:!1,duration:n.animate})));b=g}):(f=this.value(),e=this._valueMin(),h=this._valueMax(),g=h!==e?(f-e)/(h-e)*100:0,r["horizontal"===this.orientation?"left":"bottom"]=g+"%",this.handle.stop(1,1)[p?
"animate":"css"](r,n.animate),"min"===k&&"horizontal"===this.orientation&&this.range.stop(1,1)[p?"animate":"css"]({width:g+"%"},n.animate),"max"===k&&"horizontal"===this.orientation&&this.range[p?"animate":"css"]({width:100-g+"%"},{queue:!1,duration:n.animate}),"min"===k&&"vertical"===this.orientation&&this.range.stop(1,1)[p?"animate":"css"]({height:g+"%"},n.animate),"max"===k&&"vertical"===this.orientation&&this.range[p?"animate":"css"]({height:100-g+"%"},{queue:!1,duration:n.animate}))},_handleEvents:{keydown:function(b){var g,
f,e,h=a(b.target).data("ui-slider-handle-index");switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(b.target).addClass("ui-state-active"),g=this._start(b,h),!1===g))return}g=this.options.step;this.options.values&&this.options.values.length?f=e=this.values(h):f=e=this.value();switch(b.keyCode){case a.ui.keyCode.HOME:e=
this._valueMin();break;case a.ui.keyCode.END:e=this._valueMax();break;case a.ui.keyCode.PAGE_UP:e=this._trimAlignValue(f+(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:e=this._trimAlignValue(f-(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(f===this._valueMax())return;e=this._trimAlignValue(f+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(f===this._valueMin())return;e=this._trimAlignValue(f-g)}this._slide(b,h,e)},click:function(a){a.preventDefault()},
keyup:function(b){var g=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,g),this._change(b,g),a(b.target).removeClass("ui-state-active"))}}})})(jQuery);
(function(a,h){function b(a,b,e){return a>b&&a<b+e}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,
deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===a.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");
this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,f){"disabled"===b?(this.options[b]=f,this.widget().toggleClass("ui-sortable-disabled",!!f)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,f){var e=null,h=!1,k=this;if(this.reverting||this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(b);a(b.target).parents().each(function(){if(a.data(this,
k.widgetName+"-item")===k)return e=a(this),!1});a.data(b.target,k.widgetName+"-item")===k&&(e=a(b.target));return!e||this.options.handle&&!f&&(a(this.options.handle,e).find("*").addBack().each(function(){this===b.target&&(h=!0)}),!h)?!1:(this.currentItem=e,this._removeCurrentsFromItems(),!0)},_mouseStart:function(b,f,e){f=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(b);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();
this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt);
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();f.containment&&this._setContainment();f.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",f.cursor));f.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",f.opacity));f.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=
this.helper.css("zIndex")),this.helper.css("zIndex",f.zIndex));this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",b,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!e)for(e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!f.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,
b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var f,e,h,k;f=this.options;e=!1;this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<f.scrollSensitivity?this.scrollParent[0].scrollTop=
e=this.scrollParent[0].scrollTop+f.scrollSpeed:b.pageY-this.overflowOffset.top<f.scrollSensitivity&&(this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop-f.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<f.scrollSensitivity?this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft+f.scrollSpeed:b.pageX-this.overflowOffset.left<f.scrollSensitivity&&(this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft-f.scrollSpeed)):(b.pageY-a(document).scrollTop()<
f.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-f.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<f.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+f.scrollSpeed)),b.pageX-a(document).scrollLeft()<f.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-f.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<f.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+f.scrollSpeed))),!1!==e&&a.ui.ddmanager&&
!f.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(f=this.items.length-1;0<=f;f--)if(e=this.items[f],h=e.item[0],(k=this._intersectsWithPointer(e))&&e.instance===this.currentContainer&&h!==this.currentItem[0]&&this.placeholder[1===k?"next":"prev"]()[0]!==
h&&!a.contains(this.placeholder[0],h)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],h):1)){this.direction=1===k?"down":"up";if("pointer"!==this.options.tolerance&&!this._intersectsWithSides(e))break;this._rearrange(b,e);this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,f){if(b){a.ui.ddmanager&&!this.options.dropBehaviour&&
a.ui.ddmanager.drop(this,b);if(this.options.revert){var e=this,h=this.placeholder.offset();this.reverting=!0;a(this.helper).animate({left:h.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft),top:h.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){e._clear(b)})}else this._clear(b,f);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});
"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;0<=b;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var f=this._getItemsAsjQuery(b&&b.connected),e=[];return b=b||{},a(f).each(function(){var f=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);f&&e.push((b.key||
f[1]+"[]")+"="+(b.key&&b.expression?f[1]:f[2]))}),!e.length&&b.key&&e.push(b.key+"="),e.join("&")},toArray:function(b){var f=this._getItemsAsjQuery(b&&b.connected),e=[];return b=b||{},f.each(function(){e.push(a(b.item||this).attr(b.attribute||"id")||"")}),e},_intersectsWith:function(a){var b=this.positionAbs.left,e=b+this.helperProportions.width,h=this.positionAbs.top,k=h+this.helperProportions.height,n=a.left,m=n+a.width,p=a.top,r=p+a.height,q=this.offset.click.top,u=this.offset.click.left;return"pointer"===
this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?h+q>p&&h+q<r&&b+u>n&&b+u<m:n<b+this.helperProportions.width/2&&e-this.helperProportions.width/2<m&&p<h+this.helperProportions.height/2&&k-this.helperProportions.height/2<r},_intersectsWithPointer:function(a){var f="x"===this.options.axis||b(this.positionAbs.top+this.offset.click.top,a.top,a.height);a="y"===this.options.axis||
b(this.positionAbs.left+this.offset.click.left,a.left,a.width);f=f&&a;a=this._getDragVerticalDirection();var e=this._getDragHorizontalDirection();return f?this.floating?e&&"right"===e||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(a){var f=b(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=b(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var e=this._getDragVerticalDirection(),h=this._getDragHorizontalDirection();return this.floating&&
h?"right"===h&&a||"left"===h&&!a:e&&("down"===e&&f||"up"===e&&!f)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},
_getItemsAsjQuery:function(b){var f,e,h,k=[],n=[],m=this._connectWith();if(m&&b)for(b=m.length-1;0<=b;b--)for(e=a(m[b]),f=e.length-1;0<=f;f--)(h=a.data(e[f],this.widgetFullName))&&h!==this&&!h.options.disabled&&n.push([a.isFunction(h.options.items)?h.options.items.call(h.element):a(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h]);n.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):
a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=n.length-1;0<=b;b--)n[b][0].each(function(){k.push(this)});return a(k)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var e=0;e<b.length;e++)if(b[e]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[];this.containers=[this];var f,e,h,k,n,m=this.items,p=[[a.isFunction(this.options.items)?
this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]];if((n=this._connectWith())&&this.ready)for(f=n.length-1;0<=f;f--)for(h=a(n[f]),e=h.length-1;0<=e;e--)(k=a.data(h[e],this.widgetFullName))&&k!==this&&!k.options.disabled&&(p.push([a.isFunction(k.options.items)?k.options.items.call(k.element[0],b,{item:this.currentItem}):a(k.options.items,k.element),k]),this.containers.push(k));for(f=p.length-1;0<=f;f--)for(b=p[f][1],h=p[f][0],e=0,n=h.length;e<
n;e++)k=a(h[e]),k.data(this.widgetName+"-item",b),m.push({item:k,instance:b,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var f,e,h;for(f=this.items.length-1;0<=f;f--)e=this.items[f],e.instance!==this.currentContainer&&this.currentContainer&&e.item[0]!==this.currentItem[0]||(h=this.options.toleranceElement?a(this.options.toleranceElement,e.item):e.item,b||(e.width=h.outerWidth(),e.height=h.outerHeight()),
h=h.offset(),e.left=h.left,e.top=h.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(f=this.containers.length-1;0<=f;f--)h=this.containers[f].element.offset(),this.containers[f].containerCache.left=h.left,this.containers[f].containerCache.top=h.top,this.containers[f].containerCache.width=this.containers[f].element.outerWidth(),this.containers[f].containerCache.height=this.containers[f].element.outerHeight();return this},_createPlaceholder:function(b){b=
b||this;var f,e=b.options;e.placeholder&&e.placeholder.constructor!==String||(f=e.placeholder,e.placeholder={element:function(){var e=a(document.createElement(b.currentItem[0].nodeName)).addClass(f||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return f||(e.style.visibility="hidden"),e},update:function(a,h){if(!f||e.forcePlaceholderSize)h.height()||h.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||
0,10)),h.width()||h.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10))}});b.placeholder=a(e.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);e.placeholder.update(b,b.placeholder)},_contactContainers:function(b){var f,e,h,k,n,m,p,r,q=e=null;for(f=this.containers.length-1;0<=f;f--)a.contains(this.currentItem[0],this.containers[f].element[0])||(this._intersectsWith(this.containers[f].containerCache)?
e&&a.contains(this.containers[f].element[0],e.element[0])||(e=this.containers[f],q=f):this.containers[f].containerCache.over&&(this.containers[f]._trigger("out",b,this._uiHash(this)),this.containers[f].containerCache.over=0));if(e)if(1===this.containers.length)this.containers[q]._trigger("over",b,this._uiHash(this)),this.containers[q].containerCache.over=1;else{e=1E4;h=null;k=this.containers[q].floating?"left":"top";n=this.containers[q].floating?"width":"height";m=this.positionAbs[k]+this.offset.click[k];
for(f=this.items.length-1;0<=f;f--)a.contains(this.containers[q].element[0],this.items[f].item[0])&&this.items[f].item[0]!==this.currentItem[0]&&(p=this.items[f].item.offset()[k],r=!1,Math.abs(p-m)>Math.abs(p+this.items[f][n]-m)&&(r=!0,p+=this.items[f][n]),Math.abs(p-m)<e&&(e=Math.abs(p-m),h=this.items[f],this.direction=r?"up":"down"));if(h||this.options.dropOnEmpty)this.currentContainer=this.containers[q],h?this._rearrange(b,h,null,!0):this._rearrange(b,null,this.containers[q].element,!0),this._trigger("change",
b,this._uiHash()),this.containers[q]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[q]._trigger("over",b,this._uiHash(this)),this.containers[q].containerCache.over=1}},_createHelper:function(b){var f=this.options;b=a.isFunction(f.helper)?a(f.helper.apply(this.element[0],[b,this.currentItem])):"clone"===f.helper?this.currentItem.clone():this.currentItem;return b.parents("body").length||a("parent"!==f.appendTo?f.appendTo:
this.currentItem[0].parentNode)[0].appendChild(b[0]),b[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!b[0].style.width||f.forceHelperSize)&&b.width(this.currentItem.width()),(!b[0].style.height||f.forceHelperSize)&&b.height(this.currentItem.height()),b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));
a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==
document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=
this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,
f,e,h=this.options;"parent"===h.containment&&(h.containment=this.helper[0].parentNode);if("document"===h.containment||"window"===h.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===h.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===h.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];
/^(document|window|parent)$/.test(h.containment)||(b=a(h.containment)[0],f=a(h.containment).offset(),e="hidden"!==a(b).css("overflow"),this.containment=[f.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,f.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,f.left+(e?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),
10)||0)-this.helperProportions.width-this.margins.left,f.top+(e?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,f){f||(f=this.position);var e="absolute"===b?1:-1,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,k=/(html|body)/i.test(h[0].tagName);
return{top:f.top+this.offset.relative.top*e+this.offset.parent.top*e-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():k?0:h.scrollTop())*e,left:f.left+this.offset.relative.left*e+this.offset.parent.left*e-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():k?0:h.scrollLeft())*e}},_generatePosition:function(b){var f,e,h=this.options,k=b.pageX,n=b.pageY,m="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:
this.offsetParent,p=/(html|body)/i.test(m[0].tagName);return"relative"===this.cssPosition&&(this.scrollParent[0]===document||this.scrollParent[0]===this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(k=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(n=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&
(k=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(n=this.containment[3]+this.offset.click.top)),h.grid&&(f=this.originalPageY+Math.round((n-this.originalPageY)/h.grid[1])*h.grid[1],n=this.containment?f-this.offset.click.top>=this.containment[1]&&f-this.offset.click.top<=this.containment[3]?f:f-this.offset.click.top>=this.containment[1]?f-h.grid[1]:f+h.grid[1]:f,e=this.originalPageX+Math.round((k-this.originalPageX)/h.grid[0])*h.grid[0],k=this.containment?
e-this.offset.click.left>=this.containment[0]&&e-this.offset.click.left<=this.containment[2]?e:e-this.offset.click.left>=this.containment[0]?e-h.grid[0]:e+h.grid[0]:e)),{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():p?0:m.scrollTop()),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():p?0:m.scrollLeft())}},_rearrange:function(a,
b,e,h){e?e[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling);var k=this.counter=this.counter?++this.counter:1;this._delay(function(){k===this.counter&&this.refreshPositions(!h)})},_clear:function(b,f){this.reverting=!1;var e,h=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(e in this._storedCSS)if("auto"===
this._storedCSS[e]||"static"===this._storedCSS[e])this._storedCSS[e]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!f&&h.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||f||h.push(function(a){this._trigger("update",a,this._uiHash())});this!==this.currentContainer&&
(f||(h.push(function(a){this._trigger("remove",a,this._uiHash())}),h.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),h.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer))));for(e=this.containers.length-1;0<=e;e--)f||h.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over&&
(h.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over=0);this._storedCursor&&a("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!f){this._trigger("beforeStop",b,this._uiHash());for(e=0;e<h.length;e++)h[e].call(this,
b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!1}f||this._trigger("beforeStop",b,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null;if(!f){for(e=0;e<h.length;e++)h[e].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(b){var f=b||this;
return{helper:f.helper,placeholder:f.placeholder||a([]),position:f.position,originalPosition:f.originalPosition,offset:f.positionAbs,item:f.currentItem,sender:b?b.element:null}}})})(jQuery);
(function(a){function h(a){return function(){var g=this.element.val();a.apply(this,arguments);this._refresh();g!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.10.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);
this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b={},g=this.element;return a.each(["min","max","step"],function(a,e){var h=g.attr(e);void 0!==h&&h.length&&(b[e]=h)}),b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",
focus:function(){this.previous=this.element.val()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a))},mousewheel:function(a,g){if(g){if(!this.spinning&&!this._start(a))return!1;this._spin((0<g?1:-1)*this.options.step,a);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100);a.preventDefault()}},"mousedown .ui-spinner-button":function(b){function g(){this.element[0]===
this.document[0].activeElement||(this.element.focus(),this.previous=f,this._delay(function(){this.previous=f}))}var f;f=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();b.preventDefault();g.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;g.call(this)});!1!==this._start(b)&&this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){if(a(b.currentTarget).hasClass("ui-state-active")){if(!1===
this._start(b))return!1;this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(.5*a.height())&&0<a.height()&&
a.height(a.height());this.options.disabled&&this.disable()},_keydown:function(b){var g=this.options,f=a.ui.keyCode;switch(b.keyCode){case f.UP:return this._repeat(null,1,b),!0;case f.DOWN:return this._repeat(null,-1,b),!0;case f.PAGE_UP:return this._repeat(null,g.page,b),!0;case f.PAGE_DOWN:return this._repeat(null,-g.page,b),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+
this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return this.spinning||!1!==this._trigger("start",a)?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,g,f){a=a||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,g,f)},a);this._spin(g*this.options.step,f)},_spin:function(a,g){var f=this.value()||0;this.counter||
(this.counter=1);f=this._adjustValue(f+a*this._increment(this.counter));this.spinning&&!1===this._trigger("spin",g,{value:f})||(this._value(f),this.counter++)},_increment:function(b){var g=this.options.incremental;return g?a.isFunction(g)?g(b):Math.floor(b*b*b/5E4-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){a=a.toString();var g=a.indexOf(".");
return-1===g?0:a.length-g-1},_adjustValue:function(a){var g,f,e=this.options;return g=null!==e.min?e.min:0,f=a-g,f=Math.round(f/e.step)*e.step,a=g+f,a=parseFloat(a.toFixed(this._precision())),null!==e.max&&a>e.max?e.max:null!==e.min&&a<e.min?e.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,g){if("culture"===a||"numberFormat"===a){var f=this._parse(this.element.val());
this.options[a]=g;this.element.val(this._format(f))}else"max"!==a&&"min"!==a&&"step"!==a||"string"!=typeof g||(g=this._parse(g)),"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(g.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(g.down)),this._super(a,g),"disabled"===a&&(g?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:h(function(a){this._super(a);
this._value(this.element.val())}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},
_value:function(a,g){var f;""!==a&&(f=this._parse(a),null!==f&&(g||(f=this._adjustValue(f)),a=this._format(f)));this.element.val(a);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:h(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),
this._stop())},stepDown:h(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:h(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:h(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){if(!arguments.length)return this._parse(this.element.val());h(this._value).call(this,a)},widget:function(){return this.uiSpinner}})})(jQuery);
(function(a,h){function b(a){return 1<a.hash.length&&decodeURIComponent(a.href.replace(f,""))===decodeURIComponent(location.href.replace(f,""))}var g=0,f=/#.*$/;a.widget("ui.tabs",{version:"1.10.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,f=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",
f.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()});this._processTabs();f.active=this._initialActive();a.isArray(f.disabled)&&(f.disabled=a.unique(f.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort());!1!==this.options.active&&
this.anchors.length?this.active=this._findActive(f.active):this.active=a();this._refresh();this.active.length&&this.load(f.active)},_initialActive:function(){var b=this.options.active,f=this.options.collapsible,g=location.hash.substring(1);null===b&&(g&&this.tabs.each(function(f,h){if(a(h).attr("aria-controls")===g)return b=f,!1}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null===b||-1===b)&&(b=this.tabs.length?0:!1);return!1!==b&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&
(b=f?!1:0)),!f&&!1===b&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var f=a(this.document[0].activeElement).closest("li"),g=this.tabs.index(f),h=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:g++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:h=!1;g--;break;case a.ui.keyCode.END:g=this.anchors.length-1;break;case a.ui.keyCode.HOME:g=
0;break;case a.ui.keyCode.SPACE:b.preventDefault();clearTimeout(this.activating);this._activate(g);return;case a.ui.keyCode.ENTER:b.preventDefault();clearTimeout(this.activating);this._activate(g===this.options.active?!1:g);return;default:return}b.preventDefault();clearTimeout(this.activating);g=this._focusNextTab(g,h);b.ctrlKey||(f.attr("aria-selected","false"),this.tabs.eq(g).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",g)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||
b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(b,f){for(var g=this.tabs.length-1;-1!==a.inArray((b>g&&(b=0),0>b&&(b=g),b),this.options.disabled);)b=f?b+1:b-1;return b},_focusNextTab:function(a,
b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){"active"===a?this._activate(b):"disabled"===a?this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),!b&&!1===this.options.active&&this._activate(0)),"event"===a&&this._setupEvents(b),"heightStyle"===a&&this._setupHeightStyle(b))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+ ++g},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,
"\\$&"):""},refresh:function(){var b=this.options,f=this.tablist.children(":has(a[href])");b.disabled=a.map(f.filter(".ui-state-disabled"),function(a){return f.index(a)});this._processTabs();!1!==b.active&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a());this._refresh()},
_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true",
"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=
a();this.anchors.each(function(f,g){var h,m,p,r=a(g).uniqueId().attr("id"),q=a(g).closest("li"),u=q.attr("aria-controls");b(g)?(h=g.hash,m=e.element.find(e._sanitizeSelector(h))):(p=e._tabId(q),h="#"+p,m=e.element.find(h),m.length||(m=e._createPanel(p),m.insertAfter(e.panels[f-1]||e.tablist)),m.attr("aria-live","polite"));m.length&&(e.panels=e.panels.add(m));u&&q.data("ui-tabs-aria-controls",u);q.attr({"aria-controls":h.substring(1),"aria-labelledby":r});m.attr("aria-labelledby",r)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role",
"tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var f=0,g;g=this.tabs[f];f++)!0===b||-1!==a.inArray(f,b)?a(g).addClass("ui-state-disabled").attr("aria-disabled","true"):a(g).removeClass("ui-state-disabled").removeAttr("aria-disabled");
this.options.disabled=b},_setupEvents:function(b){var f={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){f[b]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,f);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(b){var f,g=this.element.parent();"fill"===b?(f=g.height(),f-=this.element.outerHeight()-this.element.height(),
this.element.siblings(":visible").each(function(){var b=a(this),e=b.css("position");"absolute"!==e&&"fixed"!==e&&(f-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){f-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,f-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(f=0,this.panels.each(function(){f=Math.max(f,a(this).height("").height())}).height(f))},_eventHandler:function(b){var f=this.options,g=this.active,
h=a(b.currentTarget).closest("li"),m=h[0]===g[0],p=m&&f.collapsible,r=p?a():this._getPanelForTab(h),q=g.length?this._getPanelForTab(g):a(),g={oldTab:g,oldPanel:q,newTab:p?a():h,newPanel:r};b.preventDefault();h.hasClass("ui-state-disabled")||h.hasClass("ui-tabs-loading")||this.running||m&&!f.collapsible||!1===this._trigger("beforeActivate",b,g)||(f.active=p?!1:this.tabs.index(h),this.active=m?a():h,this.xhr&&this.xhr.abort(),q.length||r.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),
r.length&&this.load(this.tabs.index(h),b),this._toggle(b,g))},_toggle:function(b,f){function g(){m.running=!1;m._trigger("activate",b,f)}function h(){f.newTab.closest("li").addClass("ui-tabs-active ui-state-active");p.length&&m.options.show?m._show(p,m.options.show,g):(p.show(),g())}var m=this,p=f.newPanel,r=f.oldPanel;this.running=!0;r.length&&this.options.hide?this._hide(r,this.options.hide,function(){f.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");h()}):(f.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
r.hide(),h());r.attr({"aria-expanded":"false","aria-hidden":"true"});f.oldTab.attr("aria-selected","false");p.length&&r.length?f.oldTab.attr("tabIndex",-1):p.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);p.attr({"aria-expanded":"true","aria-hidden":"false"});f.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){b=this._findActive(b);b[0]!==this.active[0]&&(b.length||(b=this.active),b=b.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,
currentTarget:b,preventDefault:a.noop}))},_findActive:function(b){return!1===b?a():this.tabs.eq(b)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();
this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var b=a(this),f=b.data("ui-tabs-aria-controls");
f?b.attr("aria-controls",f).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var f=this.options.disabled;!1!==f&&(b===h?f=!1:(b=this._getIndex(b),a.isArray(f)?f=a.map(f,function(a){return a!==b?a:null}):f=a.map(this.tabs,function(a,f){return f!==b?f:null})),this._setupDisabled(f))},disable:function(b){var f=this.options.disabled;if(!0!==f){if(b===h)f=!0;else{b=this._getIndex(b);
if(-1!==a.inArray(b,f))return;a.isArray(f)?f=a.merge([b],f).sort():f=[b]}this._setupDisabled(f)}},load:function(e,f){e=this._getIndex(e);var g=this,h=this.tabs.eq(e),m=h.find(".ui-tabs-anchor"),p=this._getPanelForTab(h),r={tab:h,panel:p};b(m[0])||(this.xhr=a.ajax(this._ajaxSettings(m,f,r)))&&"canceled"!==this.xhr.statusText&&(h.addClass("ui-tabs-loading"),p.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){p.html(a);g._trigger("load",f,r)},1)}).complete(function(a,b){setTimeout(function(){"abort"===
b&&g.panels.stop(!1,!0);h.removeClass("ui-tabs-loading");p.removeAttr("aria-busy");a===g.xhr&&delete g.xhr},1)}))},_ajaxSettings:function(b,f,g){var h=this;return{url:b.attr("href"),beforeSend:function(b,e){return h._trigger("beforeLoad",f,a.extend({jqXHR:b,ajaxSettings:e},g))}}},_getPanelForTab:function(b){b=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+b))}})})(jQuery);
(function(a){function h(b,e){var g=(b.attr("aria-describedby")||"").split(/\s+/);g.push(e);b.data("ui-tooltip-id",e).attr("aria-describedby",a.trim(g.join(" ")))}function b(b){var e=b.data("ui-tooltip-id"),g=(b.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(e,g);-1!==e&&g.splice(e,1);b.removeData("ui-tooltip-id");(g=a.trim(g.join(" ")))?b.attr("aria-describedby",g):b.removeAttr("aria-describedby")}var g=0;a.widget("ui.tooltip",{version:"1.10.1",options:{content:function(){var b=a(this).attr("title")||
"";return a("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable()},_setOption:function(b,e){var g=this;"disabled"===b?(this[e?"_disable":"_enable"](),this.options[b]=e):(this._super(b,e),"content"===b&&a.each(this.tooltips,function(a,
b){g._updateContent(b)}))},_disable:function(){var b=this;a.each(this.tooltips,function(e,g){var h=a.Event("blur");h.target=h.currentTarget=g[0];b.close(h,!0)});this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(b){var e=
this,g=a(b?b.target:this.element).closest(this.options.items);g.length&&!g.data("ui-tooltip-id")&&(g.attr("title")&&g.data("ui-tooltip-title",g.attr("title")),g.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&g.parents().each(function(){var b=a(this),f;b.data("ui-tooltip-open")&&(f=a.Event("blur"),f.target=f.currentTarget=this,e.close(f,!0));b.attr("title")&&(b.uniqueId(),e.parents[this.id]={element:this,title:b.attr("title")},b.attr("title",""))}),this._updateContent(g,b))},_updateContent:function(a,
b){var g;g=this.options.content;var h=this,n=b?b.type:null;if("string"==typeof g)return this._open(b,a,g);(g=g.call(a[0],function(g){a.data("ui-tooltip-open")&&h._delay(function(){b&&(b.type=n);this._open(b,a,g)})}))&&this._open(b,a,g)},_open:function(b,e,g){function k(a){p.of=a;n.is(":hidden")||n.position(p)}var n,m,p=a.extend({},this.options.position);g&&(n=this._find(e),n.length?n.find(".ui-tooltip-content").html(g):(e.is("[title]")&&(b&&"mouseover"===b.type?e.attr("title",""):e.removeAttr("title")),
n=this._tooltip(e),h(e,n.attr("id")),n.find(".ui-tooltip-content").html(g),this.options.track&&b&&/^mouse/.test(b.type)?(this._on(this.document,{mousemove:k}),k(b)):n.position(a.extend({of:e},this.options.position)),n.hide(),this._show(n,this.options.show),this.options.show&&this.options.show.delay&&(m=this.delayedShow=setInterval(function(){n.is(":visible")&&(k(p.of),clearInterval(m))},a.fx.interval)),this._trigger("open",b,{tooltip:n}),g={keyup:function(b){b.keyCode===a.ui.keyCode.ESCAPE&&(b=a.Event(b),
b.currentTarget=e[0],this.close(b,!0))},remove:function(){this._removeTooltip(n)}},b&&"mouseover"!==b.type||(g.mouseleave="close"),b&&"focusin"!==b.type||(g.focusout="close"),this._on(!0,e,g)))},close:function(f){var e=this,g=a(f?f.currentTarget:this.element),h=this._find(g);this.closing||(clearInterval(this.delayedShow),g.data("ui-tooltip-title")&&g.attr("title",g.data("ui-tooltip-title")),b(g),h.stop(!0),this._hide(h,this.options.hide,function(){e._removeTooltip(a(this))}),g.removeData("ui-tooltip-open"),
this._off(g,"mouseleave focusout keyup"),g[0]!==this.element[0]&&this._off(g,"remove"),this._off(this.document,"mousemove"),f&&"mouseleave"===f.type&&a.each(this.parents,function(b,f){a(f.element).attr("title",f.title);delete e.parents[b]}),this.closing=!0,this._trigger("close",f,{tooltip:h}),this.closing=!1)},_tooltip:function(b){var e="ui-tooltip-"+g++,h=a("<div>").attr({id:e,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return a("<div>").addClass("ui-tooltip-content").appendTo(h),
h.appendTo(this.document[0].body),this.tooltips[e]=b,h},_find:function(b){return(b=b.data("ui-tooltip-id"))?a("#"+b):a()},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_destroy:function(){var b=this;a.each(this.tooltips,function(e,g){var h=a.Event("blur");h.target=h.currentTarget=g[0];b.close(h,!0);a("#"+e).remove();g.data("ui-tooltip-title")&&(g.attr("title",g.data("ui-tooltip-title")),g.removeData("ui-tooltip-title"))})}})})(jQuery);!function(a){"function"==typeof define&&define.amd?define("position-calculator",["jquery"],a):jQuery.PositionCalculator=a(jQuery)}(function(a){function h(a){return"string"==typeof a&&("window"===a?a=q:"document"===a&&(a=u)),a}function b(a){a=a.split(" ");return{y:y.test(a[0])?a[0]:"top",x:x.test(a[1])?a[1]:"left"}}function g(a,b){return a===b?!0:a&&b?a.top===b.top&&a.left===b.left&&a.height===b.height&&a.width===b.width:!1}function f(b){var e=b[0];if(9===e.nodeType)return{width:b.outerWidth(),height:b.outerHeight(),
top:0,left:0};if(a.isWindow(e))return{width:b.outerWidth(),height:b.outerHeight(),top:b.scrollTop(),left:b.scrollLeft()};if(e.preventDefault)return{width:0,height:0,top:e.pageY,left:e.pageX};e=b.offset();return{width:b.outerWidth(),height:b.outerHeight(),top:e.top,left:e.left}}function e(b,e){var f=b[0];if(9!==f.nodeType){if(a.isWindow(f)&&(e.top=b.scrollTop(),e.left=b.scrollLeft()),f.preventDefault)return e.top=f.pageY,void(e.left=f.pageX);f=b.offset();e.top=f.top;e.left=f.left}}function l(a,b){return{y:parseFloat(a.y)*
(z.test(a.y)?b.height/100:1),x:parseFloat(a.x)*(z.test(a.x)?b.width/100:1),mirror:a.mirror}}function k(a,b,e){a={top:0,left:0,middle:.5*a.height,center:.5*a.width,bottom:a.height,right:a.width};return 0!==b.y&&(a.middle+=b.y,b.mirror?(a.top+="top"!==e.y?-1*b.y:b.y,a.bottom+="bottom"!==e.y?-1*b.y:b.y):(a.top+=b.y,a.bottom+=b.y)),0!==b.x&&(a.center+=b.x,b.mirror?(a.left+="left"!==e.x?-1*b.x:b.x,a.right+="right"!==e.x?-1*b.x:b.x):(a.left+=b.x,a.right+=b.x)),a}function n(a){var b=[];return 0<a.top&&b.push("top"),
0<a.left&&b.push("left"),0>a.bottom&&b.push("bottom"),0>a.right&&b.push("right"),a.overflow=b.length?b:null,a}function m(a,b){return n({top:a.top-b.top,left:a.left-b.left,bottom:a.top+a.height-(b.top+b.height),right:a.left+a.width-(b.left+b.width),overflow:[]})}function p(a,b,e){var f,g,h,k,l;return l=e?["top","bottom"]:["left","right"],f=a[l[0]],h=b[l[0]],g=-1*a[l[1]],k=-1*b[l[1]],0>f&&(f=0),0>g&&(g=0),0>h&&(h=0),0>k&&(k=0),0>f&&0>g?!0:0>h&&0>k?!1:h+k>f+g}function r(a){return this instanceof r?(this.options=
this.$itm=this.$trg=this.$bnd=this.itmAt=this.trgAt=this.itmPos=this.trgPos=this.bndPos=this.itmOffset=this.trgOffset=null,void this._init(a)):new r(a)}var q=window,u=document,w=u.documentElement,y=/top|middle|bottom/,x=/left|center|right/,z=/%$/,B={left:"right",center:"center",right:"left",top:"bottom",middle:"middle",bottom:"top"};return r.prototype._init=function(e){e=this.options=a.extend({},r.defaults,e);return e.item?(this.$itm=e.item.jquery?e.item:a(e.item),0===this.$itm.length?null:(this.$trg=
e.target&&e.target.jquery?e.target:a(h(e.target)),this.$bnd=e.boundary&&e.boundary.jquery?e.boundary:a(h(e.boundary)),this.itmAt=b(e.itemAt),this.trgAt=b(e.targetAt),this.resize(),this)):null},r.prototype.resize=function(){var b=this.options,e=f(this.$itm),h=this.$trg.length?f(this.$trg):null,m;if(this.$bnd.length){m=this.$bnd;var n,q=m[0];m=(9===q.nodeType?(q=w,n={top:0,left:0}):a.isWindow(q)?(q=w,n={top:m.scrollTop(),left:m.scrollLeft()}):n=m.offset(),{width:q.clientWidth,height:q.clientHeight,
top:n.top+q.clientTop,left:n.left+q.clientLeft})}else m=null;(this.bndPos=m,this.itmPos&&g(e,this.itmPos))||(this.itmPos=e,n=l(b.itemOffset,e),n.x*=-1,n.y*=-1,this.itmOffset=k(e,n,this.itmAt));return this.trgPos&&g(h,this.trgPos)||(this.trgPos=h,h&&(this.trgOffset=k(h,l(b.targetOffset,h),this.trgAt))),this},r.prototype.calcVariant=function(a,b){var e={moveBy:null,distance:null,itemAt:null,targetAt:null};if(this.trgPos&&a&&b){var f={top:this.trgPos.top+this.trgOffset[b.y]-this.itmOffset[a.y],left:this.trgPos.left+
this.trgOffset[b.x]-this.itmOffset[a.x],height:this.itmPos.height,width:this.itmPos.width};e.moveBy={y:f.top-this.itmPos.top,x:f.left-this.itmPos.left};e.distance=this.bndPos?m(this.bndPos,f):null;e.itemAt=a.y+" "+a.x;e.targetAt=b.y+" "+b.x}else e.moveBy={y:0,x:0},e.distance=this.bndPos?m(this.bndPos,this.itmPos):null;return e},r.prototype.calculate=function(){if(null===this.itmPos)return null;var b=this.options;e(this.$itm,this.itmPos);this.trgPos&&e(this.$trg,this.trgPos);if(this.bndPos){var f=
this.$bnd,g=this.bndPos,h,k=f[0];9===k.nodeType?(k=w,h={top:0,left:0}):a.isWindow(k)?(k=w,h={top:f.scrollTop(),left:f.scrollLeft()}):h=f.offset();g.top=h.top+k.clientTop;g.left=h.left+k.clientLeft}f=this.calcVariant(this.itmAt,this.trgAt);if(!f.distance||!f.distance.overflow)return f;if(b.flip&&"none"!==b.flip&&this.trgPos){var l,m;var g=b.flip,k=this.itmAt,q=this.trgAt;h=f.distance;var r,k={y:k.y,x:k.x},q={y:q.y,x:q.x};if(-1!==h.overflow.indexOf("top")&&(m="top"),-1!==h.overflow.indexOf("bottom")&&
(m=m?null:"bottom"),-1!==h.overflow.indexOf("left")&&(r="left"),-1!==h.overflow.indexOf("right")&&(r=r?null:"right"),m||r){switch(g=!0===g?"both":g,h=0,g){case "item":h=1;break;case "target":h=2;break;case "both":h=3}m=(1&h&&(m&&(k.y=B[k.y]),r&&(k.x=B[k.x])),2&h&&(m&&(q.y=B[q.y]),r&&(q.x=B[q.x])),{item_at:k,tar_at:q})}else m=null;if(m){if(l=this.calcVariant(m.item_at,m.tar_at),!l.distance.overflow)return l;g=r=!1;if(r=p(l.distance,f.distance,!0),g=p(l.distance,f.distance,!1),r!==g){if(f=this.calcVariant({y:r?
m.item_at.y:this.itmAt.y,x:g?m.item_at.x:this.itmAt.x},{y:r?m.tar_at.y:this.trgAt.y,x:g?m.tar_at.x:this.trgAt.x}),!f.distance.overflow)return f}else r&&g&&(f=l)}}var u;if(b.stick&&"none"!==b.stick)if(l=f,b=b.stick,"all"===b&&(b=!0),m=l.distance.overflow,m.length){g=f=!1;for(h=m.length-1;0<=h;h--)switch(r=m[h]){case "top":case "bottom":(!g&&!0===b||-1!==b.indexOf(r))&&(u=l.distance[r],l.moveBy.y+=u,l.distance.top-=u,l.distance.bottom-=u,g=!0);break;case "left":case "right":(!f&&!0===b||-1!==b.indexOf(r))&&
(u=l.distance[r],l.moveBy.x+=u,l.distance.left-=u,l.distance.right-=u,f=!0)}u=(n(l.distance),l)}else u=l;else u=f;return u},r.defaults={item:null,target:null,boundary:window,itemAt:"top left",targetAt:"top left",itemOffset:{y:0,x:0,mirror:!0},targetOffset:{y:0,x:0,mirror:!0},flip:"none",stick:"none"},r});var JSON;JSON||(JSON={});
(function(){function a(b,f){var g,k,u,w,y=e,x,z=f[b];z&&"object"==typeof z&&"function"==typeof z.toJSON&&(z=z.toJSON(b));"function"==typeof n&&(z=n.call(f,b,z));switch(typeof z){case "string":return h(z);case "number":return isFinite(z)?String(z):"null";case "boolean":case "null":return String(z);case "object":if(!z)return"null";e+=l;x=[];if("[object Array]"===Object.prototype.toString.apply(z)){w=z.length;for(g=0;g<w;g+=1)x[g]=a(g,z)||"null";u=0===x.length?"[]":e?"[\n"+e+x.join(",\n"+e)+"\n"+y+"]":
"["+x.join(",")+"]";e=y;return u}if(n&&"object"==typeof n)for(w=n.length,g=0;g<w;g+=1)"string"==typeof n[g]&&(k=n[g],u=a(k,z),u&&x.push(h(k)+(e?": ":":")+u));else for(k in z)Object.prototype.hasOwnProperty.call(z,k)&&(u=a(k,z),u&&x.push(h(k)+(e?": ":":")+u));u=0===x.length?"{}":e?"{\n"+e+x.join(",\n"+e)+"\n"+y+"}":"{"+x.join(",")+"}";e=y;return u}}function h(a){f.lastIndex=0;return f.test(a)?'"'+a.replace(f,function(a){var b=k[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+
'"':'"'+a+'"'}function b(a){return 10>a?"0"+a:a}"use strict";"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,l,k={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;"function"!=typeof JSON.stringify&&(JSON.stringify=function(b,f,g){var h;l=e="";if("number"==typeof g)for(h=0;h<g;h+=1)l+=" ";else"string"==typeof g&&(l=g);n=f;if(!f||"function"==typeof f||"object"==typeof f&&"number"==typeof f.length)return a("",{"":b});throw Error("JSON.stringify");});"function"!=
typeof JSON.parse&&(JSON.parse=function(a,b){function e(a,f){var g,h,k=a[f];if(k&&"object"==typeof k)for(g in k)Object.prototype.hasOwnProperty.call(k,g)&&(h=e(k,g),void 0!==h?k[g]=h:delete k[g]);return b.call(a,f,k)}var f;a=String(a);g.lastIndex=0;g.test(a)&&(a=a.replace(g,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return f=eval("("+a+")"),"function"==typeof b?e({"":f},""):f;throw new SyntaxError("JSON.parse");})})();
SockJS=function(){var a=document,h=window,b={},g=function(){};g.prototype.addEventListener=function(a,e){this._listeners||(this._listeners={});a in this._listeners||(this._listeners[a]=[]);var f=this._listeners[a];-1===b.arrIndexOf(f,e)&&f.push(e)};g.prototype.removeEventListener=function(a,e){if(this._listeners&&a in this._listeners){var f=this._listeners[a],g=b.arrIndexOf(f,e);-1!==g&&(1<f.length?this._listeners[a]=f.slice(0,g).concat(f.slice(g+1)):delete this._listeners[a])}};g.prototype.dispatchEvent=
function(a){var b=a.type,e=Array.prototype.slice.call(arguments,0);this["on"+b]&&this["on"+b].apply(this,e);if(this._listeners&&b in this._listeners)for(var f=0;f<this._listeners[b].length;f++)this._listeners[b][f].apply(this,e)};var f=function(a,b){this.type=a;if("undefined"!=typeof b)for(var e in b)b.hasOwnProperty(e)&&(this[e]=b[e])};f.prototype.toString=function(){var a=[],b;for(b in this)if(this.hasOwnProperty(b)){var e=this[b];"function"==typeof e&&(e="[function]");a.push(b+"="+e)}return"SimpleEvent("+
a.join(", ")+")"};var e=function(a){this._events=a||[];this._listeners={}};e.prototype.emit=function(a){this._verifyType(a);if(!this._nuked){var b=Array.prototype.slice.call(arguments,1);this["on"+a]&&this["on"+a].apply(this,b);if(a in this._listeners)for(var e=0;e<this._listeners[a].length;e++)this._listeners[a][e].apply(this,b)}};e.prototype.on=function(a,b){this._verifyType(a);this._nuked||(a in this._listeners||(this._listeners[a]=[]),this._listeners[a].push(b))};e.prototype._verifyType=function(a){-1===
b.arrIndexOf(this._events,a)&&b.log("Event "+JSON.stringify(a)+" not listed "+JSON.stringify(this._events)+" in "+this)};e.prototype.nuke=function(){this._nuked=!0;for(var a=0;a<this._events.length;a++)delete this[this._events[a]];this._listeners={}};b.random_string=function(a,b){b=b||37;var e,f=[];for(e=0;e<a;e++)f.push("abcdefghijklmnopqrstuvwxyz0123456789_".substr(Math.floor(Math.random()*b),1));return f.join("")};b.random_number=function(a){return Math.floor(Math.random()*a)};b.random_number_string=
function(a){var e=(""+(a-1)).length;return(Array(e+1).join("0")+b.random_number(a)).slice(-e)};b.getOrigin=function(a){return(a+"/").split("/").slice(0,3).join("/")};b.isSameOriginUrl=function(a,b){return b||(b=h.location.href),a.split("/").slice(0,3).join("/")===b.split("/").slice(0,3).join("/")};b.getParentDomain=function(a){return/^[0-9.]*$/.test(a)||/^\[/.test(a)||!/[.]/.test(a)?a:a.split(".").slice(1).join(".")};b.objectExtend=function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);return a};
b.polluteGlobalNamespace=function(){"_jp"in h||(h._jp={})};b.closeFrame=function(a,b){return"c"+JSON.stringify([a,b])};b.userSetCode=function(a){return 1E3===a||3E3<=a&&4999>=a};b.countRTO=function(a){var b;return 100<a?b=3*a:b=a+200,b};b.log=function(){h.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)};b.bind=function(a,b){return a.bind?a.bind(b):function(){return a.apply(b,arguments)}};b.flatUrl=function(a){return-1===a.indexOf("?")&&-1===a.indexOf("#")};b.amendUrl=
function(e){var f=a.location;if(!e)throw Error("Wrong url for SockJS");if(!b.flatUrl(e))throw Error("Only basic urls are supported in SockJS");return 0===e.indexOf("//")&&(e=f.protocol+e),0===e.indexOf("/")&&(e=f.protocol+"//"+f.host+e),e=e.replace(/[/]+$/,""),e};b.arrIndexOf=function(a,b){for(var e=0;e<a.length;e++)if(a[e]===b)return e;return-1};b.arrSkip=function(a,e){var f=b.arrIndexOf(a,e);return-1===f?a.slice():a.slice(0,f).concat(a.slice(f+1))};b.isArray=Array.isArray||function(a){return 0<=
{}.toString.call(a).indexOf("Array")};b.delay=function(a,b){return"function"==typeof a&&(b=a,a=0),setTimeout(b,a)};var l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k={"\x00":"\\u0000","\u0001":"\\u0001","\u0002":"\\u0002","\u0003":"\\u0003","\u0004":"\\u0004","\u0005":"\\u0005","\u0006":"\\u0006","\u0007":"\\u0007","\b":"\\b","\t":"\\t","\n":"\\n","\x0B":"\\u000b","\f":"\\f","\r":"\\r","\u000e":"\\u000e","\u000f":"\\u000f",
"\u0010":"\\u0010","\u0011":"\\u0011","\u0012":"\\u0012","\u0013":"\\u0013","\u0014":"\\u0014","\u0015":"\\u0015","\u0016":"\\u0016","\u0017":"\\u0017","\u0018":"\\u0018","\u0019":"\\u0019","\u001a":"\\u001a","\u001b":"\\u001b","\u001c":"\\u001c","\u001d":"\\u001d","\u001e":"\\u001e","\u001f":"\\u001f",'"':'\\"',"\\":"\\\\","\u007f":"\\u007f","\u0080":"\\u0080","\u0081":"\\u0081","\u0082":"\\u0082","\u0083":"\\u0083","\u0084":"\\u0084","\u0085":"\\u0085","\u0086":"\\u0086","\u0087":"\\u0087","\u0088":"\\u0088",
"\u0089":"\\u0089","\u008a":"\\u008a","\u008b":"\\u008b","\u008c":"\\u008c","\u008d":"\\u008d","\u008e":"\\u008e","\u008f":"\\u008f","\u0090":"\\u0090","\u0091":"\\u0091","\u0092":"\\u0092","\u0093":"\\u0093","\u0094":"\\u0094","\u0095":"\\u0095","\u0096":"\\u0096","\u0097":"\\u0097","\u0098":"\\u0098","\u0099":"\\u0099","\u009a":"\\u009a","\u009b":"\\u009b","\u009c":"\\u009c","\u009d":"\\u009d","\u009e":"\\u009e","\u009f":"\\u009f","\u00ad":"\\u00ad","\u0600":"\\u0600","\u0601":"\\u0601","\u0602":"\\u0602",
"\u0603":"\\u0603","\u0604":"\\u0604","\u070f":"\\u070f","\u17b4":"\\u17b4","\u17b5":"\\u17b5","\u200c":"\\u200c","\u200d":"\\u200d","\u200e":"\\u200e","\u200f":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","\u202a":"\\u202a","\u202b":"\\u202b","\u202c":"\\u202c","\u202d":"\\u202d","\u202e":"\\u202e","\u202f":"\\u202f","\u2060":"\\u2060","\u2061":"\\u2061","\u2062":"\\u2062","\u2063":"\\u2063","\u2064":"\\u2064","\u2065":"\\u2065","\u2066":"\\u2066","\u2067":"\\u2067","\u2068":"\\u2068","\u2069":"\\u2069",
"\u206a":"\\u206a","\u206b":"\\u206b","\u206c":"\\u206c","\u206d":"\\u206d","\u206e":"\\u206e","\u206f":"\\u206f","\ufeff":"\\ufeff","\ufff0":"\\ufff0","\ufff1":"\\ufff1","\ufff2":"\\ufff2","\ufff3":"\\ufff3","\ufff4":"\\ufff4","\ufff5":"\\ufff5","\ufff6":"\\ufff6","\ufff7":"\\ufff7","\ufff8":"\\ufff8","\ufff9":"\\ufff9","\ufffa":"\\ufffa","\ufffb":"\\ufffb","\ufffc":"\\ufffc","\ufffd":"\\ufffd","\ufffe":"\\ufffe","\uffff":"\\uffff"},n=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,
m,p=JSON&&JSON.stringify||function(a){return l.lastIndex=0,l.test(a)&&(a=a.replace(l,function(a){return k[a]})),'"'+a+'"'},r=function(a){var b,e={},f=[];for(b=0;65536>b;b++)f.push(String.fromCharCode(b));return a.lastIndex=0,f.join("").replace(a,function(a){return e[a]="\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4),""}),a.lastIndex=0,e};b.quote=function(a){a=p(a);return n.lastIndex=0,n.test(a)?(m||(m=r(n)),a.replace(n,function(a){return m[a]})):a};var q="websocket xdr-streaming xhr-streaming iframe-eventsource iframe-htmlfile xdr-polling xhr-polling iframe-xhr-polling jsonp-polling".split(" ");
b.probeProtocols=function(){for(var a={},b=0;b<q.length;b++){var e=q[b];a[e]=z[e]&&z[e].enabled()}return a};b.detectProtocols=function(a,b,e){var f={},g=[];b||(b=q);for(var h=0;h<b.length;h++){var k=b[h];f[k]=a[k]}var l=function(a){var b=a.shift();f[b]?g.push(b):0<a.length&&l(a)};return!1!==e.websocket&&l(["websocket"]),f["xhr-streaming"]&&!e.null_origin?g.push("xhr-streaming"):!f["xdr-streaming"]||e.cookie_needed||e.null_origin?l(["iframe-eventsource","iframe-htmlfile"]):g.push("xdr-streaming"),
f["xhr-polling"]&&!e.null_origin?g.push("xhr-polling"):!f["xdr-polling"]||e.cookie_needed||e.null_origin?l(["iframe-xhr-polling","jsonp-polling"]):g.push("xdr-polling"),g};b.createHook=function(){var a="a"+b.random_string(8);if(!("_sockjs_global"in h)){var e={};h._sockjs_global=function(a){return a in e||(e[a]={id:a,del:function(){delete e[a]}}),e[a]}}return h._sockjs_global(a)};b.attachMessage=function(a){b.attachEvent("message",a)};b.attachEvent=function(b,e){"undefined"!=typeof h.addEventListener?
h.addEventListener(b,e,!1):(a.attachEvent("on"+b,e),h.attachEvent("on"+b,e))};b.detachMessage=function(a){b.detachEvent("message",a)};b.detachEvent=function(b,e){"undefined"!=typeof h.addEventListener?h.removeEventListener(b,e,!1):(a.detachEvent("on"+b,e),h.detachEvent("on"+b,e))};var u={},w=!1,y=function(){for(var a in u)u[a](),delete u[a]};b.attachEvent("unload",function(){w||(w=!0,y())});b.unload_add=function(a){var e=b.random_string(8);return u[e]=a,w&&b.delay(y),e};b.unload_del=function(a){a in
u&&delete u[a]};b.createIframe=function(e,f){var g=a.createElement("iframe"),h,k,l=function(){clearTimeout(h);try{g.onload=null}catch(a){}g.onerror=null},m=function(){g&&(l(),setTimeout(function(){g&&g.parentNode.removeChild(g);g=null},0),b.unload_del(k))};return g.src=e,g.style.display="none",g.style.position="absolute",g.onerror=function(){g&&(m(),f("onerror"))},g.onload=function(){clearTimeout(h);h=setTimeout(function(){g&&(m(),f("onload timeout"))},2E3)},a.body.appendChild(g),h=setTimeout(function(){g&&
(m(),f("timeout"))},15E3),k=b.unload_add(m),{post:function(a,b){try{g&&g.contentWindow&&g.contentWindow.postMessage(a,b)}catch(e){}},cleanup:m,loaded:l}};b.createHtmlfile=function(a,e){var f=new ActiveXObject("htmlfile"),g,k,l,m=function(){clearTimeout(g)},n=function(){f&&(m(),b.unload_del(k),l.parentNode.removeChild(l),l=f=null,CollectGarbage())};f.open();f.write('<html><script>document.domain="'+document.domain+'";\x3c/script></html>');f.close();f.parentWindow._jp=h._jp;var q=f.createElement("div");
return f.body.appendChild(q),l=f.createElement("iframe"),q.appendChild(l),l.src=a,g=setTimeout(function(){f&&(n(),e("timeout"))},15E3),k=b.unload_add(n),{post:function(a,b){try{l&&l.contentWindow&&l.contentWindow.postMessage(a,b)}catch(e){}},cleanup:n,loaded:m}};var x=function(){};x.prototype=new e(["chunk","finish"]);x.prototype._start=function(a,e,f,g){var k=this;try{k.xhr=new XMLHttpRequest}catch(l){}if(!k.xhr)try{k.xhr=new h.ActiveXObject("Microsoft.XMLHTTP")}catch(m){}if(h.ActiveXObject||h.XDomainRequest)e+=
(-1===e.indexOf("?")?"?":"&")+"t="+ +new Date;k.unload_ref=b.unload_add(function(){k._cleanup(!0)});try{k.xhr.open(a,e,!0)}catch(n){k.emit("finish",0,"");k._cleanup();return}g&&g.no_credentials||(k.xhr.withCredentials="true");if(g&&g.headers)for(var q in g.headers)k.xhr.setRequestHeader(q,g.headers[q]);k.xhr.onreadystatechange=function(){if(k.xhr){var a=k.xhr;switch(a.readyState){case 3:try{var b=a.status,e=a.responseText}catch(f){}1223===b&&(b=204);e&&0<e.length&&k.emit("chunk",b,e);break;case 4:b=
a.status,1223===b&&(b=204),k.emit("finish",b,a.responseText),k._cleanup(!1)}}};k.xhr.send(f)};x.prototype._cleanup=function(a){if(this.xhr){b.unload_del(this.unload_ref);this.xhr.onreadystatechange=function(){};if(a)try{this.xhr.abort()}catch(e){}this.unload_ref=this.xhr=null}};x.prototype.close=function(){this.nuke();this._cleanup(!0)};(b.XHRCorsObject=function(){var a=this,e=arguments;b.delay(function(){a._start.apply(a,e)})}).prototype=new x;(b.XHRLocalObject=function(a,e,f){var g=this;b.delay(function(){g._start(a,
e,f,{no_credentials:!0})})}).prototype=new x;x=b.XDRObject=function(a,e,f){var g=this;b.delay(function(){g._start(a,e,f)})};x.prototype=new e(["chunk","finish"]);x.prototype._start=function(a,e,f){var g=this,h=new XDomainRequest;e+=(-1===e.indexOf("?")?"?":"&")+"t="+ +new Date;var k=h.ontimeout=h.onerror=function(){g.emit("finish",0,"");g._cleanup(!1)};h.onprogress=function(){g.emit("chunk",200,h.responseText)};h.onload=function(){g.emit("finish",200,h.responseText);g._cleanup(!1)};g.xdr=h;g.unload_ref=
b.unload_add(function(){g._cleanup(!0)});try{g.xdr.open(a,e),g.xdr.send(f)}catch(l){k()}};x.prototype._cleanup=function(a){if(this.xdr){b.unload_del(this.unload_ref);this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null;if(a)try{this.xdr.abort()}catch(e){}this.unload_ref=this.xdr=null}};x.prototype.close=function(){this.nuke();this._cleanup(!0)};b.isXHRCorsCapable=function(){return h.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:h.XDomainRequest&&a.domain?2:E.enabled()?
3:4};var z=function(a,e,f){if(this===h)return new z(a,e,f);var g=this,k;g._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0};f&&b.objectExtend(g._options,f);g._base_url=b.amendUrl(a);g._server=g._options.server||b.random_number_string(1E3);g._options.protocols_whitelist&&g._options.protocols_whitelist.length?k=g._options.protocols_whitelist:("string"==typeof e&&0<e.length?k=[e]:b.isArray(e)?k=e:k=null,k&&g._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.'));
g._protocols=[];g.protocol=null;g.readyState=z.CONNECTING;g._ir=X(g._base_url);g._ir.onfinish=function(a,e){g._ir=null;a?(g._options.info&&(a=b.objectExtend(a,g._options.info)),g._options.rtt&&(e=g._options.rtt),g._applyInfo(a,e,k),g._didClose()):g._didClose(1002,"Can't connect to server",!0)}};z.prototype=new g;z.version="0.3.4";z.CONNECTING=0;z.OPEN=1;z.CLOSING=2;z.CLOSED=3;z.prototype._debug=function(){this._options.debug&&b.log.apply(b,arguments)};z.prototype._dispatchOpen=function(){this.readyState===
z.CONNECTING?(this._transport_tref&&(clearTimeout(this._transport_tref),this._transport_tref=null),this.readyState=z.OPEN,this.dispatchEvent(new f("open"))):this._didClose(1006,"Server lost session")};z.prototype._dispatchMessage=function(a){this.readyState===z.OPEN&&this.dispatchEvent(new f("message",{data:a}))};z.prototype._dispatchHeartbeat=function(a){this.readyState===z.OPEN&&this.dispatchEvent(new f("heartbeat",{}))};z.prototype._didClose=function(a,e,g){var h=this;if(h.readyState!==z.CONNECTING&&
h.readyState!==z.OPEN&&h.readyState!==z.CLOSING)throw Error("INVALID_STATE_ERR");h._ir&&(h._ir.nuke(),h._ir=null);h._transport&&(h._transport.doCleanup(),h._transport=null);var k=new f("close",{code:a,reason:e,wasClean:b.userSetCode(a)});if(!b.userSetCode(a)&&h.readyState===z.CONNECTING&&!g){if(h._try_next_protocol(k))return;k=new f("close",{code:2E3,reason:"All transports failed",wasClean:!1,last_event:k})}h.readyState=z.CLOSED;b.delay(function(){h.dispatchEvent(k)})};z.prototype._didMessage=function(a){switch(a.slice(0,
1)){case "o":this._dispatchOpen();break;case "a":a=JSON.parse(a.slice(1)||"[]");for(var b=0;b<a.length;b++)this._dispatchMessage(a[b]);break;case "m":a=JSON.parse(a.slice(1)||"null");this._dispatchMessage(a);break;case "c":a=JSON.parse(a.slice(1)||"[]");this._didClose(a[0],a[1]);break;case "h":this._dispatchHeartbeat()}};z.prototype._try_next_protocol=function(e){var f=this;f.protocol&&(f._debug("Closed transport:",f.protocol,""+e),f.protocol=null);for(f._transport_tref&&(clearTimeout(f._transport_tref),
f._transport_tref=null);;){e=f.protocol=f._protocols.shift();if(!e)return!1;if(z[e]&&!0===z[e].need_body&&(!a.body||"undefined"!=typeof a.readyState&&"complete"!==a.readyState))return f._protocols.unshift(e),f.protocol="waiting-for-load",b.attachEvent("load",function(){f._try_next_protocol()}),!0;if(z[e]&&z[e].enabled(f._options)){f._transport_tref=b.delay((f._options.rto||0)*(z[e].roundTrips||1)||5E3,function(){f.readyState===z.CONNECTING&&f._didClose(2007,"Transport timeouted")});var g=b.random_string(8),
g=f._base_url+"/"+f._server+"/"+g;return f._debug("Opening transport:",e," url:"+g," RTO:"+f._options.rto),f._transport=new z[e](f,g,f._base_url),!0}f._debug("Skipping transport:",e)}};z.prototype.close=function(a,e){if(a&&!b.userSetCode(a))throw Error("INVALID_ACCESS_ERR");return this.readyState!==z.CONNECTING&&this.readyState!==z.OPEN?!1:(this.readyState=z.CLOSING,this._didClose(a||1E3,e||"Normal closure"),!0)};z.prototype.send=function(a){if(this.readyState===z.CONNECTING)throw Error("INVALID_STATE_ERR");
return this.readyState===z.OPEN&&this._transport.doSend(b.quote(""+a)),!0};z.prototype._applyInfo=function(e,f,g){this._options.info=e;this._options.rtt=f;this._options.rto=b.countRTO(f);this._options.info.null_origin=!a.domain;f=b.probeProtocols();this._protocols=b.detectProtocols(f,g,e)};x=z.websocket=function(a,e){var f=this,g=e+"/websocket";"https"===g.slice(0,5)?g="wss"+g.slice(5):g="ws"+g.slice(4);f.ri=a;f.url=g;f.ws=new (h.WebSocket||h.MozWebSocket)(f.url);f.ws.onmessage=function(a){f.ri._didMessage(a.data)};
f.unload_ref=b.unload_add(function(){f.ws.close()});f.ws.onclose=function(){f.ri._didMessage(b.closeFrame(1006,"WebSocket connection broken"))}};x.prototype.doSend=function(a){this.ws.send("["+a+"]")};x.prototype.doCleanup=function(){var a=this.ws;a&&(a.onmessage=a.onclose=null,a.close(),b.unload_del(this.unload_ref),this.unload_ref=this.ri=this.ws=null)};x.enabled=function(){return!!h.WebSocket||!!h.MozWebSocket};x.roundTrips=2;var B=function(){};B.prototype.send_constructor=function(a){this.send_buffer=
[];this.sender=a};B.prototype.doSend=function(a){this.send_buffer.push(a);this.send_stop||this.send_schedule()};B.prototype.send_schedule_wait=function(){var a=this,e;a.send_stop=function(){a.send_stop=null;clearTimeout(e)};e=b.delay(25,function(){a.send_stop=null;a.send_schedule()})};B.prototype.send_schedule=function(){var a=this;if(0<a.send_buffer.length){var b="["+a.send_buffer.join(",")+"]";a.send_stop=a.sender(a.trans_url,b,function(b,e){a.send_stop=null;!1===b?a.ri._didClose(1006,"Sending error "+
e):a.send_schedule_wait()});a.send_buffer=[]}};B.prototype.send_destructor=function(){this._send_stop&&this._send_stop();this._send_stop=null};var D=function(e,f,g){if(!("_send_form"in this)){var h=this._send_form=a.createElement("form"),k=this._send_area=a.createElement("textarea");k.name="d";h.style.display="none";h.style.position="absolute";h.method="POST";h.enctype="application/x-www-form-urlencoded";h.acceptCharset="UTF-8";h.appendChild(k);a.body.appendChild(h)}var h=this._send_form,k=this._send_area,
l="a"+b.random_string(8);h.target=l;h.action=e+"/jsonp_send?i="+l;var m;try{m=a.createElement('<iframe name="'+l+'">')}catch(n){m=a.createElement("iframe"),m.name=l}m.id=l;h.appendChild(m);m.style.display="none";try{k.value=f}catch(q){b.log("Your browser is seriously broken. Go home! "+q.message)}h.submit();var t=function(a){m.onerror&&(m.onreadystatechange=m.onerror=m.onload=null,b.delay(500,function(){m.parentNode.removeChild(m);m=null}),k.value="",g(!0))};return m.onerror=m.onload=t,m.onreadystatechange=
function(a){"complete"==m.readyState&&t()},t},t=function(a){return function(b,e,f){return(new a("POST",b+"/xhr_send",e)).onfinish=function(a,b){f(200===a||204===a,"http status "+a)},function(a){f(!1,a)}}},A=function(e,f){var g,h=a.createElement("script"),k,l=function(a){k&&(k.parentNode.removeChild(k),k=null);h&&(clearTimeout(g),h.parentNode.removeChild(h),h.onreadystatechange=h.onerror=h.onload=h.onclick=null,h=null,f(a),f=null)},m=!1,n=null;h.id="a"+b.random_string(8);h.src=e;h.type="text/javascript";
h.charset="UTF-8";h.onerror=function(a){n||(n=setTimeout(function(){m||l(b.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1E3))};h.onload=function(a){l(b.closeFrame(1006,"JSONP script loaded abnormally (onload)"))};h.onreadystatechange=function(a){if(/loaded|closed/.test(h.readyState)){if(h&&h.htmlFor&&h.onclick){m=!0;try{h.onclick()}catch(e){}}h&&l(b.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}};if("undefined"==typeof h.async&&a.attachEvent)if(/opera/i.test(navigator.userAgent))k=
a.createElement("script"),k.text="try{var a = document.getElementById('"+h.id+"'); if(a)a.onerror();}catch(x){};",h.async=k.async=!1;else{try{h.htmlFor=h.id,h.event="onclick"}catch(q){}h.async=!0}"undefined"!=typeof h.async&&(h.async=!0);g=setTimeout(function(){l(b.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35E3);var t=a.getElementsByTagName("head")[0];return t.insertBefore(h,t.firstChild),k&&t.insertBefore(k,t.firstChild),l},x=z["jsonp-polling"]=function(a,e){b.polluteGlobalNamespace();
this.ri=a;this.trans_url=e;this.send_constructor(D);this._schedule_recv()};x.prototype=new B;x.prototype._schedule_recv=function(){var a=this;a._recv_stop=F(a.trans_url+"/jsonp",A,function(b){a._recv_stop=null;b&&(a._is_closing||a.ri._didMessage(b));a._is_closing||a._schedule_recv()})};x.enabled=function(){return!0};x.need_body=!0;x.prototype.doCleanup=function(){this._is_closing=!0;this._recv_stop&&this._recv_stop();this.ri=this._recv_stop=null;this.send_destructor()};var F=function(a,e,f){var g=
"a"+b.random_string(6);a=a+"?c="+escape("_jp."+g);var k=0;e=e(a,function(a){switch(k){case 0:delete h._jp[g];f(a);break;case 1:f(a);k=2;break;case 2:delete h._jp[g]}});h._jp[g]=e;return function(){h._jp[g]&&(k=1,h._jp[g](b.closeFrame(1E3,"JSONP user aborted read")))}},x=function(){};x.prototype=new B;x.prototype.run=function(a,b,e,f,g){this.ri=a;this.trans_url=b;this.send_constructor(t(g));this.poll=new T(a,f,b+e,g)};x.prototype.doCleanup=function(){this.poll&&(this.poll.abort(),this.poll=null)};
var G=z["xhr-streaming"]=function(a,e){this.run(a,e,"/xhr_streaming",ha,b.XHRCorsObject)};G.prototype=new x;G.enabled=function(){return h.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)};G.roundTrips=2;G.need_body=!0;B=z["xdr-streaming"]=function(a,e){this.run(a,e,"/xhr_streaming",ha,b.XDRObject)};B.prototype=new x;B.enabled=function(){return!!h.XDomainRequest};B.roundTrips=2;var K=z["xhr-polling"]=function(a,e){this.run(a,e,"/xhr",ha,b.XHRCorsObject)};
K.prototype=new x;K.enabled=G.enabled;K.roundTrips=2;G=z["xdr-polling"]=function(a,e){this.run(a,e,"/xhr",ha,b.XDRObject)};G.prototype=new x;G.enabled=B.enabled;G.roundTrips=2;var E=function(){};E.prototype.i_constructor=function(a,e,f){var g=this;g.ri=a;g.origin=b.getOrigin(f);g.base_url=f;g.trans_url=e;a=f+"/iframe.html";g.ri._options.devel&&(a+="?t="+ +new Date);g.window_id=b.random_string(8);a+="#"+g.window_id;g.iframeObj=b.createIframe(a,function(a){g.ri._didClose(1006,"Unable to load an iframe ("+
a+")")});g.onmessage_cb=b.bind(g.onmessage,g);b.attachMessage(g.onmessage_cb)};E.prototype.doCleanup=function(){if(this.iframeObj){b.detachMessage(this.onmessage_cb);try{this.iframeObj.iframe.contentWindow&&this.postMessage("c")}catch(a){}this.iframeObj.cleanup();this.onmessage_cb=this.iframeObj=this.iframeObj=null}};E.prototype.onmessage=function(a){if(a.origin===this.origin){var b=a.data.slice(0,8),e=a.data.slice(8,9);a=a.data.slice(9);if(b===this.window_id)switch(e){case "s":this.iframeObj.loaded();
this.postMessage("s",JSON.stringify([z.version,this.protocol,this.trans_url,this.base_url]));break;case "t":this.ri._didMessage(a)}}};E.prototype.postMessage=function(a,b){this.iframeObj.post(this.window_id+a+(b||""),this.origin)};E.prototype.doSend=function(a){this.postMessage("m",a)};E.enabled=function(){var a=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof h.postMessage||"object"==typeof h.postMessage)&&!a};var O,J=function(a,e){parent!==
h?parent.postMessage(O+a+(e||""),"*"):b.log("Can't postMessage, no parent window.",a,e)},M=function(){};M.prototype._didClose=function(a,e){J("t",b.closeFrame(a,e))};M.prototype._didMessage=function(a){J("t",a)};M.prototype._doSend=function(a){this._transport.doSend(a)};M.prototype._doCleanup=function(){this._transport.doCleanup()};b.parent_origin=void 0;z.bootstrap_iframe=function(){var e;O=a.location.hash.slice(1);b.attachMessage(function(a){if(a.source===parent&&("undefined"==typeof b.parent_origin&&
(b.parent_origin=a.origin),a.origin===b.parent_origin)){var f=a.data.slice(0,8),g=a.data.slice(8,9);a=a.data.slice(9);if(f===O)switch(g){case "s":var k=JSON.parse(a),f=k[0],g=k[1];a=k[2];k=k[3];f!==z.version&&b.log('Incompatibile SockJS! Main site uses: "'+f+'", the iframe: "'+z.version+'".');if(!b.flatUrl(a)||!b.flatUrl(k)){b.log("Only basic urls are supported in SockJS");break}if(!b.isSameOriginUrl(a)||!b.isSameOriginUrl(k)){b.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([h.location.href,
a,k])+")");break}e=new M;e._transport=new M[g](e,a,k);break;case "m":e._doSend(a);break;case "c":e&&e._doCleanup(),e=null}}});J("s")};var L=function(a,e){var f=this;b.delay(function(){f.doXhr(a,e)})};L.prototype=new e(["finish"]);L.prototype.doXhr=function(a,e){var f=this,g=(new Date).getTime(),h=new e("GET",a+"/info"),k=b.delay(8E3,function(){h.ontimeout()});h.onfinish=function(a,b){clearTimeout(k);k=null;if(200===a){var e=(new Date).getTime()-g,h=JSON.parse(b);"object"!=typeof h&&(h={});f.emit("finish",
h,e)}else f.emit("finish")};h.ontimeout=function(){h.close();f.emit("finish")}};var R=function(e){var f=this,g=function(){var a=new E;a.protocol="w-iframe-info-receiver";var b=function(b){"string"==typeof b&&"m"===b.substr(0,1)?(b=JSON.parse(b.substr(1)),f.emit("finish",b[0],b[1])):f.emit("finish");a.doCleanup();a=null};a.i_constructor({_options:{},_didClose:b,_didMessage:b},e,e)};a.body?g():b.attachEvent("load",g)};R.prototype=new e(["finish"]);var Q=function(){var a=this;b.delay(function(){a.emit("finish",
{},2E3)})};Q.prototype=new e(["finish"]);var X=function(a){if(b.isSameOriginUrl(a))return new L(a,b.XHRLocalObject);switch(b.isXHRCorsCapable()){case 1:return new L(a,b.XHRLocalObject);case 2:return new L(a,b.XDRObject);case 3:return new R(a);default:return new Q}};(M["w-iframe-info-receiver"]=function(a,e,f){(new L(f,b.XHRLocalObject)).onfinish=function(b,e){a._didMessage("m"+JSON.stringify([b,e]));a._didClose()}}).prototype.doCleanup=function(){};e=z["iframe-eventsource"]=function(){this.protocol=
"w-iframe-eventsource";this.i_constructor.apply(this,arguments)};e.prototype=new E;e.enabled=function(){return"EventSource"in h&&E.enabled()};e.need_body=!0;e.roundTrips=3;(M["w-iframe-eventsource"]=function(a,e){this.run(a,e,"/eventsource",ea,b.XHRLocalObject)}).prototype=new x;e=z["iframe-xhr-polling"]=function(){this.protocol="w-iframe-xhr-polling";this.i_constructor.apply(this,arguments)};e.prototype=new E;e.enabled=function(){return h.XMLHttpRequest&&E.enabled()};e.need_body=!0;e.roundTrips=
3;(M["w-iframe-xhr-polling"]=function(a,e){this.run(a,e,"/xhr",ha,b.XHRLocalObject)}).prototype=new x;e=z["iframe-htmlfile"]=function(){this.protocol="w-iframe-htmlfile";this.i_constructor.apply(this,arguments)};e.prototype=new E;e.enabled=function(){return E.enabled()};e.need_body=!0;e.roundTrips=3;(M["w-iframe-htmlfile"]=function(a,e){this.run(a,e,"/htmlfile",Z,b.XHRLocalObject)}).prototype=new x;var T=function(a,b,e,f){this.ri=a;this.Receiver=b;this.recv_url=e;this.AjaxObject=f;this._scheduleRecv()};
T.prototype._scheduleRecv=function(){var a=this,b=a.poll=new a.Receiver(a.recv_url,a.AjaxObject);b.onmessage=function(b){a.ri._didMessage(b.data)};b.onclose=function(e){a.poll=b=b.onmessage=b.onclose=null;a.poll_is_closing||("permanent"===e.reason?a.ri._didClose(1006,"Polling error ("+e.reason+")"):a._scheduleRecv())}};T.prototype.abort=function(){this.poll_is_closing=!0;this.poll&&this.poll.abort()};var ea=function(a){var e=this,g=new EventSource(a);g.onmessage=function(a){e.dispatchEvent(new f("message",
{data:unescape(a.data)}))};e.es_close=g.onerror=function(a,h){var k=h?"user":2!==g.readyState?"network":"permanent";e.es_close=g.onmessage=g.onerror=null;g.close();g=null;b.delay(200,function(){e.dispatchEvent(new f("close",{reason:k}))})}};ea.prototype=new g;ea.prototype.abort=function(){this.es_close&&this.es_close({},!0)};var N,Z=function(a){var e=this;b.polluteGlobalNamespace();e.id="a"+b.random_string(6,26);a+=(-1===a.indexOf("?")?"?":"&")+"c="+escape("_jp."+e.id);if(void 0===N)if("ActiveXObject"in
h)try{N=!!new ActiveXObject("htmlfile")}catch(g){}else N=!1;var k=N?b.createHtmlfile:b.createIframe,l;h._jp[e.id]={start:function(){l.loaded()},message:function(a){e.dispatchEvent(new f("message",{data:a}))},stop:function(){e.iframe_close({},"network")}};e.iframe_close=function(a,b){l.cleanup();e.iframe_close=l=null;delete h._jp[e.id];e.dispatchEvent(new f("close",{reason:b}))};l=k(a,function(a){e.iframe_close({},"permanent")})};Z.prototype=new g;Z.prototype.abort=function(){this.iframe_close&&this.iframe_close({},
"user")};var ha=function(a,b){var e=this,g=0;e.xo=new b("POST",a,null);e.xo.onchunk=function(a,b){if(200===a)for(;;){var h=b.slice(g),k=h.indexOf("\n");if(-1===k)break;g+=k+1;h=h.slice(0,k);e.dispatchEvent(new f("message",{data:h}))}};e.xo.onfinish=function(a,b){e.xo.onchunk(a,b);e.xo=null;e.dispatchEvent(new f("close",{reason:200===a?"network":"permanent"}))}};return ha.prototype=new g,ha.prototype.abort=function(){this.xo&&(this.xo.close(),this.dispatchEvent(new f("close",{reason:"user"})),this.xo=
null)},z.getUtils=function(){return b},z.getIframeTransport=function(){return E},z}();"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1);"function"==typeof define&&define.amd&&define("sockjs",[],function(){return SockJS});!function(a,h){"function"==typeof define&&define.amd?define("stackframe",[],h):"object"==typeof exports?module.exports=h():a.StackFrame=h()}(this,function(){function a(a){return!isNaN(parseFloat(a))&&isFinite(a)}function h(a,g,f,e,h,k){void 0!==a&&this.setFunctionName(a);void 0!==g&&this.setArgs(g);void 0!==f&&this.setFileName(f);void 0!==e&&this.setLineNumber(e);void 0!==h&&this.setColumnNumber(h);void 0!==k&&this.setSource(k)}return h.prototype={getFunctionName:function(){return this.functionName},
setFunctionName:function(a){this.functionName=String(a)},getArgs:function(){return this.args},setArgs:function(a){if("[object Array]"!==Object.prototype.toString.call(a))throw new TypeError("Args must be an Array");this.args=a},getFileName:function(){return this.fileName},setFileName:function(a){this.fileName=String(a)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(b){if(!a(b))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(b)},getColumnNumber:function(){return this.columnNumber},
setColumnNumber:function(b){if(!a(b))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(b)},getSource:function(){return this.source},setSource:function(a){this.source=String(a)},toString:function(){var b=this.getFunctionName()||"{anonymous}",g="("+(this.getArgs()||[]).join(",")+")",f=this.getFileName()?"@"+this.getFileName():"",e=a(this.getLineNumber())?":"+this.getLineNumber():"",h=a(this.getColumnNumber())?":"+this.getColumnNumber():"";return b+g+f+e+h}},h});
var SourceMap=function(a){function h(g){if(b[g])return b[g].exports;var f=b[g]={exports:{},id:g,loaded:!1};return a[g].call(f.exports,f,f.exports,h),f.loaded=!0,f.exports}var b={};return h.m=a,h.c=b,h.p="",h(0)}([function(a,h,b){function g(a){var b=a;return"string"==typeof a&&(b=JSON.parse(a.replace(/^\)\]\}'/,""))),null!=b.sections?new l(b):new f(b)}function f(a){var b=a;"string"==typeof a&&(b=JSON.parse(a.replace(/^\)\]\}'/,"")));a=k.getArg(b,"version");var e=k.getArg(b,"sources"),f=k.getArg(b,
"names",[]),g=k.getArg(b,"sourceRoot",null),h=k.getArg(b,"sourcesContent",null),l=k.getArg(b,"mappings"),b=k.getArg(b,"file",null);if(a!=this._version)throw Error("Unsupported version: "+a);e=e.map(k.normalize).map(function(a){return g&&k.isAbsolute(g)&&k.isAbsolute(a)?k.relative(g,a):a});this._names=m.fromArray(f,!0);this._sources=m.fromArray(e,!0);this.sourceRoot=g;this.sourcesContent=h;this._mappings=l;this.file=b}function e(){this.generatedColumn=this.generatedLine=0;this.name=this.originalColumn=
this.originalLine=this.source=null}function l(a){var b=a;"string"==typeof a&&(b=JSON.parse(a.replace(/^\)\]\}'/,"")));a=k.getArg(b,"version");b=k.getArg(b,"sections");if(a!=this._version)throw Error("Unsupported version: "+a);this._sources=new m;this._names=new m;var e={line:-1,column:0};this._sections=b.map(function(a){if(a.url)throw Error("Support for url field in sections not implemented.");var b=k.getArg(a,"offset"),f=k.getArg(b,"line"),h=k.getArg(b,"column");if(f<e.line||f===e.line&&h<e.column)throw Error("Section offsets must be ordered and non-overlapping.");
return e=b,{generatedOffset:{generatedLine:f+1,generatedColumn:h+1},consumer:new g(k.getArg(a,"map"))}})}var k=b(1),n=b(2),m=b(3).ArraySet,p=b(4),r=b(6).quickSort;g.fromSourceMap=function(a){return f.fromSourceMap(a)};g.prototype._version=3;g.prototype.__generatedMappings=null;Object.defineProperty(g.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});g.prototype.__originalMappings=null;Object.defineProperty(g.prototype,
"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});g.prototype._charIsMappingSeparator=function(a,b){var e=a.charAt(b);return";"===e||","===e};g.prototype._parseMappings=function(a,b){throw Error("Subclasses must implement _parseMappings");};g.GENERATED_ORDER=1;g.ORIGINAL_ORDER=2;g.GREATEST_LOWER_BOUND=1;g.LEAST_UPPER_BOUND=2;g.prototype.eachMapping=function(a,b,e){b=b||null;switch(e||g.GENERATED_ORDER){case g.GENERATED_ORDER:e=
this._generatedMappings;break;case g.ORIGINAL_ORDER:e=this._originalMappings;break;default:throw Error("Unknown order of iteration.");}var f=this.sourceRoot;e.map(function(a){var b=null===a.source?null:this._sources.at(a.source);return null!=b&&null!=f&&(b=k.join(f,b)),{source:b,generatedLine:a.generatedLine,generatedColumn:a.generatedColumn,originalLine:a.originalLine,originalColumn:a.originalColumn,name:null===a.name?null:this._names.at(a.name)}},this).forEach(a,b)};g.prototype.allGeneratedPositionsFor=
function(a){var b=k.getArg(a,"line"),e={source:k.getArg(a,"source"),originalLine:b,originalColumn:k.getArg(a,"column",0)};if(null!=this.sourceRoot&&(e.source=k.relative(this.sourceRoot,e.source)),!this._sources.has(e.source))return[];e.source=this._sources.indexOf(e.source);var f=[],e=this._findMapping(e,this._originalMappings,"originalLine","originalColumn",k.compareByOriginalPositions,n.LEAST_UPPER_BOUND);if(0<=e){var g=this._originalMappings[e];if(void 0===a.column)for(b=g.originalLine;g&&g.originalLine===
b;)f.push({line:k.getArg(g,"generatedLine",null),column:k.getArg(g,"generatedColumn",null),lastColumn:k.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++e];else for(a=g.originalColumn;g&&g.originalLine===b&&g.originalColumn==a;)f.push({line:k.getArg(g,"generatedLine",null),column:k.getArg(g,"generatedColumn",null),lastColumn:k.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++e]}return f};h.SourceMapConsumer=g;f.prototype=Object.create(g.prototype);f.prototype.consumer=
g;f.fromSourceMap=function(a){var b=Object.create(f.prototype),g=b._names=m.fromArray(a._names.toArray(),!0),h=b._sources=m.fromArray(a._sources.toArray(),!0);b.sourceRoot=a._sourceRoot;b.sourcesContent=a._generateSourcesContent(b._sources.toArray(),b.sourceRoot);b.file=a._file;a=a._mappings.toArray().slice();for(var l=b.__generatedMappings=[],n=b.__originalMappings=[],p=0,D=a.length;D>p;p++){var t=a[p],A=new e;A.generatedLine=t.generatedLine;A.generatedColumn=t.generatedColumn;t.source&&(A.source=
h.indexOf(t.source),A.originalLine=t.originalLine,A.originalColumn=t.originalColumn,t.name&&(A.name=g.indexOf(t.name)),n.push(A));l.push(A)}return r(b.__originalMappings,k.compareByOriginalPositions),b};f.prototype._version=3;Object.defineProperty(f.prototype,"sources",{get:function(){return this._sources.toArray().map(function(a){return null!=this.sourceRoot?k.join(this.sourceRoot,a):a},this)}});f.prototype._parseMappings=function(a,b){for(var f,g,h,l,m,n=1,t=0,A=0,F=0,G=0,K=0,E=a.length,O=0,J={},
M={},L=[],R=[];E>O;)if(";"===a.charAt(O))n++,O++,t=0;else if(","===a.charAt(O))O++;else{f=new e;f.generatedLine=n;for(l=O;E>l&&!this._charIsMappingSeparator(a,l);l++);if(g=a.slice(O,l),h=J[g])O+=g.length;else{for(h=[];l>O;)p.decode(a,O,M),m=M.value,O=M.rest,h.push(m);if(2===h.length)throw Error("Found a source, but no line and column");if(3===h.length)throw Error("Found a source and line, but no column");J[g]=h}f.generatedColumn=t+h[0];t=f.generatedColumn;1<h.length&&(f.source=G+h[1],G+=h[1],f.originalLine=
A+h[2],A=f.originalLine,f.originalLine+=1,f.originalColumn=F+h[3],F=f.originalColumn,4<h.length&&(f.name=K+h[4],K+=h[4]));R.push(f);"number"==typeof f.originalLine&&L.push(f)}r(R,k.compareByGeneratedPositionsDeflated);this.__generatedMappings=R;r(L,k.compareByOriginalPositions);this.__originalMappings=L};f.prototype._findMapping=function(a,b,e,f,g,h){if(0>=a[e])throw new TypeError("Line must be greater than or equal to 1, got "+a[e]);if(0>a[f])throw new TypeError("Column must be greater than or equal to 0, got "+
a[f]);return n.search(a,b,g,h)};f.prototype.computeColumnSpans=function(){for(var a=0;a<this._generatedMappings.length;++a){var b=this._generatedMappings[a];if(a+1<this._generatedMappings.length){var e=this._generatedMappings[a+1];if(b.generatedLine===e.generatedLine){b.lastGeneratedColumn=e.generatedColumn-1;continue}}b.lastGeneratedColumn=1/0}};f.prototype.originalPositionFor=function(a){var b={generatedLine:k.getArg(a,"line"),generatedColumn:k.getArg(a,"column")};a=this._findMapping(b,this._generatedMappings,
"generatedLine","generatedColumn",k.compareByGeneratedPositionsDeflated,k.getArg(a,"bias",g.GREATEST_LOWER_BOUND));if(0<=a&&(a=this._generatedMappings[a],a.generatedLine===b.generatedLine)){b=k.getArg(a,"source",null);null!==b&&(b=this._sources.at(b),null!=this.sourceRoot&&(b=k.join(this.sourceRoot,b)));var e=k.getArg(a,"name",null);return null!==e&&(e=this._names.at(e)),{source:b,line:k.getArg(a,"originalLine",null),column:k.getArg(a,"originalColumn",null),name:e}}return{source:null,line:null,column:null,
name:null}};f.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(a){return null==a}):!1};f.prototype.sourceContentFor=function(a,b){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(a=k.relative(this.sourceRoot,a)),this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];var e;if(null!=this.sourceRoot&&(e=k.urlParse(this.sourceRoot))){var f=a.replace(/^file:\/\//,
"");if("file"==e.scheme&&this._sources.has(f))return this.sourcesContent[this._sources.indexOf(f)];if((!e.path||"/"==e.path)&&this._sources.has("/"+a))return this.sourcesContent[this._sources.indexOf("/"+a)]}if(b)return null;throw Error('"'+a+'" is not in the SourceMap.');};f.prototype.generatedPositionFor=function(a){var b=k.getArg(a,"source");if(null!=this.sourceRoot&&(b=k.relative(this.sourceRoot,b)),!this._sources.has(b))return{line:null,column:null,lastColumn:null};b=this._sources.indexOf(b);
b={source:b,originalLine:k.getArg(a,"line"),originalColumn:k.getArg(a,"column")};a=this._findMapping(b,this._originalMappings,"originalLine","originalColumn",k.compareByOriginalPositions,k.getArg(a,"bias",g.GREATEST_LOWER_BOUND));return 0<=a&&(a=this._originalMappings[a],a.source===b.source)?{line:k.getArg(a,"generatedLine",null),column:k.getArg(a,"generatedColumn",null),lastColumn:k.getArg(a,"lastGeneratedColumn",null)}:{line:null,column:null,lastColumn:null}};h.BasicSourceMapConsumer=f;l.prototype=
Object.create(g.prototype);l.prototype.constructor=g;l.prototype._version=3;Object.defineProperty(l.prototype,"sources",{get:function(){for(var a=[],b=0;b<this._sections.length;b++)for(var e=0;e<this._sections[b].consumer.sources.length;e++)a.push(this._sections[b].consumer.sources[e]);return a}});l.prototype.originalPositionFor=function(a){var b={generatedLine:k.getArg(a,"line"),generatedColumn:k.getArg(a,"column")},e=n.search(b,this._sections,function(a,b){var e=a.generatedLine-b.generatedOffset.generatedLine;
return e?e:a.generatedColumn-b.generatedOffset.generatedColumn});return(e=this._sections[e])?e.consumer.originalPositionFor({line:b.generatedLine-(e.generatedOffset.generatedLine-1),column:b.generatedColumn-(e.generatedOffset.generatedLine===b.generatedLine?e.generatedOffset.generatedColumn-1:0),bias:a.bias}):{source:null,line:null,column:null,name:null}};l.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(a){return a.consumer.hasContentsOfAllSources()})};l.prototype.sourceContentFor=
function(a,b){for(var e=0;e<this._sections.length;e++){var f=this._sections[e].consumer.sourceContentFor(a,!0);if(f)return f}if(b)return null;throw Error('"'+a+'" is not in the SourceMap.');};l.prototype.generatedPositionFor=function(a){for(var b=0;b<this._sections.length;b++){var e=this._sections[b];if(-1!==e.consumer.sources.indexOf(k.getArg(a,"source"))){var f=e.consumer.generatedPositionFor(a);if(f)return{line:f.line+(e.generatedOffset.generatedLine-1),column:f.column+(e.generatedOffset.generatedLine===
f.line?e.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}};l.prototype._parseMappings=function(a,b){this.__generatedMappings=[];this.__originalMappings=[];for(var e=0;e<this._sections.length;e++)for(var f=this._sections[e],g=f.consumer._generatedMappings,h=0;h<g.length;h++){var l=g[e],m=f.consumer._sources.at(l.source);null!==f.consumer.sourceRoot&&(m=k.join(f.consumer.sourceRoot,m));this._sources.add(m);var m=this._sources.indexOf(m),n=f.consumer._names.at(l.name);this._names.add(n);
n=this._names.indexOf(n);l={source:m,generatedLine:l.generatedLine+(f.generatedOffset.generatedLine-1),generatedColumn:l.column+(f.generatedOffset.generatedLine===l.generatedLine)?f.generatedOffset.generatedColumn-1:0,originalLine:l.originalLine,originalColumn:l.originalColumn,name:n};this.__generatedMappings.push(l);"number"==typeof l.originalLine&&this.__originalMappings.push(l)}r(this.__generatedMappings,k.compareByGeneratedPositionsDeflated);r(this.__originalMappings,k.compareByOriginalPositions)};
h.IndexedSourceMapConsumer=l},function(a,h){function b(a){return(a=a.match(e))?{scheme:a[1],auth:a[2],host:a[3],port:a[4],path:a[5]}:null}function g(a){var b="";return a.scheme&&(b+=a.scheme+":"),b+="//",a.auth&&(b+=a.auth+"@"),a.host&&(b+=a.host),a.port&&(b+=":"+a.port),a.path&&(b+=a.path),b}function f(a){var e=a,f=b(a);if(f){if(!f.path)return a;e=f.path}for(var l=h.isAbsolute(e),r=e.split(/\/+/),q=0,u=r.length-1;0<=u;u--)a=r[u],"."===a?r.splice(u,1):".."===a?q++:0<q&&(""===a?(r.splice(u+1,q),q=
0):(r.splice(u,2),q--));return e=r.join("/"),""===e&&(e=l?"/":"."),f?(f.path=e,g(f)):e}h.getArg=function(a,b,e){if(b in a)return a[b];if(3===arguments.length)return e;throw Error('"'+b+'" is a required argument.');};var e=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,l=/^data:.+\,.+$/;h.urlParse=b;h.urlGenerate=g;h.normalize=f;h.join=function(a,e){""===a&&(a=".");""===e&&(e=".");var h=b(e),p=b(a);if(p&&(a=p.path||"/"),h&&!h.scheme)return p&&(h.scheme=p.scheme),g(h);if(h||e.match(l))return e;
if(p&&!p.host&&!p.path)return p.host=e,g(p);h="/"===e.charAt(0)?e:f(a.replace(/\/+$/,"")+"/"+e);return p?(p.path=h,g(p)):h};h.isAbsolute=function(a){return"/"===a.charAt(0)||!!a.match(e)};h.relative=function(a,b){""===a&&(a=".");a=a.replace(/\/$/,"");for(var e=0;0!==b.indexOf(a+"/");){var f=a.lastIndexOf("/");if(0>f||(a=a.slice(0,f),a.match(/^([^\/]+:\/)?\/*$/)))return b;++e}return Array(e+1).join("../")+b.substr(a.length+1)};h.toSetString=function(a){return"$"+a};h.fromSetString=function(a){return a.substr(1)};
h.compareByOriginalPositions=function(a,b,e){var f=a.source-b.source;return 0!==f?f:(f=a.originalLine-b.originalLine,0!==f?f:(f=a.originalColumn-b.originalColumn,0!==f||e?f:(f=a.generatedColumn-b.generatedColumn,0!==f?f:(f=a.generatedLine-b.generatedLine,0!==f?f:a.name-b.name))))};h.compareByGeneratedPositionsDeflated=function(a,b,e){var f=a.generatedLine-b.generatedLine;return 0!==f?f:(f=a.generatedColumn-b.generatedColumn,0!==f||e?f:(f=a.source-b.source,0!==f?f:(f=a.originalLine-b.originalLine,
0!==f?f:(f=a.originalColumn-b.originalColumn,0!==f?f:a.name-b.name))))};h.compareByGeneratedPositionsInflated=function(a,b){var e=a.generatedLine-b.generatedLine;if(0===e&&(e=a.generatedColumn-b.generatedColumn,0===e)){var e=a.source,f=b.source,e=e===f?0:e>f?1:-1;0===e&&(e=a.originalLine-b.originalLine,0===e&&(e=a.originalColumn-b.originalColumn,0===e&&(e=a.name,f=b.name,e=e===f?0:e>f?1:-1)))}return e}},function(a,h){function b(a,f,e,l,k,n){var m=Math.floor((f-a)/2)+a,p=k(e,l[m],!0);return 0===p?
m:0<p?1<f-m?b(m,f,e,l,k,n):n==h.LEAST_UPPER_BOUND?f<l.length?f:-1:m:1<m-a?b(a,m,e,l,k,n):n==h.LEAST_UPPER_BOUND?m:0>a?-1:a}h.GREATEST_LOWER_BOUND=1;h.LEAST_UPPER_BOUND=2;h.search=function(a,f,e,l){if(0===f.length)return-1;a=b(-1,f.length,a,f,e,l||h.GREATEST_LOWER_BOUND);if(0>a)return-1;for(;0<=a-1&&0===e(f[a],f[a-1],!0);)--a;return a}},function(a,h,b){function g(){this._array=[];this._set={}}var f=b(1);g.fromArray=function(a,b){for(var f=new g,h=0,m=a.length;m>h;h++)f.add(a[h],b);return f};g.prototype.size=
function(){return Object.getOwnPropertyNames(this._set).length};g.prototype.add=function(a,b){var g=f.toSetString(a),h=this._set.hasOwnProperty(g),m=this._array.length;h&&!b||this._array.push(a);h||(this._set[g]=m)};g.prototype.has=function(a){a=f.toSetString(a);return this._set.hasOwnProperty(a)};g.prototype.indexOf=function(a){var b=f.toSetString(a);if(this._set.hasOwnProperty(b))return this._set[b];throw Error('"'+a+'" is not in the set.');};g.prototype.at=function(a){if(0<=a&&a<this._array.length)return this._array[a];
throw Error("No element indexed by "+a);};g.prototype.toArray=function(){return this._array.slice()};h.ArraySet=g},function(a,h,b){var g=b(5);h.encode=function(a){var b="",h=0>a?(-a<<1)+1:(a<<1)+0;do a=h&31,h>>>=5,0<h&&(a|=32),b+=g.encode(a);while(0<h);return b};h.decode=function(a,b,h){var k,n,m=a.length,p=0,r=0;do{if(b>=m)throw Error("Expected more digits in base 64 VLQ value.");if(n=g.decode(a.charCodeAt(b++)),-1===n)throw Error("Invalid base64 digit: "+a.charAt(b-1));k=!!(n&32);n&=31;p+=n<<r;
r+=5}while(k);a=p>>1;h.value=1===(1&p)?-a:a;h.rest=b}},function(a,h){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");h.encode=function(a){if(0<=a&&a<b.length)return b[a];throw new TypeError("Must be between 0 and 63: "+a);};h.decode=function(a){return 65<=a&&90>=a?a-65:97<=a&&122>=a?a-97+26:48<=a&&57>=a?a-48+52:43==a?62:47==a?63:-1}},function(a,h){function b(a,b,g){var h=a[b];a[b]=a[g];a[g]=h}function g(a,e,h,k){if(k>h){var n;n=Math.round(h+Math.random()*(k-h));
var m=h-1;b(a,n,k);n=a[k];for(var p=h;k>p;p++)0>=e(a[p],n)&&(m+=1,b(a,m,p));b(a,m+1,p);m+=1;g(a,e,h,m-1);g(a,e,m+1,k)}}h.quickSort=function(a,b){g(a,b,0,a.length-1)}}]);
!function(a,h){"function"==typeof define&&define.amd?define("stacktrace-gps",["source-map","stackframe"],h):"object"==typeof exports?module.exports=h(require("source-map/lib/source-map-consumer"),require("stackframe")):a.StackTraceGPS=h(a.SourceMap,a.StackFrame)}(this,function(a,h){function b(a){return new Promise(function(b,f){var g=new XMLHttpRequest;g.open("get",a);g.onerror=f;g.onreadystatechange=function(){4===g.readyState&&(200<=g.status&&300>g.status?b(g.responseText):f(Error("HTTP status: "+
g.status+" retrieving "+a)))};g.send()})}function g(a){if("object"!=typeof a)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof a.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof a.lineNumber||0!==a.lineNumber%1||1>a.lineNumber)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof a.columnNumber||0!==a.columnNumber%1||0>a.columnNumber)throw new TypeError("Given column number must be a non-negative integer");
return!0}function f(a){if((a=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)$/.exec(a))&&a[1])return a[1];throw Error("sourceMappingURL not found");}return function l(k){return this instanceof l?(k=k||{},this.sourceCache=k.sourceCache||{},this.ajax=b,this._get=function(a){return new Promise(function(b,f){var g="data:"===a.substr(0,5);this.sourceCache[a]?b(this.sourceCache[a]):k.offline&&!g?f(Error("Cannot make network requests in offline mode")):g?"application/json;base64"!==a.substr(5,23)?f(Error("The encoding of the inline sourcemap is not supported")):
(g=a.substr(29),g=window.atob(g),this.sourceCache[a]=g,b(g)):(g=this.ajax(a,{method:"get"}),this.sourceCache[a]=g,g.then(b,f))}.bind(this))},this.pinpoint=function(a){return new Promise(function(b,f){this.getMappedLocation(a).then(function(a){function f(){b(a)}this.findFunctionName(a).then(b,f)["catch"](f)}.bind(this),f)}.bind(this))},this.findFunctionName=function(a){return new Promise(function(b,f){g(a);this._get(a.fileName).then(function(f){var g;a:{g=a.lineNumber;var k,l,p,x=/function\s+([^(]*?)\s*\(([^)]*)\)/,
z=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,B=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/;f=f.split("\n");for(var D="",t=Math.min(g,20),A=0;t>A;++A)if(k=f[g-A-1],p=k.indexOf("//"),0<=p&&(k=k.substr(0,p)),k){if(D=k+D,l=z.exec(D),l&&l[1]){g=l[1];break a}if(l=x.exec(D),l&&l[1]){g=l[1];break a}if(l=B.exec(D),l&&l[1]){g=l[1];break a}}g=void 0}b(new h(g,a.args,a.fileName,a.lineNumber,a.columnNumber))},f)["catch"](f)}.bind(this))},void(this.getMappedLocation=
function(b){return new Promise(function(k,l){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw Error("Unable to consume source maps in older browsers");g(b);var r=this.sourceCache,q=b.fileName;this._get(q).then(function(g){g=f(g);var w="data:"===g.substr(0,5);"/"===g[0]||w||(g=q.substring(0,q.lastIndexOf("/")+1)+g);this._get(g).then(function(f){var g;g=b.args;var l=b.lineNumber,q=b.columnNumber;f=new a.SourceMapConsumer(f);l=f.originalPositionFor({line:l,column:q});
q=f.sourceContentFor(l.source);g=(q&&(r[l.source]=q),new h(l.name,g,l.source,l.line,l.column));k(g)},l)["catch"](l)}.bind(this),l)["catch"](l)}.bind(this))})):new l(k)}});
(function(a,h){"function"==typeof define&&define.amd?define("stack-generator",["stackframe"],h):"object"==typeof exports?module.exports=h(require("stackframe")):a.StackGenerator=h(a.StackFrame)})(this,function(a){return{backtrace:function(h){var b=[],g=10;"object"==typeof h&&"number"==typeof h.maxStackSize&&(g=h.maxStackSize);for(var f=arguments.callee;f&&b.length<g;){for(var e=Array(f.arguments.length),l=0;l<e.length;++l)e[l]=f.arguments[l];/function(?:\s+([\w$]+))+\s*\(/.test(f.toString())?b.push(new a(RegExp.$1||
void 0,e)):b.push(new a(void 0,e));try{f=f.caller}catch(k){break}}return b}}});
(function(a,h){"function"==typeof define&&define.amd?define("error-stack-parser",["stackframe"],h):"object"==typeof exports?module.exports=h(require("stackframe")):a.ErrorStackParser=h(a.StackFrame)})(this,function(a){var h=/(^|@)\S+\:\d+/,b=/\s+at .*(\S+\:\d+|\(native\))/;return{parse:function(a){if("undefined"!=typeof a.stacktrace||"undefined"!=typeof a["opera#sourceloc"])return this.parseOpera(a);if(a.stack&&a.stack.match(b))return this.parseV8OrIE(a);if(a.stack&&a.stack.match(h))return this.parseFFOrSafari(a);
throw Error("Cannot parse given Error object");},extractLocation:function(a){if(-1===a.indexOf(":"))return[a];a=a.replace(/[\(\)\s]/g,"").split(":");var b=a.pop(),e=a[a.length-1];return!isNaN(parseFloat(e))&&isFinite(e)?(e=a.pop(),[a.join(":"),e,b]):[a.join(":"),b,void 0]},parseV8OrIE:function(g){return g.stack.split("\n").filter(function(a){return!!a.match(b)},this).map(function(b){var e=b.replace(/^\s+/,"").split(/\s+/).slice(1),g=this.extractLocation(e.pop());return new a(e[0]&&"Anonymous"!==e[0]?
e[0]:void 0,void 0,g[0],g[1],g[2],b)},this)},parseFFOrSafari:function(b){return b.stack.split("\n").filter(function(a){return!!a.match(h)},this).map(function(b){var e=b.split("@"),g=this.extractLocation(e.pop()),e=e.shift()||void 0;return new a(e,void 0,g[0],g[1],g[2],b)},this)},parseOpera:function(a){return!a.stacktrace||-1<a.message.indexOf("\n")&&a.message.split("\n").length>a.stacktrace.split("\n").length?this.parseOpera9(a):a.stack?this.parseOpera11(a):this.parseOpera10(a)},parseOpera9:function(b){var f=
/Line (\d+).*script (?:in )?(\S+)/i;b=b.message.split("\n");for(var e=[],h=2,k=b.length;k>h;h+=2){var n=f.exec(b[h]);n&&e.push(new a(void 0,void 0,n[2],n[1],void 0,b[h]))}return e},parseOpera10:function(b){var f=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;b=b.stacktrace.split("\n");for(var e=[],h=0,k=b.length;k>h;h+=2){var n=f.exec(b[h]);n&&e.push(new a(n[3]||void 0,void 0,n[2],n[1],void 0,b[h]))}return e},parseOpera11:function(b){return b.stack.split("\n").filter(function(a){return!!a.match(h)&&
!a.match(/^Error created at/)},this).map(function(b){var e,g=b.split("@"),h=this.extractLocation(g.pop()),n=g.shift()||"",g=n.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;n.match(/\(([^\)]*)\)/)&&(e=n.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));e=void 0===e||"[arguments not available]"===e?void 0:e.split(",");return new a(g,e,h[0],h[1],h[2],b)},this)}}});
(function(a,h){"function"==typeof define&&define.amd?define("stacktrace",["error-stack-parser","stack-generator","stacktrace-gps"],h):"object"==typeof exports?module.exports=h(require("error-stack-parser"),require("stack-generator"),require("stacktrace-gps")):a.StackTrace=h(a.ErrorStackParser,a.StackGenerator,a.StackTraceGPS)})(this,function(a,h,b){function g(a,b){var f={};return[a,b].forEach(function(a){for(var b in a)a.hasOwnProperty(b)&&(f[b]=a[b]);return f}),f}var f={filter:function(a){return-1===
(a.functionName||"").indexOf("StackTrace$$")&&-1===(a.functionName||"").indexOf("ErrorStackParser$$")&&-1===(a.functionName||"").indexOf("StackTraceGPS$$")&&-1===(a.functionName||"").indexOf("StackGenerator$$")}};return{get:function(a){try{throw Error();}catch(b){return b.stack||b["opera#sourceloc"]?this.fromError(b,a):this.generateArtificially(a)}},fromError:function(e,h){return h=g(f,h),new Promise(function(f){var g=a.parse(e);"function"==typeof h.filter&&(g=g.filter(h.filter));f(Promise.all(g.map(function(a){return new Promise(function(e){function f(b){e(a)}
(new b(h)).pinpoint(a).then(e,f)["catch"](f)})})))}.bind(this))},generateArtificially:function(a){a=g(f,a);var b=h.backtrace(a);return"function"==typeof a.filter&&(b=b.filter(a.filter)),Promise.resolve(b)},instrument:function(a,b,f,g){if("function"!=typeof a)throw Error("Cannot instrument non-function object");if("function"==typeof a.__stacktraceOriginalFn)return a;var h=function(){try{this.get().then(b,f)["catch"](f),a.apply(g||this,arguments)}catch(h){throw(h.stack||h["opera#sourceloc"])&&this.fromError(h).then(b,
f)["catch"](f),h;}}.bind(this);return h.__stacktraceOriginalFn=a,h},deinstrument:function(a){if("function"!=typeof a)throw Error("Cannot de-instrument non-function object");return"function"==typeof a.__stacktraceOriginalFn?a.__stacktraceOriginalFn:a},report:function(a,b){return new Promise(function(f,g){var h=new XMLHttpRequest;h.onerror=g;h.onreadystatechange=function(){4===h.readyState&&(200<=h.status&&400>h.status?f(h.responseText):g(Error("POST to "+b+" failed with status: "+h.status)))};h.open("post",
b);h.setRequestHeader("Content-Type","application/json");h.send(JSON.stringify({stack:a}))})}}});(function(){var a,h=Object.prototype.hasOwnProperty,b=document.getElementsByTagName("head")[0];a=function(){var a=[document.location.protocol+"//"+document.location.host],b,e;if("undefined"===typeof window.__vogue__){b=document.getElementsByTagName("script");for(var h=0;h<b.length&&(!(e=b[h].getAttribute("src"))||"vogue-client.js"!==e.slice(-15));h++);b=window.location.href.substr(0,location.href.lastIndexOf("/")+1);b=b.replace(/([^:]\/)\/+/g,"$1");(e=e.match(/\bbase=(.*)(&|$)/))&&(a=a.concat(e[1].split(",")));
return{rootUrl:b,bases:a}}window.__vogue__.bases=a;return window.__vogue__}();(function(){function g(a){if(e&&-1!=a.indexOf(".css")){a=a.split("//").join("/");a=a.split("\\").join("/");var g=!1,h;for(h in e){var m=h.split("//").join("/");g||-1==m.indexOf(a)||(a=""+h,g=!0)}null==e[a]&&(e=f());g=!1;if(null==e[a])for(h in e)m=h.split("//").join("/"),!g&&m&&-1!=m.indexOf(a)&&(a=""+h,g=!0);null==e[a]?console.error("coudnt find "+a):(console.info("reload css : "+a),g="",g=e[a].href+(0<=a.indexOf("?")?"&":
"?")+"_vogue_nocache="+(new Date).getTime(),h=null,e[a].setAttribute?e[a].href=g:(h=document.createElement("link"),h.setAttribute("rel","stylesheet"),h.setAttribute("href",g),b.appendChild(h),e[a]=h))}}function f(){function b(e){var f,g=!0;if("stylesheet"!==e.getAttribute("rel"))return!1;e=e.href;for(f=0;f<a.bases.length;f+=1)if(-1<e.indexOf(a.bases[f])){g=!1;break}return!(g&&e.match(/^https?:/))}function e(b){var f,g;for(g=0;g<a.bases.length;g+=1)if(f=a.bases[g],-1<b.indexOf(f))return b.substr(f.length);
return!1}function f(a){return this[a]}window.xappOnStyleSheetChanged=g;var h={},p=/@import\s+url\(["']?([^"'\)]+)["']?\)/g,r=document.getElementsByTagName("link"),q,u,w,y,x;y=0;for(x=r.length;y<x;y+=1)q=r[y],"print"!==q.getAttribute("media")&&b(q)&&(u=e(q.href),!1!==u&&(h[u]=q));r=document.getElementsByTagName("style");y=0;for(x=r.length;y<x;y+=1)if("print"!==r[y].getAttribute("media"))for(w=r[y].text||r[y].textContent;q=p.exec(w);)q={rel:"stylesheet",href:q[1],getAttribute:f},b(q)&&(u=e(q.href),
!1!==u&&(h[u]=q));return h}var e;e=f();(function(){for(var a in e)h.call(e,a)})()})()})();var kCHARSET_RULE_MISSING_SEMICOLON="Missing semicolon at the end of @charset rule",kCHARSET_RULE_CHARSET_IS_STRING="The charset in the @charset rule should be a string",kCHARSET_RULE_MISSING_WS="Missing mandatory whitespace after @charset",kIMPORT_RULE_MISSING_URL="Missing URL in @import rule",kURL_EOF="Unexpected end of stylesheet",kURL_WS_INSIDE="Multiple tokens inside a url() notation",kVARIABLES_RULE_POSITION="@variables rule invalid at this position in the stylesheet",kIMPORT_RULE_POSITION=
"@import rule invalid at this position in the stylesheet",kNAMESPACE_RULE_POSITION="@namespace rule invalid at this position in the stylesheet",kCHARSET_RULE_CHARSET_SOF="@charset rule invalid at this position in the stylesheet",kUNKNOWN_AT_RULE="Unknow @-rule",kENGINES=["presto","trident","generic"],kCSS_VENDOR_VALUES={"-moz-box":{webkit:"-webkit-box",presto:"",trident:"",generic:"box"},"-moz-inline-box":{webkit:"-webkit-inline-box",presto:"",trident:"",generic:"inline-box"},"-moz-initial":{webkit:"",
presto:"",trident:"",generic:"initial"},"-moz-linear-gradient":{webkit20110101:FilterLinearGradientForOutput,webkit:FilterLinearGradientForOutput,presto:"",trident:"",generic:FilterLinearGradientForOutput},"-moz-radial-gradient":{webkit20110101:FilterRadialGradientForOutput,webkit:FilterRadialGradientForOutput,presto:"",trident:"",generic:FilterRadialGradientForOutput},"-moz-repeating-linear-gradient":{webkit20110101:"",webkit:FilterRepeatingGradientForOutput,presto:"",trident:"",generic:FilterRepeatingGradientForOutput},
"-moz-repeating-radial-gradient":{webkit20110101:"",webkit:FilterRepeatingGradientForOutput,presto:"",trident:"",generic:FilterRepeatingGradientForOutput}},kCSS_VENDOR_PREFIXES={lastUpdate:1304175007,properties:[{gecko:"",webkit:"",presto:"",trident:"-ms-accelerator",status:"P"},{gecko:"",webkit:"",presto:"-wap-accesskey",trident:"",status:""},{gecko:"-moz-animation",webkit:"-webkit-animation",presto:"",trident:"",status:"WD"},{gecko:"-moz-animation-delay",webkit:"-webkit-animation-delay",presto:"",
trident:"",status:"WD"},{gecko:"-moz-animation-direction",webkit:"-webkit-animation-direction",presto:"",trident:"",status:"WD"},{gecko:"-moz-animation-duration",webkit:"-webkit-animation-duration",presto:"",trident:"",status:"WD"},{gecko:"-moz-animation-fill-mode",webkit:"-webkit-animation-fill-mode",presto:"",trident:"",status:"ED"},{gecko:"-moz-animation-iteration-count",webkit:"-webkit-animation-iteration-count",presto:"",trident:"",status:"WD"},{gecko:"-moz-animation-name",webkit:"-webkit-animation-name",
presto:"",trident:"",status:"WD"},{gecko:"-moz-animation-play-state",webkit:"-webkit-animation-play-state",presto:"",trident:"",status:"WD"},{gecko:"-moz-animation-timing-function",webkit:"-webkit-animation-timing-function",presto:"",trident:"",status:"WD"},{gecko:"-moz-appearance",webkit:"-webkit-appearance",presto:"",trident:"",status:"CR"},{gecko:"",webkit:"-webkit-backface-visibility",presto:"",trident:"",status:"WD"},{gecko:"background-clip",webkit:"-webkit-background-clip",presto:"background-clip",
trident:"background-clip",status:"WD"},{gecko:"",webkit:"-webkit-background-composite",presto:"",trident:"",status:""},{gecko:"-moz-background-inline-policy",webkit:"",presto:"",trident:"",status:"P"},{gecko:"background-origin",webkit:"-webkit-background-origin",presto:"background-origin",trident:"background-origin",status:"WD"},{gecko:"",webkit:"background-position-x",presto:"",trident:"-ms-background-position-x",status:""},{gecko:"",webkit:"background-position-y",presto:"",trident:"-ms-background-position-y",
status:""},{gecko:"background-size",webkit:"",presto:"background-size",trident:"background-size",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-behavior",status:""},{gecko:"-moz-binding",webkit:"",presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"",trident:"-ms-block-progression",status:""},{gecko:"",webkit:"-webkit-border-after",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-after-color",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-after-style",
presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-after-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-before",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-before-color",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-before-style",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-before-width",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-bottom-colors",webkit:"",presto:"",trident:"",status:"P"},
{gecko:"border-bottom-left-radius",webkit:"-webkit-border-bottom-left-radius",presto:"border-bottom-left-radius",trident:"border-bottom-left-radius",status:"WD"},{gecko:"",webkit:"-webkit-border-bottom-left-radius = border-bottom-left-radius",presto:"",trident:"",status:""},{gecko:"border-bottom-right-radius",webkit:"-webkit-border-bottom-right-radius",presto:"border-bottom-right-radius",trident:"border-bottom-right-radius",status:"WD"},{gecko:"",webkit:"-webkit-border-bottom-right-radius = border-bottom-right-radius",
presto:"",trident:"",status:""},{gecko:"-moz-border-end",webkit:"-webkit-border-end",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-end-color",webkit:"-webkit-border-end-color",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-end-style",webkit:"-webkit-border-end-style",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-end-width",webkit:"-webkit-border-end-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-fit",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-border-horizontal-spacing",
presto:"",trident:"",status:""},{gecko:"-moz-border-image",webkit:"-webkit-border-image",presto:"-o-border-image",trident:"",status:"WD"},{gecko:"-moz-border-left-colors",webkit:"",presto:"",trident:"",status:"P"},{gecko:"border-radius",webkit:"",presto:"border-radius",trident:"border-radius",status:"WD"},{gecko:"-moz-border-right-colors",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-border-start",webkit:"-webkit-border-start",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-start-color",
webkit:"-webkit-border-start-color",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-start-style",webkit:"-webkit-border-start-style",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-start-width",webkit:"-webkit-border-start-width",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-top-colors",webkit:"",presto:"",trident:"",status:"P"},{gecko:"border-top-left-radius",webkit:"-webkit-border-top-left-radius",presto:"border-top-left-radius",trident:"border-top-left-radius",status:"WD"},
{gecko:"",webkit:"-webkit-border-top-left-radius = border-top-left-radius",presto:"",trident:"",status:""},{gecko:"border-top-right-radius",webkit:"-webkit-border-top-right-radius",presto:"border-top-right-radius",trident:"border-top-right-radius",status:"WD"},{gecko:"",webkit:"-webkit-border-top-right-radius = border-top-right-radius",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-border-vertical-spacing",presto:"",trident:"",status:""},{gecko:"-moz-box-align",webkit:"-webkit-box-align",
presto:"",trident:"-ms-box-align",status:"WD"},{gecko:"-moz-box-direction",webkit:"-webkit-box-direction",presto:"",trident:"-ms-box-direction",status:"WD"},{gecko:"-moz-box-flex",webkit:"-webkit-box-flex",presto:"",trident:"-ms-box-flex",status:"WD"},{gecko:"",webkit:"-webkit-box-flex-group",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-box-line-progression",status:""},{gecko:"",webkit:"-webkit-box-lines",presto:"",trident:"-ms-box-lines",status:"WD"},{gecko:"-moz-box-ordinal-group",
webkit:"-webkit-box-ordinal-group",presto:"",trident:"-ms-box-ordinal-group",status:"WD"},{gecko:"-moz-box-orient",webkit:"-webkit-box-orient",presto:"",trident:"-ms-box-orient",status:"WD"},{gecko:"-moz-box-pack",webkit:"-webkit-box-pack",presto:"",trident:"-ms-box-pack",status:"WD"},{gecko:"",webkit:"-webkit-box-reflect",presto:"",trident:"",status:""},{gecko:"box-shadow",webkit:"",presto:"box-shadow",trident:"box-shadow",status:"WD"},{gecko:"-moz-box-sizing",webkit:"box-sizing",presto:"box-sizing",
trident:"",status:"CR"},{gecko:"",webkit:"-webkit-box-sizing = box-sizing",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-caption-side = caption-side",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-color-correction",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-column-break-after",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-column-break-before",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-column-break-inside",presto:"",trident:"",status:""},
{gecko:"-moz-column-count",webkit:"-webkit-column-count",presto:"column-count",trident:"column-count",status:"CR"},{gecko:"-moz-column-gap",webkit:"-webkit-column-gap",presto:"column-gap",trident:"column-gap",status:"CR"},{gecko:"-moz-column-rule",webkit:"-webkit-column-rule",presto:"column-rule",trident:"column-rule",status:"CR"},{gecko:"-moz-column-rule-color",webkit:"-webkit-column-rule-color",presto:"column-rule-color",trident:"column-rule-color",status:"CR"},{gecko:"-moz-column-rule-style",webkit:"-webkit-column-rule-style",
presto:"column-rule-style",trident:"column-rule-style",status:"CR"},{gecko:"-moz-column-rule-width",webkit:"-webkit-column-rule-width",presto:"column-rule-width",trident:"column-rule-width",status:"CR"},{gecko:"",webkit:"-webkit-column-span",presto:"column-span",trident:"column-span",status:"CR"},{gecko:"-moz-column-width",webkit:"-webkit-column-width",presto:"column-width",trident:"column-width",status:"CR"},{gecko:"",webkit:"-webkit-columns",presto:"columns",trident:"columns",status:"CR"},{gecko:"",
webkit:"-webkit-dashboard-region",presto:"-apple-dashboard-region",trident:"",status:""},{gecko:"filter",webkit:"",presto:"filter",trident:"-ms-filter",status:""},{gecko:"-moz-float-edge",webkit:"",presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"-o-focus-opacity",trident:"",status:""},{gecko:"-moz-font-feature-settings",webkit:"",presto:"",trident:"",status:""},{gecko:"-moz-font-language-override",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-font-size-delta",presto:"",
trident:"",status:""},{gecko:"",webkit:"-webkit-font-smoothing",presto:"",trident:"",status:""},{gecko:"-moz-force-broken-image-icon",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-column",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-column-align",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-column-span",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-columns",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-layer",
status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-row",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-row-align",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-row-span",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-rows",status:"WD"},{gecko:"",webkit:"-webkit-highlight",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-hyphenate-character",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-hyphenate-limit-after",presto:"",trident:"",
status:""},{gecko:"",webkit:"-webkit-hyphenate-limit-before",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-hyphens",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-epub-hyphens = -webkit-hyphens",presto:"",trident:"",status:""},{gecko:"-moz-image-region",webkit:"",presto:"",trident:"",status:"P"},{gecko:"ime-mode",webkit:"",presto:"",trident:"-ms-ime-mode",status:""},{gecko:"",webkit:"",presto:"-wap-input-format",trident:"",status:""},{gecko:"",webkit:"",presto:"-wap-input-required",
trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-interpolation-mode",status:""},{gecko:"",webkit:"",presto:"-xv-interpret-as",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-flow",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid-char",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid-line",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid-mode",
status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid-type",status:""},{gecko:"",webkit:"-webkit-line-box-contain",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-line-break",presto:"",trident:"-ms-line-break",status:""},{gecko:"",webkit:"-webkit-line-clamp",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-line-grid-mode",status:""},{gecko:"",webkit:"",presto:"-o-link",trident:"",status:""},{gecko:"",webkit:"",presto:"-o-link-source",trident:"",status:""},
{gecko:"",webkit:"-webkit-locale",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-logical-height",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-logical-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-margin-after",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-margin-after-collapse",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-margin-before",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-margin-before-collapse",presto:"",
trident:"",status:""},{gecko:"",webkit:"-webkit-margin-bottom-collapse",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-margin-collapse",presto:"",trident:"",status:""},{gecko:"-moz-margin-end",webkit:"-webkit-margin-end",presto:"",trident:"",status:"ED"},{gecko:"-moz-margin-start",webkit:"-webkit-margin-start",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-margin-top-collapse",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-marquee",presto:"",trident:"",status:""},
{gecko:"",webkit:"",presto:"-wap-marquee-dir",trident:"",status:""},{gecko:"",webkit:"-webkit-marquee-direction",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-marquee-increment",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"-wap-marquee-loop",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-marquee-repetition",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-marquee-speed",presto:"-wap-marquee-speed",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-marquee-style",
presto:"-wap-marquee-style",trident:"",status:"WD"},{gecko:"mask",webkit:"-webkit-mask",presto:"mask",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-attachment",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-box-image",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-clip",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-composite",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-image",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-origin",
presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-position",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-position-x",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-position-y",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-repeat",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-repeat-x",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-repeat-y",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-size",
presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-match-nearest-mail-blockquote-color",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-max-logical-height",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-max-logical-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-min-logical-height",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-min-logical-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"",presto:"-o-mini-fold",trident:"",status:""},
{gecko:"",webkit:"-webkit-nbsp-mode",presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"-o-object-fit",trident:"",status:"ED"},{gecko:"",webkit:"",presto:"-o-object-position",trident:"",status:"ED"},{gecko:"opacity",webkit:"",presto:"opacity",trident:"opacity",status:"WD"},{gecko:"",webkit:"-webkit-opacity = opacity",presto:"",trident:"",status:""},{gecko:"-moz-outline-radius",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-outline-radius-bottomleft",webkit:"",presto:"",trident:"",
status:"P"},{gecko:"-moz-outline-radius-bottomright",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-outline-radius-topleft",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-outline-radius-topright",webkit:"",presto:"",trident:"",status:"P"},{gecko:"overflow-x",webkit:"overflow-x",presto:"overflow-x",trident:"-ms-overflow-x",status:"WD"},{gecko:"overflow-y",webkit:"overflow-y",presto:"overflow-y",trident:"-ms-overflow-y",status:"WD"},{gecko:"",webkit:"-webkit-padding-after",presto:"",
trident:"",status:"ED"},{gecko:"",webkit:"-webkit-padding-before",presto:"",trident:"",status:"ED"},{gecko:"-moz-padding-end",webkit:"-webkit-padding-end",presto:"",trident:"",status:"ED"},{gecko:"-moz-padding-start",webkit:"-webkit-padding-start",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-perspective",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-perspective-origin",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-perspective-origin-x",presto:"",trident:"",
status:""},{gecko:"",webkit:"-webkit-perspective-origin-y",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-phonemes",trident:"",status:""},{gecko:"",webkit:"-webkit-rtl-ordering",presto:"",trident:"",status:"P"},{gecko:"-moz-script-level",webkit:"",presto:"",trident:"",status:""},{gecko:"-moz-script-min-size",webkit:"",presto:"",trident:"",status:""},{gecko:"-moz-script-size-multiplier",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"scrollbar-3dlight-color",
trident:"-ms-scrollbar-3dlight-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-arrow-color",trident:"-ms-scrollbar-arrow-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-base-color",trident:"-ms-scrollbar-base-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-darkshadow-color",trident:"-ms-scrollbar-darkshadow-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-face-color",trident:"-ms-scrollbar-face-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-highlight-color",
trident:"-ms-scrollbar-highlight-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-shadow-color",trident:"-ms-scrollbar-shadow-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-track-color",trident:"-ms-scrollbar-track-color",status:"P"},{gecko:"-moz-stack-sizing",webkit:"",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-svg-shadow",presto:"",trident:"",status:""},{gecko:"-moz-tab-size",webkit:"",presto:"-o-tab-size",trident:"",status:""},{gecko:"",webkit:"",presto:"-o-table-baseline",
trident:"",status:""},{gecko:"",webkit:"-webkit-tap-highlight-color",presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"",trident:"-ms-text-align-last",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-text-autospace",status:"WD"},{gecko:"-moz-text-blink",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-combine",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-text-combine = -webkit-text-combine",presto:"",trident:"",status:""},{gecko:"-moz-text-decoration-color",
webkit:"",presto:"",trident:"",status:""},{gecko:"-moz-text-decoration-line",webkit:"",presto:"",trident:"",status:""},{gecko:"-moz-text-decoration-style",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-decorations-in-effect",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-emphasis",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-text-emphasis = -webkit-text-emphasis",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-emphasis-color",presto:"",
trident:"",status:""},{gecko:"",webkit:"-epub-text-emphasis-color = -webkit-text-emphasis-color",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-emphasis-position",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-emphasis-style",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-text-emphasis-style = -webkit-text-emphasis-style",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-fill-color",presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"",
trident:"-ms-text-justify",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-text-kashida-space",status:"P"},{gecko:"",webkit:"-webkit-text-orientation",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-text-orientation = -webkit-text-orientation",presto:"",trident:"",status:""},{gecko:"",webkit:"text-overflow",presto:"text-overflow",trident:"-ms-text-overflow",status:"WD"},{gecko:"",webkit:"-webkit-text-security",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-text-size-adjust",
presto:"",trident:"-ms-text-size-adjust",status:""},{gecko:"",webkit:"-webkit-text-stroke",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-text-stroke-color",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-text-stroke-width",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-epub-text-transform = text-transform",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-text-underline-position",status:"P"},{gecko:"",webkit:"-webkit-touch-callout",presto:"",trident:"",
status:"P"},{gecko:"-moz-transform",webkit:"-webkit-transform",presto:"-o-transform",trident:"-ms-transform",status:"WD"},{gecko:"-moz-transform-origin",webkit:"-webkit-transform-origin",presto:"-o-transform-origin",trident:"-ms-transform-origin",status:"WD"},{gecko:"",webkit:"-webkit-transform-origin-x",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-transform-origin-y",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-transform-origin-z",presto:"",trident:"",status:"P"},{gecko:"",
webkit:"-webkit-transform-style",presto:"",trident:"",status:"WD"},{gecko:"-moz-transition",webkit:"-webkit-transition",presto:"-o-transition",trident:"",status:"WD"},{gecko:"-moz-transition-delay",webkit:"-webkit-transition-delay",presto:"-o-transition-delay",trident:"",status:"WD"},{gecko:"-moz-transition-duration",webkit:"-webkit-transition-duration",presto:"-o-transition-duration",trident:"",status:"WD"},{gecko:"-moz-transition-property",webkit:"-webkit-transition-property",presto:"-o-transition-property",
trident:"",status:"WD"},{gecko:"-moz-transition-timing-function",webkit:"-webkit-transition-timing-function",presto:"-o-transition-timing-function",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-user-drag",presto:"",trident:"",status:"P"},{gecko:"-moz-user-focus",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-user-input",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-user-modify",webkit:"-webkit-user-modify",presto:"",trident:"",status:"P"},{gecko:"-moz-user-select",webkit:"-webkit-user-select",
presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"-xv-voice-balance",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-duration",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-pitch",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-pitch-range",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-rate",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-stress",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-volume",trident:"",
status:""},{gecko:"-moz-window-shadow",webkit:"",presto:"",trident:"",status:"P"},{gecko:"",webkit:"word-break",presto:"",trident:"-ms-word-break",status:"WD"},{gecko:"",webkit:"-epub-word-break = word-break",presto:"",trident:"",status:""},{gecko:"word-wrap",webkit:"word-wrap",presto:"word-wrap",trident:"-ms-word-wrap",status:"WD"},{gecko:"",webkit:"-webkit-writing-mode",presto:"writing-mode",trident:"-ms-writing-mode",status:"ED"},{gecko:"",webkit:"-epub-writing-mode = -webkit-writing-mode",presto:"",
trident:"",status:""},{gecko:"",webkit:"zoom",presto:"",trident:"-ms-zoom",status:""}]},kCSS_PREFIXED_VALUE=[{gecko:"-moz-box",webkit:"-moz-box",presto:"",trident:"",generic:"box"}],CssInspector={mVENDOR_PREFIXES:null,kEXPORTS_FOR_GECKO:!0,kEXPORTS_FOR_WEBKIT:!0,kEXPORTS_FOR_PRESTO:!0,kEXPORTS_FOR_TRIDENT:!0,cleanPrefixes:function(){this.mVENDOR_PREFIXES=null},prefixesForProperty:function(a){if(!this.mVENDOR_PREFIXES){this.mVENDOR_PREFIXES={};for(var h=0;h<kCSS_VENDOR_PREFIXES.properties.length;h++){var b=
kCSS_VENDOR_PREFIXES.properties[h];if(b.gecko&&(b.webkit||b.presto||b.trident)){var g={};this.kEXPORTS_FOR_GECKO&&(g[b.gecko]=!0);this.kEXPORTS_FOR_WEBKIT&&b.webkit&&(g[b.webkit]=!0);this.kEXPORTS_FOR_PRESTO&&b.presto&&(g[b.presto]=!0);this.kEXPORTS_FOR_TRIDENT&&b.trident&&(g[b.trident]=!0);this.mVENDOR_PREFIXES[b.gecko]=[];for(var f in g)this.mVENDOR_PREFIXES[b.gecko].push(f)}}}return a in this.mVENDOR_PREFIXES?this.mVENDOR_PREFIXES[a].sort():null},parseColorStop:function(a,h){var b=a.parseColor(h),
g="";if(!b)return null;h=a.getToken(!0,!0);if(h.isPercentage()||h.isDimensionOfUnit("cm")||h.isDimensionOfUnit("mm")||h.isDimensionOfUnit("in")||h.isDimensionOfUnit("pc")||h.isDimensionOfUnit("px")||h.isDimensionOfUnit("em")||h.isDimensionOfUnit("ex")||h.isDimensionOfUnit("pt"))g=h.value,a.getToken(!0,!0);return{color:b,position:g}},parseGradient:function(a,h){var b={isRepeating:!1};if(h.isNotNull()&&(h.isFunction("-moz-linear-gradient(")||h.isFunction("-moz-radial-gradient(")||h.isFunction("-moz-repeating-linear-gradient(")||
h.isFunction("-moz-repeating-radial-gradient("))){if(h.isFunction("-moz-radial-gradient(")||h.isFunction("-moz-repeating-radial-gradient("))b.isRadial=!0;if(h.isFunction("-moz-repeating-linear-gradient(")||h.isFunction("-moz-repeating-radial-gradient("))b.isRepeating=!0;h=a.getToken(!0,!0);var g=!1,f=!1,e=!1;h.isAngle()&&(b.angle=h.value,e=g=!0,h=a.getToken(!0,!0));if(h.isLength()||h.isIdent("top")||h.isIdent("center")||h.isIdent("bottom")||h.isIdent("left")||h.isIdent("right")){g=!0;if(h.isLength()||
h.isIdent("left")||h.isIdent("right"))f=!0;b.position=h.value;h=a.getToken(!0,!0)}if(g){if(!e&&h.isAngle())b.angle=h.value,e=!0,h=a.getToken(!0,!0);else if(h.isLength()||f&&(h.isIdent("top")||h.isIdent("center")||h.isIdent("bottom"))||!f&&(h.isLength()||h.isIdent("top")||h.isIdent("center")||h.isIdent("bottom")||h.isIdent("left")||h.isIdent("right")))b.position="position"in b?b.position+" ":"",b.position+=h.value,h=a.getToken(!0,!0);!e&&h.isAngle()&&(b.angle=h.value,h=a.getToken(!0,!0));if(!h.isSymbol(","))return null;
h=a.getToken(!0,!0)}if(b.isRadial){if(h.isIdent("circle")||h.isIdent("ellipse"))b.shape=h.value,h=a.getToken(!0,!0);if(h.isIdent("closest-side")||h.isIdent("closest-corner")||h.isIdent("farthest-side")||h.isIdent("farthest-corner")||h.isIdent("contain")||h.isIdent("cover"))b.size=h.value,h=a.getToken(!0,!0);"shape"in b||!h.isIdent("circle")&&!h.isIdent("ellipse")||(b.shape=h.value,h=a.getToken(!0,!0));if(("shape"in b||"size"in b)&&!h.isSymbol(","))return null;if("shape"in b||"size"in b)h=a.getToken(!0,
!0)}g=this.parseColorStop(a,h);if(!g)return null;h=a.currentToken();if(!h.isSymbol(","))return null;h=a.getToken(!0,!0);f=this.parseColorStop(a,h);if(!f)return null;h=a.currentToken();h.isSymbol(",")&&(h=a.getToken(!0,!0));for(b.stops=[g,f];!h.isSymbol(")");){g=this.parseColorStop(a,h);if(!g)return null;h=a.currentToken();if(!h.isSymbol(")")&&!h.isSymbol(","))return null;h.isSymbol(",")&&(h=a.getToken(!0,!0));b.stops.push(g)}return b}return null},parseBoxShadows:function(a){var h=new CSSParser;h._init();
h.mPreserveWS=!1;h.mPreserveComments=!1;h.mPreservedTokens=[];h.mScanner.init(a);a=[];for(var b=h.getToken(!0,!0),g="",f="0px",e="0px",l="0px",k="0px",n=!1;b.isNotNull();)if(b.isIdent("none"))a.push({none:!0}),b=h.getToken(!0,!0);else{b.isIdent("inset")&&(n=!0,b=h.getToken(!0,!0));if(b.isPercentage()||b.isDimensionOfUnit("cm")||b.isDimensionOfUnit("mm")||b.isDimensionOfUnit("in")||b.isDimensionOfUnit("pc")||b.isDimensionOfUnit("px")||b.isDimensionOfUnit("em")||b.isDimensionOfUnit("ex")||b.isDimensionOfUnit("pt"))b=
h.getToken(!0,!0);else return[];!n&&b.isIdent("inset")&&(n=!0,b=h.getToken(!0,!0));if(b.isPercentage()||b.isDimensionOfUnit("cm")||b.isDimensionOfUnit("mm")||b.isDimensionOfUnit("in")||b.isDimensionOfUnit("pc")||b.isDimensionOfUnit("px")||b.isDimensionOfUnit("em")||b.isDimensionOfUnit("ex")||b.isDimensionOfUnit("pt"))e=b.value,b=h.getToken(!0,!0);else return[];!n&&b.isIdent("inset")&&(n=!0,b=h.getToken(!0,!0));if(b.isPercentage()||b.isDimensionOfUnit("cm")||b.isDimensionOfUnit("mm")||b.isDimensionOfUnit("in")||
b.isDimensionOfUnit("pc")||b.isDimensionOfUnit("px")||b.isDimensionOfUnit("em")||b.isDimensionOfUnit("ex")||b.isDimensionOfUnit("pt"))f=b.value,b=h.getToken(!0,!0);!n&&b.isIdent("inset")&&(n=!0,b=h.getToken(!0,!0));if(b.isPercentage()||b.isDimensionOfUnit("cm")||b.isDimensionOfUnit("mm")||b.isDimensionOfUnit("in")||b.isDimensionOfUnit("pc")||b.isDimensionOfUnit("px")||b.isDimensionOfUnit("em")||b.isDimensionOfUnit("ex")||b.isDimensionOfUnit("pt"))k=b.value,b=h.getToken(!0,!0);!n&&b.isIdent("inset")&&
(n=!0,b=h.getToken(!0,!0));if(b.isFunction("rgb(")||b.isFunction("rgba(")||b.isFunction("hsl(")||b.isFunction("hsla(")||b.isSymbol("#")||b.isIdent())g=h.parseColor(b),b=h.getToken(!0,!0);!n&&b.isIdent("inset")&&(b=h.getToken(!0,!0));a.push({none:!1,color:g,offsetX:e,offsetY:l,blurRadius:f,spreadRadius:k});if(b.isSymbol(","))n=!1,g="",l=k=f="0px",b=h.getToken(!0,!0);else{if(b.isNotNull())return[];break}}return a},parseTextShadows:function(a){var h=new CSSParser;h._init();h.mPreserveWS=!1;h.mPreserveComments=
!1;h.mPreservedTokens=[];h.mScanner.init(a);a=[];for(var b=h.getToken(!0,!0),g="",f="0px",e="0px",l="0px";b.isNotNull();)if(b.isIdent("none"))a.push({none:!0}),b=h.getToken(!0,!0);else{if(b.isFunction("rgb(")||b.isFunction("rgba(")||b.isFunction("hsl(")||b.isFunction("hsla(")||b.isSymbol("#")||b.isIdent())g=h.parseColor(b),b=h.getToken(!0,!0);if(b.isPercentage()||b.isDimensionOfUnit("cm")||b.isDimensionOfUnit("mm")||b.isDimensionOfUnit("in")||b.isDimensionOfUnit("pc")||b.isDimensionOfUnit("px")||
b.isDimensionOfUnit("em")||b.isDimensionOfUnit("ex")||b.isDimensionOfUnit("pt"))e=b.value,b=h.getToken(!0,!0);else return[];if(b.isPercentage()||b.isDimensionOfUnit("cm")||b.isDimensionOfUnit("mm")||b.isDimensionOfUnit("in")||b.isDimensionOfUnit("pc")||b.isDimensionOfUnit("px")||b.isDimensionOfUnit("em")||b.isDimensionOfUnit("ex")||b.isDimensionOfUnit("pt"))l=b.value,b=h.getToken(!0,!0);else return[];if(b.isPercentage()||b.isDimensionOfUnit("cm")||b.isDimensionOfUnit("mm")||b.isDimensionOfUnit("in")||
b.isDimensionOfUnit("pc")||b.isDimensionOfUnit("px")||b.isDimensionOfUnit("em")||b.isDimensionOfUnit("ex")||b.isDimensionOfUnit("pt"))f=b.value,b=h.getToken(!0,!0);!g&&(b.isFunction("rgb(")||b.isFunction("rgba(")||b.isFunction("hsl(")||b.isFunction("hsla(")||b.isSymbol("#")||b.isIdent())&&(g=h.parseColor(b),b=h.getToken(!0,!0));a.push({none:!1,color:g,offsetX:e,offsetY:l,blurRadius:f});if(b.isSymbol(","))g="",f="0px",b=h.getToken(!0,!0);else{if(b.isNotNull())return[];break}}return a},parseBackgroundImages:function(a){var h=
new CSSParser;h._init();h.mPreserveWS=!1;h.mPreserveComments=!1;h.mPreservedTokens=[];h.mScanner.init(a);a=[];for(var b=h.getToken(!0,!0);b.isNotNull();){if(b.isFunction("url("))b=h.getToken(!0,!0),b=h.parseURL(b),a.push({type:"image",value:"url("+b}),b=h.getToken(!0,!0);else if(b.isFunction("-moz-linear-gradient(")||b.isFunction("-moz-radial-gradient(")||b.isFunction("-moz-repeating-linear-gradient(")||b.isFunction("-moz-repeating-radial-gradient("))b=this.parseGradient(h,b),a.push({type:b.isRadial?
"radial-gradient":"linear-gradient",value:b}),b=h.getToken(!0,!0);else return null;if(b.isSymbol(",")&&(b=h.getToken(!0,!0),!b.isNotNull()))return null}return a},serializeGradient:function(a){var h=a.isRadial?a.isRepeating?"-moz-repeating-radial-gradient(":"-moz-radial-gradient(":a.isRepeating?"-moz-repeating-linear-gradient(":"-moz-linear-gradient(";if(a.angle||a.position)h+=(a.angle?a.angle+" ":"")+(a.position?a.position:"")+", ";a.isRadial&&(a.shape||a.size)&&(h+=(a.shape?a.shape:"")+" "+(a.size?
a.size:"")+", ");for(var b=0;b<a.stops.length;b++){var g=a.stops[b],h=h+(g.color+(g.position?" "+g.position:""));b!=a.stops.length-1&&(h+=", ")}return h+")"},parseBorderImage:function(a){var h=new CSSParser;h._init();h.mPreserveWS=!1;h.mPreserveComments=!1;h.mPreservedTokens=[];h.mScanner.init(a);a={url:"",offsets:[],widths:[],sizes:[]};var b=h.getToken(!0,!0);if(b.isFunction("url("))if(b=h.getToken(!0,!0),b=h.parseURL(b)){if(a.url=b.substr(0,b.length-1).trim(),'"'==a.url[0]&&'"'==a.url[a.url.length-
1]||"'"==a.url[0]&&"'"==a.url[a.url.length-1])a.url=a.url.substr(1,a.url.length-2)}else return null;else return null;b=h.getToken(!0,!0);if(b.isNumber()||b.isPercentage())a.offsets.push(b.value);else return null;var g;for(g=0;3>g;g++)if(b=h.getToken(!0,!0),b.isNumber()||b.isPercentage())a.offsets.push(b.value);else break;3==g&&(b=h.getToken(!0,!0));if(b.isSymbol("/")){b=h.getToken(!0,!0);if(b.isDimension()||b.isNumber("0")||b.isIdent()&&b.value in h.kBORDER_WIDTH_NAMES)a.widths.push(b.value);else return null;
for(g=0;3>g;g++)if(b=h.getToken(!0,!0),b.isDimension()||b.isNumber("0")||b.isIdent()&&b.value in h.kBORDER_WIDTH_NAMES)a.widths.push(b.value);else break;3==g&&(b=h.getToken(!0,!0))}for(g=0;2>g;g++){if(b.isIdent("stretch")||b.isIdent("repeat")||b.isIdent("round"))a.sizes.push(b.value);else break;b=h.getToken(!0,!0)}return b.isNotNull()?null:a},parseMediaQuery:function(a){var h={width:!0,"min-width":!0,"max-width":!0,height:!0,"min-height":!0,"max-height":!0,"device-width":!0,"min-device-width":!0,
"max-device-width":!0,"device-height":!0,"min-device-height":!0,"max-device-height":!0,orientation:!0,"aspect-ratio":!0,"min-aspect-ratio":!0,"max-aspect-ratio":!0,"device-aspect-ratio":!0,"min-device-aspect-ratio":!0,"max-device-aspect-ratio":!0,color:!0,"min-color":!0,"max-color":!0,"color-index":!0,"min-color-index":!0,"max-color-index":!0,monochrome:!0,"min-monochrome":!0,"max-monochrome":!0,resolution:!0,"min-resolution":!0,"max-resolution":!0,scan:!0,grid:!0},b=new CSSParser;b._init();b.mPreserveWS=
!1;b.mPreserveComments=!1;b.mPreservedTokens=[];b.mScanner.init(a);a={amplifier:"",medium:"",constraints:[]};var g=b.getToken(!0,!0);if(g.isIdent("all")||g.isIdent("aural")||g.isIdent("braille")||g.isIdent("handheld")||g.isIdent("print")||g.isIdent("projection")||g.isIdent("screen")||g.isIdent("tty")||g.isIdent("tv"))a.medium=g.value,g=b.getToken(!0,!0);else if(g.isIdent("not")||g.isIdent("only"))if(a.amplifier=g.value,g=b.getToken(!0,!0),g.isIdent("all")||g.isIdent("aural")||g.isIdent("braille")||
g.isIdent("handheld")||g.isIdent("print")||g.isIdent("projection")||g.isIdent("screen")||g.isIdent("tty")||g.isIdent("tv"))a.medium=g.value,g=b.getToken(!0,!0);else return null;if(a.medium){if(!g.isNotNull())return a;if(g.isIdent("and"))g=b.getToken(!0,!0);else return null}for(;g.isSymbol("(");)if(g=b.getToken(!0,!0),g.isIdent()&&g.value in h){var f=g.value,g=b.getToken(!0,!0);if(g.isSymbol(":")){for(var g=b.getToken(!0,!0),e=[];!g.isSymbol(")");)e.push(g.value),g=b.getToken(!0,!0);if(g.isSymbol(")"))if(a.constraints.push({constraint:f,
value:e}),g=b.getToken(!0,!0),g.isNotNull())if(g.isIdent("and"))g=b.getToken(!0,!0);else return null;else break;else return null}else if(g.isSymbol(")"))if(a.constraints.push({constraint:f,value:null}),g=b.getToken(!0,!0),g.isNotNull())if(g.isIdent("and"))g=b.getToken(!0,!0);else return null;else break;else return null}else return null;return a}},CSS_ESCAPE="\\",IS_HEX_DIGIT=1,START_IDENT=2,IS_IDENT=4,IS_WHITESPACE=8,W=IS_WHITESPACE,I=IS_IDENT,S=START_IDENT,SI=IS_IDENT|START_IDENT,XI=IS_IDENT|IS_HEX_DIGIT,
XSI=IS_IDENT|START_IDENT|IS_HEX_DIGIT;function CSSScanner(a){this.init(a)}
CSSScanner.prototype={kLexTable:[0,0,0,0,0,0,0,0,0,W,W,0,W,W,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,W,0,0,0,0,0,0,0,0,0,0,0,0,I,0,0,XI,XI,XI,XI,XI,XI,XI,XI,XI,XI,0,0,0,0,0,0,0,XSI,XSI,XSI,XSI,XSI,XSI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,0,S,0,0,SI,0,XSI,XSI,XSI,XSI,XSI,XSI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,
SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI],kHexValues:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15},mString:"",mPos:0,mPreservedPos:[],init:function(a){this.mString=a;this.mPos=0;this.mPreservedPos=[]},getCurrentPos:function(){return this.mPos},getAlreadyScanned:function(){return this.mString.substr(0,this.mPos)},
preserveState:function(){this.mPreservedPos.push(this.mPos)},restoreState:function(){this.mPreservedPos.length&&(this.mPos=this.mPreservedPos.pop())},forgetState:function(){this.mPreservedPos.length&&this.mPreservedPos.pop()},read:function(){return this.mPos<this.mString.length?this.mString.charAt(this.mPos++):-1},peek:function(){return this.mPos<this.mString.length?this.mString.charAt(this.mPos):-1},isHexDigit:function(a){a=a.charCodeAt(0);return 256>a&&0!=(this.kLexTable[a]&IS_HEX_DIGIT)},isIdentStart:function(a){a=
a.charCodeAt(0);return 256<=a||0!=(this.kLexTable[a]&START_IDENT)},startsWithIdent:function(a,h){a.charCodeAt(0);return this.isIdentStart(a)||"-"==a&&this.isIdentStart(h)},isIdent:function(a){a=a.charCodeAt(0);return 256<=a||0!=(this.kLexTable[a]&IS_IDENT)},pushback:function(){this.mPos--},nextHexValue:function(){var a=this.read();if(-1==a||!this.isHexDigit(a))return new jscsspToken(jscsspToken.NULL_TYPE,null);for(var h=a,a=this.read();-1!=a&&this.isHexDigit(a);)h+=a,a=this.read();-1!=a&&this.pushback();
return new jscsspToken(jscsspToken.HEX_TYPE,h)},gatherEscape:function(){var a=this.peek();if(-1==a)return"";if(this.isHexDigit(a)){for(var h=0,b=0;6>b;b++)if(a=this.read(),this.isHexDigit(a))h=16*h+this.kHexValues[a.toLowerCase()];else{this.isHexDigit(a)||this.isWhiteSpace(a)||this.pushback();break}6==b&&(a=this.peek(),this.isWhiteSpace(a)&&this.read());return String.fromCharCode(h)}a=this.read();return"\n"!=a?a:""},gatherIdent:function(a){var h="",h=a==CSS_ESCAPE?h+this.gatherEscape():h+a;for(a=
this.read();-1!=a&&(this.isIdent(a)||a==CSS_ESCAPE);)h=a==CSS_ESCAPE?h+this.gatherEscape():h+a,a=this.read();-1!=a&&this.pushback();return h},parseIdent:function(a){a=this.gatherIdent(a);return"("==this.peek()?(a+=this.read(),new jscsspToken(jscsspToken.FUNCTION_TYPE,a)):new jscsspToken(jscsspToken.IDENT_TYPE,a)},isDigit:function(a){return"0"<=a&&"9">=a},parseComment:function(a){for(var h=a;-1!=(a=this.read());)if(h+=a,"*"==a){a=this.read();if(-1==a)break;if("/"==a){h+=a;break}this.pushback()}return new jscsspToken(jscsspToken.COMMENT_TYPE,
h)},parseNumber:function(a){for(var h=a,b=!1;-1!=(a=this.read());)if("."==a)if(b)break;else h+=a,b=!0;else if(this.isDigit(a))h+=a;else break;if(-1!=a&&this.startsWithIdent(a,this.peek()))return a=this.gatherIdent(a),new jscsspToken(jscsspToken.DIMENSION_TYPE,h+a,a);if("%"==a)return h+="%",new jscsspToken(jscsspToken.PERCENTAGE_TYPE,h);-1!=a&&this.pushback();return new jscsspToken(jscsspToken.NUMBER_TYPE,h)},parseString:function(a){for(var h=a,b=a,g;-1!=(g=this.read());){if(g==a&&b!=CSS_ESCAPE){h+=
g;break}else if(g==CSS_ESCAPE)if(g=this.peek(),-1==g)break;else"\n"==g||"\r"==g||"\f"==g?(d=g,g=this.read(),"\r"==d&&(g=this.peek(),"\n"==g&&(g=this.read()))):(h+=this.gatherEscape(),g=this.peek());else if("\n"==g||"\r"==g||"\f"==g)break;else h+=g;b=g}return new jscsspToken(jscsspToken.STRING_TYPE,h)},isWhiteSpace:function(a){a=a.charCodeAt(0);return 256>a&&0!=(this.kLexTable[a]&IS_WHITESPACE)},eatWhiteSpace:function(a){for(var h=a;-1!=(a=this.read())&&this.isWhiteSpace(a);)h+=a;-1!=a&&this.pushback();
return h},parseAtKeyword:function(a){return new jscsspToken(jscsspToken.ATRULE_TYPE,this.gatherIdent(a))},nextToken:function(){var a=this.read();if(-1==a)return new jscsspToken(jscsspToken.NULL_TYPE,null);if(this.startsWithIdent(a,this.peek()))return this.parseIdent(a);if("@"==a){var h=this.read();if(-1!=h){var b=this.peek();this.pushback();if(this.startsWithIdent(h,b))return this.parseAtKeyword(a)}}if("."==a||"+"==a||"-"==a)if(h=this.peek(),this.isDigit(h)||"."==h&&"."!=a&&(firstChar=this.read(),
h=this.peek(),this.pushback(),this.isDigit(h)))return this.parseNumber(a);if(this.isDigit(a))return this.parseNumber(a);if("'"==a||'"'==a)return this.parseString(a);if(this.isWhiteSpace(a))return a=this.eatWhiteSpace(a),new jscsspToken(jscsspToken.WHITESPACE_TYPE,a);if("|"==a||"~"==a||"^"==a||"$"==a||"*"==a)if(h=this.read(),"="==h)switch(a){case "~":return new jscsspToken(jscsspToken.INCLUDES_TYPE,"~=");case "|":return new jscsspToken(jscsspToken.DASHMATCH_TYPE,"|=");case "^":return new jscsspToken(jscsspToken.BEGINSMATCH_TYPE,
"^=");case "$":return new jscsspToken(jscsspToken.ENDSMATCH_TYPE,"$=");case "*":return new jscsspToken(jscsspToken.CONTAINSMATCH_TYPE,"*=")}else-1!=h&&this.pushback();return"/"==a&&"*"==this.peek()?this.parseComment(a):new jscsspToken(jscsspToken.SYMBOL_TYPE,a)}};function CSSParser(a){this.mLookAhead=this.mToken=null;this.mScanner=new CSSScanner(a);this.mPreserveComments=this.mPreserveWS=!0;this.mPreservedTokens=[];this.mError=null}
CSSParser.prototype={_init:function(){this.mLookAhead=this.mToken=null},kINHERIT:"inherit",kBORDER_WIDTH_NAMES:{thin:!0,medium:!0,thick:!0},kBORDER_STYLE_NAMES:{none:!0,hidden:!0,dotted:!0,dashed:!0,solid:!0,"double":!0,groove:!0,ridge:!0,inset:!0,outset:!0},kCOLOR_NAMES:{transparent:!0,black:!0,silver:!0,gray:!0,white:!0,maroon:!0,red:!0,purple:!0,fuchsia:!0,green:!0,lime:!0,olive:!0,yellow:!0,navy:!0,blue:!0,teal:!0,aqua:!0,aliceblue:!0,antiquewhite:!0,aqua:!0,aquamarine:!0,azure:!0,beige:!0,bisque:!0,
black:!0,blanchedalmond:!0,blue:!0,blueviolet:!0,brown:!0,burlywood:!0,cadetblue:!0,chartreuse:!0,chocolate:!0,coral:!0,cornflowerblue:!0,cornsilk:!0,crimson:!0,cyan:!0,darkblue:!0,darkcyan:!0,darkgoldenrod:!0,darkgray:!0,darkgreen:!0,darkgrey:!0,darkkhaki:!0,darkmagenta:!0,darkolivegreen:!0,darkorange:!0,darkorchid:!0,darkred:!0,darksalmon:!0,darkseagreen:!0,darkslateblue:!0,darkslategray:!0,darkslategrey:!0,darkturquoise:!0,darkviolet:!0,deeppink:!0,deepskyblue:!0,dimgray:!0,dimgrey:!0,dodgerblue:!0,
firebrick:!0,floralwhite:!0,forestgreen:!0,fuchsia:!0,gainsboro:!0,ghostwhite:!0,gold:!0,goldenrod:!0,gray:!0,green:!0,greenyellow:!0,grey:!0,honeydew:!0,hotpink:!0,indianred:!0,indigo:!0,ivory:!0,khaki:!0,lavender:!0,lavenderblush:!0,lawngreen:!0,lemonchiffon:!0,lightblue:!0,lightcoral:!0,lightcyan:!0,lightgoldenrodyellow:!0,lightgray:!0,lightgreen:!0,lightgrey:!0,lightpink:!0,lightsalmon:!0,lightseagreen:!0,lightskyblue:!0,lightslategray:!0,lightslategrey:!0,lightsteelblue:!0,lightyellow:!0,lime:!0,
limegreen:!0,linen:!0,magenta:!0,maroon:!0,mediumaquamarine:!0,mediumblue:!0,mediumorchid:!0,mediumpurple:!0,mediumseagreen:!0,mediumslateblue:!0,mediumspringgreen:!0,mediumturquoise:!0,mediumvioletred:!0,midnightblue:!0,mintcream:!0,mistyrose:!0,moccasin:!0,navajowhite:!0,navy:!0,oldlace:!0,olive:!0,olivedrab:!0,orange:!0,orangered:!0,orchid:!0,palegoldenrod:!0,palegreen:!0,paleturquoise:!0,palevioletred:!0,papayawhip:!0,peachpuff:!0,peru:!0,pink:!0,plum:!0,powderblue:!0,purple:!0,red:!0,rosybrown:!0,
royalblue:!0,saddlebrown:!0,salmon:!0,sandybrown:!0,seagreen:!0,seashell:!0,sienna:!0,silver:!0,skyblue:!0,slateblue:!0,slategray:!0,slategrey:!0,snow:!0,springgreen:!0,steelblue:!0,tan:!0,teal:!0,thistle:!0,tomato:!0,turquoise:!0,violet:!0,wheat:!0,white:!0,whitesmoke:!0,yellow:!0,yellowgreen:!0,activeborder:!0,activecaption:!0,appworkspace:!0,background:!0,buttonface:!0,buttonhighlight:!0,buttonshadow:!0,buttontext:!0,captiontext:!0,graytext:!0,highlight:!0,highlighttext:!0,inactiveborder:!0,inactivecaption:!0,
inactivecaptiontext:!0,infobackground:!0,infotext:!0,menu:!0,menutext:!0,scrollbar:!0,threeddarkshadow:!0,threedface:!0,threedhighlight:!0,threedlightshadow:!0,threedshadow:!0,window:!0,windowframe:!0,windowtext:!0},kLIST_STYLE_TYPE_NAMES:{decimal:!0,"decimal-leading-zero":!0,"lower-roman":!0,"upper-roman":!0,georgian:!0,armenian:!0,"lower-latin":!0,"lower-alpha":!0,"upper-latin":!0,"upper-alpha":!0,"lower-greek":!0,disc:!0,circle:!0,square:!0,none:!0,box:!0,check:!0,diamond:!0,hyphen:!0,"lower-armenian":!0,
"cjk-ideographic":!0,"ethiopic-numeric":!0,hebrew:!0,"japanese-formal":!0,"japanese-informal":!0,"simp-chinese-formal":!0,"simp-chinese-informal":!0,syriac:!0,tamil:!0,"trad-chinese-formal":!0,"trad-chinese-informal":!0,"upper-armenian":!0,"arabic-indic":!0,binary:!0,bengali:!0,cambodian:!0,khmer:!0,devanagari:!0,gujarati:!0,gurmukhi:!0,kannada:!0,"lower-hexadecimal":!0,lao:!0,malayalam:!0,mongolian:!0,myanmar:!0,octal:!0,oriya:!0,persian:!0,urdu:!0,telugu:!0,tibetan:!0,"upper-hexadecimal":!0,afar:!0,
"ethiopic-halehame-aa-et":!0,"ethiopic-halehame-am-et":!0,"amharic-abegede":!0,"ehiopic-abegede-am-et":!0,"cjk-earthly-branch":!0,"cjk-heavenly-stem":!0,ethiopic:!0,"ethiopic-abegede":!0,"ethiopic-abegede-gez":!0,"hangul-consonant":!0,hangul:!0,"hiragana-iroha":!0,hiragana:!0,"katakana-iroha":!0,katakana:!0,"lower-norwegian":!0,oromo:!0,"ethiopic-halehame-om-et":!0,sidama:!0,"ethiopic-halehame-sid-et":!0,somali:!0,"ethiopic-halehame-so-et":!0,tigre:!0,"ethiopic-halehame-tig":!0,"tigrinya-er-abegede":!0,
"ethiopic-abegede-ti-er":!0,"tigrinya-et":!0,"ethiopic-halehame-ti-et":!0,"upper-greek":!0,asterisks:!0,footnotes:!0,"circled-decimal":!0,"circled-lower-latin":!0,"circled-upper-latin":!0,"dotted-decimal":!0,"double-circled-decimal":!0,"filled-circled-decimal":!0,"parenthesised-decimal":!0,"parenthesised-lower-latin":!0},reportError:function(a){this.mError=a},consumeError:function(){var a=this.mError;this.mError=null;return a},currentToken:function(){return this.mToken},getHexValue:function(){return this.mToken=
this.mScanner.nextHexValue()},getToken:function(a,h){if(this.mLookAhead)return this.mToken=this.mLookAhead,this.mLookAhead=null,this.mToken;for(this.mToken=this.mScanner.nextToken();this.mToken&&(a&&this.mToken.isWhiteSpace()||h&&this.mToken.isComment());)this.mToken=this.mScanner.nextToken();return this.mToken},lookAhead:function(a,h){var b=this.mToken;this.mScanner.preserveState();var g=this.getToken(a,h);this.mScanner.restoreState();this.mToken=b;return g},ungetToken:function(){this.mLookAhead=
this.mToken},addUnknownAtRule:function(a,h){for(var b=CountLF(this.mScanner.getAlreadyScanned()),g=[],f=this.getToken(!1,!1);f.isNotNull();){h+=f.value;if(f.isSymbol(";")&&!g.length)break;else if(f.isSymbol("{")||f.isSymbol("(")||f.isSymbol("[")||"function"==f.type)g.push(f.isFunction()?"(":f.value);else if((f.isSymbol("}")||f.isSymbol(")")||f.isSymbol("]"))&&g.length){var e=g[g.length-1];if(f.isSymbol("}")&&"{"==e||f.isSymbol(")")&&"("==e||f.isSymbol("]")&&"["==e)if(g.pop(),!g.length&&f.isSymbol("}"))break}f=
this.getToken(!1,!1)}this.addUnknownRule(a,h,b)},addUnknownRule:function(a,h,b){var g=this.consumeError(),g=new jscsspErrorRule(g);g.currentLine=b;g.parsedCssText=h;g.parentStyleSheet=a;a.cssRules.push(g)},addWhitespace:function(a,h){var b=new jscsspWhitespace;b.parsedCssText=h;b.parentStyleSheet=a;a.cssRules.push(b)},addComment:function(a,h){var b=new jscsspComment;b.parsedCssText=h;b.parentStyleSheet=a;a.cssRules.push(b)},parseCharsetRule:function(a,h){var b=a.value,g=this.getToken(!1,!1),b=b+g.value;
if(g.isWhiteSpace(" "))if(g=this.getToken(!1,!1),b+=g.value,g.isString()){var f=g.value,g=this.getToken(!1,!1),b=b+g.value;if(g.isSymbol(";"))return g=new jscsspCharsetRule,g.encoding=f,g.parsedCssText=b,g.parentStyleSheet=h,h.cssRules.push(g),!0;this.reportError(kCHARSET_RULE_MISSING_SEMICOLON)}else this.reportError(kCHARSET_RULE_CHARSET_IS_STRING);else this.reportError(kCHARSET_RULE_MISSING_WS);this.addUnknownAtRule(h,b);return!1},parseImportRule:function(a,h){var b=CountLF(this.mScanner.getAlreadyScanned()),
g=a.value;this.preserveState();var f=this.getToken(!0,!0),e=[],l="";if(f.isString())l=f.value,g+=" "+l;else if(f.isFunction("url(")){if(f=this.getToken(!0,!0),f=this.parseURL(f))l="url("+f,g+=" "+l}else this.reportError(kIMPORT_RULE_MISSING_URL);if(l){for(f=this.getToken(!0,!0);f.isIdent();){g+=" "+f.value;e.push(f.value);f=this.getToken(!0,!0);if(!f)break;if(f.isSymbol(","))g+=",";else{f.isSymbol(";");break}f=this.getToken(!0,!0)}e.length||e.push("all");if(f.isSymbol(";"))return g+=";",this.forgetState(),
f=new jscsspImportRule,f.currentLine=b,f.parsedCssText=g,f.href=l,f.media=e,f.parentStyleSheet=h,h.cssRules.push(f),!0}this.restoreState();this.addUnknownAtRule(h,"@import");return!1},parseVariablesRule:function(a,h){var b=CountLF(this.mScanner.getAlreadyScanned()),g=a.value,f=[],e=!1;this.preserveState();a=this.getToken(!0,!0);for(var l=[],k=!1;a.isNotNull();){if(a.isIdent())if(k=!0,g+=" "+a.value,l.push(a.value),a=this.getToken(!0,!0),a.isSymbol(","))g+=",";else if(a.isSymbol("{"))this.ungetToken();
else{a.type=jscsspToken.NULL_TYPE;break}else if(a.isSymbol("{"))break;else if(k){a.type=jscsspToken.NULL_TYPE;break}a=this.getToken(!0,!0)}if(a.isSymbol("{"))for(g+=" {",a=this.getToken(!0,!0);;){if(!a.isNotNull()){e=!0;break}if(a.isSymbol("}")){g+="}";e=!0;break}else e=this.parseDeclaration(a,f,!0,!1,h),g+=(e&&f.length?" ":"")+e;a=this.getToken(!0,!1)}if(e)return this.forgetState(),e=new jscsspVariablesRule,e.currentLine=b,e.parsedCssText=g,e.declarations=f,e.media=l,e.parentStyleSheet=h,h.cssRules.push(e),
!0;this.restoreState();return!1},parseNamespaceRule:function(a,h){var b=CountLF(this.mScanner.getAlreadyScanned()),g=a.value;this.preserveState();var f=this.getToken(!0,!0);if(f.isNotNull()){var e="",l="";f.isIdent()&&(e=f.value,g+=" "+e,f=this.getToken(!0,!0));if(f){var k=!1;f.isString()?(k=!0,l=f.value,g+=" "+l):f.isFunction("url(")&&(f=this.getToken(!0,!0),f=this.parseURL(f))&&(l+="url("+f,k=!0,g+=" "+f)}if(k&&(f=this.getToken(!0,!0),f.isSymbol(";")))return g+=";",this.forgetState(),k=new jscsspNamespaceRule,
k.currentLine=b,k.parsedCssText=g,k.prefix=e,k.url=l,k.parentStyleSheet=h,h.cssRules.push(k),!0}this.restoreState();this.addUnknownAtRule(h,"@namespace");return!1},parseFontFaceRule:function(a,h){var b=CountLF(this.mScanner.getAlreadyScanned()),g=a.value,f=!1,e=[];this.preserveState();var l=this.getToken(!0,!0);if(l.isNotNull()&&l.isSymbol("{"))for(g+=" "+l.value,l=this.getToken(!0,!1);;){if(l.isSymbol("}")){g+="}";f=!0;break}else f=this.parseDeclaration(l,e,!1,!1,h),g+=(f&&e.length?" ":"")+f;l=this.getToken(!0,
!1)}if(f)return this.forgetState(),f=new jscsspFontFaceRule,f.currentLine=b,f.parsedCssText=g,f.descriptors=e,f.parentStyleSheet=h,h.cssRules.push(f),!0;this.restoreState();return!1},parsePageRule:function(a,h){var b=CountLF(this.mScanner.getAlreadyScanned()),g=a.value,f=!1,e=[];this.preserveState();var l=this.getToken(!0,!0),k="";if(l.isSymbol(":")||l.isIdent())l.isSymbol(":")&&(k=":",l=this.getToken(!1,!1)),l.isIdent()&&(k+=l.value,g+=" "+k,l=this.getToken(!0,!0));if(l.isNotNull()&&l.isSymbol("{"))for(g+=
" "+l.value,l=this.getToken(!0,!1);;){if(l.isSymbol("}")){g+="}";f=!0;break}else f=this.parseDeclaration(l,e,!0,!0,h),g+=(f&&e.length?" ":"")+f;l=this.getToken(!0,!1)}if(f)return this.forgetState(),f=new jscsspPageRule,f.currentLine=b,f.parsedCssText=g,f.pageSelector=k,f.declarations=e,f.parentStyleSheet=h,h.cssRules.push(f),!0;this.restoreState();return!1},parseDefaultPropertyValue:function(a,h,b,g,f){b="";for(var e=[],l=[];a.isNotNull();){if((a.isSymbol(";")||a.isSymbol("}")||a.isSymbol("!"))&&
!e.length){a.isSymbol("}")&&this.ungetToken();break}if(a.isIdent(this.kINHERIT)){if(l.length)return"";b=this.kINHERIT;var k=new jscsspVariable(kJscsspINHERIT_VALUE,f);l.push(k);this.getToken(!0,!0);break}else a.isSymbol("{")||a.isSymbol("(")||a.isSymbol("[")?e.push(a.value):(a.isSymbol("}")||a.isSymbol("]"))&&e.length&&(k=e[e.length-1],(a.isSymbol("}")&&"{"==k||a.isSymbol(")")&&"("==k||a.isSymbol("]")&&"["==k)&&e.pop());if(a.isFunction())if(a.isFunction("var("))if(a=this.getToken(!0,!0),a.isIdent()){var n=
a.value;a=this.getToken(!0,!0);if(a.isSymbol(")"))k=new jscsspVariable(kJscsspVARIABLE_VALUE,f),b+="var("+n+")",k.name=n,l.push(k);else return""}else return"";else if(n=a.value,a=this.getToken(!1,!0),a=this.parseFunctionArgument(a))b+=n+a,k=new jscsspVariable(kJscsspPRIMITIVE_VALUE,f),k.value=n+a,l.push(k);else return"";else if(a.isSymbol("#"))if(a=this.parseColor(a))b+=a,k=new jscsspVariable(kJscsspPRIMITIVE_VALUE,f),k.value=a,l.push(k);else return"";else a.isWhiteSpace()||a.isSymbol(",")||(k=new jscsspVariable(kJscsspPRIMITIVE_VALUE,
f),k.value=a.value,l.push(k)),b+=a.value;a=this.getToken(!1,!0)}return l.length&&b?(this.forgetState(),h.push(this._createJscsspDeclarationFromValuesArray(g,l,b)),b):""},parseMarginOrPaddingShorthand:function(a,h,b,g){for(var f=null,e=null,l=null,k=null,n=[];a.isNotNull();){if(a.isSymbol(";")||b&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!n.length&&a.isIdent(this.kINHERIT)){n.push(a.value);this.getToken(!0,!0);break}else if(a.isDimension()||a.isNumber("0")||
a.isPercentage()||a.isIdent("auto"))n.push(a.value);else return"";a=this.getToken(!0,!0)}switch(n.length){case 1:k=l=e=f=n[0];break;case 2:e=f=n[0];k=l=n[1];break;case 3:f=n[0];k=l=n[1];e=n[2];break;case 4:f=n[0];k=n[1];e=n[2];l=n[3];break;default:return""}this.forgetState();h.push(this._createJscsspDeclarationFromValue(g+"-top",f));h.push(this._createJscsspDeclarationFromValue(g+"-right",k));h.push(this._createJscsspDeclarationFromValue(g+"-bottom",e));h.push(this._createJscsspDeclarationFromValue(g+
"-left",l));return f+" "+k+" "+e+" "+l},parseBorderColorShorthand:function(a,h,b){var g=null,f=null,e=null,l=null;for(h=[];a.isNotNull();){if(a.isSymbol(";")||b&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!h.length&&a.isIdent(this.kINHERIT)){h.push(a.value);this.getToken(!0,!0);break}else if(a=this.parseColor(a))h.push(a);else return"";a=this.getToken(!0,!0)}switch(h.length){case 1:l=e=f=g=h[0];break;case 2:f=g=h[0];l=e=h[1];break;case 3:g=h[0];l=e=h[1];f=h[2];
break;case 4:g=h[0];l=h[1];f=h[2];e=h[3];break;default:return""}this.forgetState();return g+" "+l+" "+f+" "+e},parseCueShorthand:function(a,h,b){for(var g=h="",g=[],g=[];a.isNotNull();){if(a.isSymbol(";")||b&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!g.length&&a.isIdent(this.kINHERIT))g.push(a.value);else if(a.isIdent("none"))g.push(a.value);else if(a.isFunction("url("))if(a=this.getToken(!0,!0),a=this.parseURL(a))g.push("url("+a);else return"";else return"";
a=this.getToken(!0,!0)}switch(g.length){case 1:g=h=g[0];break;case 2:h=g[0];g=g[1];break;default:return""}this.forgetState();aDecl.push(this._createJscsspDeclarationFromValue("cue-before",h));aDecl.push(this._createJscsspDeclarationFromValue("cue-after",g));return h+" "+g},parsePauseShorthand:function(a,h,b){for(var g=h="",g=[],g=[];a.isNotNull();){if(a.isSymbol(";")||b&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!g.length&&a.isIdent(this.kINHERIT))g.push(a.value);
else if(a.isDimensionOfUnit("ms")||a.isDimensionOfUnit("s")||a.isPercentage()||a.isNumber("0"))g.push(a.value);else return"";a=this.getToken(!0,!0)}switch(g.length){case 1:g=h=g[0];break;case 2:h=g[0];g=g[1];break;default:return""}this.forgetState();aDecl.push(this._createJscsspDeclarationFromValue("pause-before",h));aDecl.push(this._createJscsspDeclarationFromValue("pause-after",g));return h+" "+g},parseBorderWidthShorthand:function(a,h,b){console.error("parseBorderWidthShorthand");h=null;for(h=
[];a.isNotNull();){if(a.isSymbol(";")||b&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!h.length&&a.isIdent(this.kINHERIT))h.push(a.value);else if(a.isDimension()||a.isNumber("0")||a.isIdent()&&a.value in this.kBORDER_WIDTH_NAMES)h.push(a.value);else return"";a=this.getToken(!0,!0)}switch(h.length){case 1:h=h[0];break;case 2:h=h[0];break;case 3:h=h[0];break;case 4:h=h[0];break;default:return""}this.forgetState();return h},parseBorderStyleShorthand:function(a,
h,b){for(var g=null,f=null,e=null,l=null,k=[];a.isNotNull();){if(a.isSymbol(";")||b&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!k.length&&a.isIdent(this.kINHERIT))k.push(a.value);else if(a.isIdent()&&a.value in this.kBORDER_STYLE_NAMES)k.push(a.value);else return"";a=this.getToken(!0,!0)}switch(k.length){case 1:l=e=f=g=k[0];break;case 2:f=g=k[0];l=e=k[1];break;case 3:g=k[0];l=e=k[1];f=k[2];break;case 4:g=k[0];l=k[1];f=k[2];e=k[3];break;default:return""}this.forgetState();
h.push(this._createJscsspDeclarationFromValue("border-top-style",g));h.push(this._createJscsspDeclarationFromValue("border-right-style",l));h.push(this._createJscsspDeclarationFromValue("border-bottom-style",f));h.push(this._createJscsspDeclarationFromValue("border-left-style",e));return g+" "+l+" "+f+" "+e},parseBorderEdgeOrOutlineShorthand:function(a,h,b,g){function f(a,b,e,f,g,h){b.push(a._createJscsspDeclarationFromValue(e+"-width",f));b.push(a._createJscsspDeclarationFromValue(e+"-style",g));
b.push(a._createJscsspDeclarationFromValue(e+"-color",h))}for(var e=null,l=null,k=null;a.isNotNull();){if(a.isSymbol(";")||b&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(e||l||k||!a.isIdent(this.kINHERIT))if(!e&&(a.isDimension()||a.isIdent()&&a.value in this.kBORDER_WIDTH_NAMES||a.isNumber("0")))e=a.value;else if(!l&&a.isIdent()&&a.value in this.kBORDER_STYLE_NAMES)l=a.value;else if(a="outline"==g&&a.isIdent("invert")?"invert":this.parseColor(a),!k&&a)k=a;else return"";
else k=l=e=this.kINHERIT;a=this.getToken(!0,!0)}this.forgetState();e=e?e:"medium";l=l?l:"none";k=k?k:"-moz-initial";"border"==g?(f(this,h,"border-top",e,l,k),f(this,h,"border-right",e,l,k),f(this,h,"border-bottom",e,l,k),f(this,h,"border-left",e,l,k)):f(this,h,g,e,l,k);return e+" "+l+" "+k},parseBackgroundShorthand:function(a,h,b){for(var g={left:!0,right:!0},f={top:!0,bottom:!0},e={left:!0,right:!0,top:!0,bottom:!0,center:!0},l=null,k=null,n=null,m=null,p=null;a.isNotNull();){if(a.isSymbol(";")||
b&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(l||k||n||m||p||!a.isIdent(this.kINHERIT))if(n||!a.isIdent("scroll")&&!a.isIdent("fixed"))if(!p&&(a.isIdent()&&a.value in e||a.isDimension()||a.isNumber("0")||a.isPercentage()))if(p=a.value,a=this.getToken(!0,!0),a.isDimension()||a.isNumber("0")||a.isPercentage())p+=" "+a.value;else if(a.isIdent()&&a.value in e){if(p in g&&a.value in g||p in f&&a.value in f)return"";p+=" "+a.value}else this.ungetToken(),p+=" center";
else if(!k&&(a.isIdent("repeat")||a.isIdent("repeat-x")||a.isIdent("repeat-y")||a.isIdent("no-repeat")))k=a.value;else if(m||!a.isFunction("url(")&&!a.isIdent("none"))if(!m&&(a.isFunction("-moz-linear-gradient(")||a.isFunction("-moz-radial-gradient(")||a.isFunction("-moz-repeating-linear-gradient(")||a.isFunction("-moz-repeating-radial-gradient(")))if(m=CssInspector.parseGradient(this,a))m=CssInspector.serializeGradient(m);else return"";else if(a=this.parseColor(a),!l&&a)l=a;else return"";else{if(m=
a.value,a.isFunction("url("))if(a=this.getToken(!0,!0),a=this.parseURL(a))m+=a;else return""}else n=a.value;else p=m=n=k=l=this.kINHERIT;a=this.getToken(!0,!0)}this.forgetState();l=l?l:"transparent";m=m?m:"none";k=k?k:"repeat";n=n?n:"scroll";p=p?p:"top left";h.push(this._createJscsspDeclarationFromValue("background-color",l));h.push(this._createJscsspDeclarationFromValue("background-image",m));h.push(this._createJscsspDeclarationFromValue("background-repeat",k));h.push(this._createJscsspDeclarationFromValue("background-attachment",
n));h.push(this._createJscsspDeclarationFromValue("background-position",p));return l+" "+m+" "+k+" "+n+" "+p},parseListStyleShorthand:function(a,h,b){for(var g={inside:!0,outside:!0},f=null,e=null,l=null;a.isNotNull();){if(a.isSymbol(";")||b&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!f&&!e&&!l&&a.isIdent(this.kINHERIT))l=e=f=this.kINHERIT;else if(!f&&a.isIdent()&&a.value in this.kLIST_STYLE_TYPE_NAMES)f=a.value;else if(!e&&a.isIdent()&&a.value in g)e=a.value;
else if(!l&&a.isFunction("url"))if(a=this.getToken(!0,!0),a=this.parseURL(a))l="url("+a;else return"";else if(!a.isIdent("none"))return"";a=this.getToken(!0,!0)}this.forgetState();f=f?f:"none";l=l?l:"none";e=e?e:"outside";h.push(this._createJscsspDeclarationFromValue("list-style-type",f));h.push(this._createJscsspDeclarationFromValue("list-style-position",e));h.push(this._createJscsspDeclarationFromValue("list-style-image",l));return f+" "+e+" "+l},parseFontShorthand:function(a,h,b){console.error("parseFontShorthand");
for(var g={italic:!0,oblique:!0},f={"small-caps":!0},e={bold:!0,bolder:!0,lighter:!0,100:!0,200:!0,300:!0,400:!0,500:!0,600:!0,700:!0,800:!0,900:!0},l={"xx-small":!0,"x-small":!0,small:!0,medium:!0,large:!0,"x-large":!0,"xx-large":!0,larger:!0,smaller:!0},k={caption:!0,icon:!0,menu:!0,"message-box":!0,"small-caption":!0,"status-bar":!0},n={serif:!0,"sans-serif":!0,cursive:!0,fantasy:!0,monospace:!0},m=null,p=null,r=null,q=null,u=null,w="",y=null,x=[],z=0;a.isNotNull();){if(a.isSymbol(";")||b&&a.isSymbol("!")||
a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(m||p||r||q||u||w||y||!a.isIdent(this.kINHERIT))if(!y&&a.isIdent()&&a.value in k){y=a.value;break}else if(!m&&a.isIdent()&&a.value in g)m=a.value;else if(!p&&a.isIdent()&&a.value in f)p=a.value;else if(!r&&(a.isIdent()||a.isNumber())&&a.value in e)r=a.value;else if(!q&&(a.isIdent()&&a.value in l||a.isDimension()||a.isPercentage()))if(q=a.value,a=this.getToken(!1,!1),a.isSymbol("/"))if(a=this.getToken(!1,!1),!u&&(a.isDimension()||a.isNumber()||
a.isPercentage()))u=a.value;else return"";else this.ungetToken();else if(a.isIdent("normal")){if(z++,3<z)return""}else{if(w||!a.isString()&&!a.isIdent())return"";for(var B=!1;;){if(a.isNotNull())if(a.isSymbol(";")||b&&a.isSymbol("!")||a.isSymbol("}")){this.ungetToken();break}else if(a.isIdent()&&a.value in n){B=new jscsspVariable(kJscsspPRIMITIVE_VALUE,null);B.value=a.value;x.push(B);w+=a.value;break}else if(a.isString()||a.isIdent())B=new jscsspVariable(kJscsspPRIMITIVE_VALUE,null),B.value=a.value,
x.push(B),w+=a.value,B=!1;else if(!B&&a.isSymbol(","))w+=", ",B=!0;else return"";else break;a=this.getToken(!0,!0)}}else y=w=u=q=r=p=m=this.kINHERIT;a=this.getToken(!0,!0)}this.forgetState();return y?(h.push(this._createJscsspDeclarationFromValue("font",y)),y):(m?m:"normal")+" "+(p?p:"normal")+" "+(r?r:"normal")+" "+(q?q:"medium")+"/"+(u?u:"normal")+" "+(w?w:"-moz-initial")},_createJscsspDeclaration:function(a,h){var b=new jscsspDeclaration;b.property=a;b.value=this.trim11(h);b.parsedCssText=a+": "+
h+";";return b},_createJscsspDeclarationFromValue:function(a,h){var b=new jscsspDeclaration;b.property=a;var g=new jscsspVariable(kJscsspPRIMITIVE_VALUE,null);g.value=h;b.values=[g];b.valueText=h;b.parsedCssText=a+": "+h+";";return b},_createJscsspDeclarationFromValuesArray:function(a,h,b){var g=new jscsspDeclaration;g.property=a;g.values=h;g.valueText=b;g.parsedCssText=a+": "+b+";";return g},parseURL:function(a){var h="";if(a.isString())h+=a.value,a=this.getToken(!0,!0);else for(;;){if(!a.isNotNull())return this.reportError(kURL_EOF),
"";if(a.isWhiteSpace()&&(nextToken=this.lookAhead(!0,!0),!nextToken.isSymbol(")"))){this.reportError(kURL_WS_INSIDE);a=this.currentToken();break}if(a.isSymbol(")"))break;h+=a.value;a=this.getToken(!1,!1)}return a.isSymbol(")")?h+")":""},parseFunctionArgument:function(a){var h="";if(a.isString())h+=a.value,a=this.getToken(!0,!0);else for(var b=1;;){if(!a.isNotNull())return"";(a.isFunction()||a.isSymbol("("))&&b++;if(a.isSymbol(")")&&(b--,!b))break;h+=a.value;a=this.getToken(!1,!1)}return a.isSymbol(")")?
h+")":""},parseColor:function(a){var h="";if(a.isFunction("rgb(")||a.isFunction("rgba(")){var h=a.value,b=a.isFunction("rgba(");a=this.getToken(!0,!0);if(!a.isNumber()&&!a.isPercentage())return"";h+=a.value;a=this.getToken(!0,!0);if(!a.isSymbol(","))return"";h+=", ";a=this.getToken(!0,!0);if(!a.isNumber()&&!a.isPercentage())return"";h+=a.value;a=this.getToken(!0,!0);if(!a.isSymbol(","))return"";h+=", ";a=this.getToken(!0,!0);if(!a.isNumber()&&!a.isPercentage())return"";h+=a.value;if(b){a=this.getToken(!0,
!0);if(!a.isSymbol(","))return"";h+=", ";a=this.getToken(!0,!0);if(!a.isNumber())return"";h+=a.value}a=this.getToken(!0,!0);if(!a.isSymbol(")"))return"";h+=a.value}else if(a.isFunction("hsl(")||a.isFunction("hsla(")){h=a.value;b=a.isFunction("hsla(");a=this.getToken(!0,!0);if(!a.isNumber())return"";h+=a.value;a=this.getToken(!0,!0);if(!a.isSymbol(","))return"";h+=", ";a=this.getToken(!0,!0);if(!a.isPercentage())return"";h+=a.value;a=this.getToken(!0,!0);if(!a.isSymbol(","))return"";h+=", ";a=this.getToken(!0,
!0);if(!a.isPercentage())return"";h+=a.value;if(b){a=this.getToken(!0,!0);if(!a.isSymbol(","))return"";h+=", ";a=this.getToken(!0,!0);if(!a.isNumber())return"";h+=a.value}a=this.getToken(!0,!0);if(!a.isSymbol(")"))return"";h+=a.value}else if(a.isIdent()&&a.value in this.kCOLOR_NAMES)h=a.value;else if(a.isSymbol("#")){a=this.getHexValue();if(!a.isHex())return"";h=a.value.length;if(3!=h&&6!=h||a.value.match(/[a-fA-F0-9]/g).length!=h)return"";h="#"+a.value}return h},parseDeclaration:function(a,h,b,g,
f){this.preserveState();var e=[];g=!1;if(a.isIdent()){if(e=a.value.toLowerCase(),a=this.getToken(!0,!0),a.isSymbol(":")){a=this.getToken(!0,!0);var l="",k=[];if(g)switch(e){case "background":l=this.parseBackgroundShorthand(a,k,b);break;case "margin":case "padding":l=this.parseMarginOrPaddingShorthand(a,k,b,e);break;case "border-color":l=this.parseBorderColorShorthand(a,k,b);break;case "border-style":l=this.parseBorderStyleShorthand(a,k,b);break;case "border-width":l=this.parseBorderWidthShorthand(a,
k,b);break;case "border-top":case "border-right":case "border-bottom":case "border-left":case "border":case "outline":l=this.parseBorderEdgeOrOutlineShorthand(a,k,b,e);break;case "cue":l=this.parseCueShorthand(a,k,b);break;case "pause":l=this.parsePauseShorthand(a,k,b);break;case "font":l=this.parseFontShorthand(a,k,b);break;case "list-style":l=this.parseListStyleShorthand(a,k,b);break;default:l=this.parseDefaultPropertyValue(a,k,b,e,f)}else l=this.parseDefaultPropertyValue(a,k,b,e,f);a=this.currentToken();
if(l){b=!1;if(a.isSymbol("!"))if(a=this.getToken(!0,!0),a.isIdent("important"))if(b=!0,a=this.getToken(!0,!0),a.isSymbol(";")||a.isSymbol("}"))a.isSymbol("}")&&this.ungetToken();else return"";else return"";else if(a.isNotNull()&&!a.isSymbol(";")&&!a.isSymbol("}"))return"";for(a=0;a<k.length;a++)k[a].priority=b,h.push(k[a]);return e+": "+l+";"}}}else if(a.isComment())return this.mPreserveComments&&(this.forgetState(),b=new jscsspComment,b.parsedCssText=a.value,h.push(b)),a.value;this.restoreState();
e=[];for(a=this.getToken(!1,!1);a.isNotNull();){if(!a.isSymbol(";")&&!a.isSymbol("}")||e.length)a.isSymbol("{")||a.isSymbol("(")||a.isSymbol("[")||a.isFunction()?e.push(a.isFunction()?"(":a.value):(a.isSymbol("}")||a.isSymbol(")")||a.isSymbol("]"))&&e.length&&(h=e[e.length-1],(a.isSymbol("}")&&"{"==h||a.isSymbol(")")&&"("==h||a.isSymbol("]")&&"["==h)&&e.pop());else{a.isSymbol("}")&&this.ungetToken();break}a=this.getToken(!1,!1)}return""},parseKeyframesRule:function(a,h){var b=CountLF(this.mScanner.getAlreadyScanned()),
g=a.value,f=!1,e=new jscsspKeyframesRule;e.currentLine=b;this.preserveState();for(var l=this.getToken(!0,!0),k=!1;l.isNotNull();){if(l.isIdent())if(k=!0,g+=" "+l.value,e.name=l.value,l=this.getToken(!0,!0),l.isSymbol("{"))this.ungetToken();else{l.type=jscsspToken.NULL_TYPE;break}else{l.isSymbol("{")?k||(l.type=jscsspToken.NULL_TYPE):l.type=jscsspToken.NULL_TYPE;break}l=this.getToken(!0,!0)}if(l.isSymbol("{")&&e.name)for(g+=" { ",l=this.getToken(!0,!1);l.isNotNull();){if(l.isComment()&&this.mPreserveComments)g+=
" "+l.value,k=new jscsspComment,k.parsedCssText=l.value,e.cssRules.push(k);else if(l.isSymbol("}")){f=!0;break}else(l=this.parseKeyframeRule(l,e,!0))&&(g+=l);l=this.getToken(!0,!1)}if(f)return this.forgetState(),e.currentLine=b,e.parsedCssText=g,h.cssRules.push(e),!0;this.restoreState();return!1},parseKeyframeRule:function(a,h){var b=CountLF(this.mScanner.getAlreadyScanned());this.preserveState();for(var g=a,f="";g.isNotNull();){if(g.isIdent()||g.isPercentage()){if(g.isIdent()&&!g.isIdent("from")&&
!g.isIdent("to")){f="";break}f+=g.value;g=this.getToken(!0,!0);if(g.isSymbol("{")){this.ungetToken();break}else if(g.isSymbol(","))f+=", ";else{f="";break}}else{f="";break}g=this.getToken(!0,!0)}var e=!1,l=[];if(f){var k=f,g=this.getToken(!0,!0);if(g.isSymbol("{"))for(k+=" { ",g=this.getToken(!0,!1);;){if(!g.isNotNull()){e=!0;break}if(g.isSymbol("}")){k+="}";e=!0;break}else g=this.parseDeclaration(g,l,!0,!0,h),k+=(g&&l.length?" ":"")+g;g=this.getToken(!0,!1)}}if(e)return g=new jscsspKeyframeRule,
g.currentLine=b,g.parsedCssText=k,g.declarations=l,g.keyText=f,g.parentRule=h,h.cssRules.push(g),k;this.restoreState();k=this.currentToken().value;this.addUnknownAtRule(h,k);return""},parseMediaRule:function(a,h){var b=CountLF(this.mScanner.getAlreadyScanned()),g=a.value,f=!1,e=new jscsspMediaRule;e.currentLine=b;this.preserveState();for(var b=this.getToken(!0,!0),l=!1;b.isNotNull();){if(b.isIdent())if(l=!0,g+=" "+b.value,e.media.push(b.value),b=this.getToken(!0,!0),b.isSymbol(","))g+=",";else if(b.isSymbol("{"))this.ungetToken();
else{b.type=jscsspToken.NULL_TYPE;break}else if(b.isSymbol("{"))break;else if(l){b.type=jscsspToken.NULL_TYPE;break}b=this.getToken(!0,!0)}if(b.isSymbol("{")&&e.media.length)for(g+=" { ",b=this.getToken(!0,!1);b.isNotNull();){if(b.isComment()&&this.mPreserveComments)g+=" "+b.value,l=new jscsspComment,l.parsedCssText=b.value,e.cssRules.push(l);else if(b.isSymbol("}")){f=!0;break}else(b=this.parseStyleRule(b,e,!0))&&(g+=b);b=this.getToken(!0,!1)}if(f)return this.forgetState(),e.parsedCssText=g,h.cssRules.push(e),
!0;this.restoreState();return!1},trim11:function(a){a=a.replace(/^\s+/,"");for(var h=a.length-1;0<=h;h--)if(/\S/.test(a.charAt(h))){a=a.substring(0,h+1);break}return a},parseStyleRule:function(a,h,b){var g=CountLF(this.mScanner.getAlreadyScanned());this.preserveState();a=this.parseSelector(a,!1);var f=!1,e=[];if(a){var l=a=this.trim11(a.selector),k=this.getToken(!0,!0);if(k.isSymbol("{"))for(l+=" { ",k=this.getToken(!0,!1);;){if(!k.isNotNull()){f=!0;break}if(k.isSymbol("}")){l+="}";f=!0;break}else f=
this.parseDeclaration(k,e,!0,!0,h),l+=(f&&e.length?" ":"")+f;k=this.getToken(!0,!1)}}if(f)return f=new jscsspStyleRule,f.currentLine=g,f.parsedCssText=l,f.declarations=e,f.mSelectorText=a,b?f.parentRule=h:f.parentStyleSheet=h,h.cssRules.push(f),l;this.restoreState();l=this.currentToken().value;this.addUnknownAtRule(h,l);return""},parseSelector:function(a,h){for(var b="",g={a:0,b:0,c:0,d:0},f=!0,e=a,l=!1,k=!1;;){if(!e.isNotNull())return h?{selector:b,specificity:g}:"";if(!h&&e.isSymbol("{")){(l=!k)&&
this.ungetToken();break}if(e.isSymbol(","))b+=e.value,f=!0,k=!1,e=this.getToken(!1,!0);else if(!k&&(e.isWhiteSpace()||e.isSymbol(">")||e.isSymbol("+")||e.isSymbol("~"))){if(e.isWhiteSpace()){b+=" ";f=this.lookAhead(!0,!0);if(!f.isNotNull())return h?{selector:b,specificity:g}:"";if(f.isSymbol(">")||f.isSymbol("+")||f.isSymbol("~"))e=this.getToken(!0,!0),b+=e.value+" ",k=!0}else b+=e.value,k=!0;f=!0;e=this.getToken(!0,!0)}else{k=this.parseSimpleSelector(e,f,!0);if(!k)break;b+=k.selector;g.b+=k.specificity.b;
g.c+=k.specificity.c;g.d+=k.specificity.d;k=f=!1;e=this.getToken(!1,!0)}}return l?{selector:b,specificity:g}:""},isPseudoElement:function(a){switch(a){case "first-letter":case "first-line":case "before":case "after":case "marker":return!0;default:return!1}},parseSimpleSelector:function(a,h,b){var g="",f={a:0,b:0,c:0,d:0};if(h&&(a.isSymbol("*")||a.isSymbol("|")||a.isIdent()))if(a.isSymbol("*")||a.isIdent())if(g+=a.value,h=a.isIdent(),a=this.getToken(!1,!0),a.isSymbol("|"))if(g+=a.value,a=this.getToken(!1,
!0),a.isIdent()||a.isSymbol("*"))g+=a.value,a.isIdent()&&f.d++;else return null;else this.ungetToken(),h&&f.d++;else{if(a.isSymbol("|"))if(g+=a.value,a=this.getToken(!1,!0),a.isIdent()||a.isSymbol("*"))g+=a.value,a.isIdent()&&f.d++;else return null}else if(a.isSymbol(".")||a.isSymbol("#"))if(h=a.isSymbol("."),g+=a.value,a=this.getToken(!1,!0),a.isIdent())g+=a.value,h?f.c++:f.b++;else return null;else if(a.isSymbol(":"))if(g+=a.value,a=this.getToken(!1,!0),a.isSymbol(":")&&(g+=a.value,a=this.getToken(!1,
!0)),a.isIdent())g+=a.value,this.isPseudoElement(a.value)?f.d++:f.c++;else if(a.isFunction()){g+=a.value;if(a.isFunction(":not(")){if(!b)return null;a=this.getToken(!0,!0);if(a=this.parseSimpleSelector(a,h,!1))if(g+=a.selector,a=this.getToken(!0,!0),a.isSymbol(")"))g+=")";else return null;else return null}else for(;;)if(a=this.getToken(!1,!0),a.isSymbol(")")){g+=")";break}else g+=a.value;f.c++}else return null;else if(a.isSymbol("[")){g+="[";a=this.getToken(!0,!0);if(a.isIdent()||a.isSymbol("*"))if(g+=
a.value,this.getToken(!0,!0),a.isSymbol("|"))if(g+="|",a=this.getToken(!0,!0),a.isIdent())g+=a.value;else return null;else this.ungetToken();else if(a.isSymbol("|"))if(g+="|",a=this.getToken(!0,!0),a.isIdent())g+=a.value;else return null;else return null;a=this.getToken(!0,!0);if(a.isIncludes()||a.isDashmatch()||a.isBeginsmatch()||a.isEndsmatch()||a.isContainsmatch()||a.isSymbol("="))if(g+=a.value,a=this.getToken(!0,!0),a.isString()||a.isIdent())g+=a.value,a=this.getToken(!0,!0);else return null;
if(a.isSymbol("]"))g+=a.value,f.c++;else return null}else if(a.isWhiteSpace()&&this.lookAhead(!0,!0).isSymbol("{"))return"";return g?{selector:g,specificity:f}:null},preserveState:function(){this.mPreservedTokens.push(this.currentToken());this.mScanner.preserveState()},restoreState:function(){this.mPreservedTokens.length&&(this.mScanner.restoreState(),this.mToken=this.mPreservedTokens.pop())},forgetState:function(){this.mPreservedTokens.length&&(this.mScanner.forgetState(),this.mPreservedTokens.pop())},
parse:function(a,h,b){if(!a)return null;this.mPreserveWS=h;this.mPreserveComments=b;this.mPreservedTokens=[];this.mScanner.init(a);a=new jscsspStylesheet;b=this.getToken(!1,!1);if(b.isNotNull()){b.isAtRule("@charset")&&(this.parseCharsetRule(b,a),b=this.getToken(!1,!1));for(var g=!1,f=!1,e=!1;b.isNotNull();)b.isWhiteSpace()?h&&this.addWhitespace(a,b.value):b.isComment()?this.mPreserveComments&&this.addComment(a,b.value):b.isAtRule()?b.isAtRule("@variables")?f||g?(this.reportError(kVARIABLES_RULE_POSITION),
this.addUnknownAtRule(a,b.value)):this.parseVariablesRule(b,a):b.isAtRule("@import")?g||e?(this.reportError(kIMPORT_RULE_POSITION),this.addUnknownAtRule(a,b.value)):f=this.parseImportRule(b,a):b.isAtRule("@namespace")?g?(this.reportError(kNAMESPACE_RULE_POSITION),this.addUnknownAtRule(a,b.value)):e=this.parseNamespaceRule(b,a):b.isAtRule("@font-face")?this.parseFontFaceRule(b,a)?g=!0:this.addUnknownAtRule(a,b.value):b.isAtRule("@page")?this.parsePageRule(b,a)?g=!0:this.addUnknownAtRule(a,b.value):
b.isAtRule("@media")?this.parseMediaRule(b,a)?g=!0:this.addUnknownAtRule(a,b.value):b.isAtRule("@keyframes")?this.parseKeyframesRule(b,a)||this.addUnknownAtRule(a,b.value):(b.isAtRule("@charset")?this.reportError(kCHARSET_RULE_CHARSET_SOF):this.reportError(kUNKNOWN_AT_RULE),this.addUnknownAtRule(a,b.value)):this.parseStyleRule(b,a,!1)&&(g=!0),b=this.getToken(!1);return a}}};function jscsspToken(a,h,b){this.type=a;this.value=h;this.unit=b}jscsspToken.NULL_TYPE=0;jscsspToken.WHITESPACE_TYPE=1;
jscsspToken.STRING_TYPE=2;jscsspToken.COMMENT_TYPE=3;jscsspToken.NUMBER_TYPE=4;jscsspToken.IDENT_TYPE=5;jscsspToken.FUNCTION_TYPE=6;jscsspToken.ATRULE_TYPE=7;jscsspToken.INCLUDES_TYPE=8;jscsspToken.DASHMATCH_TYPE=9;jscsspToken.BEGINSMATCH_TYPE=10;jscsspToken.ENDSMATCH_TYPE=11;jscsspToken.CONTAINSMATCH_TYPE=12;jscsspToken.SYMBOL_TYPE=13;jscsspToken.DIMENSION_TYPE=14;jscsspToken.PERCENTAGE_TYPE=15;jscsspToken.HEX_TYPE=16;
jscsspToken.prototype={isNotNull:function(){return this.type},_isOfType:function(a,h){return this.type==a&&(!h||this.value.toLowerCase()==h)},isWhiteSpace:function(a){return this._isOfType(jscsspToken.WHITESPACE_TYPE,a)},isString:function(){return this._isOfType(jscsspToken.STRING_TYPE)},isComment:function(){return this._isOfType(jscsspToken.COMMENT_TYPE)},isNumber:function(a){return this._isOfType(jscsspToken.NUMBER_TYPE,a)},isSymbol:function(a){return this._isOfType(jscsspToken.SYMBOL_TYPE,a)},
isIdent:function(a){return this._isOfType(jscsspToken.IDENT_TYPE,a)},isFunction:function(a){return this._isOfType(jscsspToken.FUNCTION_TYPE,a)},isAtRule:function(a){return this._isOfType(jscsspToken.ATRULE_TYPE,a)},isIncludes:function(){return this._isOfType(jscsspToken.INCLUDES_TYPE)},isDashmatch:function(){return this._isOfType(jscsspToken.DASHMATCH_TYPE)},isBeginsmatch:function(){return this._isOfType(jscsspToken.BEGINSMATCH_TYPE)},isEndsmatch:function(){return this._isOfType(jscsspToken.ENDSMATCH_TYPE)},
isContainsmatch:function(){return this._isOfType(jscsspToken.CONTAINSMATCH_TYPE)},isSymbol:function(a){return this._isOfType(jscsspToken.SYMBOL_TYPE,a)},isDimension:function(){return this._isOfType(jscsspToken.DIMENSION_TYPE)},isPercentage:function(){return this._isOfType(jscsspToken.PERCENTAGE_TYPE)},isHex:function(){return this._isOfType(jscsspToken.HEX_TYPE)},isDimensionOfUnit:function(a){return this.isDimension()&&this.unit==a},isLength:function(){return this.isPercentage()||this.isDimensionOfUnit("cm")||
this.isDimensionOfUnit("mm")||this.isDimensionOfUnit("in")||this.isDimensionOfUnit("pc")||this.isDimensionOfUnit("px")||this.isDimensionOfUnit("em")||this.isDimensionOfUnit("ex")||this.isDimensionOfUnit("pt")},isAngle:function(){return this.isDimensionOfUnit("deg")||this.isDimensionOfUnit("rad")||this.isDimensionOfUnit("grad")}};
var kJscsspUNKNOWN_RULE=0,kJscsspSTYLE_RULE=1,kJscsspCHARSET_RULE=2,kJscsspIMPORT_RULE=3,kJscsspMEDIA_RULE=4,kJscsspFONT_FACE_RULE=5,kJscsspPAGE_RULE=6,kJscsspKEYFRAMES_RULE=7,kJscsspKEYFRAME_RULE=8,kJscsspNAMESPACE_RULE=100,kJscsspCOMMENT=101,kJscsspWHITE_SPACE=102,kJscsspVARIABLES_RULE=200,kJscsspSTYLE_DECLARATION=1E3,gTABS="";function jscsspStylesheet(){this.cssRules=[];this.variables={};this.path=null}
jscsspStylesheet.prototype={path:null,insertRule:function(a,h){try{this.cssRules.splice(h,1,a)}catch(b){}},deleteRule:function(a){try{this.cssRules.splice(a)}catch(h){}},cssText:function(){for(var a="",h=0;h<this.cssRules.length;h++)a+=this.cssRules[h].cssText()+"\n";return a},resolveVariables:function(a){for(var h=0;h<this.cssRules.length;h++){var b=this.cssRules[h];if(b.type==kJscsspSTYLE_RULE||b.type==kJscsspIMPORT_RULE)break;else{var g;if((g=b.type==kJscsspVARIABLES_RULE)&&!(g=!b.media.length))a:{g=
b.media;for(var f=0;f<g.length;f++)if(a==g[f]){g=!0;break a}g=!1}if(g)for(g=0;g<b.declarations.length;g++){for(var f="",e=0;e<b.declarations[g].values.length;e++)f+=(e?" ":"")+b.declarations[g].values[e].value;this.variables[b.declarations[g].property]=f}}}}};function jscsspCharsetRule(){this.type=kJscsspCHARSET_RULE;this.parentRule=this.parentStyleSheet=this.parsedCssText=this.encoding=null}
jscsspCharsetRule.prototype={cssText:function(){return"@charset "+this.encoding+";"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!1,!1);if(b.isAtRule("@charset")&&a.parseCharsetRule(b,h))h=h.cssRules[0],this.encoding=h.encoding,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;}};function jscsspErrorRule(a){this.error=a?a:"INVALID";this.type=kJscsspUNKNOWN_RULE;this.parentRule=this.parentStyleSheet=this.parsedCssText=null}
jscsspErrorRule.prototype={cssText:function(){return this.parsedCssText}};function jscsspComment(){this.type=kJscsspCOMMENT;this.parentRule=this.parentStyleSheet=this.parsedCssText=null}jscsspComment.prototype={cssText:function(){return this.parsedCssText},setCssText:function(a){a=(new CSSParser(a)).getToken(!0,!1);if(a.isComment())this.parsedCssText=a.value;else throw DOMException.SYNTAX_ERR;}};
function jscsspWhitespace(){this.type=kJscsspWHITE_SPACE;this.parentRule=this.parentStyleSheet=this.parsedCssText=null}jscsspWhitespace.prototype={cssText:function(){return this.parsedCssText}};function jscsspImportRule(){this.type=kJscsspIMPORT_RULE;this.href=this.parsedCssText=null;this.media=[];this.parentRule=this.parentStyleSheet=null}
jscsspImportRule.prototype={cssText:function(){var a=this.media.join(", ");return"@import "+this.href+(a&&"all"!=a?a+" ":"")+";"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!0,!0);if(b.isAtRule("@import")&&a.parseImportRule(b,h))h=h.cssRules[0],this.href=h.href,this.media=h.media,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;}};
function jscsspNamespaceRule(){this.type=kJscsspNAMESPACE_RULE;this.parentRule=this.parentStyleSheet=this.url=this.prefix=this.parsedCssText=null}
jscsspNamespaceRule.prototype={cssText:function(){return"@namespace "+(this.prefix?this.prefix+" ":"")+this.url+";"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!0,!0);if(b.isAtRule("@namespace")&&a.parseNamespaceRule(b,h))h=h.cssRules[0],this.url=h.url,this.prefix=h.prefix,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;}};
function jscsspDeclaration(){this.type=kJscsspSTYLE_DECLARATION;this.property=null;this.values=[];this.parentRule=this.parentStyleSheet=this.parsedCssText=this.priority=this.valueText=null}
jscsspDeclaration.prototype={kCOMMA_SEPARATED:{cursor:!0,"font-family":!0,"voice-family":!0,"background-image":!0},kUNMODIFIED_COMMA_SEPARATED_PROPERTIES:{"text-shadow":!0,"box-shadow":!0,"-moz-transition":!0,"-moz-transition-property":!0,"-moz-transition-duration":!0,"-moz-transition-timing-function":!0,"-moz-transition-delay":!0},cssText:function(){var a=CssInspector.prefixesForProperty(this.property);if(this.property in this.kUNMODIFIED_COMMA_SEPARATED_PROPERTIES){if(a){for(var h="",b=0;b<a.length;b++)var g=
a[b],h=h+((b?gTABS:"")+g+": "),h=h+(this.valueText+(this.priority?" !important":"")+";"),h=h+(1<a.length&&b!=a.length-1?"\n":"");return h}return this.property+": "+this.valueText+(this.priority?" !important":"")+";"}if(a){h="";for(b=0;b<a.length;b++){var g=a[b],h=h+((b?gTABS:"")+g+": "),g=g in this.kCOMMA_SEPARATED?", ":" ",f=0;for(;f<this.values.length;f++)if(null!=this.values[f].cssText())h+=(f?g:"")+this.values[f].cssText();else return null;h+=(this.priority?" !important":"")+";"+(1<a.length&&
b!=a.length-1?"\n":"")}return h}h=this.property+": ";g=this.property in this.kCOMMA_SEPARATED?", ":" ";a={webkit:!1,presto:!1,trident:!1,generic:!1};for(f=0;f<this.values.length;f++){var e=this.values[f].cssText();if(null!=e){var l=e.indexOf("("),k=e;-1!=l&&(k=e.substr(0,l));if(k in kCSS_VENDOR_VALUES)for(b in kCSS_VENDOR_VALUES[k])a[b]=a[b]||""!=kCSS_VENDOR_VALUES[k][b];h+=(f?g:"")+e}else return null}h+=(this.priority?" !important":"")+";";for(b in a)if(a[b]){for(var n="\n"+gTABS+this.property+": ",
f=0;f<this.values.length;f++)if(e=this.values[f].cssText(),null!=e){l=e.indexOf("(");k=e;-1!=l&&(k=e.substr(0,l));if(k in kCSS_VENDOR_VALUES&&(functor=kCSS_VENDOR_VALUES[k][b])&&(e="string"==typeof functor?functor:functor(e,b),!e)){n=null;break}n+=(f?g:"")+e}else return null;h=n?h+(n+";"):h+("\n"+gTABS+"/* Impossible to translate property "+this.property+" for "+b+" */")}return h},setCssText:function(a){var h=[];a=new CSSParser(a);var b=a.getToken(!0,!0);if(a.parseDeclaration(b,h,!0,!0,null)&&h.length&&
h[0].type==kJscsspSTYLE_DECLARATION)h=h.cssRules[0],this.property=h.property,this.value=h.value,this.priority=h.priority,this.parsedCssText=newRule.parsedCssText;else throw DOMException.SYNTAX_ERR;}};function jscsspFontFaceRule(){this.type=kJscsspFONT_FACE_RULE;this.parsedCssText=null;this.descriptors=[];this.parentRule=this.parentStyleSheet=null}
jscsspFontFaceRule.prototype={cssText:function(){var a=gTABS+"@font-face {\n",h=gTABS;gTABS+="  ";for(var b=0;b<this.descriptors.length;b++)a+=gTABS+this.descriptors[b].cssText()+"\n";gTABS=h;return a+gTABS+"}"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!0,!0);if(b.isAtRule("@font-face")&&a.parseFontFaceRule(b,h))h=h.cssRules[0],this.descriptors=h.descriptors,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;}};
function jscsspKeyframesRule(){this.type=kJscsspKEYFRAMES_RULE;this.parsedCssText=null;this.cssRules=[];this.parentRule=this.parentStyleSheet=this.name=null}
jscsspKeyframesRule.prototype={cssText:function(){var a=gTABS+"@keyframes "+this.name+" {\n",h=gTABS;gTABS+="  ";for(var b=0;b<this.cssRules.length;b++)a+=gTABS+this.cssRules[b].cssText()+"\n";gTABS=h;return a+=gTABS+"}\n"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!0,!0);if(b.isAtRule("@keyframes")&&a.parseKeyframesRule(b,h))h=h.cssRules[0],this.cssRules=h.cssRules,this.name=h.name,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;}};
function jscsspKeyframeRule(){this.type=kJscsspKEYFRAME_RULE;this.parsedCssText=null;this.declarations=[];this.parentRule=this.parentStyleSheet=this.keyText=null}
jscsspKeyframeRule.prototype={cssText:function(){var a=this.keyText+" {\n",h=gTABS;gTABS+="  ";for(var b=0;b<this.declarations.length;b++)this.declarations[b].cssText()&&(a+=gTABS+this.declarations[b].cssText()+"\n");gTABS=h;return a+gTABS+"}"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!0,!0);if(!b.isNotNull()&&a.parseKeyframeRule(b,h,!1))h=h.cssRules[0],this.keyText=h.keyText,this.declarations=h.declarations,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;
}};function jscsspMediaRule(){this.type=kJscsspMEDIA_RULE;this.parsedCssText=null;this.cssRules=[];this.media=[];this.parentRule=this.parentStyleSheet=null}
jscsspMediaRule.prototype={cssText:function(){var a=gTABS+"@media "+this.media.join(", ")+" {\n",h=gTABS;gTABS+="  ";for(var b=0;b<this.cssRules.length;b++)a+=gTABS+this.cssRules[b].cssText()+"\n";gTABS=h;return a+gTABS+"}"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!0,!0);if(b.isAtRule("@media")&&a.parseMediaRule(b,h))h=h.cssRules[0],this.cssRules=h.cssRules,this.media=h.media,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;}};
function jscsspStyleRule(){this.type=kJscsspSTYLE_RULE;this.parsedCssText=null;this.declarations=[];this.parentRule=this.parentStyleSheet=this.mSelectorText=null}
jscsspStyleRule.prototype={cssText:function(){var a=this.mSelectorText+" {\n",h=gTABS;gTABS+="  ";for(var b=0;b<this.declarations.length;b++)this.declarations[b].cssText()&&(a+=gTABS+this.declarations[b].cssText()+"\n");gTABS=h;return a+gTABS+"}"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!0,!0);if(!b.isNotNull()&&a.parseStyleRule(b,h,!1))h=h.cssRules[0],this.mSelectorText=h.mSelectorText,this.declarations=h.declarations,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;
},selectorText:function(){return this.mSelectorText},setSelectorText:function(a){a=new CSSParser(a);var h=a.getToken(!0,!0);if(!h.isNotNull()&&(a=a.parseSelector(h,!0))){this.mSelectorText=a.selector;return}throw DOMException.SYNTAX_ERR;}};function jscsspPageRule(){this.type=kJscsspPAGE_RULE;this.pageSelector=this.parsedCssText=null;this.declarations=[];this.parentRule=this.parentStyleSheet=null}
jscsspPageRule.prototype={cssText:function(){var a=gTABS+"@page "+(this.pageSelector?this.pageSelector+" ":"")+"{\n",h=gTABS;gTABS+="  ";for(var b=0;b<this.declarations.length;b++)a+=gTABS+this.declarations[b].cssText()+"\n";gTABS=h;return a+gTABS+"}"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!0,!0);if(b.isAtRule("@page")&&a.parsePageRule(b,h))h=h.cssRules[0],this.pageSelector=h.pageSelector,this.declarations=h.declarations,this.parsedCssText=h.parsedCssText;
else throw DOMException.SYNTAX_ERR;}};function jscsspVariablesRule(){this.type=kJscsspVARIABLES_RULE;this.parsedCssText=null;this.declarations=[];this.media=this.parentRule=this.parentStyleSheet=null}
jscsspVariablesRule.prototype={cssText:function(){var a=gTABS+"@variables "+(this.media.length?this.media.join(", ")+" ":"")+"{\n",h=gTABS;gTABS+="  ";for(var b=0;b<this.declarations.length;b++)a+=gTABS+this.declarations[b].cssText()+"\n";gTABS=h;return a+gTABS+"}"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!0,!0);if(b.isAtRule("@variables")&&a.parseVariablesRule(b,h))h=h.cssRules[0],this.declarations=h.declarations,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;
}};var kJscsspINHERIT_VALUE=0,kJscsspPRIMITIVE_VALUE=1,kJscsspVARIABLE_VALUE=4;function jscsspVariable(a,h){this.value="";this.type=a;this.parentRule=this.name=null;this.parentStyleSheet=h}
jscsspVariable.prototype={cssText:function(){return this.type==kJscsspVARIABLE_VALUE?this.resolveVariable(this.name,this.parentRule,this.parentStyleSheet):this.value},setCssText:function(a){if(this.type==kJscsspVARIABLE_VALUE)throw DOMException.SYNTAX_ERR;this.value=a},resolveVariable:function(a,h,b){return a.toLowerCase()in b.variables?b.variables[a.toLowerCase()]:null}};
function ParseURL(a){for(var h={protocol:"",user:"",password:"",host:"",port:"",path:"",query:""},b="PROTOCOL",g=0,f=!1;g<a.length;)if("PROTOCOL"==b)":"==a.charAt(g)?(b="AFTER_PROTOCOL",g++):"/"==a.charAt(g)&&0==h.protocol.length()?b=PATH:h.protocol+=a.charAt(g++);else if("AFTER_PROTOCOL"==b)if("/"==a.charAt(g))f?(f=!1,b="USER"):f=!0,g++;else throw new ParseException("Protocol shell be separated with 2 slashes");else"USER"==b?"/"==a.charAt(g)?(h.host=h.user,h.user="",b="PATH"):"?"==a.charAt(g)?(h.host=
h.user,h.user="",b="QUERY",g++):":"==a.charAt(g)?(b="PASSWORD",g++):"@"==a.charAt(g)?(b="HOST",g++):h.user+=a.charAt(g++):"PASSWORD"==b?"/"==a.charAt(g)?(h.host=h.user,h.port=h.password,h.user="",h.password="",b="PATH"):"?"==a.charAt(g)?(h.host=h.user,h.port=h.password,h.user="",h.password="",b="QUERY",g++):"@"==a.charAt(g)?(b="HOST",g++):h.password+=a.charAt(g++):"HOST"==b?"/"==a.charAt(g)?b="PATH":":"==a.charAt(g)?(b="PORT",g++):"?"==a.charAt(g)?(b="QUERY",g++):h.host+=a.charAt(g++):"PORT"==b?"/"==
a.charAt(g)?b="PATH":"?"==a.charAt(g)?(b="QUERY",g++):h.port+=a.charAt(g++):"PATH"==b?"?"==a.charAt(g)?(b="QUERY",g++):h.path+=a.charAt(g++):"QUERY"==b&&(h.query+=a.charAt(g++));if("PROTOCOL"==b)h.host=h.protocol,h.protocol="http";else{if("AFTER_PROTOCOL"==b)throw new ParseException("Invalid url");"USER"==b?(h.host=h.user,h.user=""):"PASSWORD"==b&&(h.host=h.user,h.port=h.password,h.user="",h.password="")}return h}function ParseException(a){this.description=a}
function CountLF(a){return(a=a.match(/\n/g))?a.length+1:1}
function FilterLinearGradientForOutput(a,h){if("generic"==h)return a.substr(5);if("webkit"==h)return a.replace(/\-moz\-/g,"-webkit-");if("webkit20110101"!=h)return"";var b=CssInspector.parseBackgroundImages(a)[0],g=!1,f="-webkit-gradient(linear, ",e="position"in b.value?b.value.position.toLowerCase():"",l="angle"in b.value?b.value.angle.toLowerCase():"";if(l){var k=l.match(/^([0-9\-\.\\+]+)([a-z]*)/),l=parseFloat(k[1]),k=k[2];switch(k){case "grad":l=90*l/100;break;case "rad":l=180*l/Math.PI}for(;0>
l;)l+=360;for(;360<=l;)l-=360}var n=[],m=[];if(""!=e)if("center"==e&&(e="center center"),n=e.split(" "),""==l&&0!=l){switch(n[0]){case "left":m.push("right");break;case "center":m.push("center");break;case "right":m.push("left");break;default:k=n[0].match(/^([0-9\-\.\\+]+)([a-z]*)/),e=parseFloat(k[0]),k=k[1],"%"==k?m.push(100-e+"%"):g=!0}if(!g)switch(n[1]){case "top":m.push("bottom");break;case "center":m.push("center");break;case "bottom":m.push("top");break;default:k=n[1].match(/^([0-9\-\.\\+]+)([a-z]*)/),
e=parseFloat(k[0]),k=k[1],"%"==k?m.push(100-e+"%"):g=!0}}else switch(l){case 0:m.push("right");m.push(n[1]);break;case 90:m.push(n[0]);m.push("top");break;case 180:m.push("left");m.push(n[1]);break;case 270:m.push(n[0]);m.push("bottom");break;default:g=!0}else switch(""==l&&(l=270),l){case 0:n=["left","center"];m=["right","center"];break;case 90:n=["center","bottom"];m=["center","top"];break;case 180:n=["right","center"];m=["left","center"];break;case 270:n=["center","top"];m=["center","bottom"];
break;default:g=!0}if(g)return"";f+=n.join(" ")+", "+m.join(" ");b.value.stops[0].position||(b.value.stops[0].position="0%");b.value.stops[b.value.stops.length-1].position||(b.value.stops[b.value.stops.length-1].position="100%");for(m=n=0;m<b.value.stops.length&&!g;m++){e=b.value.stops[m];if(e.position){if(-1==e.position.indexOf("%")){g=!0;break}}else{for(l=m+1;l<b.value.stops.length&&!b.value.stops[l].position;)l++;for(var k=parseFloat(b.value.stops[l].position)-n,p=m;p<l;p++)b.value.stops[p].position=
n+k*(p-m+1)/(l-m+1)+"%"}n=parseFloat(e.position);f+=", color-stop("+parseFloat(n)/100+", "+e.color+")"}return g?"":f+")"}
function FilterRadialGradientForOutput(a,h){if("generic"==h)return a.substr(5);if("webkit"==h)return a.replace(/\-moz\-/g,"-webkit-");if("webkit20110101"!=h)return"";var b=CssInspector.parseBackgroundImages(a)[0],g="size"in b.value?b.value.size:"";if("circle"!=("shape"in b.value?b.value.shape:"")||"farthest-corner"!=g&&"cover"!=g||!(!(2>b.value.stops.length)&&"position"in b.value.stops[0]&&b.value.stops[b.value.stops.length-1].position&&"position"in b.value.stops[0]&&b.value.stops[b.value.stops.length-
1].position))return"";for(var f=0;f<b.value.stops.length;f++){var e=b.value.stops[f];if("position"in e&&e.position&&-1==e.position.indexOf("px"))return""}var f="position"in b.value?b.value.position:"center center",g="-webkit-gradient(radial, "+(f+", "+parseFloat(b.value.stops[0].position)+", "),g=g+(f+", "+parseFloat(b.value.stops[b.value.stops.length-1].position)),l=parseFloat(b.value.stops[0].position),f=0;for(;f<b.value.stops.length;f++){e=b.value.stops[f];if(!("position"in e&&e.position)){for(var k=
f+1;k<b.value.stops.length&&!b.value.stops[k].position;)k++;for(var n=parseFloat(b.value.stops[k].position)-l,m=f;m<k;m++)b.value.stops[m].position=l+n*(m-f+1)/(k-f+1)+"px"}l=parseFloat(e.position);k=(l-parseFloat(b.value.stops[0].position))/(parseFloat(b.value.stops[b.value.stops.length-1].position)-parseFloat(b.value.stops[0].position));g+=", color-stop("+k+", "+e.color+")"}return g+")"}
function FilterRepeatingGradientForOutput(a,h){return"generic"==h?a.substr(5):"webkit"==h?a.replace(/\-moz\-/g,"-webkit-"):""};(function(a){function h(a,b,e){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:e;default:throw Error("Implement me");}}function b(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function g(a){!1===H.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function f(a,b){var e=!0;return p(function(){e&&
(g(a),e=!1);return b.apply(this,arguments)},b)}function e(a,b){return function(e){return u(a.call(this,e),b)}}function l(a,b){return function(e){return this.localeData().ordinal(a.call(this,e),b)}}function k(){}function n(a,b){!1!==b&&M(a);r(this,a);this._d=new Date(+a._d)}function m(a){a=F(a);var b=a.year||0,e=a.quarter||0,f=a.month||0,g=a.week||0,h=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=+h+7*g;this._months=+f+3*e+12*b;this._data=
{};this._locale=H.localeData();this._bubble()}function p(a,b){for(var e in b)wa.call(b,e)&&(a[e]=b[e]);wa.call(b,"toString")&&(a.toString=b.toString);wa.call(b,"valueOf")&&(a.valueOf=b.valueOf);return a}function r(a,b){var e,f,g;"undefined"!==typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject);"undefined"!==typeof b._i&&(a._i=b._i);"undefined"!==typeof b._f&&(a._f=b._f);"undefined"!==typeof b._l&&(a._l=b._l);"undefined"!==typeof b._strict&&(a._strict=b._strict);"undefined"!==typeof b._tzm&&
(a._tzm=b._tzm);"undefined"!==typeof b._isUTC&&(a._isUTC=b._isUTC);"undefined"!==typeof b._offset&&(a._offset=b._offset);"undefined"!==typeof b._pf&&(a._pf=b._pf);"undefined"!==typeof b._locale&&(a._locale=b._locale);if(0<ia.length)for(e in ia)f=ia[e],g=b[f],"undefined"!==typeof g&&(a[f]=g);return a}function q(a){return 0>a?Math.ceil(a):Math.floor(a)}function u(a,b,e){for(var f=""+Math.abs(a);f.length<b;)f="0"+f;return(0<=a?e?"+":"":"-")+f}function w(a,b){var e={milliseconds:0,months:0};e.months=
b.month()-a.month()+12*(b.year()-a.year());a.clone().add(e.months,"M").isAfter(b)&&--e.months;e.milliseconds=+b-+a.clone().add(e.months,"M");return e}function y(a,b){var e;b=X(b,a);a.isBefore(b)?e=w(a,b):(e=w(b,a),e.milliseconds=-e.milliseconds,e.months=-e.months);return e}function x(a,b){return function(e,f){var h;null===f||isNaN(+f)||(tb[b]||(g("moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),tb[b]=!0),h=e,e=f,f=h);h=H.duration("string"===typeof e?+e:e,
f);z(this,h,a);return this}}function z(a,b,e,f){var g=b._milliseconds,h=b._days;b=b._months;f=null==f?!0:f;g&&a._d.setTime(+a._d+g*e);h&&fb(a,"Date",v(a,"Date")+h*e);b&&ca(a,v(a,"Month")+b*e);f&&H.updateOffset(a,h||b)}function B(a){return"[object Array]"===Object.prototype.toString.call(a)}function D(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function t(a,b,e){var f=Math.min(a.length,b.length),g=Math.abs(a.length-b.length),h=0,k;for(k=0;k<f;k++)(e&&a[k]!==b[k]||
!e&&K(a[k])!==K(b[k]))&&h++;return h+g}function A(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=Ma[a]||ub[b]||b}return a}function F(a){var b={},e,f;for(f in a)wa.call(a,f)&&(e=A(f))&&(b[e]=a[f]);return b}function G(b){var e,f;if(0===b.indexOf("week"))e=7,f="day";else if(0===b.indexOf("month"))e=12,f="month";else return;H[b]=function(g,h){var k,l,m=H._locale[b],n=[];"number"===typeof g&&(h=g,g=a);l=function(a){a=H().utc().set(f,a);return m.call(H._locale,a,g||"")};if(null!=h)return l(h);for(k=
0;k<e;k++)n.push(l(k));return n}}function K(a){a=+a;var b=0;0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a));return b}function E(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function O(a,b,e){return Sa(H([a,11,31+b-e]),b,e).week}function J(a){return 0===a%4&&0!==a%100||0===a%400}function M(a){var b;a._a&&-2===a._pf.overflow&&(b=0>a._a[1]||11<a._a[1]?1:1>a._a[2]||a._a[2]>E(a._a[0],a._a[1])?2:0>a._a[3]||24<a._a[3]||24===a._a[3]&&(0!==a._a[4]||0!==a._a[5]||0!==a._a[6])?3:0>a._a[4]||59<
a._a[4]?4:0>a._a[5]||59<a._a[5]?5:0>a._a[6]||999<a._a[6]?6:-1,a._pf._overflowDayOfYear&&(0>b||2<b)&&(b=2),a._pf.overflow=b)}function L(b){null==b._isValid&&(b._isValid=!isNaN(b._d.getTime())&&0>b._pf.overflow&&!b._pf.empty&&!b._pf.invalidMonth&&!b._pf.nullInput&&!b._pf.invalidFormat&&!b._pf.userInvalidated,b._strict&&(b._isValid=b._isValid&&0===b._pf.charsLeftOver&&0===b._pf.unusedTokens.length&&b._pf.bigHour===a));return b._isValid}function R(a){return a?a.toLowerCase().replace("_","-"):a}function Q(a){var b=
null;if(!Xa[a]&&ga)try{b=H.locale(),require("./locale/"+a),H.locale(b)}catch(e){}return Xa[a]}function X(a,b){var e,f;return b._isUTC?(e=b.clone(),f=(H.isMoment(a)||D(a)?+a:+H(a))-+e,e._d.setTime(+e._d+f),H.updateOffset(e,!1),e):H(a).local()}function T(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function ea(a){var b=a.match(ua),e,f;e=0;for(f=b.length;e<f;e++)b[e]=Ha[b[e]]?Ha[b[e]]:T(b[e]);return function(g){var h="";for(e=0;e<f;e++)h+=b[e]instanceof Function?b[e].call(g,
a):b[e];return h}}function N(a,b){if(!a.isValid())return a.localeData().invalidDate();b=Z(b,a.localeData());ab[b]||(ab[b]=ea(b));return ab[b](a)}function Z(a,b){function e(a){return b.longDateFormat(a)||a}var f=5;for(fa.lastIndex=0;0<=f&&fa.test(a);)a=a.replace(fa,e),fa.lastIndex=0,--f;return a}function ha(a,b){var e=b._strict;switch(a){case "Q":return Ia;case "DDDD":return sb;case "YYYY":case "GGGG":case "gggg":return e?yb:$a;case "Y":case "G":case "g":return ra;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return e?
za:Ta;case "S":if(e)return Ia;case "SS":if(e)return aa;case "SSS":if(e)return sb;case "DDD":return pa;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return Pa;case "a":case "A":return b._locale._meridiemParse;case "x":return Wa;case "X":return kb;case "Z":case "ZZ":return sa;case "T":return Qa;case "SSSS":return la;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return e?aa:ba;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return ba;
case "Do":return e?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:var e=RegExp,f;f=Aa(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new e(f)}}function V(a){a=(a||"").match(sa)||[];a=((a[a.length-1]||[])+"").match(Ca)||["-",0,0];var b=+(60*a[1])+K(a[2]);return"+"===a[0]?-b:b}function ta(a){var b,e,f=[],g;if(!a._d){g=new Date;g=a._useUTC?[g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()]:[g.getFullYear(),g.getMonth(),g.getDate()];if(a._w&&null==a._a[2]&&null==
a._a[1]){var k,l,m;k=a._w;null!=k.GG||null!=k.W||null!=k.E?(b=1,m=4,e=h(k.GG,a._a[0],Sa(H(),1,4).year),l=h(k.W,1),k=h(k.E,1)):(b=a._locale._week.dow,m=a._locale._week.doy,e=h(k.gg,a._a[0],Sa(H(),b,m).year),l=h(k.w,1),null!=k.d?(k=k.d,k<b&&++l):k=null!=k.e?k.e+b:b);var n=xa(e,0,1).getUTCDay(),n=0===n?7:n;m=7*(l-1)+((null!=k?k:b)-b)+(b-n+(n>m?7:0)-(n<b?7:0))+1;b=0<m?e:e-1;e=0<m?m:(J(e-1)?366:365)+m;a._a[0]=b;a._dayOfYear=e}a._dayOfYear&&(e=h(a._a[0],g[0]),a._dayOfYear>(J(e)?366:365)&&(a._pf._overflowDayOfYear=
!0),e=xa(e,0,a._dayOfYear),a._a[1]=e.getUTCMonth(),a._a[2]=e.getUTCDate());for(e=0;3>e&&null==a._a[e];++e)a._a[e]=f[e]=g[e];for(;7>e;e++)a._a[e]=f[e]=null==a._a[e]?2===e?1:0:a._a[e];24===a._a[3]&&0===a._a[4]&&0===a._a[5]&&0===a._a[6]&&(a._nextDay=!0,a._a[3]=0);a._d=(a._useUTC?xa:Fa).apply(null,f);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+a._tzm);a._nextDay&&(a._a[3]=24)}}function Y(a){var b;a._d||(b=F(a._i),a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ta(a))}
function na(b){if(b._f===H.ISO_8601)ka(b);else{b._a=[];b._pf.empty=!0;var e=""+b._i,f,g,h,k,l,m=e.length,n=0;h=Z(b._f,b._locale).match(ua)||[];for(f=0;f<h.length;f++){k=h[f];if(g=(e.match(ha(k,b))||[])[0])l=e.substr(0,e.indexOf(g)),0<l.length&&b._pf.unusedInput.push(l),e=e.slice(e.indexOf(g)+g.length),n+=g.length;if(Ha[k]){g?b._pf.empty=!1:b._pf.unusedTokens.push(k);l=b;var q=void 0,t=l._a;switch(k){case "Q":null!=g&&(t[1]=3*(K(g)-1));break;case "M":case "MM":null!=g&&(t[1]=K(g)-1);break;case "MMM":case "MMMM":q=
l._locale.monthsParse(g,k,l._strict);null!=q?t[1]=q:l._pf.invalidMonth=g;break;case "D":case "DD":null!=g&&(t[2]=K(g));break;case "Do":null!=g&&(t[2]=K(parseInt(g.match(/\d{1,2}/)[0],10)));break;case "DDD":case "DDDD":null!=g&&(l._dayOfYear=K(g));break;case "YY":t[0]=H.parseTwoDigitYear(g);break;case "YYYY":case "YYYYY":case "YYYYYY":t[0]=K(g);break;case "a":case "A":l._isPm=l._locale.isPM(g);break;case "h":case "hh":l._pf.bigHour=!0;case "H":case "HH":t[3]=K(g);break;case "m":case "mm":t[4]=K(g);
break;case "s":case "ss":t[5]=K(g);break;case "S":case "SS":case "SSS":case "SSSS":t[6]=K(1E3*("0."+g));break;case "x":l._d=new Date(K(g));break;case "X":l._d=new Date(1E3*parseFloat(g));break;case "Z":case "ZZ":l._useUTC=!0;l._tzm=V(g);break;case "dd":case "ddd":case "dddd":q=l._locale.weekdaysParse(g);null!=q?(l._w=l._w||{},l._w.d=q):l._pf.invalidWeekday=g;break;case "w":case "ww":case "W":case "WW":case "d":case "e":case "E":k=k.substr(0,1);case "gggg":case "GGGG":case "GGGGG":k=k.substr(0,2);
g&&(l._w=l._w||{},l._w[k]=K(g));break;case "gg":case "GG":l._w=l._w||{},l._w[k]=H.parseTwoDigitYear(g)}}else b._strict&&!g&&b._pf.unusedTokens.push(k)}b._pf.charsLeftOver=m-n;0<e.length&&b._pf.unusedInput.push(e);!0===b._pf.bigHour&&12>=b._a[3]&&(b._pf.bigHour=a);b._isPm&&12>b._a[3]&&(b._a[3]+=12);!1===b._isPm&&12===b._a[3]&&(b._a[3]=0);ta(b);M(b)}}function Aa(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,e,f,g){return b||e||f||g})}function ka(a){var b,e,f=a._i,g=zb.exec(f);
if(g){a._pf.iso=!0;b=0;for(e=Ua.length;b<e;b++)if(Ua[b][1].exec(f)){a._f=Ua[b][0]+(g[6]||" ");break}b=0;for(e=Da.length;b<e;b++)if(Da[b][1].exec(f)){a._f+=Da[b][0];break}f.match(sa)&&(a._f+="Z");na(a)}else a._isValid=!1}function bb(a){ka(a);!1===a._isValid&&(delete a._isValid,H.createFromInputFallback(a))}function ja(a,b){var e=[],f;for(f=0;f<a.length;++f)e.push(b(a[f],f));return e}function Ra(b){var e=b._i,f;e===a?b._d=new Date:D(e)?b._d=new Date(+e):null!==(f=da.exec(e))?b._d=new Date(+f[1]):"string"===
typeof e?bb(b):B(e)?(b._a=ja(e.slice(0),function(a){return parseInt(a,10)}),ta(b)):"object"===typeof e?Y(b):"number"===typeof e?b._d=new Date(e):H.createFromInputFallback(b)}function Fa(a,b,e,f,g,h,k){b=new Date(a,b,e,f,g,h,k);1970>a&&b.setFullYear(a);return b}function xa(a){var b=new Date(Date.UTC.apply(null,arguments));1970>a&&b.setUTCFullYear(a);return b}function cb(a,b,e,f,g){return g.relativeTime(b||1,!!e,a,f)}function Sa(a,b,e){b=e-b;e-=a.day();e>b&&(e-=7);e<b-7&&(e+=7);a=H(a).add(e,"d");return{week:Math.ceil(a.dayOfYear()/
7),year:a.year()}}function xb(e){var f=e._i,g=e._f;e._locale=e._locale||H.localeData(e._l);if(null===f||g===a&&""===f)return H.invalid({nullInput:!0});"string"===typeof f&&(e._i=f=e._locale.preparse(f));if(H.isMoment(f))return new n(f,!0);if(g)if(B(g)){var h,k,l;if(0===e._f.length)e._pf.invalidFormat=!0,e._d=new Date(NaN);else{for(f=0;f<e._f.length;f++)if(g=0,h=r({},e),null!=e._useUTC&&(h._useUTC=e._useUTC),h._pf=b(),h._f=e._f[f],na(h),L(h)&&(g+=h._pf.charsLeftOver,g+=10*h._pf.unusedTokens.length,
h._pf.score=g,null==l||g<l))l=g,k=h;p(e,k||h)}}else na(e);else Ra(e);e=new n(e);e._nextDay&&(e.add(1,"d"),e._nextDay=a);return e}function ib(a,b){var e,f;1===b.length&&B(b[0])&&(b=b[0]);if(!b.length)return H();e=b[0];for(f=1;f<b.length;++f)b[f][a](e)&&(e=b[f]);return e}function ca(a,b){var e;if("string"===typeof b&&(b=a.localeData().monthsParse(b),"number"!==typeof b))return a;e=Math.min(a.date(),E(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,e);return a}function v(a,b){return a._d["get"+
(a._isUTC?"UTC":"")+b]()}function fb(a,b,e){return"Month"===b?ca(a,e):a._d["set"+(a._isUTC?"UTC":"")+b](e)}function La(a,b){return function(e){return null!=e?(fb(this,a,e),H.updateOffset(this,b),this):v(this,a)}}function ma(a){H.duration.fn[a]=function(){return this._data[a]}}function jb(a){"undefined"===typeof ender&&(mb=lb.moment,lb.moment=a?f("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",H):H)}for(var H,lb="undefined"!==typeof global?global:
this,mb,Ba=Math.round,wa=Object.prototype.hasOwnProperty,U,Xa={},ia=[],ga="undefined"!==typeof module&&module&&module.exports,da=/^\/?Date\((\-?\d+)/i,va=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,P=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ua=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,
fa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ba=/\d\d?/,pa=/\d{1,3}/,$a=/\d{1,4}/,Ta=/[+\-]?\d{1,6}/,la=/\d+/,Pa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,sa=/Z|[\+\-]\d\d:?\d\d/gi,Qa=/T/i,Wa=/[\+\-]?\d+/,kb=/[\+\-]?\d+(\.\d{1,3})?/,Ia=/\d/,aa=/\d\d/,sb=/\d{3}/,yb=/\d{4}/,za=/[+-]?\d{6}/,ra=/[+-]?\d+/,zb=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
Ua=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Da=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ca=/([\+\-]|\d\d)/gi,nb={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},Ma={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",
M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ub={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ab={},Va={s:45,m:45,h:22,d:26,M:11},Ja="DDD w W M D d".split(" "),Ya="MDHhmswW".split(""),Ha={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},
DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":
"-")+u(Math.abs(a),6)},gg:function(){return u(this.weekYear()%100,2)},gggg:function(){return u(this.weekYear(),4)},ggggg:function(){return u(this.weekYear(),5)},GG:function(){return u(this.isoWeekYear()%100,2)},GGGG:function(){return u(this.isoWeekYear(),4)},GGGGG:function(){return u(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),
this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return K(this.milliseconds()/100)},SS:function(){return u(K(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},SSSS:function(){return u(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+u(K(a/60),2)+":"+u(K(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";0>
a&&(a=-a,b="-");return b+u(K(a/60),2)+u(K(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},tb={},qc=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Ja.length;)U=Ja.pop(),Ha[U+"o"]=l(Ha[U],U);for(;Ya.length;)U=Ya.pop(),Ha[U+U]=e(Ha[U],2);Ha.DDDD=e(Ha.DDD,3);p(k.prototype,{set:function(a){var b,e;for(e in a)b=a[e],"function"===typeof b?this[e]=
b:this["_"+e]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,e){var f,g;this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=
[]);for(f=0;12>f;f++)if(g=H.utc([2E3,f]),e&&!this._longMonthsParse[f]&&(this._longMonthsParse[f]=new RegExp("^"+this.months(g,"").replace(".","")+"$","i"),this._shortMonthsParse[f]=new RegExp("^"+this.monthsShort(g,"").replace(".","")+"$","i")),e||this._monthsParse[f]||(g="^"+this.months(g,"")+"|^"+this.monthsShort(g,""),this._monthsParse[f]=new RegExp(g.replace(".",""),"i")),e&&"MMMM"===b&&this._longMonthsParse[f].test(a)||e&&"MMM"===b&&this._shortMonthsParse[f].test(a)||!e&&this._monthsParse[f].test(a))return f},
_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,e;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(e=H([2E3,1]).day(b),
e="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[b]=new RegExp(e.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),
this._longDateFormat[a]=b);return b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,e){return 11<a?e?"pm":"PM":e?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b,e){a=this._calendar[a];return"function"===typeof a?a.apply(b,[e]):a},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",
m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,e,f){var g=this._relativeTime[e];return"function"===typeof g?g(a,b,e,f):g.replace(/%d/i,a)},pastFuture:function(a,b){var e=this._relativeTime[0<a?"future":"past"];return"function"===typeof e?e(b):e.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},
week:function(a){return Sa(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});H=function(e,f,g,h){var k;"boolean"===typeof g&&(h=g,g=a);k={_isAMomentObject:!0};k._i=e;k._f=f;k._l=g;k._strict=h;k._isUTC=!1;k._pf=b();return xb(k)};H.suppressDeprecationWarnings=!1;H.createFromInputFallback=f("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",
function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});H.min=function(){var a=[].slice.call(arguments,0);return ib("isBefore",a)};H.max=function(){var a=[].slice.call(arguments,0);return ib("isAfter",a)};H.utc=function(e,f,g,h){var k;"boolean"===typeof g&&(h=g,g=a);k={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0};k._l=g;k._i=e;k._f=f;k._strict=h;k._pf=b();return xb(k).utc()};H.unix=function(a){return H(1E3*a)};H.duration=function(a,b){var e=a,f=null,g;H.isDuration(a)?e={ms:a._milliseconds,d:a._days,
M:a._months}:"number"===typeof a?(e={},b?e[b]=a:e.milliseconds=a):(f=va.exec(a))?(g="-"===f[1]?-1:1,e={y:0,d:K(f[2])*g,h:K(f[3])*g,m:K(f[4])*g,s:K(f[5])*g,ms:K(f[6])*g}):(f=P.exec(a))?(g="-"===f[1]?-1:1,e=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*g},e={y:e(f[2]),M:e(f[3]),d:e(f[4]),h:e(f[5]),m:e(f[6]),s:e(f[7]),w:e(f[8])}):"object"===typeof e&&("from"in e||"to"in e)&&(f=y(H(e.from),H(e.to)),e={},e.ms=f.milliseconds,e.M=f.months);e=new m(e);H.isDuration(a)&&wa.call(a,"_locale")&&
(e._locale=a._locale);return e};H.version="2.8.4";H.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";H.ISO_8601=function(){};H.momentProperties=ia;H.updateOffset=function(){};H.relativeTimeThreshold=function(b,e){if(Va[b]===a)return!1;if(e===a)return Va[b];Va[b]=e;return!0};H.lang=f("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return H.locale(a,b)});H.locale=function(a,b){var e;a&&(e="undefined"!==typeof b?H.defineLocale(a,b):H.localeData(a))&&(H.duration._locale=H._locale=e);return H._locale._abbr};
H.defineLocale=function(a,b){if(null!==b)return b.abbr=a,Xa[a]||(Xa[a]=new k),Xa[a].set(b),H.locale(a),Xa[a];delete Xa[a];return null};H.langData=f("moment.langData is deprecated. Use moment.localeData instead.",function(a){return H.localeData(a)});H.localeData=function(a){var b;a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr);if(!a)return H._locale;if(!B(a)){if(b=Q(a))return b;a=[a]}a:{b=0;for(var e,f,g,h;b<a.length;){h=R(a[b]).split("-");e=h.length;for(f=(f=R(a[b+1]))?f.split("-"):null;0<e;){if(g=
Q(h.slice(0,e).join("-"))){a=g;break a}if(f&&f.length>=e&&t(h,f,!0)>=e-1)break;e--}b++}a=null}return a};H.isMoment=function(a){return a instanceof n||null!=a&&wa.call(a,"_isAMomentObject")};H.isDuration=function(a){return a instanceof m};for(U=qc.length-1;0<=U;--U)G(qc[U]);H.normalizeUnits=function(a){return A(a)};H.invalid=function(a){var b=H.utc(NaN);null!=a?p(b._pf,a):b._pf.userInvalidated=!0;return b};H.parseZone=function(){return H.apply(null,arguments).parseZone()};H.parseTwoDigitYear=function(a){return K(a)+
(68<K(a)?1900:2E3)};p(H.fn=n.prototype,{clone:function(){return H(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=H(this).utc();return 0<a.year()&&9999>=a.year()?"function"===typeof Date.prototype.toISOString?this.toDate().toISOString():N(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):
N(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return L(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<t(this._a,(this._isUTC?H.utc(this._a):H(this._a)).toArray()):!1},parsingFlags:function(){return p({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.zone(0,a)},local:function(a){this._isUTC&&(this.zone(0,
a),this._isUTC=!1,a&&this.add(this._dateTzOffset(),"m"));return this},format:function(a){a=N(this,a||H.defaultFormat);return this.localeData().postformat(a)},add:x(1,"add"),subtract:x(-1,"subtract"),diff:function(a,b,e){a=X(a,this);var f=6E4*(this.zone()-a.zone()),g,h;b=A(b);"year"===b||"month"===b?(g=432E5*(this.daysInMonth()+a.daysInMonth()),f=12*(this.year()-a.year())+(this.month()-a.month()),h=this-H(this).startOf("month")-(a-H(a).startOf("month")),h-=6E4*(this.zone()-H(this).startOf("month").zone()-
(a.zone()-H(a).startOf("month").zone())),f+=h/g,"year"===b&&(f/=12)):(g=this-a,f="second"===b?g/1E3:"minute"===b?g/6E4:"hour"===b?g/36E5:"day"===b?(g-f)/864E5:"week"===b?(g-f)/6048E5:g);return e?f:q(f)},from:function(a,b){return H.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(H(),a)},calendar:function(a){a=a||H();var b=X(a,this).startOf("day"),b=this.diff(b,"days",!0),b=-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":
7>b?"nextWeek":"sameElse";return this.format(this.localeData().calendar(b,this,H(a)))},isLeapYear:function(){return J(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a){a:{var e=this.localeData();if("string"===typeof a)if(isNaN(a)){if(a=e.weekdaysParse(a),"number"!==typeof a){a=null;break a}}else a=parseInt(a,10)}return this.add(a-b,"d")}return b},
month:La("Month",!0),startOf:function(a){a=A(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1);"quarter"===a&&this.month(3*Math.floor(this.month()/3));return this},endOf:function(b){b=A(b);return b===a||"millisecond"===b?this:this.startOf(b).add(1,"isoWeek"===b?"week":
b).subtract(1,"ms")},isAfter:function(a,b){b=A("undefined"!==typeof b?b:"millisecond");return"millisecond"===b?(a=H.isMoment(a)?a:H(a),+this>+a):(H.isMoment(a)?+a:+H(a))<+this.clone().startOf(b)},isBefore:function(a,b){var e;b=A("undefined"!==typeof b?b:"millisecond");if("millisecond"===b)return a=H.isMoment(a)?a:H(a),+this<+a;e=H.isMoment(a)?+a:+H(a);return+this.clone().endOf(b)<e},isSame:function(a,b){var e;b=A(b||"millisecond");if("millisecond"===b)return a=H.isMoment(a)?a:H(a),+this===+a;e=+H(a);
return+this.clone().startOf(b)<=e&&e<=+this.clone().endOf(b)},min:f("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){a=H.apply(null,arguments);return a<this?this:a}),max:f("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){a=H.apply(null,arguments);return a>this?this:a}),zone:function(a,b){var e=this._offset||0,f;if(null!=a)"string"===typeof a&&(a=V(a)),16>Math.abs(a)&&(a*=60),
!this._isUTC&&b&&(f=this._dateTzOffset()),this._offset=a,this._isUTC=!0,null!=f&&this.subtract(f,"m"),e!==a&&(!b||this._changeInProgress?z(this,H.duration(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,H.updateOffset(this,!0),this._changeInProgress=null));else return this._isUTC?e:this._dateTzOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){this._tzm?this.zone(this._tzm):
"string"===typeof this._i&&this.zone(this._i);return this},hasAlignedHourOffset:function(a){a=a?H(a).zone():0;return 0===(this.zone()-a)%60},daysInMonth:function(){return E(this.year(),this.month())},dayOfYear:function(a){var b=Ba((H(this).startOf("day")-H(this).startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=Sa(this,this.localeData()._week.dow,this.localeData()._week.doy).year;
return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=Sa(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=Sa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return O(this.year(),
1,4)},weeksInYear:function(){var a=this.localeData()._week;return O(this.year(),a.dow,a.doy)},get:function(a){a=A(a);return this[a]()},set:function(a,b){a=A(a);if("function"===typeof this[a])this[a](b);return this},locale:function(b){if(b===a)return this._locale._abbr;b=H.localeData(b);null!=b&&(this._locale=b);return this},lang:f("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return b===
a?this.localeData():this.locale(b)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}});H.fn.millisecond=H.fn.milliseconds=La("Milliseconds",!1);H.fn.second=H.fn.seconds=La("Seconds",!1);H.fn.minute=H.fn.minutes=La("Minutes",!1);H.fn.hour=H.fn.hours=La("Hours",!0);H.fn.date=La("Date",!0);H.fn.dates=f("dates accessor is deprecated. Use date instead.",La("Date",!0));H.fn.year=La("FullYear",!0);H.fn.years=f("years accessor is deprecated. Use year instead.",
La("FullYear",!0));H.fn.days=H.fn.day;H.fn.months=H.fn.month;H.fn.weeks=H.fn.week;H.fn.isoWeeks=H.fn.isoWeek;H.fn.quarters=H.fn.quarter;H.fn.toJSON=H.fn.toISOString;p(H.duration.fn=m.prototype,{_bubble:function(){var a=this._milliseconds,b=this._days,e=this._months,f=this._data,g=0;f.milliseconds=a%1E3;a=q(a/1E3);f.seconds=a%60;a=q(a/60);f.minutes=a%60;a=q(a/60);f.hours=a%24;b+=q(a/24);g=q(400*b/146097);b-=q(146097*g/400);e+=q(b/30);b%=30;g+=q(e/12);f.days=b;f.months=e%12;f.years=g},abs:function(){this._milliseconds=
Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this},weeks:function(){return q(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+
this._months%12*2592E6+31536E6*K(this._months/12)},humanize:function(a){var b;b=!a;var e=this.localeData(),f=H.duration(this).abs(),g=Ba(f.as("s")),h=Ba(f.as("m")),k=Ba(f.as("h")),l=Ba(f.as("d")),m=Ba(f.as("M")),f=Ba(f.as("y")),g=g<Va.s&&["s",g]||1===h&&["m"]||h<Va.m&&["mm",h]||1===k&&["h"]||k<Va.h&&["hh",k]||1===l&&["d"]||l<Va.d&&["dd",l]||1===m&&["M"]||m<Va.M&&["MM",m]||1===f&&["y"]||["yy",f];g[2]=b;g[3]=0<+this;g[4]=e;b=cb.apply({},g);a&&(b=this.localeData().pastFuture(+this,b));return this.localeData().postformat(b)},
add:function(a,b){var e=H.duration(a,b);this._milliseconds+=e._milliseconds;this._days+=e._days;this._months+=e._months;this._bubble();return this},subtract:function(a,b){var e=H.duration(a,b);this._milliseconds-=e._milliseconds;this._days-=e._days;this._months-=e._months;this._bubble();return this},get:function(a){a=A(a);return this[a.toLowerCase()+"s"]()},as:function(a){var b;a=A(a);if("month"===a||"year"===a)return b=this._days+this._milliseconds/864E5,b=this._months+400*b/146097*12,"month"===
a?b:b/12;b=this._days+Math.round(this._months/12*146097/400);switch(a){case "week":return b/7+this._milliseconds/6048E5;case "day":return b+this._milliseconds/864E5;case "hour":return 24*b+this._milliseconds/36E5;case "minute":return 1440*b+this._milliseconds/6E4;case "second":return 86400*b+this._milliseconds/1E3;case "millisecond":return Math.floor(864E5*b)+this._milliseconds;default:throw Error("Unknown unit "+a);}},lang:H.fn.lang,locale:H.fn.locale,toIsoString:f("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",
function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),e=Math.abs(this.days()),f=Math.abs(this.hours()),g=Math.abs(this.minutes()),h=Math.abs(this.seconds()+this.milliseconds()/1E3);return this.asSeconds()?(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(e?e+"D":"")+(f||g||h?"T":"")+(f?f+"H":"")+(g?g+"M":"")+(h?h+"S":""):"P0D"},localeData:function(){return this._locale}});H.duration.fn.toString=H.duration.fn.toISOString;for(U in nb)wa.call(nb,
U)&&ma(U.toLowerCase());H.duration.fn.asMilliseconds=function(){return this.as("ms")};H.duration.fn.asSeconds=function(){return this.as("s")};H.duration.fn.asMinutes=function(){return this.as("m")};H.duration.fn.asHours=function(){return this.as("h")};H.duration.fn.asDays=function(){return this.as("d")};H.duration.fn.asWeeks=function(){return this.as("weeks")};H.duration.fn.asMonths=function(){return this.as("M")};H.duration.fn.asYears=function(){return this.as("y")};H.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,
ordinal:function(a){var b=a%10,b=1===K(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});jb();ga?module.exports=H:"function"===typeof define&&define.amd?(define("moment",function(a,b,e){e.config&&e.config()&&!0===e.config().noGlobal&&(lb.moment=mb);return H}),jb(!0)):jb()}).call(this);+function(a){function h(f){return this.each(function(){var e=a(this),g=e.data("bs.affix"),h="object"==typeof f&&f;g||e.data("bs.affix",g=new b(this,h));if("string"==typeof f)g[f]()})}var b=function(f,e){this.options=a.extend({},b.DEFAULTS,e);this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this));this.$element=a(f);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()};
b.VERSION="3.3.1";b.RESET="affix affix-top affix-bottom";b.DEFAULTS={offset:0,target:window};b.prototype.getState=function(a,b,g,h){var n=this.$target.scrollTop(),m=this.$element.offset(),p=this.$target.height();if(null!=g&&"top"==this.affixed)return n<g?"top":!1;if("bottom"==this.affixed)return null!=g?n+this.unpin<=m.top?!1:"bottom":n+p<=a-h?!1:"bottom";var r=null==this.affixed,n=r?n:m.top;return null!=g&&n<=g?"top":null!=h&&n+(r?p:b)>=a-h?"bottom":!1};b.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;
this.$element.removeClass(b.RESET).addClass("affix");var a=this.$target.scrollTop();return this.pinnedOffset=this.$element.offset().top-a};b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)};b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var f=this.$element.height(),e=this.options.offset,g=e.top,h=e.bottom,n=a("body").height();"object"!=typeof e&&(h=g=e);"function"==typeof g&&(g=e.top(this.$element));"function"==typeof h&&(h=e.bottom(this.$element));
e=this.getState(n,f,g,h);if(this.affixed!=e){null!=this.unpin&&this.$element.css("top","");var g="affix"+(e?"-"+e:""),m=a.Event(g+".bs.affix");this.$element.trigger(m);if(m.isDefaultPrevented())return;this.affixed=e;this.unpin="bottom"==e?this.getPinnedOffset():null;this.$element.removeClass(b.RESET).addClass(g).trigger(g.replace("affix","affixed")+".bs.affix")}"bottom"==e&&this.$element.offset({top:n-f-h})}};var g=a.fn.affix;a.fn.affix=h;a.fn.affix.Constructor=b;a.fn.affix.noConflict=function(){a.fn.affix=
g;return this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),e=b.data();e.offset=e.offset||{};null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom);null!=e.offsetTop&&(e.offset.top=e.offsetTop);h.call(b,e)})})}(jQuery);
+function(a){var h=function(b){a(b).on("click",'[data-dismiss="alert"]',this.close)};h.VERSION="3.3.1";h.TRANSITION_DURATION=150;h.prototype.close=function(b){function f(){k.detach().trigger("closed.bs.alert").remove()}var e=a(this),l=e.attr("data-target");l||(l=(l=e.attr("href"))&&l.replace(/.*(?=#[^\s]*$)/,""));var k=a(l);b&&b.preventDefault();k.length||(k=e.closest(".alert"));k.trigger(b=a.Event("close.bs.alert"));b.isDefaultPrevented()||(k.removeClass("in"),a.support.transition&&k.hasClass("fade")?
k.one("bsTransitionEnd",f).emulateTransitionEnd(h.TRANSITION_DURATION):f())};var b=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var f=a(this),e=f.data("bs.alert");e||f.data("bs.alert",e=new h(this));"string"==typeof b&&e[b].call(f)})};a.fn.alert.Constructor=h;a.fn.alert.noConflict=function(){a.fn.alert=b;return this};a(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',h.prototype.close)}(jQuery);
+function(a){function h(f){return this.each(function(){var e=a(this),g=e.data("bs.button"),h="object"==typeof f&&f;g||e.data("bs.button",g=new b(this,h));"toggle"==f?g.toggle():f&&g.setState(f)})}var b=function(f,e){this.$element=a(f);this.options=a.extend({},b.DEFAULTS,e);this.isLoading=!1};b.VERSION="3.3.1";b.DEFAULTS={loadingText:"loading..."};b.prototype.setState=function(b){var e=this.$element,g=e.is("input")?"val":"html",h=e.data();b+="Text";null==h.resetText&&e.data("resetText",e[g]());setTimeout(a.proxy(function(){e[g](null==
h[b]?this.options[b]:h[b]);"loadingText"==b?(this.isLoading=!0,e.addClass("disabled").attr("disabled","disabled")):this.isLoading&&(this.isLoading=!1,e.removeClass("disabled").removeAttr("disabled"))},this),0)};b.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var g=this.$element.find("input");"radio"==g.prop("type")&&(g.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active"));a&&g.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",
!this.$element.hasClass("active"));a&&this.$element.toggleClass("active")};var g=a.fn.button;a.fn.button=h;a.fn.button.Constructor=b;a.fn.button.noConflict=function(){a.fn.button=g;return this};a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(b){var e=a(b.target);e.hasClass("btn")||(e=e.closest(".btn"));h.call(e,"toggle");b.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",
/^focus(in)?$/.test(b.type))})}(jQuery);
+function(a){function h(e){return this.each(function(){var f=a(this),g=f.data("bs.carousel"),h=a.extend({},b.DEFAULTS,f.data(),"object"==typeof e&&e),m="string"==typeof e?e:h.slide;g||f.data("bs.carousel",g=new b(this,h));if("number"==typeof e)g.to(e);else if(m)g[m]();else h.interval&&g.pause().cycle()})}var b=function(b,f){this.$element=a(b);this.$indicators=this.$element.find(".carousel-indicators");this.options=f;this.paused=this.sliding=this.interval=this.$active=this.$items=null;this.options.keyboard&&
this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this));"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};b.VERSION="3.3.1";b.TRANSITION_DURATION=600;b.DEFAULTS={interval:5E3,pause:"hover",wrap:!0,keyboard:!0};b.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();
break;default:return}a.preventDefault()}};b.prototype.cycle=function(b){b||(this.paused=!1);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval));return this};b.prototype.getItemIndex=function(a){this.$items=a.parent().children(".item");return this.$items.index(a||this.$active)};b.prototype.getItemForDirection=function(a,b){var f="prev"==a?-1:1,f=(this.getItemIndex(b)+f)%this.$items.length;return this.$items.eq(f)};
b.prototype.to=function(a){var b=this,f=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||0>a))return this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):f==a?this.pause().cycle():this.slide(a>f?"next":"prev",this.$items.eq(a))};b.prototype.pause=function(b){b||(this.paused=!0);this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0));this.interval=clearInterval(this.interval);
return this};b.prototype.next=function(){if(!this.sliding)return this.slide("next")};b.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};b.prototype.slide=function(e,f){var g=this.$element.find(".item.active"),h=f||this.getItemForDirection(e,g),m=this.interval,p="next"==e?"left":"right",r="next"==e?"first":"last",q=this;if(!h.length){if(!this.options.wrap)return;h=this.$element.find(".item")[r]()}if(h.hasClass("active"))return this.sliding=!1;var r=h[0],u=a.Event("slide.bs.carousel",
{relatedTarget:r,direction:p});this.$element.trigger(u);if(!u.isDefaultPrevented()){this.sliding=!0;m&&this.pause();this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),(u=a(this.$indicators.children()[this.getItemIndex(h)]))&&u.addClass("active"));var w=a.Event("slid.bs.carousel",{relatedTarget:r,direction:p});a.support.transition&&this.$element.hasClass("slide")?(h.addClass(e),h[0].offsetWidth,g.addClass(p),h.addClass(p),g.one("bsTransitionEnd",function(){h.removeClass([e,
p].join(" ")).addClass("active");g.removeClass(["active",p].join(" "));q.sliding=!1;setTimeout(function(){q.$element.trigger(w)},0)}).emulateTransitionEnd(b.TRANSITION_DURATION)):(g.removeClass("active"),h.addClass("active"),this.sliding=!1,this.$element.trigger(w));m&&this.cycle();return this}};var g=a.fn.carousel;a.fn.carousel=h;a.fn.carousel.Constructor=b;a.fn.carousel.noConflict=function(){a.fn.carousel=g;return this};var f=function(b){var f,g=a(this),n=a(g.attr("data-target")||(f=g.attr("href"))&&
f.replace(/.*(?=#[^\s]+$)/,""));if(n.hasClass("carousel")){f=a.extend({},n.data(),g.data());if(g=g.attr("data-slide-to"))f.interval=!1;h.call(n,f);g&&n.data("bs.carousel").to(g);b.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",f).on("click.bs.carousel.data-api","[data-slide-to]",f);a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);h.call(b,b.data())})})}(jQuery);
+function(a){function h(b){var f;b=b.attr("data-target")||(f=b.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"");return a(b)}function b(b){return this.each(function(){var f=a(this),h=f.data("bs.collapse"),n=a.extend({},g.DEFAULTS,f.data(),"object"==typeof b&&b);!h&&n.toggle&&"show"==b&&(n.toggle=!1);h||f.data("bs.collapse",h=new g(this,n));if("string"==typeof b)h[b]()})}var g=function(b,f){this.$element=a(b);this.options=a.extend({},g.DEFAULTS,f);this.$trigger=a(this.options.trigger).filter('[href="#'+
b.id+'"], [data-target="#'+b.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()};g.VERSION="3.3.1";g.TRANSITION_DURATION=350;g.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'};g.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};g.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,f=this.$parent&&
this.$parent.find("> .panel").children(".in, .collapsing");if(f&&f.length&&(e=f.data("bs.collapse"))&&e.transitioning)return;var h=a.Event("show.bs.collapse");this.$element.trigger(h);if(!h.isDefaultPrevented()){f&&f.length&&(b.call(f,"hide"),e||f.data("bs.collapse",null));var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0).attr("aria-expanded",!0);this.$trigger.removeClass("collapsed").attr("aria-expanded",!0);this.transitioning=1;e=function(){this.$element.removeClass("collapsing").addClass("collapse in")[n]("");
this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return e.call(this);f=a.camelCase(["scroll",n].join("-"));this.$element.one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(g.TRANSITION_DURATION)[n](this.$element[0][f])}}};g.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");this.$element.trigger(b);if(!b.isDefaultPrevented()){b=this.dimension();this.$element[b](this.$element[b]())[0].offsetHeight;
this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1);this.$trigger.addClass("collapsed").attr("aria-expanded",!1);this.transitioning=1;var f=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return f.call(this);this.$element[b](0).one("bsTransitionEnd",a.proxy(f,this)).emulateTransitionEnd(g.TRANSITION_DURATION)}}};g.prototype.toggle=function(){this[this.$element.hasClass("in")?
"hide":"show"]()};g.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(b,f){var g=a(f);this.addAriaAndCollapsedClass(h(g),g)},this)).end()};g.prototype.addAriaAndCollapsedClass=function(a,b){var f=a.hasClass("in");a.attr("aria-expanded",f);b.toggleClass("collapsed",!f).attr("aria-expanded",f)};var f=a.fn.collapse;a.fn.collapse=b;a.fn.collapse.Constructor=g;a.fn.collapse.noConflict=function(){a.fn.collapse=
f;return this};a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var f=a(this);f.attr("data-target")||e.preventDefault();e=h(f);f=e.data("bs.collapse")?"toggle":a.extend({},f.data(),{trigger:this});b.call(e,f)})}(jQuery);
+function(a){function h(e){e&&3===e.which||(a(".dropdown-backdrop").remove(),a('[data-toggle="dropdown"]').each(function(){var f=a(this),g=b(f),h={relatedTarget:this};g.hasClass("open")&&(g.trigger(e=a.Event("hide.bs.dropdown",h)),e.isDefaultPrevented()||(f.attr("aria-expanded","false"),g.removeClass("open").trigger("hidden.bs.dropdown",h)))}))}function b(b){var f=b.attr("data-target");f||(f=(f=b.attr("href"))&&/#[A-Za-z]/.test(f)&&f.replace(/.*(?=#[^\s]*$)/,""));return(f=f&&a(f))&&f.length?f:b.parent()}
var g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.1";g.prototype.toggle=function(e){var f=a(this);if(!f.is(".disabled, :disabled")){var g=b(f);e=g.hasClass("open");h();if(!e){if("ontouchstart"in document.documentElement&&!g.closest(".navbar-nav").length)a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",h);var n={relatedTarget:this};g.trigger(e=a.Event("show.bs.dropdown",n));if(e.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");
g.toggleClass("open").trigger("shown.bs.dropdown",n)}return!1}};g.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var f=a(this);e.preventDefault();e.stopPropagation();if(!f.is(".disabled, :disabled")){var g=b(f),h=g.hasClass("open");if(!h&&27!=e.which||h&&27==e.which)return 27==e.which&&g.find('[data-toggle="dropdown"]').trigger("focus"),f.trigger("click");f=g.find('[role="menu"] li:not(.divider):visible a, [role="listbox"] li:not(.divider):visible a');
f.length&&(g=f.index(e.target),38==e.which&&0<g&&g--,40==e.which&&g<f.length-1&&g++,~g||(g=0),f.eq(g).trigger("focus"))}}};var f=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var f=a(this),h=f.data("bs.dropdown");h||f.data("bs.dropdown",h=new g(this));"string"==typeof b&&h[b].call(f)})};a.fn.dropdown.Constructor=g;a.fn.dropdown.noConflict=function(){a.fn.dropdown=f;return this};a(document).on("click.bs.dropdown.data-api",h).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",
'[data-toggle="dropdown"]',g.prototype.toggle).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',g.prototype.keydown)}(jQuery);
+function(a){function h(e){return this.each(function(){var f=a(this),g=f.data("bs.tab");g||f.data("bs.tab",g=new b(this));if("string"==typeof e)g[e]()})}var b=function(b){this.element=a(b)};b.VERSION="3.3.1";b.TRANSITION_DURATION=150;b.prototype.show=function(){var b=this.element,f=b.closest("ul:not(.dropdown-menu)"),g=b.data("target");g||(g=(g=b.attr("href"))&&g.replace(/.*(?=#[^\s]*$)/,""));if(!b.parent("li").hasClass("active")){var h=f.find(".active:last a"),m=a.Event("hide.bs.tab",{relatedTarget:b[0]}),
p=a.Event("show.bs.tab",{relatedTarget:h[0]});h.trigger(m);b.trigger(p);p.isDefaultPrevented()||m.isDefaultPrevented()||(g=a(g),this.activate(b.closest("li"),f),this.activate(g,g.parent(),function(){h.trigger({type:"hidden.bs.tab",relatedTarget:b[0]});b.trigger({type:"shown.bs.tab",relatedTarget:h[0]})}))}};b.prototype.activate=function(e,f,g){function h(){m.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",
!0);p?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade");e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);g&&g()}var m=f.find("> .active"),p=g&&a.support.transition&&(m.length&&m.hasClass("fade")||!!f.find("> .fade").length);m.length&&p?m.one("bsTransitionEnd",h).emulateTransitionEnd(b.TRANSITION_DURATION):h();m.removeClass("in")};var g=a.fn.tab;a.fn.tab=h;a.fn.tab.Constructor=b;a.fn.tab.noConflict=function(){a.fn.tab=
g;return this};var f=function(b){b.preventDefault();h.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',f).on("click.bs.tab.data-api",'[data-toggle="pill"]',f)}(jQuery);
+function(a){function h(){var a=document.createElement("bootstrap"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},f;for(f in g)if(void 0!==a.style[f])return{end:g[f]};return!1}a.fn.emulateTransitionEnd=function(b){var g=!1,f=this;a(this).one("bsTransitionEnd",function(){g=!0});setTimeout(function(){g||a(f).trigger(a.support.transition.end)},b);return this};a(function(){a.support.transition=h();a.support.transition&&
(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery);
+function(a){function h(b,e){var g=a.proxy(this.process,this);this.$body=a("body");this.$scrollElement=a(b).is("body")?a(window):a(b);this.options=a.extend({},h.DEFAULTS,e);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",g);this.refresh();this.process()}function b(b){return this.each(function(){var e=a(this),g=e.data("bs.scrollspy"),k="object"==typeof b&&b;g||e.data("bs.scrollspy",
g=new h(this,k));if("string"==typeof b)g[b]()})}h.VERSION="3.3.1";h.DEFAULTS={offset:10};h.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};h.prototype.refresh=function(){var b="offset",e=0;a.isWindow(this.$scrollElement[0])||(b="position",e=this.$scrollElement.scrollTop());this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();var g=this;this.$body.find(this.selector).map(function(){var g=
a(this),g=g.data("target")||g.attr("href"),h=/^#./.test(g)&&a(g);return h&&h.length&&h.is(":visible")&&[[h[b]().top+e,g]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){g.offsets.push(this[0]);g.targets.push(this[1])})};h.prototype.process=function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=this.getScrollHeight(),g=this.options.offset+b-this.$scrollElement.height(),h=this.offsets,n=this.targets,m=this.activeTarget,p;this.scrollHeight!=b&&this.refresh();if(a>=g)return m!=
(p=n[n.length-1])&&this.activate(p);if(m&&a<h[0])return this.activeTarget=null,this.clear();for(p=h.length;p--;)m!=n[p]&&a>=h[p]&&(!h[p+1]||a<=h[p+1])&&this.activate(n[p])};h.prototype.activate=function(b){this.activeTarget=b;this.clear();b=a(this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]').parents("li").addClass("active");b.parent(".dropdown-menu").length&&(b=b.closest("li.dropdown").addClass("active"));b.trigger("activate.bs.scrollspy")};h.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,
".active").removeClass("active")};var g=a.fn.scrollspy;a.fn.scrollspy=b;a.fn.scrollspy.Constructor=h;a.fn.scrollspy.noConflict=function(){a.fn.scrollspy=g;return this};a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var f=a(this);b.call(f,f.data())})})}(jQuery);
+function(a){function h(f,e){return this.each(function(){var g=a(this),h=g.data("bs.modal"),n=a.extend({},b.DEFAULTS,g.data(),"object"==typeof f&&f);h||g.data("bs.modal",h=new b(this,n));if("string"==typeof f)h[f](e);else n.show&&h.show(e)})}var b=function(b,e){this.options=e;this.$body=a(document.body);this.$element=a(b);this.$backdrop=this.isShown=null;this.scrollbarWidth=0;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},
this))};b.VERSION="3.3.1";b.TRANSITION_DURATION=300;b.BACKDROP_TRANSITION_DURATION=150;b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};b.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)};b.prototype.show=function(f){var e=this,g=a.Event("show.bs.modal",{relatedTarget:f});this.$element.trigger(g);this.isShown||g.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",
'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var g=a.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(e.$body);e.$element.show().scrollTop(0);e.options.backdrop&&e.adjustBackdrop();e.adjustDialog();g&&e.$element[0].offsetWidth;e.$element.addClass("in").attr("aria-hidden",!1);e.enforceFocus();var h=a.Event("shown.bs.modal",{relatedTarget:f});g?e.$element.find(".modal-dialog").one("bsTransitionEnd",function(){e.$element.trigger("focus").trigger(h)}).emulateTransitionEnd(b.TRANSITION_DURATION):
e.$element.trigger("focus").trigger(h)}))};b.prototype.hide=function(f){f&&f.preventDefault();f=a.Event("hide.bs.modal");this.$element.trigger(f);this.isShown&&!f.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(b.TRANSITION_DURATION):
this.hideModal())};b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))};b.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this));else this.isShown||this.$element.off("keydown.dismiss.bs.modal")};b.prototype.resize=function(){if(this.isShown)a(window).on("resize.bs.modal",
a.proxy(this.handleUpdate,this));else a(window).off("resize.bs.modal")};b.prototype.hideModal=function(){var a=this;this.$element.hide();this.backdrop(function(){a.$body.removeClass("modal-open");a.resetAdjustments();a.resetScrollbar();a.$element.trigger("hidden.bs.modal")})};b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};b.prototype.backdrop=function(f){var e=this,g=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var h=
a.support.transition&&g;this.$backdrop=a('<div class="modal-backdrop '+g+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this));h&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");f&&(h?this.$backdrop.one("bsTransitionEnd",f).emulateTransitionEnd(b.BACKDROP_TRANSITION_DURATION):f())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),
g=function(){e.removeBackdrop();f&&f()},a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(b.BACKDROP_TRANSITION_DURATION):g()):f&&f()};b.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop();this.adjustDialog()};b.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)};b.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;
this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})};b.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};b.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight;this.scrollbarWidth=this.measureScrollbar()};b.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);
this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)};b.prototype.resetScrollbar=function(){this.$body.css("padding-right","")};b.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure";this.$body.append(a);var b=a.offsetWidth-a.clientWidth;this.$body[0].removeChild(a);return b};var g=a.fn.modal;a.fn.modal=h;a.fn.modal.Constructor=b;a.fn.modal.noConflict=function(){a.fn.modal=g;return this};a(document).on("click.bs.modal.data-api",
'[data-toggle="modal"]',function(b){var e=a(this),g=e.attr("href"),k=a(e.attr("data-target")||g&&g.replace(/.*(?=#[^\s]+$)/,"")),g=k.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(g)&&g},k.data(),e.data());e.is("a")&&b.preventDefault();k.one("show.bs.modal",function(a){if(!a.isDefaultPrevented())k.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})});h.call(k,g,this)})}(jQuery);
+function(a){var h=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",a,b)};h.VERSION="3.3.1";h.TRANSITION_DURATION=150;h.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};h.prototype.init=function(b,f,e){this.enabled=
!0;this.type=b;this.$element=a(f);this.options=this.getOptions(e);this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);b=this.options.trigger.split(" ");for(f=b.length;f--;)if(e=b[f],"click"==e)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=e){var h="hover"==e?"mouseleave":"focusout";this.$element.on(("hover"==e?"mouseenter":"focusin")+"."+this.type,this.options.selector,a.proxy(this.enter,this));this.$element.on(h+
"."+this.type,this.options.selector,a.proxy(this.leave,this))}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};h.prototype.getDefaults=function(){return h.DEFAULTS};h.prototype.getOptions=function(b){b=a.extend({},this.getDefaults(),this.$element.data(),b);b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay});return b};h.prototype.getDelegateOptions=function(){var b={},f=this.getDefaults();this._options&&a.each(this._options,
function(a,h){f[a]!=h&&(b[a]=h)});return b};h.prototype.enter=function(b){var f=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(f&&f.$tip&&f.$tip.is(":visible"))f.hoverState="in";else{f||(f=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,f));clearTimeout(f.timeout);f.hoverState="in";if(!f.options.delay||!f.options.delay.show)return f.show();f.timeout=setTimeout(function(){"in"==f.hoverState&&f.show()},f.options.delay.show)}};
h.prototype.leave=function(b){var f=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);f||(f=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,f));clearTimeout(f.timeout);f.hoverState="out";if(!f.options.delay||!f.options.delay.hide)return f.hide();f.timeout=setTimeout(function(){"out"==f.hoverState&&f.hide()},f.options.delay.hide)};h.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);
var f=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(!b.isDefaultPrevented()&&f){var e=this,b=this.tip(),f=this.getUID(this.type);this.setContent();b.attr("id",f);this.$element.attr("aria-describedby",f);this.options.animation&&b.addClass("fade");var f="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,k=l.test(f);k&&(f=f.replace(l,"")||"top");b.detach().css({top:0,left:0,display:"block"}).addClass(f).data("bs."+
this.type,this);this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element);var l=this.getPosition(),n=b[0].offsetWidth,m=b[0].offsetHeight;if(k){var k=f,p=this.options.container?a(this.options.container):this.$element.parent(),p=this.getPosition(p),f="bottom"==f&&l.bottom+m>p.bottom?"top":"top"==f&&l.top-m<p.top?"bottom":"right"==f&&l.right+n>p.width?"left":"left"==f&&l.left-n<p.left?"right":f;b.removeClass(k).addClass(f)}l=this.getCalculatedOffset(f,l,n,m);this.applyPlacement(l,
f);f=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type);e.hoverState=null;"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?b.one("bsTransitionEnd",f).emulateTransitionEnd(h.TRANSITION_DURATION):f()}}};h.prototype.applyPlacement=function(b,f){var e=this.tip(),h=e[0].offsetWidth,k=e[0].offsetHeight,n=parseInt(e.css("margin-top"),10),m=parseInt(e.css("margin-left"),10);isNaN(n)&&(n=0);isNaN(m)&&(m=0);b.top+=n;b.left+=m;a.offset.setOffset(e[0],a.extend({using:function(a){e.css({top:Math.round(a.top),
left:Math.round(a.left)})}},b),0);e.addClass("in");var m=e[0].offsetWidth,p=e[0].offsetHeight;"top"==f&&p!=k&&(b.top=b.top+k-p);var r=this.getViewportAdjustedDelta(f,b,m,p);r.left?b.left+=r.left:b.top+=r.top;h=(n=/top|bottom/.test(f))?2*r.left-h+m:2*r.top-k+p;k=n?"offsetWidth":"offsetHeight";e.offset(b);this.replaceArrow(h,e[0][k],n)};h.prototype.replaceArrow=function(a,b,e){this.arrow().css(e?"left":"top",50*(1-a/b)+"%").css(e?"top":"left","")};h.prototype.setContent=function(){var a=this.tip(),
b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")};h.prototype.hide=function(b){function f(){"in"!=e.hoverState&&l.detach();e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type);b&&b()}var e=this,l=this.tip(),k=a.Event("hide.bs."+this.type);this.$element.trigger(k);if(!k.isDefaultPrevented())return l.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?l.one("bsTransitionEnd",f).emulateTransitionEnd(h.TRANSITION_DURATION):
f(),this.hoverState=null,this};h.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")};h.prototype.hasContent=function(){return this.getTitle()};h.prototype.getPosition=function(b){b=b||this.$element;var f=b[0],e="BODY"==f.tagName,f=f.getBoundingClientRect();null==f.width&&(f=a.extend({},f,{width:f.right-f.left,height:f.bottom-f.top}));var h=e?{top:0,left:0}:b.offset();
b={scroll:e?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()};e=e?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},f,b,e,h)};h.prototype.getCalculatedOffset=function(a,b,e,h){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-e/2}:"top"==a?{top:b.top-h,left:b.left+b.width/2-e/2}:"left"==a?{top:b.top+b.height/2-h/2,left:b.left-e}:{top:b.top+b.height/2-h/2,left:b.left+b.width}};h.prototype.getViewportAdjustedDelta=function(a,b,e,h){var k=
{top:0,left:0};if(!this.$viewport)return k;var n=this.options.viewport&&this.options.viewport.padding||0,m=this.getPosition(this.$viewport);/right|left/.test(a)?(e=b.top-n-m.scroll,b=b.top+n-m.scroll+h,e<m.top?k.top=m.top-e:b>m.top+m.height&&(k.top=m.top+m.height-b)):(h=b.left-n,b=b.left+n+e,h<m.left?k.left=m.left-h:b>m.width&&(k.left=m.left+m.width-b));return k};h.prototype.getTitle=function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):
b.title)};h.prototype.getUID=function(a){do a+=~~(1E6*Math.random());while(document.getElementById(a));return a};h.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)};h.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};h.prototype.enable=function(){this.enabled=!0};h.prototype.disable=function(){this.enabled=!1};h.prototype.toggleEnabled=function(){this.enabled=!this.enabled};h.prototype.toggle=function(b){var f=this;b&&(f=a(b.currentTarget).data("bs."+
this.type),f||(f=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,f)));f.tip().hasClass("in")?f.leave(f):f.enter(f)};h.prototype.destroy=function(){var a=this;clearTimeout(this.timeout);this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type)})};var b=a.fn.tooltip;a.fn.tooltip=function(b){return this.each(function(){var f=a(this),e=f.data("bs.tooltip"),l="object"==typeof b&&b,k=l&&l.selector;if(e||"destroy"!=b)if(k?(e||f.data("bs.tooltip",
e={}),e[k]||(e[k]=new h(this,l))):e||f.data("bs.tooltip",e=new h(this,l)),"string"==typeof b)e[b]()})};a.fn.tooltip.Constructor=h;a.fn.tooltip.noConflict=function(){a.fn.tooltip=b;return this}}(jQuery);
+function(a){var h=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw Error("Popover requires tooltip.js");h.VERSION="3.3.1";h.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});h.prototype=a.extend({},a.fn.tooltip.Constructor.prototype);h.prototype.constructor=h;h.prototype.getDefaults=function(){return h.DEFAULTS};
h.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),e=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b);a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof e?"html":"append":"text"](e);a.removeClass("fade top bottom left right in");a.find(".popover-title").html()||a.find(".popover-title").hide()};h.prototype.hasContent=function(){return this.getTitle()||this.getContent()};h.prototype.getContent=function(){var a=this.$element,
b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)};h.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};h.prototype.tip=function(){this.$tip||(this.$tip=a(this.options.template));return this.$tip};var b=a.fn.popover;a.fn.popover=function(b){return this.each(function(){var f=a(this),e=f.data("bs.popover"),l="object"==typeof b&&b,k=l&&l.selector;if(e||"destroy"!=b)if(k?(e||f.data("bs.popover",e={}),e[k]||(e[k]=
new h(this,l))):e||f.data("bs.popover",e=new h(this,l)),"string"==typeof b)e[b]()})};a.fn.popover.Constructor=h;a.fn.popover.noConflict=function(){a.fn.popover=b;return this}}(jQuery);(function(a,h){"function"===typeof define&&define.amd?define(["jquery"],function(a){return h(a)}):"object"===typeof exports?module.exports=h(require("jquery")):h(jQuery)})(this,function(a){(function(a){function b(b){a.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,
ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){b=b.replace(this.re,this.ch)});return b}function g(b,e){var f=arguments,g=b,k=e;[].shift.apply(f);var l,m=this.each(function(){var b=a(this);if(b.is("select")){var e=b.data("selectpicker"),m="object"==typeof g&&g;if(!e)e=a.extend({},p.DEFAULTS,a.fn.selectpicker.defaults||{},b.data(),m),e.template=a.extend({},p.DEFAULTS.template,a.fn.selectpicker.defaults?a.fn.selectpicker.defaults.template:{},b.data().template,m.template),b.data("selectpicker",
e=new p(this,e,k));else if(m)for(var n in m)m.hasOwnProperty(n)&&(e.options[n]=m[n]);"string"==typeof g&&(l=e[g]instanceof Function?e[g].apply(e,f):e.options[g])}});return"undefined"!==typeof l?l:m}String.prototype.includes||function(){var a={}.toString,b=function(){try{var a={},b=Object.defineProperty,e=b(a,a,a)&&b}catch(f){}return e}(),e="".indexOf,f=function(b){if(null==this)throw new TypeError;var f=String(this);if(b&&"[object RegExp]"==a.call(b))throw new TypeError;var g=f.length,h=String(b),
k=h.length,l=1<arguments.length?arguments[1]:void 0,l=l?Number(l):0;l!=l&&(l=0);var m=Math.min(Math.max(l,0),g);return k+m>g?!1:-1!=e.call(f,h,l)};b?b(String.prototype,"includes",{value:f,configurable:!0,writable:!0}):String.prototype.includes=f}();String.prototype.startsWith||function(){var a=function(){try{var a={},b=Object.defineProperty,e=b(a,a,a)&&b}catch(f){}return e}(),b={}.toString,e=function(a){if(null==this)throw new TypeError;var e=String(this);if(a&&"[object RegExp]"==b.call(a))throw new TypeError;
var f=e.length,g=String(a),h=g.length,k=1<arguments.length?arguments[1]:void 0,k=k?Number(k):0;k!=k&&(k=0);k=Math.min(Math.max(k,0),f);if(h+k>f)return!1;for(f=-1;++f<h;)if(e.charCodeAt(k+f)!=g.charCodeAt(f))return!1;return!0};a?a(String.prototype,"startsWith",{value:e,configurable:!0,writable:!0}):String.prototype.startsWith=e}();Object.keys||(Object.keys=function(a,b,e){e=[];for(b in a)e.hasOwnProperty.call(a,b)&&e.push(b);return e});var f=!1,e=a.valHooks.select.set;a.valHooks.select.set=function(b,
g){g&&!f&&a(b).data("selected",!0);return e.apply(this,arguments)};var l=null;a.fn.triggerNative=function(a){var b=this[0],e;b.dispatchEvent?("function"===typeof Event?e=new Event(a,{bubbles:!0}):(e=document.createEvent("Event"),e.initEvent(a,!0,!1)),b.dispatchEvent(e)):b.fireEvent?(e=document.createEventObject(),e.eventType=a,b.fireEvent("on"+a,e)):this.trigger(a)};a.expr.pseudos.icontains=function(b,e,f){b=a(b);return(b.data("tokens")||b.text()).toString().toUpperCase().includes(f[3].toUpperCase())};
a.expr.pseudos.ibegins=function(b,e,f){b=a(b);return(b.data("tokens")||b.text()).toString().toUpperCase().startsWith(f[3].toUpperCase())};a.expr.pseudos.aicontains=function(b,e,f){b=a(b);return(b.data("tokens")||b.data("normalizedText")||b.text()).toString().toUpperCase().includes(f[3].toUpperCase())};a.expr.pseudos.aibegins=function(b,e,f){b=a(b);return(b.data("tokens")||b.data("normalizedText")||b.text()).toString().toUpperCase().startsWith(f[3].toUpperCase())};var k=function(a){var b=function(b){return a[b]},
e="(?:"+Object.keys(a).join("|")+")",f=RegExp(e),g=RegExp(e,"g");return function(a){a=null==a?"":""+a;return f.test(a)?a.replace(g,b):a}},n=k({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),m=k({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"}),p=function(b,g,k){f||(a.valHooks.select.set=e,f=!0);k&&(k.stopPropagation(),k.preventDefault());this.$element=a(b);this.$lis=this.$menu=this.$button=this.$newElement=null;this.options=g;null===this.options.title&&
(this.options.title=this.$element.attr("title"));b=this.options.windowPadding;"number"===typeof b&&(this.options.windowPadding=[b,b,b,b]);this.val=p.prototype.val;this.render=p.prototype.render;this.refresh=p.prototype.refresh;this.setStyle=p.prototype.setStyle;this.selectAll=p.prototype.selectAll;this.deselectAll=p.prototype.deselectAll;this.destroy=p.prototype.destroy;this.remove=p.prototype.remove;this.show=p.prototype.show;this.hide=p.prototype.hide;this.init()};p.VERSION="1.11.2";p.DEFAULTS=
{noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(a,b){return 1==a?"{0} item selected":"{0} items selected"},maxOptionsText:function(a,b){return[1==a?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==b?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",
size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0};p.prototype={constructor:p,init:function(){var b=this,e=this.$element.attr("id");
this.$element.addClass("bs-select-hidden");this.liObj={};this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement).appendTo(this.$newElement);this.$button=this.$newElement.children("button");this.$menu=this.$newElement.children(".dropdown-menu");this.$menuInner=this.$menu.children(".inner");this.$searchbox=this.$menu.find("input");this.$element.removeClass("bs-select-hidden");!0===this.options.dropdownAlignRight&&
this.$menu.addClass("dropdown-menu-right");"undefined"!==typeof e&&(this.$button.attr("data-id",e),a('label[for="'+e+'"]').click(function(a){a.preventDefault();b.$button.focus()}));this.checkDisabled();this.clickListener();this.options.liveSearch&&this.liveSearchListener();this.render();this.setStyle();this.setWidth();this.options.container&&this.selectPosition();this.$menu.data("this",this);this.$newElement.data("this",this);this.options.mobile&&this.mobile();this.$newElement.on({"hide.bs.dropdown":function(a){b.$menuInner.attr("aria-expanded",
!1);b.$element.trigger("hide.bs.select",a)},"hidden.bs.dropdown":function(a){b.$element.trigger("hidden.bs.select",a)},"show.bs.dropdown":function(a){b.$menuInner.attr("aria-expanded",!0);b.$element.trigger("show.bs.select",a)},"shown.bs.dropdown":function(a){b.$element.trigger("shown.bs.select",a)}});if(b.$element[0].hasAttribute("required"))this.$element.on("invalid",function(){b.$button.addClass("bs-invalid").focus();b.$element.on({"focus.bs.select":function(){b.$button.focus();b.$element.off("focus.bs.select")},
"shown.bs.select":function(){b.$element.val(b.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&b.$button.removeClass("bs-invalid");b.$element.off("rendered.bs.select")}})});setTimeout(function(){b.$element.trigger("loaded.bs.select")})},createDropdown:function(){var b=this.multiple||this.options.showTick?" show-tick":"",e=this.$element.parent().hasClass("input-group")?" input-group-btn":"",f=this.autofocus?" autofocus":"",g=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+
this.options.header+"</div>":"",k=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+n(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"";return a('<div class="btn-group bootstrap-select'+b+e+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+f+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+
this.options.template.caret+'</span></button><div class="dropdown-menu open" role="combobox">'+g+k+(this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"")+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+
(this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"")+"</div></div>")},createView:function(){var a=this.createDropdown(),b=this.createLi();a.find("ul")[0].innerHTML=b;return a},reloadLi:function(){this.destroyLi();var a=this.createLi();this.$menuInner[0].innerHTML=a},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var e=
this,f=[],g=0,k=document.createElement("option"),l=-1,m=function(a,b,e,f){return"<li"+("undefined"!==typeof e&""!==e?' class="'+e+'"':"")+("undefined"!==typeof b&null!==b?' data-original-index="'+b+'"':"")+("undefined"!==typeof f&null!==f?'data-optgroup="'+f+'"':"")+">"+a+"</li>"},p=function(f,g,k,l){return'<a tabindex="0"'+("undefined"!==typeof g?' class="'+g+'"':"")+(k?' style="'+k+'"':"")+(e.options.liveSearchNormalize?' data-normalized-text="'+b(n(a(f).html()))+'"':"")+("undefined"!==typeof l||
null!==l?' data-tokens="'+l+'"':"")+' role="option">'+f+'<span class="'+e.options.iconBase+" "+e.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(l--,!this.$element.find(".bs-title-option").length)){var r=this.$element[0];k.className="bs-title-option";k.appendChild(document.createTextNode(this.options.title));k.value="";r.insertBefore(k,r.firstChild);void 0===a(r.options[r.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")&&(k.selected=!0)}this.$element.find("option").each(function(b){var k=
a(this);l++;if(!k.hasClass("bs-title-option")){var r=this.className||"",G=this.style.cssText,y=k.data("content")?k.data("content"):k.html(),D=k.data("tokens")?k.data("tokens"):null,O="undefined"!==typeof k.data("subtext")?'<small class="text-muted">'+k.data("subtext")+"</small>":"",J="undefined"!==typeof k.data("icon")?'<span class="'+e.options.iconBase+" "+k.data("icon")+'"></span> ':"",M=k.parent(),L="OPTGROUP"===M[0].tagName,R=L&&M[0].disabled,Q=this.disabled||R;""!==J&&Q&&(J="<span>"+J+"</span>");
if(e.options.hideDisabled&&(Q&&!L||R))l--;else{k.data("content")||(y=J+'<span class="text">'+y+O+"</span>");if(L&&!0!==k.data("divider")){if(e.options.hideDisabled&&Q&&(void 0===M.data("allOptionsDisabled")&&(O=M.children(),M.data("allOptionsDisabled",O.filter(":disabled").length===O.length)),M.data("allOptionsDisabled"))){l--;return}O=" "+M[0].className||"";0===k.index()&&(g+=1,k=M[0].label,J="undefined"!==typeof M.data("subtext")?'<small class="text-muted">'+M.data("subtext")+"</small>":"",k=(M.data("icon")?
'<span class="'+e.options.iconBase+" "+M.data("icon")+'"></span> ':"")+'<span class="text">'+n(k)+J+"</span>",0!==b&&0<f.length&&(l++,f.push(m("",null,"divider",g+"div"))),l++,f.push(m(k,null,"dropdown-header"+O,g)));if(e.options.hideDisabled&&Q){l--;return}f.push(m(p(y,"opt "+r+O,G,D),b,"",g))}else if(!0===k.data("divider"))f.push(m("",b,"divider"));else if(!0===k.data("hidden"))f.push(m(p(y,r,G,D),b,"hidden is-hidden"));else{M=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName;
if(!M&&e.options.hideDisabled)for(Q=a(this).prevAll(),k=0;k<Q.length;k++)if("OPTGROUP"===Q[k].tagName){for(J=O=0;J<k;J++)L=Q[J],(L.disabled||!0===a(L).data("hidden"))&&O++;O===k&&(M=!0);break}M&&(l++,f.push(m("",null,"divider",g+"div")));f.push(m(p(y,r,G,D),b))}e.liObj[b]=l}}});this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected");return f.join("")},findLis:function(){null==this.$lis&&
(this.$lis=this.$menu.find("li"));return this.$lis},render:function(b){var e=this,f;!1!==b&&this.$element.find("option").each(function(a){var b=e.findLis().eq(e.liObj[a]);e.setDisabled(a,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,b);e.setSelected(a,this.selected,b)});this.togglePlaceholder();this.tabIndex();b=this.$element.find("option").map(function(){if(this.selected&&(!e.options.hideDisabled||!(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))){var b=
a(this),f=b.data("icon")&&e.options.showIcon?'<i class="'+e.options.iconBase+" "+b.data("icon")+'"></i> ':"",g;g=e.options.showSubtext&&b.data("subtext")&&!e.multiple?' <small class="text-muted">'+b.data("subtext")+"</small>":"";return"undefined"!==typeof b.attr("title")?b.attr("title"):b.data("content")&&e.options.showContent?b.data("content").toString():f+b.html()+g}}).toArray();f=this.multiple?b.join(this.options.multipleSeparator):b[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var g=
this.options.selectedTextFormat.split(">");if(1<g.length&&b.length>g[1]||1==g.length&&2<=b.length)f=this.options.hideDisabled?", [disabled]":"",f=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+f).length,f=("function"===typeof this.options.countSelectedText?this.options.countSelectedText(b.length,f):this.options.countSelectedText).replace("{0}",b.length.toString()).replace("{1}",f.toString())}void 0==this.options.title&&(this.options.title=this.$element.attr("title"));
"static"==this.options.selectedTextFormat&&(f=this.options.title);f||(f="undefined"!==typeof this.options.title?this.options.title:this.options.noneSelectedText);this.$button.attr("title",m(a.trim(f.replace(/<[^>]*>?/g,""))));this.$button.children(".filter-option").html(f);this.$element.trigger("rendered.bs.select")},setStyle:function(a,b){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));
var e=a?a:this.options.style;"add"==b?this.$button.addClass(e):"remove"==b?this.$button.removeClass(e):(this.$button.removeClass(this.options.style),this.$button.addClass(e))},liHeight:function(b){if(b||!1!==this.options.size&&!this.sizeInfo){b=document.createElement("div");var e=document.createElement("div"),f=document.createElement("ul"),g=document.createElement("li"),k=document.createElement("li"),l=document.createElement("a"),m=document.createElement("span"),n=this.options.header&&0<this.$menu.find(".popover-title").length?
this.$menu.find(".popover-title")[0].cloneNode(!0):null,t=this.options.liveSearch?document.createElement("div"):null,p=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,r=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;m.className="text";b.className=this.$menu[0].parentNode.className+" open";e.className="dropdown-menu open";
f.className="dropdown-menu inner";g.className="divider";m.appendChild(document.createTextNode("Inner text"));l.appendChild(m);k.appendChild(l);f.appendChild(k);f.appendChild(g);n&&e.appendChild(n);t&&(k=document.createElement("span"),t.className="bs-searchbox",k.className="form-control",t.appendChild(k),e.appendChild(t));p&&e.appendChild(p);e.appendChild(f);r&&e.appendChild(r);b.appendChild(e);document.body.appendChild(b);f=l.offsetHeight;n=n?n.offsetHeight:0;t=t?t.offsetHeight:0;p=p?p.offsetHeight:
0;r=r?r.offsetHeight:0;g=a(g).outerHeight(!0);k=(l="function"===typeof getComputedStyle?getComputedStyle(e):!1)?null:a(e);e={vert:parseInt(l?l.paddingTop:k.css("paddingTop"))+parseInt(l?l.paddingBottom:k.css("paddingBottom"))+parseInt(l?l.borderTopWidth:k.css("borderTopWidth"))+parseInt(l?l.borderBottomWidth:k.css("borderBottomWidth")),horiz:parseInt(l?l.paddingLeft:k.css("paddingLeft"))+parseInt(l?l.paddingRight:k.css("paddingRight"))+parseInt(l?l.borderLeftWidth:k.css("borderLeftWidth"))+parseInt(l?
l.borderRightWidth:k.css("borderRightWidth"))};l={vert:e.vert+parseInt(l?l.marginTop:k.css("marginTop"))+parseInt(l?l.marginBottom:k.css("marginBottom"))+2,horiz:e.horiz+parseInt(l?l.marginLeft:k.css("marginLeft"))+parseInt(l?l.marginRight:k.css("marginRight"))+2};document.body.removeChild(b);this.sizeInfo={liHeight:f,headerHeight:n,searchHeight:t,actionsHeight:p,doneButtonHeight:r,dividerHeight:g,menuPadding:e,menuExtras:l}}},setSize:function(){this.findLis();this.liHeight();this.options.header&&
this.$menu.css("padding-top",0);if(!1!==this.options.size){var b=this,e=this.$menu,f=this.$menuInner,g=a(window),k=this.$newElement[0].offsetHeight,l=this.$newElement[0].offsetWidth,m=this.sizeInfo.liHeight,n=this.sizeInfo.headerHeight,t=this.sizeInfo.searchHeight,p=this.sizeInfo.actionsHeight,r=this.sizeInfo.doneButtonHeight,G=this.sizeInfo.dividerHeight,K=this.sizeInfo.menuPadding,E=this.sizeInfo.menuExtras,O=this.options.hideDisabled?".disabled":"",J,M,L,R,Q,X,T,ea,N=function(){var e=b.$newElement.offset(),
f=a(b.options.container),m;b.options.container&&!f.is("body")?(m=f.offset(),m.top+=parseInt(f.css("borderTopWidth")),m.left+=parseInt(f.css("borderLeftWidth"))):m={top:0,left:0};f=b.options.windowPadding;Q=e.top-m.top-g.scrollTop();X=g.height()-Q-k-m.top-f[2];T=e.left-m.left-g.scrollLeft();ea=g.width()-T-l-m.left-f[1];Q-=f[0];T-=f[3]};N();"auto"===this.options.size?(G=function(){var g;g=function(b,e){return function(f){return e?f.classList?f.classList.contains(b):a(f).hasClass(b):!(f.classList?f.classList.contains(b):
a(f).hasClass(b))}};var k=b.$menuInner[0].getElementsByTagName("li"),k=Array.prototype.filter?Array.prototype.filter.call(k,g("hidden",!1)):b.$lis.not(".hidden");g=Array.prototype.filter?Array.prototype.filter.call(k,g("dropdown-header",!0)):k.filter(".dropdown-header");N();J=X-E.vert;M=ea-E.horiz;b.options.container?(e.data("height")||e.data("height",e.height()),L=e.data("height"),e.data("width")||e.data("width",e.width()),R=e.data("width")):(L=e.height(),R=e.width());b.options.dropupAuto&&b.$newElement.toggleClass("dropup",
Q>X&&J-E.vert<L);b.$newElement.hasClass("dropup")&&(J=Q-E.vert);"auto"===b.options.dropdownAlignRight&&e.toggleClass("dropdown-menu-right",T>ea&&M-E.horiz<R-l);g=3<k.length+g.length?3*m+E.vert-2:0;e.css({"max-height":J+"px",overflow:"hidden","min-height":g+n+t+p+r+"px"});f.css({"max-height":J-n-t-p-r-K.vert+"px","overflow-y":"auto","min-height":Math.max(g-K.vert,0)+"px"})},G(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",G),g.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",
G)):this.options.size&&"auto"!=this.options.size&&this.$lis.not(O).length>this.options.size&&(O=this.$lis.not(".divider").not(O).children().slice(0,this.options.size).last().parent().index(),O=this.$lis.slice(0,O+1).filter(".divider").length,J=m*this.options.size+O*G+K.vert,b.options.container?(e.data("height")||e.data("height",e.height()),L=e.data("height")):L=e.height(),b.options.dropupAuto&&this.$newElement.toggleClass("dropup",Q>X&&J-E.vert<L),e.css({"max-height":J+n+t+p+r+"px",overflow:"hidden",
"min-height":""}),f.css({"max-height":J-K.vert+"px","overflow-y":"auto","min-height":""}))}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var a=this.$menu.parent().clone().appendTo("body"),b=this.options.container?this.$newElement.clone().appendTo("body"):a,e=a.children(".dropdown-menu").outerWidth(),f=b.css("width","auto").children("button").outerWidth();a.remove();b.remove();this.$newElement.css("width",Math.max(e,f)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",
""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=a('<div class="bs-container" />');var b=this,e=a(this.options.container),f,g,k,l=function(a){b.$bsContainer.addClass(a.attr("class").replace(/form-control|fit-width/gi,
"")).toggleClass("dropup",a.hasClass("dropup"));f=a.offset();e.is("body")?g={top:0,left:0}:(g=e.offset(),g.top+=parseInt(e.css("borderTopWidth"))-e.scrollTop(),g.left+=parseInt(e.css("borderLeftWidth"))-e.scrollLeft());k=a.hasClass("dropup")?0:a[0].offsetHeight;b.$bsContainer.css({top:f.top-g.top+k,left:f.left-g.left,width:a[0].offsetWidth})};this.$button.on("click",function(){var e=a(this);b.isDisabled()||(l(b.$newElement),b.$bsContainer.appendTo(b.options.container).toggleClass("open",!e.hasClass("open")).append(b.$menu))});
a(window).on("resize scroll",function(){l(b.$newElement)});this.$element.on("hide.bs.select",function(){b.$menu.data("height",b.$menu.height());b.$bsContainer.detach()})},setSelected:function(a,b,e){e||(this.togglePlaceholder(),e=this.findLis().eq(this.liObj[a]));e.toggleClass("selected",b).find("a").attr("aria-selected",b)},setDisabled:function(a,b,e){e||(e=this.findLis().eq(this.liObj[a]));b?e.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):e.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",
0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var a=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled").attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex"));
this.$button.click(function(){return!a.isDisabled()})},togglePlaceholder:function(){var a=this.$element.val();this.$button.toggleClass("bs-placeholder",null===a||""===a||a.constructor===Array&&0===a.length)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")));this.$element.attr("tabindex",
-98)},clickListener:function(){var b=this,e=a(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(a){a.stopPropagation()});e.data("spaceSelect",!1);this.$button.on("keyup",function(a){/(32)/.test(a.keyCode.toString(10))&&e.data("spaceSelect")&&(a.preventDefault(),e.data("spaceSelect",!1))});this.$button.on("click",function(){b.setSize()});this.$element.on("shown.bs.select",function(){if(!b.options.liveSearch&&!b.multiple)b.$menuInner.find(".selected a").focus();else if(!b.multiple){var a=
b.liObj[b.$element[0].selectedIndex];"number"===typeof a&&!1!==b.options.size&&(a=b.$lis.eq(a)[0].offsetTop-b.$menuInner[0].offsetTop,a=a-b.$menuInner[0].offsetHeight/2+b.sizeInfo.liHeight/2,b.$menuInner[0].scrollTop=a)}});this.$menuInner.on("click","li a",function(e){var f=a(this),g=f.parent().data("originalIndex"),k=b.$element.val(),m=b.$element.prop("selectedIndex"),n=!0;b.multiple&&1!==b.options.maxOptions&&e.stopPropagation();e.preventDefault();if(!b.isDisabled()&&!f.parent().hasClass("disabled")){var t=
b.$element.find("option");e=t.eq(g);var p=e.prop("selected"),r=e.parent("optgroup"),G=b.options.maxOptions,u=r.data("maxOptions")||!1;if(b.multiple){if(e.prop("selected",!p),b.setSelected(g,!p),f.blur(),!1!==G||!1!==u){var E=G<t.filter(":selected").length,O=u<r.find("option:selected").length;if(G&&E||u&&O)if(G&&1==G)t.prop("selected",!1),e.prop("selected",!0),b.$menuInner.find(".selected").removeClass("selected"),b.setSelected(g,!0);else if(u&&1==u)r.find("option:selected").prop("selected",!1),e.prop("selected",
!0),G=f.parent().data("optgroup"),b.$menuInner.find('[data-optgroup="'+G+'"]').removeClass("selected"),b.setSelected(g,!0);else{var f="string"===typeof b.options.maxOptionsText?[b.options.maxOptionsText,b.options.maxOptionsText]:b.options.maxOptionsText,f="function"===typeof f?f(G,u):f,t=f[0].replace("{n}",G),r=f[1].replace("{n}",u),J=a('<div class="notify"></div>');f[2]&&(t=t.replace("{var}",f[2][1<G?0:1]),r=r.replace("{var}",f[2][1<u?0:1]));e.prop("selected",!1);b.$menu.append(J);G&&E&&(J.append(a("<div>"+
t+"</div>")),n=!1,b.$element.trigger("maxReached.bs.select"));u&&O&&(J.append(a("<div>"+r+"</div>")),n=!1,b.$element.trigger("maxReachedGrp.bs.select"));setTimeout(function(){b.setSelected(g,!1)},10);J.delay(750).fadeOut(300,function(){a(this).remove()})}}}else t.prop("selected",!1),e.prop("selected",!0),b.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),b.setSelected(g,!0);!b.multiple||b.multiple&&1===b.options.maxOptions?b.$button.focus():b.options.liveSearch&&
b.$searchbox.focus();n&&(k!=b.$element.val()&&b.multiple||m!=b.$element.prop("selectedIndex")&&!b.multiple)&&(l=[g,e.prop("selected"),p],b.$element.triggerNative("change"))}});this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),b.options.liveSearch&&!a(e.target).hasClass("close")?b.$searchbox.focus():b.$button.focus())});this.$menuInner.on("click",".divider, .dropdown-header",function(a){a.preventDefault();
a.stopPropagation();b.options.liveSearch?b.$searchbox.focus():b.$button.focus()});this.$menu.on("click",".popover-title .close",function(){b.$button.click()});this.$searchbox.on("click",function(a){a.stopPropagation()});this.$menu.on("click",".actions-btn",function(e){b.options.liveSearch?b.$searchbox.focus():b.$button.focus();e.preventDefault();e.stopPropagation();a(this).hasClass("bs-select-all")?b.selectAll():b.deselectAll()});this.$element.change(function(){b.render(!1);b.$element.trigger("changed.bs.select",
l);l=null})},liveSearchListener:function(){var e=this,f=a('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){e.$menuInner.find(".active").removeClass("active");e.$searchbox.val()&&(e.$searchbox.val(""),e.$lis.not(".is-hidden").removeClass("hidden"),f.parent().length&&f.remove());e.multiple||e.$menuInner.find(".selected").addClass("active");setTimeout(function(){e.$searchbox.focus()},10)});this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",
function(a){a.stopPropagation()});this.$searchbox.on("input propertychange",function(){e.$lis.not(".is-hidden").removeClass("hidden");e.$lis.filter(".active").removeClass("active");f.remove();if(e.$searchbox.val()){var g=e.$lis.not(".is-hidden, .divider, .dropdown-header"),k;k=e.options.liveSearchNormalize?g.not(":a"+e._searchStyle()+'("'+b(e.$searchbox.val())+'")'):g.not(":"+e._searchStyle()+'("'+e.$searchbox.val()+'")');if(k.length===g.length)f.html(e.options.noneResultsText.replace("{0}",'"'+n(e.$searchbox.val())+
'"')),e.$menuInner.append(f),e.$lis.addClass("hidden");else{k.addClass("hidden");var l=e.$lis.not(".hidden"),m;l.each(function(b){var e=a(this);e.hasClass("divider")?void 0===m?e.addClass("hidden"):(m&&m.addClass("hidden"),m=e):e.hasClass("dropdown-header")&&l.eq(b+1).data("optgroup")!==e.data("optgroup")?e.addClass("hidden"):m=null});m&&m.addClass("hidden");g.not(".hidden").first().addClass("active")}}})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||
"icontains"},val:function(a){return"undefined"!==typeof a?(this.$element.val(a),this.render(),this.$element):this.$element.val()},changeAll:function(b){if(this.multiple){"undefined"===typeof b&&(b=!0);this.findLis();var e=this.$element.find("option"),f=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),g=f.length,k=[];if(b){if(f.filter(".selected").length===f.length)return}else if(0===f.filter(".selected").length)return;f.toggleClass("selected",b);for(var l=0;l<g;l++){var m=f[l].getAttribute("data-original-index");
k[k.length]=e.eq(m)[0]}a(k).prop("selected",b);this.render(!1);this.togglePlaceholder();this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(a){(a=a||window.event)&&a.stopPropagation();this.$button.trigger("click")},keydown:function(e){var f=a(this),g=f.is("input")?f.parent().parent():f.parent(),k,l=g.data("this"),m,n,p,t,r,F,G,K={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",
57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};l.options.liveSearch&&(g=f.parent().parent());l.options.container&&(g=l.$menu);k=a('[role="listbox"] li',g);G=l.$newElement.hasClass("open");if(!G&&(48<=e.keyCode&&57>=e.keyCode||96<=e.keyCode&&105>=e.keyCode||65<=e.keyCode&&90>=
e.keyCode))l.options.container?l.$button.trigger("click"):(l.setSize(),l.$menu.parent().addClass("open"),G=!0),l.$searchbox.focus();else if(l.options.liveSearch&&(/(^9$|27)/.test(e.keyCode.toString(10))&&G&&(e.preventDefault(),e.stopPropagation(),l.$button.click().focus()),k=a('[role="listbox"] li:not(.disabled, .hidden, .dropdown-header, .divider)',g),f.val()||/(38|40)/.test(e.keyCode.toString(10))||0!==k.filter(".active").length||(k=l.$menuInner.find("li"),k=l.options.liveSearchNormalize?k.filter(":a"+
l._searchStyle()+"("+b(K[e.keyCode])+")"):k.filter(":"+l._searchStyle()+"("+K[e.keyCode]+")"))),k.length){if(/(38|40)/.test(e.keyCode.toString(10)))g=k.index(k.find("a").filter(":focus").parent()),n=k.filter(":not(.disabled, .hidden, .dropdown-header, .divider)").first().index(),p=k.filter(":not(.disabled, .hidden, .dropdown-header, .divider)").last().index(),m=k.eq(g).nextAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),t=k.eq(g).prevAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),
r=k.eq(m).prevAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),l.options.liveSearch&&(k.each(function(b){a(this).hasClass("disabled")||a(this).data("index",b)}),g=k.index(k.filter(".active")),n=k.first().data("index"),p=k.last().data("index"),m=k.eq(g).nextAll().eq(0).data("index"),t=k.eq(g).prevAll().eq(0).data("index"),r=k.eq(m).prevAll().eq(0).data("index")),F=f.data("prevIndex"),38==e.keyCode?(l.options.liveSearch&&g--,g!=r&&g>t&&(g=t),g<n&&(g=n),g==F&&(g=p)):40==e.keyCode&&
(l.options.liveSearch&&g++,-1==g&&(g=0),g!=r&&g<m&&(g=m),g>p&&(g=p),g==F&&(g=n)),f.data("prevIndex",g),l.options.liveSearch?(e.preventDefault(),f.hasClass("dropdown-toggle")||(k.removeClass("active").eq(g).addClass("active").children("a").focus(),f.focus())):k.eq(g).children("a").focus();else if(!f.is("input")){var E=[];k.each(function(){a(this).hasClass("disabled")||a.trim(a(this).children("a").text().toLowerCase()).substring(0,1)==K[e.keyCode]&&E.push(a(this).index())});g=a(document).data("keycount");
g++;a(document).data("keycount",g);a.trim(a(":focus").text().toLowerCase()).substring(0,1)!=K[e.keyCode]?(g=1,a(document).data("keycount",g)):g>=E.length&&(a(document).data("keycount",0),g>E.length&&(g=1));k.eq(E[g-1]).children("a").focus()}(/(13|32)/.test(e.keyCode.toString(10))||/(^9$)/.test(e.keyCode.toString(10))&&l.options.selectOnTab)&&G&&(/(32)/.test(e.keyCode.toString(10))||e.preventDefault(),l.options.liveSearch?/(32)/.test(e.keyCode.toString(10))||(l.$menuInner.find(".active a").click(),
f.focus()):(f=a(":focus"),f.click(),f.focus(),e.preventDefault(),a(document).data("spaceSelect",!0)),a(document).data("keycount",0));if(/(^9$|27)/.test(e.keyCode.toString(10))&&G&&(l.multiple||l.options.liveSearch)||/(27)/.test(e.keyCode.toString(10))&&!G)l.$menu.parent().removeClass("open"),l.options.container&&l.$newElement.removeClass("open"),l.$button.focus()}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null;this.liObj={};this.reloadLi();this.render();
this.checkDisabled();this.liHeight(!0);this.setStyle();this.setWidth();this.$lis&&this.$searchbox.trigger("propertychange");this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove();this.$bsContainer?this.$bsContainer.remove():this.$menu.remove();this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};
var r=a.fn.selectpicker;a.fn.selectpicker=g;a.fn.selectpicker.Constructor=p;a.fn.selectpicker.noConflict=function(){a.fn.selectpicker=r;return this};a(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',p.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(a){a.stopPropagation()});a(window).on("load.bs.select.data-api",
function(){a(".selectpicker").each(function(){var b=a(this);g.call(b,b.data())})})})(a)});(function(a,h){"undefined"!==typeof module&&module.exports?"undefined"!==typeof process&&"electron"in process.versions?a.BootstrapDialog=h(a.jQuery):module.exports=h(require("jquery"),require("bootstrap")):"function"===typeof define&&define.amd?define("bootstrap-dialog",["jquery","bootstrap"],function(a){return h(a)}):a.BootstrapDialog=h(a.jQuery)})(this,function(a){var h=a.fn.modal.Constructor,b=function(a,b){h.call(this,a,b)};b.getModalVersion=function(){var b=null;return b="undefined"===typeof a.fn.modal.Constructor.VERSION?
"v3.1":/3\.2\.\d+/.test(a.fn.modal.Constructor.VERSION)?"v3.2":/3\.3\.[1,2]/.test(a.fn.modal.Constructor.VERSION)?"v3.3":"v3.3.4"};b.ORIGINAL_BODY_PADDING=parseInt(a("body").css("padding-right")||0,10);b.METHODS_TO_OVERRIDE={};b.METHODS_TO_OVERRIDE["v3.1"]={};b.METHODS_TO_OVERRIDE["v3.2"]={hide:function(b){b&&b.preventDefault();b=a.Event("hide.bs.modal");this.$element.trigger(b);this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,0===this.getGlobalOpenedDialogs().length&&this.$body.removeClass("modal-open"),
this.resetScrollbar(),this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())}};b.METHODS_TO_OVERRIDE["v3.3"]={setScrollbar:function(){var a=b.ORIGINAL_BODY_PADDING;this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},resetScrollbar:function(){0===
this.getGlobalOpenedDialogs().length&&this.$body.css("padding-right",b.ORIGINAL_BODY_PADDING)},hideModal:function(){this.$element.hide();this.backdrop(a.proxy(function(){0===this.getGlobalOpenedDialogs().length&&this.$body.removeClass("modal-open");this.resetAdjustments();this.resetScrollbar();this.$element.trigger("hidden.bs.modal")},this))}};b.METHODS_TO_OVERRIDE["v3.3.4"]=a.extend({},b.METHODS_TO_OVERRIDE["v3.3"]);b.prototype={constructor:b,getGlobalOpenedDialogs:function(){var b=[];a.each(g.dialogs,
function(a,g){g.isRealized()&&g.isOpened()&&b.push(g)});return b}};b.prototype=a.extend(b.prototype,h.prototype,b.METHODS_TO_OVERRIDE[b.getModalVersion()]);var g=function(b){this.defaultOptions=a.extend(!0,{id:g.newGuid(),buttons:[],data:{},onshow:null,onshown:null,onhide:null,onhidden:null},g.defaultOptions);this.indexedButtons={};this.registeredButtonHotkeys={};this.draggableData={isMouseDown:!1,mouseOffset:{}};this.opened=this.realized=!1;this.initOptions(b);this.holdThisInstance()};g.BootstrapDialogModal=
b;g.NAMESPACE="bootstrap-dialog";g.TYPE_DEFAULT="type-default";g.TYPE_INFO="type-info";g.TYPE_PRIMARY="type-primary";g.TYPE_SUCCESS="type-success";g.TYPE_WARNING="type-warning";g.TYPE_DANGER="type-danger";g.DEFAULT_TEXTS={};g.DEFAULT_TEXTS[g.TYPE_DEFAULT]="Information";g.DEFAULT_TEXTS[g.TYPE_INFO]="Information";g.DEFAULT_TEXTS[g.TYPE_PRIMARY]="Information";g.DEFAULT_TEXTS[g.TYPE_SUCCESS]="Success";g.DEFAULT_TEXTS[g.TYPE_WARNING]="Warning";g.DEFAULT_TEXTS[g.TYPE_DANGER]="Danger";g.DEFAULT_TEXTS.OK=
"OK";g.DEFAULT_TEXTS.CANCEL="Cancel";g.DEFAULT_TEXTS.CONFIRM="Confirmation";g.SIZE_NORMAL="size-normal";g.SIZE_SMALL="size-small";g.SIZE_WIDE="size-wide";g.SIZE_LARGE="size-large";g.BUTTON_SIZES={};g.BUTTON_SIZES[g.SIZE_NORMAL]="";g.BUTTON_SIZES[g.SIZE_SMALL]="";g.BUTTON_SIZES[g.SIZE_WIDE]="";g.BUTTON_SIZES[g.SIZE_LARGE]="btn-lg";g.ICON_SPINNER="glyphicon glyphicon-asterisk";g.defaultOptions={type:g.TYPE_PRIMARY,size:g.SIZE_NORMAL,cssClass:"",title:null,message:null,nl2br:!0,closable:!0,closeByBackdrop:!0,
closeByKeyboard:!0,spinicon:g.ICON_SPINNER,autodestroy:!0,draggable:!1,animate:!1,description:"",tabindex:-1};g.configDefaultOptions=function(b){g.defaultOptions=a.extend(!0,g.defaultOptions,b)};g.dialogs={};g.openAll=function(){a.each(g.dialogs,function(a,b){b.open()})};g.closeAll=function(){a.each(g.dialogs,function(a,b){b.close()})};g.getDialog=function(a){var b=null;"undefined"!==typeof g.dialogs[a]&&(b=g.dialogs[a]);return b};g.setDialog=function(a){return g.dialogs[a.getId()]=a};g.addDialog=
function(a){return g.setDialog(a)};g.moveFocus=function(){var b=null;a.each(g.dialogs,function(a,g){b=g});null!==b&&b.isRealized()&&b.getModal().focus()};g.METHODS_TO_OVERRIDE={};g.METHODS_TO_OVERRIDE["v3.1"]={handleModalBackdropEvent:function(){this.getModal().on("click",{dialog:this},function(a){a.target===this&&a.data.dialog.isClosable()&&a.data.dialog.canCloseByBackdrop()&&a.data.dialog.close()});return this},updateZIndex:function(){var b=0;a.each(g.dialogs,function(a,e){b++});var e=this.getModal(),
h=e.data("bs.modal").$backdrop;e.css("z-index",1050+20*(b-1));h.css("z-index",1040+20*(b-1));return this},open:function(){!this.isRealized()&&this.realize();this.getModal().modal("show");this.updateZIndex();return this}};g.METHODS_TO_OVERRIDE["v3.2"]={handleModalBackdropEvent:g.METHODS_TO_OVERRIDE["v3.1"].handleModalBackdropEvent,updateZIndex:g.METHODS_TO_OVERRIDE["v3.1"].updateZIndex,open:g.METHODS_TO_OVERRIDE["v3.1"].open};g.METHODS_TO_OVERRIDE["v3.3"]={};g.METHODS_TO_OVERRIDE["v3.3.4"]=a.extend({},
g.METHODS_TO_OVERRIDE["v3.1"]);g.prototype={constructor:g,initOptions:function(b){this.options=a.extend(!0,this.defaultOptions,b);return this},holdThisInstance:function(){g.addDialog(this);return this},initModalStuff:function(){this.setModal(this.createModal()).setModalDialog(this.createModalDialog()).setModalContent(this.createModalContent()).setModalHeader(this.createModalHeader()).setModalBody(this.createModalBody()).setModalFooter(this.createModalFooter());this.getModal().append(this.getModalDialog());
this.getModalDialog().append(this.getModalContent());this.getModalContent().append(this.getModalHeader()).append(this.getModalBody()).append(this.getModalFooter());return this},createModal:function(){var b=a('<div class="modal" role="dialog" aria-hidden="true"></div>');b.prop("id",this.getId());b.attr("aria-labelledby",this.getId()+"_title");return b},getModal:function(){return this.$modal},setModal:function(a){this.$modal=a;return this},createModalDialog:function(){return a('<div class="modal-dialog"></div>')},
getModalDialog:function(){return this.$modalDialog},setModalDialog:function(a){this.$modalDialog=a;return this},createModalContent:function(){return a('<div class="modal-content"></div>')},getModalContent:function(){return this.$modalContent},setModalContent:function(a){this.$modalContent=a;return this},createModalHeader:function(){return a('<div class="modal-header"></div>')},getModalHeader:function(){return this.$modalHeader},setModalHeader:function(a){this.$modalHeader=a;return this},createModalBody:function(){return a('<div class="modal-body"></div>')},
getModalBody:function(){return this.$modalBody},setModalBody:function(a){this.$modalBody=a;return this},createModalFooter:function(){return a('<div class="modal-footer"></div>')},getModalFooter:function(){return this.$modalFooter},setModalFooter:function(a){this.$modalFooter=a;return this},createDynamicContent:function(a){var b=null,b="function"===typeof a?a.call(a,this):a;"string"===typeof b&&(b=this.formatStringContent(b));return b},formatStringContent:function(a){return this.options.nl2br?a.replace(/\r\n/g,
"<br />").replace(/[\r\n]/g,"<br />"):a},setData:function(a,b){this.options.data[a]=b;return this},getData:function(a){return this.options.data[a]},setId:function(a){this.options.id=a;return this},getId:function(){return this.options.id},getType:function(){return this.options.type},setType:function(a){this.options.type=a;this.updateType();return this},updateType:function(){if(this.isRealized()){var a=[g.TYPE_DEFAULT,g.TYPE_INFO,g.TYPE_PRIMARY,g.TYPE_SUCCESS,g.TYPE_WARNING,g.TYPE_DANGER];this.getModal().removeClass(a.join(" ")).addClass(this.getType())}return this},
getSize:function(){return this.options.size},setSize:function(a){this.options.size=a;this.updateSize();return this},updateSize:function(){if(this.isRealized()){var b=this;this.getModal().removeClass(g.SIZE_NORMAL).removeClass(g.SIZE_SMALL).removeClass(g.SIZE_WIDE).removeClass(g.SIZE_LARGE);this.getModal().addClass(this.getSize());this.getModalDialog().removeClass("modal-sm");this.getSize()===g.SIZE_SMALL&&this.getModalDialog().addClass("modal-sm");this.getModalDialog().removeClass("modal-lg");this.getSize()===
g.SIZE_WIDE&&this.getModalDialog().addClass("modal-lg");a.each(this.options.buttons,function(e,g){var h=b.getButton(g.id),n=["btn-lg","btn-sm","btn-xs"],m=!1;if("string"===typeof g.cssClass){var p=g.cssClass.split(" ");a.each(p,function(b,e){-1!==a.inArray(e,n)&&(m=!0)})}m||(h.removeClass(n.join(" ")),h.addClass(b.getButtonSize()))})}return this},getCssClass:function(){return this.options.cssClass},setCssClass:function(a){this.options.cssClass=a;return this},getTitle:function(){return this.options.title},
setTitle:function(a){this.options.title=a;this.updateTitle();return this},updateTitle:function(){if(this.isRealized()){var a=null!==this.getTitle()?this.createDynamicContent(this.getTitle()):this.getDefaultText();this.getModalHeader().find("."+this.getNamespace("title")).html("").append(a).prop("id",this.getId()+"_title")}return this},getMessage:function(){return this.options.message},setMessage:function(a){this.options.message=a;this.updateMessage();return this},updateMessage:function(){if(this.isRealized()){var a=
this.createDynamicContent(this.getMessage());this.getModalBody().find("."+this.getNamespace("message")).html("").append(a)}return this},isClosable:function(){return this.options.closable},setClosable:function(a){this.options.closable=a;this.updateClosable();return this},setCloseByBackdrop:function(a){this.options.closeByBackdrop=a;return this},canCloseByBackdrop:function(){return this.options.closeByBackdrop},setCloseByKeyboard:function(a){this.options.closeByKeyboard=a;return this},canCloseByKeyboard:function(){return this.options.closeByKeyboard},
isAnimate:function(){return this.options.animate},setAnimate:function(a){this.options.animate=a;return this},updateAnimate:function(){this.isRealized()&&this.getModal().toggleClass("fade",this.isAnimate());return this},getSpinicon:function(){return this.options.spinicon},setSpinicon:function(a){this.options.spinicon=a;return this},addButton:function(a){this.options.buttons.push(a);return this},addButtons:function(b){var e=this;a.each(b,function(a,b){e.addButton(b)});return this},getButtons:function(){return this.options.buttons},
setButtons:function(a){this.options.buttons=a;this.updateButtons();return this},getButton:function(a){return"undefined"!==typeof this.indexedButtons[a]?this.indexedButtons[a]:null},getButtonSize:function(){return"undefined"!==typeof g.BUTTON_SIZES[this.getSize()]?g.BUTTON_SIZES[this.getSize()]:""},updateButtons:function(){this.isRealized()&&(0===this.getButtons().length?this.getModalFooter().hide():this.getModalFooter().show().find("."+this.getNamespace("footer")).html("").append(this.createFooterButtons()));
return this},isAutodestroy:function(){return this.options.autodestroy},setAutodestroy:function(a){this.options.autodestroy=a},getDescription:function(){return this.options.description},setDescription:function(a){this.options.description=a;return this},setTabindex:function(a){this.options.tabindex=a;return this},getTabindex:function(){return this.options.tabindex},updateTabindex:function(){this.isRealized()&&this.getModal().attr("tabindex",this.getTabindex());return this},getDefaultText:function(){return g.DEFAULT_TEXTS[this.getType()]},
getNamespace:function(a){return g.NAMESPACE+"-"+a},createHeaderContent:function(){var b=a("<div></div>");b.addClass(this.getNamespace("header"));b.append(this.createTitleContent());b.prepend(this.createCloseButton());return b},createTitleContent:function(){var b=a("<div></div>");b.addClass(this.getNamespace("title"));return b},createCloseButton:function(){var b=a("<div></div>");b.addClass(this.getNamespace("close-button"));var e=a('<button class="close">&times;</button>');b.append(e);b.on("click",
{dialog:this},function(a){a.data.dialog.close()});return b},createBodyContent:function(){var b=a("<div></div>");b.addClass(this.getNamespace("body"));b.append(this.createMessageContent());return b},createMessageContent:function(){var b=a("<div></div>");b.addClass(this.getNamespace("message"));return b},createFooterContent:function(){var b=a("<div></div>");b.addClass(this.getNamespace("footer"));return b},createFooterButtons:function(){var b=this,e=a("<div></div>");e.addClass(this.getNamespace("footer-buttons"));
this.indexedButtons={};a.each(this.options.buttons,function(a,h){h.id||(h.id=g.newGuid());var n=b.createButton(h);b.indexedButtons[h.id]=n;e.append(n)});return e},createButton:function(b){var e=a('<button class="btn"></button>');e.prop("id",b.id);e.data("button",b);"undefined"!==typeof b.icon&&""!==a.trim(b.icon)&&e.append(this.createButtonIcon(b.icon));"undefined"!==typeof b.label&&e.append(b.label);"undefined"!==typeof b.cssClass&&""!==a.trim(b.cssClass)?e.addClass(b.cssClass):e.addClass("btn-default");
"undefined"!==typeof b.hotkey&&(this.registeredButtonHotkeys[b.hotkey]=e);e.on("click",{dialog:this,$button:e,button:b},function(a){var b=a.data.dialog,e=a.data.$button,f=e.data("button");"function"===typeof f.action&&f.action.call(e,b,a);f.autospin&&e.toggleSpin(!0)});this.enhanceButton(e);"undefined"!==typeof b.enabled&&e.toggleEnable(b.enabled);return e},enhanceButton:function(a){a.dialog=this;a.toggleEnable=function(a){"undefined"!==typeof a?this.prop("disabled",!a).toggleClass("disabled",!a):
this.prop("disabled",!this.prop("disabled"));return this};a.enable=function(){this.toggleEnable(!0);return this};a.disable=function(){this.toggleEnable(!1);return this};a.toggleSpin=function(b){var g=this.dialog,h=this.find("."+g.getNamespace("button-icon"));"undefined"===typeof b&&(b=!(0<a.find(".icon-spin").length));b?(h.hide(),a.prepend(g.createButtonIcon(g.getSpinicon()).addClass("icon-spin"))):(h.show(),a.find(".icon-spin").remove());return this};a.spin=function(){this.toggleSpin(!0);return this};
a.stopSpin=function(){this.toggleSpin(!1);return this};return this},createButtonIcon:function(b){var e=a("<span></span>");e.addClass(this.getNamespace("button-icon")).addClass(b);return e},enableButtons:function(b){a.each(this.indexedButtons,function(a,g){g.toggleEnable(b)});return this},updateClosable:function(){this.isRealized()&&this.getModalHeader().find("."+this.getNamespace("close-button")).toggle(this.isClosable());return this},onShow:function(a){this.options.onshow=a;return this},onShown:function(a){this.options.onshown=
a;return this},onHide:function(a){this.options.onhide=a;return this},onHidden:function(a){this.options.onhidden=a;return this},isRealized:function(){return this.realized},setRealized:function(a){this.realized=a;return this},isOpened:function(){return this.opened},setOpened:function(a){this.opened=a;return this},handleModalEvents:function(){this.getModal().on("show.bs.modal",{dialog:this},function(a){var b=a.data.dialog;b.setOpened(!0);if(b.isModalEvent(a)&&"function"===typeof b.options.onshow)return a=
b.options.onshow(b),!1===a&&b.setOpened(!1),a});this.getModal().on("shown.bs.modal",{dialog:this},function(a){var b=a.data.dialog;b.isModalEvent(a)&&"function"===typeof b.options.onshown&&b.options.onshown(b)});this.getModal().on("hide.bs.modal",{dialog:this},function(a){var b=a.data.dialog;b.setOpened(!1);if(b.isModalEvent(a)&&"function"===typeof b.options.onhide)return a=b.options.onhide(b),!1===a&&b.setOpened(!0),a});this.getModal().on("hidden.bs.modal",{dialog:this},function(b){var e=b.data.dialog;
e.isModalEvent(b)&&"function"===typeof e.options.onhidden&&e.options.onhidden(e);e.isAutodestroy()&&(e.setRealized(!1),delete g.dialogs[e.getId()],a(this).remove());g.moveFocus()});this.handleModalBackdropEvent();this.getModal().on("keyup",{dialog:this},function(a){27===a.which&&a.data.dialog.isClosable()&&a.data.dialog.canCloseByKeyboard()&&a.data.dialog.close()});this.getModal().on("keyup",{dialog:this},function(b){var e=b.data.dialog;"undefined"!==typeof e.registeredButtonHotkeys[b.which]&&(b=
a(e.registeredButtonHotkeys[b.which]),!b.prop("disabled")&&b.focus().trigger("click"))});return this},handleModalBackdropEvent:function(){this.getModal().on("click",{dialog:this},function(b){a(b.target).hasClass("modal-backdrop")&&b.data.dialog.isClosable()&&b.data.dialog.canCloseByBackdrop()&&b.data.dialog.close()});return this},isModalEvent:function(a){return"undefined"!==typeof a.namespace&&"bs.modal"===a.namespace},makeModalDraggable:function(){this.options.draggable&&(this.getModalHeader().addClass(this.getNamespace("draggable")).on("mousedown",
{dialog:this},function(a){var b=a.data.dialog;b.draggableData.isMouseDown=!0;var g=b.getModalDialog().offset();b.draggableData.mouseOffset={top:a.clientY-g.top,left:a.clientX-g.left}}),this.getModal().on("mouseup mouseleave",{dialog:this},function(a){a.data.dialog.draggableData.isMouseDown=!1}),a("body").on("mousemove",{dialog:this},function(a){var b=a.data.dialog;b.draggableData.isMouseDown&&b.getModalDialog().offset({top:a.clientY-b.draggableData.mouseOffset.top,left:a.clientX-b.draggableData.mouseOffset.left})}));
return this},realize:function(){this.initModalStuff();this.getModal().addClass(g.NAMESPACE).addClass(this.getCssClass());this.updateSize();this.getDescription()&&this.getModal().attr("aria-describedby",this.getDescription());this.getModalFooter().append(this.createFooterContent());this.getModalHeader().append(this.createHeaderContent());this.getModalBody().append(this.createBodyContent());this.getModal().data("bs.modal",new b(this.getModal(),{backdrop:"static",keyboard:!1,show:!1}));this.makeModalDraggable();
this.handleModalEvents();this.setRealized(!0);this.updateButtons();this.updateType();this.updateTitle();this.updateMessage();this.updateClosable();this.updateAnimate();this.updateSize();this.updateTabindex();return this},open:function(){!this.isRealized()&&this.realize();this.getModal().modal("show");return this},close:function(a){!this.isRealized()&&this.realize();this.getModal().modal("hide");!1!==a&&this.owner&&this.owner.onCancel();return this}};g.prototype=a.extend(g.prototype,g.METHODS_TO_OVERRIDE[b.getModalVersion()]);
g.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)})};g.show=function(a){return(new g(a)).open()};g.alert=function(b,e){var h={},h={type:g.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,buttonLabel:g.DEFAULT_TEXTS.OK,callback:null},h="object"===typeof b&&b.constructor==={}.constructor?a.extend(!0,h,b):a.extend(!0,h,{message:b,callback:"undefined"!==typeof e?e:null});return(new g({type:h.type,
title:h.title,message:h.message,closable:h.closable,draggable:h.draggable,data:{callback:h.callback},onhide:function(a){!a.getData("btnClicked")&&a.isClosable()&&"function"===typeof a.getData("callback")&&a.getData("callback")(!1)},buttons:[{label:h.buttonLabel,action:function(a){a.setData("btnClicked",!0);"function"===typeof a.getData("callback")&&a.getData("callback")(!0);a.close()}}]})).open()};g.confirm=function(b,e){var h={},h={type:g.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,
btnCancelLabel:g.DEFAULT_TEXTS.CANCEL,btnOKLabel:g.DEFAULT_TEXTS.OK,btnOKClass:null,callback:null},h="object"===typeof b&&b.constructor==={}.constructor?a.extend(!0,h,b):a.extend(!0,h,{message:b,closable:!1,buttonLabel:g.DEFAULT_TEXTS.OK,callback:"undefined"!==typeof e?e:null});null===h.btnOKClass&&(h.btnOKClass=["btn",h.type.split("-")[1]].join("-"));return(new g({type:h.type,title:h.title,message:h.message,closable:h.closable,draggable:h.draggable,data:{callback:h.callback},buttons:[{label:h.btnCancelLabel,
action:function(a){"function"===typeof a.getData("callback")&&a.getData("callback")(!1);a.close()}},{label:h.btnOKLabel,cssClass:h.btnOKClass,action:function(a){"function"===typeof a.getData("callback")&&a.getData("callback")(!0);a.close()}}]})).open()};g.warning=function(a,b){return(new g({type:g.TYPE_WARNING,message:a})).open()};g.danger=function(a,b){return(new g({type:g.TYPE_DANGER,message:a})).open()};g.success=function(a,b){return(new g({type:g.TYPE_SUCCESS,message:a})).open()};return g});(function(a,h){function b(a,b,e){return[parseFloat(a[0])*(q.test(a[0])?b/100:1),parseFloat(a[1])*(q.test(a[1])?e/100:1)]}function g(b){var e=b[0];return 9===e.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(e)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var f,e=Math.max,l=Math.abs,k=
Math.round,n=/left|center|right/,m=/top|center|bottom/,p=/[\+\-]\d+(\.[\d]+)?%?/,r=/^\w+/,q=/%$/,u=a.fn.pos;a.pos={scrollbarWidth:function(){if(f!==h)return f;var b,e,g=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");e=g.children()[0];a("body").append(g);b=e.offsetWidth;g.css("overflow","scroll");e=e.offsetWidth;b===e&&(e=g[0].clientWidth);g.remove();return f=b-e},getScrollInfo:function(b){var e=b.isWindow||
b.isDocument?"":b.element.css("overflow-x"),f=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),e="scroll"===e||"auto"===e&&b.width<b.element[0].scrollWidth;return{width:"scroll"===f||"auto"===f&&b.height<b.element[0].scrollHeight?a.pos.scrollbarWidth():0,height:e?a.pos.scrollbarWidth():0}},getWithinInfo:function(b){b=a(b||window);var e=a.isWindow(b[0]);return{element:b,isWindow:e,isDocument:!!b[0]&&9===b[0].nodeType,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),
width:e?b.width():b.outerWidth(),height:e?b.height():b.outerHeight()}}};a.fn.pos=function(f){if(!f||!f.of)return u.apply(this,arguments);f=a.extend({},f);var h,q,z,B,D,t,A=a(f.of),F=a.pos.getWithinInfo(f.within),G=a.pos.getScrollInfo(F),K=(f.collision||"flip").split(" "),E={};t=g(A);A[0].preventDefault&&(f.at="left top");q=t.width;z=t.height;B=t.offset;D=a.extend({},B);a.each(["my","at"],function(){var a=(f[this]||"").split(" "),b,e;1===a.length&&(a=n.test(a[0])?a.concat(["center"]):m.test(a[0])?
["center"].concat(a):["center","center"]);a[0]=n.test(a[0])?a[0]:"center";a[1]=m.test(a[1])?a[1]:"center";b=p.exec(a[0]);e=p.exec(a[1]);E[this]=[b?b[0]:0,e?e[0]:0];f[this]=[r.exec(a[0])[0],r.exec(a[1])[0]]});1===K.length&&(K[1]=K[0]);"right"===f.at[0]?D.left+=q:"center"===f.at[0]&&(D.left+=q/2);"bottom"===f.at[1]?D.top+=z:"center"===f.at[1]&&(D.top+=z/2);h=b(E.at,q,z);D.left+=h[0];D.top+=h[1];return this.each(function(){var g,m,n=a(this),t=n.outerWidth(),p=n.outerHeight(),r=parseInt(a.css(this,"marginLeft"),
10)||0,u=parseInt(a.css(this,"marginTop"),10)||0,T=t+r+(parseInt(a.css(this,"marginRight"),10)||0)+G.width,ea=p+u+(parseInt(a.css(this,"marginBottom"),10)||0)+G.height,N=a.extend({},D),Z=b(E.my,n.outerWidth(),n.outerHeight());"right"===f.my[0]?N.left-=t:"center"===f.my[0]&&(N.left-=t/2);"bottom"===f.my[1]?N.top-=p:"center"===f.my[1]&&(N.top-=p/2);N.left+=Z[0];N.top+=Z[1];a.support.offsetFractions||(N.left=k(N.left),N.top=k(N.top));g={marginLeft:r,marginTop:u};a.each(["left","top"],function(b,e){if(a.ui.pos[K[b]])a.ui.pos[K[b]][e](N,
{targetWidth:q,targetHeight:z,elemWidth:t,elemHeight:p,collisionPosition:g,collisionWidth:T,collisionHeight:ea,offset:[h[0]+Z[0],h[1]+Z[1]],my:f.my,at:f.at,within:F,elem:n})});f.using&&(m=function(a){var b=B.left-N.left,g=b+q-t,h=B.top-N.top,k=h+z-p,m={target:{element:A,left:B.left,top:B.top,width:q,height:z},element:{element:n,left:N.left,top:N.top,width:t,height:p},horizontal:0>g?"left":0<b?"right":"center",vertical:0>k?"top":0<h?"bottom":"middle"};q<t&&l(b+g)<q&&(m.horizontal="center");z<p&&l(h+
k)<z&&(m.vertical="middle");e(l(b),l(g))>e(l(h),l(k))?m.important="horizontal":m.important="vertical";f.using.call(this,a,m)});n.offset(a.extend(N,{using:m}))})};a.ui.pos={_trigger:function(a,b,e,f){b.elem&&b.elem.trigger({type:e,position:a,positionData:b,triggered:f})},fit:{left:function(b,f){a.ui.pos._trigger(b,f,"posCollide","fitLeft");var g=f.within,h=g.isWindow?g.scrollLeft:g.offset.left,k=g.width,l=b.left-f.collisionPosition.marginLeft,g=h-l,m=l+f.collisionWidth-k-h;f.collisionWidth>k?0<g&&
0>=m?(h=b.left+g+f.collisionWidth-k-h,b.left+=g-h):b.left=0<m&&0>=g?h:g>m?h+k-f.collisionWidth:h:b.left=0<g?b.left+g:0<m?b.left-m:e(b.left-l,b.left);a.ui.pos._trigger(b,f,"posCollided","fitLeft")},top:function(b,f){a.ui.pos._trigger(b,f,"posCollide","fitTop");var g=f.within,h=g.isWindow?g.scrollTop:g.offset.top,k=f.within.height,l=b.top-f.collisionPosition.marginTop,g=h-l,m=l+f.collisionHeight-k-h;f.collisionHeight>k?0<g&&0>=m?(h=b.top+g+f.collisionHeight-k-h,b.top+=g-h):b.top=0<m&&0>=g?h:g>m?h+k-
f.collisionHeight:h:b.top=0<g?b.top+g:0<m?b.top-m:e(b.top-l,b.top);a.ui.pos._trigger(b,f,"posCollided","fitTop")}},flip:{left:function(b,e){a.ui.pos._trigger(b,e,"posCollide","flipLeft");var f=e.within,g=f.offset.left+f.scrollLeft,h=f.width,k=f.isWindow?f.scrollLeft:f.offset.left,m=b.left-e.collisionPosition.marginLeft,f=m-k,n=m+e.collisionWidth-h-k,m="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,q="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];
if(0>f){if(g=b.left+m+q+p+e.collisionWidth-h-g,0>g||g<l(f))b.left+=m+q+p}else 0<n&&(g=b.left-e.collisionPosition.marginLeft+m+q+p-k,0<g||l(g)<n)&&(b.left+=m+q+p);a.ui.pos._trigger(b,e,"posCollided","flipLeft")},top:function(b,e){a.ui.pos._trigger(b,e,"posCollide","flipTop");var f=e.within,g=f.offset.top+f.scrollTop,h=f.height,k=f.isWindow?f.scrollTop:f.offset.top,m=b.top-e.collisionPosition.marginTop,f=m-k,n=m+e.collisionHeight-h-k,m="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,
q="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,p=-2*e.offset[1];0>f?(g=b.top+m+q+p+e.collisionHeight-h-g,b.top+m+q+p>f&&(0>g||g<l(f))&&(b.top+=m+q+p)):0<n&&(g=b.top-e.collisionPosition.marginTop+m+q+p-k,b.top+m+q+p>n&&(0<g||l(g)<n)&&(b.top+=m+q+p));a.ui.pos._trigger(b,e,"posCollided","flipTop")}},flipfit:{left:function(){a.ui.pos.flip.left.apply(this,arguments);a.ui.pos.fit.left.apply(this,arguments)},top:function(){a.ui.pos.flip.top.apply(this,arguments);a.ui.pos.fit.top.apply(this,
arguments)}}};(function(){var b,e,f,g,h=document.getElementsByTagName("body")[0];f=document.createElement("div");b=document.createElement(h?"div":"body");e={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};h&&a.extend(e,{position:"absolute",left:"-1000px",top:"-1000px"});for(g in e)b.style[g]=e[g];b.appendChild(f);e=h||document.documentElement;e.insertBefore(b,e.firstChild);f.style.cssText="position: absolute; left: 10.7432222px;";f=a(f).offset().left;a.support.offsetFractions=
10<f&&11>f;b.innerHTML="";e.removeChild(b)})()})(jQuery);(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):window.jQuery&&!window.jQuery.fn.iconpicker&&a(window.jQuery)})(function(a){var h={isEmpty:function(a){return!1===a||""===a||null===a||void 0===a},isEmptyObject:function(a){return!0===this.isEmpty(a)||0===a.length},isElement:function(b){return 0<a(b).length},isString:function(a){return"string"===typeof a||a instanceof String},isArray:function(b){return a.isArray(b)},inArray:function(b,f){return-1!==a.inArray(b,f)},throwError:function(a){throw"Font Awesome Icon Picker Exception: "+
a;}},b=function(g,f){this._id=b._idCounter++;this.element=a(g).addClass("iconpicker-element");this._trigger("iconpickerCreate");this.options=a.extend({},b.defaultOptions,this.element.data(),f);this.options.templates=a.extend({},b.defaultOptions.templates,this.options.templates);this.options.originalPlacement=this.options.placement;this.container=h.isElement(this.options.container)?a(this.options.container):!1;!1===this.container&&(this.element.is(".dropdown-toggle")?this.container=a("~ .dropdown-menu:first",
this.element):this.container=this.element.is("input,textarea,button,.btn")?this.element.parent():this.element);this.container.addClass("iconpicker-container");this.isDropdownMenu()&&(this.options.templates.search=!1,this.options.templates.buttons=!1,this.options.placement="inline");this.input=this.element.is("input,textarea")?this.element.addClass("iconpicker-input"):!1;!1===this.input&&(this.input=this.container.find(this.options.input),this.input.is("input,textarea")||(this.input=!1));this.component=
this.isDropdownMenu()?this.container.parent().find(this.options.component):this.container.find(this.options.component);0===this.component.length?this.component=!1:this.component.find("i").addClass("iconpicker-component");this._createPopover();this._createIconpicker();0===this.getAcceptButton().length&&(this.options.mustAccept=!1);this.isInputGroup()?this.container.parent().append(this.popover):this.container.append(this.popover);this._bindElementEvents();this._bindWindowEvents();this.update(this.options.selected);
this.isInline()&&this.show();this._trigger("iconpickerCreated")};b._idCounter=0;b.defaultOptions={title:!1,selected:!1,defaultValue:!1,placement:"bottom",collision:"none",animation:!0,hideOnSelect:!1,showFooter:!1,searchInFooter:!1,mustAccept:!1,selectedCustomClass:"bg-primary",icons:[],fullClassFormatter:function(a){return"fa "+a},input:"input,.iconpicker-input",inputSearch:!1,container:!1,component:".input-group-addon,.iconpicker-component",templates:{popover:'<div class="iconpicker-popover popover"><div class="arrow"></div><div class="popover-title"></div><div class="popover-content"></div></div>',
footer:'<div class="popover-footer"></div>',buttons:'<button class="iconpicker-btn iconpicker-btn-cancel btn btn-default btn-sm">Cancel</button> <button class="iconpicker-btn iconpicker-btn-accept btn btn-primary btn-sm">Accept</button>',search:'<input type="search" class="form-control iconpicker-search" placeholder="Type to filter" />',iconpicker:'<div class="iconpicker"><div class="iconpicker-items"></div></div>',iconpickerItem:'<a role="button" href="#" class="iconpicker-item"><i></i></a>'}};b.batch=
function(b,f){var e=Array.prototype.slice.call(arguments,2);return a(b).each(function(){var b=a(this).data("iconpicker");b&&b[f].apply(b,e)})};b.prototype={constructor:b,options:{},_id:0,_trigger:function(b,f){f=f||{};this.element.trigger(a.extend({type:b,iconpickerInstance:this},f))},_createPopover:function(){this.popover=a(this.options.templates.popover);var b=this.popover.find(".popover-title");this.options.title&&b.append(a('<div class="popover-title-text">'+this.options.title+"</div>"));this.hasSeparatedSearchInput()&&
!this.options.searchInFooter?b.append(this.options.templates.search):this.options.title||b.remove();this.options.showFooter&&!h.isEmpty(this.options.templates.footer)&&(b=a(this.options.templates.footer),this.hasSeparatedSearchInput()&&this.options.searchInFooter&&b.append(a(this.options.templates.search)),h.isEmpty(this.options.templates.buttons)||b.append(a(this.options.templates.buttons)),this.popover.append(b));!0===this.options.animation&&this.popover.addClass("fade");return this.popover},_createIconpicker:function(){var b=
this;this.iconpicker=a(this.options.templates.iconpicker);var f=function(e){var f=a(this);f.is("i")&&(f=f.parent());b._trigger("iconpickerSelect",{iconpickerItem:f,iconpickerValue:b.iconpickerValue});!1===b.options.mustAccept?(b.update(f.data("iconpickerValue")),b._trigger("iconpickerSelected",{iconpickerItem:this,iconpickerValue:b.iconpickerValue})):b.update(f.data("iconpickerValue"),!0);b.options.hideOnSelect&&!1===b.options.mustAccept&&b.hide();e.preventDefault();return!1},e;for(e in this.options.icons){var h=
a(this.options.templates.iconpickerItem);h.find("i").addClass(this.options.fullClassFormatter(this.options.icons[e]));h.data("iconpickerValue",this.options.icons[e]).on("click.iconpicker",f);this.iconpicker.find(".iconpicker-items").append(h.attr("title","."+this.options.icons[e]))}this.popover.find(".popover-content").append(this.iconpicker);return this.iconpicker},_isEventInsideIconpicker:function(b){b=a(b.target);return b.hasClass("iconpicker-element")&&(!b.hasClass("iconpicker-element")||b.is(this.element))||
0!==b.parents(".iconpicker-popover").length?!0:!1},_bindElementEvents:function(){var b=this;this.getSearchInput().on("keyup.iconpicker",function(){b.filter(a(this).val().toLowerCase())});this.getAcceptButton().on("click.iconpicker",function(){var a=b.iconpicker.find(".iconpicker-selected").get(0);b.update(b.iconpickerValue);b._trigger("iconpickerSelected",{iconpickerItem:a,iconpickerValue:b.iconpickerValue});b.isInline()||b.hide()});this.getCancelButton().on("click.iconpicker",function(){b.isInline()||
b.hide()});this.element.on("focus.iconpicker",function(a){b.show();a.stopPropagation()});if(this.hasComponent())this.component.on("click.iconpicker",function(){b.toggle()});if(this.hasInput())this.input.on("keyup.iconpicker",function(f){h.inArray(f.keyCode,[38,40,37,39,16,17,18,9,8,91,93,20,46,186,190,46,78,188,44,86])?b._updateFormGroupStatus(!1!==b.getValid(this.value)):b.update();!0===b.options.inputSearch&&b.filter(a(this).val().toLowerCase())})},_bindWindowEvents:function(){var b=a(window.document),
f=this,e=".iconpicker.inst"+this._id;a(window).on("resize.iconpicker"+e+" orientationchange.iconpicker"+e,function(a){f.popover.hasClass("in")&&f.updatePlacement()});if(!f.isInline())b.on("mouseup"+e,function(a){f._isEventInsideIconpicker(a)||f.isInline()||f.hide();a.stopPropagation();a.preventDefault();return!1});return!1},_unbindElementEvents:function(){this.popover.off(".iconpicker");this.element.off(".iconpicker");this.hasInput()&&this.input.off(".iconpicker");this.hasComponent()&&this.component.off(".iconpicker");
this.hasContainer()&&this.container.off(".iconpicker")},_unbindWindowEvents:function(){a(window).off(".iconpicker.inst"+this._id);a(window.document).off(".iconpicker.inst"+this._id)},updatePlacement:function(b,f){b=b||this.options.placement;this.options.placement=b;f=f||this.options.collision;f=!0===f?"flip":f;var e={at:"right bottom",my:"right top",of:this.hasInput()&&!this.isInputGroup()?this.input:this.container,collision:!0===f?"flip":f,within:window};this.popover.removeClass("inline topLeftCorner topLeft top topRight topRightCorner rightTop right rightBottom bottomRight bottomRightCorner bottom bottomLeft bottomLeftCorner leftBottom left leftTop");
if("object"===typeof b)return this.popover.pos(a.extend({},e,b));switch(b){case "inline":e=!1;break;case "topLeftCorner":e.my="right bottom";e.at="left top";break;case "topLeft":e.my="left bottom";e.at="left top";break;case "top":e.my="center bottom";e.at="center top";break;case "topRight":e.my="right bottom";e.at="right top";break;case "topRightCorner":e.my="left bottom";e.at="right top";break;case "rightTop":e.my="left bottom";e.at="right center";break;case "right":e.my="left center";e.at="right center";
break;case "rightBottom":e.my="left top";e.at="right center";break;case "bottomRightCorner":e.my="left top";e.at="right bottom";break;case "bottomRight":e.my="right top";e.at="right bottom";break;case "bottom":e.my="center top";e.at="center bottom";break;case "bottomLeft":e.my="left top";e.at="left bottom";break;case "bottomLeftCorner":e.my="right top";e.at="left bottom";break;case "leftBottom":e.my="right top";e.at="left center";break;case "left":e.my="right center";e.at="left center";break;case "leftTop":e.my=
"right bottom";e.at="left center";break;default:return!1}this.popover.css({display:"inline"===this.options.placement?"":"block"});!1!==e?this.popover.pos(e).css("maxWidth",a(window).width()-this.container.offset().left-5):this.popover.css({top:"auto",right:"auto",bottom:"auto",left:"auto",maxWidth:"none"});this.popover.addClass(this.options.placement);return!0},_updateComponents:function(){this.iconpicker.find(".iconpicker-item.iconpicker-selected").removeClass("iconpicker-selected "+this.options.selectedCustomClass);
this.iconpickerValue&&this.iconpicker.find("."+this.options.fullClassFormatter(this.iconpickerValue).replace(/ /g,".")).parent().addClass("iconpicker-selected "+this.options.selectedCustomClass);if(this.hasComponent()){var a=this.component.find("i");0<a.length?a.attr("class",this.options.fullClassFormatter(this.iconpickerValue)):this.component.html(this.getHtml())}},_updateFormGroupStatus:function(a){return this.hasInput()?(!1!==a?this.input.parents(".form-group:first").removeClass("has-error"):this.input.parents(".form-group:first").addClass("has-error"),
!0):!1},getValid:function(b){h.isString(b)||(b="");var f=""===b;b=a.trim(b);return h.inArray(b,this.options.icons)||f?b:!1},setValue:function(a){var b=this.getValid(a);if(!1!==b)return this.iconpickerValue=b,this._trigger("iconpickerSetValue",{iconpickerValue:b}),this.iconpickerValue;this._trigger("iconpickerInvalid",{iconpickerValue:a});return!1},getHtml:function(){return'<i class="'+this.options.fullClassFormatter(this.iconpickerValue)+'"></i>'},setSourceValue:function(a){a=this.setValue(a);!1!==
a&&""!==a&&(this.hasInput()?this.input.val(this.iconpickerValue):this.element.data("iconpickerValue",this.iconpickerValue),this._trigger("iconpickerSetSourceValue",{iconpickerValue:a}));return a},getSourceValue:function(a){var b=a=a||this.options.defaultValue,b=this.hasInput()?this.input.val():this.element.data("iconpickerValue");if(void 0===b||""===b||null===b||!1===b)b=a;return b},hasInput:function(){return!1!==this.input},isInputSearch:function(){return this.hasInput()&&!0===this.options.inputSearch},
isInputGroup:function(){return this.container.is(".input-group")},isDropdownMenu:function(){return this.container.is(".dropdown-menu")},hasSeparatedSearchInput:function(){return!1!==this.options.templates.search&&!this.isInputSearch()},hasComponent:function(){return!1!==this.component},hasContainer:function(){return!1!==this.container},getAcceptButton:function(){return this.popover.find(".iconpicker-btn-accept")},getCancelButton:function(){return this.popover.find(".iconpicker-btn-cancel")},getSearchInput:function(){return this.popover.find(".iconpicker-search")},
filter:function(b){if(h.isEmpty(b))return this.iconpicker.find(".iconpicker-item").show(),a(!1);var f=[];this.iconpicker.find(".iconpicker-item").each(function(){var e=a(this),h=e.attr("title").toLowerCase(),k=!1;try{k=new RegExp(b,"g")}catch(n){k=!1}!1!==k&&h.match(k)?(f.push(e),e.show()):e.hide()});return f},show:function(){if(this.popover.hasClass("in"))return!1;a.iconpicker.batch(a(".iconpicker-popover.in:not(.inline)").not(this.popover),"hide");this._trigger("iconpickerShow");this.updatePlacement();
this.popover.addClass("in");setTimeout(a.proxy(function(){this.popover.css("display",this.isInline()?"":"block");this._trigger("iconpickerShown")},this),this.options.animation?300:1)},hide:function(){if(!this.popover.hasClass("in"))return!1;this._trigger("iconpickerHide");this.popover.removeClass("in");setTimeout(a.proxy(function(){this.popover.css("display","none");this.getSearchInput().val("");this.filter("");this._trigger("iconpickerHidden")},this),this.options.animation?300:1)},toggle:function(){this.popover.is(":visible")?
this.hide():this.show(!0)},update:function(a,b){a=a?a:this.getSourceValue(this.iconpickerValue);this._trigger("iconpickerUpdate");!0===b?a=this.setValue(a):(a=this.setSourceValue(a),this._updateFormGroupStatus(!1!==a));!1!==a&&this._updateComponents();this._trigger("iconpickerUpdated");return a},destroy:function(){this._trigger("iconpickerDestroy");this.element.removeData("iconpicker").removeData("iconpickerValue").removeClass("iconpicker-element");this._unbindElementEvents();this._unbindWindowEvents();
a(this.popover).remove();this._trigger("iconpickerDestroyed")},disable:function(){return this.hasInput()?(this.input.prop("disabled",!0),!0):!1},enable:function(){return this.hasInput()?(this.input.prop("disabled",!1),!0):!1},isDisabled:function(){return this.hasInput()?!0===this.input.prop("disabled"):!1},isInline:function(){return"inline"===this.options.placement||this.popover.hasClass("inline")}};a.iconpicker=b;a.fn.iconpicker=function(g){return this.each(function(){var f=a(this);f.data("iconpicker")||
f.data("iconpicker",new b(this,"object"===typeof g?g:{}))})};b.defaultOptions.icons="fa-500px fa-adjust fa-adn fa-align-center fa-align-justify fa-align-left fa-align-right fa-amazon fa-ambulance fa-anchor fa-android fa-angellist fa-angle-double-down fa-angle-double-left fa-angle-double-right fa-angle-double-up fa-angle-down fa-angle-left fa-angle-right fa-angle-up fa-apple fa-archive fa-area-chart fa-arrow-circle-down fa-arrow-circle-left fa-arrow-circle-o-down fa-arrow-circle-o-left fa-arrow-circle-o-right fa-arrow-circle-o-up fa-arrow-circle-right fa-arrow-circle-up fa-arrow-down fa-arrow-left fa-arrow-right fa-arrow-up fa-arrows fa-arrows-alt fa-arrows-h fa-arrows-v fa-asterisk fa-at fa-automobile fa-backward fa-balance-scale fa-ban fa-bank fa-bar-chart fa-bar-chart-o fa-barcode fa-bars fa-battery-0 fa-battery-1 fa-battery-2 fa-battery-3 fa-battery-4 fa-battery-empty fa-battery-full fa-battery-half fa-battery-quarter fa-battery-three-quarters fa-bed fa-beer fa-behance fa-behance-square fa-bell fa-bell-o fa-bell-slash fa-bell-slash-o fa-bicycle fa-binoculars fa-birthday-cake fa-bitbucket fa-bitbucket-square fa-bitcoin fa-black-tie fa-bold fa-bolt fa-bomb fa-book fa-bookmark fa-bookmark-o fa-briefcase fa-btc fa-bug fa-building fa-building-o fa-bullhorn fa-bullseye fa-bus fa-buysellads fa-cab fa-calculator fa-calendar fa-calendar-check-o fa-calendar-minus-o fa-calendar-o fa-calendar-plus-o fa-calendar-times-o fa-camera fa-camera-retro fa-car fa-caret-down fa-caret-left fa-caret-right fa-caret-square-o-down fa-caret-square-o-left fa-caret-square-o-right fa-caret-square-o-up fa-caret-up fa-cart-arrow-down fa-cart-plus fa-cc fa-cc-amex fa-cc-diners-club fa-cc-discover fa-cc-jcb fa-cc-mastercard fa-cc-paypal fa-cc-stripe fa-cc-visa fa-certificate fa-chain fa-chain-broken fa-check fa-check-circle fa-check-circle-o fa-check-square fa-check-square-o fa-chevron-circle-down fa-chevron-circle-left fa-chevron-circle-right fa-chevron-circle-up fa-chevron-down fa-chevron-left fa-chevron-right fa-chevron-up fa-child fa-chrome fa-circle fa-circle-o fa-circle-o-notch fa-circle-thin fa-clipboard fa-clock-o fa-clone fa-close fa-cloud fa-cloud-download fa-cloud-upload fa-cny fa-code fa-code-fork fa-codepen fa-coffee fa-cog fa-cogs fa-columns fa-comment fa-comment-o fa-commenting fa-commenting-o fa-comments fa-comments-o fa-compass fa-compress fa-connectdevelop fa-contao fa-copy fa-copyright fa-creative-commons fa-credit-card fa-crop fa-crosshairs fa-css3 fa-cube fa-cubes fa-cut fa-cutlery fa-dashboard fa-dashcube fa-database fa-dedent fa-delicious fa-desktop fa-deviantart fa-diamond fa-digg fa-dollar fa-dot-circle-o fa-download fa-dribbble fa-dropbox fa-drupal fa-edit fa-eject fa-ellipsis-h fa-ellipsis-v fa-empire fa-envelope fa-envelope-o fa-envelope-square fa-eraser fa-eur fa-euro fa-exchange fa-exclamation fa-exclamation-circle fa-exclamation-triangle fa-expand fa-expeditedssl fa-external-link fa-external-link-square fa-eye fa-eye-slash fa-eyedropper fa-facebook fa-facebook-f fa-facebook-official fa-facebook-square fa-fast-backward fa-fast-forward fa-fax fa-feed fa-female fa-fighter-jet fa-file fa-file-archive-o fa-file-audio-o fa-file-code-o fa-file-excel-o fa-file-image-o fa-file-movie-o fa-file-o fa-file-pdf-o fa-file-photo-o fa-file-picture-o fa-file-powerpoint-o fa-file-sound-o fa-file-text fa-file-text-o fa-file-video-o fa-file-word-o fa-file-zip-o fa-files-o fa-film fa-filter fa-fire fa-fire-extinguisher fa-firefox fa-flag fa-flag-checkered fa-flag-o fa-flash fa-flask fa-flickr fa-floppy-o fa-folder fa-folder-o fa-folder-open fa-folder-open-o fa-font fa-fonticons fa-forumbee fa-forward fa-foursquare fa-frown-o fa-futbol-o fa-gamepad fa-gavel fa-gbp fa-ge fa-gear fa-gears fa-genderless fa-get-pocket fa-gg fa-gg-circle fa-gift fa-git fa-git-square fa-github fa-github-alt fa-github-square fa-gittip fa-glass fa-globe fa-google fa-google-plus fa-google-plus-square fa-google-wallet fa-graduation-cap fa-gratipay fa-group fa-h-square fa-hacker-news fa-hand-grab-o fa-hand-lizard-o fa-hand-o-down fa-hand-o-left fa-hand-o-right fa-hand-o-up fa-hand-paper-o fa-hand-peace-o fa-hand-pointer-o fa-hand-scissors-o fa-hand-spock-o fa-hand-stop-o fa-hdd-o fa-header fa-headphones fa-heart fa-heart-o fa-heartbeat fa-history fa-home fa-hospital-o fa-hotel fa-hourglass fa-hourglass-1 fa-hourglass-2 fa-hourglass-3 fa-hourglass-end fa-hourglass-half fa-hourglass-o fa-hourglass-start fa-houzz fa-html5 fa-i-cursor fa-ils fa-image fa-inbox fa-indent fa-industry fa-info fa-info-circle fa-inr fa-instagram fa-institution fa-internet-explorer fa-intersex fa-ioxhost fa-italic fa-joomla fa-jpy fa-jsfiddle fa-key fa-keyboard-o fa-krw fa-language fa-laptop fa-lastfm fa-lastfm-square fa-leaf fa-leanpub fa-legal fa-lemon-o fa-level-down fa-level-up fa-life-bouy fa-life-buoy fa-life-ring fa-life-saver fa-lightbulb-o fa-line-chart fa-link fa-linkedin fa-linkedin-square fa-linux fa-list fa-list-alt fa-list-ol fa-list-ul fa-location-arrow fa-lock fa-long-arrow-down fa-long-arrow-left fa-long-arrow-right fa-long-arrow-up fa-magic fa-magnet fa-mail-forward fa-mail-reply fa-mail-reply-all fa-male fa-map fa-map-marker fa-map-o fa-map-pin fa-map-signs fa-mars-double fa-mars-stroke fa-mars-stroke-h fa-mars-stroke-v fa-maxcdn fa-meanpath fa-medium fa-medkit fa-mercury fa-microphone fa-microphone-slash fa-minus fa-minus-circle fa-minus-square fa-minus-square-o fa-mobile fa-mobile-phone fa-money fa-moon-o fa-mortar-board fa-motorcycle fa-mouse-pointer fa-music fa-navicon fa-neuter fa-newspaper-o fa-object-group fa-object-ungroup fa-odnoklassniki fa-odnoklassniki-square fa-opencart fa-openid fa-opera fa-optin-monster fa-outdent fa-pagelines fa-paint-brush fa-paper-plane fa-paper-plane-o fa-paperclip fa-paragraph fa-paste fa-pause fa-paw fa-paypal fa-pencil fa-pencil-square fa-pencil-square-o fa-phone fa-phone-square fa-photo fa-picture-o fa-pie-chart fa-pied-piper fa-pied-piper-alt fa-pinterest fa-pinterest-p fa-pinterest-square fa-plane fa-play fa-play-circle fa-play-circle-o fa-plug fa-plus fa-plus-circle fa-plus-square fa-plus-square-o fa-power-off fa-print fa-puzzle-piece fa-qq fa-qrcode fa-question fa-question-circle fa-quote-left fa-quote-right fa-ra fa-random fa-rebel fa-recycle fa-reddit fa-reddit-square fa-refresh fa-registered fa-remove fa-renren fa-reorder fa-repeat fa-reply fa-reply-all fa-retweet fa-rmb fa-road fa-rocket fa-rotate-left fa-rotate-right fa-rouble fa-rss fa-rss-square fa-rub fa-ruble fa-rupee fa-safari fa-save fa-scissors fa-search fa-search-minus fa-search-plus fa-sellsy fa-send fa-send-o fa-server fa-share fa-share-alt fa-share-alt-square fa-share-square fa-share-square-o fa-shekel fa-sheqel fa-shield fa-ship fa-shirtsinbulk fa-shopping-cart fa-sign-in fa-sign-out fa-signal fa-simplybuilt fa-sitemap fa-skyatlas fa-skype fa-slack fa-sliders fa-slideshare fa-smile-o fa-soccer-ball-o fa-sort fa-sort-alpha-asc fa-sort-alpha-desc fa-sort-amount-asc fa-sort-amount-desc fa-sort-asc fa-sort-desc fa-sort-down fa-sort-numeric-asc fa-sort-numeric-desc fa-sort-up fa-soundcloud fa-space-shuttle fa-spinner fa-spoon fa-spotify fa-square fa-square-o fa-stack-exchange fa-stack-overflow fa-steam fa-steam-square fa-star fa-star-half fa-star-half-empty fa-star-half-full fa-star-half-o fa-star-o fa-step-backward fa-step-forward fa-stethoscope fa-sticky-note fa-sticky-note-o fa-stop fa-street-view fa-strikethrough fa-stumbleupon fa-stumbleupon-circle fa-subscript fa-subway fa-suitcase fa-sun-o fa-superscript fa-support fa-table fa-tablet fa-tachometer fa-tag fa-tags fa-tasks fa-taxi fa-television fa-tencent-weibo fa-terminal fa-text-height fa-text-width fa-th fa-th-large fa-th-list fa-thumb-tack fa-thumbs-down fa-thumbs-o-down fa-thumbs-o-up fa-thumbs-up fa-ticket fa-times fa-times-circle fa-times-circle-o fa-tint fa-toggle-down fa-toggle-left fa-toggle-off fa-toggle-on fa-toggle-right fa-toggle-up fa-trademark fa-train fa-transgender fa-transgender-alt fa-trash fa-trash-o fa-tree fa-trello fa-tripadvisor fa-trophy fa-truck fa-try fa-tty fa-tumblr fa-tumblr-square fa-turkish-lira fa-tv fa-twitch fa-twitter fa-twitter-square fa-umbrella fa-underline fa-university fa-unlink fa-unlock fa-unlock-alt fa-unsorted fa-upload fa-usd fa-user fa-user-md fa-user-plus fa-user-secret fa-user-times fa-users fa-venus fa-venus-double fa-venus-mars fa-viacoin fa-video-camera fa-vimeo fa-vimeo-square fa-vine fa-vk fa-volume-down fa-volume-off fa-volume-up fa-warning fa-wechat fa-weibo fa-weixin fa-whatsapp fa-wheelchair fa-wifi fa-wikipedia-w fa-windows fa-won fa-wordpress fa-wrench fa-xing fa-xing-square fa-y-combinator fa-y-combinator-square fa-yahoo fa-yc fa-yc-square fa-yelp fa-yen fa-youtube fa-youtube-play fa-youtube-square".split(" ")});/*
 wysihtml v0.5.5
 https://github.com/Voog/wysihtml

 Author: Christopher Blum (https://github.com/tiff)
 Secondary author of extended features: Oliver Pulges (https://github.com/pulges)

 Copyright (C) 2012 XING AG
 Licensed under the MIT license (MIT)

*/
var wysihtml5={version:"0.5.5",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",INVISIBLE_SPACE_REG_EXP:/\uFEFF/g,VOID_ELEMENTS:"area, base, br, col, embed, hr, img, input, keygen, link, meta, param, source, track, wbr",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,TAB_KEY:9,DELETE_KEY:46,polyfills:function(a,h){String.prototype.trim||function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
String.prototype.trim=function(){return this.replace(a,"")}}();(function(){h.addEventListener||(a.Element.prototype.addEventListener=a.addEventListener=h.addEventListener=function(b,e,f){return(f=this).attachEvent("on"+b,function(b){b=b||a.event;b.target=b.target||b.srcElement;b.preventDefault=b.preventDefault||function(){b.returnValue=!1};b.stopPropagation=b.stopPropagation||function(){b.cancelBubble=!0};b.which=b.button?2===b.button?3:4===b.button?2:b.button:b.keyCode;e.call(f,b)})},a.Element.prototype.removeEventListener=
a.removeEventListener=h.removeEventListener=function(a,b){return this.detachEvent("on"+a,b)})})();Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(a.Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(a.Element.prototype,"textContent").get&&function(){var b=Object.getOwnPropertyDescriptor(a.Element.prototype,"innerText");Object.defineProperty(a.Element.prototype,"textContent",{get:function(){return b.get.call(this)},set:function(a){return b.set.call(this,
a)}})}();Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var e=this.length,f=-1,g=b>>>0;~(e-g);f=this[--e]===a?e:f);return f});Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),e=this,f=function(){},g=
function(){return e.apply(this instanceof f&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};f.prototype=this.prototype;g.prototype=new f;return g});(function(a){a.matches=a.matches||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var b=0;a[b]&&a[b]!==this;)++b;return a[b]?!0:!1};a.closest=a.closest||function(a){for(var b=this;b&&!b.matches(a);)b=b.parentElement;return b}})(Element.prototype);
"document"in a&&("classList"in h.createElement("_")?"DOMTokenList"in a&&function(){var b=h.createElement("_");b.classList.add("c1","c2");if(!b.classList.contains("c2")){var e=function(b){var e=a.DOMTokenList.prototype[b];a.DOMTokenList.prototype[b]=function(a){var b,f=arguments.length;for(b=0;b<f;b++)a=arguments[b],e.call(this,a)}};e("add");e("remove")}b.classList.toggle("c3",!1);if(b.classList.contains("c3")){var f=a.DOMTokenList.prototype.toggle;a.DOMTokenList.prototype.toggle=function(a,b){return 1 in
arguments&&!this.contains(a)===!b?b:f.call(this,a)}}b=null}():function(a){if("Element"in a){a=a.Element.prototype;var b=Object,e=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},f=Array.prototype.indexOf||function(a){for(var b=0,e=this.length;b<e;b++)if(b in this&&this[b]===a)return b;return-1},g=function(a,b){this.name=a;this.code=DOMException[a];this.message=b},h=function(a,b){if(""===b)throw new g("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new g("INVALID_CHARACTER_ERR",
"String contains an invalid character");return f.call(a,b)},q=function(a){for(var b=e.call(a.getAttribute("class")||""),b=b?b.split(/\s+/):[],f=0,g=b.length;f<g;f++)this.push(b[f]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},u=q.prototype=[],w=function(){return new q(this)};g.prototype=Error.prototype;u.item=function(a){return this[a]||null};u.contains=function(a){return-1!==h(this,a+"")};u.add=function(){var a=arguments,b=0,e=a.length,f,g=!1;do f=a[b]+"",-1===h(this,
f)&&(this.push(f),g=!0);while(++b<e);g&&this._updateClassName()};u.remove=function(){var a=arguments,b=0,e=a.length,f,g=!1,k;do for(f=a[b]+"",k=h(this,f);-1!==k;)this.splice(k,1),g=!0,k=h(this,f);while(++b<e);g&&this._updateClassName()};u.toggle=function(a,b){a+="";var e=this.contains(a),f=e?!0!==b&&"remove":!1!==b&&"add";if(f)this[f](a);return!0===b||!1===b?b:!e};u.toString=function(){return this.join(" ")};if(b.defineProperty){u={get:w,enumerable:!0,configurable:!0};try{b.defineProperty(a,"classList",
u)}catch(y){-2146823252===y.number&&(u.enumerable=!1,b.defineProperty(a,"classList",u))}}else b.prototype.__defineGetter__&&a.__defineGetter__("classList",w)}}(a));var b=function(a){var e=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?e.push(a):e=e.concat(b(a));return e},g=function(){Node.prototype.normalize=function(){var a=b(this),e=this.ownerDocument.defaultView.getSelection(),f=e.anchorNode,g=e.anchorOffset,h=f&&1===f.nodeType&&0<f.childNodes.length?f.childNodes[g]:void 0,r=e.focusNode,
q=e.focusOffset,u=r&&1===r.nodeType&&0<q?r.childNodes[q-1]:void 0,w=this.ownerDocument.createRange(),y=a.shift(),x=y?a.shift():null;u&&3===u.nodeType&&(r=u,q=u.nodeValue.length,u=void 0);h&&3===h.nodeType&&(f=h,g=0,h=void 0);if(f===r&&q<g||f!==r&&f.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_PRECEDING&&!(f.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINS))r=[f,f=r][0],q=[g,g=q][0];for(;y&&x;)x.previousSibling&&x.previousSibling===y?(f===x&&(f=y,g=y.nodeValue.length+g),r===x&&(r=y,
q=y.nodeValue.length+q),y.nodeValue+=x.nodeValue,x.parentNode.removeChild(x)):y=x,x=a.shift();u&&(q=Array.prototype.indexOf.call(u.parentNode.childNodes,u)+1);h&&(g=Array.prototype.indexOf.call(h.parentNode.childNodes,h));a:{a=this.ownerDocument;h=this;do{if(h===a){a=!0;break a}h=h.parentNode}while(h);a=!1}a&&f&&f.parentNode&&r&&r.parentNode&&(w.setStart(f,g),w.setEnd(r,q),e.removeAllRanges(),e.addRange(w))}},f=function(){window.removeEventListener("load",f);var a;if(a="Node"in window&&"normalize"in
Node.prototype)if("createRange"in document&&"getSelection"in window){a=document.createElement("div");var b=document.createTextNode("a"),e=document.createTextNode("a"),h=document.createTextNode("a"),p=document.createRange();a.setAttribute("contenteditable","true");a.appendChild(b);a.appendChild(e);a.appendChild(h);document.body.appendChild(a);p.setStart(e,1);p.setEnd(e,1);b=window.getSelection();b.removeAllRanges();b.addRange(p);a.normalize();b=window.getSelection();p=1!==a.childNodes.length||b.anchorNode!==
a.firstChild||2!==b.anchorOffset;a.parentNode.removeChild(a);b.removeAllRanges();a=p}else a=void 0;a&&g()};"complete"!==h.readyState?window.addEventListener("load",f):f();var e=function(){try{var a=new CustomEvent("cat",{detail:{foo:"bar"}});return"cat"===a.type&&"bar"===a.detail.foo}catch(b){}return!1}();(function(){if(!e&&"CustomEvent"in window){var b=function(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var e=h.createEvent("CustomEvent");e.initCustomEvent(a,b.bubbles,b.cancelable,b.detail);
return e};b.prototype=a.Event.prototype;a.CustomEvent=b;e=!0}})()}};wysihtml5.polyfills(window,document);
(function(a,h){"function"==typeof define&&define.amd?define(a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a():h.rangy=a()})(function(){function a(a,b){var e=typeof a[b];return"function"==e||!("object"!=e||!a[b])||"unknown"==e}function h(a,b){return!("object"!=typeof a[b]||!a[b])}function b(a,b){return"undefined"!=typeof a[b]}function g(a){return function(b,e){for(var f=e.length;f--;)if(!a(b,e[f]))return!1;return!0}}function f(a){return a&&D(a,B)&&A(a,z)}function e(a){return h(a,
"body")?a.body:a.getElementsByTagName("body")[0]}function l(b){"undefined"!=typeof console&&a(console,"log")&&console.log(b)}function k(a){E.initialized=!0;E.supported=!1;a="Rangy is not supported in this environment. Reason: "+a;G&&E.config.alertOnFail?alert(a):l(a)}function n(){if(G&&!E.initialized){var b,g=!1,h=!1;a(document,"createRange")&&(b=document.createRange(),D(b,x)&&A(b,y)&&(g=!0));if((b=e(document))&&"body"==b.nodeName.toLowerCase())if(b&&a(b,"createTextRange")&&(b=b.createTextRange(),
f(b)&&(h=!0)),g||h){E.initialized=!0;E.features={implementsDomRange:g,implementsTextRange:h};var m,n;for(n in F)(m=F[n])instanceof q&&m.init(m,E);h=0;for(m=M.length;h<m;++h)try{M[h](E)}catch(t){g="Rangy init listener threw an exception. Continuing. Detail: "+(t.message||t.description||String(t)),l(g)}}else k("Neither Range nor TextRange are available");else k("No body element found")}}function m(a,b,e){e&&(a+=" in module "+e.name);E.warn("DEPRECATED: "+a+" is deprecated. Please use "+b+" instead.")}
function p(a,b,e,f){a[b]=function(){m(b,e,f);return a[e].apply(a,K.toArray(arguments))}}function r(a){a=a||window;n();for(var b=0,e=L.length;b<e;++b)L[b](a)}function q(a,b,e){this.name=a;this.dependencies=b;this.supported=this.initialized=!1;this.initializer=e}function u(a,b,e){b=new q(a,b,function(b){if(!b.initialized){b.initialized=!0;try{e(E,b),b.supported=!0}catch(f){l("Module '"+a+"' failed to load: "+(f.message||f.description||String(f))),f.stack&&l(f.stack)}}});return F[a]=b}function w(){}
var y="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" "),x="setStart setStartBefore setStartAfter setEnd setEndBefore setEndAfter collapse selectNode selectNodeContents compareBoundaryPoints deleteContents extractContents cloneContents insertNode surroundContents cloneRange toString detach".split(" "),z="boundingHeight boundingLeft boundingTop boundingWidth htmlText text".split(" "),B="collapse compareEndPoints duplicate moveToElementText parentElement select setEndPoint getBoundingClientRect".split(" "),
D=g(a),t=g(h),A=g(b),F={},G="undefined"!=typeof window&&"undefined"!=typeof document,K={isHostMethod:a,isHostObject:h,isHostProperty:b,areHostMethods:D,areHostObjects:t,areHostProperties:A,isTextRange:f,getBody:e,forEach:[].forEach?function(a,b){a.forEach(b)}:function(a,b){for(var e=0,f=a.length;e<f;++e)b(a[e],e)}},E={version:"1.3.0",initialized:!1,isBrowser:G,supported:!0,util:K,features:{},modules:F,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:"undefined"==typeof rangyAutoInitialize?
!0:rangyAutoInitialize}};E.fail=k;E.warn=function(a){a="Rangy warning: "+a;G&&E.config.alertOnWarn?alert(a):l(a)};var O;({}).hasOwnProperty?(K.extend=O=function(a,b,e){var f,g,h;for(h in b)b.hasOwnProperty(h)&&(f=a[h],g=b[h],e&&null!==f&&"object"==typeof f&&null!==g&&"object"==typeof g&&O(f,g,!0),a[h]=g);b.hasOwnProperty("toString")&&(a.toString=b.toString);return a},K.createOptions=function(a,b){var e={};O(e,b);a&&O(e,a);return e}):k("hasOwnProperty not supported");G||k("Rangy can only run in a browser");
(function(){var a;if(G){var b=document.createElement("div");b.appendChild(document.createElement("span"));var e=[].slice;try{1==e.call(b.childNodes,0)[0].nodeType&&(a=function(a){return e.call(a,0)})}catch(f){}}a||(a=function(a){for(var b=[],e=0,f=a.length;e<f;++e)b[e]=a[e];return b});K.toArray=a})();var J;G&&(a(document,"addEventListener")?J=function(a,b,e){a.addEventListener(b,e,!1)}:a(document,"attachEvent")?J=function(a,b,e){a.attachEvent("on"+b,e)}:k("Document does not have required addEventListener or attachEvent method"),
K.addListener=J);var M=[];K.deprecationNotice=m;K.createAliasForDeprecatedMethod=p;E.init=n;E.addInitListener=function(a){E.initialized?a(E):M.push(a)};var L=[];E.addShimListener=function(a){L.push(a)};G&&(E.shim=E.createMissingNativeApi=r,p(E,"createMissingNativeApi","shim"));q.prototype={init:function(){for(var a=this.dependencies||[],b=0,e=a.length,f,g;b<e;++b){g=a[b];f=F[g];if(!(f&&f instanceof q))throw Error("required module '"+g+"' not found");f.init();if(!f.supported)throw Error("required module '"+
g+"' not supported");}this.initializer(this)},fail:function(a){this.initialized=!0;this.supported=!1;throw Error(a);},warn:function(a){E.warn("Module "+this.name+": "+a)},deprecationNotice:function(a,b){E.warn("DEPRECATED: "+a+" in module "+this.name+" is deprecated. Please use "+b+" instead")},createError:function(a){return Error("Error in Rangy "+this.name+" module: "+a)}};E.createModule=function(a){var b,e;2==arguments.length?(b=arguments[1],e=[]):(b=arguments[2],e=arguments[1]);b=u(a,e,b);E.initialized&&
E.supported&&b.init()};E.createCoreModule=function(a,b,e){u(a,b,e)};E.RangePrototype=w;E.rangePrototype=new w;E.selectionPrototype=new function(){};E.createCoreModule("DomUtil",[],function(a,b){function e(a){for(var b=0;a=a.previousSibling;)++b;return b}function f(a,b){var e=[],g;for(g=a;g;g=g.parentNode)e.push(g);for(g=b;g;g=g.parentNode)if(K(e,g))return g;return null}function g(a,b,e){for(b=e?b:b.parentNode;b;){if(b===a)return!0;b=b.parentNode}return!1}function h(a,b,e){for(e=e?a:a.parentNode;e;){a=
e.parentNode;if(a===b)return e;e=a}return null}function k(a){a=a.nodeType;return 3==a||4==a||8==a}function l(a,b){var e=b.nextSibling,f=b.parentNode;e?f.insertBefore(a,e):f.appendChild(a);return a}function m(a){if(9==a.nodeType)return a;if("undefined"!=typeof a.ownerDocument)return a.ownerDocument;if("undefined"!=typeof a.document)return a.document;if(a.parentNode)return m(a.parentNode);throw b.createError("getDocument: no document found for node");}function n(a){a=m(a);if("undefined"!=typeof a.defaultView)return a.defaultView;
if("undefined"!=typeof a.parentWindow)return a.parentWindow;throw b.createError("Cannot get a window object for node");}function q(a){if("undefined"!=typeof a.contentDocument)return a.contentDocument;if("undefined"!=typeof a.contentWindow)return a.contentWindow.document;throw b.createError("getIframeDocument: No Document object found for iframe element");}function t(a){return a&&F.isHostMethod(a,"setTimeout")&&F.isHostObject(a,"document")}function p(a){return a?k(a)?'"'+a.data+'"':1==a.nodeType?"<"+
a.nodeName+(a.id?' id="'+a.id+'"':"")+">[index:"+e(a)+",length:"+a.childNodes.length+"]["+(a.innerHTML||"[innerHTML not supported]").slice(0,25)+"]":a.nodeName:"[No node]"}function r(a){this._next=this.root=a}function A(a,b){this.node=a;this.offset=b}function G(a){this.code=this[a];this.codeName=a;this.message="DOMException: "+this.codeName}var F=a.util,u=F.getBody;F.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||b.fail("document missing a Node creation method");
F.isHostMethod(document,"getElementsByTagName")||b.fail("document missing getElementsByTagName method");var w=document.createElement("div");F.areHostMethods(w,["insertBefore","appendChild","cloneNode"])||b.fail("Incomplete Element implementation");F.isHostProperty(w,"innerHTML")||b.fail("Element is missing innerHTML property");w=document.createTextNode("test");F.areHostMethods(w,["splitText","deleteData","insertData","appendData","cloneNode"])||b.fail("Incomplete Text Node implementation");var K=
function(a,b){for(var e=a.length;e--;)if(a[e]===b)return!0;return!1},z=!1;(function(){var b=document.createElement("b");b.innerHTML="1";b.innerHTML="<br />";z=!1;a.features.crashyTextNodes=z})();var D;"undefined"!=typeof window.getComputedStyle?D=function(a,b){return n(a).getComputedStyle(a,null)[b]}:"undefined"!=typeof document.documentElement.currentStyle?D=function(a,b){return a.currentStyle?a.currentStyle[b]:""}:b.fail("No means of obtaining computed style properties found");r.prototype={_current:null,
hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next,b;if(this._current){b=a.firstChild;if(!b)for(b=null;a!==this.root&&!(b=a.nextSibling);)a=a.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=null}};A.prototype={equals:function(a){return!!a&&this.node===a.node&&this.offset==a.offset},inspect:function(){return"[DomPosition("+p(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}};G.prototype=
{INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24};G.prototype.toString=function(){return this.message};a.dom={arrayContains:K,isHtmlNamespace:function(a){var b;return"undefined"==typeof a.namespaceURI||null===(b=a.namespaceURI)||"http://www.w3.org/1999/xhtml"==b},parentElement:function(a){a=a.parentNode;return 1==a.nodeType?a:null},getNodeIndex:e,getNodeLength:function(a){switch(a.nodeType){case 7:case 10:return 0;
case 3:case 8:return a.length;default:return a.childNodes.length}},getCommonAncestor:f,isAncestorOf:g,isOrIsAncestorOf:function(a,b){return g(a,b,!0)},getClosestAncestorIn:h,isCharacterDataNode:k,isTextOrCommentNode:function(a){if(!a)return!1;a=a.nodeType;return 3==a||8==a},insertAfter:l,splitDataNode:function(a,b,f){var g=a.cloneNode(!1);g.deleteData(0,b);a.deleteData(b,a.length-b);l(g,a);if(f)for(var h=0,k;k=f[h++];)k.node==a&&k.offset>b?(k.node=g,k.offset-=b):k.node==a.parentNode&&k.offset>e(a)&&
++k.offset;return g},getDocument:m,getWindow:n,getIframeWindow:function(a){if("undefined"!=typeof a.contentWindow)return a.contentWindow;if("undefined"!=typeof a.contentDocument)return a.contentDocument.defaultView;throw b.createError("getIframeWindow: No Window object found for iframe element");},getIframeDocument:q,getBody:u,isWindow:t,getContentDocument:function(a,b,e){var f;a?F.isHostProperty(a,"nodeType")?f=1==a.nodeType&&"iframe"==a.tagName.toLowerCase()?q(a):m(a):t(a)&&(f=a.document):f=document;
if(!f)throw b.createError(e+"(): Parameter must be a Window object or DOM node");return f},getRootContainer:function(a){for(var b;b=a.parentNode;)a=b;return a},comparePoints:function(a,g,k,l){var m;if(a==k)return g===l?0:g<l?-1:1;if(m=h(k,a,!0))return g<=e(m)?-1:1;if(m=h(a,k,!0))return e(m)<l?-1:1;g=f(a,k);if(!g)throw Error("comparePoints error: nodes have no common ancestor");a=a===g?g:h(a,g,!0);k=k===g?g:h(k,g,!0);if(a===k)throw b.createError("comparePoints got to case 4 and childA and childB are the same!");
for(g=g.firstChild;g;){if(g===a)return-1;if(g===k)return 1;g=g.nextSibling}},isBrokenNode:function(a){return!1},inspectNode:p,getComputedStyleProperty:D,createTestElement:function(a,b,e){var f=u(a);a=a.createElement("div");a.contentEditable=""+!!e;b&&(a.innerHTML=b);(b=f.firstChild)?f.insertBefore(a,b):f.appendChild(a);return a},removeNode:function(a){return a.parentNode.removeChild(a)},fragmentFromNodeChildren:function(a){for(var b=m(a).createDocumentFragment(),e;e=a.firstChild;)b.appendChild(e);
return b},createIterator:function(a){return new r(a)},DomPosition:A};a.DOMException=G});E.createCoreModule("DomRange",["DomUtil"],function(a,b){function e(a,b){return 3!=a.nodeType&&(P(a,b.startContainer)||P(a,b.endContainer))}function f(a){return a.document||ua(a.startContainer)}function g(a){return new ia(a.parentNode,va(a))}function h(a){return new ia(a.parentNode,va(a)+1)}function k(a,b,e){var f=11==a.nodeType?a.firstChild:a;da(b)?e==b.length?U.insertAfter(a,b):b.parentNode.insertBefore(a,0==
e?b:ba(b,e)):e>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[e]);return f}function l(a,b,e){E(a);E(b);if(f(b)!=f(a))throw new ga("WRONG_DOCUMENT_ERR");var g=fa(a.startContainer,a.startOffset,b.endContainer,b.endOffset);a=fa(a.endContainer,a.endOffset,b.startContainer,b.startOffset);return e?0>=g&&0<=a:0>g&&0<a}function m(a){for(var b,e,g=f(a.range).createDocumentFragment();e=a.next();){b=a.isPartiallySelectedSubtree();e=e.cloneNode(!b);b&&(b=a.getSubtreeIterator(),e.appendChild(m(b)),
b.detach());if(10==e.nodeType)throw new ga("HIERARCHY_REQUEST_ERR");g.appendChild(e)}return g}function n(a,b,e){var f,g;for(e=e||{stop:!1};f=a.next();)if(a.isPartiallySelectedSubtree())if(!1===b(f)){e.stop=!0;break}else{if(f=a.getSubtreeIterator(),n(f,b,e),f.detach(),e.stop)break}else for(f=U.createIterator(f);g=f.next();)if(!1===b(g)){e.stop=!0;return}}function q(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),q(b),b.detach()):a.remove()}function t(a){for(var b,e=
f(a.range).createDocumentFragment(),g;b=a.next();){a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),g=a.getSubtreeIterator(),b.appendChild(t(g)),g.detach()):a.remove();if(10==b.nodeType)throw new ga("HIERARCHY_REQUEST_ERR");e.appendChild(b)}return e}function p(a,b,e){var f=!(!b||!b.length),g,h=!!e;f&&(g=new RegExp("^("+b.join("|")+")$"));var k=[];n(new A(a,!1),function(b){if(!f||g.test(b.nodeType))if(!h||e(b)){var l=a.startContainer;b==l&&da(l)&&a.startOffset==l.length||(l=a.endContainer,b==l&&da(l)&&
0==a.endOffset||k.push(b))}});return k}function r(a){return"["+("undefined"==typeof a.getName?"Range":a.getName())+"("+U.inspectNode(a.startContainer)+":"+a.startOffset+", "+U.inspectNode(a.endContainer)+":"+a.endOffset+")]"}function A(a,b){this.range=a;this.clonePartiallySelectedTextNodes=b;if(!a.collapsed){this.sc=a.startContainer;this.so=a.startOffset;this.ec=a.endContainer;this.eo=a.endOffset;var e=a.commonAncestorContainer;this.sc===this.ec&&da(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=
this._last=this._next=this.sc):(this._first=this._next=this.sc!==e||da(this.sc)?pa(this.sc,e,!0):this.sc.childNodes[this.so],this._last=this.ec!==e||da(this.ec)?pa(this.ec,e,!0):this.ec.childNodes[this.eo-1])}}function F(a){return function(b,e){for(var f,g=e?b:b.parentNode;g;){f=g.nodeType;if(Ta(a,f))return g;g=g.parentNode}return null}}function G(a,b){if(yb(a,b))throw new ga("INVALID_NODE_TYPE_ERR");}function u(a,b){if(!Ta(b,a.nodeType))throw new ga("INVALID_NODE_TYPE_ERR");}function w(a,b){if(0>
b||b>(da(a)?a.length:a.childNodes.length))throw new ga("INDEX_SIZE_ERR");}function K(a,b){if(aa(a,!0)!==aa(b,!0))throw new ga("WRONG_DOCUMENT_ERR");}function z(a){if(sb(a,!0))throw new ga("NO_MODIFICATION_ALLOWED_ERR");}function D(a,b){return b<=(da(a)?a.length:a.childNodes.length)}function x(a){return!!a.startContainer&&!!a.endContainer&&!(Pa&&(U.isBrokenNode(a.startContainer)||U.isBrokenNode(a.endContainer)))&&la(a.startContainer)==la(a.endContainer)&&D(a.startContainer,a.startOffset)&&D(a.endContainer,
a.endOffset)}function E(a){if(!x(a))throw Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+a.inspect()+")");}function y(a,b){E(a);var e=a.startContainer,f=a.startOffset,g=a.endContainer,h=a.endOffset,k=e===g;da(g)&&0<h&&h<g.length&&ba(g,h,b);da(e)&&0<f&&f<e.length&&(e=ba(e,f,b),k?(h-=f,g=e):g==e.parentNode&&h>=va(e)&&h++,f=0);a.setStartAndEnd(e,f,g,h)}function B(a){E(a);var b=a.commonAncestorContainer.parentNode.cloneNode(!1);b.appendChild(a.cloneContents());
return b.innerHTML}function ma(a){a.START_TO_START=0;a.START_TO_END=1;a.END_TO_END=2;a.END_TO_START=3;a.NODE_BEFORE=0;a.NODE_AFTER=1;a.NODE_BEFORE_AND_AFTER=2;a.NODE_INSIDE=3}function O(a){ma(a);ma(a.prototype)}function H(a,b){return function(){E(this);var e=this.startContainer,f=this.startOffset,g=this.commonAncestorContainer,k=new A(this,!0);e!==g&&(e=pa(e,g,!0),f=h(e),e=f.node,f=f.offset);n(k,z);k.reset();g=a(k);k.detach();b(this,e,f,e,f);return g}}function J(b,f){function k(a,b){return function(e){u(e,
Qa);u(la(e),Wa);e=(a?g:h)(e);(b?l:m)(this,e.node,e.offset)}}function l(a,b,e){var g=a.endContainer,h=a.endOffset;if(b!==a.startContainer||e!==a.startOffset){if(la(b)!=la(g)||1==fa(b,e,g,h))g=b,h=e;f(a,b,e,g,h)}}function m(a,b,e){var g=a.startContainer,h=a.startOffset;if(b!==a.endContainer||e!==a.endOffset){if(la(b)!=la(g)||-1==fa(b,e,g,h))g=b,h=e;f(a,g,h,b,e)}}var n=function(){};n.prototype=a.rangePrototype;b.prototype=new n;R.extend(b.prototype,{setStart:function(a,b){G(a,!0);w(a,b);l(this,a,b)},
setEnd:function(a,b){G(a,!0);w(a,b);m(this,a,b)},setStartAndEnd:function(){var a=arguments,b=a[0],e=a[1],g=b,h=e;switch(a.length){case 3:h=a[2];break;case 4:g=a[2],h=a[3]}f(this,b,e,g,h)},setBoundary:function(a,b,e){this["set"+(e?"Start":"End")](a,b)},setStartBefore:k(!0,!0),setStartAfter:k(!1,!0),setEndBefore:k(!0,!1),setEndAfter:k(!1,!1),collapse:function(a){E(this);a?f(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):f(this,this.endContainer,this.endOffset,this.endContainer,
this.endOffset)},selectNodeContents:function(a){G(a,!0);f(this,a,0,a,$a(a))},selectNode:function(a){G(a,!1);u(a,Qa);var b=g(a);a=h(a);f(this,b.node,b.offset,a.node,a.offset)},extractContents:H(t,f),deleteContents:H(q,f),canSurroundContents:function(){E(this);z(this.startContainer);z(this.endContainer);var a=new A(this,!0),b=a._first&&e(a._first,this)||a._last&&e(a._last,this);a.detach();return!b},splitBoundaries:function(){y(this)},splitBoundariesPreservingPositions:function(a){y(this,a)},normalizeBoundaries:function(){E(this);
var a=this.startContainer,b=this.startOffset,e=this.endContainer,g=this.endOffset,h=function(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(e=a,g=a.length,a.appendData(b.data),sa(b))},k=function(f){var h=f.previousSibling;if(h&&h.nodeType==f.nodeType){a=f;var k=f.length;b=h.length;f.insertData(0,h.data);sa(h);a==e?(g+=b,e=a):e==f.parentNode&&(h=va(f),g==h?(e=f,g=k):g>h&&g--)}},l=!0;da(e)?g==e.length?h(e):0==g&&(h=e.previousSibling)&&h.nodeType==e.nodeType&&(g=h.length,a==e&&(l=!1),h.appendData(e.data),
sa(e),e=h):(0<g&&(l=e.childNodes[g-1])&&da(l)&&h(l),l=!this.collapsed);l?da(a)?0==b?k(a):b==a.length&&(h=a.nextSibling)&&h.nodeType==a.nodeType&&(e==h&&(e=a,g+=a.length),a.appendData(h.data),sa(h)):b<a.childNodes.length&&(h=a.childNodes[b])&&da(h)&&k(h):(a=e,b=g);f(this,a,b,e,g)},collapseToPoint:function(a,b){G(a,!0);w(a,b);this.setStartAndEnd(a,b)}});O(b)}function M(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset;a.commonAncestorContainer=a.collapsed?a.startContainer:
U.getCommonAncestor(a.startContainer,a.endContainer)}function Ba(a,b,e,f,g){a.startContainer=b;a.startOffset=e;a.endContainer=f;a.endOffset=g;a.document=U.getDocument(b);M(a)}function L(a){this.startContainer=a;this.startOffset=0;this.endContainer=a;this.endOffset=0;this.document=a;M(this)}var U=a.dom,R=a.util,ia=U.DomPosition,ga=a.DOMException,da=U.isCharacterDataNode,va=U.getNodeIndex,P=U.isOrIsAncestorOf,ua=U.getDocument,fa=U.comparePoints,ba=U.splitDataNode,pa=U.getClosestAncestorIn,$a=U.getNodeLength,
Ta=U.arrayContains,la=U.getRootContainer,Pa=a.features.crashyTextNodes,sa=U.removeNode;A.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null;this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;a&&(this._next=a!==this._last?a.nextSibling:null,da(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===
this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so)));return a},remove:function(){var a=this._current,b,e;!da(a)||a!==this.sc&&a!==this.ec?a.parentNode&&sa(a):(b=a===this.sc?this.so:0,e=a===this.ec?this.eo:a.length,b!=e&&a.deleteData(b,e-b))},isPartiallySelectedSubtree:function(){return e(this._current,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse(!1);else{a=new L(f(this.range));var b=this._current,e=b,g=0,h=b,k=$a(b);P(b,this.sc)&&
(e=this.sc,g=this.so);P(b,this.ec)&&(h=this.ec,k=this.eo);Ba(a,e,g,h,k)}return new A(a,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Qa=[1,3,4,5,7,8,10],Wa=[2,9,11],kb=[1,3,4,5,7,8,10,11],Ia=[1,3,4,5,7,8],aa=F([9,11]),sb=F([5,6,10,12]),yb=F([6,10,12]),za=document.createElement("style"),ra=!1;try{za.innerHTML="<b>x</b>",ra=3==za.firstChild.nodeType}catch(zb){}a.features.htmlParsingConforms=
ra;var Ua="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" ");R.extend(a.rangePrototype,{compareBoundaryPoints:function(a,b){E(this);K(this.startContainer,b.startContainer);var e=3==a||0==a?"start":"end",f=1==a||0==a?"start":"end";return fa(this[e+"Container"],this[e+"Offset"],b[f+"Container"],b[f+"Offset"])},insertNode:function(a){E(this);u(a,kb);z(this.startContainer);if(P(a,this.startContainer))throw new ga("HIERARCHY_REQUEST_ERR");a=k(a,this.startContainer,
this.startOffset);this.setStartBefore(a)},cloneContents:function(){E(this);var a,b;if(this.collapsed)return f(this).createDocumentFragment();if(this.startContainer===this.endContainer&&da(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=f(this).createDocumentFragment(),b.appendChild(a),b;b=new A(this,!0);a=m(b);b.detach();return a},canSurroundContents:function(){E(this);z(this.startContainer);z(this.endContainer);var a=new A(this,
!0),b=a._first&&e(a._first,this)||a._last&&e(a._last,this);a.detach();return!b},surroundContents:function(a){u(a,Ia);if(!this.canSurroundContents())throw new ga("INVALID_STATE_ERR");var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);k(a,this.startContainer,this.startOffset);a.appendChild(b);this.selectNode(a)},cloneRange:function(){E(this);for(var a=new L(f(this)),b=Ua.length,e;b--;)e=Ua[b],a[e]=this[e];return a},toString:function(){E(this);var a=this.startContainer;
if(a===this.endContainer&&da(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):"";var b=[],a=new A(this,!0);n(a,function(a){3!=a.nodeType&&4!=a.nodeType||b.push(a.data)});a.detach();return b.join("")},compareNode:function(a){E(this);var b=a.parentNode,e=va(a);if(!b)throw new ga("NOT_FOUND_ERR");a=this.comparePoint(b,e);b=this.comparePoint(b,e+1);return 0>a?0<b?2:0:0<b?1:3},comparePoint:function(a,b){E(this);if(!a)throw new ga("HIERARCHY_REQUEST_ERR");K(a,this.startContainer);
return 0>fa(a,b,this.startContainer,this.startOffset)?-1:0<fa(a,b,this.endContainer,this.endOffset)?1:0},createContextualFragment:ra?function(a){var b=this.startContainer,e=ua(b);if(!b)throw new ga("INVALID_STATE_ERR");var f=null;1==b.nodeType?f=b:da(b)&&(f=U.parentElement(b));f=null===f||"HTML"==f.nodeName&&U.isHtmlNamespace(ua(f).documentElement)&&U.isHtmlNamespace(f)?e.createElement("body"):f.cloneNode(!1);f.innerHTML=a;return U.fragmentFromNodeChildren(f)}:function(a){var b=f(this).createElement("body");
b.innerHTML=a;return U.fragmentFromNodeChildren(b)},toHtml:function(){return B(this)},intersectsNode:function(a,b){E(this);if(la(a)!=la(this.startContainer))return!1;var e=a.parentNode,f=va(a);if(!e)return!0;var g=fa(e,f,this.endContainer,this.endOffset),e=fa(e,f+1,this.startContainer,this.startOffset);return b?0>=g&&0<=e:0>g&&0<e},isPointInRange:function(a,b){E(this);if(!a)throw new ga("HIERARCHY_REQUEST_ERR");K(a,this.startContainer);return 0<=fa(a,b,this.startContainer,this.startOffset)&&0>=fa(a,
b,this.endContainer,this.endOffset)},intersectsRange:function(a){return l(this,a,!1)},intersectsOrTouchesRange:function(a){return l(this,a,!0)},intersection:function(a){if(this.intersectsRange(a)){var b=fa(this.startContainer,this.startOffset,a.startContainer,a.startOffset),e=fa(this.endContainer,this.endOffset,a.endContainer,a.endOffset),f=this.cloneRange();-1==b&&f.setStart(a.startContainer,a.startOffset);1==e&&f.setEnd(a.endContainer,a.endOffset);return f}return null},union:function(a){if(this.intersectsOrTouchesRange(a)){var b=
this.cloneRange();-1==fa(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset);1==fa(a.endContainer,a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset);return b}throw new ga("Ranges do not intersect");},containsNode:function(a,b){return b?this.intersectsNode(a,!1):3==this.compareNode(a)},containsNodeContents:function(a){return 0<=this.comparePoint(a,0)&&0>=this.comparePoint(a,$a(a))},containsRange:function(a){var b=
this.intersection(a);return null!==b&&a.equals(b)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var e=b.getNodes([3]);return 0<e.length?(b.setStart(e[0],0),a=e.pop(),b.setEnd(a,a.length),this.containsRange(b)):this.containsNodeContents(a)},getNodes:function(a,b){E(this);return p(this,a,b)},getDocument:function(){return f(this)},collapseBefore:function(a){this.setEndBefore(a);this.collapse(!1)},collapseAfter:function(a){this.setStartAfter(a);this.collapse(!0)},getBookmark:function(b){var e=
f(this),g=a.createRange(e);b=b||U.getBody(e);g.selectNodeContents(b);var e=this.intersection(g),h=0,k=0;e&&(g.setEnd(e.startContainer,e.startOffset),h=g.toString().length,k=h+e.toString().length);return{start:h,end:k,containerNode:b}},moveToBookmark:function(a){var b=a.containerNode,e=0;this.setStart(b,0);this.collapse(!0);for(var b=[b],f,g=!1,h=!1,k,l;!h&&(f=b.pop());)if(3==f.nodeType)k=e+f.length,!g&&a.start>=e&&a.start<=k&&(this.setStart(f,a.start-e),g=!0),g&&a.end>=e&&a.end<=k&&(this.setEnd(f,
a.end-e),h=!0),e=k;else for(l=f.childNodes,k=l.length;k--;)b.push(l[k])},getName:function(){return"DomRange"},equals:function(a){return L.rangesEqual(this,a)},isValid:function(){return x(this)},inspect:function(){return r(this)},detach:function(){}});J(L,Ba);R.extend(L,{rangeProperties:Ua,RangeIterator:A,copyComparisonConstants:O,createPrototypeRange:J,inspect:r,toHtml:B,getRangeDocument:f,rangesEqual:function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===
b.endContainer&&a.endOffset===b.endOffset}});a.DomRange=L});E.createCoreModule("WrappedRange",["DomRange"],function(a,b){var e,f,g=a.dom,h=a.util,k=g.DomPosition,l=a.DomRange,m=g.getBody,n=g.getContentDocument,q=g.isCharacterDataNode;a.features.implementsDomRange&&function(){function f(a){for(var b=q.length,e;b--;)e=q[b],a[e]=a.nativeRange[e];a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset}var k,q=l.rangeProperties,t;e=function(a){if(!a)throw b.createError("WrappedRange: Range must be specified");
this.nativeRange=a;f(this)};l.createPrototypeRange(e,function(a,b,e,f,g){var h=a.startContainer!==b||a.startOffset!=e,k=a.endContainer!==f||a.endOffset!=g,l=!a.equals(a.nativeRange);if(h||k||l)a.setEnd(f,g),a.setStart(b,e)});k=e.prototype;k.selectNode=function(a){this.nativeRange.selectNode(a);f(this)};k.cloneContents=function(){return this.nativeRange.cloneContents()};k.surroundContents=function(a){this.nativeRange.surroundContents(a);f(this)};k.collapse=function(a){this.nativeRange.collapse(a);
f(this)};k.cloneRange=function(){return new e(this.nativeRange.cloneRange())};k.refresh=function(){f(this)};k.toString=function(){return this.nativeRange.toString()};var p=document.createTextNode("test");m(document).appendChild(p);var r=document.createRange();r.setStart(p,0);r.setEnd(p,0);try{r.setStart(p,1),k.setStart=function(a,b){this.nativeRange.setStart(a,b);f(this)},k.setEnd=function(a,b){this.nativeRange.setEnd(a,b);f(this)},t=function(a){return function(b){this.nativeRange[a](b);f(this)}}}catch(A){k.setStart=
function(a,b){try{this.nativeRange.setStart(a,b)}catch(e){this.nativeRange.setEnd(a,b),this.nativeRange.setStart(a,b)}f(this)},k.setEnd=function(a,b){try{this.nativeRange.setEnd(a,b)}catch(e){this.nativeRange.setStart(a,b),this.nativeRange.setEnd(a,b)}f(this)},t=function(a,b){return function(e){try{this.nativeRange[a](e)}catch(g){this.nativeRange[b](e),this.nativeRange[a](e)}f(this)}}}k.setStartBefore=t("setStartBefore","setEndBefore");k.setStartAfter=t("setStartAfter","setEndAfter");k.setEndBefore=
t("setEndBefore","setStartBefore");k.setEndAfter=t("setEndAfter","setStartAfter");k.selectNodeContents=function(a){this.setStartAndEnd(a,0,g.getNodeLength(a))};r.selectNodeContents(p);r.setEnd(p,3);t=document.createRange();t.selectNodeContents(p);t.setEnd(p,4);t.setStart(p,2);-1==r.compareBoundaryPoints(r.START_TO_END,t)&&1==r.compareBoundaryPoints(r.END_TO_START,t)?k.compareBoundaryPoints=function(a,b){b=b.nativeRange||b;a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END);return this.nativeRange.compareBoundaryPoints(a,
b)}:k.compareBoundaryPoints=function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)};t=document.createElement("div");t.innerHTML="123";var F=t.firstChild,G=m(document);G.appendChild(t);r.setStart(F,1);r.setEnd(F,2);r.deleteContents();"13"==F.data&&(k.deleteContents=function(){this.nativeRange.deleteContents();f(this)},k.extractContents=function(){var a=this.nativeRange.extractContents();f(this);return a});G.removeChild(t);G=null;h.isHostMethod(r,"createContextualFragment")&&
(k.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)});m(document).removeChild(p);k.getName=function(){return"WrappedRange"};a.WrappedRange=e;a.createNativeRange=function(a){a=n(a,b,"createNativeRange");return a.createRange()}}();if(a.features.implementsTextRange){var t=function(a,b,e,f,h){var l=a.duplicate();l.collapse(e);var m=l.parentElement();g.isOrIsAncestorOf(b,m)||(m=b);if(!m.canHaveHTML)return m=new k(m.parentNode,g.getNodeIndex(m)),{boundaryPosition:m,
nodeInfo:{nodeIndex:m.offset,containerElement:m.node}};b=g.getDocument(m).createElement("span");b.parentNode&&g.removeNode(b);var n,t=e?"StartToStart":"StartToEnd",p=h&&h.containerElement==m?h.nodeIndex:0,r=m.childNodes.length,A=r;for(h=A;;){h==r?m.appendChild(b):m.insertBefore(b,m.childNodes[h]);l.moveToElementText(b);n=l.compareEndPoints(t,a);if(0==n||p==A)break;else if(-1==n)if(A==p+1)break;else p=h;else A=A==p+1?p:h;h=Math.floor((p+A)/2);m.removeChild(b)}t=b.nextSibling;if(-1==n&&t&&q(t)){l.setEndPoint(e?
"EndToStart":"EndToEnd",a);if(/[\r\n]/.test(t.data))for(e=l.duplicate(),f=e.text.replace(/\r\n/g,"\r").length,f=e.moveStart("character",f);-1==e.compareEndPoints("StartToEnd",e);)f++,e.moveStart("character",1);else f=l.text.length;e=new k(t,f)}else a=(f||!e)&&b.previousSibling,e=(e=(f||e)&&b.nextSibling)&&q(e)?new k(e,0):a&&q(a)?new k(a,a.data.length):new k(m,g.getNodeIndex(b));g.removeNode(b);return{boundaryPosition:e,nodeInfo:{nodeIndex:h,containerElement:m}}},p=function(a,b){var e,f,h=a.offset,
k=g.getDocument(a.node),l=m(k).createTextRange(),n=q(a.node);n?(e=a.node,f=e.parentNode):(e=a.node.childNodes,e=h<e.length?e[h]:null,f=a.node);k=k.createElement("span");k.innerHTML="&#feff;";e?f.insertBefore(k,e):f.appendChild(k);l.moveToElementText(k);l.collapse(!b);f.removeChild(k);if(n)l[b?"moveStart":"moveEnd"]("character",h);return l};f=function(a){this.textRange=a;this.refresh()};f.prototype=new l(document);f.prototype.refresh=function(){var a,b,e;e=this.textRange;a=e.parentElement();var f=
e.duplicate();f.collapse(!0);b=f.parentElement();f=e.duplicate();f.collapse(!1);e=f.parentElement();b=b==e?b:g.getCommonAncestor(b,e);b=b==a?b:g.getCommonAncestor(a,b);a=this.textRange;0==a.compareEndPoints("StartToEnd",a)?b=a=t(this.textRange,b,!0,!0).boundaryPosition:(e=t(this.textRange,b,!0,!1),a=e.boundaryPosition,b=t(this.textRange,b,!1,!1,e.nodeInfo).boundaryPosition);this.setStart(a.node,a.offset);this.setEnd(b.node,b.offset)};f.prototype.getName=function(){return"WrappedTextRange"};l.copyComparisonConstants(f);
var r=function(a){if(a.collapsed)return p(new k(a.startContainer,a.startOffset),!0);var b=p(new k(a.startContainer,a.startOffset),!0),e=p(new k(a.endContainer,a.endOffset),!1);a=m(l.getRangeDocument(a)).createTextRange();a.setEndPoint("StartToStart",b);a.setEndPoint("EndToEnd",e);return a};f.rangeToTextRange=r;f.prototype.toTextRange=function(){return r(this)};a.WrappedTextRange=f;if(!a.features.implementsDomRange||a.config.preferTextRange){var A=Function("return this;")();"undefined"==typeof A.Range&&
(A.Range=f);a.createNativeRange=function(a){a=n(a,b,"createNativeRange");return m(a).createTextRange()};a.WrappedRange=f}}a.createRange=function(e){e=n(e,b,"createRange");return new a.WrappedRange(a.createNativeRange(e))};a.createRangyRange=function(a){a=n(a,b,"createRangyRange");return new l(a)};h.createAliasForDeprecatedMethod(a,"createIframeRange","createRange");h.createAliasForDeprecatedMethod(a,"createIframeRangyRange","createRangyRange");a.addShimListener(function(b){var e=b.document;"undefined"==
typeof e.createRange&&(e.createRange=function(){return a.createRange(e)});e=b=null})});E.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(a,b){function e(a){return"string"==typeof a?/^backward(s)?$/i.test(a):!!a}function f(a,e){if(a){if(x.isWindow(a))return a;if(a instanceof F)return a.win;var g=x.getContentDocument(a,b,e);return x.getWindow(g)}return window}function g(a){return f(a,"getWinSelection").getSelection()}function h(a){return f(a,"getDocSelection").document.selection}
function k(a){var b=!1;a.anchorNode&&(b=1==x.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset));return b}function l(a,b,e){var f=e?"end":"start";e=e?"start":"end";a.anchorNode=b[f+"Container"];a.anchorOffset=b[f+"Offset"];a.focusNode=b[e+"Container"];a.focusOffset=b[e+"Offset"]}function m(a){a.anchorNode=a.focusNode=null;a.anchorOffset=a.focusOffset=0;a.rangeCount=0;a.isCollapsed=!0;a._ranges.length=0}function n(b){var e;b instanceof B?(e=a.createNativeRange(b.getDocument()),e.setEnd(b.endContainer,
b.endOffset),e.setStart(b.startContainer,b.startOffset)):b instanceof ma?e=b.nativeRange:Ba.implementsDomRange&&b instanceof x.getWindow(b.startContainer).Range&&(e=b);return e}function q(a){var e=a.getNodes(),f;a:if(e.length&&1==e[0].nodeType){f=1;for(var g=e.length;f<g;++f)if(!x.isAncestorOf(e[0],e[f])){f=!1;break a}f=!0}else f=!1;if(!f)throw b.createError("getSingleElementFromRange: range "+a.inspect()+" did not consist of a single element");return e[0]}function t(a){return!!a&&"undefined"!=typeof a.text}
function p(a,b){var e=new ma(b);a._ranges=[e];l(a,e,!1);a.rangeCount=1;a.isCollapsed=e.collapsed}function r(b){b._ranges.length=0;if("None"==b.docSelection.type)m(b);else{var e=b.docSelection.createRange();if(t(e))p(b,e);else{b.rangeCount=e.length;for(var f,g=L(e.item(0)),h=0;h<b.rangeCount;++h)f=a.createRange(g),f.selectNode(e.item(h)),b._ranges.push(f);b.isCollapsed=1==b.rangeCount&&b._ranges[0].collapsed;l(b,b._ranges[b.rangeCount-1],!1)}}}function A(a,e){for(var f=a.docSelection.createRange(),
g=q(e),h=L(f.item(0)),h=U(h).createControlRange(),k=0,l=f.length;k<l;++k)h.add(f.item(k));try{h.add(g)}catch(m){throw b.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)");}h.select();r(a)}function F(a,b,e){this.nativeSelection=a;this.docSelection=b;this._ranges=[];this.win=e;this.refresh()}function G(a){a.win=a.anchorNode=a.focusNode=a._ranges=null;a.rangeCount=a.anchorOffset=a.focusOffset=0;a.detached=!0}function u(a,b){for(var e=
sa.length,f,g;e--;)if(f=sa[e],g=f.selection,"deleteAll"==b)G(g);else if(f.win==a)return"delete"==b?(sa.splice(e,1),!0):g;"deleteAll"==b&&(sa.length=0);return null}function w(a,e){for(var f=L(e[0].startContainer),f=U(f).createControlRange(),g=0,h,k=e.length;g<k;++g){h=q(e[g]);try{f.add(h)}catch(l){throw b.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)");}}f.select();r(a)}function K(a,b){if(a.win.document!=L(b))throw new O("WRONG_DOCUMENT_ERR");
}function z(b){return function(e,f){var g;this.rangeCount?(g=this.getRangeAt(0),g["set"+(b?"Start":"End")](e,f)):(g=a.createRange(this.win.document),g.setStartAndEnd(e,f));this.setSingleRange(g,this.isBackward())}}function D(a){var b=[],e=new H(a.anchorNode,a.anchorOffset),f=new H(a.focusNode,a.focusOffset),g="function"==typeof a.getName?a.getName():"Selection";if("undefined"!=typeof a.rangeCount)for(var h=0,k=a.rangeCount;h<k;++h)b[h]=B.inspect(a.getRangeAt(h));return"["+g+"(Ranges: "+b.join(", ")+
")(anchor: "+e.inspect()+", focus: "+f.inspect()+"]"}a.config.checkSelectionRanges=!0;var x=a.dom,E=a.util,y=E.isHostMethod,B=a.DomRange,ma=a.WrappedRange,O=a.DOMException,H=x.DomPosition,J,M,Ba=a.features,L=x.getDocument,U=x.getBody,R=B.rangesEqual,ia=y(window,"getSelection"),ga=E.isHostObject(document,"selection");Ba.implementsWinGetSelection=ia;var da=(Ba.implementsDocSelection=ga)&&(!ia||a.config.preferTextRange);if(da)J=h,a.isSelectionValid=function(a){a=f(a,"isSelectionValid").document;var b=
a.selection;return"None"!=b.type||L(b.createRange().parentElement())==a};else if(ia)J=g,a.isSelectionValid=function(){return!0};else return b.fail("Neither document.selection or window.getSelection() detected."),!1;a.getNativeSelection=J;ia=J();if(!ia)return b.fail("Native selection was null (possibly issue 138?)"),!1;var va=a.createNativeRange(document),P=U(document),ua=E.areHostProperties(ia,["anchorNode","focusNode","anchorOffset","focusOffset"]);Ba.selectionHasAnchorAndFocus=ua;var fa=y(ia,"extend");
Ba.selectionHasExtend=fa;var ba="number"==typeof ia.rangeCount;Ba.selectionHasRangeCount=ba;var pa=!1,$a=!0,Ta=fa?function(b,e){var f=B.getRangeDocument(e),f=a.createRange(f);f.collapseToPoint(e.endContainer,e.endOffset);b.addRange(n(f));b.extend(e.startContainer,e.startOffset)}:null;E.areHostMethods(ia,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof ia.rangeCount&&Ba.implementsDomRange&&function(){var b=window.getSelection();if(b){for(var e=b.rangeCount,f=1<e,g=[],h=k(b),l=0;l<e;++l)g[l]=
b.getRangeAt(l);var l=x.createTestElement(document,"",!1),m=l.appendChild(document.createTextNode("\u00a0\u00a0\u00a0")),n=document.createRange();n.setStart(m,1);n.collapse(!0);b.removeAllRanges();b.addRange(n);$a=1==b.rangeCount;b.removeAllRanges();f||((f=window.navigator.appVersion.match(/Chrome\/(.*?) /))&&36<=parseInt(f[1])?pa=!1:(f=n.cloneRange(),n.setStart(m,0),f.setEnd(m,3),f.setStart(m,2),b.addRange(n),b.addRange(f),pa=2==b.rangeCount));x.removeNode(l);b.removeAllRanges();for(l=0;l<e;++l)0==
l&&h?Ta?Ta(b,g[l]):(a.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),b.addRange(g[l])):b.addRange(g[l])}}();Ba.selectionSupportsMultipleRanges=pa;Ba.collapsedNonEditableSelectionsSupported=$a;var la=!1;P&&y(P,"createControlRange")&&(P=P.createControlRange(),E.areHostProperties(P,["item","add"])&&(la=!0));Ba.implementsControlRange=la;M=ua?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===
a.focusOffset}:function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:!1};var Pa;y(ia,"getRangeAt")?Pa=function(a,b){try{return a.getRangeAt(b)}catch(e){return null}}:ua&&(Pa=function(b){var e=L(b.anchorNode),e=a.createRange(e);e.setStartAndEnd(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset);e.collapsed!==this.isCollapsed&&e.setStartAndEnd(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset);return e});F.prototype=a.selectionPrototype;var sa=[],Qa=function(a){if(a&&a instanceof
F)return a.refresh(),a;a=f(a,"getNativeSelection");var b=u(a),e=J(a),g=ga?h(a):null;b?(b.nativeSelection=e,b.docSelection=g,b.refresh()):(b=new F(e,g,a),sa.push({win:a,selection:b}));return b};a.getSelection=Qa;E.createAliasForDeprecatedMethod(a,"getIframeSelection","getSelection");P=F.prototype;if(!da&&ua&&E.areHostMethods(ia,["removeAllRanges","addRange"]))P.removeAllRanges=function(){this.nativeSelection.removeAllRanges();m(this)},P.addRange=ba?function(b,f){if(la&&ga&&"Control"==this.docSelection.type)A(this,
b);else if(e(f)&&fa)Ta(this.nativeSelection,b),this.refresh();else{var g;pa?g=this.rangeCount:(this.removeAllRanges(),g=0);var h=n(b).cloneRange();try{this.nativeSelection.addRange(h)}catch(k){}this.rangeCount=this.nativeSelection.rangeCount;this.rangeCount==g+1?(a.config.checkSelectionRanges&&(g=Pa(this.nativeSelection,this.rangeCount-1))&&!R(g,b)&&(b=new ma(g)),this._ranges[this.rangeCount-1]=b,l(this,b,Ia(this.nativeSelection)),this.isCollapsed=M(this)):this.refresh()}}:function(a,b){e(b)&&fa?
Ta(this.nativeSelection,a):this.nativeSelection.addRange(n(a));this.refresh()},P.setRanges=function(a){if(la&&ga&&1<a.length)w(this,a);else{this.removeAllRanges();for(var b=0,e=a.length;b<e;++b)this.addRange(a[b])}};else if(y(ia,"empty")&&y(va,"select")&&la&&da)P.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var a;if(this.anchorNode)a=L(this.anchorNode);else if("Control"==this.docSelection.type){var b=this.docSelection.createRange();b.length&&(a=L(b.item(0)))}a&&
(U(a).createTextRange().select(),this.docSelection.empty())}}catch(e){}m(this)},P.addRange=function(b){"Control"==this.docSelection.type?A(this,b):(a.WrappedTextRange.rangeToTextRange(b).select(),this._ranges[0]=b,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,l(this,b,!1))},P.setRanges=function(a){this.removeAllRanges();var b=a.length;1<b?w(this,a):b&&this.addRange(a[0])};else return b.fail("No means of selecting a Range or TextRange was found"),!1;P.getRangeAt=function(a){if(0>a||
a>=this.rangeCount)throw new O("INDEX_SIZE_ERR");return this._ranges[a].cloneRange()};var Wa;if(da)Wa=function(b){var e;a.isSelectionValid(b.win)?e=b.docSelection.createRange():(e=U(b.win.document).createTextRange(),e.collapse(!0));"Control"==b.docSelection.type?r(b):t(e)?p(b,e):m(b)};else if(y(ia,"getRangeAt")&&"number"==typeof ia.rangeCount)Wa=function(b){if(la&&ga&&"Control"==b.docSelection.type)r(b);else if(b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount,b.rangeCount){for(var e=0,f=
b.rangeCount;e<f;++e)b._ranges[e]=new a.WrappedRange(b.nativeSelection.getRangeAt(e));l(b,b._ranges[b.rangeCount-1],Ia(b.nativeSelection));b.isCollapsed=M(b)}else m(b)};else if(ua&&"boolean"==typeof ia.isCollapsed&&"boolean"==typeof va.collapsed&&Ba.implementsDomRange)Wa=function(a){var b;b=a.nativeSelection;b.anchorNode?(b=Pa(b,0),a._ranges=[b],a.rangeCount=1,b=a.nativeSelection,a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset,a.isCollapsed=
M(a)):m(a)};else return b.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;P.refresh=function(a){var b=a?this._ranges.slice(0):null,e=this.anchorNode,f=this.anchorOffset;Wa(this);if(a){a=b.length;if(a!=this._ranges.length||this.anchorNode!=e||this.anchorOffset!=f)return!0;for(;a--;)if(!R(b[a],this._ranges[a]))return!0;return!1}};var kb=function(a,b){var e=a.getAllRanges();a.removeAllRanges();for(var f=0,g=e.length;f<g;++f)R(b,e[f])||a.addRange(e[f]);a.rangeCount||
m(a)};P.removeRange=la&&ga?function(a){if("Control"==this.docSelection.type){var b=this.docSelection.createRange();a=q(a);for(var e=L(b.item(0)),e=U(e).createControlRange(),f,g=!1,h=0,k=b.length;h<k;++h)f=b.item(h),f!==a||g?e.add(b.item(h)):g=!0;e.select();r(this)}else kb(this,a)}:function(a){kb(this,a)};var Ia;!da&&ua&&Ba.implementsDomRange?(Ia=k,P.isBackward=function(){return Ia(this)}):Ia=P.isBackward=function(){return!1};P.isBackwards=P.isBackward;P.toString=function(){for(var a=[],b=0,e=this.rangeCount;b<
e;++b)a[b]=""+this._ranges[b];return a.join("")};P.collapse=function(b,e){K(this,b);var f=a.createRange(b);f.collapseToPoint(b,e);this.setSingleRange(f);this.isCollapsed=!0};P.collapseToStart=function(){if(this.rangeCount){var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)}else throw new O("INVALID_STATE_ERR");};P.collapseToEnd=function(){if(this.rangeCount){var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)}else throw new O("INVALID_STATE_ERR");};P.selectAllChildren=
function(b){K(this,b);var e=a.createRange(b);e.selectNodeContents(b);this.setSingleRange(e)};P.deleteFromDocument=function(){if(la&&ga&&"Control"==this.docSelection.type){for(var a=this.docSelection.createRange(),b;a.length;)b=a.item(0),a.remove(b),x.removeNode(b);this.refresh()}else if(this.rangeCount&&(a=this.getAllRanges(),a.length)){this.removeAllRanges();b=0;for(var e=a.length;b<e;++b)a[b].deleteContents();this.addRange(a[e-1])}};P.eachRange=function(a,b){for(var e=0,f=this._ranges.length;e<
f;++e)if(a(this.getRangeAt(e)))return b};P.getAllRanges=function(){var a=[];this.eachRange(function(b){a.push(b)});return a};P.setSingleRange=function(a,b){this.removeAllRanges();this.addRange(a,b)};P.callMethodOnEachRange=function(a,b){var e=[];this.eachRange(function(f){e.push(f[a].apply(f,b||[]))});return e};P.setStart=z(!0);P.setEnd=z(!1);a.rangePrototype.select=function(a){Qa(this.getDocument()).setSingleRange(this,a)};P.changeEachRange=function(a){var b=[],e=this.isBackward();this.eachRange(function(e){a(e);
b.push(e)});this.removeAllRanges();e&&1==b.length?this.addRange(b[0],"backward"):this.setRanges(b)};P.containsNode=function(a,b){return this.eachRange(function(e){return e.containsNode(a,b)},!0)||!1};P.getBookmark=function(a){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[a])}};P.moveToBookmark=function(b){for(var e=[],f=0,g,h;g=b.rangeBookmarks[f++];)h=a.createRange(this.win),h.moveToBookmark(g),e.push(h);b.backward?this.setSingleRange(e[0],"backward"):
this.setRanges(e)};P.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}};P.restoreRanges=function(a){this.removeAllRanges();for(var b=0,e;e=a.ranges[b];++b)this.addRange(e,a.backward&&0==b)};P.toHtml=function(){var a=[];this.eachRange(function(b){a.push(B.toHtml(b))});return a.join("")};Ba.implementsTextRange&&(P.getNativeTextRange=function(){var e;if(e=this.docSelection){e=e.createRange();if(t(e))return e;throw b.createError("getNativeTextRange: selection is a control selection");
}if(0<this.rangeCount)return a.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw b.createError("getNativeTextRange: selection contains no range");});P.getName=function(){return"WrappedSelection"};P.inspect=function(){return D(this)};P.detach=function(){u(this.win,"delete");G(this)};F.detachAll=function(){u(null,"deleteAll")};F.inspect=D;F.isDirectionBackward=e;a.Selection=F;a.selectionPrototype=P;a.addShimListener(function(a){"undefined"==typeof a.getSelection&&(a.getSelection=function(){return Qa(a)});
a=null})});var R=!1,t=function(a){R||(R=!0,!E.initialized&&E.config.autoInitialize&&n())};G&&("complete"==document.readyState?t():(a(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",t,!1),J(window,"load",t)));return E},this);
(function(a,h){"function"==typeof define&&define.amd?define(["./rangy-core"],a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a(require("rangy")):a(h.rangy)})(function(a){a.createModule("TextRange",["WrappedSelection"],function(a,b){function g(a,b){for(var e=a.slice(b.start,b.end),f={isWord:b.isWord,chars:e,toString:function(){return e.join("")}},g=0,h=e.length;g<h;++g)e[g].token=f;return f}function f(a,b,e){b=e(a,b);e=[];for(var f=0,h;h=b[f++];)e.push(g(a,h));return e}function e(a){a=
a||"";a="string"==typeof a?a.split(""):a;a.sort(function(a,b){return a.charCodeAt(0)-b.charCodeAt(0)});return a.join("").replace(/(.)\1+/g,"$1")}function l(a,b){var e=X(a,b);if(b.hasOwnProperty("wordOptions")){var f;f=e.wordOptions;var g,h;f?(g=f.language||"en",h={},Q(h,ka[g]||ka.en),Q(h,f),f=h):f=ka.en;e.wordOptions=f}b.hasOwnProperty("characterOptions")&&(e.characterOptions=X(e.characterOptions,na));return e}function k(a,b){var e=xa(a,"display",b),f=a.tagName.toLowerCase();return"block"==e&&cb&&
Sa.hasOwnProperty(f)?Sa[f]:e}function n(a){for(var b=a,e=[];b.parentNode;)e.unshift(b.parentNode),b=b.parentNode;a=e.concat([a]);b=0;for(e=a.length;b<e;++b)if(1==a[b].nodeType&&"none"==k(a[b]))return!0;return!1}function m(a,b){if(!b&&a.hasChildNodes())return a.firstChild;var e;for(e=a;e&&!e.nextSibling;)e=e.parentNode;e=e?e.nextSibling:null;return e}function p(a){var b=a.previousSibling;if(b){for(a=b;a.hasChildNodes();)a=a.lastChild;return a}return(a=a.parentNode)&&1==a.nodeType?a:null}function r(a){if(!a||
3!=a.nodeType)return!1;var b=a.data;if(""===b)return!0;var e=a.parentNode;if(!e||1!=e.nodeType)return!1;a=xa(a.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(b)&&/^(normal|nowrap)$/.test(a)||/^[\t\r ]+$/.test(b)&&"pre-line"==a}function q(a){return""===a.data?!0:r(a)?!a.parentNode||n(a)?!0:!1:!1}function u(a){var b=a.nodeType;if(!(b=7==b||8==b||n(a)||/^(script|style)$/i.test(a.nodeName)))var e,b=3==a.nodeType&&(e=a.parentNode)&&"hidden"==xa(e,"visibility");return b||q(a)}function w(a,b){var e=
a.nodeType;return 7==e||8==e||1==e&&"none"==k(a,b)}function y(){this.store={}}function x(a,b,e){return function(f){var g=this.cache;if(g.hasOwnProperty(a))return xb++,g[a];ib++;f=b.call(this,e?this[e]:this,f);return g[a]=f}}function z(a,b){this.node=a;this.session=b;this.cache=new y;this.positions=new y}function B(a,b){this.offset=b;this.nodeWrapper=a;this.node=a.node;this.session=a.session;this.cache=new y}function D(){t();return v=new fb}function t(){v&&v.detach();v=null}function A(a,e,f,g){function h(){var a=
null;e?(a=k,l||(k=k.previousVisible(),l=!k||f&&k.equals(f))):l||(a=k=k.nextVisible(),l=!k||f&&k.equals(f));l&&(k=null);return a}f&&(e?u(f.node)&&(f=a.previousVisible()):u(f.node)&&(f=f.nextVisible()));var k=a,l=!1,m,n=!1;return{next:function(){if(n)return n=!1,m;for(var a,b;a=h();)if(b=a.getCharacter(g))return m=a;return null},rewind:function(){if(m)n=!0;else throw b.createError("createCharacterIterator: cannot rewind. Only one position can be rewound.");},dispose:function(){a=f=null}}}function F(a,
b,e){function g(a){for(var b,e=[],f=a?h:k,l=!1,m=!1;a=f.next();){b=a.character;if(Z.test(b))m&&(m=!1,l=!0);else if(l){f.rewind();break}else m=!0;e.push(a)}return e}var h=A(a,!1,null,b),k=A(a,!0,null,b),l=e.tokenizer;a=g(!0);b=g(!1).reverse();var m=f(b.concat(a),e,l),n=a.length?m.slice(La(m,a[0].token)):[],q=b.length?m.slice(0,La(m,b.pop().token)+1):[];return{nextEndToken:function(){for(var a,b;1==n.length&&!(a=n[0]).isWord&&0<(b=g(!0)).length;)n=f(a.chars.concat(b),e,l);return n.shift()},previousStartToken:function(){for(var a,
b;1==q.length&&!(a=q[0]).isWord&&0<(b=g(!1)).length;)q=f(b.reverse().concat(a.chars),e,l);return q.pop()},dispose:function(){h.dispose();k.dispose();n=q=null}}}function G(a,b,e,f){var g=a.getRangeBoundaryPosition(b,!0);a=a.getRangeBoundaryPosition(b,!1);return A(f?a:g,!!f,f?g:a,e)}function K(b,e,f,g,k){function l(b,e){var f=n[b].previousVisible(),g=n[e-1],m;if(!(m=!k.wholeWordsOnly)){m=k.wordOptions;var q=a.createRange(f.node);q.setStartAndEnd(f.node,f.offset,g.node,g.offset);m=!q.expand("word",{wordOptions:m})}return{startPos:f,
endPos:g,valid:m}}var m=V(k.direction);b=A(b,m,b.session.getRangeBoundaryPosition(g,m),k.characterOptions);g="";for(var n=[],q,t,p,r,F,G=null;q=b.next();)if(t=q.character,f||k.caseSensitive||(t=t.toLowerCase()),m?(n.unshift(q),g=t+g):(n.push(q),g+=t),f){if(q=e.exec(g))if(p=q.index,r=p+q[0].length,F){if(!m&&r<g.length||m&&0<p){G=l(p,r);break}}else F=!0}else if(-1!=(p=g.indexOf(e))){G=l(p,p+e.length);break}F&&(G=l(p,r));b.dispose();return G}function E(a){return function(){var b=!!v,e=[v||D()].concat(R.toArray(arguments)),
e=a.apply(this,e);b||t();return e}}function O(a,b){return E(function(e,f,g,h){var k;"undefined"==typeof g&&(g=f,f="character");h=l(h,ja);var m=a;b&&(m=0<=g,this.collapse(!m));e=e.getRangeBoundaryPosition(this,m);var n=g;g=h.characterOptions;var q=h.wordOptions;h=0;var t=e,p=Math.abs(n);if(0!==n){n=0>n;switch(f){case "character":for(q=A(e,n,null,g);(k=q.next())&&h<p;)++h,t=k;q.dispose();break;case "word":for(var q=F(e,g,q),r=n?q.previousStartToken:q.nextEndToken;(q=r())&&h<p;)q.isWord&&(++h,t=n?q.chars[0]:
q.chars[q.chars.length-1]);break;default:throw Error("movePositionBy: unit '"+f+"' not implemented");}n?(t=t.previousVisible(),h=-h):t&&t.isLeadingSpace&&!t.isTrailingSpace&&("word"==f&&(q=A(e,!1,null,g),k=q.next(),q.dispose()),k&&(t=k.previousVisible()))}e=t;k=h;this[m?"setStart":"setEnd"](e.node,e.offset);return k})}function J(a){return E(function(b,e){e=X(e,na);for(var f,g=G(b,this,e,!a),h=0;(f=g.next())&&Z.test(f.character);)++h;g.dispose();if(f=0<h)this[a?"moveStart":"moveEnd"]("character",a?
h:-h,{characterOptions:e});return f})}function M(a){return E(function(b,e){var f=!1;this.changeEachRange(function(b){f=b[a](e)||f});return f})}var L=a.dom,R=a.util,Q=R.extend,X=R.createOptions,T=L.getBody,ea=/^[ \t\f\r\n]+$/,N=/^[ \t\f\r]+$/,Z=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/,ha=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/,V=a.Selection.isDirectionBackward,ta=!1,Y=!1;(function(){var b=L.createTestElement(document,"<p>1 </p><p></p>",!0),
e=b.firstChild,f=a.getSelection();f.collapse(e.lastChild,2);f.setStart(e.firstChild,0);b.innerHTML="1 <br />";f.collapse(b,2);f.setStart(b.firstChild,0);ta=1==(""+f).length;b.innerHTML="1 <p>1</p>";f.collapse(b,2);f.setStart(b.firstChild,0);Y=1==(""+f).length;L.removeNode(b);f.removeAllRanges()})();var na={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:""},Aa={includeBlockContentTrailingSpace:!1,includeSpaceBeforeBr:!ta,
includeSpaceBeforeBlock:!Y,includePreLineTrailingSpace:!0},ka={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:function(a,b){function e(a,b,f){h.push({start:a,end:b,isWord:f})}for(var f=a.join(""),g,h=[],k=0,l;g=b.wordRegex.exec(f);){l=g.index;g=l+g[0].length;l>k&&e(k,l,!1);if(b.includeTrailingSpace)for(;ha.test(a[g]);)++g;e(l,g,!0);k=g}k<a.length&&e(k,a.length,!1);return h}}},bb={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:"forward",wordOptions:null,
characterOptions:null},ja={wordOptions:null,characterOptions:null},Ra={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},Fa={wordOptions:null,characterOptions:null,direction:"forward"},xa=L.getComputedStyleProperty,cb;(function(){var a=document.createElement("table"),b=T(document);b.appendChild(a);cb="block"==xa(a,"display");b.removeChild(a)})();var Sa={table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",
tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell"};y.prototype={get:function(a){return this.store.hasOwnProperty(a)?this.store[a]:null},set:function(a,b){return this.store[a]=b}};var xb=0,ib=0,ca={getPosition:function(a){var b=this.positions;return b.get(a)||b.set(a,new B(this,a))},toString:function(){return"[NodeWrapper("+L.inspectNode(this.node)+")]"}};z.prototype=ca;Q(ca,{isCharacterDataNode:x("isCharacterDataNode",L.isCharacterDataNode,"node"),getNodeIndex:x("nodeIndex",
L.getNodeIndex,"node"),getLength:x("nodeLength",L.getNodeLength,"node"),containsPositions:x("containsPositions",function(a){return L.isCharacterDataNode(a)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(a.nodeName)},"node"),isWhitespace:x("isWhitespace",r,"node"),isCollapsedWhitespace:x("isCollapsedWhitespace",q,"node"),getComputedDisplay:x("computedDisplay",k,"node"),isCollapsed:x("collapsed",u,"node"),isIgnored:x("ignored",w,"node"),next:x("nextPos",m,"node"),
previous:x("previous",p,"node"),getTextNodeInfo:x("textNodeInfo",function(a){var b=null,e=!1,f=xa(a.parentNode,"whiteSpace"),g="pre-line"==f;if(g)b=N,e=!0;else if("normal"==f||"nowrap"==f)b=ea,e=!0;return{node:a,text:a.data,spaceRegex:b,collapseSpaces:e,preLine:g}},"node"),hasInnerText:x("hasInnerText",function(a,b){for(var e=this.session,f=e.getPosition(a.parentNode,this.getNodeIndex()+1),g=e.getPosition(a,0),e=b?f:g,f=b?g:f;e!==f;){e.prepopulateChar();if(e.isDefinitelyNonEmpty())return!0;e=b?e.previousVisible():
e.nextVisible()}return!1},"node"),isRenderedBlock:x("isRenderedBlock",function(a){a=a.getElementsByTagName("br");for(var b=0,e=a.length;b<e;++b)if(!u(a[b]))return!0;return this.hasInnerText()},"node"),getTrailingSpace:x("trailingSpace",function(a){if("br"!=a.tagName.toLowerCase())switch(this.getComputedDisplay()){case "inline":for(a=a.lastChild;a;){if(!w(a))return 1==a.nodeType?this.session.getNodeWrapper(a).getTrailingSpace():"";a=a.previousSibling}break;case "inline-block":case "inline-table":case "none":case "table-column":case "table-column-group":break;
case "table-cell":return"\t";default:return this.isRenderedBlock(!0)?"\n":""}return""},"node"),getLeadingSpace:x("leadingSpace",function(a){switch(this.getComputedDisplay()){case "inline":case "inline-block":case "inline-table":case "none":case "table-column":case "table-column-group":case "table-cell":break;default:return this.isRenderedBlock(!1)?"\n":""}return""},"node")});ca={character:"",characterType:"EMPTY",isBr:!1,prepopulateChar:function(){if(!this.prepopulatedChar){var a=this.node,b=this.offset,
e="",f="EMPTY",g=!1;if(0<b)if(3==a.nodeType){var a=a.data,h=a.charAt(b-1),k=this.nodeWrapper.getTextNodeInfo(),l=k.spaceRegex;k.collapseSpaces?l.test(h)?1<b&&l.test(a.charAt(b-2))||(k.preLine&&"\n"===a.charAt(b)?(e=" ",f="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"):(e=" ",f="COLLAPSIBLE_SPACE")):(e=h,f="NON_SPACE",g=!0):(e=h,f="UNCOLLAPSIBLE_SPACE",g=!0)}else(h=a.childNodes[b-1])&&1==h.nodeType&&!u(h)&&("br"==h.tagName.toLowerCase()?(e="\n",this.isBr=!0,f="COLLAPSIBLE_SPACE",g=!1):this.checkForTrailingSpace=
!0),e||(b=a.childNodes[b])&&1==b.nodeType&&!u(b)&&(this.checkForLeadingSpace=!0);this.prepopulatedChar=!0;this.character=e;this.characterType=f;this.isCharInvariant=g}},isDefinitelyNonEmpty:function(){var a=this.characterType;return"NON_SPACE"==a||"UNCOLLAPSIBLE_SPACE"==a},resolveLeadingAndTrailingSpaces:function(){this.prepopulatedChar||this.prepopulateChar();if(this.checkForTrailingSpace){var a=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();a&&(this.isTrailingSpace=
!0,this.character=a,this.characterType="COLLAPSIBLE_SPACE");this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){if(a=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace())this.isLeadingSpace=!0,this.character=a,this.characterType="COLLAPSIBLE_SPACE";this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(a){for(var b=this,e;b=b.previousVisible();)if(e=b.getCharacter(a),""!==e)return b;return null},getCharacter:function(a){function b(){n||(m=q.getPrecedingUncollapsedPosition(a),
n=!0);return m}this.resolveLeadingAndTrailingSpaces();var f=this.character,g=e(a.ignoreCharacters),h=""!==f&&-1<g.indexOf(f);if(this.isCharInvariant)return h?"":f;var h=["character",a.includeSpaceBeforeBr,a.includeBlockContentTrailingSpace,a.includePreLineTrailingSpace,g].join("_"),k=this.cache.get(h);if(null!==k)return k;var k="",l,m,n=!1,q=this;if("COLLAPSIBLE_SPACE"==this.characterType)if("INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"==this.type)k="\n";else if(" "!=f||b()&&!m.isTrailingSpace&&"\n"!=m.character&&
(" "!=m.character||"COLLAPSIBLE_SPACE"!=m.characterType))if("\n"==f&&this.isLeadingSpace)b()&&"\n"!=m.character&&(k="\n");else if(l=this.nextUncollapsed())if(l.isBr?this.type="TRAILING_SPACE_BEFORE_BR":l.isTrailingSpace&&"\n"==l.character?this.type="TRAILING_SPACE_IN_BLOCK":l.isLeadingSpace&&"\n"==l.character&&(this.type="TRAILING_SPACE_BEFORE_BLOCK"),"\n"==l.character){if("TRAILING_SPACE_BEFORE_BR"!=this.type||a.includeSpaceBeforeBr)if("TRAILING_SPACE_BEFORE_BLOCK"!=this.type||a.includeSpaceBeforeBlock)if("TRAILING_SPACE_IN_BLOCK"!=
this.type||!l.isTrailingSpace||a.includeBlockContentTrailingSpace)if("PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"!=this.type||"NON_SPACE"!=l.type||a.includePreLineTrailingSpace)"\n"==f?l.isTrailingSpace?!this.isTrailingSpace&&this.isBr&&(l.type="TRAILING_LINE_BREAK_AFTER_BR",b()&&m.isLeadingSpace&&!m.isTrailingSpace&&"\n"==m.character?l.character="":l.type="INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"):k="\n":" "==f&&(k=" ")}else k=f;-1<g.indexOf(k)&&(k="");this.cache.set(h,k);return k},equals:function(a){return!!a&&
this.node===a.node&&this.offset===a.offset},inspect:function(){return"[Position("+L.inspectNode(this.node)+":"+this.offset+")]"},toString:function(){return this.character}};B.prototype=ca;Q(ca,{next:x("nextPos",function(a){var b=a.nodeWrapper,e=a.node,f=a.offset;a=b.session;if(!e)return null;f==b.getLength()?b=(e=e.parentNode)?b.getNodeIndex()+1:0:b.isCharacterDataNode()?b=f+1:(b=e.childNodes[f],a.getNodeWrapper(b).containsPositions()?(e=b,b=0):b=f+1);return e?a.getPosition(e,b):null}),previous:x("previous",
function(a){var b=a.nodeWrapper,e=a.node,f=a.offset;a=b.session;0==f?b=(e=e.parentNode)?b.getNodeIndex():0:b.isCharacterDataNode()?b=f-1:(b=e.childNodes[f-1],a.getNodeWrapper(b).containsPositions()?(e=b,b=L.getNodeLength(b)):b=f-1);return e?a.getPosition(e,b):null}),nextVisible:x("nextVisible",function(a){var b=a.next();if(!b)return null;a=b.nodeWrapper;var e=b.node;a.isCollapsed()&&(b=a.session.getPosition(e.parentNode,a.getNodeIndex()+1));return b}),nextUncollapsed:x("nextUncollapsed",function(a){for(;a=
a.nextVisible();)if(a.resolveLeadingAndTrailingSpaces(),""!==a.character)return a;return null}),previousVisible:x("previousVisible",function(a){var b=a.previous();if(!b)return null;a=b.nodeWrapper;var e=b.node;a.isCollapsed()&&(b=a.session.getPosition(e.parentNode,a.getNodeIndex()));return b})});var v=null,fb=function(){function a(b){var e=new y;return{get:function(a){var f=e.get(a[b]);if(f)for(var g=0,h;h=f[g++];)if(h.node===a)return h;return null},set:function(a){var f=a.node[b];(e.get(f)||e.set(f,
[])).push(a)}}}function b(){this.initCaches()}var e=R.isHostProperty(document.documentElement,"uniqueID");b.prototype={initCaches:function(){this.elementCache=e?function(){var a=new y;return{get:function(b){return a.get(b.uniqueID)},set:function(b){a.set(b.node.uniqueID,b)}}}():a("tagName");this.textNodeCache=a("data");this.otherNodeCache=a("nodeName")},getNodeWrapper:function(a){var b;switch(a.nodeType){case 1:b=this.elementCache;break;case 3:b=this.textNodeCache;break;default:b=this.otherNodeCache}var e=
b.get(a);e||(e=new z(a,this),b.set(e));return e},getPosition:function(a,b){return this.getNodeWrapper(a).getPosition(b)},getRangeBoundaryPosition:function(a,b){var e=b?"start":"end";return this.getPosition(a[e+"Container"],a[e+"Offset"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}};return b}();Q(L,{nextNode:m,previousNode:p});var La=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var e=0,f=a.length;e<f;++e)if(a[e]===b)return e;return-1};
Q(a.rangePrototype,{moveStart:O(!0,!1),moveEnd:O(!1,!1),move:O(!0,!0),trimStart:J(!0),trimEnd:J(!1),trim:E(function(a,b){var e=this.trimStart(b),f=this.trimEnd(b);return e||f}),expand:E(function(a,b,e){var f=!1;e=l(e,Ra);var g=e.characterOptions;b||(b="character");if("word"==b){var h=e.wordOptions;b=a.getRangeBoundaryPosition(this,!0);a=a.getRangeBoundaryPosition(this,!1);var k=F(b,g,h).nextEndToken(),m=k.chars[0].previousVisible(),h=this.collapsed?k:F(a,g,h).previousStartToken(),h=h.chars[h.chars.length-
1];m.equals(b)||(this.setStart(m.node,m.offset),f=!0);h&&!h.equals(a)&&(this.setEnd(h.node,h.offset),f=!0);e.trim&&(e.trimStart&&(f=this.trimStart(g)||f),e.trimEnd&&(f=this.trimEnd(g)||f));return f}return this.moveEnd("character",1,e)}),text:E(function(a,b){var e;if(this.collapsed)e="";else{var f=X(b,na);e=[];for(var f=G(a,this,f),g;g=f.next();)e.push(g);f.dispose();e=e.join("")}return e}),selectCharacters:E(function(a,b,e,f,g){a={characterOptions:g};b||(b=T(this.getDocument()));this.selectNodeContents(b);
this.collapse(!0);this.moveStart("character",e,a);this.collapse(!0);this.moveEnd("character",f-e,a)}),toCharacterRange:E(function(a,b,e){b||(b=T(this.getDocument()));a=b.parentNode;b=L.getNodeIndex(b);var f=-1==L.comparePoints(this.startContainer,this.endContainer,a,b),g=this.cloneRange();f?(g.setStartAndEnd(this.startContainer,this.startOffset,a,b),a=-g.text(e).length):(g.setStartAndEnd(a,b,this.startContainer,this.startOffset),a=g.text(e).length);e=a+this.text(e).length;return{start:a,end:e}}),
findText:E(function(b,e,f){f=l(f,bb);f.wholeWordsOnly&&(f.wordOptions.includeTrailingSpace=!1);var g=V(f.direction),k=f.withinRange;k||(k=a.createRange(),k.selectNodeContents(this.getDocument()));var m=!1;"string"==typeof e?f.caseSensitive||(e=e.toLowerCase()):m=!0;var n=b.getRangeBoundaryPosition(this,!g),q=k.comparePoint(n.node,n.offset);-1===q?n=b.getRangeBoundaryPosition(k,!0):1===q&&(n=b.getRangeBoundaryPosition(k,!1));for(var t=n,q=!1;;)if(t=K(t,e,m,k,f)){if(t.valid)return this.setStartAndEnd(t.startPos.node,
t.startPos.offset,t.endPos.node,t.endPos.offset),!0;t=g?t.startPos:t.endPos}else if(f.wrap&&!q)k=k.cloneRange(),t=b.getRangeBoundaryPosition(k,!g),k.setBoundary(n.node,n.offset,g),q=!0;else return!1}),pasteHtml:function(a){this.deleteContents();if(a){a=this.createContextualFragment(a);var b=a.lastChild;this.insertNode(a);this.collapseAfter(b)}}});Q(a.selectionPrototype,{expand:E(function(a,b,e){this.changeEachRange(function(a){a.expand(b,e)})}),move:E(function(a,b,e,f){a=0;if(this.focusNode){this.collapse(this.focusNode,
this.focusOffset);var g=this.getRangeAt(0);f||(f={});f.characterOptions=X(f.characterOptions,Aa);a=g.move(b,e,f);this.setSingleRange(g)}return a}),trimStart:M("trimStart"),trimEnd:M("trimEnd"),trim:M("trim"),selectCharacters:E(function(b,e,f,g,k,l){b=a.createRange(e);b.selectCharacters(e,f,g,l);this.setSingleRange(b,k)}),saveCharacterRanges:E(function(a,b,e){a=this.getAllRanges();for(var f=[],g=1==a.length&&this.isBackward(),h=0,k=a.length;h<k;++h)f[h]={characterRange:a[h].toCharacterRange(b,e),backward:g,
characterOptions:e};return f}),restoreCharacterRanges:E(function(b,e,f){this.removeAllRanges();b=0;for(var g=f.length,k,l,m;b<g;++b)l=f[b],m=l.characterRange,k=a.createRange(e),k.selectCharacters(e,m.start,m.end,l.characterOptions),this.addRange(k,l.backward)}),text:E(function(a,b){for(var e=[],f=0,g=this.rangeCount;f<g;++f)e[f]=this.getRangeAt(f).text(b);return e.join("")})});a.innerText=function(b,e){var f=a.createRange(b);f.selectNodeContents(b);return f.text(e)};a.createWordIterator=function(a,
b,e){var f=v||D();e=l(e,Fa);a=f.getPosition(a,b);var g=F(a,e.characterOptions,e.wordOptions),h=V(e.direction);return{next:function(){return h?g.previousStartToken():g.nextEndToken()},dispose:function(){g.dispose();this.next=function(){}}}};a.noMutation=function(a){var b=v||D();a(b);t()};a.noMutation.createEntryPointFunction=E;a.textRange={isBlockNode:function(a){return a&&(1==a.nodeType&&!/^(inline(-block|-table)?|none)$/.test(k(a))||9==a.nodeType||11==a.nodeType)},isCollapsedWhitespaceNode:q,createPosition:E(function(a,
b,e){return a.getPosition(b,e)})}});return a},this);
(function(a,h){"function"==typeof define&&define.amd?define(["./rangy-core"],a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a(require("rangy")):a(h.rangy)})(function(a){a.createModule("SaveRestore",["WrappedRange"],function(a,b){function g(a,b){var e="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),f,g=r.getDocument(a.startContainer),h=a.cloneRange();h.collapse(b);f=g.createElement("span");f.id=e;f.style.lineHeight="0";f.style.display="none";f.className="rangySelectionBoundary";
f.appendChild(g.createTextNode("\ufeff"));h.insertNode(f);return f}function f(a,e,f,g){(a=(a||document).getElementById(f))?(e[g?"setStartBefore":"setEndBefore"](a),q(a)):b.warn("Marker element has been removed. Cannot restore selection.")}function e(a,b){return b.compareBoundaryPoints(a.START_TO_START,a)}function l(b,e){var f,k,l=a.DomRange.getRangeDocument(b),m=b.toString(),n=u(e);if(b.collapsed)return k=g(b,!1),{document:l,markerId:k.id,collapsed:!0};k=g(b,!1);f=g(b,!0);return{document:l,startMarkerId:f.id,
endMarkerId:k.id,collapsed:!1,backward:n,toString:function(){return"original text: '"+m+"', new text: '"+b.toString()+"'"}}}function k(e,g){var k=e.document;"undefined"==typeof g&&(g=!0);var l=a.createRange(k);if(e.collapsed)if(k=(k||document).getElementById(e.markerId)){k.style.display="inline";var m=k.previousSibling;m&&3==m.nodeType?(q(k),l.collapseToPoint(m,m.length)):(l.collapseBefore(k),q(k))}else b.warn("Marker element has been removed. Cannot restore selection.");else f(k,l,e.startMarkerId,
!0),f(k,l,e.endMarkerId,!1);g&&l.normalizeBoundaries();return l}function n(b,f){var g=[],k,m;k=u(f);b=b.slice(0);b.sort(e);var n=0;for(m=b.length;n<m;++n)g[n]=l(b[n],k);for(n=m-1;0<=n;--n)k=b[n],m=a.DomRange.getRangeDocument(k),k.collapsed?k.collapseAfter((m||document).getElementById(g[n].markerId)):(k.setEndBefore((m||document).getElementById(g[n].endMarkerId)),k.setStartAfter((m||document).getElementById(g[n].startMarkerId)));return g}function m(a){for(var b=[],e=a.length-1;0<=e;e--)b[e]=k(a[e],
!0);return b}function p(a,b){var e=(a||document).getElementById(b);e&&q(e)}var r=a.dom,q=r.removeNode,u=a.Selection.isDirectionBackward;a.util.extend(a,{saveRange:l,restoreRange:k,saveRanges:n,restoreRanges:m,saveSelection:function(e){if(!a.isSelectionValid(e))return b.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var f=a.getSelection(e),g=f.getAllRanges(),k=1==g.length&&f.isBackward(),l=n(g,k);k?f.setSingleRange(g[0],
k):f.setRanges(g);return{win:e,rangeInfos:l,restored:!1}},restoreSelection:function(b,e){if(!b.restored){var f=b.rangeInfos,g=a.getSelection(b.win),k=m(f);1==f.length&&e&&a.features.selectionHasExtend&&f[0].backward?(g.removeAllRanges(),g.addRange(k[0],!0)):g.setRanges(k);b.restored=!0}},removeMarkerElement:p,removeMarkers:function(a){for(var b=a.rangeInfos,e=0,f=b.length,g;e<f;++e)g=b[e],g.collapsed?p(a.doc,g.markerId):(p(a.doc,g.startMarkerId),p(a.doc,g.endMarkerId))}})});return a},this);
var Base=function(){};
Base.extend=function(a,h){var b=Base.prototype.extend;Base._prototyping=!0;var g=new this;b.call(g,a);g.base=function(){};delete Base._prototyping;var f=g.constructor,e=g.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==e)this._constructing=!0,f.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||b).call(arguments[0],g)};e.ancestor=this;e.extend=this.extend;e.forEach=this.forEach;e.implement=this.implement;e.prototype=
g;e.toString=this.toString;e.valueOf=function(a){return"object"==a?e:f.valueOf()};b.call(e,h);"function"==typeof e.init&&e.init();return e};
Base.prototype={extend:function(a,h){if(1<arguments.length){var b=this[a];if(b&&"function"==typeof h&&(!b.valueOf||b.valueOf()!=h.valueOf())&&/\bbase\b/.test(h)){var g=h.valueOf();h=function(){var a=this.base||Base.prototype.base;this.base=b;var e=g.apply(this,arguments);this.base=a;return e};h.valueOf=function(a){return"object"==a?h:g};h.toString=Base.toString}this[a]=h}else if(a){var f=Base.prototype.extend;Base._prototyping||"function"==typeof this||(f=this.extend||f);for(var e={toSource:null},
l=["constructor","toString","valueOf"],k=Base._prototyping?0:1;n=l[k++];)a[n]!=e[n]&&f.call(this,n,a[n]);for(var n in a)e[n]||f.call(this,n,a[n])}return this}};
Base=Base.extend({constructor:function(a){this.extend(a)}},{ancestor:Object,version:"1.1",forEach:function(a,h,b){for(var g in a)void 0===this.prototype[g]&&h.call(b,a[g],g,a)},implement:function(){for(var a=0;a<arguments.length;a++)if("function"==typeof arguments[a])arguments[a](this.prototype);else this.prototype.extend(arguments[a]);return this},toString:function(){return String(this.valueOf())}});
wysihtml5.browser=function(){function a(a,b){var e=-1,f;"Microsoft Internet Explorer"==navigator.appName?f=/MSIE ([0-9]{1,}[.0-9]{0,})/:"Netscape"==navigator.appName&&(-1<navigator.userAgent.indexOf("Trident")?f=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/:/Edge\/(\d+)./i.test(navigator.userAgent)&&(f=/Edge\/(\d+)./i));f&&null!=f.exec(navigator.userAgent)&&(e=parseFloat(RegExp.$1));if(-1===e)return!1;if(!a)return!0;if(!b)return a===e;if("<"===b)return a<e;if(">"===b)return a>e;if("<="===b)return a<=e;if(">="===
b)return a>=e}var h=navigator.userAgent,b=document.createElement("div"),g=-1!==h.indexOf("Gecko")&&-1===h.indexOf("KHTML")&&!a(),f=-1!==h.indexOf("AppleWebKit/")&&!a(),e=-1!==h.indexOf("Chrome/")&&!a(),l=-1!==h.indexOf("Opera/")&&!a();return{USER_AGENT:h,supported:function(){var a=this.USER_AGENT.toLowerCase(),e="contentEditable"in b,f=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,g=document.querySelector&&document.querySelectorAll,h;if(h=this.isIos())h=5>+(/ipad|iphone|ipod/.test(a)&&
a.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1];a=h||this.isAndroid()&&4>+(a.match(/android (\d+)/)||[void 0,0])[1]||-1!==a.indexOf("opera mobi")||-1!==a.indexOf("hpwos/");return e&&f&&g&&!a},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function(){return a()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in
document)},displaysCaretInEmptyContentEditableCorrectly:function(){return a(12,">")},hasCurrentStyleProperty:function(){return"currentStyle"in b},insertsLineBreaksOnReturn:function(){return g},supportsPlaceholderAttributeOn:function(a){return"placeholder"in a},supportsEvent:function(a){var e;(e="on"+a in b)||(b.setAttribute("on"+a,"return;"),e="function"===typeof b["on"+a]);return e},supportsEventsInIframeCorrectly:function(){return!l},supportsHTML5Tags:function(a){a=a.createElement("div");a.innerHTML=
"<article>foo</article>";return"<article>foo</article>"===a.innerHTML.toLowerCase()},supportsCommand:function(){var b={formatBlock:a(10,"<="),insertUnorderedList:a(),insertOrderedList:a()},e={insertHTML:g};return function(a,f){if(!b[f]){try{return a.queryCommandSupported(f)}catch(g){}try{return a.queryCommandEnabled(f)}catch(h){return!!e[f]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return a()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},
clearsContentEditableCorrectly:function(){return g||l||f},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return g||a()||l},autoScrollsToCaret:function(){return!f},autoClosesUnclosedTags:function(){var a=b.cloneNode(!1),e;a.innerHTML="<p><div></div>";a=a.innerHTML.toLowerCase();e="<p></p><div></div>"===a||"<p><div></div></p>"===a;this.autoClosesUnclosedTags=function(){return e};return e},supportsNativeGetElementsByClassName:function(){return-1!==
String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return l},supportsSpeechApiOn:function(a){return 11<=(h.match(/Chrome\/(\d+)/)||[void 0,0])[1]&&("onwebkitspeechchange"in a||"speech"in a)},crashesWhenDefineProperty:function(b){return a(9)&&("XMLHttpRequest"===b||"XDomainRequest"===b)},doesAsyncFocus:function(){return a(12,">")},hasProblemsSettingCaretAfterImg:function(){return a()},
hasLiDeletingProblem:function(){return a()},hasUndoInContextMenu:function(){return g||e||l},hasInsertNodeIssue:function(){return l},hasIframeFocusIssue:function(){return a()},createsNestedInvalidMarkupAfterPaste:function(){return f},hasCaretBlockElementIssue:function(){return f},supportsMutationEvents:function(){return"MutationEvent"in window},supportsModernPaste:function(){return!a()},fixStyleKey:function(a){return"cssFloat"===a?"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat":
a},usesControlRanges:function(){return document.body&&"createControlRange"in document.body}}}();
wysihtml5.lang.array=function(a){return{contains:function(h){if(Array.isArray(h)){for(var b=h.length;b--;)if(-1!==wysihtml5.lang.array(a).indexOf(h[b]))return!0;return!1}return-1!==wysihtml5.lang.array(a).indexOf(h)},indexOf:function(h){if(a.indexOf)return a.indexOf(h);for(var b=0,g=a.length;b<g;b++)if(a[b]===h)return b;return-1},without:function(h){h=wysihtml5.lang.array(h);for(var b=[],g=0,f=a.length;g<f;g++)h.contains(a[g])||b.push(a[g]);return b},get:function(){for(var h=0,b=a.length,g=[];h<b;h++)g.push(a[h]);
return g},map:function(h,b){if(Array.prototype.map)return a.map(h,b);for(var g=a.length>>>0,f=Array(g),e=0;e<g;e++)f[e]=h.call(b,a[e],e,a);return f},unique:function(){for(var h=[],b=a.length,g=0;g<b;)wysihtml5.lang.array(h).contains(a[g])||h.push(a[g]),g++;return h}}};
wysihtml5.lang.Dispatcher=Base.extend({on:function(a,h){this.events=this.events||{};this.events[a]=this.events[a]||[];this.events[a].push(h);return this},off:function(a,h){this.events=this.events||{};var b=0,g,f;if(a){g=this.events[a]||[];for(f=[];b<g.length;b++)g[b]!==h&&h&&f.push(g[b]);this.events[a]=f}else this.events={};return this},fire:function(a,h){this.events=this.events||{};for(var b=this.events[a]||[],g=0;g<b.length;g++)b[g].call(this,h);return this},observe:function(){return this.on.apply(this,
arguments)},stopObserving:function(){return this.off.apply(this,arguments)}});
wysihtml5.lang.object=function(a){return{merge:function(h,b){for(var g in h)b&&wysihtml5.lang.object(h[g]).isPlainObject()&&("undefined"===typeof a[g]||wysihtml5.lang.object(a[g]).isPlainObject())?"undefined"===typeof a[g]?a[g]=wysihtml5.lang.object(h[g]).clone(!0):wysihtml5.lang.object(a[g]).merge(wysihtml5.lang.object(h[g]).clone(!0)):a[g]=wysihtml5.lang.object(h[g]).isPlainObject()?wysihtml5.lang.object(h[g]).clone(!0):h[g];return this},difference:function(h){var b={},g;for(g in a)a.hasOwnProperty(g)&&
(h.hasOwnProperty(g)||(b[g]=a[g]));for(var f in h)h.hasOwnProperty(f)&&(a.hasOwnProperty(f)&&a[f]===h[f]||(b[0]=a[0]));return b},get:function(){return a},clone:function(h){var b={},g;if(null===a||!wysihtml5.lang.object(a).isPlainObject())return a;for(g in a)a.hasOwnProperty(g)&&(b[g]=h?wysihtml5.lang.object(a[g]).clone(h):a[g]);return b},isArray:function(){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(){return"[object Function]"===Object.prototype.toString.call(a)},
isPlainObject:function(){return a&&"[object Object]"===Object.prototype.toString.call(a)&&!("Node"in window?a instanceof Node:a instanceof Element||a instanceof Text)},isEmpty:function(){for(var h in a)if(a.hasOwnProperty(h))return!1;return!0}}};
(function(){var a=/^\s+/,h=/\s+$/,b=/[&<>\t"]/g,g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","\t":"&nbsp; "};wysihtml5.lang.string=function(f){f=String(f);return{trim:function(){return f.replace(a,"").replace(h,"")},interpolate:function(a){for(var b in a)f=this.replace("#{"+b+"}").by(a[b]);return f},replace:function(a){return{by:function(b){return f.split(a).join(b)}}},escapeHTML:function(a,h){var k=f.replace(b,function(a){return g[a]});a&&(k=k.replace(/(?:\r\n|\r|\n)/g,"<br />"));h&&(k=k.replace(/  /gi,
"&nbsp; "));return k}}}})();
(function(a){function h(a){return a.replace(f,function(a,b){var f=(b.match(e)||[])[1]||"",g=l[f];b=b.replace(e,"");b.split(g).length>b.split(f).length&&(b+=f,f="");var h=g=b;100<b.length&&(h=h.substr(0,100)+"...");"www."===g.substr(0,4)&&(g="http://"+g);return'<a href="'+g+'">'+h+"</a>"+f})}function b(e,l){if(!(g.contains(e.nodeName)||e.className&&a.lang.array(e.className.split(" ")).contains(l)))if(e.nodeType===a.TEXT_NODE&&e.data.match(f)){var m=e.parentNode,p=a.lang.string(e.data).escapeHTML(),r;
r=m.ownerDocument;var q=r._wysihtml5_tempElement;q||(q=r._wysihtml5_tempElement=r.createElement("div"));r=q;r.innerHTML="<span></span>"+h(p);for(r.removeChild(r.firstChild);r.firstChild;)m.insertBefore(r.firstChild,e);m.removeChild(e)}else{m=a.lang.array(e.childNodes).get();p=m.length;for(r=0;r<p;r++)b(m[r],l);return e}}var g=a.lang.array("CODE PRE A SCRIPT HEAD TITLE STYLE".split(" ")),f=/((https?:\/\/|www\.)[^\s<]{3,})/gi,e=/([^\w\/\-](,?))$/i,l={")":"(","]":"[","}":"{"};a.dom.autoLink=function(e,
f){var h;a:{h=e;for(var l;h.parentNode;){h=h.parentNode;l=h.nodeName;if(h.className&&a.lang.array(h.className.split(" ")).contains(f)||g.contains(l)){h=!0;break a}if("body"===l)break}h=!1}if(h)return e;e===e.ownerDocument.documentElement&&(e=e.ownerDocument.body);return b(e,f)};a.dom.autoLink.URL_REG_EXP=f})(wysihtml5);
(function(a){var h=a.dom;h.addClass=function(a,g){var f=a.classList;if(f)return f.add(g);h.hasClass(a,g)||(a.className+=" "+g)};h.removeClass=function(a,g){var f=a.classList;if(f)return f.remove(g);a.className=a.className.replace(new RegExp("(^|\\s+)"+g+"(\\s+|$)")," ")};h.hasClass=function(a,g){var f=a.classList;if(f)return f.contains(g);f=a.className;return 0<f.length&&(f==g||(new RegExp("(^|\\s)"+g+"(\\s|$)")).test(f))}})(wysihtml5);
wysihtml5.dom.contains=function(){var a=document.documentElement;if(a.contains)return function(a,b){if(b.nodeType!==wysihtml5.ELEMENT_NODE){if(b.parentNode===a)return!0;b=b.parentNode}return a!==b&&a.contains(b)};if(a.compareDocumentPosition)return function(a,b){return!!(a.compareDocumentPosition(b)&16)}}();
wysihtml5.dom.convertToList=function(){function a(a,b){var g=a.createElement("li");b.appendChild(g);return g}return function(h,b,g){if("UL"===h.nodeName||"OL"===h.nodeName||"MENU"===h.nodeName)return h;var f=h.ownerDocument;b=f.createElement(b);var e=h.querySelectorAll("br"),l=e.length,k,n,m,p,r;for(r=0;r<l;r++)for(n=e[r];(k=n.parentNode)&&k!==h&&k.lastChild===n;){if("block"===wysihtml5.dom.getStyle("display").from(k)){k.removeChild(n);break}wysihtml5.dom.insert(n).after(n.parentNode)}k=wysihtml5.lang.array(h.childNodes).get();
e=k.length;for(r=0;r<e;r++)p=p||a(f,b),l=k[r],n="block"===wysihtml5.dom.getStyle("display").from(l),m="BR"===l.nodeName,!n||g&&wysihtml5.dom.hasClass(l,g)?m?p=p.firstChild?null:p:p.appendChild(l):(p=p.firstChild?a(f,b):p,p.appendChild(l),p=null);0===k.length&&a(f,b);h.parentNode.replaceChild(b,h);return b}}();wysihtml5.dom.copyAttributes=function(a){return{from:function(h){return{to:function(b){for(var g,f=0,e=a.length;f<e;f++)g=a[f],"undefined"!==typeof h[g]&&""!==h[g]&&(b[g]=h[g]);return{andTo:arguments.callee}}}}}};
(function(a){var h=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],b=function(b){var f;a:{f=0;for(var e=h.length;f<e;f++)if("border-box"===a.getStyle(h[f]).from(b)){f=h[f];break a}f=void 0}return f?parseInt(a.getStyle("width").from(b),10)<b.offsetWidth:!1};a.copyStyles=function(g){return{from:function(f){b(f)&&(g=wysihtml5.lang.array(g).without(h));for(var e="",l=g.length,k=0,n;k<l;k++)n=g[k],e+=n+":"+a.getStyle(n).from(f)+";";return{to:function(b){a.setStyles(e).on(b);return{andTo:arguments.callee}}}}}}})(wysihtml5.dom);
(function(a){a.dom.delegate=function(a,b,g,f){var e=function(e){for(var g=e.target,g=3===g.nodeType?g.parentNode:g,n=a.querySelectorAll(b),m=0,p=n.length;m<p;m++)n[m].contains(g)&&f.call(n[m],e)};a.addEventListener(g,e,!1);return{stop:function(){a.removeEventListener(g,e,!1)}}}})(wysihtml5);
(function(a){function h(a,g){for(var f=[a],e=a;g&&e&&e!==g||!g&&e;)f.unshift(e),e=e.parentNode;return f}a.dom.domNode=function(b){var g=[a.ELEMENT_NODE,a.TEXT_NODE];return{is:{emptyTextNode:function(f){f=f?/^\s*$/g:/^[\r\n]*$/g;return b&&b.nodeType===a.TEXT_NODE&&f.test(b.data)},rangyBookmark:function(){return b&&1===b.nodeType&&b.classList.contains("rangySelectionBoundary")},visible:function(){var f=!/^\s*$/g.test(a.dom.getTextContent(b));f||1===b.nodeType&&b.querySelector("img, br, hr, object, embed, canvas, input, textarea")&&
(f=!0);return f},lineBreak:function(){return b&&1===b.nodeType&&"BR"===b.nodeName},block:function(){return b&&1===b.nodeType&&"block"===b.ownerDocument.defaultView.getComputedStyle(b).display},voidElement:function(){return a.dom.domNode(b).test({query:a.VOID_ELEMENTS})}},prev:function(f){var e=b.previousSibling,h=f&&f.nodeTypes?f.nodeTypes:g;return e?a.dom.domNode(e).is.rangyBookmark()||!a.lang.array(h).contains(e.nodeType)||f&&f.ignoreBlankTexts&&a.dom.domNode(e).is.emptyTextNode(!0)?a.dom.domNode(e).prev(f):
e:null},next:function(f){var e=b.nextSibling,h=f&&f.nodeTypes?f.nodeTypes:g;return e?a.dom.domNode(e).is.rangyBookmark()||!a.lang.array(h).contains(e.nodeType)||f&&f.ignoreBlankTexts&&a.dom.domNode(e).is.emptyTextNode(!0)?a.dom.domNode(e).next(f):e:null},commonAncestor:function(a,e){var g=h(b,e),k=h(a,e);if(g[0]!=k[0])return null;for(var n=0;n<g.length;n++)if(g[n]!=k[n])return g[n-1];return null},lastLeafNode:function(f){var e;if(1!==b.nodeType)return b;e=b.lastChild;if(!e)return b;if(f&&f.leafClasses)for(var g=
f.leafClasses.length;g--;)if(a.dom.hasClass(b,f.leafClasses[g]))return b;return a.dom.domNode(e).lastLeafNode(f)},escapeParent:function(f,e){var g,h,n,m=b;if(!a.dom.contains(f,b))throw Error("Child is not a descendant of node.");do{g=m.parentNode;for(h=g.cloneNode(!1);g.lastChild&&g.lastChild!==m;)h.insertBefore(g.lastChild,h.firstChild);g!==f&&(n=g.cloneNode(!1),n.appendChild(m),m=n);g.parentNode.insertBefore(m,g.nextSibling);if(""!==h.innerHTML)if(/^\s+$/.test(h.innerHTML))for(;h.lastChild;)g.parentNode.insertBefore(h.lastChild,
m.nextSibling);else g.parentNode.insertBefore(h,m.nextSibling);if(""===g.innerHTML)g.parentNode.removeChild(g);else if(/^\s+$/.test(g.innerHTML)){for(;g.firstChild;)g.parentNode.insertBefore(g.firstChild,g);g.parentNode.removeChild(g)}}while(g&&g!==f);e&&m&&(m.parentNode.insertBefore(e,m),e.appendChild(m))},transferContentTo:function(f,e){if(1===b.nodeType){if(a.dom.domNode(f).is.voidElement()||3===f.nodeType)for(;b.lastChild;)f.parentNode.insertBefore(b.lastChild,f.nextSibling);else for(;b.firstChild;)f.appendChild(b.firstChild);
e&&b.parentNode.removeChild(b)}else if(3===b.nodeType||8===b.nodeType)a.dom.domNode(f).is.voidElement()?f.parentNode.insertBefore(b,f.nextSibling):f.appendChild(b)},test:function(f){var e;if(!f||1!==b.nodeType||f.query&&!b.matches(f.query)||f.nodeName&&b.nodeName.toLowerCase()!==f.nodeName.toLowerCase()||f.className&&!b.classList.contains(f.className)||f.classRegExp&&0===((b.className||"").match(f.classRegExp)||[]).length)return!1;if(f.styleProperty&&0<f.styleProperty.length){e=Array.isArray(f.styleProperty)?
f.styleProperty:[f.styleProperty];for(var g=e.length;0<g;){e=a.browser.fixStyleKey(e[0]);if(b.style[e])if(f.styleValue)if(f.styleValue instanceof RegExp){if(0<b.style[e].trim().match(f.styleValue).length)break}else if(Array.isArray(f.styleValue)){if(f.styleValue.indexOf(b.style[e].trim()))break}else{if(f.styleValue===b.style[e].trim().replace(/, /g,","))break}else break;return!1}}if(f.attribute){e=a.dom.getAttributes(b);var g=[],h=!1;Array.isArray(f.attribute)?g=f.attribute:g[f.attribute]=f.attributeValue;
for(var n in g)if(g.hasOwnProperty(n))if("undefined"===typeof g[n]){if("undefined"!==typeof e[n]){h=!0;break}}else if(e[n]===g[n]){h=!0;break}if(!h)return!1}return!0}}}})(wysihtml5);
wysihtml5.dom.getAsDom=function(){var a="abbr article aside audio bdi canvas command datalist details figcaption figure footer header hgroup keygen mark meter nav output progress rp rt ruby svg section source summary time track video wbr".split(" ");return function(h,b){b=b||document;var g;if("object"===typeof h&&h.nodeType)g=b.createElement("div"),g.appendChild(h);else if(wysihtml5.browser.supportsHTML5Tags(b))g=b.createElement("div"),g.innerHTML=h;else{g=b;if(!g._wysihtml5_supportsHTML5Tags){for(var f=
0,e=a.length;f<e;f++)g.createElement(a[f]);g._wysihtml5_supportsHTML5Tags=!0}g=b;f=g.createElement("div");f.style.display="none";g.body.appendChild(f);try{f.innerHTML=h}catch(l){}g.body.removeChild(f);g=f}return g}}();wysihtml5.dom.getParentElement=function(){return function(a,h,b,g){for(b=b||50;b--&&a&&"BODY"!==a.nodeName&&(!g||a!==g);){if(wysihtml5.dom.domNode(a).test(h))return a;a=a.parentNode}return null}}();
wysihtml5.dom.getStyle=function(){function a(a){return a.replace(b,function(a){return a.charAt(1).toUpperCase()})}var h={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},b=/\-[a-z]/g;return function(b){return{from:function(f){if(f.nodeType===wysihtml5.ELEMENT_NODE){var e=f.ownerDocument,l=h[b]||a(b),k=f.style,n=f.currentStyle,m=k[l];if(m)return m;if(n)try{return n[l]}catch(p){}var l=e.defaultView||e.parentWindow,e=("height"===b||"width"===b)&&"TEXTAREA"===f.nodeName,
r;if(l.getComputedStyle)return e&&(r=k.overflow,k.overflow="hidden"),f=l.getComputedStyle(f,null).getPropertyValue(b),e&&(k.overflow=r||""),f}}}}}();wysihtml5.dom.getTextNodes=function(a,h){var b=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?h&&/^\s*$/.test(a.innerText||a.textContent)||b.push(a):b=b.concat(wysihtml5.dom.getTextNodes(a,h));return b};
wysihtml5.dom.hasElementWithTagName=function(){var a={},h=1;return function(b,g){var f=(b._wysihtml5_identifier||(b._wysihtml5_identifier=h++))+":"+g,e=a[f];e||(e=a[f]=b.getElementsByTagName(g));return 0<e.length}}();(function(a){var h={},b=1;a.dom.hasElementWithClassName=function(g,f){if(!a.browser.supportsNativeGetElementsByClassName())return!!g.querySelector("."+f);var e=(g._wysihtml5_identifier||(g._wysihtml5_identifier=b++))+":"+f,l=h[e];l||(l=h[e]=g.getElementsByClassName(f));return 0<l.length}})(wysihtml5);
wysihtml5.dom.insert=function(a){return{after:function(h){h.parentNode.insertBefore(a,h.nextSibling)},before:function(h){h.parentNode.insertBefore(a,h)},into:function(h){h.appendChild(a)}}};wysihtml5.dom.insertCSS=function(a){a=a.join("\n");return{into:function(h){var b=h.createElement("style");b.type="text/css";b.styleSheet?b.styleSheet.cssText=a:b.appendChild(h.createTextNode(a));var g=h.querySelector("head link");g?g.parentNode.insertBefore(b,g):(h=h.querySelector("head"))&&h.appendChild(b)}}};
(function(a){a.dom.lineBreaks=function(h){function b(b){return"BR"===b.nodeName||"block"===a.dom.getStyle("display").from(b)?!0:!1}return{add:function(g){g=h.ownerDocument;var f=a.dom.domNode(h).next({ignoreBlankTexts:!0}),e=a.dom.domNode(h).prev({ignoreBlankTexts:!0});f&&!b(f)&&a.dom.insert(g.createElement("br")).after(h);e&&!b(e)&&a.dom.insert(g.createElement("br")).before(h)},remove:function(b){b=a.dom.domNode(h).next({ignoreBlankTexts:!0});var f=a.dom.domNode(h).prev({ignoreBlankTexts:!0});b&&
"BR"===b.nodeName&&b.parentNode.removeChild(b);f&&"BR"===f.nodeName&&f.parentNode.removeChild(f)}}}})(wysihtml5);
wysihtml5.dom.observe=function(a,h,b){h="string"===typeof h?[h]:h;for(var g,f,e=0,l=h.length;e<l;e++)f=h[e],a.addEventListener?a.addEventListener(f,b,!1):(g=function(e){"target"in e||(e.target=e.srcElement);e.preventDefault=e.preventDefault||function(){this.returnValue=!1};e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0};b.call(a,e)},a.attachEvent("on"+f,g));return{stop:function(){for(var e,f=0,l=h.length;f<l;f++)e=h[f],a.removeEventListener?a.removeEventListener(e,b,!1):a.detachEvent("on"+
e,g)}}};
wysihtml5.dom.parse=function(a,h){function b(a,e,f,g){var h=a.nodeType,m=a.childNodes,n=m.length,q=l[h],p=0,u;if(g&&1===h&&wysihtml5.dom.hasClass(a,g))return a;q=q&&q(a,f);if(!q){if(!1===q){h=a.ownerDocument.createDocumentFragment();for(p=n;p--;)m[p]&&(u=b(m[p],e,f,g))&&(m[p]===u&&p--,h.insertBefore(u,h.firstChild));e=wysihtml5.dom.getStyle("display").from(a);""===e&&(e=wysihtml5.lang.array(r).contains(a.tagName)?"block":"");wysihtml5.lang.array(["block","flex","table"]).contains(e)&&h.appendChild(a.ownerDocument.createElement("br"));wysihtml5.lang.array("div pre p table td th ul ol li dd dl footer header section h1 h2 h3 h4 h5 h6".split(" ")).contains(a.nodeName.toLowerCase())&&
a.parentNode.lastChild!==a&&(a.nextSibling&&3===a.nextSibling.nodeType&&/^\s/.test(a.nextSibling.nodeValue)||h.appendChild(a.ownerDocument.createTextNode(" ")));h.normalize&&h.normalize();return h}return null}for(p=0;p<n;p++)m[p]&&(u=b(m[p],e,f,g))&&(m[p]===u&&p--,q.appendChild(u));if(e&&q.nodeName.toLowerCase()===k&&(!q.childNodes.length||/^\s*$/gi.test(q.innerHTML)&&(f||"_wysihtml5-temp-placeholder"!==a.className&&"rangySelectionBoundary"!==a.className)||!q.attributes.length)){for(h=q.ownerDocument.createDocumentFragment();q.firstChild;)h.appendChild(q.firstChild);
h.normalize&&h.normalize();return h}q.normalize&&q.normalize();return q}function g(a,b){var e=a.getAttribute("class"),f=a.getAttribute("style"),g,h,k;if(b.methods)for(g in b.methods)if(b.methods.hasOwnProperty(g)&&y[g]&&y[g](a))return!0;if(e&&b.classes){e=e.replace(/^\s+/g,"").replace(/\s+$/g,"").split(n);g=e.length;for(var l=0;l<g;l++)if(b.classes[e[l]])return!0}if(f&&b.styles)for(h in f=f.split(";"),b.styles)if(b.styles.hasOwnProperty(h))for(g=f.length;g--;)if(e=f[g].split(":"),e[0].replace(/\s/g,
"").toLowerCase()===h&&(!0===b.styles[h]||1===b.styles[h]||wysihtml5.lang.array(b.styles[h]).contains(e[1].replace(/\s/g,"").toLowerCase())))return!0;if(b.attrs)for(k in b.attrs)if(b.attrs.hasOwnProperty(k)&&(f=wysihtml5.dom.getAttribute(a,k),"string"===typeof f&&-1<f.search(b.attrs[k])))return!0;return!1}function f(a,b,e,f){if(a=wysihtml5.lang.object(e).isFunction()?e:q[e])if(b=a(b,f),"string"===typeof b)return b;return!1}function e(a,b){var e=wysihtml5.lang.object(p.attributes||{}).clone(),e=wysihtml5.lang.object(e).merge(wysihtml5.lang.object(b||
{}).clone()).get(),g={},h=wysihtml5.dom.getAttributes(a),k,l,m;for(k in e)if(/\*$/.test(k)){l=k.slice(0,-1);m=h;var n=[],q=void 0;for(q in m)m.hasOwnProperty(q)&&0===q.indexOf(l)&&n.push(q);m=n;n=0;for(q=m.length;n<q;n++)l=f(m[n],h[m[n]],e[k],a.nodeName),!1!==l&&(g[m[n]]=l)}else l=f(k,h[k],e[k],a.nodeName),!1!==l&&(g[k]=l);return g}var l={1:function(a,b){var f,h;f=p.tags;h=a.nodeName.toLowerCase();var l=a.scopeName,m;if(a._wysihtml5)return null;a._wysihtml5=1;if("wysihtml5-temp"===a.className)return null;
l&&"HTML"!=l&&(h=l+":"+h);"outerHTML"in a&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==a.nodeName||"</p>"===a.outerHTML.slice(-4).toLowerCase()||(h="div"));if(h in f){f=f[h];if(!f||f.remove)return null;if(f.unwrap)return!1;f="string"===typeof f?{rename_tag:f}:f}else if(a.firstChild)f={rename_tag:k};else return null;if(l=f.one_of_type){var q;a:{var l=p,r=f.one_of_type,x;if("SPAN"!==a.nodeName||b||"_wysihtml5-temp-placeholder"!==a.className&&"rangySelectionBoundary"!==a.className){for(q in r)if(r.hasOwnProperty(q)&&
l.type_definitions&&l.type_definitions[q]&&(x=l.type_definitions[q],g(a,x))){q=!0;break a}q=!1}else q=!0}l=!q}if(l)if(f.remove_action){if("unwrap"===f.remove_action)return!1;if("rename"===f.remove_action)m=f.remove_action_rename_to||k;else return null}else return null;h=a.ownerDocument.createElement(m||f.rename_tag||h);var y=f;m={};var J=y.set_class,M=y.add_class,L=y.add_style,R=y.set_attributes;q=p.classes;l=0;r=[];x=[];var Q=[],X=[],T;R&&(m=wysihtml5.lang.object(R).clone());m=wysihtml5.lang.object(m).merge(e(a,
y.check_attributes)).get();J&&r.push(J);if(M)for(T in M)if(y=w[M[T]])y=y(wysihtml5.dom.getAttribute(a,T)),"string"===typeof y&&r.push(y);if(L)for(T in L)if(y=u[L[T]])newStyle=y(wysihtml5.dom.getAttribute(a,T)),"string"===typeof newStyle&&x.push(newStyle);if("string"===typeof q&&"any"===q)if(a.getAttribute("class"))if(p.classes_blacklist){(X=a.getAttribute("class"))&&(r=r.concat(X.split(n)));for(M=r.length;l<M;l++)L=r[l],p.classes_blacklist[L]||Q.push(L);Q.length&&(m["class"]=wysihtml5.lang.array(Q).unique().join(" "))}else m["class"]=
a.getAttribute("class");else r&&0<r.length&&(m["class"]=wysihtml5.lang.array(r).unique().join(" "));else{b||(q["_wysihtml5-temp-placeholder"]=1,q._rangySelectionBoundary=1,q["wysiwyg-tmp-selected-cell"]=1);(X=a.getAttribute("class"))&&(r=r.concat(X.split(n)));for(M=r.length;l<M;l++)L=r[l],q[L]&&Q.push(L);Q.length&&(m["class"]=wysihtml5.lang.array(Q).unique().join(" "))}m["class"]&&b&&(m["class"]=m["class"].replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(m["class"])&&delete m["class"]);x.length&&
(m.style=wysihtml5.lang.array(x).unique().join(" "));for(T in m)try{h.setAttribute(T,m[T])}catch(ea){}m.src&&("undefined"!==typeof m.width&&h.setAttribute("width",m.width),"undefined"!==typeof m.height&&h.setAttribute("height",m.height));T=f;var N;if(T&&T.keep_styles)for(N in T.keep_styles)T.keep_styles.hasOwnProperty(N)&&(f="float"===N?a.style.styleFloat||a.style.cssFloat:a.style[N],T.keep_styles[N]instanceof RegExp&&!T.keep_styles[N].test(f)||("float"===N?h.style[a.style.styleFloat?"styleFloat":
"cssFloat"]=f:a.style[N]&&(h.style[N]=f)));h.normalize&&h.normalize();return h},3:function(a){var b=a.nextSibling;if(b&&b.nodeType===wysihtml5.TEXT_NODE)b.data=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")+b.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"");else return b=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,""),a.ownerDocument.createTextNode(b)},8:function(a){if(p.comments)return a.ownerDocument.createComment(a.nodeValue)}},k="span",n=/\s+/,m={tags:{},classes:{}},p={},r="ADDRESS BLOCKQUOTE CENTER DIR DIV DL FIELDSET FORM H1 H2 H3 H4 H5 H6 ISINDEX MENU NOFRAMES NOSCRIPT OL P PRE TABLE UL".split(" "),
q={url:function(){var a=/^https?:\/\//i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),src:function(){var a=/^(\/|https?:\/\/)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),href:function(){var a=/^(#|\/|https?:\/\/|mailto:|tel:)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),alt:function(){var a=/[^ a-z0-9_\-]/gi;return function(b,e){return b?
b.replace(a,""):"IMG"===e?"":null}}(),numbers:function(){var a=/\D/g;return function(b){return(b=(b||"").replace(a,""))||null}}(),dimension:function(){var a=/\D*(\d+)(\.\d+)?\s?(%)?\D*/;return function(b){return(b=(b||"").replace(a,"$1$2$3"))||null}}(),any:function(){return function(a){return a?a:null}}()},u={align_text:function(){var a={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"};return function(b){return a[String(b).toLowerCase()]}}()},w={align_img:function(){var a=
{left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(b){return a[String(b).toLowerCase()]}}(),align_text:function(){var a={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(b){return a[String(b).toLowerCase()]}}(),clear_br:function(){var a={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(b){return a[String(b).toLowerCase()]}}(),
size_font:function(){var a={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(b){return a[String(b).charAt(0)]}}()},y={has_visible_contet:function(){var a,b="img video picture br script noscript style table iframe object embed audio svg input button select textarea canvas".split(" ");
return function(e){if((a=(e.innerText||e.textContent).replace(/\s/g,""))&&0<a.length)return!0;for(var f=b.length;f--;)if(e.querySelector(b[f]))return!0;return e.offsetWidth&&0<e.offsetWidth&&e.offsetHeight&&0<e.offsetHeight?!0:!1}}()},x={unwrap:function(a){wysihtml5.dom.unwrap(a)},remove:function(a){a.parentNode.removeChild(a)}};return function(a,e){wysihtml5.lang.object(p).merge(m).merge(e.rules).get();var f=e.context||a.ownerDocument||document,g=f.createDocumentFragment(),h="string"===typeof a,
k=!1,l,n;!0===e.clearInternals&&(k=!0);f=h?wysihtml5.dom.getAsDom(a,f):a;if(p.selectors){var q=p.selectors,r;for(l in q)if(q.hasOwnProperty(l)){wysihtml5.lang.object(q[l]).isFunction()?n=q[l]:"string"===typeof q[l]&&x[q[l]]&&(n=x[q[l]]);r=f.querySelectorAll(l);for(var u=r.length;u--;)n(r[u])}}for(;f.firstChild;)n=f.firstChild,(l=b(n,e.cleanUp,k,e.uneditableClass))&&g.appendChild(l),n!==l&&f.removeChild(n);if(e.unjoinNbsps)for(k=wysihtml5.dom.getTextNodes(g),l=k.length;l--;)k[l].nodeValue=k[l].nodeValue.replace(/([\S\u00A0])\u00A0/gi,
"$1 ");f.innerHTML="";f.appendChild(g);return h?wysihtml5.quirks.getCorrectInnerHTML(f):f}(a,h)};wysihtml5.dom.removeEmptyTextNodes=function(a){for(var h=wysihtml5.lang.array(a.childNodes).get(),b=h.length,g=0;g<b;g++)a=h[g],a.nodeType===wysihtml5.TEXT_NODE&&/^[\n\r]*$/.test(a.data)&&a.parentNode.removeChild(a)};
wysihtml5.dom.renameElement=function(a,h){for(var b=a.ownerDocument.createElement(h),g;g=a.firstChild;)b.appendChild(g);wysihtml5.dom.copyAttributes(["align","className"]).from(a).to(b);a.parentNode&&a.parentNode.replaceChild(b,a);return b};wysihtml5.dom.replaceWithChildNodes=function(a){if(a.parentNode){for(;a.firstChild;)a.parentNode.insertBefore(a.firstChild,a);a.parentNode.removeChild(a)}};
(function(a){function h(b){return"block"===a.getStyle("display").from(b)}function b(a){var b=a.ownerDocument.createElement("br");a.appendChild(b)}a.resolveList=function(a,f){if(a.nodeName.match(/^(MENU|UL|OL)$/)){var e=a.ownerDocument,l=e.createDocumentFragment(),k=wysihtml5.dom.domNode(a).prev({ignoreBlankTexts:!0}),n=wysihtml5.dom.domNode(a).next({ignoreBlankTexts:!0}),m,p,r=a.lastElementChild||a.lastChild,q;if(f)for(k&&!h(k)&&"BR"!==k.nodeName&&b(l);p=a.firstElementChild||a.firstChild;){e=p.lastChild;
for(q=p===r;k=p.firstChild;)m=k===e,m=(!q||n&&!h(n))&&m&&!h(k)&&"BR"!==k.nodeName,l.appendChild(k),m&&b(l);p.parentNode.removeChild(p)}else for(;p=a.firstElementChild||a.firstChild;){if(p.querySelector&&p.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;k=p.firstChild;)l.appendChild(k);else{for(n=e.createElement("p");k=p.firstChild;)n.appendChild(k);l.appendChild(n)}p.parentNode.removeChild(p)}a.parentNode.replaceChild(l,a)}}})(wysihtml5.dom);
(function(a){var h=document,b="parent top opener frameElement frames localStorage globalStorage sessionStorage indexedDB".split(" "),g="open close openDialog showModalDialog alert confirm prompt openDatabase postMessage XMLHttpRequest XDomainRequest".split(" "),f=["referrer","write","open","close"];a.dom.Sandbox=Base.extend({constructor:function(b,f){this.callback=b||a.EMPTY_FUNCTION;this.config=a.lang.object({}).merge(f).get();this.config.className||(this.config.className="wysihtml5-sandbox");this.editableArea=
this._createIframe()},insertInto:function(a){"string"===typeof a&&(a=h.getElementById(a));a.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var a=this.getIframe();a.parentNode.removeChild(a)},_readyError:function(){throw Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet");},_createIframe:function(){var b=this,f=h.createElement("iframe");f.className=this.config.className;
a.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(f);a.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(f.src="javascript:'<html></html>'");f.onload=function(){f.onreadystatechange=f.onload=null;b._onLoadIframe(f)};f.onreadystatechange=function(){/loaded|complete/.test(f.readyState)&&(f.onreadystatechange=f.onload=null,b._onLoadIframe(f))};return f},_onLoadIframe:function(e){if(a.dom.contains(h.documentElement,
e)){var l=this,k=e.contentWindow,n=e.contentWindow.document,m=this._getHtml({charset:h.characterSet||h.charset||"utf-8",stylesheets:this.config.stylesheets});n.open("text/html","replace");n.write(m);n.close();this.getWindow=function(){return e.contentWindow};this.getDocument=function(){return e.contentWindow.document};k.onerror=function(a,b,e){throw Error("wysihtml5.Sandbox: "+a,b,e);};if(!a.browser.supportsSandboxedIframes()){var p,m=0;for(p=b.length;m<p;m++)this._unset(k,b[m]);m=0;for(p=g.length;m<
p;m++)this._unset(k,g[m],a.EMPTY_FUNCTION);m=0;for(p=f.length;m<p;m++)this._unset(n,f[m]);this._unset(n,"cookie","",!0)}a.polyfills&&a.polyfills(k,n);this.loaded=!0;setTimeout(function(){l.callback(l)},0)}},_getHtml:function(b){var f=b.stylesheets,g="",h=0,m;if(f="string"===typeof f?[f]:f)for(m=f.length;h<m;h++)g+='<link rel="stylesheet" href="'+f[h]+'">';b.stylesheets=g;return a.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(b)},
_unset:function(b,f,g,h){try{b[f]=g}catch(m){}try{b.__defineGetter__(f,function(){return g})}catch(p){}if(h)try{b.__defineSetter__(f,function(){})}catch(r){}if(!a.browser.crashesWhenDefineProperty(f))try{var q={get:function(){return g}};h&&(q.set=function(){});Object.defineProperty(b,f,q)}catch(u){}}})})(wysihtml5);
(function(a){var h=document;a.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView||this.element.ownerDocument.parentWindow},getDocument:function(){return this.element.ownerDocument},constructor:function(b,g,f){this.callback=b||a.EMPTY_FUNCTION;this.config=a.lang.object({}).merge(g).get();this.config.className||(this.config.className="wysihtml5-sandbox");this.element=f?this._bindElement(f):this._createElement()},
destroy:function(){},_createElement:function(){var a=h.createElement("div");a.className=this.config.className;this._loadElement(a);return a},_bindElement:function(a){a.className=a.className?a.className+" wysihtml5-sandbox":"wysihtml5-sandbox";this._loadElement(a,!0);return a},_loadElement:function(a,g){var f=this;if(!g){var e=this._getHtml();a.innerHTML=e}this.loaded=!0;setTimeout(function(){f.callback(f)},0)},_getHtml:function(a){return""}})})(wysihtml5);
(function(){var a={className:"class"};wysihtml5.dom.setAttributes=function(h){return{on:function(b){for(var g in h)b.setAttribute(a[g]||g,h[g])}}}})();wysihtml5.dom.setStyles=function(a){return{on:function(h){h=h.style;if("string"===typeof a)h.cssText+=";"+a;else for(var b in a)"float"===b?(h.cssFloat=a[b],h.styleFloat=a[b]):h[b]=a[b]}}};
(function(a){a.simulatePlaceholder=function(h,b,g,f){var e=f||"wysihtml5-placeholder";f=function(){var f=0<b.element.offsetWidth&&0<b.element.offsetHeight;b.hasPlaceholderSet()&&(b.clear(),b.element.focus(),f&&setTimeout(function(){var a=b.selection.getSelection();a.focusNode&&a.anchorNode||b.selection.selectNode(b.element.firstChild||b.element)},0));b.placeholderSet=!1;a.removeClass(b.element,e)};var l=function(){b.isEmpty()&&!b.placeholderSet&&(b.placeholderSet=!0,b.setValue(g,!1),a.addClass(b.element,
e))};h.on("set_placeholder",l).on("unset_placeholder",f).on("focus:composer",f).on("paste:composer",f).on("blur:composer",l);l()}})(wysihtml5.dom);(function(a){var h=document.documentElement;"textContent"in h?(a.setTextContent=function(a,g){a.textContent=g},a.getTextContent=function(a){return a.textContent}):"innerText"in h?(a.setTextContent=function(a,g){a.innerText=g},a.getTextContent=function(a){return a.innerText}):(a.setTextContent=function(a,g){a.nodeValue=g},a.getTextContent=function(a){return a.nodeValue})})(wysihtml5.dom);
wysihtml5.dom.getAttribute=function(a,h){var b=!wysihtml5.browser.supportsGetAttributeCorrectly();h=h.toLowerCase();return"IMG"==a.nodeName&&"src"==h&&!0===wysihtml5.dom.isLoadedImage(a)?a.src:b&&"outerHTML"in a?-1!=a.outerHTML.toLowerCase().indexOf(" "+h+"=")?a.getAttribute(h):null:a.getAttribute(h)};
wysihtml5.dom.getAttributes=function(a){var h=!wysihtml5.browser.supportsGetAttributeCorrectly(),b=a.nodeName,g=[],f;for(f in a.attributes)(a.attributes.hasOwnProperty&&a.attributes.hasOwnProperty(f)||!a.attributes.hasOwnProperty&&Object.prototype.hasOwnProperty.call(a.attributes,f))&&a.attributes[f].specified&&("IMG"==b&&"src"==a.attributes[f].name.toLowerCase()&&!0===wysihtml5.dom.isLoadedImage(a)?g.src=a.src:wysihtml5.lang.array(["rowspan","colspan"]).contains(a.attributes[f].name.toLowerCase())&&
h?1!==a.attributes[f].value&&(g[a.attributes[f].name]=a.attributes[f].value):g[a.attributes[f].name]=a.attributes[f].value);return g};wysihtml5.dom.isLoadedImage=function(a){try{return a.complete&&!a.mozMatchesSelector(":-moz-broken")}catch(h){if(a.complete&&"complete"===a.readyState)return!0}};
(function(a){function h(a,b){for(var e=[],f,g=0,h=a.length;g<h;g++)if(f=a[g].querySelectorAll(b))for(var l=f.length;l--;e.unshift(f[l]));return e}function b(a){a.parentNode.removeChild(a)}function g(a,b){a.parentNode.insertBefore(b,a.nextSibling)}var f=a.dom,e=function(a){this.el=a;this.isRowspan=this.isColspan=!1;this.isReal=this.lastRow=this.firstRow=this.lastCol=this.firstCol=!0;this.spanCollection=[];this.modified=!1},l=function(a,b){a?(this.cell=a,this.table=f.getParentElement(a,{query:"table"})):
b&&(this.table=b,this.cell=this.table.querySelectorAll("th, td")[0])};l.prototype={addSpannedCellToMap:function(a,b,f,g,h,l){for(var u=[],w=f+(l?parseInt(l,10)-1:0),y=g+(h?parseInt(h,10)-1:0),x=f;x<=w;x++){"undefined"==typeof b[x]&&(b[x]=[]);for(var z=g;z<=y;z++)b[x][z]=new e(a),b[x][z].isColspan=h&&1<parseInt(h,10),b[x][z].isRowspan=l&&1<parseInt(l,10),b[x][z].firstCol=z==g,b[x][z].lastCol=z==y,b[x][z].firstRow=x==f,b[x][z].lastRow=x==w,b[x][z].isReal=z==g&&x==f,b[x][z].spanCollection=u,u.push(b[x][z])}},
setCellAsModified:function(a){a.modified=!0;if(0<a.spanCollection.length)for(var b=0,e=a.spanCollection.length;b<e;b++)a.spanCollection[b].modified=!0},setTableMap:function(){var a=[],b=this.getTableRows(),g,h,l,q,u,w,y;for(g=0;g<b.length;g++)for(h=b[g],h=this.getRowCells(h),u=0,"undefined"==typeof a[g]&&(a[g]=[]),l=0;l<h.length;l++){for(q=h[l];"undefined"!=typeof a[g][u];)u++;w=f.getAttribute(q,"colspan");y=f.getAttribute(q,"rowspan");w||y?(this.addSpannedCellToMap(q,a,g,u,w,y),u+=w?parseInt(w,10):
1):(a[g][u]=new e(q),u++)}return this.map=a},getRowCells:function(b){var e=this.table.querySelectorAll("table"),e=e?h(e,"th, td"):[];b=b.querySelectorAll("th, td");return 0<e.length?a.lang.array(b).without(e):b},getTableRows:function(){var b=this.table.querySelectorAll("table"),b=b?h(b,"tr"):[],e=this.table.querySelectorAll("tr");return 0<b.length?a.lang.array(e).without(b):e},getMapIndex:function(a){for(var b=this.map.length,e=this.map&&this.map[0]?this.map[0].length:0,f=0;f<b;f++)for(var g=0;g<
e;g++)if(this.map[f][g].el===a)return{row:f,col:g};return!1},getElementAtIndex:function(a){this.setTableMap();return this.map[a.row]&&this.map[a.row][a.col]&&this.map[a.row][a.col].el?this.map[a.row][a.col].el:null},getMapElsTo:function(a){var b=[];this.setTableMap();this.idx_start=this.getMapIndex(this.cell);this.idx_end=this.getMapIndex(a);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col)a=this.idx_start,this.idx_start=this.idx_end,
this.idx_end=a;this.idx_start.col>this.idx_end.col&&(a=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=a);if(null!=this.idx_start&&null!=this.idx_end){a=this.idx_start.row;for(var e=this.idx_end.row;a<=e;a++)for(var f=this.idx_start.col,g=this.idx_end.col;f<=g;f++)b.push(this.map[a][f].el)}return b},orderSelectionEnds:function(a){this.setTableMap();this.idx_start=this.getMapIndex(this.cell);this.idx_end=this.getMapIndex(a);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==
this.idx_end.row&&this.idx_start.col>this.idx_end.col)a=this.idx_start,this.idx_start=this.idx_end,this.idx_end=a;this.idx_start.col>this.idx_end.col&&(a=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=a);return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(a,b,e){for(var f=this.table.ownerDocument,g=f.createDocumentFragment(),h,l=0;l<b;l++){h=f.createElement(a);if(e)for(var w in e)e.hasOwnProperty(w)&&
h.setAttribute(w,e[w]);h.appendChild(document.createTextNode("\u00a0"));g.appendChild(h)}return g},correctColIndexForUnreals:function(a,b){for(var e=this.map[b],f=-1,g=0;g<a;g++)e[g].isReal&&f++;return f},getLastNewCellOnRow:function(a,b){for(var e=this.getRowCells(a),f,g,h=0,l=e.length;h<l;h++)if(f=e[h],g=this.getMapIndex(f),!1===g||"undefined"!=typeof b&&g.row!=b)return f;return null},removeEmptyTable:function(){var a=this.table.querySelectorAll("td, th");if(a&&0!=a.length)return!1;b(this.table);
return!0},splitRowToCells:function(a){if(a.isColspan){var b=parseInt(f.getAttribute(a.el,"colspan")||1,10),e=a.el.tagName.toLowerCase();1<b&&(b=this.createCells(e,b-1),g(a.el,b));a.el.removeAttribute("colspan")}},getRealRowEl:function(a,b){var e=null,g=null;b=b||this.idx;for(var h=0,l=this.map[b.row].length;h<l;h++)if(g=this.map[b.row][h],g.isReal&&(e=f.getParentElement(g.el,{query:"tr"})))return e;null===e&&a&&(e=f.getParentElement(this.map[b.row][b.col].el,{query:"tr"})||null);return e},injectRowAt:function(a,
b,e,h,l){var q=this.getRealRowEl(!1,{row:a,col:b});e=this.createCells(h,e);q?(l=this.correctColIndexForUnreals(b,a),0<=l?g(this.getRowCells(q)[l],e):q.insertBefore(e,q.firstChild)):(q=this.table.ownerDocument.createElement("tr"),q.appendChild(e),g(f.getParentElement(l.el,{query:"tr"}),q))},canMerge:function(a){this.to=a;this.setTableMap();this.idx_start=this.getMapIndex(this.cell);this.idx_end=this.getMapIndex(this.to);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&
this.idx_start.col>this.idx_end.col)a=this.idx_start,this.idx_start=this.idx_end,this.idx_end=a;this.idx_start.col>this.idx_end.col&&(a=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=a);a=this.idx_start.row;for(var b=this.idx_end.row;a<=b;a++)for(var e=this.idx_start.col,f=this.idx_end.col;e<=f;e++)if(this.map[a][e].isColspan||this.map[a][e].isRowspan)return!1;return!0},decreaseCellSpan:function(a,b){var e=parseInt(f.getAttribute(a.el,b),10)-1;1<=e?a.el.setAttribute(b,e):
(a.el.removeAttribute(b),"colspan"==b&&(a.isColspan=!1),"rowspan"==b&&(a.isRowspan=!1),a.firstCol=!0,a.lastCol=!0,a.firstRow=!0,a.lastRow=!0,a.isReal=!0)},removeSurplusLines:function(){var a,e,g,h,l,q,u;this.setTableMap();if(this.map){g=0;for(h=this.map.length;g<h;g++){a=this.map[g];u=!0;l=0;for(q=a.length;l<q;l++)if(e=a[l],!(f.getAttribute(e.el,"rowspan")&&1<parseInt(f.getAttribute(e.el,"rowspan"),10)&&!0!==e.firstRow)){u=!1;break}if(u)for(l=0;l<q;l++)this.decreaseCellSpan(a[l],"rowspan")}e=this.getTableRows();
g=0;for(h=e.length;g<h;g++)a=e[g],0==a.childNodes.length&&/^\s*$/.test(a.textContent||a.innerText)&&b(a)}},fillMissingCells:function(){var a=0,b=0,f=null;this.setTableMap();if(this.map){a=this.map.length;for(f=0;f<a;f++)this.map[f].length>b&&(b=this.map[f].length);for(var h=0;h<a;h++)for(var l=0;l<b;l++)this.map[h]&&!this.map[h][l]&&0<l&&(this.map[h][l]=new e(this.createCells("td",1)),(f=this.map[h][l-1])&&f.el&&f.el.parent&&g(this.map[h][l-1].el,this.map[h][l].el))}},rectify:function(){if(this.removeEmptyTable())return!1;
this.removeSurplusLines();this.fillMissingCells();return!0},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell))){var a=this.map[this.idx.row][this.idx.col],b=f.getAttribute(a.el,"colspan")?parseInt(f.getAttribute(a.el,"colspan"),10):1,e=a.el.tagName.toLowerCase();if(a.isRowspan){var g=parseInt(f.getAttribute(a.el,"rowspan"),10);if(1<g)for(var h=1,g=g-1;h<=g;h++)this.injectRowAt(this.idx.row+h,this.idx.col,b,e,a);a.el.removeAttribute("rowspan")}this.splitRowToCells(a)}},
merge:function(a){if(this.rectify())if(this.canMerge(a)){a=this.idx_end.row-this.idx_start.row+1;for(var e=this.idx_end.col-this.idx_start.col+1,f=this.idx_start.row,g=this.idx_end.row;f<=g;f++)for(var h=this.idx_start.col,l=this.idx_end.col;h<=l;h++)f==this.idx_start.row&&h==this.idx_start.col?(1<a&&this.map[f][h].el.setAttribute("rowspan",a),1<e&&this.map[f][h].el.setAttribute("colspan",e)):(/^\s*<br\/?>\s*$/.test(this.map[f][h].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=
" "+this.map[f][h].el.innerHTML),b(this.map[f][h].el));this.rectify()}else window.console&&console.log("Do not know how to merge allready merged cells.")},collapseCellToNextRow:function(a){var b=this.getMapIndex(a.el),e=b.row+1,h={row:e,col:b.col};e<this.map.length&&(b=this.getRealRowEl(!1,h),null!==b&&(h=this.correctColIndexForUnreals(h.col,h.row),0<=h?g(this.getRowCells(b)[h],a.el):(e=this.getLastNewCellOnRow(b,e),null!==e?g(e,a.el):b.insertBefore(a.el,b.firstChild)),2<parseInt(f.getAttribute(a.el,
"rowspan"),10)?a.el.setAttribute("rowspan",parseInt(f.getAttribute(a.el,"rowspan"),10)-1):a.el.removeAttribute("rowspan")))},removeRowCell:function(a){a.isReal?a.isRowspan?this.collapseCellToNextRow(a):b(a.el):2<parseInt(f.getAttribute(a.el,"rowspan"),10)?a.el.setAttribute("rowspan",parseInt(f.getAttribute(a.el,"rowspan"),10)-1):a.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var a=[];this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var b=this.map[this.idx.row],
e=0,f=b.length;e<f;e++)b[e].isReal&&a.push(b[e].el);return a},getColumnElementsByCell:function(){var a=[];this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var b=0,e=this.map.length;b<e;b++)this.map[b][this.idx.col]&&this.map[b][this.idx.col].isReal&&a.push(this.map[b][this.idx.col].el);return a},removeRow:function(){var a=f.getParentElement(this.cell,{query:"tr"});if(a){this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var e=this.map[this.idx.row],
g=0,h=e.length;g<h;g++)e[g].modified||(this.setCellAsModified(e[g]),this.removeRowCell(e[g]));b(a)}},removeColCell:function(a){a.isColspan?2<parseInt(f.getAttribute(a.el,"colspan"),10)?a.el.setAttribute("colspan",parseInt(f.getAttribute(a.el,"colspan"),10)-1):a.el.removeAttribute("colspan"):a.isReal&&b(a.el)},removeColumn:function(){this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var a=0,b=this.map.length;a<b;a++)this.map[a][this.idx.col].modified||(this.setCellAsModified(this.map[a][this.idx.col]),
this.removeColCell(this.map[a][this.idx.col]))},remove:function(a){if(this.rectify()){switch(a){case "row":this.removeRow();break;case "column":this.removeColumn()}this.rectify()}},addRow:function(a){var b=this.table.ownerDocument;this.setTableMap();this.idx=this.getMapIndex(this.cell);"below"==a&&f.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(f.getAttribute(this.cell,"rowspan"),10)-1);if(!1!==this.idx){for(var e=this.map[this.idx.row],b=b.createElement("tr"),h=0,l=e.length;h<
l;h++)e[h].modified||(this.setCellAsModified(e[h]),this.addRowCell(e[h],b,a));switch(a){case "below":g(this.getRealRowEl(!0),b);break;case "above":(a=f.getParentElement(this.map[this.idx.row][this.idx.col].el,{query:"tr"}))&&a.parentNode.insertBefore(b,a)}}},addRowCell:function(a,b,e){var g=a.isColspan?{colspan:f.getAttribute(a.el,"colspan")}:null;a.isReal?"above"!=e&&a.isRowspan?a.el.setAttribute("rowspan",parseInt(f.getAttribute(a.el,"rowspan"),10)+1):b.appendChild(this.createCells("td",1,g)):"above"!=
e&&a.isRowspan&&a.lastRow?b.appendChild(this.createCells("td",1,g)):c.isRowspan&&a.el.attr("rowspan",parseInt(f.getAttribute(a.el,"rowspan"),10)+1)},add:function(a){this.rectify()&&("below"!=a&&"above"!=a||this.addRow(a),"before"!=a&&"after"!=a||this.addColumn(a))},addColCell:function(a,b,e){var h,l=a.el.tagName.toLowerCase();switch(e){case "before":h=!a.isColspan||a.firstCol;break;case "after":h=!a.isColspan||a.lastCol||a.isColspan&&c.el==this.cell}if(h){switch(e){case "before":a.el.parentNode.insertBefore(this.createCells(l,
1),a.el);break;case "after":g(a.el,this.createCells(l,1))}a.isRowspan&&this.handleCellAddWithRowspan(a,b+1,e)}else a.el.setAttribute("colspan",parseInt(f.getAttribute(a.el,"colspan"),10)+1)},addColumn:function(a){var b;this.setTableMap();this.idx=this.getMapIndex(this.cell);"after"==a&&f.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(f.getAttribute(this.cell,"colspan"),10)-1);if(!1!==this.idx)for(var e=0,g=this.map.length;e<g;e++)b=this.map[e],b[this.idx.col]&&(b=b[this.idx.col],
b.modified||(this.setCellAsModified(b),this.addColCell(b,e,a)))},handleCellAddWithRowspan:function(a,b,e){var h=parseInt(f.getAttribute(this.cell,"rowspan"),10)-1,l=f.getParentElement(a.el,{query:"tr"});a=a.el.tagName.toLowerCase();for(var q,u,w=this.table.ownerDocument,y=0;y<h;y++){q=this.correctColIndexForUnreals(this.idx.col,b+y);a:{for(l=l.nextSibling;1!=l.nodeType;)if(l=l.nextSibling,"tr"==l.tagName.toLowerCase())break a;l=null}if(l)if(0<q)switch(e){case "before":u=this.getRowCells(l);0<q&&this.map[b+
y][this.idx.col].el!=u[q]&&q==u.length-1?g(u[q],this.createCells(a,1)):u[q].parentNode.insertBefore(this.createCells(a,1),u[q]);break;case "after":g(this.getRowCells(l)[q],this.createCells(a,1))}else l.insertBefore(this.createCells(a,1),l.firstChild);else q=w.createElement("tr"),q.appendChild(this.createCells(a,1)),this.table.appendChild(q)}}};f.table={getCellsBetween:function(a,b){return(new l(a)).getMapElsTo(b)},addCells:function(a,b){(new l(a)).add(b)},removeCells:function(a,b){(new l(a)).remove(b)},
mergeCellsBetween:function(a,b){(new l(a)).merge(b)},unmergeCell:function(a){(new l(a)).unmerge()},orderSelectionEnds:function(a,b){return(new l(a)).orderSelectionEnds(b)},indexOf:function(a){var b=new l(a);b.setTableMap();return b.getMapIndex(a)},findCell:function(a,b){return(new l(null,a)).getElementAtIndex(b)},findRowByCell:function(a){return(new l(a)).getRowElementsByCell()},findColumnByCell:function(a){return(new l(a)).getColumnElementsByCell()},canMerge:function(a,b){return(new l(a)).canMerge(b)}}})(wysihtml5);
wysihtml5.dom.query=function(a,h){var b=[],g;a.nodeType&&(a=[a]);for(var f=0,e=a.length;f<e;f++)if(g=a[f].querySelectorAll(h))for(var l=g.length;l--;b.unshift(g[l]));return b};
wysihtml5.dom.compareDocumentPosition=function(){return document.documentElement.compareDocumentPosition?function(a,h){return a.compareDocumentPosition(h)}:function(a,h){if(a===h)return 0;if(a===h.ownerDocument)return 20;if(a.ownerDocument===h)return 10;if((9===a.nodeType?a:a.ownerDocument)!==(9===h.nodeType?h:h.ownerDocument))return 1;if(2===a.nodeType&&a.childNodes&&-1!==wysihtml5.lang.array(a.childNodes).indexOf(h))return 20;if(2===h.nodeType&&h.childNodes&&-1!==wysihtml5.lang.array(h.childNodes).indexOf(a))return 10;
for(var b=a,g=[],f=null;b;){if(b==h)return 10;g.push(b);b=b.parentNode}b=h;for(f=null;b;){if(b==a)return 20;var e=wysihtml5.lang.array(g).indexOf(b);if(-1!==e)return b=g[e],g=wysihtml5.lang.array(b.childNodes).indexOf(g[e-1]),f=wysihtml5.lang.array(b.childNodes).indexOf(f),g>f?2:4;f=b;b=b.parentNode}return 1}}();wysihtml5.dom.unwrap=function(a){var h=[];if(a.parentNode){for(;a.lastChild;)h.unshift(a.lastChild),wysihtml5.dom.insert(a.lastChild).after(a);a.parentNode.removeChild(a)}return h};
wysihtml5.dom.getPastedHtml=function(a){var h;wysihtml5.browser.supportsModernPaste()&&a.clipboardData&&(wysihtml5.lang.array(a.clipboardData.types).contains("text/html")?h=a.clipboardData.getData("text/html"):wysihtml5.lang.array(a.clipboardData.types).contains("text/plain")&&(h=wysihtml5.lang.string(a.clipboardData.getData("text/plain")).escapeHTML(!0,!0)));return h};
wysihtml5.dom.getPastedHtmlWithDiv=function(a,h){var b=a.selection.getBookmark(),g=a.element.ownerDocument,f=g.createElement("DIV"),e=a.getScrollPos();g.body.appendChild(f);f.style.width="1px";f.style.height="1px";f.style.overflow="hidden";f.style.position="absolute";f.style.top=e.y+"px";f.style.left=e.x+"px";f.setAttribute("contenteditable","true");f.focus();setTimeout(function(){var e;a.selection.setBookmark(b);(e=f.innerHTML)&&/^<br\/?>$/i.test(e.trim())&&(e=!1);h(e);f.parentNode.removeChild(f)},
0)};wysihtml5.dom.removeInvisibleSpaces=function(a){a=wysihtml5.dom.getTextNodes(a);for(var h=a.length;h--;)a[h].nodeValue=a[h].nodeValue.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")};
wysihtml5.quirks.cleanPastedHTML=function(){return function(a,h){var b={color:wysihtml5.dom.getStyle("color").from(h.referenceNode),fontSize:wysihtml5.dom.getStyle("font-size").from(h.referenceNode)},g;a:{g=h.rules;var f;if(g){for(var e=0,l=g.length;e<l;e++)if(g[e].condition||(f=g[e].set),g[e].condition&&g[e].condition.test(a)){g=g[e].set;break a}g=f}else g=null}g=wysihtml5.lang.object(g||{}).clone(!0);var k,n;for(k in g.tags)if(g.tags.hasOwnProperty(k)&&g.tags[k].keep_styles)for(n in g.tags[k].keep_styles)g.tags[k].keep_styles.hasOwnProperty(n)&&
b[n]&&(f=g.tags[k].keep_styles,e=n,l=wysihtml5.lang.string(b[n]).trim().replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),f[e]=new RegExp("^((?!^"+l+"$).)*$","i"));return wysihtml5.dom.parse(a,{rules:g,cleanUp:!0,context:h.referenceNode.ownerDocument,uneditableClass:h.uneditableClass,clearInternals:!0,unjoinNbsps:!0})}}();
wysihtml5.quirks.ensureProperClearing=function(){var a=function(){var a=this;setTimeout(function(){var b=a.innerHTML.toLowerCase();if("<p>&nbsp;</p>"==b||"<p>&nbsp;</p><p>&nbsp;</p>"==b)a.innerHTML=""},0)};return function(h){wysihtml5.dom.observe(h.element,["cut","keydown"],a)}}();
(function(a){a.quirks.getCorrectInnerHTML=function(h){var b=h.innerHTML;if(-1===b.indexOf("%7E"))return b;h=h.querySelectorAll("[href*='~'], [src*='~']");var g,f,e,l;l=0;for(e=h.length;l<e;l++)g=h[l].href||h[l].src,f=a.lang.string(g).replace("~").by("%7E"),b=a.lang.string(b).replace(f).by(g);return b}})(wysihtml5);
(function(a){a.quirks.redraw=function(h){a.dom.addClass(h,"wysihtml5-quirks-redraw");a.dom.removeClass(h,"wysihtml5-quirks-redraw");try{var b=h.ownerDocument;b.execCommand("italic",!1,null);b.execCommand("italic",!1,null)}catch(g){}}})(wysihtml5);
wysihtml5.quirks.tableCellsSelection=function(a,h){function b(){if(a){var b=a.querySelectorAll("."+n);if(0<b.length)for(var e=0;e<b.length;e++)l.removeClass(b[e],n)}}function g(a){for(var b=0;b<a.length;b++)l.addClass(a[b],n)}function f(e){var f=null;(e=l.getParentElement(e.target,{query:"td, th"},!1,a))&&k.table&&k.start&&(f=l.getParentElement(e,{query:"table"},!1,a))&&f===k.table&&(b(),f=k.end,k.end=e,k.cells=l.table.getCellsBetween(k.start,e),1<k.cells.length&&h.composer.selection.deselect(),g(k.cells),
k.end!==f&&h.fire("tableselectchange").fire("tableselectchange:composer"))}function e(b){a.removeEventListener("mousemove",f);a.removeEventListener("mouseup",e);h.fire("tableselect").fire("tableselect:composer");setTimeout(function(){a.ownerDocument.addEventListener("click",m)},0)}var l=wysihtml5.dom,k={table:null,start:null,end:null,cells:null,select:function(b,e){k.start=b;k.end=e;k.table=l.getParentElement(k.start,{query:"table"},!1,a);selectedCells=l.table.getCellsBetween(k.start,k.end);g(selectedCells);
a.ownerDocument.addEventListener("click",m);h.fire("tableselect").fire("tableselect:composer")}},n="wysiwyg-tmp-selected-cell",m=function(e){a.ownerDocument.removeEventListener("click",m);l.getParentElement(e.target,{query:"table"},!1,a)!=k.table&&(b(),k.table=null,k.start=null,k.end=null,h.fire("tableunselect").fire("tableunselect:composer"))};a.addEventListener("mousedown",function(g){if(g=wysihtml5.dom.getParentElement(g.target,{query:"td, th"},!1,a))k.start=g,k.end=g,k.cells=[g],k.table=l.getParentElement(k.start,
{query:"table"},!1,a),k.table&&(b(),l.addClass(g,n),a.addEventListener("mousemove",f),a.addEventListener("mouseup",e),h.fire("tableselectstart").fire("tableselectstart:composer"))});return k};
(function(a){function h(a){var e,g;for(e in b)if(b.hasOwnProperty(e)&&(g=b[e],g.regex.test(a)))return g}var b={rgba:{regex:/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,name:"rgba"},rgb:{regex:/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,name:"rgb"},hex6:{regex:/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,name:"hex",radix:16},hex3:{regex:/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,name:"hex",radix:16}},g=function(a){return new RegExp("(^|\\s|;)"+
a+"\\s*:\\s*[^;$]+","gi")};a.quirks.styleParser={getColorParseMethod:h,getColorFormat:function(a){return(a=h(a))?a.name:void 0},parseColor:function(f,e){var l,k,n,m;l=f;if(e){l=g(e);if(!(l=f.match(l)))return!1;l=l.pop().split(":")[1];l=a.lang.string(l).trim()}if(!(k=h(l))||!(n=l.match(k.regex)))return!1;m=k.radix||10;if(k===b.hex3)return n.shift(),n.push(1),a.lang.array(n).map(function(a,b){return 3>b?parseInt(a,m)*m+parseInt(a,m):parseFloat(a)});n.shift();n[3]||n.push(1);return a.lang.array(n).map(function(a,
b){return 3>b?parseInt(a,m):parseFloat(a)})},unparseColor:function(a,b){return"hex"===b?(a[0].toString(16)+a[1].toString(16)+a[2].toString(16)).toUpperCase():"hash"===b?"#"+(a[0].toString(16)+a[1].toString(16)+a[2].toString(16)).toUpperCase():"rgb"===b?"rgb("+a[0]+","+a[1]+","+a[2]+")":"rgba"===b?"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")":"csv"===b?a[0]+","+a[1]+","+a[2]+","+a[3]:a[3]&&1!==a[3]?"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")":"rgb("+a[0]+","+a[1]+","+a[2]+")"},parseFontSize:function(b){return(b=
b.match(g("font-size")))?a.lang.string(b[b.length-1].split(":")[1]).trim():!1}}})(wysihtml5);
(function(a){function h(a,b){for(var f=0;b!==a;)if(f++,b=b.parentNode,!b)throw Error("not a descendant of ancestor!");return f}function b(a,b){return 3===a.nodeType?a:a.childNodes[b]||a}function g(b){var f=document.createElement("span"),g=function(a){b.removeEventListener("mouseup",g);b.removeEventListener("keydown",g);b.removeEventListener("touchstart",g);b.removeEventListener("focus",g);b.removeEventListener("blur",g);b.removeEventListener("paste",h);b.removeEventListener("drop",h);b.removeEventListener("beforepaste",
h);f&&f.parentNode&&f.parentNode.removeChild(f)},h=function(a){f&&f.parentNode&&setTimeout(g,0)};f.appendChild(b.ownerDocument.createTextNode(a.INVISIBLE_SPACE));f.className="_wysihtml5-temp-caret-fix";f.style.display="block";f.style.minWidth="1px";f.style.height="0px";b.addEventListener("mouseup",g);b.addEventListener("keydown",g);b.addEventListener("touchstart",g);b.addEventListener("focus",g);b.addEventListener("blur",g);b.addEventListener("paste",h);b.addEventListener("drop",h);b.addEventListener("beforepaste",
h);return f}var f=a.dom;a.Selection=Base.extend({constructor:function(a,b,f){rangy.init();this.editor=a;this.composer=a.composer;this.doc=this.composer.doc;this.win=this.composer.win;this.contain=b;this.unselectableClass=f||!1},getBookmark:function(){var a=this.getRange();return a&&a.cloneRange()},setBookmark:function(a){a&&this.setSelection(a)},setBefore:function(a){var b=rangy.createRange(this.doc);b.setStartBefore(a);b.setEndBefore(a);return this.setSelection(b)},createTemporaryCaretSpaceAfter:function(b){var f=
this.doc.createElement("span"),g=this.doc.createTextNode(a.INVISIBLE_SPACE),h=function(b){this.contain.removeEventListener("mouseup",h);this.contain.removeEventListener("keydown",p);this.contain.removeEventListener("touchstart",h);this.contain.removeEventListener("focus",h);this.contain.removeEventListener("blur",h);this.contain.removeEventListener("paste",m);this.contain.removeEventListener("drop",m);this.contain.removeEventListener("beforepaste",m);f&&f.parentNode&&(f.innerHTML=f.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,
""),/[^\s]+/.test(f.innerHTML)?(b=f.lastChild,a.dom.unwrap(f),this.setAfter(b)):f.parentNode.removeChild(f))}.bind(this),m=function(a){f&&f.parentNode&&setTimeout(h,0)},p=function(a){8===a.which||91===a.which||17===a.which||86===a.which&&(a.ctrlKey||a.metaKey)||h()};f.className="_wysihtml5-temp-caret-fix";f.style.position="absolute";f.style.display="block";f.style.minWidth="1px";f.style.zIndex="99999";f.appendChild(g);b.parentNode.insertBefore(f,b.nextSibling);this.setBefore(g);this.contain.addEventListener("mouseup",
h);this.contain.addEventListener("keydown",p);this.contain.addEventListener("touchstart",h);this.contain.addEventListener("focus",h);this.contain.addEventListener("blur",h);this.contain.addEventListener("paste",m);this.contain.addEventListener("drop",m);this.contain.addEventListener("beforepaste",m);return f},setAfter:function(b,f,g){var h=this.win,m=rangy.createRange(this.doc),p=function(){var g=b.parentNode,g=g?g.childNodes[g.childNodes.length-1]:null;if(!r||g===b&&1===b.nodeType&&"block"===h.getComputedStyle(b).display)if(f){var k=
this.doc.createTextNode(a.INVISIBLE_SPACE);b.parentNode.insertBefore(k,b.nextSibling);this.selectNode(k);setTimeout(function(){k&&k.parentNode&&k.parentNode.removeChild(k)},0)}else this.createTemporaryCaretSpaceAfter(b)}.bind(this),r;m.setStartAfter(b);m.setEndAfter(b);if(document.activeElement&&document.activeElement===this.composer.element)r=this.setSelection(m),p(),g&&g(r);else{var q=this.composer.getScrollPos();this.composer.element.focus();this.composer.setScrollPos(q);setTimeout(function(){r=
this.setSelection(m);p();g&&g(r)}.bind(this),0)}},selectNode:function(b,g){var h=rangy.createRange(this.doc),n=b.nodeType===a.ELEMENT_NODE,m="canHaveHTML"in b?b.canHaveHTML:"IMG"!==b.nodeName,p=n?b.innerHTML:b.data,p=""===p||p===a.INVISIBLE_SPACE,r=f.getStyle("display").from(b),r="block"===r||"list-item"===r;if(p&&n&&m&&!g)try{b.innerHTML=a.INVISIBLE_SPACE}catch(q){}m?h.selectNodeContents(b):h.selectNode(b);m&&p&&n?h.collapse(r):m&&p&&(h.setStartAfter(b),h.setEndAfter(b));this.setSelection(h)},getSelectedNode:function(a){if(a&&
this.doc.selection&&"Control"===this.doc.selection.type&&(a=this.doc.selection.createRange())&&a.length)return a.item(0);a=this.getSelection(this.doc);return a.focusNode===a.anchorNode?a.focusNode:(a=this.getRange(this.doc))?a.commonAncestorContainer:this.doc.body},fixSelBorders:function(){var a=this.getRange();if(!a.canSurroundContents())for(var b=a.commonAncestorContainer,f=h(b,a.startContainer),g=h(b,a.endContainer);!a.canSurroundContents();)f>g?(a.setStartBefore(a.startContainer),f=h(b,a.startContainer)):
(a.setEndAfter(a.endContainer),g=h(b,a.endContainer));this.setSelection(a)},getSelectedOwnNodes:function(a){a=this.getOwnRanges();for(var b=[],f=0,g=a.length;f<g;f++)b.push(a[f].commonAncestorContainer||this.doc.body);return b},findNodesInSelection:function(b){for(var f=this.getOwnRanges(),g=[],h,m=0,p=f.length;m<p;m++)h=f[m].getNodes([1],function(f){return a.lang.array(b).contains(f.nodeName)}),g=g.concat(h);return g},filterElements:function(a){for(var b=this.getOwnRanges(),f=[],g,h=0,p=b.length;h<
p;h++)g=b[h].getNodes([1],function(f){return a(f,b[h])}),f=f.concat(g);return f},containsUneditable:function(){for(var a=this.getOwnUneditables(),b=this.getSelection(),f=0,g=a.length;f<g;f++)if(b.containsNode(a[f]))return!0;return!1},deleteContents:function(){var a=this.getRange();this.deleteRangeContents(a);this.setSelection(a)},deleteRangeContents:function(b){var f,g,h;if(this.unselectableClass)for((f=a.dom.getParentElement(b.startContainer,{query:"."+this.unselectableClass},!1,this.contain))&&
b.setStartBefore(f),(g=a.dom.getParentElement(b.endContainer,{query:"."+this.unselectableClass},!1,this.contain))&&b.setEndAfter(g),f=b.getNodes([1],function(b){return a.dom.hasClass(b,this.unselectableClass)}.bind(this)),g=f.length;g--;)try{h=new CustomEvent("wysihtml5:uneditable:delete"),f[g].dispatchEvent(h)}catch(m){}b.deleteContents()},getCaretNode:function(){var a=this.getSelection();return a&&a.anchorNode?b(a.anchorNode,a.anchorOffset):null},getPreviousNode:function(e,f){var g;if(!e){var h=
this.getSelection();e=h&&h.anchorNode?b(h.anchorNode,h.anchorOffset):null}if(e===this.contain)return!1;h=e.previousSibling;if(h===this.contain)return!1;h&&3!==h.nodeType&&1!==h.nodeType?h=this.getPreviousNode(h,f):h&&3===h.nodeType&&/^\s*$/.test(h.textContent)?h=this.getPreviousNode(h,f):f&&h&&1===h.nodeType?(g=a.dom.getStyle("display").from(h),a.lang.array(["BR","HR","IMG"]).contains(h.nodeName)||a.lang.array(["block","inline-block","flex","list-item","table"]).contains(g)||!/^[\s]*$/.test(h.innerHTML)||
(h=this.getPreviousNode(h,f))):h||e===this.contain||(g=e.parentNode,g!==this.contain&&(h=this.getPreviousNode(g,f)));return h!==this.contain?h:!1},getNodesNearCaret:function(){if(!this.isCollapsed())throw"Selection must be caret when using selection.getNodesNearCaret()";var a=this.getOwnRanges(),b,f,g,h;return a&&0<a.length?(1===a[0].startContainer.nodeType?(b=a[0].startContainer.childNodes[a[0].startOffset-1],b||0!==a[0].startOffset)?b&&(f=b.previousSibling,g=b.nextSibling):g=a[0].startContainer.childNodes[0]:
(0===a[0].startOffset&&a[0].startContainer.previousSibling?(b=a[0].startContainer.previousSibling,3===b.nodeType&&(h=b.data.length)):(b=a[0].startContainer,h=a[0].startOffset),f=b.previousSibling,g=b.nextSibling),{caretNode:b,prevNode:f,nextNode:g,textOffset:h}):null},getSelectionParentsByTag:function(b){b=this.getSelectedOwnNodes();for(var f,g=[],h=0,m=b.length;h<m;h++)(f=b[h].nodeName&&"LI"===b[h].nodeName?b[h]:a.dom.getParentElement(b[h],{query:"li"},!1,this.contain))&&g.push(f);return g.length?
g:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var a=this.getRange(),b=a.startContainer,a=a.startOffset,f=rangy.createRange(this.doc);f.selectNodeContents(b);f.setStart(b,a);return f}},caretIsLastInSelection:function(){rangy.createRange(this.doc);this.getSelection();var a=this.getRangeToNodeEnd().cloneContents().textContent;return/^\s*$/.test(a)},caretIsFirstInSelection:function(e){var f=rangy.createRange(this.doc),g=this.getSelection(),h=this.getRange(),m=b(h.startContainer,h.startOffset);
if(m){if(m.nodeType===a.TEXT_NODE){if(!m.parentNode||!this.isCollapsed()||m.parentNode.firstChild!==m&&!a.dom.domNode(m.previousSibling).is.block())return!1;e=this.win.getComputedStyle(m.parentNode).whiteSpace;return"pre"===e||"pre-wrap"===e?0===h.startOffset:/^\s*$/.test(m.data.substr(0,h.startOffset))}if(e&&a.dom.domNode(m).is.lineBreak())return!0;f.selectNodeContents(this.getRange().commonAncestorContainer);f.collapse(!0);return this.isCollapsed()&&(f.startContainer===g.anchorNode||f.endContainer===
g.anchorNode)&&f.startOffset===g.anchorOffset}},caretIsInTheBeginnig:function(b){var f=this.getSelection(),g=f.anchorNode,f=f.anchorOffset;if(b&&g)return 0===f&&(g.nodeName&&g.nodeName===b.toUpperCase()||a.dom.getParentElement(g.parentNode,{query:b},1));if(g)return 0===f&&!this.getPreviousNode(g,!0)},getBeforeSelection:function(b){var f=this.getSelection(),g=f.isBackwards()?f.focusNode:f.anchorNode,f=f.isBackwards()?f.focusOffset:f.anchorOffset,h=this.createRange(),m;g&&3===g.nodeType&&/^\s*$/.test(g.data.slice(0,
f))&&(f=0);if(m=a.dom.getParentElement(g,{query:"._wysihtml5-temp-caret-fix"},1))g=m.parentNode,f=Array.prototype.indexOf.call(g.childNodes,m);if(g){if(0<f){if(3===g.nodeType)return h.setStart(g,0),h.setEnd(g,f),{type:"text",range:h,offset:f,node:g};h.setStartBefore(g.childNodes[0]);g=g.childNodes[f-1];h.setEndAfter(g);return{type:"element",range:h,offset:f,node:g}}h.setStartAndEnd(g,0);return b&&(b=this.getPreviousNode(g,!0),m=null,b&&(m=1===b.nodeType&&a.dom.hasClass(b,this.unselectableClass)?b:
a.dom.domNode(b).lastLeafNode()),m)?{type:"leafnode",range:h,offset:f,node:m}:{type:"none",range:h,offset:f,node:g}}return null},executeAndRestoreRangy:function(a,b){var f=rangy.saveSelection(this.win);if(f)try{a()}catch(g){setTimeout(function(){throw g;},0)}else a();rangy.restoreSelection(f)},executeAndRestore:function(b,g){var h=this.doc.body,n=g&&h.scrollTop,m=g&&h.scrollLeft,p='<span class="_wysihtml5-temp-placeholder">'+a.INVISIBLE_SPACE+"</span>",r=this.getRange(!0),q,u,w;if(r){r.collapsed||
(w=r.cloneRange(),q=w.createContextualFragment(p),w.collapse(!1),w.insertNode(q),w.detach());p=r.createContextualFragment(p);r.insertNode(p);q&&(q=this.contain.querySelectorAll("._wysihtml5-temp-placeholder"),r.setStartBefore(q[0]),r.setEndAfter(q[q.length-1]));this.setSelection(r);try{b(r.startContainer,r.endContainer)}catch(y){setTimeout(function(){throw y;},0)}if((q=this.contain.querySelectorAll("._wysihtml5-temp-placeholder"))&&q.length)for(r=rangy.createRange(this.doc),p=q[0].nextSibling,1<q.length&&
(u=q[q.length-1].previousSibling),u&&p?r.setStartBefore(p):(u=this.doc.createTextNode(a.INVISIBLE_SPACE),f.insert(u).after(q[0]),r.setStartBefore(u)),r.setEndAfter(u),this.setSelection(r),u=q.length;u--;)q[u].parentNode.removeChild(q[u]);else this.contain.focus();g&&(h.scrollTop=n,h.scrollLeft=m);try{q.parentNode.removeChild(q)}catch(x){}}else b(h,h)},set:function(a,b){var f=rangy.createRange(this.doc);f.setStart(a,b||0);this.setSelection(f)},insertHTML:function(a){var b=this.getRange(),f=this.doc.createElement("DIV"),
g=this.doc.createDocumentFragment();if(b){b.deleteContents();f.innerHTML=a;for(a=f.lastChild;f.firstChild;)g.appendChild(f.firstChild);b.insertNode(g);for(b=this.contain.lastChild;b&&3===b.nodeType&&b.previousSibling&&/^\s*$/.test(b.data);)b=b.previousSibling;a&&(b&&a===b&&1===a.nodeType&&this.contain.appendChild(this.doc.createElement("br")),this.setAfter(a))}},insertNode:function(a){var b=this.getRange();b&&b.insertNode(a)},canAppendChild:function(a){var b,f=this.getRange();(a=a||f.startContainer)&&
(b=(a.tagName||a.nodeName).toLowerCase());return-1==="area base br col command embed hr img input keygen link meta param source track wbr".split(" ").indexOf(b)},splitElementAtCaret:function(b,f){var g=this.getSelection(),h,m;if(0<g.rangeCount){g=g.getRangeAt(0).cloneRange();g.setEndAfter(b);h=g.extractContents();m=h.childNodes;for(var p=m.length;p--;)a.dom.domNode(m[p]).is.visible()||h.removeChild(m[p]);b.parentNode.insertBefore(h,b.nextSibling);f?(h=f.firstChild||f,m=f.lastChild||f,b.parentNode.insertBefore(f,
b.nextSibling),h&&m&&(g.setStartBefore(h),g.setEndAfter(m),this.setSelection(g))):(g.setStartAfter(b),g.setEndAfter(b));a.dom.domNode(b).is.visible()||(""===a.dom.getTextContent(b)?b.parentNode.removeChild(b):b.parentNode.replaceChild(this.doc.createTextNode(" "),b))}},surround:function(a){var b=this.getOwnRanges(),f,g=[];if(0==b.length)return g;for(var h=b.length;h--;){f=this.doc.createElement(a.nodeName);g.push(f);a.className&&(f.className=a.className);a.cssStyle&&f.setAttribute("style",a.cssStyle);
try{b[h].surroundContents(f),this.selectNode(f)}catch(p){f.appendChild(b[h].extractContents()),b[h].insertNode(f)}}return g},scrollIntoView:function(){var b=this.doc,f=b.documentElement.scrollHeight>b.documentElement.offsetHeight,g;(g=b._wysihtml5ScrollIntoViewElement)||(g=b.createElement("span"),g.innerHTML=a.INVISIBLE_SPACE);g=b._wysihtml5ScrollIntoViewElement=g;if(f){this.insertNode(g);var f=g,h=0;if(f.parentNode){do h+=f.offsetTop||0,f=f.offsetParent;while(f)}f=h;g.parentNode.removeChild(g);f>=
b.body.scrollTop+b.documentElement.offsetHeight-5&&(b.body.scrollTop=f)}},selectLine:function(){var b=rangy.createRange();a.browser.supportsSelectionModify()?this._selectLine_W3C():b.nativeRange&&b.nativeRange.getBoundingClientRect&&this._selectLineUniversal()},includeRangyRangeHelpers:function(){var a=this.getSelection(),b=a.getRangeAt(0),f=function(a){return a&&1===a.nodeType&&a.classList.contains("rangySelectionBoundary")},g=1===a.anchorNode.nodeType?a.anchorNode.childNodes[a.anchorOffset]:a.anchorNode,
h=1===a.focusNode.nodeType?a.focusNode.childNodes[a.focusOffset]:a.focusNode,p;if(p=h){p=a.focusOffset;var r;r=1===h.nodeType?h.childNodes&&h.childNodes.length||0:h.data&&h.data.length||0;p=p===r}p&&h.nextSibling&&f(h.nextSibling)&&b.setEndAfter(h.nextSibling);g&&0===a.anchorOffset&&g.previousSibling&&f(g.previousSibling)&&b.setStartBefore(g.previousSibling);b.select()},_selectLine_W3C:function(){var a=this.win.getSelection(),b=[a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset];a.modify("move",
"left","lineboundary");a.modify("extend","right","lineboundary");a.anchorNode===b[0]&&a.anchorOffset===b[1]&&a.focusNode===b[2]&&a.focusOffset===b[3]?this._selectLineUniversal():this.includeRangyRangeHelpers()},toLineBoundary:function(b,f){f="undefined"===typeof f?!1:f;if(a.browser.supportsSelectionModify()){var g=this.win.getSelection();g.modify("extend",b,"lineboundary");f&&("left"===b?g.collapseToStart():"right"===b&&g.collapseToEnd())}},getRangeRect:function(a){this.doc.createTextNode("i");var b=
this.doc.createTextNode("i");a.collapsed?(a.insertNode(b),a.selectNode(b),b=a.nativeRange.getBoundingClientRect(),a.deleteContents()):b=a.nativeRange.getBoundingClientRect();return b},_selectLineUniversal:function(){var b=this.getSelection().getRangeAt(0),f,g=0,h,m,p,r=this;f=function(b){return b&&1===b.nodeType&&("block"===r.win.getComputedStyle(b).display||a.lang.array(["BR","HR"]).contains(b.nodeName))};h=function(a){if(a)for(;a&&(1===a.nodeType&&a.classList.contains("rangySelectionBoundary")||
3===a.nodeType&&/^\s*$/.test(a.data));)a=a.previousSibling;return a};b.cloneRange();b.cloneRange();b.collapsed&&(3===b.startContainer.nodeType&&b.startOffset<b.startContainer.data.length?b.moveEnd("character",1):1===b.startContainer.nodeType&&b.startContainer.childNodes[b.startOffset]&&3===b.startContainer.childNodes[b.startOffset].nodeType&&0<b.startContainer.childNodes[b.startOffset].data.length?b.moveEnd("character",1):0<b.startOffset&&(3===b.startContainer.nodeType||1===b.startContainer.nodeType&&
!f(h(b.startContainer.childNodes[b.startOffset-1])))&&b.moveStart("character",-1));b.collapsed||b.insertNode(this.doc.createTextNode(a.INVISIBLE_SPACE));f=b.nativeRange.getBoundingClientRect();do h=b.moveStart("character",-1),m=b.nativeRange.getBoundingClientRect(),m&&Math.floor(m.top)===Math.floor(f.top)||(b.moveStart("character",1),p=!0),g++;while(0!==h&&!p&&2E3>g);g=0;p=!1;f=b.nativeRange.getBoundingClientRect();if(b.endContainer!==this.contain||this.contain.lastChild&&this.contain.childNodes[b.endOffset]!==
this.contain.lastChild){do h=b.moveEnd("character",1),m=b.nativeRange.getBoundingClientRect(),m&&Math.floor(m.bottom)===Math.floor(f.bottom)||(b.moveEnd("character",-1),b.endContainer&&1===b.endContainer.nodeType&&b.endContainer.childNodes[b.endOffset]&&1===b.endContainer.childNodes[b.endOffset].nodeType&&"BR"===b.endContainer.childNodes[b.endOffset].nodeName&&b.endContainer.childNodes[b.endOffset].previousSibling&&(1===b.endContainer.childNodes[b.endOffset].previousSibling.nodeType?b.setEnd(b.endContainer.childNodes[b.endOffset].previousSibling,
b.endContainer.childNodes[b.endOffset].previousSibling.childNodes.length):3===b.endContainer.childNodes[b.endOffset].previousSibling.nodeType&&b.setEnd(b.endContainer.childNodes[b.endOffset].previousSibling,b.endContainer.childNodes[b.endOffset].previousSibling.data.length)),p=!0),g++;while(0!==h&&!p&&2E3>g)}b.select();this.includeRangyRangeHelpers()},getText:function(){var a=this.getSelection();return a?a.toString():""},getNodes:function(a,b){var f=this.getRange();return f?f.getNodes(Array.isArray(a)?
a:[a],b):[]},getOwnNodes:function(a,b,f){for(var g=this.getOwnRanges(),h=[],p=0,r=g.length;p<r;p++)g[p]&&(f&&g[p].splitBoundaries(),h=h.concat(g[p].getNodes(Array.isArray(a)?a:[a],b)));return h},fixRangeOverflow:function(a){if(this.contain&&this.contain.firstChild&&a){var b=a.compareNode(this.contain);2!==b?(1===b&&a.setStartBefore(this.contain.firstChild),0===b&&a.setEndAfter(this.contain.lastChild),3===b&&(a.setStartBefore(this.contain.firstChild),a.setEndAfter(this.contain.lastChild))):this._detectInlineRangeProblems(a)&&
(b=a.endContainer.previousElementSibling)&&a.setEnd(b,this._endOffsetForNode(b))}},_endOffsetForNode:function(a){var b=document.createRange();b.selectNodeContents(a);return b.endOffset},_detectInlineRangeProblems:function(a){var b=f.compareDocumentPosition(a.startContainer,a.endContainer);return 0==a.endOffset&&b&4},getRange:function(a){var b=this.getSelection(),b=b&&b.rangeCount&&b.getRangeAt(0);!0!==a&&this.fixRangeOverflow(b);return b},getOwnUneditables:function(){var b=f.query(this.contain,"."+
this.unselectableClass),g=f.query(b,"."+this.unselectableClass);return a.lang.array(b).without(g)},getOwnRanges:function(){var a=[],b=this.getRange();b&&a.push(b);if(this.unselectableClass&&this.contain&&b){var f=this.getOwnUneditables(),g;if(0<f.length)for(var h=0,p=f.length;h<p;h++)for(var b=[],r=0,q=a.length;r<q;r++){if(a[r])switch(a[r].compareNode(f[h])){case 2:break;case 3:g=a[r].cloneRange();g.setEndBefore(f[h]);b.push(g);g=a[r].cloneRange();g.setStartAfter(f[h]);b.push(g);break;default:b.push(a[r])}a=
b}}return a},getSelection:function(){return rangy.getSelection(this.win)},setSelection:function(a){var b=rangy.getSelection(this.win);b.setSingleRange(a);return b&&b.anchorNode&&b.focusNode?b:null},selectAll:function(){var b=this.createRange(),f=this.composer,h=this,n=g(this.composer.element),m=g(this.composer.element),p,r=function(){b.setStart(f.element,0);b.setEnd(f.element,f.element.childNodes.length);p=h.setSelection(b)},q=function(){return!p||p.nativeSelection&&p.nativeSelection.type&&("Caret"===
p.nativeSelection.type||"None"===p.nativeSelection.type)};a.dom.removeInvisibleSpaces(this.composer.element);r();this.composer.element.firstChild&&q()&&(this.composer.element.appendChild(n),r(),q()&&(n.parentNode.removeChild(n),this.composer.element.insertBefore(m,this.composer.element.firstChild),r(),q()&&(this.composer.element.appendChild(n),r())))},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},getHtml:function(){return this.getSelection().toHtml()},
getPlainText:function(){return this.getSelection().toString()},isEndToEndInNode:function(b){var f=this.getRange(),g=f.commonAncestorContainer,h=f.startContainer,m=f.endContainer;g.nodeType===a.TEXT_NODE&&(g=g.parentNode);if(h.nodeType===a.TEXT_NODE&&!/^\s*$/.test(h.data.substr(f.startOffset))||m.nodeType===a.TEXT_NODE&&!/^\s*$/.test(m.data.substr(f.endOffset)))return!1;for(;h&&h!==g;){if(h.nodeType!==a.TEXT_NODE&&!a.dom.contains(g,h)||a.dom.domNode(h).prev({ignoreBlankTexts:!0}))return!1;h=h.parentNode}for(;m&&
m!==g;){if(m.nodeType!==a.TEXT_NODE&&!a.dom.contains(g,m)||a.dom.domNode(m).next({ignoreBlankTexts:!0}))return!1;m=m.parentNode}return a.lang.array(b).contains(g.nodeName)?g:!1},isInThisEditable:function(){var b=this.getSelection(),f=b.focusNode,b=b.anchorNode;f&&1!==f.nodeType&&(f=f.parentNode);b&&1!==b.nodeType&&(b=b.parentNode);return b&&f&&(a.dom.contains(this.composer.element,f)||this.composer.element===f)&&(a.dom.contains(this.composer.element,b)||this.composer.element===b)},deselect:function(){var a=
this.getSelection();a&&a.removeAllRanges()}})})(wysihtml5);
(function(a,h){function b(a,b,e){a.getAttribute("style")?(g(a,e),a.getAttribute("style")&&!/^\s*$/.test(a.getAttribute("style"))?a.setAttribute("style",b+";"+a.getAttribute("style")):a.setAttribute("style",b)):a.setAttribute("style",b)}function g(a,b){var e,f=[];if(a.getAttribute("style")){e=a.getAttribute("style").split(";");for(var g=e.length;g--;)e[g].match(b)||/^\s*$/.test(e[g])||f.push(e[g]);f.length?a.setAttribute("style",f.join(";")):a.removeAttribute("style")}}function f(a,b){var e=[],f=b.split(";"),
g=a.getAttribute("style");if(g){g=g.replace(/\s/gi,"").toLowerCase();e.push(new RegExp("(^|\\s|;)"+b.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var h=f.length;0<h--;)/^\s*$/.test(f[h])||e.push(new RegExp("(^|\\s|;)"+f[h].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));
f=0;for(h=e.length;f<h;f++)if(g.match(e[f]))return e[f]}return!1}function e(b,e,g,k){for(var l=b.length;l--;){var m;m=b[l];var n=e,p=k;m=g?f(m,g):p?a.dom.hasClass(m,p):h.dom.arrayContains(n,m.tagName.toLowerCase());if(!m)return!1}return b.length?!0:!1}function l(a,b){return h.dom.isCharacterDataNode(a)?0==b?!!a.previousSibling:b==a.length?!!a.nextSibling:!0:0<b&&b<a.childNodes.length}function k(a,b,e,f){var g;h.dom.isCharacterDataNode(b)&&(0==e?(e=h.dom.getNodeIndex(b),b=b.parentNode):e==b.length?
(e=h.dom.getNodeIndex(b)+1,b=b.parentNode):g=h.dom.splitDataNode(b,e));if(!(g||f&&b===f)){g=b.cloneNode(!1);g.id&&g.removeAttribute("id");for(var l;l=b.childNodes[e];)g.appendChild(l);h.dom.insertAfter(g,b)}return b==a?g:k(a,g.parentNode,h.dom.getNodeIndex(g),f)}function n(b){this.firstTextNode=(this.isElementMerge=b.nodeType==a.ELEMENT_NODE)?b.lastChild:b;this.textNodes=[this.firstTextNode]}function m(a,b,e,f,g,h,k){this.tagNames=a||["span"];this.cssClass=b||(!1===b?!1:"");this.similarClassRegExp=
e;this.cssStyle=g||"";this.similarStyleRegExp=h;this.normalize=f;this.applyToAnyTagName=!1;this.container=k}var p=/\s+/g;n.prototype={doMerge:function(){for(var a=[],b,e,f=0,g=this.textNodes.length;f<g;++f)b=this.textNodes[f],e=b.parentNode,a[f]=b.data,f&&(e.removeChild(b),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=a=a.join("")},getLength:function(){for(var a=this.textNodes.length,b=0;a--;)b+=this.textNodes[a].length;return b},toString:function(){for(var a=[],b=
0,e=this.textNodes.length;b<e;++b)a[b]="'"+this.textNodes[b].data+"'";return"[Merge("+a.join(",")+")]"}};m.prototype={getAncestorWithClass:function(b){for(var e;b;){if(this.cssClass)if(e=this.cssClass,b.className){var f=b.className.match(this.similarClassRegExp)||[];e=f[f.length-1]===e}else e=!1;else e=""!==this.cssStyle?!1:!0;if(b.nodeType==a.ELEMENT_NODE&&"false"!=b.getAttribute("contenteditable")&&h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&e)return b;b=b.parentNode}return!1},getAncestorWithStyle:function(b){for(var e;b;){if(this.cssStyle){e=
b;var f=this.similarStyleRegExp;e.getAttribute&&e.getAttribute("style")?(e.getAttribute("style").match(f),e=e.getAttribute("style").match(f)?!0:!1):e=!1}else e=!1;if(b.nodeType==a.ELEMENT_NODE&&"false"!=b.getAttribute("contenteditable")&&h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&e)return b;b=b.parentNode}return!1},getMatchingAncestor:function(a){var b=this.getAncestorWithClass(a),e=!1;b?this.cssStyle&&(e="class"):(b=this.getAncestorWithStyle(a))&&(e="style");return{element:b,type:e}},
postApply:function(a,b){for(var e=a[0],f=a[a.length-1],g=[],h,k=e,l=f,m=0,t=f.length,p,F,G=0,K=a.length;G<K;++G)p=a[G],F=null,p&&p.parentNode&&(F=this.getAdjacentMergeableTextNode(p.parentNode,!1)),F?(h||(h=new n(F),g.push(h)),h.textNodes.push(p),p===e&&(k=h.firstTextNode,m=k.length),p===f&&(l=h.firstTextNode,t=h.getLength())):h=null;f&&f.parentNode&&(e=this.getAdjacentMergeableTextNode(f.parentNode,!0))&&(h||(h=new n(f),g.push(h)),h.textNodes.push(e));if(g.length){G=0;for(K=g.length;G<K;++G)g[G].doMerge();
b.setStart(k,m);b.setEnd(l,t)}},getAdjacentMergeableTextNode:function(b,e){var f=b.nodeType==a.TEXT_NODE,g=f?b.parentNode:b,h=e?"nextSibling":"previousSibling";if(f){if((f=b[h])&&f.nodeType==a.TEXT_NODE)return f}else if((f=g[h])&&this.areElementsMergeable(b,f))return f[e?"firstChild":"lastChild"];return null},areElementsMergeable:function(a,b){var e;if(e=h.dom.arrayContains(this.tagNames,(a.tagName||"").toLowerCase())&&h.dom.arrayContains(this.tagNames,(b.tagName||"").toLowerCase()))e=a.className.replace(p,
" ")==b.className.replace(p," ");if(e)a:if(a.attributes.length!=b.attributes.length)e=!1;else{e=0;for(var f=a.attributes.length,g,k;e<f;++e)if(g=a.attributes[e],k=g.name,"class"!=k&&(k=b.attributes.getNamedItem(k),g.specified!=k.specified||g.specified&&g.nodeValue!==k.nodeValue)){e=!1;break a}e=!0}return e},createContainer:function(a){a=a.createElement(this.tagNames[0]);this.cssClass&&(a.className=this.cssClass);this.cssStyle&&a.setAttribute("style",this.cssStyle);return a},applyToTextNode:function(a){var e=
a.parentNode;1==e.childNodes.length&&h.dom.arrayContains(this.tagNames,e.tagName.toLowerCase())?(this.cssClass&&(a=this.cssClass,e.className?(e.className&&(e.className=e.className.replace(this.similarClassRegExp,"")),e.className+=" "+a):e.className=a),this.cssStyle&&b(e,this.cssStyle,this.similarStyleRegExp)):(e=this.createContainer(h.dom.getDocument(a)),a.parentNode.insertBefore(e,a),e.appendChild(a))},isRemovable:function(b){return h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&""===
a.lang.string(b.className).trim()&&(!b.getAttribute("style")||""===a.lang.string(b.getAttribute("style")).trim())},undoToTextNode:function(a,e,h,m){a=h?!1:!0;h=h||m;m=!1;if(!e.containsNode(h)){var n=e.cloneRange();n.selectNode(h);n.isPointInRange(e.endContainer,e.endOffset)&&l(e.endContainer,e.endOffset)&&(k(h,e.endContainer,e.endOffset,this.container),e.setEndAfter(h));n.isPointInRange(e.startContainer,e.startOffset)&&l(e.startContainer,e.startOffset)&&(h=k(h,e.startContainer,e.startOffset,this.container))}!a&&
this.similarClassRegExp&&h.className&&(h.className=h.className.replace(this.similarClassRegExp,""));a&&this.similarStyleRegExp&&(e=h,a=this.cssStyle,m=this.similarStyleRegExp,(n=f(e,a))?(g(e,n),e="remove"):(b(e,a,m),e="change"),m="change"===e);if(this.isRemovable(h)&&!m){for(e=h.parentNode;h.firstChild;)e.insertBefore(h.firstChild,h);e.removeChild(h)}},applyToRange:function(b){for(var e,f=b.length;f--;){e=b[f].getNodes([a.TEXT_NODE]);if(!e.length)try{var g=this.createContainer(b[f].endContainer.ownerDocument);
b[f].surroundContents(g);this.selectNode(b[f],g);break}catch(h){}b[f].splitBoundaries();e=b[f].getNodes([a.TEXT_NODE]);if(e.length){for(var k,l=0,m=e.length;l<m;++l)k=e[l],this.getMatchingAncestor(k).element||this.applyToTextNode(k);b[f].setStart(e[0],0);k=e[e.length-1];b[f].setEnd(k,k.length);this.normalize&&this.postApply(e,b[f])}}},undoToRange:function(b){for(var e,f,g,h=b.length;h--;){e=b[h].getNodes([a.TEXT_NODE]);e.length?(b[h].splitBoundaries(),e=b[h].getNodes([a.TEXT_NODE])):(e=b[h].endContainer.ownerDocument.createTextNode(a.INVISIBLE_SPACE),
b[h].insertNode(e),b[h].selectNode(e),e=[e]);for(var k=0,l=e.length;k<l;++k)b[h].isValid()&&(f=e[k],g=this.getMatchingAncestor(f),"style"===g.type?this.undoToTextNode(f,b[h],!1,g.element):g.element&&this.undoToTextNode(f,b[h],g.element));1==l?this.selectNode(b[h],e[0]):(b[h].setStart(e[0],0),f=e[e.length-1],b[h].setEnd(f,f.length),this.normalize&&this.postApply(e,b[h]))}},selectNode:function(b,e){var f=e.nodeType===a.ELEMENT_NODE,g="canHaveHTML"in e?e.canHaveHTML:!0,h=f?e.innerHTML:e.data;if((h=""===
h||h===a.INVISIBLE_SPACE)&&f&&g)try{e.innerHTML=a.INVISIBLE_SPACE}catch(k){}b.selectNodeContents(e);h&&f?b.collapse(!1):h&&(b.setStartAfter(e),b.setEndAfter(e))},getTextSelectedByRange:function(a,b){var e=b.cloneRange();e.selectNodeContents(a);var f=e.intersection(b),f=f?f.toString():"";e.detach();return f},isAppliedToRange:function(b){for(var e=[],f="full",g,h,k=b.length;k--;){h=b[k].getNodes([a.TEXT_NODE]);if(!h.length)return(g=this.getMatchingAncestor(b[k].startContainer).element)?{elements:[g],
coverage:f}:!1;for(var l=0,m=h.length,n;l<m;++l)n=this.getTextSelectedByRange(h[l],b[k]),(g=this.getMatchingAncestor(h[l]).element)&&""!=n?(e.push(g),1===a.dom.getTextNodes(g,!0).length?f="full":"full"===f&&(f="inline")):g||(f="partial")}return e.length?{elements:e,coverage:f}:!1},toggleRange:function(a){var b=this.isAppliedToRange(a);b?"full"===b.coverage?this.undoToRange(a):"inline"===b.coverage?(b=e(b.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(a),b||this.applyToRange(a)):
(e(b.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(a),this.applyToRange(a)):this.applyToRange(a)}};a.selection.HTMLApplier=m})(wysihtml5,rangy);
wysihtml5.Commands=Base.extend({constructor:function(a){this.editor=a;this.composer=a.composer;this.doc=this.composer.doc},support:function(a){return wysihtml5.browser.supportsCommand(this.doc,a)},exec:function(a,h){var b=wysihtml5.commands[a],g=wysihtml5.lang.array(arguments).get(),f=b&&b.exec,e=null;this.composer.hasPlaceholderSet()&&!wysihtml5.lang.array(["styleWithCSS","enableObjectResizing","enableInlineTableEditing"]).contains(a)&&(this.composer.element.innerHTML="",this.composer.selection.selectNode(this.composer.element));
this.editor.fire("beforecommand:composer");if(f)g.unshift(this.composer),e=f.apply(b,g);else try{e=this.doc.execCommand(a,!1,h)}catch(l){}this.editor.fire("aftercommand:composer");return e},remove:function(a,h){var b=wysihtml5.commands[a],g=wysihtml5.lang.array(arguments).get(),f=b&&b.remove;if(f)return g.unshift(this.composer),f.apply(b,g)},state:function(a,h){var b=wysihtml5.commands[a],g=wysihtml5.lang.array(arguments).get(),f=b&&b.state;if(f)return g.unshift(this.composer),f.apply(b,g);try{return this.doc.queryCommandState(a)}catch(e){return!1}},
stateValue:function(a){var h=wysihtml5.commands[a],b=wysihtml5.lang.array(arguments).get(),g=h&&h.stateValue;return g?(b.unshift(this.composer),g.apply(h,b)):!1}});(function(a){var h={nodeName:"B",toggle:!0};a.commands.bold={exec:function(b,g){a.commands.formatInline.exec(b,g,h)},state:function(b,g){return a.commands.formatInline.state(b,g,h)}}})(wysihtml5);
(function(a){var h={nodeName:"A",toggle:!1};a.commands.createLink={exec:function(b,g,f){f=a.lang.object({}).merge(h).merge({attribute:f}).get();if(b.selection.isCollapsed()&&!this.state(b,g)){var e=b.doc.createTextNode(f.attribute.href);b.selection.insertNode(e);b.selection.selectNode(e)}a.commands.formatInline.exec(b,g,f)},state:function(b,g){return a.commands.formatInline.state(b,g,h)}}})(wysihtml5);
(function(a){var h={nodeName:"A"};a.commands.removeLink={exec:function(b,g){a.commands.formatInline.remove(b,g,h)},state:function(b,g){return a.commands.formatInline.state(b,g,h)}}})(wysihtml5);(function(a){var h=/wysiwyg-font-size-[0-9a-z\-]+/g;a.commands.fontSize={exec:function(b,g,f){a.commands.formatInline.exec(b,g,{className:"wysiwyg-font-size-"+f,classRegExp:h,toggle:!0})},state:function(b,g,f){return a.commands.formatInline.state(b,g,{className:"wysiwyg-font-size-"+f})}}})(wysihtml5);
(function(a){a.commands.fontSizeStyle={exec:function(h,b,g){g=g.size||g;/^\s*$/.test(g)||a.commands.formatInline.exec(h,b,{styleProperty:"fontSize",styleValue:g,toggle:!1})},state:function(h,b,g){return a.commands.formatInline.state(h,b,{styleProperty:"fontSize",styleValue:g||void 0})},remove:function(h,b){return a.commands.formatInline.remove(h,b,{styleProperty:"fontSize"})},stateValue:function(h,b){var g;(g=this.state(h,b))&&a.lang.object(g).isArray()&&(g=g[0]);return g&&(g=g.getAttribute("style"))?
a.quirks.styleParser.parseFontSize(g):!1}}})(wysihtml5);(function(a){var h=/wysiwyg-color-[0-9a-z]+/g;a.commands.foreColor={exec:function(b,g,f){a.commands.formatInline.exec(b,g,{className:"wysiwyg-color-"+f,classRegExp:h,toggle:!0})},state:function(b,g,f){return a.commands.formatInline.state(b,g,{className:"wysiwyg-color-"+f})}}})(wysihtml5);
(function(a){a.commands.foreColorStyle={exec:function(h,b,g){g&&(g=a.quirks.styleParser.parseColor("color:"+(g.color||g),"color"))&&(g=(1===g[3]?"rgb("+[g[0],g[1],g[2]].join(", "):"rgba("+g.join(", "))+")",a.commands.formatInline.exec(h,b,{styleProperty:"color",styleValue:g}))},state:function(h,b,g){g=g?a.quirks.styleParser.parseColor("color:"+(g.color||g),"color"):null;var f;g&&(f=(1===g[3]?"rgb("+[g[0],g[1],g[2]].join(", "):"rgba("+g.join(", "))+")");return a.commands.formatInline.state(h,b,{styleProperty:"color",
styleValue:f})},remove:function(h,b){return a.commands.formatInline.remove(h,b,{styleProperty:"color"})},stateValue:function(h,b,g){h=this.state(h,b);b=!1;h&&a.lang.object(h).isArray()&&(h=h[0]);return h&&(h=h.getAttribute("style"))?(b=a.quirks.styleParser.parseColor(h,"color"),a.quirks.styleParser.unparseColor(b,g)):!1}}})(wysihtml5);
(function(a){a.commands.bgColorStyle={exec:function(h,b,g){if(g=a.quirks.styleParser.parseColor("background-color:"+(g.color||g),"background-color"))g=(1===g[3]?"rgb("+[g[0],g[1],g[2]].join(", "):"rgba("+g.join(", "))+")",a.commands.formatInline.exec(h,b,{styleProperty:"backgroundColor",styleValue:g})},state:function(h,b,g){g=g?a.quirks.styleParser.parseColor("background-color:"+(g.color||g),"background-color"):null;var f;g&&(f=(1===g[3]?"rgb("+[g[0],g[1],g[2]].join(", "):"rgba("+g.join(", "))+")");
return a.commands.formatInline.state(h,b,{styleProperty:"backgroundColor",styleValue:f})},remove:function(h,b){return a.commands.formatInline.remove(h,b,{styleProperty:"backgroundColor"})},stateValue:function(h,b,g){h=this.state(h,b);b=!1;h&&a.lang.object(h).isArray()&&(h=h[0]);return h&&(h=h.getAttribute("style"))?(b=a.quirks.styleParser.parseColor(h,"background-color"),a.quirks.styleParser.unparseColor(b,g)):!1}}})(wysihtml5);
(function(a){function h(a,b){return 3===a.nodeType?a:a.childNodes[b]||a}function b(a){return a&&1===a.nodeType&&"BR"===a.nodeName}function g(a){return a&&1===a.nodeType&&a.classList.contains("rangySelectionBoundary")}function f(a,e){return b(a)||a&&1===a.nodeType&&"block"===e.win.getComputedStyle(a).display}function e(b,e){a.dom.removeInvisibleSpaces(b.element);for(var f=b.element,g=f.querySelectorAll("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"),h=b.config.classNames.uneditableContainer+[""].concat("h1; h2; h3; h4; h5; h6; p; pre; div; blockquote".split(";")).join(", "+
b.config.classNames.uneditableContainer+" "),f=f.querySelectorAll(h),g=a.lang.array(g).without(f),h=g.length;h--;)""!==g[h].innerHTML.replace(/[\uFEFF]/g,"")||0!==e.length&&g[h]===e[e.length-1]||(f=a.lang.array(e).indexOf(g[h]),-1<f&&e.splice(f,1),g[h].parentNode.removeChild(g[h]));return e}function l(a,b,e){for(var f=null;a&&b&&a!==b;)1===a.nodeType&&a.matches(e?"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote":"h1, h2, h3, h4, h5, h6, p, pre")&&(f=a),a=a.parentNode;return f}function k(b,e,f){b||
(b=f.doc.createElement(e.nodeName||(f.config.useLineBreaks?"DIV":"P")),b.appendChild(f.doc.createTextNode(a.INVISIBLE_SPACE)));e.nodeName&&b.nodeName!==e.nodeName&&(b=z.renameElement(b,e.nodeName));e.classRegExp&&(b.className=b.className.replace(e.classRegExp,""));e.className&&b.classList.add(e.className);e.styleProperty&&"undefined"!==typeof e.styleValue&&(b.style[a.browser.fixStyleKey(e.styleProperty)]=e.styleValue);return b}function n(b){b=b.querySelectorAll("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote")||
[];for(var e,f=b.length;f--;)e=a.dom.domNode(b[f]).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),a.dom.domNode(b[f]).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),e&&1!==e.nodeType&&"BR"!==e.nodeName&&""!==(b[f].innerHTML||b[f].nodeValue||"").trim()&&b[f].parentNode.insertBefore(b[f].ownerDocument.createElement("BR"),e),e&&1!==e.nodeType&&"BR"!==e.nodeName&&""!==(b[f].innerHTML||b[f].nodeValue||"").trim()&&b[f].parentNode.insertBefore(b[f].ownerDocument.createElement("BR"),e),a.dom.unwrap(b[f])}function m(b){for(var e=
[],f,g,h,k,l,m,n=0,q=b.length;n<q;n++){1===b[n].startContainer.nodeType&&b[n].startContainer.matches("ul, ol")&&b[n].setStart(b[n].startContainer.childNodes[b[n].startOffset],0);1===b[n].endContainer.nodeType&&b[n].endContainer.matches("ul, ol")&&(m=b[n].endContainer.childNodes[Math.max(b[n].endOffset-1,0)],m.childNodes&&b[n].setEnd(m,m.childNodes.length));f=b[n].getNodes([1],function(a){return"LI"===a.nodeName});if(0<f.length)for(g=0,h=f.length;g<h;g++){l=b[n].compareNode(f[g]);if(l===b[n].NODE_AFTER||
l===b[n].NODE_INSIDE)k=b[n].cloneRange(),(m=a.dom.domNode(f[g]).prev({nodeTypes:[1]}))?k.setEnd(m,m.childNodes.length):f[g].closest("ul, ol")?k.setEndBefore(f[g].closest("ul, ol")):k.setEndBefore(f[g]),e.push(k),b[n].setStart(f[g],0);if(l===b[n].NODE_BEFORE||l===b[n].NODE_INSIDE)k=b[n].cloneRange(),k.setEnd(f[g],f[g].childNodes.length),e.push(k),(m=a.dom.domNode(f[g]).next({nodeTypes:[1]}))?b[n].setStart(m,0):f[g].closest("ul, ol")?b[n].setStartAfter(f[g].closest("ul, ol")):b[n].setStartAfter(f[g])}e.push(b[n])}return e}
function p(b,e,g,h){var k,m,n=e.startContainer;if(h=h||l(n,g.element,!0))e=b.firstChild,m=b.lastChild,g.selection.splitElementAtCaret(h,b),k=a.dom.domNode(m).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),b=a.dom.domNode(e).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),e&&!f(e,g)&&b&&!f(b,g)&&e.parentNode.insertBefore(g.doc.createElement("br"),e),m&&!f(m,g)&&k&&!f(k,g)&&k.parentNode.insertBefore(g.doc.createElement("br"),k);else{h=g.element;for(var q=n,n=null,p;q&&h&&q!==h;)1===q.nodeType&&q.matches("b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u")&&
(k=q,null===n?m=n=q.cloneNode(!1):(p=q.cloneNode(!1),p.appendChild(n),n=p)),q=q.parentNode;if((h=n)&&m&&k){if(1===b.childNodes.length){for(;b.firstChild.firstChild;)m.appendChild(b.firstChild.firstChild);b.firstChild.appendChild(h)}g.selection.splitElementAtCaret(k,b)}else g=b.firstChild,m=b.lastChild,e.insertNode(b),e.setStartBefore(g),e.setEndAfter(m)}}function r(b,e,g){b=b.cloneRange();var k=h(b.startContainer,b.startOffset).previousSibling,l=h(b.endContainer,b.endOffset).nextSibling,m=b.extractContents();
e=g.doc.createDocumentFragment();for(var q;m.firstChild;)if(1===m.firstChild.nodeType&&m.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote")){n(m.firstChild);q=a.dom.unwrap(m.firstChild);0<q.length&&(e.lastChild&&(1!==e.lastChild.nodeType||!f(e.lastChild,g))||!e.lastChild&&k&&(1!==k.nodeType||f(k,g)))&&e.appendChild(g.doc.createElement("BR"));for(var r=0,u=q.length;r<u;r++)e.appendChild(q[r]);0<q.length&&(1===e.lastChild.nodeType&&f(e.lastChild,g)||(l||e.lastChild!==m.lastChild)&&
e.appendChild(g.doc.createElement("BR")))}else e.appendChild(m.firstChild);k=a.lang.array(e.childNodes).get();p(e,b,g);return k}function q(e,f,g,m){var q=f?{nodeName:f.nodeName||null,className:f.classRegExp?null:f.className||null,classRegExp:f.classRegExp||null,styleProperty:f.styleProperty||null}:null;e=e.cloneRange();var r=e.startContainer,u=h(e.startContainer,e.startOffset),w=h(e.endContainer,e.endOffset),x;if(x=e.startContainer===u&&3===u.nodeType)x=u.data?u.data.slice(0,e.startOffset):"",x=!/^\s*$/.test(x);
var u=x?u:a.dom.domNode(u).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),w=1===e.endContainer.nodeType&&e.endContainer.childNodes[e.endOffset]===w&&(1===w.nodeType||!B(w,e.endOffset)&&!a.dom.domNode(w).is.rangyBookmark())||e.endContainer===w&&3===w.nodeType&&!B(w,e.endOffset)?w:a.dom.domNode(w).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),z=e.extractContents();x=m.doc.createDocumentFragment();var q=q?a.dom.getParentElement(r,q,null,m.element):null,y=!g||!f||"BLOCKQUOTE"===f.nodeName&&"BLOCKQUOTE"===
g,r=q||l(r,m.element,y);a.dom.domNode(w).is.rangyBookmark()&&(w=w.nextSibling);if(z){for(;z.firstChild&&3===z.firstChild.nodeType&&/^\s*$/.test(z.firstChild.data)&&z.lastChild!==z.firstChild;)z.removeChild(z.firstChild);for(;z.lastChild&&3===z.lastChild.nodeType&&/^\s*$/.test(z.lastChild.data)&&z.lastChild!==z.firstChild;)z.removeChild(z.lastChild);z.firstChild&&1===z.firstChild.nodeType&&"BR"===z.firstChild.nodeName&&z.lastChild!==z.firstChild&&z.removeChild(z.firstChild);z.lastChild&&1===z.lastChild.nodeType&&
"BR"===z.lastChild.nodeName&&z.lastChild!==z.firstChild&&z.removeChild(z.lastChild)}if(f&&"BLOCKQUOTE"===f.nodeName)f=k(null,f,m),f.appendChild(z),x.appendChild(f),f=[f];else{if(z.firstChild)for(;z.firstChild;)if(1==z.firstChild.nodeType&&z.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"))k(z.firstChild,f,m),z.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre")&&n(z.firstChild),x.appendChild(z.firstChild);else{var q=g,y=m,R=f?a.lang.object(f).clone(!0):null;R&&(R.nodeName=R.nodeName||
q||(y.config.useLineBreaks?"DIV":"P"));for(q=k(null,R,m);z.firstChild&&(1!==z.firstChild.nodeType||!z.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"));)1==z.firstChild.nodeType&&q.matches("h1, h2, h3, h4, h5, h6, p, pre")&&n(z.firstChild),q.appendChild(z.firstChild);x.appendChild(q)}else x.appendChild(k(null,f,m));f=a.lang.array(x.childNodes).get()}p(x,e,m,r);e=w;g=u&&a.dom.domNode(u).prev({nodeTypes:[1,3],ignoreBlankTexts:!0});b(e)&&e.parentNode.removeChild(e);!b(u)||g&&1===
g.nodeType&&"block"===m.win.getComputedStyle(g).display||u.parentNode.removeChild(u);0<f.length&&("undefined"===typeof f[f.length-1].lastChild||a.dom.domNode(f[f.length-1].lastChild).is.rangyBookmark())&&f[f.length-1].appendChild(m.doc.createElement("br"));return f}function u(b,e){var f=a.dom.getParentElement(b.selection.getOwnRanges()[0].startContainer,{query:"h1, h2, h3, h4, h5, h6, p, pre, "+(e?e.toLowerCase():"div")},null,b.element),g;f?(g=b.selection.createRange(),g.selectNode(f),b.selection.setSelection(g)):
b.isEmpty()||b.selection.selectLine()}function w(a,b){var e=b.selection.createRange(),f=a[a.length-1],g=1===f.nodeType&&f.childNodes?f.childNodes.length|0:f.length||0;e.setStart(a[0],0);e.setEnd(f,g);e.select()}function y(b,e,f){for(var g=e.selection.getOwnRanges(),h=[],k,g=m(g),l=g.length;l--;){k=g[l];var n=e,p=void 0,p=k.startContainer,u=k.endContainer;p&&1===p.nodeType&&p===u?p.firstChild===p.lastChild&&1===k.endOffset&&p!==n.element&&"LI"!==p.nodeName&&"TD"!==p.nodeName&&(k.setStartBefore(p),
k.setEndAfter(u)):p&&1===p.nodeType&&3===u.nodeType?p.firstChild===u&&k.endOffset===u.data.length&&p!==n.element&&"LI"!==p.nodeName&&"TD"!==p.nodeName&&k.setEndAfter(p):u&&1===u.nodeType&&3===p.nodeType?u.firstChild===p&&0===k.startOffset&&u!==n.element&&"LI"!==u.nodeName&&"TD"!==u.nodeName&&k.setStartBefore(u):p&&3===p.nodeType&&p===u&&1===p.parentNode.childNodes.length&&k.endOffset==u.data.length&&0===k.startOffset&&(p=p.parentNode,p!==n.element&&"LI"!==p.nodeName&&"TD"!==p.nodeName&&(k.setStartBefore(p),
k.setEndAfter(p)));k=(k=a.dom.getParentElement(g[l].startContainer,{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},null,e.element))?k.nodeName:null;h="remove"===b?h.concat(r(g[l],k,e)):h.concat(q(g[l],f,k,e))}return h}function x(a){"string"===typeof a&&(a={nodeName:a.toUpperCase()});return a}var z=a.dom,B=function(a,b){var e=a.data?a.data.slice(b):"";return/^\s*$/.test(e)};a.commands.formatBlock={exec:function(f,h,k){k=x(k);var l=[],m,n;k&&k.toggle&&(n=this.state(f,h,k));if(n){m=rangy.saveSelection(f.win);
h=0;for(var q=n.length;h<q;h++){var p=n[h],r=k,B=f,L=void 0,R=p.previousSibling,Q=p.nextSibling,X=!1;r.styleProperty&&(p.style[a.browser.fixStyleKey(r.styleProperty)]="");r.className&&p.classList.remove(r.className);r.classRegExp&&(p.className=p.className.replace(r.classRegExp,""));null!==p.getAttribute("class")&&""===p.getAttribute("class").trim()&&p.removeAttribute("class");r.nodeName&&p.nodeName.toLowerCase()===r.nodeName.toLowerCase()&&((L=p.getAttribute("style"))&&""!==L.trim()?p=z.renameElement(p,
B.config.useLineBreaks?"DIV":"P"):(z.unwrap(p),X=!0));null!==p.getAttribute("style")&&""===p.getAttribute("style").trim()&&p.removeAttribute("style");X&&((p=R)&&g(p)&&(p=p.previousSibling),Q&&g(Q)&&(Q=Q.nextSibling),p&&(1!==p.nodeType||"block"!==B.win.getComputedStyle(p).display&&!b(p))&&p.parentNode&&p.parentNode.insertBefore(B.doc.createElement("br"),p.nextSibling),Q&&(1!==Q.nodeType||"block"!==B.win.getComputedStyle(Q).display)&&Q.parentNode&&Q.parentNode.insertBefore(B.doc.createElement("br"),
Q))}}else{if(f.selection.isCollapsed()){m=rangy.saveSelection(f.win);a:{if(f.selection.isCollapsed()&&(l=f.selection.getNodesNearCaret())&&l.caretNode&&(a.dom.domNode(l.caretNode).is.lineBreak()||3===l.caretNode.nodeType&&0===l.textOffset&&(!l.prevNode||a.dom.domNode(l.prevNode).is.lineBreak())||1===l.caretNode.nodeType&&l.caretNode.classList.contains("rangySelectionBoundary")&&(!l.prevNode||a.dom.domNode(l.prevNode).is.lineBreak()||a.dom.domNode(l.prevNode).is.block())&&(!l.nextNode||a.dom.domNode(l.nextNode).is.lineBreak()||
a.dom.domNode(l.nextNode).is.block()))){l=!0;break a}l=!1}l?f.selection.selectLine():u(f,k&&k.nodeName?k.nodeName.toUpperCase():void 0)}l=k?y("apply",f,k):y("remove",f)}l=e(f,l);m?rangy.restoreSelection(m):w(l,f)},remove:function(a,b,f){f=x(f);var g;a.selection.isCollapsed()&&(g=rangy.saveSelection(a.win),u(a,f&&f.nodeName?f.nodeName.toUpperCase():void 0));b=y("remove",a);b=e(a,b);g?rangy.restoreSelection(g):w(b,a)},state:function(b,e,f){f=x(f);e=b.selection.filterElements(function(b){return a.dom.domNode(b).test(f||
{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"})}.bind(this));for(var g=b.selection.getSelectedOwnNodes(),h,k=0,l=g.length;k<l;k++)(h=z.getParentElement(g[k],f||{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},null,b.element))&&-1===e.indexOf(h)&&e.push(h);return 0===e.length?!1:e}}})(wysihtml5);
(function(a){a.commands.formatCode={exec:function(h,b,g){var f=this.state(h)[0],e,l;f?h.selection.executeAndRestore(function(){e=f.querySelector("code");a.dom.replaceWithChildNodes(f);e&&a.dom.replaceWithChildNodes(e)}):(b=h.selection.getRange(),l=b.extractContents(),f=h.doc.createElement("pre"),e=h.doc.createElement("code"),g&&(e.className=g),f.appendChild(e),e.appendChild(l),b.insertNode(f),h.selection.selectNode(f))},state:function(h){return(h=h.selection.getSelectedNode())&&h.nodeName&&"PRE"==
h.nodeName&&h.firstChild&&h.firstChild.nodeName&&"CODE"==h.firstChild.nodeName?[h]:(h=a.dom.getParentElement(h,{query:"pre code"}))?[h.parentNode]:!1}}})(wysihtml5);
(function(a){function h(a){return!a.getAttribute("style")||/^\s*$/.test(a.getAttribute("style"))}function b(b,e){var f,g;if(1!==b.nodeType||1!==e.nodeType||b.nodeName!==e.nodeName)return!1;f=b.className.trim().replace(/\s+/g," ").split(" ");g=e.className.trim().replace(/\s+/g," ").split(" ");if(0<a.lang.array(f).without(g).length)return!1;f=a.dom.getAttributes(b);g=a.dom.getAttributes(e);return f.length===g.length&&a.lang.object(a.lang.object(f).difference(g)).isEmpty()?!0:!1}function g(b,e){var f=
b.ownerDocument.createElement(e&&e.nodeName||"SPAN");e.classRegExp&&(f.className=f.className.replace(e.classRegExp,""));e.className&&f.classList.add(e.className);e.styleProperty&&"undefined"!==typeof e.styleValue&&(f.style[a.browser.fixStyleKey(e.styleProperty)]=e.styleValue);if(e.attribute)if("object"===typeof e.attribute)for(var g in e.attribute)e.attribute.hasOwnProperty(g)&&f.setAttribute(g,e.attribute[g]);else"undefined"!==typeof e.attributeValue&&f.setAttribute(e.attribute,e.attributeValue);
return f}function f(b,e){var f,g;e.className&&(!1!==e.toggle&&b.classList.contains(e.className)?b.classList.remove(e.className):(e.classRegExp&&(b.className=b.className.replace(e.classRegExp,"")),b.classList.add(e.className)),/^\s*$/.test(b.className)&&b.removeAttribute("class"));e.styleProperty&&(!1!==e.toggle&&b.style[a.browser.fixStyleKey(e.styleProperty)].trim().replace(/, /g,",")===e.styleValue?b.style[a.browser.fixStyleKey(e.styleProperty)]="":b.style[a.browser.fixStyleKey(e.styleProperty)]=
e.styleValue);h(b)&&b.removeAttribute("style");if(e.attribute){"object"===typeof e.attribute?f=e.attribute:(f={},f[e.attribute]=e.attributeValue||"");var k=e.toggle,l=a.dom.getAttributes(b),m;a:{for(m in f)if(f.hasOwnProperty(m)&&(void 0===typeof l[m]||l[m]!==f[m])){m=!1;break a}m=!0}a.lang.object(l).difference(f);if(m&&!1!==k)for(g in f)f.hasOwnProperty(g)&&b.removeAttribute(g);else for(g in f)f.hasOwnProperty(g)&&b.setAttribute(g,f[g])}g=(g=e.nodeName?D[e.nodeName.toLowerCase()]||e.nodeName.toLowerCase():
null)?a.dom.domNode(b).test({query:g}):!1;if(!e.nodeName||"SPAN"===e.nodeName||g){if(g=(!1!==e.toggle&&g||!e.nodeName&&"SPAN"===b.nodeName)&&/^\s*$/.test(b.className)&&h(b))g=a.dom.getAttributes(b),g=a.lang.object(g).isEmpty();g&&a.dom.unwrap(b)}}function e(b,e){var f=[];b.isCollapsed()||(f=f.concat(b.getOwnNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()},e)));return f}function l(b,e,f,g){e=g?e:{nodeName:e.nodeName||null,className:e.classRegExp?null:e.className||null,classRegExp:e.classRegExp||
null,styleProperty:e.styleProperty||null};do{if(g=1===b.nodeType){g=b;var h=e,k=void 0;h.nodeName?(h=D[h.nodeName.toLowerCase()]||h.nodeName.toLowerCase(),g=a.dom.domNode(g).test({query:h})):(k=a.lang.object(h).clone(),k.query="b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u",g=a.dom.domNode(g).test(k))}if(g)return b;b=b.parentNode}while(b&&b!==f);return null}function k(b,e){var f=document.documentElement||
document.body,g=f.scrollTop,h=f.scrollLeft;rangy.getSelection(b.win);rangy.getSelection(b.win).removeAllRanges();try{rangy.getSelection(b.win).addRange(e)}catch(k){}b.doc.activeElement&&a.dom.contains(b.element,b.doc.activeElement)||(b.element.focus(),f.scrollTop=g,f.scrollLeft=h,rangy.getSelection(b.win).addRange(e))}function n(a,b){var e=rangy.createRange(b.doc),f=a[a.length-1];a[0]&&f&&(e.setStart(a[0],0),e.setEnd(f,f.length),k(b,e))}function m(a,b,e,f){var g=rangy.createRange(a.doc);b&&(g.setStart(b,
e),g.setEnd(b,"undefined"!==typeof f?f:e),k(a,g))}function p(a,b,f){var g=e(a.selection),h=[],k=!1,m;if(a.selection.isInThisEditable()){if(0===g.length&&a.selection.isCollapsed()){m=a.selection.getSelection().anchorNode;if(!m)return{nodes:[],partial:!1};3===m.nodeType&&(g=[m])}g.length||(m=a.selection.getOwnRanges()[0])&&(g=[m.endContainer]);for(var n=0,q=g.length;n<q;n++)(m=l(g[n],b,a.element,f))?h.push(m):k=!0}return{nodes:h,partial:k}}function r(a){var b,e;return a&&(b=a.anchorNode,e=a.anchorOffset,
b&&3===b.nodeType&&0<e&&e<b.data.length)?(a=b.data[e-1],b=b.data[e],/\w/.test(a)&&/\w/.test(b)):!1}function q(b){var e,f,g,h;e=[];if(b&&(e=b.anchorNode,b=g=h=b.anchorOffset,f=e.ownerDocument,f=rangy.createRange(f),e&&3===e.nodeType)){for(;0<g&&/\w/.test(e.data[g-1]);)g--;for(;h<e.data.length&&/\w/.test(e.data[h]);)h++;f.setStartAndEnd(e,g,h);f.splitBoundaries();e=f.getNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()});return{wordOffset:b-g,range:f,textNode:e[0]}}return!1}function u(a){for(var e=
a.length;e--;)if(a[e]&&a[e].parentNode){if(a[e].nextSibling&&b(a[e],a[e].nextSibling)){for(var f=a[e],g=a[e].nextSibling;g.firstChild;)f.appendChild(g.firstChild);g.parentNode.removeChild(g)}if(a[e].previousSibling&&b(a[e],a[e].previousSibling)){f=a[e].previousSibling;for(g=a[e];g.firstChild;)f.appendChild(g.firstChild);g.parentNode.removeChild(g)}}}function w(a,b,e){0<b.length&&n(b,a);u(p(a,e).nodes);0<b.length&&n(b,a)}function y(a,b,e,f){m(a,b,e);u(p(a,f).nodes);m(a,b,e)}function x(a,b){var e=g(a,
b);a.parentNode.insertBefore(e,a);e.appendChild(a)}function z(b,e,g){e=l(b,g,e.element);var h;e&&(h=e.cloneNode(!1),a.dom.domNode(b).escapeParent(e,h),f(h,g))}function B(a){a="string"===typeof a?{nodeName:a}:a;a.nodeName&&(a.nodeName=a.nodeName.toUpperCase());return a}var D={b:"b, strong",strong:"b, strong",em:"em, i",i:"em, i"};a.commands.formatInline={exec:function(b,h,k){k=B(k);b.element.normalize();h=e(b.selection,!0);var m=p(b,k);if(0<m.nodes.length){var n=p(b,k,!0),u=b.selection.getSelection();
if(h.length){if(n.partial||!1===k.toggle)for(n=h.length;n--;)l(h[n],k,b.element)&&z(h[n],b,k),l(h[n],k,b.element)||x(h[n],k);else for(n=h.length;n--;)z(h[n],b,k);w(b,h,k)}else if(!1!==k.toggle)if(r(u))h=q(u),z(h.textNode,b,k),y(b,h.textNode,h.wordOffset,k);else{if(h=b.doc.createTextNode(a.INVISIBLE_SPACE),n=m.nodes[0].cloneNode(!1),n.appendChild(h),b.selection.splitElementAtCaret(m.nodes[0],n),f(n,k),w(b,[h],k),h=b.selection.getSelection(),h.anchorNode&&h.focusNode)try{h.collapseToEnd()}catch(D){}}else for(n=
m.nodes.length;n--;)f(m.nodes[n],k)}else if(m=k,k=b.selection.getSelection(),h.length){for(k=h.length;k--;)x(h[k],m);w(b,h,m)}else if(r(k))h=q(k),x(h.textNode,m),y(b,h.textNode,h.wordOffset,m);else if(h=b.selection.getOwnRanges()[0])m=g(h.endContainer,m),h.surroundContents(m),b.selection.selectNode(m);b.element.normalize()},remove:function(b,f,g){g=B(g);b.element.normalize();f=e(b.selection,!0);var h=p(b,g);if(0<h.nodes.length){var k,m;m=b.selection.getSelection();if(f.length){for(m=f.length;m--;)h=
f[m],(k=l(h,g,b.element))&&a.dom.domNode(h).escapeParent(k);w(b,f,g)}else{f=m.anchorNode;k=m.anchorOffset;for(m=h.nodes.length;m--;)a.dom.unwrap(h.nodes[m]);y(b,f,k,g)}}b.element.normalize()},state:function(a,b,e){e=B(e);a=p(a,e,!0).nodes;return 0===a.length?!1:a}}})(wysihtml5);
(function(a){var h={nodeName:"BLOCKQUOTE",toggle:!0};a.commands.insertBlockQuote={exec:function(b,g){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,g){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);(function(a){a.commands.insertHTML={exec:function(a,b,g){a.selection.insertHTML(g)},state:function(){return!1}}})(wysihtml5);
(function(a){a.commands.insertImage={exec:function(h,b,g){g="object"===typeof g?g:{src:g};var f=h.doc;if((b=this.state(h))&&!g.src)h.selection.setBefore(b),g=b.parentNode,g.removeChild(b),a.dom.removeEmptyTextNodes(g),"A"!==g.nodeName||g.firstChild||(h.selection.setAfter(g),g.parentNode.removeChild(g)),a.quirks.redraw(h.element);else if(b)for(var e in g)g.hasOwnProperty(e)&&b.setAttribute("className"===e?"class":e,g[e]);else{b=f.createElement("IMG");for(var l in g)b.setAttribute("className"===l?"class":
l,g[l]);h.selection.insertNode(b);a.browser.hasProblemsSettingCaretAfterImg()?(g=f.createTextNode(a.INVISIBLE_SPACE),h.selection.insertNode(g),h.selection.setAfter(g)):h.selection.setAfter(b)}},state:function(h){var b;if(!a.dom.hasElementWithTagName(h.doc,"IMG"))return!1;b=h.selection.getSelectedNode();if(!b)return!1;if("IMG"===b.nodeName)return b;if(b.nodeType!==a.ELEMENT_NODE)return!1;b=h.selection.getText();if(b=a.lang.string(b).trim())return!1;h=h.selection.getNodes(a.ELEMENT_NODE,function(a){return"IMG"===
a.nodeName});return 1!==h.length?!1:h[0]}}})(wysihtml5);(function(a){var h="<br>"+(a.browser.needsSpaceAfterLineBreak()?" ":"");a.commands.insertLineBreak={exec:function(a,g){a.selection.insertHTML(h)},state:function(){return!1}}})(wysihtml5);(function(a){a.commands.insertOrderedList={exec:function(h,b){a.commands.insertList.exec(h,b,"OL")},state:function(h,b){return a.commands.insertList.state(h,b,"OL")}}})(wysihtml5);
(function(a){a.commands.insertUnorderedList={exec:function(h,b){a.commands.insertList.exec(h,b,"UL")},state:function(h,b){return a.commands.insertList.state(h,b,"UL")}}})(wysihtml5);
wysihtml5.commands.insertList=function(a){var h=function(a,b){if(a&&a.nodeName){"string"===typeof b&&(b=[b]);for(var e=b.length;e--;)if(a.nodeName===b[e])return!0}return!1},b=function(b,e,f){var g={el:null,other:!1};if(b){var p=a.dom.getParentElement(b,{query:"li"},!1,f.element),r="UL"===e?"OL":"UL";h(b,e)?g.el=b:h(b,r)?g={el:b,other:!0}:p&&(h(p.parentNode,e)?g.el=p.parentNode:h(p.parentNode,r)&&(g={el:p.parentNode,other:!0}))}g.el&&!f.element.contains(g.el)&&(g.el=null);return g},g=function(b,f,
g){var h="UL"===f?"OL":"UL",p,r;g.selection.executeAndRestoreRangy(function(){p=e(h,g);if(p.length)for(var q=p.length;q--;)a.dom.renameElement(p[q],f.toLowerCase());else{r=e(["OL","UL"],g);for(q=r.length;q--;)a.dom.resolveList(r[q],g.config.useLineBreaks);0===r.length&&a.dom.resolveList(b,g.config.useLineBreaks)}})},f=function(b,f,g){var h="UL"===f?"OL":"UL";g.selection.executeAndRestoreRangy(function(){for(var p=[b].concat(e(h,g)),r=p.length;r--;)a.dom.renameElement(p[r],f.toLowerCase())})},e=function(a,
b){for(var e=b.selection.getOwnRanges(),f=[],g=e.length;g--;)f=f.concat(e[g].getNodes([1],function(b){return h(b,a)}));return f};return{exec:function(e,h,n){h=e.doc;var m="OL"===n?"insertOrderedList":"insertUnorderedList",p=e.selection.getSelection(),r=1===p.anchorNode.nodeType&&p.anchorNode.firstChild?p.anchorNode.childNodes[p.anchorOffset]:p.anchorNode,q=1===p.focusNode.nodeType&&p.focusNode.firstChild?p.focusNode.childNodes[p.focusOffset]||p.focusNode.lastChild:p.focusNode;p.isBackwards()&&(r=
[q,q=r][0]);a.dom.domNode(q).is.emptyTextNode(!0)&&q&&(q=a.dom.domNode(q).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}));a.dom.domNode(r).is.emptyTextNode(!0)&&r&&(r=a.dom.domNode(r).next({nodeTypes:[1,3],ignoreBlankTexts:!0}));p=r&&q?r===q?r:a.dom.domNode(r).commonAncestor(q,e.element):e.selection.getSelectedNode();p=b(p,n,e);p.el?p.other?f(p.el,n,e):g(p.el,n,e):e.commands.support(m)?h.execCommand(m,!1,null):(h=rangy.saveSelection(e.win),m="_wysihtml5-temp-"+(new Date).getTime(),e.commands.exec("formatBlock",
{nodeName:"div",className:m}),p=e.element.querySelector("."+m),p.innerHTML=p.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,""),p&&(m=/^(\s|(<br>))+$/i.test(p.innerHTML),n=a.dom.convertToList(p,n.toLowerCase(),e.parent.config.classNames.uneditableContainer),h&&rangy.restoreSelection(h),m&&e.selection.selectNode(n.querySelector("li"),!0)))},state:function(a,e,f){e=a.selection.getSelectedNode();a=b(e,f,a);return a.el&&!a.other?a.el:!1}}}(wysihtml5);
(function(a){var h={nodeName:"I",toggle:!0};a.commands.italic={exec:function(b,g){a.commands.formatInline.exec(b,g,h)},state:function(b,g){return a.commands.formatInline.state(b,g,h)}}})(wysihtml5);(function(a){var h={className:"wysiwyg-text-align-center",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyCenter={exec:function(b,g){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,g){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={className:"wysiwyg-text-align-left",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyLeft={exec:function(b,g){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,g){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={className:"wysiwyg-text-align-right",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyRight={exec:function(b,g){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,g){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={className:"wysiwyg-text-align-justify",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyFull={exec:function(b,g){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,g){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"right",toggle:!0};a.commands.alignRightStyle={exec:function(b,g){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,g){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"left",toggle:!0};a.commands.alignLeftStyle={exec:function(b,g){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,g){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"center",toggle:!0};a.commands.alignCenterStyle={exec:function(b,g){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,g){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"justify",toggle:!0};a.commands.alignJustifyStyle={exec:function(b,g){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,g){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);(function(a){a.commands.redo={exec:function(a){return a.undoManager.redo()},state:function(a){return!1}}})(wysihtml5);
(function(a){var h={nodeName:"U",toggle:!0};a.commands.underline={exec:function(b,g){a.commands.formatInline.exec(b,g,h)},state:function(b,g){return a.commands.formatInline.state(b,g,h)}}})(wysihtml5);(function(a){a.commands.undo={exec:function(a){return a.undoManager.undo()},state:function(a){return!1}}})(wysihtml5);
(function(a){a.commands.createTable={exec:function(a,b,g){var f,e;if(g&&g.cols&&g.rows&&0<parseInt(g.cols,10)&&0<parseInt(g.rows,10)){e=g.tableStyle?'<table style="'+g.tableStyle+'">':"<table>";e+="<tbody>";for(f=0;f<g.rows;f++){e+="<tr>";for(b=0;b<g.cols;b++)e+="<td><br></td>";e+="</tr>"}a.commands.exec("insertHTML",e+"</tbody></table>")}},state:function(a,b){return!1}}})(wysihtml5);
(function(a){a.commands.mergeTableCells={exec:function(h,b){h.tableSelection&&h.tableSelection.start&&h.tableSelection.end&&(this.state(h,b)?a.dom.table.unmergeCell(h.tableSelection.start):a.dom.table.mergeCellsBetween(h.tableSelection.start,h.tableSelection.end))},state:function(h,b){if(h.tableSelection){var g=h.tableSelection.start,f=h.tableSelection.end;if(g&&f&&g==f&&(a.dom.getAttribute(g,"colspan")&&1<parseInt(a.dom.getAttribute(g,"colspan"),10)||a.dom.getAttribute(g,"rowspan")&&1<parseInt(a.dom.getAttribute(g,
"rowspan"),10)))return[g]}return!1}}})(wysihtml5);(function(a){a.commands.addTableCells={exec:function(h,b,g){if(h.tableSelection&&h.tableSelection.start&&h.tableSelection.end){var f=a.dom.table.orderSelectionEnds(h.tableSelection.start,h.tableSelection.end);"before"==g||"above"==g?a.dom.table.addCells(f.start,g):"after"!=g&&"below"!=g||a.dom.table.addCells(f.end,g);setTimeout(function(){h.tableSelection.select(f.start,f.end)},0)}},state:function(a,b){return!1}}})(wysihtml5);
(function(a){a.commands.deleteTableCells={exec:function(h,b,g){if(h.tableSelection&&h.tableSelection.start&&h.tableSelection.end){b=a.dom.table.orderSelectionEnds(h.tableSelection.start,h.tableSelection.end);var f=a.dom.table.indexOf(b.start),e,l=h.tableSelection.table;a.dom.table.removeCells(b.start,g);setTimeout(function(){e=a.dom.table.findCell(l,f);e||("row"==g&&(e=a.dom.table.findCell(l,{row:f.row-1,col:f.col})),"column"==g&&(e=a.dom.table.findCell(l,{row:f.row,col:f.col-1})));e&&h.tableSelection.select(e,
e)},0)}},state:function(a,b){return!1}}})(wysihtml5);
(function(a){a.commands.indentList={exec:function(a,b,g){return(b=a.selection.getSelectionParentsByTag("LI"))?this.tryToPushLiLevel(b,a.selection):!1},state:function(a,b){return!1},tryToPushLiLevel:function(h,b){var g,f,e,l,k,n=!1;b.executeAndRestoreRangy(function(){for(var b=h.length;b--;)l=h[b],g="OL"===l.parentNode.nodeName?"OL":"UL",f=l.ownerDocument.createElement(g),k=(e=a.dom.domNode(l).prev({nodeTypes:[a.ELEMENT_NODE]}))?e.querySelector("ul, ol"):null,e&&(k?k.appendChild(l):(f.appendChild(l),
e.appendChild(f)),n=!0)});return n}}})(wysihtml5);
(function(a){a.commands.outdentList={exec:function(a,b,g){return(b=a.selection.getSelectionParentsByTag("LI"))?this.tryToPullLiLevel(b,a):!1},state:function(a,b){return!1},tryToPullLiLevel:function(h,b){var g,f,e,l,k,n=!1,m=this;b.selection.executeAndRestoreRangy(function(){for(var p=h.length;p--;)if(l=h[p],l.parentNode&&(g=l.parentNode,"OL"===g.tagName||"UL"===g.tagName)){n=!0;f=a.dom.getParentElement(g.parentNode,{query:"ol, ul"},!1,b.element);e=a.dom.getParentElement(g.parentNode,{query:"li"},
!1,b.element);if(f&&e)l.nextSibling&&(k=m.getAfterList(g,l),l.appendChild(k)),f.insertBefore(l,e.nextSibling);else{l.nextSibling&&(k=m.getAfterList(g,l),l.appendChild(k));for(var r=l.childNodes.length;r--;)g.parentNode.insertBefore(l.childNodes[r],g.nextSibling);g.parentNode.insertBefore(document.createElement("br"),g.nextSibling);l.parentNode.removeChild(l)}0===g.childNodes.length&&g.parentNode.removeChild(g)}});return n},getAfterList:function(a,b){for(var g=document.createElement(a.nodeName);b.nextSibling;)g.appendChild(b.nextSibling);
return g}}})(wysihtml5);(function(a){var h={nodeName:"SUB",toggle:!0};a.commands.subscript={exec:function(b,g){a.commands.formatInline.exec(b,g,h)},state:function(b,g){return a.commands.formatInline.state(b,g,h)}}})(wysihtml5);(function(a){var h={nodeName:"SUP",toggle:!0};a.commands.superscript={exec:function(b,g){a.commands.formatInline.exec(b,g,h)},state:function(b,g){return a.commands.formatInline.state(b,g,h)}}})(wysihtml5);
(function(a){var h=a.dom;a.UndoManager=a.lang.Dispatcher.extend({constructor:function(a){this.editor=a;this.composer=a.composer;this.element=this.composer.element;this.position=0;this.historyStr=[];this.historyDom=[];this.transact();this._observe()},_observe:function(){var a=this;this.composer.sandbox.getDocument();var g;h.observe(this.element,"keydown",function(f){if(!f.altKey&&(f.ctrlKey||f.metaKey)){var e=f.keyCode,g=90===e&&f.shiftKey||89===e;90!==e||f.shiftKey?g&&(a.redo(),f.preventDefault()):
(a.undo(),f.preventDefault())}});h.observe(this.element,"keydown",function(f){f=f.keyCode;f!==g&&(g=f,8!==f&&46!==f||a.transact())});this.editor.on("newword:composer",function(){a.transact()}).on("beforecommand:composer",function(){a.transact()})},transact:function(){var b=this.historyStr[this.position-1],g=this.composer.getValue(!1,!1),f=0<this.element.offsetWidth&&0<this.element.offsetHeight,e,h;g!==b&&(25<(this.historyStr.length=this.historyDom.length=this.position)&&(this.historyStr.shift(),this.historyDom.shift(),
this.position--),this.position++,f&&(b=(e=this.composer.selection.getRange())&&e.startContainer?e.startContainer:this.element,f=e&&e.startOffset?e.startOffset:0,b.nodeType===a.ELEMENT_NODE?e=b:(e=b.parentNode,h=this.getChildNodeIndex(e,b)),e.setAttribute("data-wysihtml5-selection-offset",f),"undefined"!==typeof h&&e.setAttribute("data-wysihtml5-selection-node",h)),h=this.element.cloneNode(!!g),this.historyDom.push(h),this.historyStr.push(g),e&&(e.removeAttribute("data-wysihtml5-selection-offset"),
e.removeAttribute("data-wysihtml5-selection-node")))},undo:function(){this.transact();this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return 1<this.position},redoPossible:function(){return this.position<this.historyStr.length},set:function(a){this.element.innerHTML="";for(var g=0,f=a.childNodes,e=a.childNodes.length;g<
e;g++)this.element.appendChild(f[g].cloneNode(!0));a.hasAttribute("data-wysihtml5-selection-offset")?(g=a.getAttribute("data-wysihtml5-selection-offset"),f=a.getAttribute("data-wysihtml5-selection-node"),a=this.element):(a=this.element.querySelector("[data-wysihtml5-selection-offset]")||this.element,g=a.getAttribute("data-wysihtml5-selection-offset"),f=a.getAttribute("data-wysihtml5-selection-node"),a.removeAttribute("data-wysihtml5-selection-offset"),a.removeAttribute("data-wysihtml5-selection-node"));
null!==f&&(a=this.getChildNodeByIndex(a,+f));this.composer.selection.set(a,g)},getChildNodeIndex:function(a,g){for(var f=0,e=a.childNodes,h=e.length;f<h;f++)if(e[f]===g)return f},getChildNodeByIndex:function(a,g){return a.childNodes[g]}})})(wysihtml5);
wysihtml5.views.View=Base.extend({constructor:function(a,h,b){this.parent=a;this.element=h;this.config=b;this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var a=this;this.parent.on("beforeload",function(){a.parent.on("change_view",function(h){h===a.name?(a.parent.currentView=a,a.show(),setTimeout(function(){a.focus()},0)):a.hide()})})},focus:function(){if(!this.element||!this.element.ownerDocument||this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element&&
this.element.focus()}catch(a){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}});
(function(a){var h=a.dom,b=a.browser;a.views.Composer=a.views.View.extend({name:"composer",constructor:function(a,b,e){this.base(a,b,e);this.config.noTextarea?this.editableArea=b:this.textarea=this.parent.textarea;this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=b.displaysCaretInEmptyContentEditableCorrectly()?"":"<br>"},getValue:function(b,f){var e=this.isEmpty()?"":a.quirks.getCorrectInnerHTML(this.element);!1!==b&&(e=this.parent.parse(e,
!1===f?!1:!0));return e},setValue:function(a,b){!1!==b&&(a=this.parent.parse(a));try{this.element.innerHTML=a}catch(e){this.element.innerText=a}},cleanUp:function(a){var b;this.selection&&this.selection.isInThisEditable()&&(b=rangy.saveSelection(this.win));this.parent.parse(this.element,void 0,a);b&&rangy.restoreSelection(b)},show:function(){this.editableArea.style.display=this._displayStyle||"";this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=
h.getStyle("display").from(this.editableArea);"none"===this._displayStyle&&(this._displayStyle=null);this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer");this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer");this.element.setAttribute("contentEditable","true")},focus:function(b){a.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear();this.base();var f=this.element.lastChild;b&&f&&this.selection&&
("BR"===f.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getScrollPos:function(){if(this.doc&&this.win){var a={};a.y="undefined"!==typeof this.win.pageYOffset?this.win.pageYOffset:(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollTop;a.x="undefined"!==typeof this.win.pageXOffset?this.win.pageXOffset:(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollLeft;return a}},setScrollPos:function(a){a&&
"undefined"!==typeof a.x&&"undefined"!==typeof a.y&&this.win.scrollTo(a.x,a.y)},getTextContent:function(){return h.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var a=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(a)||""===a||"<br>"===a||"<p></p>"===a||"<p><br></p>"===
a||this.hasPlaceholderSet()},_initContentEditableArea:function(){var a=this;this.config.noTextarea?this.sandbox=new h.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox},this.editableArea):(this.sandbox=new h.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox}),this.editableArea=this.sandbox.getContentEditable(),h.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var a=
this;this.sandbox=new h.Sandbox(function(){a._create()},{stylesheets:this.config.stylesheets,className:this.config.classNames.sandbox});this.editableArea=this.sandbox.getIframe();var b=this.textarea.element;h.insert(this.editableArea).after(b);this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var a=document.createElement("input");a.type="hidden";a.name="_wysihtml5_mode";a.value=1;h.insert(a).after(this.textarea.element)}},_create:function(){var g=this;
this.doc=this.sandbox.getDocument();this.win=this.sandbox.getWindow();this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body;this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1));this.selection=new a.Selection(this.parent,this.element,this.config.classNames.uneditableContainer);this.commands=new a.Commands(this.parent);this.config.noTextarea||h.copyAttributes("className spellcheck title lang dir accessKey".split(" ")).from(this.textarea.element).to(this.element);
this._initAutoLinking();h.addClass(this.element,this.config.classNames.composer);this.config.style&&!this.config.contentEditableMode&&this.style();this.observe();var f=this.config.name;f&&(h.addClass(this.element,f),this.config.contentEditableMode||h.addClass(this.editableArea,f));this.enable();!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();(f="string"===typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):
this.textarea.element.getAttribute("placeholder"))&&h.simulatePlaceholder(this.parent,this,f,this.config.classNames.placeholder);this.commands.exec("styleWithCSS",!1);this._initObjectResizing();this._initUndoManager();this._initLineBreaking();this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||b.isIos()||setTimeout(function(){g.focus(!0)},100);b.clearsContentEditableCorrectly()||a.quirks.ensureProperClearing(this);this.initSync&&
this.config.sync&&this.initSync();this.config.noTextarea||this.textarea.hide();this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var g=this,f=b.canDisableAutoLinking(),e=b.doesAutoLinkingInContentEditable();f&&this.commands.exec("AutoUrlDetect",!1,!1);if(this.config.autoLink){if(!e||e&&f)this.parent.on("newword:composer",function(){if(h.getTextContent(g.element).match(h.autoLink.URL_REG_EXP)){for(var b=g.selection.getSelectedNode(),e=g.element.querySelectorAll("."+g.config.classNames.uneditableContainer),
f=!1,k=e.length;k--;)a.dom.contains(e[k],b)&&(f=!0);f||h.autoLink(b,[g.config.classNames.uneditableContainer])}}),h.observe(this.element,"blur",function(){h.autoLink(g.element,[g.config.classNames.uneditableContainer])});var l=this.sandbox.getDocument().getElementsByTagName("a"),k=h.autoLink.URL_REG_EXP,n=function(b){b=a.lang.string(h.getTextContent(b)).trim();"www."===b.substr(0,4)&&(b="http://"+b);return b};h.observe(this.element,"keydown",function(a){if(l.length){a=g.selection.getSelectedNode(a.target.ownerDocument);
var b=h.getParentElement(a,{query:"a"},4),e;b&&(e=n(b),setTimeout(function(){var a=n(b);a!==e&&a.match(k)&&b.setAttribute("href",a)},0))}})}},_initObjectResizing:function(){this.commands.exec("enableObjectResizing",!0);if(b.supportsEvent("resizeend")){var g=["width","height"],f=g.length,e=this.element;h.observe(e,"resizeend",function(b){b=b.target||b.srcElement;var h=b.style,n=0,m;if("IMG"===b.nodeName){for(;n<f;n++)m=g[n],h[m]&&(b.setAttribute(m,parseInt(h[m],10)),h[m]="");a.quirks.redraw(e)}})}},
_initUndoManager:function(){this.undoManager=new a.UndoManager(this.parent)},_initLineBreaking:function(){function g(a){var b=h.getParentElement(a,{query:"p, div"},2);b&&h.contains(f.element,b)&&f.selection.executeAndRestoreRangy(function(){f.config.useLineBreaks?((!b.firstChild||b.firstChild===b.lastChild&&1===b.firstChild.nodeType&&b.firstChild.classList.contains("rangySelectionBoundary"))&&b.appendChild(f.doc.createElement("br")),h.replaceWithChildNodes(b)):"P"!==b.nodeName&&h.renameElement(b,
"p")})}var f=this;this.config.useLineBreaks||h.observe(this.element,["focus"],function(){f.isEmpty()&&setTimeout(function(){var a=f.doc.createElement("P");f.element.innerHTML="";f.element.appendChild(a);b.displaysCaretInEmptyContentEditableCorrectly()?f.selection.selectNode(a,!0):(a.innerHTML="<br>",f.selection.setBefore(a.firstChild))},0)});h.observe(this.element,"keydown",function(b){var l=b.keyCode;if(!(b.shiftKey||b.ctrlKey||b.defaultPrevented||l!==a.ENTER_KEY&&l!==a.BACKSPACE_KEY)){var k=h.getParentElement(f.selection.getSelectedNode(),
{query:"li, p, h1, h2, h3, h4, h5, h6"},4);k?setTimeout(function(){var b=f.selection.getSelectedNode(),e;if("LI"===k.nodeName){if(!b)return;(e=h.getParentElement(b,{query:"ul, ol, menu"},2))||g(b)}l===a.ENTER_KEY&&k.nodeName.match(/^H[1-6]$/)&&g(b)},0):f.config.useLineBreaks&&l===a.ENTER_KEY&&!a.browser.insertsLineBreaksOnReturn()&&(b.preventDefault(),f.commands.exec("insertLineBreak"))}})}})})(wysihtml5);
(function(a){var h=a.dom,b=document,g=window,f=b.createElement("div"),e="background-color color cursor font-family font-size font-style font-variant font-weight line-height letter-spacing text-align text-decoration text-indent text-rendering word-break word-wrap word-spacing".split(" "),l="background-color border-collapse border-bottom-color border-bottom-style border-bottom-width border-left-color border-left-style border-left-width border-right-color border-right-style border-right-width border-top-color border-top-style border-top-width clear display float margin-bottom margin-left margin-right margin-top outline-color outline-offset outline-width outline-style padding-left padding-right padding-top padding-bottom position top left right bottom z-index vertical-align text-align -webkit-box-sizing -moz-box-sizing -ms-box-sizing box-sizing -webkit-box-shadow -moz-box-shadow -ms-box-shadow box-shadow -webkit-border-top-right-radius -moz-border-radius-topright border-top-right-radius -webkit-border-bottom-right-radius -moz-border-radius-bottomright border-bottom-right-radius -webkit-border-bottom-left-radius -moz-border-radius-bottomleft border-bottom-left-radius -webkit-border-top-left-radius -moz-border-radius-topleft border-top-left-radius width height".split(" "),
k=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",a.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],n=function(a){if(a.setActive)try{a.setActive()}catch(e){}else{var f=a.style,k=b.documentElement.scrollTop||
b.body.scrollTop,l=b.documentElement.scrollLeft||b.body.scrollLeft,f={position:f.position,top:f.top,left:f.left,WebkitUserSelect:f.WebkitUserSelect};h.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(a);a.focus();h.setStyles(f).on(a);g.scrollTo&&g.scrollTo(l,k)}};a.views.Composer.prototype.style=function(){var g=this,p=b.querySelector(":focus"),r=this.textarea.element,q=r.hasAttribute("placeholder"),u=q&&r.getAttribute("placeholder"),w=r.style.display,y=r.disabled,
x;this.focusStylesHost=f.cloneNode(!1);this.blurStylesHost=f.cloneNode(!1);this.disabledStylesHost=f.cloneNode(!1);q&&r.removeAttribute("placeholder");r===p&&r.blur();r.disabled=!1;r.style.display=x="none";if(r.getAttribute("rows")&&"auto"===h.getStyle("height").from(r)||r.getAttribute("cols")&&"auto"===h.getStyle("width").from(r))r.style.display=x=w;h.copyStyles(l).from(r).to(this.editableArea).andTo(this.blurStylesHost);h.copyStyles(e).from(r).to(this.element).andTo(this.blurStylesHost);h.insertCSS(k).into(this.element.ownerDocument);
r.disabled=!0;h.copyStyles(l).from(r).to(this.disabledStylesHost);h.copyStyles(e).from(r).to(this.disabledStylesHost);r.disabled=y;r.style.display=w;n(r);r.style.display=x;h.copyStyles(l).from(r).to(this.focusStylesHost);h.copyStyles(e).from(r).to(this.focusStylesHost);r.style.display=w;h.copyStyles(["display"]).from(r).to(this.editableArea);var z=a.lang.array(l).without(["display"]);p?p.focus():r.blur();q&&r.setAttribute("placeholder",u);this.parent.on("focus:composer",function(){h.copyStyles(z).from(g.focusStylesHost).to(g.editableArea);
h.copyStyles(e).from(g.focusStylesHost).to(g.element)});this.parent.on("blur:composer",function(){h.copyStyles(z).from(g.blurStylesHost).to(g.editableArea);h.copyStyles(e).from(g.blurStylesHost).to(g.element)});this.parent.observe("disable:composer",function(){h.copyStyles(z).from(g.disabledStylesHost).to(g.editableArea);h.copyStyles(e).from(g.disabledStylesHost).to(g.element)});this.parent.observe("enable:composer",function(){h.copyStyles(z).from(g.blurStylesHost).to(g.editableArea);h.copyStyles(e).from(g.blurStylesHost).to(g.element)});
return this}})(wysihtml5);
(function(a){var h=a.dom,b=h.domNode,g=a.browser,f={66:"bold",73:"italic",85:"underline"},e={addListeners:function(a,b,e){for(var f=0,g=b.length;f<g;f++)a.addEventListener(b[f],e,!1)},removeListeners:function(a,b,e){for(var f=0,g=b.length;f<g;f++)a.removeEventListener(b[f],e,!1)},fixLastBrDeletionInTable:function(b,e){if(b.selection.caretIsLastInSelection()){var f=b.selection.getSelection(),g=f.anchorNode;if(g&&1===g.nodeType&&(a.dom.getParentElement(g,{query:"td, th"},!1,b.element)||e)&&(f=g.childNodes[f.anchorOffset])&&
1===f.nodeType&"BR"===f.nodeName)return f.parentNode.removeChild(f),!0}return!1},handleUneditableDeletion:function(a){var b=a.selection.getBeforeSelection(!0);if(b&&("element"===b.type||"leafnode"===b.type)&&1===b.node.nodeType&&b.node.classList.contains(a.config.classNames.uneditableContainer)){if(e.fixLastBrDeletionInTable(a,!0))return!0;try{var f=new CustomEvent("wysihtml5:uneditable:delete",{bubbles:!0,cancelable:!1});b.node.dispatchEvent(f)}catch(g){}b.node.parentNode.removeChild(b.node);return!0}return!1},
fixDeleteInTheBeginningOfBlock:function(e){var f=e.selection,g=f.getPreviousNode();if(f.caretIsFirstInSelection(a.browser.usesControlRanges())&&g&&1===g.nodeType&&a.dom.domNode(g).is.block()&&!b(g).test({query:"ol, ul, table, tr, dl"})){if(/^\s*$/.test(g.textContent||g.innerText))return g.parentNode.removeChild(g),!0;if(g.lastChild){var h=g.lastChild,k=f.getSelectedNode(),l=b(g).commonAncestor(k,e.element);if(e=a.dom.getParentElement(k,{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},!1,
l||e.element))return b(e).transferContentTo(g,!0),f.setAfter(h),!0;if(a.browser.usesControlRanges())return k=f.getCaretNode(),b(k).transferContentTo(g,!0),f.setAfter(h),!0}}return!1},fixDeleteInTheBeginningOfLi:function(e){if(a.browser.hasLiDeletingProblem()){var f=e.selection.getSelection(),g=f.anchorNode,h;h=e.selection.caretIsFirstInSelection();3===g.nodeType&&0===f.anchorOffset&&g===g.parentNode.firstChild&&(g=g.parentNode,h=!0);if(h&&g&&1===g.nodeType&&"LI"===g.nodeName&&((f=b(g).prev({nodeTypes:[1,
3],ignoreBlankTexts:!0}))||!g.parentNode||"UL"!==g.parentNode.nodeName&&"OL"!==g.parentNode.nodeName||(f=b(g.parentNode).prev({nodeTypes:[1,3],ignoreBlankTexts:!0})),f))return h=g.firstChild,b(g).transferContentTo(f,!0),h?e.selection.setBefore(h):f&&(1===f.nodeType?f.lastChild?e.selection.setAfter(f.lastChild):e.selection.selectNode(f):e.selection.setAfter(f)),!0}return!1},fixDeleteInTheBeginningOfControlSelection:function(a){var e=a.selection,f=e.getPreviousNode(),g=e.getSelectedNode();return e.caretIsFirstInSelection()?
(3===g.nodeType&&(g=g.parentNode),e=g.firstChild,b(g).transferContentTo(f,!0),e&&a.selection.setBefore(e),!0):!1},initTableHandling:function(){var b=function(){window.removeEventListener("load",b);this.doc.execCommand("enableObjectResizing",!1,"false");this.doc.execCommand("enableInlineTableEditing",!1,"false")}.bind(this),f=function(){b.call(this);e.removeListeners(this.sandbox.getIframe(),["focus","mouseup","mouseover"],f)}.bind(this);this.doc.execCommand&&a.browser.supportsCommand(this.doc,"enableObjectResizing")&&
a.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?e.addListeners(this.sandbox.getIframe(),["focus","mouseup","mouseover"],f):window.addEventListener("load",b));this.tableSelection=a.quirks.tableCellsSelection(this.element,this.parent)},doLineBreaksModeEnterWithCaret:function(e){var f,g,k=!1;if(f=e.selection.getNodesNearCaret()){if(f.caretNode||f.nextNode)g=h.getParentElement(f.caretNode||f.nextNode,{query:"p, pre, div, blockquote"},2),g===e.element&&(g=void 0);
if(g&&f.caretNode)if(b(f.caretNode).is.lineBreak()){if(e.config.doubleLineBreakEscapesBlock){k=!0;f.caretNode.parentNode.removeChild(f.caretNode);b(f.nextNode).is.lineBreak()&&f.nextNode.parentNode.removeChild(f.nextNode);var l=e.doc.createElement("br");b(f.nextNode).is.lineBreak()&&f.nextNode===g.lastChild?g.parentNode.insertBefore(l,g.nextSibling):e.selection.splitElementAtCaret(g,l);f.nextNode&&3===f.nextNode.nodeType&&(f.nextNode.data=f.nextNode.data.replace(/^ *[\r\n]+/,""));e.selection.setBefore(l)}}else 3===
f.caretNode.nodeType&&a.browser.hasCaretBlockElementIssue()&&f.textOffset===f.caretNode.data.length&&!f.nextNode&&(k=!0,f=e.doc.createElement("br"),g=e.doc.createElement("br"),l=e.doc.createDocumentFragment(),l.appendChild(f),l.appendChild(g),e.selection.insertNode(l),e.selection.setBefore(g))}return k}},l=function(b,f){var g=f.selection;g.isCollapsed()?e.handleUneditableDeletion(f)?b.preventDefault():e.fixDeleteInTheBeginningOfLi(f)?b.preventDefault():e.fixDeleteInTheBeginningOfBlock(f)?b.preventDefault():
e.fixLastBrDeletionInTable(f)?b.preventDefault():a.browser.usesControlRanges()&&e.fixDeleteInTheBeginningOfControlSelection(f)&&b.preventDefault():g.containsUneditable()&&(b.preventDefault(),g.deleteContents())},k=function(a,b){!b.config.useLineBreaks||a.shiftKey||a.ctrlKey||b.selection.isCollapsed()&&e.doLineBreaksModeEnterWithCaret(b)&&a.preventDefault()},n=function(a,b,e){if(!a.selection.isCollapsed())a.selection.deleteContents();else if(a.selection.caretIsInTheBeginnig("li"))if(e){if(a.commands.exec("outdentList"))return}else if(a.commands.exec("indentList"))return;
a.commands.exec("insertHTML","&emsp;")},m=function(a){this.domNodeRemovedInterval&&clearInterval(domNodeRemovedInterval);this.parent.fire("destroy:composer")},p=function(a){this.parent.fire("beforeinteraction",a).fire("beforeinteraction:composer",a);setTimeout(function(){this.parent.fire("interaction",a).fire("interaction:composer",a)}.bind(this),0)},r=function(a){this.parent.fire("focus",a).fire("focus:composer",a);setTimeout(function(){this.focusState=this.getValue(!1,!1)}.bind(this),0)},q=function(a){if(this.focusState!==
this.getValue(!1,!1)){var b=a;"function"==typeof Object.create&&(b=Object.create(a,{type:{value:"change"}}));this.parent.fire("change",b).fire("change:composer",b)}this.parent.fire("blur",a).fire("blur:composer",a)},u=function(a){this.parent.fire(a.type,a).fire(a.type+":composer",a);"paste"===a.type&&setTimeout(function(){this.parent.fire("newword:composer")}.bind(this),0)},w=function(b){this.config.copyedFromMarking&&(a.browser.supportsModernPaste()&&(b.clipboardData.setData("text/html",this.config.copyedFromMarking+
this.selection.getHtml()),b.clipboardData.setData("text/plain",this.selection.getPlainText()),b.preventDefault()),this.parent.fire(b.type,b).fire(b.type+":composer",b))},y=function(b){b=b.keyCode;b!==a.SPACE_KEY&&b!==a.ENTER_KEY||this.parent.fire("newword:composer")},x=function(b){if(!g.canSelectImagesInContentEditable()){var e=b.target,f=this.element.querySelectorAll("img"),h=this.element.querySelectorAll("."+this.config.classNames.uneditableContainer+" img"),f=a.lang.array(f).without(h);"IMG"===
e.nodeName&&a.lang.array(f).contains(e)&&this.selection.selectNode(e)}a.browser.usesControlRanges()&&(this.selection.lastMouseDownPos={x:b.clientX,y:b.clientY},setTimeout(function(){delete this.selection.lastMouseDownPos}.bind(this),0))},z=function(a){var b=this.selection.lastMouseDownPos;if(b){var e=document.body.createTextRange();setTimeout(function(){try{e.moveToPoint(b.x,b.y),e.select()}catch(a){}}.bind(this),0)}},B=function(b){this.config.classNames.uneditableContainer&&(b=a.dom.getParentElement(b.target,
{query:"."+this.config.classNames.uneditableContainer},!1,this.element))&&this.selection.setAfter(b)},D=function(a){g.canSelectImagesInContentEditable()||setTimeout(function(){this.selection.getSelection().removeAllRanges()}.bind(this),0)},t=function(b){var e=b.keyCode,g=f[e],h;!b.ctrlKey&&!b.metaKey||b.altKey||65!==e?((b.ctrlKey||b.metaKey)&&!b.altKey&&g&&(this.commands.exec(g),b.preventDefault()),e===a.BACKSPACE_KEY&&l(b,this),(e===a.BACKSPACE_KEY||e===a.DELETE_KEY)&&(g=this.selection.getSelectedNode(!0))&&
"IMG"===g.nodeName&&(b.preventDefault(),h=g.parentNode,h.removeChild(g),"A"!==h.nodeName||h.firstChild||h.parentNode.removeChild(h),setTimeout(function(){a.quirks.redraw(this.element)}.bind(this),0)),this.config.handleTabKey&&e===a.TAB_KEY&&(b.preventDefault(),n(this,this.element,b.shiftKey)),e===a.ENTER_KEY&&k(b,this)):(this.selection.selectAll(),b.preventDefault())};a.views.Composer.prototype.observeActions=e;a.views.Composer.prototype.observe=function(){var b=this.sandbox.getIframe?this.sandbox.getIframe():
this.sandbox.getContentEditable(),f=g.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?this.element:this.sandbox.getWindow();this.focusState=this.getValue(!1,!1);b.addEventListener(["DOMNodeRemoved"],m.bind(this),!1);g.supportsMutationEvents()||(this.domNodeRemovedInterval=setInterval(function(){h.contains(document.documentElement,b)||m.call(this)},250));this.config.handleTables&&e.initTableHandling.call(this);e.addListeners(f,["drop","paste","mouseup","focus","keyup"],p.bind(this));
f.addEventListener("focus",r.bind(this),!1);f.addEventListener("blur",q.bind(this),!1);e.addListeners(this.element,["drop","paste","beforepaste"],u.bind(this),!1);this.element.addEventListener("copy",w.bind(this),!1);this.element.addEventListener("mousedown",x.bind(this),!1);this.element.addEventListener("click",B.bind(this),!1);this.element.addEventListener("drop",D.bind(this),!1);this.element.addEventListener("keyup",y.bind(this),!1);this.element.addEventListener("keydown",t.bind(this),!1);a.browser.usesControlRanges()&&
this.element.addEventListener("mscontrolselect",z.bind(this),!1);this.element.addEventListener("dragenter",function(){this.parent.fire("unset_placeholder")}.bind(this),!1)}})(wysihtml5);
(function(a){a.views.Synchronizer=Base.extend({constructor:function(a,b,g){this.editor=a;this.textarea=b;this.composer=g;this._observe()},fromComposerToTextarea:function(h){this.textarea.setValue(a.lang.string(this.composer.getValue(!1,!1)).trim(),h)},fromTextareaToComposer:function(a){var b=this.textarea.getValue(!1,!1);b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(a){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(a):
this.fromComposerToTextarea(a)},_observe:function(){var h,b=this,g=this.textarea.element.form,f=function(){h=setInterval(function(){b.fromComposerToTextarea()},400)},e=function(){clearInterval(h);h=null};f();g&&(a.dom.observe(g,"submit",function(){b.sync(!0)}),a.dom.observe(g,"reset",function(){setTimeout(function(){b.fromTextareaToComposer()},0)}));this.editor.on("change_view",function(a){"composer"!==a||h?"textarea"===a&&(b.fromComposerToTextarea(!0),e()):(b.fromTextareaToComposer(!0),f())});this.editor.on("destroy:composer",
e)}})})(wysihtml5);
(function(a){a.views.SourceView=Base.extend({constructor:function(a,b){this.editor=a;this.composer=b;this._observe()},switchToTextarea:function(a){var b=this.composer.win.getComputedStyle(this.composer.element),g=parseFloat(b.width),b=Math.max(parseFloat(b.height),100);this.textarea||(this.textarea=this.composer.doc.createElement("textarea"),this.textarea.className="wysihtml5-source-view");this.textarea.style.width=g+"px";this.textarea.style.height=b+"px";this.textarea.value=this.editor.getValue(a,!0);
this.composer.element.parentNode.insertBefore(this.textarea,this.composer.element);this.editor.currentView="source";this.composer.element.style.display="none"},switchToComposer:function(a){var b=this.textarea.value;b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire("set_placeholder"));this.textarea.parentNode.removeChild(this.textarea);this.editor.currentView=this.composer;this.composer.element.style.display=""},_observe:function(){this.editor.on("change_view",function(a){"composer"===
a?this.switchToComposer(!0):"textarea"===a&&this.switchToTextarea(!0)}.bind(this))}})})(wysihtml5);
wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(a,h,b){this.base(a,h,b);this._observe()},clear:function(){this.element.value=""},getValue:function(a){var h=this.isEmpty()?"":this.element.value;!1!==a&&(h=this.parent.parse(h));return h},setValue:function(a,h){!1!==h&&(a=this.parent.parse(a));this.element.value=a},cleanUp:function(a){a=this.parent.parse(this.element.value,void 0,a);this.element.value=a},hasPlaceholderSet:function(){var a=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),
h=this.element.getAttribute("placeholder")||null,b=this.element.value;return a&&!b||b===h},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var a=this.element,h=this.parent,b={focusin:"focus",focusout:"blur"},g=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];h.on("beforeload",function(){wysihtml5.dom.observe(a,g,function(a){a=b[a.type]||a.type;h.fire(a).fire(a+":textarea")});
wysihtml5.dom.observe(a,["paste","drop"],function(){setTimeout(function(){h.fire("paste").fire("paste:textarea")},0)})})}});
(function(a){var h={name:void 0,style:!0,toolbar:void 0,showToolbarAfterInit:!0,showToolbarDialogsOnSelection:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{},b:{},i:{},u:{}},classes:{}},pasteParserRulesets:null,parser:a.dom.parse,useLineBreaks:!0,doubleLineBreakEscapesBlock:!0,stylesheets:[],placeholderText:void 0,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,classNames:{composer:"wysihtml5-editor",body:"wysihtml5-supported",sandbox:"wysihtml5-sandbox",
placeholder:"wysihtml5-placeholder",uneditableContainer:"wysihtml5-uneditable-container"},copyedFromMarking:'<meta name="copied-from" content="wysihtml5">'};a.Editor=a.lang.Dispatcher.extend({constructor:function(b,g){this.editableElement="string"===typeof b?document.getElementById(b):b;this.config=a.lang.object({}).merge(h).merge(g).get();this._isCompatible=a.browser.supported();g&&g.classNames&&a.lang.object(this.config.classNames).merge(g.classNames);"textarea"!=this.editableElement.nodeName.toLowerCase()&&
(this.config.contentEditableMode=!0,this.config.noTextarea=!0);this.config.noTextarea||(this.currentView=this.textarea=new a.views.Textarea(this,this.editableElement,this.config));if(!this._isCompatible||!this.config.supportTouchDevices&&a.browser.isTouchDevice()){var f=this;setTimeout(function(){f.fire("beforeload").fire("load")},0)}else a.dom.addClass(document.body,this.config.classNames.body),this.currentView=this.composer=new a.views.Composer(this,this.editableElement,this.config),"function"===
typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea?this.sourceView=new a.views.SourceView(this,this.composer):this.synchronizer=new a.views.Synchronizer(this,this.textarea,this.composer);this.config.toolbar&&(this.toolbar=new a.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){this.currentView.clear();return this},
getValue:function(a,g){return this.currentView.getValue(a,g)},setValue:function(a,g){this.fire("unset_placeholder");if(!a)return this.clear();this.currentView.setValue(a,g);return this},cleanUp:function(a){this.currentView.cleanUp(a)},focus:function(a){this.currentView.focus(a);return this},disable:function(){this.currentView.disable();return this},enable:function(){this.currentView.enable();return this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},
destroy:function(){this.composer&&this.composer.sandbox&&this.composer.sandbox.destroy();this.toolbar&&this.toolbar.destroy();this.off()},parse:function(b,g,f){var e=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null;g=this.config.parser(b,{rules:f||this.config.parserRules,cleanUp:this.config.cleanUp,context:e,uneditableClass:this.config.classNames.uneditableContainer,clearInternals:g});"object"===typeof b&&a.quirks.redraw(b);return g},_initParser:function(){var b;
if(a.browser.supportsModernPaste())this.on("paste:composer",function(g){g.preventDefault();(b=a.dom.getPastedHtml(g))&&this._cleanAndPaste(b)}.bind(this));else this.on("beforepaste:composer",function(b){b.preventDefault();var f=this.composer.getScrollPos();a.dom.getPastedHtmlWithDiv(this.composer,function(a){a&&this._cleanAndPaste(a);this.composer.setScrollPos(f)}.bind(this))}.bind(this))},_cleanAndPaste:function(b){b=a.quirks.cleanPastedHTML(b,{referenceNode:this.composer.element,rules:this.config.pasteParserRulesets||
[{set:this.config.parserRules}],uneditableClass:this.config.classNames.uneditableContainer});this.composer.selection.deleteContents();this.composer.selection.insertHTML(b)}})})(wysihtml5);/*
 wysihtml v0.5.5
 https://github.com/Voog/wysihtml

 Author: Christopher Blum (https://github.com/tiff)
 Secondary author of extended features: Oliver Pulges (https://github.com/pulges)

 Copyright (C) 2012 XING AG
 Licensed under the MIT license (MIT)

*/
wysihtml5={version:"0.5.5",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",INVISIBLE_SPACE_REG_EXP:/\uFEFF/g,VOID_ELEMENTS:"area, base, br, col, embed, hr, img, input, keygen, link, meta, param, source, track, wbr",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,TAB_KEY:9,DELETE_KEY:46,polyfills:function(a,h){String.prototype.trim||function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=
function(){return this.replace(a,"")}}();(function(){h.addEventListener||(a.Element.prototype.addEventListener=a.addEventListener=h.addEventListener=function(b,e,f){return(f=this).attachEvent("on"+b,function(b){b=b||a.event;b.target=b.target||b.srcElement;b.preventDefault=b.preventDefault||function(){b.returnValue=!1};b.stopPropagation=b.stopPropagation||function(){b.cancelBubble=!0};b.which=b.button?2===b.button?3:4===b.button?2:b.button:b.keyCode;e.call(f,b)})},a.Element.prototype.removeEventListener=
a.removeEventListener=h.removeEventListener=function(a,b){return this.detachEvent("on"+a,b)})})();Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(a.Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(a.Element.prototype,"textContent").get&&function(){var b=Object.getOwnPropertyDescriptor(a.Element.prototype,"innerText");Object.defineProperty(a.Element.prototype,"textContent",{get:function(){return b.get.call(this)},set:function(a){return b.set.call(this,
a)}})}();Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var e=this.length,f=-1,g=b>>>0;~(e-g);f=this[--e]===a?e:f);return f});Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),e=this,f=function(){},g=
function(){return e.apply(this instanceof f&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};f.prototype=this.prototype;g.prototype=new f;return g});(function(a){a.matches=a.matches||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var b=0;a[b]&&a[b]!==this;)++b;return a[b]?!0:!1};a.closest=a.closest||function(a){for(var b=this;b&&!b.matches(a);)b=b.parentElement;return b}})(Element.prototype);
"document"in a&&("classList"in h.createElement("_")?"DOMTokenList"in a&&function(){var b=h.createElement("_");b.classList.add("c1","c2");if(!b.classList.contains("c2")){var e=function(b){var e=a.DOMTokenList.prototype[b];a.DOMTokenList.prototype[b]=function(a){var b,f=arguments.length;for(b=0;b<f;b++)a=arguments[b],e.call(this,a)}};e("add");e("remove")}b.classList.toggle("c3",!1);if(b.classList.contains("c3")){var f=a.DOMTokenList.prototype.toggle;a.DOMTokenList.prototype.toggle=function(a,b){return 1 in
arguments&&!this.contains(a)===!b?b:f.call(this,a)}}b=null}():function(a){if("Element"in a){a=a.Element.prototype;var b=Object,e=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},f=Array.prototype.indexOf||function(a){for(var b=0,e=this.length;b<e;b++)if(b in this&&this[b]===a)return b;return-1},g=function(a,b){this.name=a;this.code=DOMException[a];this.message=b},h=function(a,b){if(""===b)throw new g("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new g("INVALID_CHARACTER_ERR",
"String contains an invalid character");return f.call(a,b)},q=function(a){for(var b=e.call(a.getAttribute("class")||""),b=b?b.split(/\s+/):[],f=0,g=b.length;f<g;f++)this.push(b[f]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},u=q.prototype=[],w=function(){return new q(this)};g.prototype=Error.prototype;u.item=function(a){return this[a]||null};u.contains=function(a){return-1!==h(this,a+"")};u.add=function(){var a=arguments,b=0,e=a.length,f,g=!1;do f=a[b]+"",-1===h(this,
f)&&(this.push(f),g=!0);while(++b<e);g&&this._updateClassName()};u.remove=function(){var a=arguments,b=0,e=a.length,f,g=!1,k;do for(f=a[b]+"",k=h(this,f);-1!==k;)this.splice(k,1),g=!0,k=h(this,f);while(++b<e);g&&this._updateClassName()};u.toggle=function(a,b){a+="";var e=this.contains(a),f=e?!0!==b&&"remove":!1!==b&&"add";if(f)this[f](a);return!0===b||!1===b?b:!e};u.toString=function(){return this.join(" ")};if(b.defineProperty){u={get:w,enumerable:!0,configurable:!0};try{b.defineProperty(a,"classList",
u)}catch(y){-2146823252===y.number&&(u.enumerable=!1,b.defineProperty(a,"classList",u))}}else b.prototype.__defineGetter__&&a.__defineGetter__("classList",w)}}(a));var b=function(a){var e=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?e.push(a):e=e.concat(b(a));return e},g=function(){Node.prototype.normalize=function(){var a=b(this),e=this.ownerDocument.defaultView.getSelection(),f=e.anchorNode,g=e.anchorOffset,h=f&&1===f.nodeType&&0<f.childNodes.length?f.childNodes[g]:void 0,r=e.focusNode,
q=e.focusOffset,u=r&&1===r.nodeType&&0<q?r.childNodes[q-1]:void 0,w=this.ownerDocument.createRange(),y=a.shift(),x=y?a.shift():null;u&&3===u.nodeType&&(r=u,q=u.nodeValue.length,u=void 0);h&&3===h.nodeType&&(f=h,g=0,h=void 0);if(f===r&&q<g||f!==r&&f.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_PRECEDING&&!(f.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINS))r=[f,f=r][0],q=[g,g=q][0];for(;y&&x;)x.previousSibling&&x.previousSibling===y?(f===x&&(f=y,g=y.nodeValue.length+g),r===x&&(r=y,
q=y.nodeValue.length+q),y.nodeValue+=x.nodeValue,x.parentNode.removeChild(x)):y=x,x=a.shift();u&&(q=Array.prototype.indexOf.call(u.parentNode.childNodes,u)+1);h&&(g=Array.prototype.indexOf.call(h.parentNode.childNodes,h));a:{a=this.ownerDocument;h=this;do{if(h===a){a=!0;break a}h=h.parentNode}while(h);a=!1}a&&f&&f.parentNode&&r&&r.parentNode&&(w.setStart(f,g),w.setEnd(r,q),e.removeAllRanges(),e.addRange(w))}},f=function(){window.removeEventListener("load",f);var a;if(a="Node"in window&&"normalize"in
Node.prototype)if("createRange"in document&&"getSelection"in window){a=document.createElement("div");var b=document.createTextNode("a"),e=document.createTextNode("a"),h=document.createTextNode("a"),p=document.createRange();a.setAttribute("contenteditable","true");a.appendChild(b);a.appendChild(e);a.appendChild(h);document.body.appendChild(a);p.setStart(e,1);p.setEnd(e,1);b=window.getSelection();b.removeAllRanges();b.addRange(p);a.normalize();b=window.getSelection();p=1!==a.childNodes.length||b.anchorNode!==
a.firstChild||2!==b.anchorOffset;a.parentNode.removeChild(a);b.removeAllRanges();a=p}else a=void 0;a&&g()};"complete"!==h.readyState?window.addEventListener("load",f):f();var e=function(){try{var a=new CustomEvent("cat",{detail:{foo:"bar"}});return"cat"===a.type&&"bar"===a.detail.foo}catch(b){}return!1}();(function(){if(!e&&"CustomEvent"in window){var b=function(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var e=h.createEvent("CustomEvent");e.initCustomEvent(a,b.bubbles,b.cancelable,b.detail);
return e};b.prototype=a.Event.prototype;a.CustomEvent=b;e=!0}})()}};wysihtml5.polyfills(window,document);
(function(a,h){"function"==typeof define&&define.amd?define(a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a():h.rangy=a()})(function(){function a(a,b){var e=typeof a[b];return"function"==e||!("object"!=e||!a[b])||"unknown"==e}function h(a,b){return!("object"!=typeof a[b]||!a[b])}function b(a,b){return"undefined"!=typeof a[b]}function g(a){return function(b,e){for(var f=e.length;f--;)if(!a(b,e[f]))return!1;return!0}}function f(a){return a&&D(a,B)&&A(a,z)}function e(a){return h(a,
"body")?a.body:a.getElementsByTagName("body")[0]}function l(b){"undefined"!=typeof console&&a(console,"log")&&console.log(b)}function k(a){E.initialized=!0;E.supported=!1;a="Rangy is not supported in this environment. Reason: "+a;G&&E.config.alertOnFail?alert(a):l(a)}function n(){if(G&&!E.initialized){var b,g=!1,h=!1;a(document,"createRange")&&(b=document.createRange(),D(b,x)&&A(b,y)&&(g=!0));if((b=e(document))&&"body"==b.nodeName.toLowerCase())if(b&&a(b,"createTextRange")&&(b=b.createTextRange(),
f(b)&&(h=!0)),g||h){E.initialized=!0;E.features={implementsDomRange:g,implementsTextRange:h};var m,n;for(n in F)(m=F[n])instanceof q&&m.init(m,E);h=0;for(m=M.length;h<m;++h)try{M[h](E)}catch(p){g="Rangy init listener threw an exception. Continuing. Detail: "+(p.message||p.description||String(p)),l(g)}}else k("Neither Range nor TextRange are available");else k("No body element found")}}function m(a,b,e){e&&(a+=" in module "+e.name);E.warn("DEPRECATED: "+a+" is deprecated. Please use "+b+" instead.")}
function p(a,b,e,f){a[b]=function(){m(b,e,f);return a[e].apply(a,K.toArray(arguments))}}function r(a){a=a||window;n();for(var b=0,e=L.length;b<e;++b)L[b](a)}function q(a,b,e){this.name=a;this.dependencies=b;this.supported=this.initialized=!1;this.initializer=e}function u(a,b,e){b=new q(a,b,function(b){if(!b.initialized){b.initialized=!0;try{e(E,b),b.supported=!0}catch(f){l("Module '"+a+"' failed to load: "+(f.message||f.description||String(f))),f.stack&&l(f.stack)}}});return F[a]=b}function w(){}
var y="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" "),x="setStart setStartBefore setStartAfter setEnd setEndBefore setEndAfter collapse selectNode selectNodeContents compareBoundaryPoints deleteContents extractContents cloneContents insertNode surroundContents cloneRange toString detach".split(" "),z="boundingHeight boundingLeft boundingTop boundingWidth htmlText text".split(" "),B="collapse compareEndPoints duplicate moveToElementText parentElement select setEndPoint getBoundingClientRect".split(" "),
D=g(a),t=g(h),A=g(b),F={},G="undefined"!=typeof window&&"undefined"!=typeof document,K={isHostMethod:a,isHostObject:h,isHostProperty:b,areHostMethods:D,areHostObjects:t,areHostProperties:A,isTextRange:f,getBody:e,forEach:[].forEach?function(a,b){a.forEach(b)}:function(a,b){for(var e=0,f=a.length;e<f;++e)b(a[e],e)}},E={version:"1.3.0",initialized:!1,isBrowser:G,supported:!0,util:K,features:{},modules:F,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:"undefined"==typeof rangyAutoInitialize?
!0:rangyAutoInitialize}};E.fail=k;E.warn=function(a){a="Rangy warning: "+a;G&&E.config.alertOnWarn?alert(a):l(a)};var O;({}).hasOwnProperty?(K.extend=O=function(a,b,e){var f,g,h;for(h in b)b.hasOwnProperty(h)&&(f=a[h],g=b[h],e&&null!==f&&"object"==typeof f&&null!==g&&"object"==typeof g&&O(f,g,!0),a[h]=g);b.hasOwnProperty("toString")&&(a.toString=b.toString);return a},K.createOptions=function(a,b){var e={};O(e,b);a&&O(e,a);return e}):k("hasOwnProperty not supported");G||k("Rangy can only run in a browser");
(function(){var a;if(G){var b=document.createElement("div");b.appendChild(document.createElement("span"));var e=[].slice;try{1==e.call(b.childNodes,0)[0].nodeType&&(a=function(a){return e.call(a,0)})}catch(f){}}a||(a=function(a){for(var b=[],e=0,f=a.length;e<f;++e)b[e]=a[e];return b});K.toArray=a})();var J;G&&(a(document,"addEventListener")?J=function(a,b,e){a.addEventListener(b,e,!1)}:a(document,"attachEvent")?J=function(a,b,e){a.attachEvent("on"+b,e)}:k("Document does not have required addEventListener or attachEvent method"),
K.addListener=J);var M=[];K.deprecationNotice=m;K.createAliasForDeprecatedMethod=p;E.init=n;E.addInitListener=function(a){E.initialized?a(E):M.push(a)};var L=[];E.addShimListener=function(a){L.push(a)};G&&(E.shim=E.createMissingNativeApi=r,p(E,"createMissingNativeApi","shim"));q.prototype={init:function(){for(var a=this.dependencies||[],b=0,e=a.length,f,g;b<e;++b){g=a[b];f=F[g];if(!(f&&f instanceof q))throw Error("required module '"+g+"' not found");f.init();if(!f.supported)throw Error("required module '"+
g+"' not supported");}this.initializer(this)},fail:function(a){this.initialized=!0;this.supported=!1;throw Error(a);},warn:function(a){E.warn("Module "+this.name+": "+a)},deprecationNotice:function(a,b){E.warn("DEPRECATED: "+a+" in module "+this.name+" is deprecated. Please use "+b+" instead")},createError:function(a){return Error("Error in Rangy "+this.name+" module: "+a)}};E.createModule=function(a){var b,e;2==arguments.length?(b=arguments[1],e=[]):(b=arguments[2],e=arguments[1]);b=u(a,e,b);E.initialized&&
E.supported&&b.init()};E.createCoreModule=function(a,b,e){u(a,b,e)};E.RangePrototype=w;E.rangePrototype=new w;E.selectionPrototype=new function(){};E.createCoreModule("DomUtil",[],function(a,b){function e(a){for(var b=0;a=a.previousSibling;)++b;return b}function f(a,b){var e=[],g;for(g=a;g;g=g.parentNode)e.push(g);for(g=b;g;g=g.parentNode)if(x(e,g))return g;return null}function g(a,b,e){for(b=e?b:b.parentNode;b;){if(b===a)return!0;b=b.parentNode}return!1}function h(a,b,e){for(e=e?a:a.parentNode;e;){a=
e.parentNode;if(a===b)return e;e=a}return null}function k(a){a=a.nodeType;return 3==a||4==a||8==a}function l(a,b){var e=b.nextSibling,f=b.parentNode;e?f.insertBefore(a,e):f.appendChild(a);return a}function m(a){if(9==a.nodeType)return a;if("undefined"!=typeof a.ownerDocument)return a.ownerDocument;if("undefined"!=typeof a.document)return a.document;if(a.parentNode)return m(a.parentNode);throw b.createError("getDocument: no document found for node");}function n(a){a=m(a);if("undefined"!=typeof a.defaultView)return a.defaultView;
if("undefined"!=typeof a.parentWindow)return a.parentWindow;throw b.createError("Cannot get a window object for node");}function q(a){if("undefined"!=typeof a.contentDocument)return a.contentDocument;if("undefined"!=typeof a.contentWindow)return a.contentWindow.document;throw b.createError("getIframeDocument: No Document object found for iframe element");}function p(a){return a&&G.isHostMethod(a,"setTimeout")&&G.isHostObject(a,"document")}function t(a){return a?k(a)?'"'+a.data+'"':1==a.nodeType?"<"+
a.nodeName+(a.id?' id="'+a.id+'"':"")+">[index:"+e(a)+",length:"+a.childNodes.length+"]["+(a.innerHTML||"[innerHTML not supported]").slice(0,25)+"]":a.nodeName:"[No node]"}function r(a){this._next=this.root=a}function A(a,b){this.node=a;this.offset=b}function u(a){this.code=this[a];this.codeName=a;this.message="DOMException: "+this.codeName}var G=a.util,w=G.getBody;G.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||b.fail("document missing a Node creation method");
G.isHostMethod(document,"getElementsByTagName")||b.fail("document missing getElementsByTagName method");var F=document.createElement("div");G.areHostMethods(F,["insertBefore","appendChild","cloneNode"])||b.fail("Incomplete Element implementation");G.isHostProperty(F,"innerHTML")||b.fail("Element is missing innerHTML property");F=document.createTextNode("test");G.areHostMethods(F,["splitText","deleteData","insertData","appendData","cloneNode"])||b.fail("Incomplete Text Node implementation");var x=
function(a,b){for(var e=a.length;e--;)if(a[e]===b)return!0;return!1},z=!1;(function(){var b=document.createElement("b");b.innerHTML="1";b.innerHTML="<br />";z=!1;a.features.crashyTextNodes=z})();var E;"undefined"!=typeof window.getComputedStyle?E=function(a,b){return n(a).getComputedStyle(a,null)[b]}:"undefined"!=typeof document.documentElement.currentStyle?E=function(a,b){return a.currentStyle?a.currentStyle[b]:""}:b.fail("No means of obtaining computed style properties found");r.prototype={_current:null,
hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next,b;if(this._current){b=a.firstChild;if(!b)for(b=null;a!==this.root&&!(b=a.nextSibling);)a=a.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=null}};A.prototype={equals:function(a){return!!a&&this.node===a.node&&this.offset==a.offset},inspect:function(){return"[DomPosition("+t(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}};u.prototype=
{INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24};u.prototype.toString=function(){return this.message};a.dom={arrayContains:x,isHtmlNamespace:function(a){var b;return"undefined"==typeof a.namespaceURI||null===(b=a.namespaceURI)||"http://www.w3.org/1999/xhtml"==b},parentElement:function(a){a=a.parentNode;return 1==a.nodeType?a:null},getNodeIndex:e,getNodeLength:function(a){switch(a.nodeType){case 7:case 10:return 0;
case 3:case 8:return a.length;default:return a.childNodes.length}},getCommonAncestor:f,isAncestorOf:g,isOrIsAncestorOf:function(a,b){return g(a,b,!0)},getClosestAncestorIn:h,isCharacterDataNode:k,isTextOrCommentNode:function(a){if(!a)return!1;a=a.nodeType;return 3==a||8==a},insertAfter:l,splitDataNode:function(a,b,f){var g=a.cloneNode(!1);g.deleteData(0,b);a.deleteData(b,a.length-b);l(g,a);if(f)for(var h=0,k;k=f[h++];)k.node==a&&k.offset>b?(k.node=g,k.offset-=b):k.node==a.parentNode&&k.offset>e(a)&&
++k.offset;return g},getDocument:m,getWindow:n,getIframeWindow:function(a){if("undefined"!=typeof a.contentWindow)return a.contentWindow;if("undefined"!=typeof a.contentDocument)return a.contentDocument.defaultView;throw b.createError("getIframeWindow: No Window object found for iframe element");},getIframeDocument:q,getBody:w,isWindow:p,getContentDocument:function(a,b,e){var f;a?G.isHostProperty(a,"nodeType")?f=1==a.nodeType&&"iframe"==a.tagName.toLowerCase()?q(a):m(a):p(a)&&(f=a.document):f=document;
if(!f)throw b.createError(e+"(): Parameter must be a Window object or DOM node");return f},getRootContainer:function(a){for(var b;b=a.parentNode;)a=b;return a},comparePoints:function(a,g,k,l){var m;if(a==k)return g===l?0:g<l?-1:1;if(m=h(k,a,!0))return g<=e(m)?-1:1;if(m=h(a,k,!0))return e(m)<l?-1:1;g=f(a,k);if(!g)throw Error("comparePoints error: nodes have no common ancestor");a=a===g?g:h(a,g,!0);k=k===g?g:h(k,g,!0);if(a===k)throw b.createError("comparePoints got to case 4 and childA and childB are the same!");
for(g=g.firstChild;g;){if(g===a)return-1;if(g===k)return 1;g=g.nextSibling}},isBrokenNode:function(a){return!1},inspectNode:t,getComputedStyleProperty:E,createTestElement:function(a,b,e){var f=w(a);a=a.createElement("div");a.contentEditable=""+!!e;b&&(a.innerHTML=b);(b=f.firstChild)?f.insertBefore(a,b):f.appendChild(a);return a},removeNode:function(a){return a.parentNode.removeChild(a)},fragmentFromNodeChildren:function(a){for(var b=m(a).createDocumentFragment(),e;e=a.firstChild;)b.appendChild(e);
return b},createIterator:function(a){return new r(a)},DomPosition:A};a.DOMException=u});E.createCoreModule("DomRange",["DomUtil"],function(a,b){function e(a,b){return 3!=a.nodeType&&(P(a,b.startContainer)||P(a,b.endContainer))}function f(a){return a.document||ua(a.startContainer)}function g(a){return new ia(a.parentNode,va(a))}function h(a){return new ia(a.parentNode,va(a)+1)}function k(a,b,e){var f=11==a.nodeType?a.firstChild:a;da(b)?e==b.length?U.insertAfter(a,b):b.parentNode.insertBefore(a,0==
e?b:ba(b,e)):e>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[e]);return f}function l(a,b,e){K(a);K(b);if(f(b)!=f(a))throw new ga("WRONG_DOCUMENT_ERR");var g=fa(a.startContainer,a.startOffset,b.endContainer,b.endOffset);a=fa(a.endContainer,a.endOffset,b.startContainer,b.startOffset);return e?0>=g&&0<=a:0>g&&0<a}function m(a){for(var b,e,g=f(a.range).createDocumentFragment();e=a.next();){b=a.isPartiallySelectedSubtree();e=e.cloneNode(!b);b&&(b=a.getSubtreeIterator(),e.appendChild(m(b)),
b.detach());if(10==e.nodeType)throw new ga("HIERARCHY_REQUEST_ERR");g.appendChild(e)}return g}function n(a,b,e){var f,g;for(e=e||{stop:!1};f=a.next();)if(a.isPartiallySelectedSubtree())if(!1===b(f)){e.stop=!0;break}else{if(f=a.getSubtreeIterator(),n(f,b,e),f.detach(),e.stop)break}else for(f=U.createIterator(f);g=f.next();)if(!1===b(g)){e.stop=!0;return}}function q(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),q(b),b.detach()):a.remove()}function p(a){for(var b,e=
f(a.range).createDocumentFragment(),g;b=a.next();){a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),g=a.getSubtreeIterator(),b.appendChild(p(g)),g.detach()):a.remove();if(10==b.nodeType)throw new ga("HIERARCHY_REQUEST_ERR");e.appendChild(b)}return e}function t(a,b,e){var f=!(!b||!b.length),g,h=!!e;f&&(g=new RegExp("^("+b.join("|")+")$"));var k=[];n(new A(a,!1),function(b){if(!f||g.test(b.nodeType))if(!h||e(b)){var l=a.startContainer;b==l&&da(l)&&a.startOffset==l.length||(l=a.endContainer,b==l&&da(l)&&
0==a.endOffset||k.push(b))}});return k}function r(a){return"["+("undefined"==typeof a.getName?"Range":a.getName())+"("+U.inspectNode(a.startContainer)+":"+a.startOffset+", "+U.inspectNode(a.endContainer)+":"+a.endOffset+")]"}function A(a,b){this.range=a;this.clonePartiallySelectedTextNodes=b;if(!a.collapsed){this.sc=a.startContainer;this.so=a.startOffset;this.ec=a.endContainer;this.eo=a.endOffset;var e=a.commonAncestorContainer;this.sc===this.ec&&da(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=
this._last=this._next=this.sc):(this._first=this._next=this.sc!==e||da(this.sc)?pa(this.sc,e,!0):this.sc.childNodes[this.so],this._last=this.ec!==e||da(this.ec)?pa(this.ec,e,!0):this.ec.childNodes[this.eo-1])}}function u(a){return function(b,e){for(var f,g=e?b:b.parentNode;g;){f=g.nodeType;if(Ta(a,f))return g;g=g.parentNode}return null}}function G(a,b){if(yb(a,b))throw new ga("INVALID_NODE_TYPE_ERR");}function w(a,b){if(!Ta(b,a.nodeType))throw new ga("INVALID_NODE_TYPE_ERR");}function F(a,b){if(0>
b||b>(da(a)?a.length:a.childNodes.length))throw new ga("INDEX_SIZE_ERR");}function x(a,b){if(aa(a,!0)!==aa(b,!0))throw new ga("WRONG_DOCUMENT_ERR");}function z(a){if(sb(a,!0))throw new ga("NO_MODIFICATION_ALLOWED_ERR");}function E(a,b){return b<=(da(a)?a.length:a.childNodes.length)}function y(a){return!!a.startContainer&&!!a.endContainer&&!(Pa&&(U.isBrokenNode(a.startContainer)||U.isBrokenNode(a.endContainer)))&&la(a.startContainer)==la(a.endContainer)&&E(a.startContainer,a.startOffset)&&E(a.endContainer,
a.endOffset)}function K(a){if(!y(a))throw Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+a.inspect()+")");}function D(a,b){K(a);var e=a.startContainer,f=a.startOffset,g=a.endContainer,h=a.endOffset,k=e===g;da(g)&&0<h&&h<g.length&&ba(g,h,b);da(e)&&0<f&&f<e.length&&(e=ba(e,f,b),k?(h-=f,g=e):g==e.parentNode&&h>=va(e)&&h++,f=0);a.setStartAndEnd(e,f,g,h)}function B(a){K(a);var b=a.commonAncestorContainer.parentNode.cloneNode(!1);b.appendChild(a.cloneContents());
return b.innerHTML}function J(a){a.START_TO_START=0;a.START_TO_END=1;a.END_TO_END=2;a.END_TO_START=3;a.NODE_BEFORE=0;a.NODE_AFTER=1;a.NODE_BEFORE_AND_AFTER=2;a.NODE_INSIDE=3}function O(a){J(a);J(a.prototype)}function H(a,b){return function(){K(this);var e=this.startContainer,f=this.startOffset,g=this.commonAncestorContainer,k=new A(this,!0);e!==g&&(e=pa(e,g,!0),f=h(e),e=f.node,f=f.offset);n(k,z);k.reset();g=a(k);k.detach();b(this,e,f,e,f);return g}}function M(b,f){function k(a,b){return function(e){w(e,
Qa);w(la(e),Wa);e=(a?g:h)(e);(b?l:m)(this,e.node,e.offset)}}function l(a,b,e){var g=a.endContainer,h=a.endOffset;if(b!==a.startContainer||e!==a.startOffset){if(la(b)!=la(g)||1==fa(b,e,g,h))g=b,h=e;f(a,b,e,g,h)}}function m(a,b,e){var g=a.startContainer,h=a.startOffset;if(b!==a.endContainer||e!==a.endOffset){if(la(b)!=la(g)||-1==fa(b,e,g,h))g=b,h=e;f(a,g,h,b,e)}}var n=function(){};n.prototype=a.rangePrototype;b.prototype=new n;Xa.extend(b.prototype,{setStart:function(a,b){G(a,!0);F(a,b);l(this,a,b)},
setEnd:function(a,b){G(a,!0);F(a,b);m(this,a,b)},setStartAndEnd:function(){var a=arguments,b=a[0],e=a[1],g=b,h=e;switch(a.length){case 3:h=a[2];break;case 4:g=a[2],h=a[3]}f(this,b,e,g,h)},setBoundary:function(a,b,e){this["set"+(e?"Start":"End")](a,b)},setStartBefore:k(!0,!0),setStartAfter:k(!1,!0),setEndBefore:k(!0,!1),setEndAfter:k(!1,!1),collapse:function(a){K(this);a?f(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):f(this,this.endContainer,this.endOffset,this.endContainer,
this.endOffset)},selectNodeContents:function(a){G(a,!0);f(this,a,0,a,$a(a))},selectNode:function(a){G(a,!1);w(a,Qa);var b=g(a);a=h(a);f(this,b.node,b.offset,a.node,a.offset)},extractContents:H(p,f),deleteContents:H(q,f),canSurroundContents:function(){K(this);z(this.startContainer);z(this.endContainer);var a=new A(this,!0),b=a._first&&e(a._first,this)||a._last&&e(a._last,this);a.detach();return!b},splitBoundaries:function(){D(this)},splitBoundariesPreservingPositions:function(a){D(this,a)},normalizeBoundaries:function(){K(this);
var a=this.startContainer,b=this.startOffset,e=this.endContainer,g=this.endOffset,h=function(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(e=a,g=a.length,a.appendData(b.data),sa(b))},k=function(f){var h=f.previousSibling;if(h&&h.nodeType==f.nodeType){a=f;var k=f.length;b=h.length;f.insertData(0,h.data);sa(h);a==e?(g+=b,e=a):e==f.parentNode&&(h=va(f),g==h?(e=f,g=k):g>h&&g--)}},l=!0;da(e)?g==e.length?h(e):0==g&&(h=e.previousSibling)&&h.nodeType==e.nodeType&&(g=h.length,a==e&&(l=!1),h.appendData(e.data),
sa(e),e=h):(0<g&&(l=e.childNodes[g-1])&&da(l)&&h(l),l=!this.collapsed);l?da(a)?0==b?k(a):b==a.length&&(h=a.nextSibling)&&h.nodeType==a.nodeType&&(e==h&&(e=a,g+=a.length),a.appendData(h.data),sa(h)):b<a.childNodes.length&&(h=a.childNodes[b])&&da(h)&&k(h):(a=e,b=g);f(this,a,b,e,g)},collapseToPoint:function(a,b){G(a,!0);F(a,b);this.setStartAndEnd(a,b)}});O(b)}function L(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset;a.commonAncestorContainer=a.collapsed?a.startContainer:
U.getCommonAncestor(a.startContainer,a.endContainer)}function R(a,b,e,f,g){a.startContainer=b;a.startOffset=e;a.endContainer=f;a.endOffset=g;a.document=U.getDocument(b);L(a)}function wa(a){this.startContainer=a;this.startOffset=0;this.endContainer=a;this.endOffset=0;this.document=a;L(this)}var U=a.dom,Xa=a.util,ia=U.DomPosition,ga=a.DOMException,da=U.isCharacterDataNode,va=U.getNodeIndex,P=U.isOrIsAncestorOf,ua=U.getDocument,fa=U.comparePoints,ba=U.splitDataNode,pa=U.getClosestAncestorIn,$a=U.getNodeLength,
Ta=U.arrayContains,la=U.getRootContainer,Pa=a.features.crashyTextNodes,sa=U.removeNode;A.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null;this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;a&&(this._next=a!==this._last?a.nextSibling:null,da(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===
this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so)));return a},remove:function(){var a=this._current,b,e;!da(a)||a!==this.sc&&a!==this.ec?a.parentNode&&sa(a):(b=a===this.sc?this.so:0,e=a===this.ec?this.eo:a.length,b!=e&&a.deleteData(b,e-b))},isPartiallySelectedSubtree:function(){return e(this._current,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse(!1);else{a=new wa(f(this.range));var b=this._current,e=b,g=0,h=b,k=$a(b);P(b,this.sc)&&
(e=this.sc,g=this.so);P(b,this.ec)&&(h=this.ec,k=this.eo);R(a,e,g,h,k)}return new A(a,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Qa=[1,3,4,5,7,8,10],Wa=[2,9,11],kb=[1,3,4,5,7,8,10,11],Ia=[1,3,4,5,7,8],aa=u([9,11]),sb=u([5,6,10,12]),yb=u([6,10,12]),za=document.createElement("style"),ra=!1;try{za.innerHTML="<b>x</b>",ra=3==za.firstChild.nodeType}catch(zb){}a.features.htmlParsingConforms=
ra;var Ua="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" ");Xa.extend(a.rangePrototype,{compareBoundaryPoints:function(a,b){K(this);x(this.startContainer,b.startContainer);var e=3==a||0==a?"start":"end",f=1==a||0==a?"start":"end";return fa(this[e+"Container"],this[e+"Offset"],b[f+"Container"],b[f+"Offset"])},insertNode:function(a){K(this);w(a,kb);z(this.startContainer);if(P(a,this.startContainer))throw new ga("HIERARCHY_REQUEST_ERR");a=k(a,this.startContainer,
this.startOffset);this.setStartBefore(a)},cloneContents:function(){K(this);var a,b;if(this.collapsed)return f(this).createDocumentFragment();if(this.startContainer===this.endContainer&&da(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=f(this).createDocumentFragment(),b.appendChild(a),b;b=new A(this,!0);a=m(b);b.detach();return a},canSurroundContents:function(){K(this);z(this.startContainer);z(this.endContainer);var a=new A(this,
!0),b=a._first&&e(a._first,this)||a._last&&e(a._last,this);a.detach();return!b},surroundContents:function(a){w(a,Ia);if(!this.canSurroundContents())throw new ga("INVALID_STATE_ERR");var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);k(a,this.startContainer,this.startOffset);a.appendChild(b);this.selectNode(a)},cloneRange:function(){K(this);for(var a=new wa(f(this)),b=Ua.length,e;b--;)e=Ua[b],a[e]=this[e];return a},toString:function(){K(this);var a=this.startContainer;
if(a===this.endContainer&&da(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):"";var b=[],a=new A(this,!0);n(a,function(a){3!=a.nodeType&&4!=a.nodeType||b.push(a.data)});a.detach();return b.join("")},compareNode:function(a){K(this);var b=a.parentNode,e=va(a);if(!b)throw new ga("NOT_FOUND_ERR");a=this.comparePoint(b,e);b=this.comparePoint(b,e+1);return 0>a?0<b?2:0:0<b?1:3},comparePoint:function(a,b){K(this);if(!a)throw new ga("HIERARCHY_REQUEST_ERR");x(a,this.startContainer);
return 0>fa(a,b,this.startContainer,this.startOffset)?-1:0<fa(a,b,this.endContainer,this.endOffset)?1:0},createContextualFragment:ra?function(a){var b=this.startContainer,e=ua(b);if(!b)throw new ga("INVALID_STATE_ERR");var f=null;1==b.nodeType?f=b:da(b)&&(f=U.parentElement(b));f=null===f||"HTML"==f.nodeName&&U.isHtmlNamespace(ua(f).documentElement)&&U.isHtmlNamespace(f)?e.createElement("body"):f.cloneNode(!1);f.innerHTML=a;return U.fragmentFromNodeChildren(f)}:function(a){var b=f(this).createElement("body");
b.innerHTML=a;return U.fragmentFromNodeChildren(b)},toHtml:function(){return B(this)},intersectsNode:function(a,b){K(this);if(la(a)!=la(this.startContainer))return!1;var e=a.parentNode,f=va(a);if(!e)return!0;var g=fa(e,f,this.endContainer,this.endOffset),e=fa(e,f+1,this.startContainer,this.startOffset);return b?0>=g&&0<=e:0>g&&0<e},isPointInRange:function(a,b){K(this);if(!a)throw new ga("HIERARCHY_REQUEST_ERR");x(a,this.startContainer);return 0<=fa(a,b,this.startContainer,this.startOffset)&&0>=fa(a,
b,this.endContainer,this.endOffset)},intersectsRange:function(a){return l(this,a,!1)},intersectsOrTouchesRange:function(a){return l(this,a,!0)},intersection:function(a){if(this.intersectsRange(a)){var b=fa(this.startContainer,this.startOffset,a.startContainer,a.startOffset),e=fa(this.endContainer,this.endOffset,a.endContainer,a.endOffset),f=this.cloneRange();-1==b&&f.setStart(a.startContainer,a.startOffset);1==e&&f.setEnd(a.endContainer,a.endOffset);return f}return null},union:function(a){if(this.intersectsOrTouchesRange(a)){var b=
this.cloneRange();-1==fa(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset);1==fa(a.endContainer,a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset);return b}throw new ga("Ranges do not intersect");},containsNode:function(a,b){return b?this.intersectsNode(a,!1):3==this.compareNode(a)},containsNodeContents:function(a){return 0<=this.comparePoint(a,0)&&0>=this.comparePoint(a,$a(a))},containsRange:function(a){var b=
this.intersection(a);return null!==b&&a.equals(b)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var e=b.getNodes([3]);return 0<e.length?(b.setStart(e[0],0),a=e.pop(),b.setEnd(a,a.length),this.containsRange(b)):this.containsNodeContents(a)},getNodes:function(a,b){K(this);return t(this,a,b)},getDocument:function(){return f(this)},collapseBefore:function(a){this.setEndBefore(a);this.collapse(!1)},collapseAfter:function(a){this.setStartAfter(a);this.collapse(!0)},getBookmark:function(b){var e=
f(this),g=a.createRange(e);b=b||U.getBody(e);g.selectNodeContents(b);var e=this.intersection(g),h=0,k=0;e&&(g.setEnd(e.startContainer,e.startOffset),h=g.toString().length,k=h+e.toString().length);return{start:h,end:k,containerNode:b}},moveToBookmark:function(a){var b=a.containerNode,e=0;this.setStart(b,0);this.collapse(!0);for(var b=[b],f,g=!1,h=!1,k,l;!h&&(f=b.pop());)if(3==f.nodeType)k=e+f.length,!g&&a.start>=e&&a.start<=k&&(this.setStart(f,a.start-e),g=!0),g&&a.end>=e&&a.end<=k&&(this.setEnd(f,
a.end-e),h=!0),e=k;else for(l=f.childNodes,k=l.length;k--;)b.push(l[k])},getName:function(){return"DomRange"},equals:function(a){return wa.rangesEqual(this,a)},isValid:function(){return y(this)},inspect:function(){return r(this)},detach:function(){}});M(wa,R);Xa.extend(wa,{rangeProperties:Ua,RangeIterator:A,copyComparisonConstants:O,createPrototypeRange:M,inspect:r,toHtml:B,getRangeDocument:f,rangesEqual:function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===
b.endContainer&&a.endOffset===b.endOffset}});a.DomRange=wa});E.createCoreModule("WrappedRange",["DomRange"],function(a,b){var e,f,g=a.dom,h=a.util,k=g.DomPosition,l=a.DomRange,m=g.getBody,n=g.getContentDocument,q=g.isCharacterDataNode;a.features.implementsDomRange&&function(){function f(a){for(var b=q.length,e;b--;)e=q[b],a[e]=a.nativeRange[e];a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset}var k,q=l.rangeProperties,p;e=function(a){if(!a)throw b.createError("WrappedRange: Range must be specified");
this.nativeRange=a;f(this)};l.createPrototypeRange(e,function(a,b,e,f,g){var h=a.startContainer!==b||a.startOffset!=e,k=a.endContainer!==f||a.endOffset!=g,l=!a.equals(a.nativeRange);if(h||k||l)a.setEnd(f,g),a.setStart(b,e)});k=e.prototype;k.selectNode=function(a){this.nativeRange.selectNode(a);f(this)};k.cloneContents=function(){return this.nativeRange.cloneContents()};k.surroundContents=function(a){this.nativeRange.surroundContents(a);f(this)};k.collapse=function(a){this.nativeRange.collapse(a);
f(this)};k.cloneRange=function(){return new e(this.nativeRange.cloneRange())};k.refresh=function(){f(this)};k.toString=function(){return this.nativeRange.toString()};var t=document.createTextNode("test");m(document).appendChild(t);var r=document.createRange();r.setStart(t,0);r.setEnd(t,0);try{r.setStart(t,1),k.setStart=function(a,b){this.nativeRange.setStart(a,b);f(this)},k.setEnd=function(a,b){this.nativeRange.setEnd(a,b);f(this)},p=function(a){return function(b){this.nativeRange[a](b);f(this)}}}catch(A){k.setStart=
function(a,b){try{this.nativeRange.setStart(a,b)}catch(e){this.nativeRange.setEnd(a,b),this.nativeRange.setStart(a,b)}f(this)},k.setEnd=function(a,b){try{this.nativeRange.setEnd(a,b)}catch(e){this.nativeRange.setStart(a,b),this.nativeRange.setEnd(a,b)}f(this)},p=function(a,b){return function(e){try{this.nativeRange[a](e)}catch(g){this.nativeRange[b](e),this.nativeRange[a](e)}f(this)}}}k.setStartBefore=p("setStartBefore","setEndBefore");k.setStartAfter=p("setStartAfter","setEndAfter");k.setEndBefore=
p("setEndBefore","setStartBefore");k.setEndAfter=p("setEndAfter","setStartAfter");k.selectNodeContents=function(a){this.setStartAndEnd(a,0,g.getNodeLength(a))};r.selectNodeContents(t);r.setEnd(t,3);p=document.createRange();p.selectNodeContents(t);p.setEnd(t,4);p.setStart(t,2);-1==r.compareBoundaryPoints(r.START_TO_END,p)&&1==r.compareBoundaryPoints(r.END_TO_START,p)?k.compareBoundaryPoints=function(a,b){b=b.nativeRange||b;a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END);return this.nativeRange.compareBoundaryPoints(a,
b)}:k.compareBoundaryPoints=function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)};p=document.createElement("div");p.innerHTML="123";var u=p.firstChild,G=m(document);G.appendChild(p);r.setStart(u,1);r.setEnd(u,2);r.deleteContents();"13"==u.data&&(k.deleteContents=function(){this.nativeRange.deleteContents();f(this)},k.extractContents=function(){var a=this.nativeRange.extractContents();f(this);return a});G.removeChild(p);G=null;h.isHostMethod(r,"createContextualFragment")&&
(k.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)});m(document).removeChild(t);k.getName=function(){return"WrappedRange"};a.WrappedRange=e;a.createNativeRange=function(a){a=n(a,b,"createNativeRange");return a.createRange()}}();if(a.features.implementsTextRange){var p=function(a,b,e,f,h){var l=a.duplicate();l.collapse(e);var m=l.parentElement();g.isOrIsAncestorOf(b,m)||(m=b);if(!m.canHaveHTML)return m=new k(m.parentNode,g.getNodeIndex(m)),{boundaryPosition:m,
nodeInfo:{nodeIndex:m.offset,containerElement:m.node}};b=g.getDocument(m).createElement("span");b.parentNode&&g.removeNode(b);var n,p=e?"StartToStart":"StartToEnd",t=h&&h.containerElement==m?h.nodeIndex:0,r=m.childNodes.length,A=r;for(h=A;;){h==r?m.appendChild(b):m.insertBefore(b,m.childNodes[h]);l.moveToElementText(b);n=l.compareEndPoints(p,a);if(0==n||t==A)break;else if(-1==n)if(A==t+1)break;else t=h;else A=A==t+1?t:h;h=Math.floor((t+A)/2);m.removeChild(b)}p=b.nextSibling;if(-1==n&&p&&q(p)){l.setEndPoint(e?
"EndToStart":"EndToEnd",a);if(/[\r\n]/.test(p.data))for(e=l.duplicate(),f=e.text.replace(/\r\n/g,"\r").length,f=e.moveStart("character",f);-1==e.compareEndPoints("StartToEnd",e);)f++,e.moveStart("character",1);else f=l.text.length;e=new k(p,f)}else a=(f||!e)&&b.previousSibling,e=(e=(f||e)&&b.nextSibling)&&q(e)?new k(e,0):a&&q(a)?new k(a,a.data.length):new k(m,g.getNodeIndex(b));g.removeNode(b);return{boundaryPosition:e,nodeInfo:{nodeIndex:h,containerElement:m}}},t=function(a,b){var e,f,h=a.offset,
k=g.getDocument(a.node),l=m(k).createTextRange(),n=q(a.node);n?(e=a.node,f=e.parentNode):(e=a.node.childNodes,e=h<e.length?e[h]:null,f=a.node);k=k.createElement("span");k.innerHTML="&#feff;";e?f.insertBefore(k,e):f.appendChild(k);l.moveToElementText(k);l.collapse(!b);f.removeChild(k);if(n)l[b?"moveStart":"moveEnd"]("character",h);return l};f=function(a){this.textRange=a;this.refresh()};f.prototype=new l(document);f.prototype.refresh=function(){var a,b,e;e=this.textRange;a=e.parentElement();var f=
e.duplicate();f.collapse(!0);b=f.parentElement();f=e.duplicate();f.collapse(!1);e=f.parentElement();b=b==e?b:g.getCommonAncestor(b,e);b=b==a?b:g.getCommonAncestor(a,b);a=this.textRange;0==a.compareEndPoints("StartToEnd",a)?b=a=p(this.textRange,b,!0,!0).boundaryPosition:(e=p(this.textRange,b,!0,!1),a=e.boundaryPosition,b=p(this.textRange,b,!1,!1,e.nodeInfo).boundaryPosition);this.setStart(a.node,a.offset);this.setEnd(b.node,b.offset)};f.prototype.getName=function(){return"WrappedTextRange"};l.copyComparisonConstants(f);
var r=function(a){if(a.collapsed)return t(new k(a.startContainer,a.startOffset),!0);var b=t(new k(a.startContainer,a.startOffset),!0),e=t(new k(a.endContainer,a.endOffset),!1);a=m(l.getRangeDocument(a)).createTextRange();a.setEndPoint("StartToStart",b);a.setEndPoint("EndToEnd",e);return a};f.rangeToTextRange=r;f.prototype.toTextRange=function(){return r(this)};a.WrappedTextRange=f;if(!a.features.implementsDomRange||a.config.preferTextRange){var A=Function("return this;")();"undefined"==typeof A.Range&&
(A.Range=f);a.createNativeRange=function(a){a=n(a,b,"createNativeRange");return m(a).createTextRange()};a.WrappedRange=f}}a.createRange=function(e){e=n(e,b,"createRange");return new a.WrappedRange(a.createNativeRange(e))};a.createRangyRange=function(a){a=n(a,b,"createRangyRange");return new l(a)};h.createAliasForDeprecatedMethod(a,"createIframeRange","createRange");h.createAliasForDeprecatedMethod(a,"createIframeRangyRange","createRangyRange");a.addShimListener(function(b){var e=b.document;"undefined"==
typeof e.createRange&&(e.createRange=function(){return a.createRange(e)});e=b=null})});E.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(a,b){function e(a){return"string"==typeof a?/^backward(s)?$/i.test(a):!!a}function f(a,e){if(a){if(E.isWindow(a))return a;if(a instanceof u)return a.win;var g=E.getContentDocument(a,b,e);return E.getWindow(g)}return window}function g(a){return f(a,"getWinSelection").getSelection()}function h(a){return f(a,"getDocSelection").document.selection}
function k(a){var b=!1;a.anchorNode&&(b=1==E.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset));return b}function l(a,b,e){var f=e?"end":"start";e=e?"start":"end";a.anchorNode=b[f+"Container"];a.anchorOffset=b[f+"Offset"];a.focusNode=b[e+"Container"];a.focusOffset=b[e+"Offset"]}function m(a){a.anchorNode=a.focusNode=null;a.anchorOffset=a.focusOffset=0;a.rangeCount=0;a.isCollapsed=!0;a._ranges.length=0}function n(b){var e;b instanceof B?(e=a.createNativeRange(b.getDocument()),e.setEnd(b.endContainer,
b.endOffset),e.setStart(b.startContainer,b.startOffset)):b instanceof J?e=b.nativeRange:R.implementsDomRange&&b instanceof E.getWindow(b.startContainer).Range&&(e=b);return e}function q(a){var e=a.getNodes(),f;a:if(e.length&&1==e[0].nodeType){f=1;for(var g=e.length;f<g;++f)if(!E.isAncestorOf(e[0],e[f])){f=!1;break a}f=!0}else f=!1;if(!f)throw b.createError("getSingleElementFromRange: range "+a.inspect()+" did not consist of a single element");return e[0]}function p(a){return!!a&&"undefined"!=typeof a.text}
function t(a,b){var e=new J(b);a._ranges=[e];l(a,e,!1);a.rangeCount=1;a.isCollapsed=e.collapsed}function r(b){b._ranges.length=0;if("None"==b.docSelection.type)m(b);else{var e=b.docSelection.createRange();if(p(e))t(b,e);else{b.rangeCount=e.length;for(var f,g=wa(e.item(0)),h=0;h<b.rangeCount;++h)f=a.createRange(g),f.selectNode(e.item(h)),b._ranges.push(f);b.isCollapsed=1==b.rangeCount&&b._ranges[0].collapsed;l(b,b._ranges[b.rangeCount-1],!1)}}}function A(a,e){for(var f=a.docSelection.createRange(),
g=q(e),h=wa(f.item(0)),h=U(h).createControlRange(),k=0,l=f.length;k<l;++k)h.add(f.item(k));try{h.add(g)}catch(m){throw b.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)");}h.select();r(a)}function u(a,b,e){this.nativeSelection=a;this.docSelection=b;this._ranges=[];this.win=e;this.refresh()}function G(a){a.win=a.anchorNode=a.focusNode=a._ranges=null;a.rangeCount=a.anchorOffset=a.focusOffset=0;a.detached=!0}function w(a,b){for(var e=
sa.length,f,g;e--;)if(f=sa[e],g=f.selection,"deleteAll"==b)G(g);else if(f.win==a)return"delete"==b?(sa.splice(e,1),!0):g;"deleteAll"==b&&(sa.length=0);return null}function F(a,e){for(var f=wa(e[0].startContainer),f=U(f).createControlRange(),g=0,h,k=e.length;g<k;++g){h=q(e[g]);try{f.add(h)}catch(l){throw b.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)");}}f.select();r(a)}function x(a,b){if(a.win.document!=wa(b))throw new O("WRONG_DOCUMENT_ERR");
}function z(b){return function(e,f){var g;this.rangeCount?(g=this.getRangeAt(0),g["set"+(b?"Start":"End")](e,f)):(g=a.createRange(this.win.document),g.setStartAndEnd(e,f));this.setSingleRange(g,this.isBackward())}}function K(a){var b=[],e=new H(a.anchorNode,a.anchorOffset),f=new H(a.focusNode,a.focusOffset),g="function"==typeof a.getName?a.getName():"Selection";if("undefined"!=typeof a.rangeCount)for(var h=0,k=a.rangeCount;h<k;++h)b[h]=B.inspect(a.getRangeAt(h));return"["+g+"(Ranges: "+b.join(", ")+
")(anchor: "+e.inspect()+", focus: "+f.inspect()+"]"}a.config.checkSelectionRanges=!0;var E=a.dom,y=a.util,D=y.isHostMethod,B=a.DomRange,J=a.WrappedRange,O=a.DOMException,H=E.DomPosition,M,L,R=a.features,wa=E.getDocument,U=E.getBody,Xa=B.rangesEqual,ia=D(window,"getSelection"),ga=y.isHostObject(document,"selection");R.implementsWinGetSelection=ia;var da=(R.implementsDocSelection=ga)&&(!ia||a.config.preferTextRange);if(da)M=h,a.isSelectionValid=function(a){a=f(a,"isSelectionValid").document;var b=
a.selection;return"None"!=b.type||wa(b.createRange().parentElement())==a};else if(ia)M=g,a.isSelectionValid=function(){return!0};else return b.fail("Neither document.selection or window.getSelection() detected."),!1;a.getNativeSelection=M;ia=M();if(!ia)return b.fail("Native selection was null (possibly issue 138?)"),!1;var va=a.createNativeRange(document),P=U(document),ua=y.areHostProperties(ia,["anchorNode","focusNode","anchorOffset","focusOffset"]);R.selectionHasAnchorAndFocus=ua;var fa=D(ia,"extend");
R.selectionHasExtend=fa;var ba="number"==typeof ia.rangeCount;R.selectionHasRangeCount=ba;var pa=!1,$a=!0,Ta=fa?function(b,e){var f=B.getRangeDocument(e),f=a.createRange(f);f.collapseToPoint(e.endContainer,e.endOffset);b.addRange(n(f));b.extend(e.startContainer,e.startOffset)}:null;y.areHostMethods(ia,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof ia.rangeCount&&R.implementsDomRange&&function(){var b=window.getSelection();if(b){for(var e=b.rangeCount,f=1<e,g=[],h=k(b),l=0;l<e;++l)g[l]=
b.getRangeAt(l);var l=E.createTestElement(document,"",!1),m=l.appendChild(document.createTextNode("\u00a0\u00a0\u00a0")),n=document.createRange();n.setStart(m,1);n.collapse(!0);b.removeAllRanges();b.addRange(n);$a=1==b.rangeCount;b.removeAllRanges();f||((f=window.navigator.appVersion.match(/Chrome\/(.*?) /))&&36<=parseInt(f[1])?pa=!1:(f=n.cloneRange(),n.setStart(m,0),f.setEnd(m,3),f.setStart(m,2),b.addRange(n),b.addRange(f),pa=2==b.rangeCount));E.removeNode(l);b.removeAllRanges();for(l=0;l<e;++l)0==
l&&h?Ta?Ta(b,g[l]):(a.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),b.addRange(g[l])):b.addRange(g[l])}}();R.selectionSupportsMultipleRanges=pa;R.collapsedNonEditableSelectionsSupported=$a;var la=!1;P&&D(P,"createControlRange")&&(P=P.createControlRange(),y.areHostProperties(P,["item","add"])&&(la=!0));R.implementsControlRange=la;L=ua?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===
a.focusOffset}:function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:!1};var Pa;D(ia,"getRangeAt")?Pa=function(a,b){try{return a.getRangeAt(b)}catch(e){return null}}:ua&&(Pa=function(b){var e=wa(b.anchorNode),e=a.createRange(e);e.setStartAndEnd(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset);e.collapsed!==this.isCollapsed&&e.setStartAndEnd(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset);return e});u.prototype=a.selectionPrototype;var sa=[],Qa=function(a){if(a&&a instanceof
u)return a.refresh(),a;a=f(a,"getNativeSelection");var b=w(a),e=M(a),g=ga?h(a):null;b?(b.nativeSelection=e,b.docSelection=g,b.refresh()):(b=new u(e,g,a),sa.push({win:a,selection:b}));return b};a.getSelection=Qa;y.createAliasForDeprecatedMethod(a,"getIframeSelection","getSelection");P=u.prototype;if(!da&&ua&&y.areHostMethods(ia,["removeAllRanges","addRange"]))P.removeAllRanges=function(){this.nativeSelection.removeAllRanges();m(this)},P.addRange=ba?function(b,f){if(la&&ga&&"Control"==this.docSelection.type)A(this,
b);else if(e(f)&&fa)Ta(this.nativeSelection,b),this.refresh();else{var g;pa?g=this.rangeCount:(this.removeAllRanges(),g=0);var h=n(b).cloneRange();try{this.nativeSelection.addRange(h)}catch(k){}this.rangeCount=this.nativeSelection.rangeCount;this.rangeCount==g+1?(a.config.checkSelectionRanges&&(g=Pa(this.nativeSelection,this.rangeCount-1))&&!Xa(g,b)&&(b=new J(g)),this._ranges[this.rangeCount-1]=b,l(this,b,Ia(this.nativeSelection)),this.isCollapsed=L(this)):this.refresh()}}:function(a,b){e(b)&&fa?
Ta(this.nativeSelection,a):this.nativeSelection.addRange(n(a));this.refresh()},P.setRanges=function(a){if(la&&ga&&1<a.length)F(this,a);else{this.removeAllRanges();for(var b=0,e=a.length;b<e;++b)this.addRange(a[b])}};else if(D(ia,"empty")&&D(va,"select")&&la&&da)P.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var a;if(this.anchorNode)a=wa(this.anchorNode);else if("Control"==this.docSelection.type){var b=this.docSelection.createRange();b.length&&(a=wa(b.item(0)))}a&&
(U(a).createTextRange().select(),this.docSelection.empty())}}catch(e){}m(this)},P.addRange=function(b){"Control"==this.docSelection.type?A(this,b):(a.WrappedTextRange.rangeToTextRange(b).select(),this._ranges[0]=b,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,l(this,b,!1))},P.setRanges=function(a){this.removeAllRanges();var b=a.length;1<b?F(this,a):b&&this.addRange(a[0])};else return b.fail("No means of selecting a Range or TextRange was found"),!1;P.getRangeAt=function(a){if(0>a||
a>=this.rangeCount)throw new O("INDEX_SIZE_ERR");return this._ranges[a].cloneRange()};var Wa;if(da)Wa=function(b){var e;a.isSelectionValid(b.win)?e=b.docSelection.createRange():(e=U(b.win.document).createTextRange(),e.collapse(!0));"Control"==b.docSelection.type?r(b):p(e)?t(b,e):m(b)};else if(D(ia,"getRangeAt")&&"number"==typeof ia.rangeCount)Wa=function(b){if(la&&ga&&"Control"==b.docSelection.type)r(b);else if(b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount,b.rangeCount){for(var e=0,f=
b.rangeCount;e<f;++e)b._ranges[e]=new a.WrappedRange(b.nativeSelection.getRangeAt(e));l(b,b._ranges[b.rangeCount-1],Ia(b.nativeSelection));b.isCollapsed=L(b)}else m(b)};else if(ua&&"boolean"==typeof ia.isCollapsed&&"boolean"==typeof va.collapsed&&R.implementsDomRange)Wa=function(a){var b;b=a.nativeSelection;b.anchorNode?(b=Pa(b,0),a._ranges=[b],a.rangeCount=1,b=a.nativeSelection,a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset,a.isCollapsed=
L(a)):m(a)};else return b.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;P.refresh=function(a){var b=a?this._ranges.slice(0):null,e=this.anchorNode,f=this.anchorOffset;Wa(this);if(a){a=b.length;if(a!=this._ranges.length||this.anchorNode!=e||this.anchorOffset!=f)return!0;for(;a--;)if(!Xa(b[a],this._ranges[a]))return!0;return!1}};var kb=function(a,b){var e=a.getAllRanges();a.removeAllRanges();for(var f=0,g=e.length;f<g;++f)Xa(b,e[f])||a.addRange(e[f]);a.rangeCount||
m(a)};P.removeRange=la&&ga?function(a){if("Control"==this.docSelection.type){var b=this.docSelection.createRange();a=q(a);for(var e=wa(b.item(0)),e=U(e).createControlRange(),f,g=!1,h=0,k=b.length;h<k;++h)f=b.item(h),f!==a||g?e.add(b.item(h)):g=!0;e.select();r(this)}else kb(this,a)}:function(a){kb(this,a)};var Ia;!da&&ua&&R.implementsDomRange?(Ia=k,P.isBackward=function(){return Ia(this)}):Ia=P.isBackward=function(){return!1};P.isBackwards=P.isBackward;P.toString=function(){for(var a=[],b=0,e=this.rangeCount;b<
e;++b)a[b]=""+this._ranges[b];return a.join("")};P.collapse=function(b,e){x(this,b);var f=a.createRange(b);f.collapseToPoint(b,e);this.setSingleRange(f);this.isCollapsed=!0};P.collapseToStart=function(){if(this.rangeCount){var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)}else throw new O("INVALID_STATE_ERR");};P.collapseToEnd=function(){if(this.rangeCount){var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)}else throw new O("INVALID_STATE_ERR");};P.selectAllChildren=
function(b){x(this,b);var e=a.createRange(b);e.selectNodeContents(b);this.setSingleRange(e)};P.deleteFromDocument=function(){if(la&&ga&&"Control"==this.docSelection.type){for(var a=this.docSelection.createRange(),b;a.length;)b=a.item(0),a.remove(b),E.removeNode(b);this.refresh()}else if(this.rangeCount&&(a=this.getAllRanges(),a.length)){this.removeAllRanges();b=0;for(var e=a.length;b<e;++b)a[b].deleteContents();this.addRange(a[e-1])}};P.eachRange=function(a,b){for(var e=0,f=this._ranges.length;e<
f;++e)if(a(this.getRangeAt(e)))return b};P.getAllRanges=function(){var a=[];this.eachRange(function(b){a.push(b)});return a};P.setSingleRange=function(a,b){this.removeAllRanges();this.addRange(a,b)};P.callMethodOnEachRange=function(a,b){var e=[];this.eachRange(function(f){e.push(f[a].apply(f,b||[]))});return e};P.setStart=z(!0);P.setEnd=z(!1);a.rangePrototype.select=function(a){Qa(this.getDocument()).setSingleRange(this,a)};P.changeEachRange=function(a){var b=[],e=this.isBackward();this.eachRange(function(e){a(e);
b.push(e)});this.removeAllRanges();e&&1==b.length?this.addRange(b[0],"backward"):this.setRanges(b)};P.containsNode=function(a,b){return this.eachRange(function(e){return e.containsNode(a,b)},!0)||!1};P.getBookmark=function(a){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[a])}};P.moveToBookmark=function(b){for(var e=[],f=0,g,h;g=b.rangeBookmarks[f++];)h=a.createRange(this.win),h.moveToBookmark(g),e.push(h);b.backward?this.setSingleRange(e[0],"backward"):
this.setRanges(e)};P.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}};P.restoreRanges=function(a){this.removeAllRanges();for(var b=0,e;e=a.ranges[b];++b)this.addRange(e,a.backward&&0==b)};P.toHtml=function(){var a=[];this.eachRange(function(b){a.push(B.toHtml(b))});return a.join("")};R.implementsTextRange&&(P.getNativeTextRange=function(){var e;if(e=this.docSelection){e=e.createRange();if(p(e))return e;throw b.createError("getNativeTextRange: selection is a control selection");
}if(0<this.rangeCount)return a.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw b.createError("getNativeTextRange: selection contains no range");});P.getName=function(){return"WrappedSelection"};P.inspect=function(){return K(this)};P.detach=function(){w(this.win,"delete");G(this)};u.detachAll=function(){w(null,"deleteAll")};u.inspect=K;u.isDirectionBackward=e;a.Selection=u;a.selectionPrototype=P;a.addShimListener(function(a){"undefined"==typeof a.getSelection&&(a.getSelection=function(){return Qa(a)});
a=null})});var R=!1,t=function(a){R||(R=!0,!E.initialized&&E.config.autoInitialize&&n())};G&&("complete"==document.readyState?t():(a(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",t,!1),J(window,"load",t)));return E},this);
(function(a,h){"function"==typeof define&&define.amd?define(["./rangy-core"],a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a(require("rangy")):a(h.rangy)})(function(a){a.createModule("TextRange",["WrappedSelection"],function(a,b){function g(a,b){for(var e=a.slice(b.start,b.end),f={isWord:b.isWord,chars:e,toString:function(){return e.join("")}},g=0,h=e.length;g<h;++g)e[g].token=f;return f}function f(a,b,e){b=e(a,b);e=[];for(var f=0,h;h=b[f++];)e.push(g(a,h));return e}function e(a){a=
a||"";a="string"==typeof a?a.split(""):a;a.sort(function(a,b){return a.charCodeAt(0)-b.charCodeAt(0)});return a.join("").replace(/(.)\1+/g,"$1")}function l(a,b){var e=X(a,b);if(b.hasOwnProperty("wordOptions")){var f;f=e.wordOptions;var g,h;f?(g=f.language||"en",h={},Q(h,ka[g]||ka.en),Q(h,f),f=h):f=ka.en;e.wordOptions=f}b.hasOwnProperty("characterOptions")&&(e.characterOptions=X(e.characterOptions,na));return e}function k(a,b){var e=xa(a,"display",b),f=a.tagName.toLowerCase();return"block"==e&&cb&&
Sa.hasOwnProperty(f)?Sa[f]:e}function n(a){for(var b=a,e=[];b.parentNode;)e.unshift(b.parentNode),b=b.parentNode;a=e.concat([a]);b=0;for(e=a.length;b<e;++b)if(1==a[b].nodeType&&"none"==k(a[b]))return!0;return!1}function m(a,b){if(!b&&a.hasChildNodes())return a.firstChild;var e;for(e=a;e&&!e.nextSibling;)e=e.parentNode;e=e?e.nextSibling:null;return e}function p(a){var b=a.previousSibling;if(b){for(a=b;a.hasChildNodes();)a=a.lastChild;return a}return(a=a.parentNode)&&1==a.nodeType?a:null}function r(a){if(!a||
3!=a.nodeType)return!1;var b=a.data;if(""===b)return!0;var e=a.parentNode;if(!e||1!=e.nodeType)return!1;a=xa(a.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(b)&&/^(normal|nowrap)$/.test(a)||/^[\t\r ]+$/.test(b)&&"pre-line"==a}function q(a){return""===a.data?!0:r(a)?!a.parentNode||n(a)?!0:!1:!1}function u(a){var b=a.nodeType;if(!(b=7==b||8==b||n(a)||/^(script|style)$/i.test(a.nodeName)))var e,b=3==a.nodeType&&(e=a.parentNode)&&"hidden"==xa(e,"visibility");return b||q(a)}function w(a,b){var e=
a.nodeType;return 7==e||8==e||1==e&&"none"==k(a,b)}function y(){this.store={}}function x(a,b,e){return function(f){var g=this.cache;if(g.hasOwnProperty(a))return xb++,g[a];ib++;f=b.call(this,e?this[e]:this,f);return g[a]=f}}function z(a,b){this.node=a;this.session=b;this.cache=new y;this.positions=new y}function B(a,b){this.offset=b;this.nodeWrapper=a;this.node=a.node;this.session=a.session;this.cache=new y}function D(){t();return v=new fb}function t(){v&&v.detach();v=null}function A(a,e,f,g){function h(){var a=
null;e?(a=k,l||(k=k.previousVisible(),l=!k||f&&k.equals(f))):l||(a=k=k.nextVisible(),l=!k||f&&k.equals(f));l&&(k=null);return a}f&&(e?u(f.node)&&(f=a.previousVisible()):u(f.node)&&(f=f.nextVisible()));var k=a,l=!1,m,n=!1;return{next:function(){if(n)return n=!1,m;for(var a,b;a=h();)if(b=a.getCharacter(g))return m=a;return null},rewind:function(){if(m)n=!0;else throw b.createError("createCharacterIterator: cannot rewind. Only one position can be rewound.");},dispose:function(){a=f=null}}}function F(a,
b,e){function g(a){for(var b,e=[],f=a?h:k,l=!1,m=!1;a=f.next();){b=a.character;if(Z.test(b))m&&(m=!1,l=!0);else if(l){f.rewind();break}else m=!0;e.push(a)}return e}var h=A(a,!1,null,b),k=A(a,!0,null,b),l=e.tokenizer;a=g(!0);b=g(!1).reverse();var m=f(b.concat(a),e,l),n=a.length?m.slice(La(m,a[0].token)):[],q=b.length?m.slice(0,La(m,b.pop().token)+1):[];return{nextEndToken:function(){for(var a,b;1==n.length&&!(a=n[0]).isWord&&0<(b=g(!0)).length;)n=f(a.chars.concat(b),e,l);return n.shift()},previousStartToken:function(){for(var a,
b;1==q.length&&!(a=q[0]).isWord&&0<(b=g(!1)).length;)q=f(b.reverse().concat(a.chars),e,l);return q.pop()},dispose:function(){h.dispose();k.dispose();n=q=null}}}function G(a,b,e,f){var g=a.getRangeBoundaryPosition(b,!0);a=a.getRangeBoundaryPosition(b,!1);return A(f?a:g,!!f,f?g:a,e)}function K(b,e,f,g,k){function l(b,e){var f=n[b].previousVisible(),g=n[e-1],m;if(!(m=!k.wholeWordsOnly)){m=k.wordOptions;var q=a.createRange(f.node);q.setStartAndEnd(f.node,f.offset,g.node,g.offset);m=!q.expand("word",{wordOptions:m})}return{startPos:f,
endPos:g,valid:m}}var m=V(k.direction);b=A(b,m,b.session.getRangeBoundaryPosition(g,m),k.characterOptions);g="";for(var n=[],q,p,t,r,u,G=null;q=b.next();)if(p=q.character,f||k.caseSensitive||(p=p.toLowerCase()),m?(n.unshift(q),g=p+g):(n.push(q),g+=p),f){if(q=e.exec(g))if(t=q.index,r=t+q[0].length,u){if(!m&&r<g.length||m&&0<t){G=l(t,r);break}}else u=!0}else if(-1!=(t=g.indexOf(e))){G=l(t,t+e.length);break}u&&(G=l(t,r));b.dispose();return G}function E(a){return function(){var b=!!v,e=[v||D()].concat(R.toArray(arguments)),
e=a.apply(this,e);b||t();return e}}function O(a,b){return E(function(e,f,g,h){var k;"undefined"==typeof g&&(g=f,f="character");h=l(h,ja);var m=a;b&&(m=0<=g,this.collapse(!m));e=e.getRangeBoundaryPosition(this,m);var n=g;g=h.characterOptions;var q=h.wordOptions;h=0;var p=e,t=Math.abs(n);if(0!==n){n=0>n;switch(f){case "character":for(q=A(e,n,null,g);(k=q.next())&&h<t;)++h,p=k;q.dispose();break;case "word":for(var q=F(e,g,q),r=n?q.previousStartToken:q.nextEndToken;(q=r())&&h<t;)q.isWord&&(++h,p=n?q.chars[0]:
q.chars[q.chars.length-1]);break;default:throw Error("movePositionBy: unit '"+f+"' not implemented");}n?(p=p.previousVisible(),h=-h):p&&p.isLeadingSpace&&!p.isTrailingSpace&&("word"==f&&(q=A(e,!1,null,g),k=q.next(),q.dispose()),k&&(p=k.previousVisible()))}e=p;k=h;this[m?"setStart":"setEnd"](e.node,e.offset);return k})}function J(a){return E(function(b,e){e=X(e,na);for(var f,g=G(b,this,e,!a),h=0;(f=g.next())&&Z.test(f.character);)++h;g.dispose();if(f=0<h)this[a?"moveStart":"moveEnd"]("character",a?
h:-h,{characterOptions:e});return f})}function M(a){return E(function(b,e){var f=!1;this.changeEachRange(function(b){f=b[a](e)||f});return f})}var L=a.dom,R=a.util,Q=R.extend,X=R.createOptions,T=L.getBody,ea=/^[ \t\f\r\n]+$/,N=/^[ \t\f\r]+$/,Z=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/,ha=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/,V=a.Selection.isDirectionBackward,ta=!1,Y=!1;(function(){var b=L.createTestElement(document,"<p>1 </p><p></p>",!0),
e=b.firstChild,f=a.getSelection();f.collapse(e.lastChild,2);f.setStart(e.firstChild,0);b.innerHTML="1 <br />";f.collapse(b,2);f.setStart(b.firstChild,0);ta=1==(""+f).length;b.innerHTML="1 <p>1</p>";f.collapse(b,2);f.setStart(b.firstChild,0);Y=1==(""+f).length;L.removeNode(b);f.removeAllRanges()})();var na={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:""},Aa={includeBlockContentTrailingSpace:!1,includeSpaceBeforeBr:!ta,
includeSpaceBeforeBlock:!Y,includePreLineTrailingSpace:!0},ka={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:function(a,b){function e(a,b,f){h.push({start:a,end:b,isWord:f})}for(var f=a.join(""),g,h=[],k=0,l;g=b.wordRegex.exec(f);){l=g.index;g=l+g[0].length;l>k&&e(k,l,!1);if(b.includeTrailingSpace)for(;ha.test(a[g]);)++g;e(l,g,!0);k=g}k<a.length&&e(k,a.length,!1);return h}}},bb={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:"forward",wordOptions:null,
characterOptions:null},ja={wordOptions:null,characterOptions:null},Ra={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},Fa={wordOptions:null,characterOptions:null,direction:"forward"},xa=L.getComputedStyleProperty,cb;(function(){var a=document.createElement("table"),b=T(document);b.appendChild(a);cb="block"==xa(a,"display");b.removeChild(a)})();var Sa={table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",
tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell"};y.prototype={get:function(a){return this.store.hasOwnProperty(a)?this.store[a]:null},set:function(a,b){return this.store[a]=b}};var xb=0,ib=0,ca={getPosition:function(a){var b=this.positions;return b.get(a)||b.set(a,new B(this,a))},toString:function(){return"[NodeWrapper("+L.inspectNode(this.node)+")]"}};z.prototype=ca;Q(ca,{isCharacterDataNode:x("isCharacterDataNode",L.isCharacterDataNode,"node"),getNodeIndex:x("nodeIndex",
L.getNodeIndex,"node"),getLength:x("nodeLength",L.getNodeLength,"node"),containsPositions:x("containsPositions",function(a){return L.isCharacterDataNode(a)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(a.nodeName)},"node"),isWhitespace:x("isWhitespace",r,"node"),isCollapsedWhitespace:x("isCollapsedWhitespace",q,"node"),getComputedDisplay:x("computedDisplay",k,"node"),isCollapsed:x("collapsed",u,"node"),isIgnored:x("ignored",w,"node"),next:x("nextPos",m,"node"),
previous:x("previous",p,"node"),getTextNodeInfo:x("textNodeInfo",function(a){var b=null,e=!1,f=xa(a.parentNode,"whiteSpace"),g="pre-line"==f;if(g)b=N,e=!0;else if("normal"==f||"nowrap"==f)b=ea,e=!0;return{node:a,text:a.data,spaceRegex:b,collapseSpaces:e,preLine:g}},"node"),hasInnerText:x("hasInnerText",function(a,b){for(var e=this.session,f=e.getPosition(a.parentNode,this.getNodeIndex()+1),g=e.getPosition(a,0),e=b?f:g,f=b?g:f;e!==f;){e.prepopulateChar();if(e.isDefinitelyNonEmpty())return!0;e=b?e.previousVisible():
e.nextVisible()}return!1},"node"),isRenderedBlock:x("isRenderedBlock",function(a){a=a.getElementsByTagName("br");for(var b=0,e=a.length;b<e;++b)if(!u(a[b]))return!0;return this.hasInnerText()},"node"),getTrailingSpace:x("trailingSpace",function(a){if("br"!=a.tagName.toLowerCase())switch(this.getComputedDisplay()){case "inline":for(a=a.lastChild;a;){if(!w(a))return 1==a.nodeType?this.session.getNodeWrapper(a).getTrailingSpace():"";a=a.previousSibling}break;case "inline-block":case "inline-table":case "none":case "table-column":case "table-column-group":break;
case "table-cell":return"\t";default:return this.isRenderedBlock(!0)?"\n":""}return""},"node"),getLeadingSpace:x("leadingSpace",function(a){switch(this.getComputedDisplay()){case "inline":case "inline-block":case "inline-table":case "none":case "table-column":case "table-column-group":case "table-cell":break;default:return this.isRenderedBlock(!1)?"\n":""}return""},"node")});ca={character:"",characterType:"EMPTY",isBr:!1,prepopulateChar:function(){if(!this.prepopulatedChar){var a=this.node,b=this.offset,
e="",f="EMPTY",g=!1;if(0<b)if(3==a.nodeType){var a=a.data,h=a.charAt(b-1),k=this.nodeWrapper.getTextNodeInfo(),l=k.spaceRegex;k.collapseSpaces?l.test(h)?1<b&&l.test(a.charAt(b-2))||(k.preLine&&"\n"===a.charAt(b)?(e=" ",f="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"):(e=" ",f="COLLAPSIBLE_SPACE")):(e=h,f="NON_SPACE",g=!0):(e=h,f="UNCOLLAPSIBLE_SPACE",g=!0)}else(h=a.childNodes[b-1])&&1==h.nodeType&&!u(h)&&("br"==h.tagName.toLowerCase()?(e="\n",this.isBr=!0,f="COLLAPSIBLE_SPACE",g=!1):this.checkForTrailingSpace=
!0),e||(b=a.childNodes[b])&&1==b.nodeType&&!u(b)&&(this.checkForLeadingSpace=!0);this.prepopulatedChar=!0;this.character=e;this.characterType=f;this.isCharInvariant=g}},isDefinitelyNonEmpty:function(){var a=this.characterType;return"NON_SPACE"==a||"UNCOLLAPSIBLE_SPACE"==a},resolveLeadingAndTrailingSpaces:function(){this.prepopulatedChar||this.prepopulateChar();if(this.checkForTrailingSpace){var a=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();a&&(this.isTrailingSpace=
!0,this.character=a,this.characterType="COLLAPSIBLE_SPACE");this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){if(a=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace())this.isLeadingSpace=!0,this.character=a,this.characterType="COLLAPSIBLE_SPACE";this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(a){for(var b=this,e;b=b.previousVisible();)if(e=b.getCharacter(a),""!==e)return b;return null},getCharacter:function(a){function b(){n||(m=q.getPrecedingUncollapsedPosition(a),
n=!0);return m}this.resolveLeadingAndTrailingSpaces();var f=this.character,g=e(a.ignoreCharacters),h=""!==f&&-1<g.indexOf(f);if(this.isCharInvariant)return h?"":f;var h=["character",a.includeSpaceBeforeBr,a.includeBlockContentTrailingSpace,a.includePreLineTrailingSpace,g].join("_"),k=this.cache.get(h);if(null!==k)return k;var k="",l,m,n=!1,q=this;if("COLLAPSIBLE_SPACE"==this.characterType)if("INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"==this.type)k="\n";else if(" "!=f||b()&&!m.isTrailingSpace&&"\n"!=m.character&&
(" "!=m.character||"COLLAPSIBLE_SPACE"!=m.characterType))if("\n"==f&&this.isLeadingSpace)b()&&"\n"!=m.character&&(k="\n");else if(l=this.nextUncollapsed())if(l.isBr?this.type="TRAILING_SPACE_BEFORE_BR":l.isTrailingSpace&&"\n"==l.character?this.type="TRAILING_SPACE_IN_BLOCK":l.isLeadingSpace&&"\n"==l.character&&(this.type="TRAILING_SPACE_BEFORE_BLOCK"),"\n"==l.character){if("TRAILING_SPACE_BEFORE_BR"!=this.type||a.includeSpaceBeforeBr)if("TRAILING_SPACE_BEFORE_BLOCK"!=this.type||a.includeSpaceBeforeBlock)if("TRAILING_SPACE_IN_BLOCK"!=
this.type||!l.isTrailingSpace||a.includeBlockContentTrailingSpace)if("PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"!=this.type||"NON_SPACE"!=l.type||a.includePreLineTrailingSpace)"\n"==f?l.isTrailingSpace?!this.isTrailingSpace&&this.isBr&&(l.type="TRAILING_LINE_BREAK_AFTER_BR",b()&&m.isLeadingSpace&&!m.isTrailingSpace&&"\n"==m.character?l.character="":l.type="INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"):k="\n":" "==f&&(k=" ")}else k=f;-1<g.indexOf(k)&&(k="");this.cache.set(h,k);return k},equals:function(a){return!!a&&
this.node===a.node&&this.offset===a.offset},inspect:function(){return"[Position("+L.inspectNode(this.node)+":"+this.offset+")]"},toString:function(){return this.character}};B.prototype=ca;Q(ca,{next:x("nextPos",function(a){var b=a.nodeWrapper,e=a.node,f=a.offset;a=b.session;if(!e)return null;f==b.getLength()?b=(e=e.parentNode)?b.getNodeIndex()+1:0:b.isCharacterDataNode()?b=f+1:(b=e.childNodes[f],a.getNodeWrapper(b).containsPositions()?(e=b,b=0):b=f+1);return e?a.getPosition(e,b):null}),previous:x("previous",
function(a){var b=a.nodeWrapper,e=a.node,f=a.offset;a=b.session;0==f?b=(e=e.parentNode)?b.getNodeIndex():0:b.isCharacterDataNode()?b=f-1:(b=e.childNodes[f-1],a.getNodeWrapper(b).containsPositions()?(e=b,b=L.getNodeLength(b)):b=f-1);return e?a.getPosition(e,b):null}),nextVisible:x("nextVisible",function(a){var b=a.next();if(!b)return null;a=b.nodeWrapper;var e=b.node;a.isCollapsed()&&(b=a.session.getPosition(e.parentNode,a.getNodeIndex()+1));return b}),nextUncollapsed:x("nextUncollapsed",function(a){for(;a=
a.nextVisible();)if(a.resolveLeadingAndTrailingSpaces(),""!==a.character)return a;return null}),previousVisible:x("previousVisible",function(a){var b=a.previous();if(!b)return null;a=b.nodeWrapper;var e=b.node;a.isCollapsed()&&(b=a.session.getPosition(e.parentNode,a.getNodeIndex()));return b})});var v=null,fb=function(){function a(b){var e=new y;return{get:function(a){var f=e.get(a[b]);if(f)for(var g=0,h;h=f[g++];)if(h.node===a)return h;return null},set:function(a){var f=a.node[b];(e.get(f)||e.set(f,
[])).push(a)}}}function b(){this.initCaches()}var e=R.isHostProperty(document.documentElement,"uniqueID");b.prototype={initCaches:function(){this.elementCache=e?function(){var a=new y;return{get:function(b){return a.get(b.uniqueID)},set:function(b){a.set(b.node.uniqueID,b)}}}():a("tagName");this.textNodeCache=a("data");this.otherNodeCache=a("nodeName")},getNodeWrapper:function(a){var b;switch(a.nodeType){case 1:b=this.elementCache;break;case 3:b=this.textNodeCache;break;default:b=this.otherNodeCache}var e=
b.get(a);e||(e=new z(a,this),b.set(e));return e},getPosition:function(a,b){return this.getNodeWrapper(a).getPosition(b)},getRangeBoundaryPosition:function(a,b){var e=b?"start":"end";return this.getPosition(a[e+"Container"],a[e+"Offset"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}};return b}();Q(L,{nextNode:m,previousNode:p});var La=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var e=0,f=a.length;e<f;++e)if(a[e]===b)return e;return-1};
Q(a.rangePrototype,{moveStart:O(!0,!1),moveEnd:O(!1,!1),move:O(!0,!0),trimStart:J(!0),trimEnd:J(!1),trim:E(function(a,b){var e=this.trimStart(b),f=this.trimEnd(b);return e||f}),expand:E(function(a,b,e){var f=!1;e=l(e,Ra);var g=e.characterOptions;b||(b="character");if("word"==b){var h=e.wordOptions;b=a.getRangeBoundaryPosition(this,!0);a=a.getRangeBoundaryPosition(this,!1);var k=F(b,g,h).nextEndToken(),m=k.chars[0].previousVisible(),h=this.collapsed?k:F(a,g,h).previousStartToken(),h=h.chars[h.chars.length-
1];m.equals(b)||(this.setStart(m.node,m.offset),f=!0);h&&!h.equals(a)&&(this.setEnd(h.node,h.offset),f=!0);e.trim&&(e.trimStart&&(f=this.trimStart(g)||f),e.trimEnd&&(f=this.trimEnd(g)||f));return f}return this.moveEnd("character",1,e)}),text:E(function(a,b){var e;if(this.collapsed)e="";else{var f=X(b,na);e=[];for(var f=G(a,this,f),g;g=f.next();)e.push(g);f.dispose();e=e.join("")}return e}),selectCharacters:E(function(a,b,e,f,g){a={characterOptions:g};b||(b=T(this.getDocument()));this.selectNodeContents(b);
this.collapse(!0);this.moveStart("character",e,a);this.collapse(!0);this.moveEnd("character",f-e,a)}),toCharacterRange:E(function(a,b,e){b||(b=T(this.getDocument()));a=b.parentNode;b=L.getNodeIndex(b);var f=-1==L.comparePoints(this.startContainer,this.endContainer,a,b),g=this.cloneRange();f?(g.setStartAndEnd(this.startContainer,this.startOffset,a,b),a=-g.text(e).length):(g.setStartAndEnd(a,b,this.startContainer,this.startOffset),a=g.text(e).length);e=a+this.text(e).length;return{start:a,end:e}}),
findText:E(function(b,e,f){f=l(f,bb);f.wholeWordsOnly&&(f.wordOptions.includeTrailingSpace=!1);var g=V(f.direction),k=f.withinRange;k||(k=a.createRange(),k.selectNodeContents(this.getDocument()));var m=!1;"string"==typeof e?f.caseSensitive||(e=e.toLowerCase()):m=!0;var n=b.getRangeBoundaryPosition(this,!g),q=k.comparePoint(n.node,n.offset);-1===q?n=b.getRangeBoundaryPosition(k,!0):1===q&&(n=b.getRangeBoundaryPosition(k,!1));for(var p=n,q=!1;;)if(p=K(p,e,m,k,f)){if(p.valid)return this.setStartAndEnd(p.startPos.node,
p.startPos.offset,p.endPos.node,p.endPos.offset),!0;p=g?p.startPos:p.endPos}else if(f.wrap&&!q)k=k.cloneRange(),p=b.getRangeBoundaryPosition(k,!g),k.setBoundary(n.node,n.offset,g),q=!0;else return!1}),pasteHtml:function(a){this.deleteContents();if(a){a=this.createContextualFragment(a);var b=a.lastChild;this.insertNode(a);this.collapseAfter(b)}}});Q(a.selectionPrototype,{expand:E(function(a,b,e){this.changeEachRange(function(a){a.expand(b,e)})}),move:E(function(a,b,e,f){a=0;if(this.focusNode){this.collapse(this.focusNode,
this.focusOffset);var g=this.getRangeAt(0);f||(f={});f.characterOptions=X(f.characterOptions,Aa);a=g.move(b,e,f);this.setSingleRange(g)}return a}),trimStart:M("trimStart"),trimEnd:M("trimEnd"),trim:M("trim"),selectCharacters:E(function(b,e,f,g,k,l){b=a.createRange(e);b.selectCharacters(e,f,g,l);this.setSingleRange(b,k)}),saveCharacterRanges:E(function(a,b,e){a=this.getAllRanges();for(var f=[],g=1==a.length&&this.isBackward(),h=0,k=a.length;h<k;++h)f[h]={characterRange:a[h].toCharacterRange(b,e),backward:g,
characterOptions:e};return f}),restoreCharacterRanges:E(function(b,e,f){this.removeAllRanges();b=0;for(var g=f.length,k,l,m;b<g;++b)l=f[b],m=l.characterRange,k=a.createRange(e),k.selectCharacters(e,m.start,m.end,l.characterOptions),this.addRange(k,l.backward)}),text:E(function(a,b){for(var e=[],f=0,g=this.rangeCount;f<g;++f)e[f]=this.getRangeAt(f).text(b);return e.join("")})});a.innerText=function(b,e){var f=a.createRange(b);f.selectNodeContents(b);return f.text(e)};a.createWordIterator=function(a,
b,e){var f=v||D();e=l(e,Fa);a=f.getPosition(a,b);var g=F(a,e.characterOptions,e.wordOptions),h=V(e.direction);return{next:function(){return h?g.previousStartToken():g.nextEndToken()},dispose:function(){g.dispose();this.next=function(){}}}};a.noMutation=function(a){var b=v||D();a(b);t()};a.noMutation.createEntryPointFunction=E;a.textRange={isBlockNode:function(a){return a&&(1==a.nodeType&&!/^(inline(-block|-table)?|none)$/.test(k(a))||9==a.nodeType||11==a.nodeType)},isCollapsedWhitespaceNode:q,createPosition:E(function(a,
b,e){return a.getPosition(b,e)})}});return a},this);
(function(a,h){"function"==typeof define&&define.amd?define(["./rangy-core"],a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a(require("rangy")):a(h.rangy)})(function(a){a.createModule("SaveRestore",["WrappedRange"],function(a,b){function g(a,b){var e="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),f,g=r.getDocument(a.startContainer),h=a.cloneRange();h.collapse(b);f=g.createElement("span");f.id=e;f.style.lineHeight="0";f.style.display="none";f.className="rangySelectionBoundary";
f.appendChild(g.createTextNode("\ufeff"));h.insertNode(f);return f}function f(a,e,f,g){(a=(a||document).getElementById(f))?(e[g?"setStartBefore":"setEndBefore"](a),q(a)):b.warn("Marker element has been removed. Cannot restore selection.")}function e(a,b){return b.compareBoundaryPoints(a.START_TO_START,a)}function l(b,e){var f,k,l=a.DomRange.getRangeDocument(b),m=b.toString(),n=u(e);if(b.collapsed)return k=g(b,!1),{document:l,markerId:k.id,collapsed:!0};k=g(b,!1);f=g(b,!0);return{document:l,startMarkerId:f.id,
endMarkerId:k.id,collapsed:!1,backward:n,toString:function(){return"original text: '"+m+"', new text: '"+b.toString()+"'"}}}function k(e,g){var k=e.document;"undefined"==typeof g&&(g=!0);var l=a.createRange(k);if(e.collapsed)if(k=(k||document).getElementById(e.markerId)){k.style.display="inline";var m=k.previousSibling;m&&3==m.nodeType?(q(k),l.collapseToPoint(m,m.length)):(l.collapseBefore(k),q(k))}else b.warn("Marker element has been removed. Cannot restore selection.");else f(k,l,e.startMarkerId,
!0),f(k,l,e.endMarkerId,!1);g&&l.normalizeBoundaries();return l}function n(b,f){var g=[],k,m;k=u(f);b=b.slice(0);b.sort(e);var n=0;for(m=b.length;n<m;++n)g[n]=l(b[n],k);for(n=m-1;0<=n;--n)k=b[n],m=a.DomRange.getRangeDocument(k),k.collapsed?k.collapseAfter((m||document).getElementById(g[n].markerId)):(k.setEndBefore((m||document).getElementById(g[n].endMarkerId)),k.setStartAfter((m||document).getElementById(g[n].startMarkerId)));return g}function m(a){for(var b=[],e=a.length-1;0<=e;e--)b[e]=k(a[e],
!0);return b}function p(a,b){var e=(a||document).getElementById(b);e&&q(e)}var r=a.dom,q=r.removeNode,u=a.Selection.isDirectionBackward;a.util.extend(a,{saveRange:l,restoreRange:k,saveRanges:n,restoreRanges:m,saveSelection:function(e){if(!a.isSelectionValid(e))return b.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var f=a.getSelection(e),g=f.getAllRanges(),k=1==g.length&&f.isBackward(),l=n(g,k);k?f.setSingleRange(g[0],
k):f.setRanges(g);return{win:e,rangeInfos:l,restored:!1}},restoreSelection:function(b,e){if(!b.restored){var f=b.rangeInfos,g=a.getSelection(b.win),k=m(f);1==f.length&&e&&a.features.selectionHasExtend&&f[0].backward?(g.removeAllRanges(),g.addRange(k[0],!0)):g.setRanges(k);b.restored=!0}},removeMarkerElement:p,removeMarkers:function(a){for(var b=a.rangeInfos,e=0,f=b.length,g;e<f;++e)g=b[e],g.collapsed?p(a.doc,g.markerId):(p(a.doc,g.startMarkerId),p(a.doc,g.endMarkerId))}})});return a},this);Base=function(){};
Base.extend=function(a,h){var b=Base.prototype.extend;Base._prototyping=!0;var g=new this;b.call(g,a);g.base=function(){};delete Base._prototyping;var f=g.constructor,e=g.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==e)this._constructing=!0,f.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||b).call(arguments[0],g)};e.ancestor=this;e.extend=this.extend;e.forEach=this.forEach;e.implement=this.implement;e.prototype=
g;e.toString=this.toString;e.valueOf=function(a){return"object"==a?e:f.valueOf()};b.call(e,h);"function"==typeof e.init&&e.init();return e};
Base.prototype={extend:function(a,h){if(1<arguments.length){var b=this[a];if(b&&"function"==typeof h&&(!b.valueOf||b.valueOf()!=h.valueOf())&&/\bbase\b/.test(h)){var g=h.valueOf();h=function(){var a=this.base||Base.prototype.base;this.base=b;var e=g.apply(this,arguments);this.base=a;return e};h.valueOf=function(a){return"object"==a?h:g};h.toString=Base.toString}this[a]=h}else if(a){var f=Base.prototype.extend;Base._prototyping||"function"==typeof this||(f=this.extend||f);for(var e={toSource:null},
l=["constructor","toString","valueOf"],k=Base._prototyping?0:1;n=l[k++];)a[n]!=e[n]&&f.call(this,n,a[n]);for(var n in a)e[n]||f.call(this,n,a[n])}return this}};
Base=Base.extend({constructor:function(a){this.extend(a)}},{ancestor:Object,version:"1.1",forEach:function(a,h,b){for(var g in a)void 0===this.prototype[g]&&h.call(b,a[g],g,a)},implement:function(){for(var a=0;a<arguments.length;a++)if("function"==typeof arguments[a])arguments[a](this.prototype);else this.prototype.extend(arguments[a]);return this},toString:function(){return String(this.valueOf())}});
wysihtml5.browser=function(){function a(a,b){var e=-1,f;"Microsoft Internet Explorer"==navigator.appName?f=/MSIE ([0-9]{1,}[.0-9]{0,})/:"Netscape"==navigator.appName&&(-1<navigator.userAgent.indexOf("Trident")?f=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/:/Edge\/(\d+)./i.test(navigator.userAgent)&&(f=/Edge\/(\d+)./i));f&&null!=f.exec(navigator.userAgent)&&(e=parseFloat(RegExp.$1));if(-1===e)return!1;if(!a)return!0;if(!b)return a===e;if("<"===b)return a<e;if(">"===b)return a>e;if("<="===b)return a<=e;if(">="===
b)return a>=e}var h=navigator.userAgent,b=document.createElement("div"),g=-1!==h.indexOf("Gecko")&&-1===h.indexOf("KHTML")&&!a(),f=-1!==h.indexOf("AppleWebKit/")&&!a(),e=-1!==h.indexOf("Chrome/")&&!a(),l=-1!==h.indexOf("Opera/")&&!a();return{USER_AGENT:h,supported:function(){var a=this.USER_AGENT.toLowerCase(),e="contentEditable"in b,f=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,g=document.querySelector&&document.querySelectorAll,h;if(h=this.isIos())h=5>+(/ipad|iphone|ipod/.test(a)&&
a.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1];a=h||this.isAndroid()&&4>+(a.match(/android (\d+)/)||[void 0,0])[1]||-1!==a.indexOf("opera mobi")||-1!==a.indexOf("hpwos/");return e&&f&&g&&!a},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function(){return a()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in
document)},displaysCaretInEmptyContentEditableCorrectly:function(){return a(12,">")},hasCurrentStyleProperty:function(){return"currentStyle"in b},insertsLineBreaksOnReturn:function(){return g},supportsPlaceholderAttributeOn:function(a){return"placeholder"in a},supportsEvent:function(a){var e;(e="on"+a in b)||(b.setAttribute("on"+a,"return;"),e="function"===typeof b["on"+a]);return e},supportsEventsInIframeCorrectly:function(){return!l},supportsHTML5Tags:function(a){a=a.createElement("div");a.innerHTML=
"<article>foo</article>";return"<article>foo</article>"===a.innerHTML.toLowerCase()},supportsCommand:function(){var b={formatBlock:a(10,"<="),insertUnorderedList:a(),insertOrderedList:a()},e={insertHTML:g};return function(a,f){if(!b[f]){try{return a.queryCommandSupported(f)}catch(g){}try{return a.queryCommandEnabled(f)}catch(h){return!!e[f]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return a()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},
clearsContentEditableCorrectly:function(){return g||l||f},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return g||a()||l},autoScrollsToCaret:function(){return!f},autoClosesUnclosedTags:function(){var a=b.cloneNode(!1),e;a.innerHTML="<p><div></div>";a=a.innerHTML.toLowerCase();e="<p></p><div></div>"===a||"<p><div></div></p>"===a;this.autoClosesUnclosedTags=function(){return e};return e},supportsNativeGetElementsByClassName:function(){return-1!==
String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return l},supportsSpeechApiOn:function(a){return 11<=(h.match(/Chrome\/(\d+)/)||[void 0,0])[1]&&("onwebkitspeechchange"in a||"speech"in a)},crashesWhenDefineProperty:function(b){return a(9)&&("XMLHttpRequest"===b||"XDomainRequest"===b)},doesAsyncFocus:function(){return a(12,">")},hasProblemsSettingCaretAfterImg:function(){return a()},
hasLiDeletingProblem:function(){return a()},hasUndoInContextMenu:function(){return g||e||l},hasInsertNodeIssue:function(){return l},hasIframeFocusIssue:function(){return a()},createsNestedInvalidMarkupAfterPaste:function(){return f},hasCaretBlockElementIssue:function(){return f},supportsMutationEvents:function(){return"MutationEvent"in window},supportsModernPaste:function(){return!a()},fixStyleKey:function(a){return"cssFloat"===a?"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat":
a},usesControlRanges:function(){return document.body&&"createControlRange"in document.body}}}();
wysihtml5.lang.array=function(a){return{contains:function(h){if(Array.isArray(h)){for(var b=h.length;b--;)if(-1!==wysihtml5.lang.array(a).indexOf(h[b]))return!0;return!1}return-1!==wysihtml5.lang.array(a).indexOf(h)},indexOf:function(h){if(a.indexOf)return a.indexOf(h);for(var b=0,g=a.length;b<g;b++)if(a[b]===h)return b;return-1},without:function(h){h=wysihtml5.lang.array(h);for(var b=[],g=0,f=a.length;g<f;g++)h.contains(a[g])||b.push(a[g]);return b},get:function(){for(var h=0,b=a.length,g=[];h<b;h++)g.push(a[h]);
return g},map:function(h,b){if(Array.prototype.map)return a.map(h,b);for(var g=a.length>>>0,f=Array(g),e=0;e<g;e++)f[e]=h.call(b,a[e],e,a);return f},unique:function(){for(var h=[],b=a.length,g=0;g<b;)wysihtml5.lang.array(h).contains(a[g])||h.push(a[g]),g++;return h}}};
wysihtml5.lang.Dispatcher=Base.extend({on:function(a,h){this.events=this.events||{};this.events[a]=this.events[a]||[];this.events[a].push(h);return this},off:function(a,h){this.events=this.events||{};var b=0,g,f;if(a){g=this.events[a]||[];for(f=[];b<g.length;b++)g[b]!==h&&h&&f.push(g[b]);this.events[a]=f}else this.events={};return this},fire:function(a,h){this.events=this.events||{};for(var b=this.events[a]||[],g=0;g<b.length;g++)b[g].call(this,h);return this},observe:function(){return this.on.apply(this,
arguments)},stopObserving:function(){return this.off.apply(this,arguments)}});
wysihtml5.lang.object=function(a){return{merge:function(h,b){for(var g in h)b&&wysihtml5.lang.object(h[g]).isPlainObject()&&("undefined"===typeof a[g]||wysihtml5.lang.object(a[g]).isPlainObject())?"undefined"===typeof a[g]?a[g]=wysihtml5.lang.object(h[g]).clone(!0):wysihtml5.lang.object(a[g]).merge(wysihtml5.lang.object(h[g]).clone(!0)):a[g]=wysihtml5.lang.object(h[g]).isPlainObject()?wysihtml5.lang.object(h[g]).clone(!0):h[g];return this},difference:function(h){var b={},g;for(g in a)a.hasOwnProperty(g)&&
(h.hasOwnProperty(g)||(b[g]=a[g]));for(var f in h)h.hasOwnProperty(f)&&(a.hasOwnProperty(f)&&a[f]===h[f]||(b[0]=a[0]));return b},get:function(){return a},clone:function(h){var b={},g;if(null===a||!wysihtml5.lang.object(a).isPlainObject())return a;for(g in a)a.hasOwnProperty(g)&&(b[g]=h?wysihtml5.lang.object(a[g]).clone(h):a[g]);return b},isArray:function(){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(){return"[object Function]"===Object.prototype.toString.call(a)},
isPlainObject:function(){return a&&"[object Object]"===Object.prototype.toString.call(a)&&!("Node"in window?a instanceof Node:a instanceof Element||a instanceof Text)},isEmpty:function(){for(var h in a)if(a.hasOwnProperty(h))return!1;return!0}}};
(function(){var a=/^\s+/,h=/\s+$/,b=/[&<>\t"]/g,g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","\t":"&nbsp; "};wysihtml5.lang.string=function(f){f=String(f);return{trim:function(){return f.replace(a,"").replace(h,"")},interpolate:function(a){for(var b in a)f=this.replace("#{"+b+"}").by(a[b]);return f},replace:function(a){return{by:function(b){return f.split(a).join(b)}}},escapeHTML:function(a,h){var k=f.replace(b,function(a){return g[a]});a&&(k=k.replace(/(?:\r\n|\r|\n)/g,"<br />"));h&&(k=k.replace(/  /gi,
"&nbsp; "));return k}}}})();
(function(a){function h(a){return a.replace(f,function(a,b){var f=(b.match(e)||[])[1]||"",g=l[f];b=b.replace(e,"");b.split(g).length>b.split(f).length&&(b+=f,f="");var h=g=b;100<b.length&&(h=h.substr(0,100)+"...");"www."===g.substr(0,4)&&(g="http://"+g);return'<a href="'+g+'">'+h+"</a>"+f})}function b(e,l){if(!(g.contains(e.nodeName)||e.className&&a.lang.array(e.className.split(" ")).contains(l)))if(e.nodeType===a.TEXT_NODE&&e.data.match(f)){var m=e.parentNode,p=a.lang.string(e.data).escapeHTML(),r;
r=m.ownerDocument;var q=r._wysihtml5_tempElement;q||(q=r._wysihtml5_tempElement=r.createElement("div"));r=q;r.innerHTML="<span></span>"+h(p);for(r.removeChild(r.firstChild);r.firstChild;)m.insertBefore(r.firstChild,e);m.removeChild(e)}else{m=a.lang.array(e.childNodes).get();p=m.length;for(r=0;r<p;r++)b(m[r],l);return e}}var g=a.lang.array("CODE PRE A SCRIPT HEAD TITLE STYLE".split(" ")),f=/((https?:\/\/|www\.)[^\s<]{3,})/gi,e=/([^\w\/\-](,?))$/i,l={")":"(","]":"[","}":"{"};a.dom.autoLink=function(e,
f){var h;a:{h=e;for(var l;h.parentNode;){h=h.parentNode;l=h.nodeName;if(h.className&&a.lang.array(h.className.split(" ")).contains(f)||g.contains(l)){h=!0;break a}if("body"===l)break}h=!1}if(h)return e;e===e.ownerDocument.documentElement&&(e=e.ownerDocument.body);return b(e,f)};a.dom.autoLink.URL_REG_EXP=f})(wysihtml5);
(function(a){var h=a.dom;h.addClass=function(a,g){var f=a.classList;if(f)return f.add(g);h.hasClass(a,g)||(a.className+=" "+g)};h.removeClass=function(a,g){var f=a.classList;if(f)return f.remove(g);a.className=a.className.replace(new RegExp("(^|\\s+)"+g+"(\\s+|$)")," ")};h.hasClass=function(a,g){var f=a.classList;if(f)return f.contains(g);f=a.className;return 0<f.length&&(f==g||(new RegExp("(^|\\s)"+g+"(\\s|$)")).test(f))}})(wysihtml5);
wysihtml5.dom.contains=function(){var a=document.documentElement;if(a.contains)return function(a,b){if(b.nodeType!==wysihtml5.ELEMENT_NODE){if(b.parentNode===a)return!0;b=b.parentNode}return a!==b&&a.contains(b)};if(a.compareDocumentPosition)return function(a,b){return!!(a.compareDocumentPosition(b)&16)}}();
wysihtml5.dom.convertToList=function(){function a(a,b){var g=a.createElement("li");b.appendChild(g);return g}return function(h,b,g){if("UL"===h.nodeName||"OL"===h.nodeName||"MENU"===h.nodeName)return h;var f=h.ownerDocument;b=f.createElement(b);var e=h.querySelectorAll("br"),l=e.length,k,n,m,p,r;for(r=0;r<l;r++)for(n=e[r];(k=n.parentNode)&&k!==h&&k.lastChild===n;){if("block"===wysihtml5.dom.getStyle("display").from(k)){k.removeChild(n);break}wysihtml5.dom.insert(n).after(n.parentNode)}k=wysihtml5.lang.array(h.childNodes).get();
e=k.length;for(r=0;r<e;r++)p=p||a(f,b),l=k[r],n="block"===wysihtml5.dom.getStyle("display").from(l),m="BR"===l.nodeName,!n||g&&wysihtml5.dom.hasClass(l,g)?m?p=p.firstChild?null:p:p.appendChild(l):(p=p.firstChild?a(f,b):p,p.appendChild(l),p=null);0===k.length&&a(f,b);h.parentNode.replaceChild(b,h);return b}}();wysihtml5.dom.copyAttributes=function(a){return{from:function(h){return{to:function(b){for(var g,f=0,e=a.length;f<e;f++)g=a[f],"undefined"!==typeof h[g]&&""!==h[g]&&(b[g]=h[g]);return{andTo:arguments.callee}}}}}};
(function(a){var h=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],b=function(b){var f;a:{f=0;for(var e=h.length;f<e;f++)if("border-box"===a.getStyle(h[f]).from(b)){f=h[f];break a}f=void 0}return f?parseInt(a.getStyle("width").from(b),10)<b.offsetWidth:!1};a.copyStyles=function(g){return{from:function(f){b(f)&&(g=wysihtml5.lang.array(g).without(h));for(var e="",l=g.length,k=0,n;k<l;k++)n=g[k],e+=n+":"+a.getStyle(n).from(f)+";";return{to:function(b){a.setStyles(e).on(b);return{andTo:arguments.callee}}}}}}})(wysihtml5.dom);
(function(a){a.dom.delegate=function(a,b,g,f){var e=function(e){for(var g=e.target,g=3===g.nodeType?g.parentNode:g,n=a.querySelectorAll(b),m=0,p=n.length;m<p;m++)n[m].contains(g)&&f.call(n[m],e)};a.addEventListener(g,e,!1);return{stop:function(){a.removeEventListener(g,e,!1)}}}})(wysihtml5);
(function(a){function h(a,g){for(var f=[a],e=a;g&&e&&e!==g||!g&&e;)f.unshift(e),e=e.parentNode;return f}a.dom.domNode=function(b){var g=[a.ELEMENT_NODE,a.TEXT_NODE];return{is:{emptyTextNode:function(f){f=f?/^\s*$/g:/^[\r\n]*$/g;return b&&b.nodeType===a.TEXT_NODE&&f.test(b.data)},rangyBookmark:function(){return b&&1===b.nodeType&&b.classList.contains("rangySelectionBoundary")},visible:function(){var f=!/^\s*$/g.test(a.dom.getTextContent(b));f||1===b.nodeType&&b.querySelector("img, br, hr, object, embed, canvas, input, textarea")&&
(f=!0);return f},lineBreak:function(){return b&&1===b.nodeType&&"BR"===b.nodeName},block:function(){return b&&1===b.nodeType&&"block"===b.ownerDocument.defaultView.getComputedStyle(b).display},voidElement:function(){return a.dom.domNode(b).test({query:a.VOID_ELEMENTS})}},prev:function(f){var e=b.previousSibling,h=f&&f.nodeTypes?f.nodeTypes:g;return e?a.dom.domNode(e).is.rangyBookmark()||!a.lang.array(h).contains(e.nodeType)||f&&f.ignoreBlankTexts&&a.dom.domNode(e).is.emptyTextNode(!0)?a.dom.domNode(e).prev(f):
e:null},next:function(f){var e=b.nextSibling,h=f&&f.nodeTypes?f.nodeTypes:g;return e?a.dom.domNode(e).is.rangyBookmark()||!a.lang.array(h).contains(e.nodeType)||f&&f.ignoreBlankTexts&&a.dom.domNode(e).is.emptyTextNode(!0)?a.dom.domNode(e).next(f):e:null},commonAncestor:function(a,e){var g=h(b,e),k=h(a,e);if(g[0]!=k[0])return null;for(var n=0;n<g.length;n++)if(g[n]!=k[n])return g[n-1];return null},lastLeafNode:function(f){var e;if(1!==b.nodeType)return b;e=b.lastChild;if(!e)return b;if(f&&f.leafClasses)for(var g=
f.leafClasses.length;g--;)if(a.dom.hasClass(b,f.leafClasses[g]))return b;return a.dom.domNode(e).lastLeafNode(f)},escapeParent:function(f,e){var g,h,n,m=b;if(!a.dom.contains(f,b))throw Error("Child is not a descendant of node.");do{g=m.parentNode;for(h=g.cloneNode(!1);g.lastChild&&g.lastChild!==m;)h.insertBefore(g.lastChild,h.firstChild);g!==f&&(n=g.cloneNode(!1),n.appendChild(m),m=n);g.parentNode.insertBefore(m,g.nextSibling);if(""!==h.innerHTML)if(/^\s+$/.test(h.innerHTML))for(;h.lastChild;)g.parentNode.insertBefore(h.lastChild,
m.nextSibling);else g.parentNode.insertBefore(h,m.nextSibling);if(""===g.innerHTML)g.parentNode.removeChild(g);else if(/^\s+$/.test(g.innerHTML)){for(;g.firstChild;)g.parentNode.insertBefore(g.firstChild,g);g.parentNode.removeChild(g)}}while(g&&g!==f);e&&m&&(m.parentNode.insertBefore(e,m),e.appendChild(m))},transferContentTo:function(f,e){if(1===b.nodeType){if(a.dom.domNode(f).is.voidElement()||3===f.nodeType)for(;b.lastChild;)f.parentNode.insertBefore(b.lastChild,f.nextSibling);else for(;b.firstChild;)f.appendChild(b.firstChild);
e&&b.parentNode.removeChild(b)}else if(3===b.nodeType||8===b.nodeType)a.dom.domNode(f).is.voidElement()?f.parentNode.insertBefore(b,f.nextSibling):f.appendChild(b)},test:function(f){var e;if(!f||1!==b.nodeType||f.query&&!b.matches(f.query)||f.nodeName&&b.nodeName.toLowerCase()!==f.nodeName.toLowerCase()||f.className&&!b.classList.contains(f.className)||f.classRegExp&&0===((b.className||"").match(f.classRegExp)||[]).length)return!1;if(f.styleProperty&&0<f.styleProperty.length){e=Array.isArray(f.styleProperty)?
f.styleProperty:[f.styleProperty];for(var g=e.length;0<g;){e=a.browser.fixStyleKey(e[0]);if(b.style[e])if(f.styleValue)if(f.styleValue instanceof RegExp){if(0<b.style[e].trim().match(f.styleValue).length)break}else if(Array.isArray(f.styleValue)){if(f.styleValue.indexOf(b.style[e].trim()))break}else{if(f.styleValue===b.style[e].trim().replace(/, /g,","))break}else break;return!1}}if(f.attribute){e=a.dom.getAttributes(b);var g=[],h=!1;Array.isArray(f.attribute)?g=f.attribute:g[f.attribute]=f.attributeValue;
for(var n in g)if(g.hasOwnProperty(n))if("undefined"===typeof g[n]){if("undefined"!==typeof e[n]){h=!0;break}}else if(e[n]===g[n]){h=!0;break}if(!h)return!1}return!0}}}})(wysihtml5);
wysihtml5.dom.getAsDom=function(){var a="abbr article aside audio bdi canvas command datalist details figcaption figure footer header hgroup keygen mark meter nav output progress rp rt ruby svg section source summary time track video wbr".split(" ");return function(h,b){b=b||document;var g;if("object"===typeof h&&h.nodeType)g=b.createElement("div"),g.appendChild(h);else if(wysihtml5.browser.supportsHTML5Tags(b))g=b.createElement("div"),g.innerHTML=h;else{g=b;if(!g._wysihtml5_supportsHTML5Tags){for(var f=
0,e=a.length;f<e;f++)g.createElement(a[f]);g._wysihtml5_supportsHTML5Tags=!0}g=b;f=g.createElement("div");f.style.display="none";g.body.appendChild(f);try{f.innerHTML=h}catch(l){}g.body.removeChild(f);g=f}return g}}();wysihtml5.dom.getParentElement=function(){return function(a,h,b,g){for(b=b||50;b--&&a&&"BODY"!==a.nodeName&&(!g||a!==g);){if(wysihtml5.dom.domNode(a).test(h))return a;a=a.parentNode}return null}}();
wysihtml5.dom.getStyle=function(){function a(a){return a.replace(b,function(a){return a.charAt(1).toUpperCase()})}var h={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},b=/\-[a-z]/g;return function(b){return{from:function(f){if(f.nodeType===wysihtml5.ELEMENT_NODE){var e=f.ownerDocument,l=h[b]||a(b),k=f.style,n=f.currentStyle,m=k[l];if(m)return m;if(n)try{return n[l]}catch(p){}var l=e.defaultView||e.parentWindow,e=("height"===b||"width"===b)&&"TEXTAREA"===f.nodeName,
r;if(l.getComputedStyle)return e&&(r=k.overflow,k.overflow="hidden"),f=l.getComputedStyle(f,null).getPropertyValue(b),e&&(k.overflow=r||""),f}}}}}();wysihtml5.dom.getTextNodes=function(a,h){var b=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?h&&/^\s*$/.test(a.innerText||a.textContent)||b.push(a):b=b.concat(wysihtml5.dom.getTextNodes(a,h));return b};
wysihtml5.dom.hasElementWithTagName=function(){var a={},h=1;return function(b,g){var f=(b._wysihtml5_identifier||(b._wysihtml5_identifier=h++))+":"+g,e=a[f];e||(e=a[f]=b.getElementsByTagName(g));return 0<e.length}}();(function(a){var h={},b=1;a.dom.hasElementWithClassName=function(g,f){if(!a.browser.supportsNativeGetElementsByClassName())return!!g.querySelector("."+f);var e=(g._wysihtml5_identifier||(g._wysihtml5_identifier=b++))+":"+f,l=h[e];l||(l=h[e]=g.getElementsByClassName(f));return 0<l.length}})(wysihtml5);
wysihtml5.dom.insert=function(a){return{after:function(h){h.parentNode.insertBefore(a,h.nextSibling)},before:function(h){h.parentNode.insertBefore(a,h)},into:function(h){h.appendChild(a)}}};wysihtml5.dom.insertCSS=function(a){a=a.join("\n");return{into:function(h){var b=h.createElement("style");b.type="text/css";b.styleSheet?b.styleSheet.cssText=a:b.appendChild(h.createTextNode(a));var g=h.querySelector("head link");g?g.parentNode.insertBefore(b,g):(h=h.querySelector("head"))&&h.appendChild(b)}}};
(function(a){a.dom.lineBreaks=function(h){function b(b){return"BR"===b.nodeName||"block"===a.dom.getStyle("display").from(b)?!0:!1}return{add:function(g){g=h.ownerDocument;var f=a.dom.domNode(h).next({ignoreBlankTexts:!0}),e=a.dom.domNode(h).prev({ignoreBlankTexts:!0});f&&!b(f)&&a.dom.insert(g.createElement("br")).after(h);e&&!b(e)&&a.dom.insert(g.createElement("br")).before(h)},remove:function(b){b=a.dom.domNode(h).next({ignoreBlankTexts:!0});var f=a.dom.domNode(h).prev({ignoreBlankTexts:!0});b&&
"BR"===b.nodeName&&b.parentNode.removeChild(b);f&&"BR"===f.nodeName&&f.parentNode.removeChild(f)}}}})(wysihtml5);
wysihtml5.dom.observe=function(a,h,b){h="string"===typeof h?[h]:h;for(var g,f,e=0,l=h.length;e<l;e++)f=h[e],a.addEventListener?a.addEventListener(f,b,!1):(g=function(e){"target"in e||(e.target=e.srcElement);e.preventDefault=e.preventDefault||function(){this.returnValue=!1};e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0};b.call(a,e)},a.attachEvent("on"+f,g));return{stop:function(){for(var e,f=0,l=h.length;f<l;f++)e=h[f],a.removeEventListener?a.removeEventListener(e,b,!1):a.detachEvent("on"+
e,g)}}};
wysihtml5.dom.parse=function(a,h){function b(a,e,f,g){var h=a.nodeType,m=a.childNodes,n=m.length,q=l[h],p=0,u;if(g&&1===h&&wysihtml5.dom.hasClass(a,g))return a;q=q&&q(a,f);if(!q){if(!1===q){h=a.ownerDocument.createDocumentFragment();for(p=n;p--;)m[p]&&(u=b(m[p],e,f,g))&&(m[p]===u&&p--,h.insertBefore(u,h.firstChild));e=wysihtml5.dom.getStyle("display").from(a);""===e&&(e=wysihtml5.lang.array(r).contains(a.tagName)?"block":"");wysihtml5.lang.array(["block","flex","table"]).contains(e)&&h.appendChild(a.ownerDocument.createElement("br"));wysihtml5.lang.array("div pre p table td th ul ol li dd dl footer header section h1 h2 h3 h4 h5 h6".split(" ")).contains(a.nodeName.toLowerCase())&&
a.parentNode.lastChild!==a&&(a.nextSibling&&3===a.nextSibling.nodeType&&/^\s/.test(a.nextSibling.nodeValue)||h.appendChild(a.ownerDocument.createTextNode(" ")));h.normalize&&h.normalize();return h}return null}for(p=0;p<n;p++)m[p]&&(u=b(m[p],e,f,g))&&(m[p]===u&&p--,q.appendChild(u));if(e&&q.nodeName.toLowerCase()===k&&(!q.childNodes.length||/^\s*$/gi.test(q.innerHTML)&&(f||"_wysihtml5-temp-placeholder"!==a.className&&"rangySelectionBoundary"!==a.className)||!q.attributes.length)){for(h=q.ownerDocument.createDocumentFragment();q.firstChild;)h.appendChild(q.firstChild);
h.normalize&&h.normalize();return h}q.normalize&&q.normalize();return q}function g(a,b){var e=a.getAttribute("class"),f=a.getAttribute("style"),g,h,k;if(b.methods)for(g in b.methods)if(b.methods.hasOwnProperty(g)&&y[g]&&y[g](a))return!0;if(e&&b.classes){e=e.replace(/^\s+/g,"").replace(/\s+$/g,"").split(n);g=e.length;for(var l=0;l<g;l++)if(b.classes[e[l]])return!0}if(f&&b.styles)for(h in f=f.split(";"),b.styles)if(b.styles.hasOwnProperty(h))for(g=f.length;g--;)if(e=f[g].split(":"),e[0].replace(/\s/g,
"").toLowerCase()===h&&(!0===b.styles[h]||1===b.styles[h]||wysihtml5.lang.array(b.styles[h]).contains(e[1].replace(/\s/g,"").toLowerCase())))return!0;if(b.attrs)for(k in b.attrs)if(b.attrs.hasOwnProperty(k)&&(f=wysihtml5.dom.getAttribute(a,k),"string"===typeof f&&-1<f.search(b.attrs[k])))return!0;return!1}function f(a,b,e,f){if(a=wysihtml5.lang.object(e).isFunction()?e:q[e])if(b=a(b,f),"string"===typeof b)return b;return!1}function e(a,b){var e=wysihtml5.lang.object(p.attributes||{}).clone(),e=wysihtml5.lang.object(e).merge(wysihtml5.lang.object(b||
{}).clone()).get(),g={},h=wysihtml5.dom.getAttributes(a),k,l,m;for(k in e)if(/\*$/.test(k)){l=k.slice(0,-1);m=h;var n=[],q=void 0;for(q in m)m.hasOwnProperty(q)&&0===q.indexOf(l)&&n.push(q);m=n;n=0;for(q=m.length;n<q;n++)l=f(m[n],h[m[n]],e[k],a.nodeName),!1!==l&&(g[m[n]]=l)}else l=f(k,h[k],e[k],a.nodeName),!1!==l&&(g[k]=l);return g}var l={1:function(a,b){var f,h;f=p.tags;h=a.nodeName.toLowerCase();var l=a.scopeName,m;if(a._wysihtml5)return null;a._wysihtml5=1;if("wysihtml5-temp"===a.className)return null;
l&&"HTML"!=l&&(h=l+":"+h);"outerHTML"in a&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==a.nodeName||"</p>"===a.outerHTML.slice(-4).toLowerCase()||(h="div"));if(h in f){f=f[h];if(!f||f.remove)return null;if(f.unwrap)return!1;f="string"===typeof f?{rename_tag:f}:f}else if(a.firstChild)f={rename_tag:k};else return null;if(l=f.one_of_type){var q;a:{var l=p,r=f.one_of_type,x;if("SPAN"!==a.nodeName||b||"_wysihtml5-temp-placeholder"!==a.className&&"rangySelectionBoundary"!==a.className){for(q in r)if(r.hasOwnProperty(q)&&
l.type_definitions&&l.type_definitions[q]&&(x=l.type_definitions[q],g(a,x))){q=!0;break a}q=!1}else q=!0}l=!q}if(l)if(f.remove_action){if("unwrap"===f.remove_action)return!1;if("rename"===f.remove_action)m=f.remove_action_rename_to||k;else return null}else return null;h=a.ownerDocument.createElement(m||f.rename_tag||h);var y=f;m={};var J=y.set_class,M=y.add_class,L=y.add_style,R=y.set_attributes;q=p.classes;l=0;r=[];x=[];var Q=[],X=[],T;R&&(m=wysihtml5.lang.object(R).clone());m=wysihtml5.lang.object(m).merge(e(a,
y.check_attributes)).get();J&&r.push(J);if(M)for(T in M)if(y=w[M[T]])y=y(wysihtml5.dom.getAttribute(a,T)),"string"===typeof y&&r.push(y);if(L)for(T in L)if(y=u[L[T]])newStyle=y(wysihtml5.dom.getAttribute(a,T)),"string"===typeof newStyle&&x.push(newStyle);if("string"===typeof q&&"any"===q)if(a.getAttribute("class"))if(p.classes_blacklist){(X=a.getAttribute("class"))&&(r=r.concat(X.split(n)));for(M=r.length;l<M;l++)L=r[l],p.classes_blacklist[L]||Q.push(L);Q.length&&(m["class"]=wysihtml5.lang.array(Q).unique().join(" "))}else m["class"]=
a.getAttribute("class");else r&&0<r.length&&(m["class"]=wysihtml5.lang.array(r).unique().join(" "));else{b||(q["_wysihtml5-temp-placeholder"]=1,q._rangySelectionBoundary=1,q["wysiwyg-tmp-selected-cell"]=1);(X=a.getAttribute("class"))&&(r=r.concat(X.split(n)));for(M=r.length;l<M;l++)L=r[l],q[L]&&Q.push(L);Q.length&&(m["class"]=wysihtml5.lang.array(Q).unique().join(" "))}m["class"]&&b&&(m["class"]=m["class"].replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(m["class"])&&delete m["class"]);x.length&&
(m.style=wysihtml5.lang.array(x).unique().join(" "));for(T in m)try{h.setAttribute(T,m[T])}catch(ea){}m.src&&("undefined"!==typeof m.width&&h.setAttribute("width",m.width),"undefined"!==typeof m.height&&h.setAttribute("height",m.height));T=f;var N;if(T&&T.keep_styles)for(N in T.keep_styles)T.keep_styles.hasOwnProperty(N)&&(f="float"===N?a.style.styleFloat||a.style.cssFloat:a.style[N],T.keep_styles[N]instanceof RegExp&&!T.keep_styles[N].test(f)||("float"===N?h.style[a.style.styleFloat?"styleFloat":
"cssFloat"]=f:a.style[N]&&(h.style[N]=f)));h.normalize&&h.normalize();return h},3:function(a){var b=a.nextSibling;if(b&&b.nodeType===wysihtml5.TEXT_NODE)b.data=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")+b.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"");else return b=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,""),a.ownerDocument.createTextNode(b)},8:function(a){if(p.comments)return a.ownerDocument.createComment(a.nodeValue)}},k="span",n=/\s+/,m={tags:{},classes:{}},p={},r="ADDRESS BLOCKQUOTE CENTER DIR DIV DL FIELDSET FORM H1 H2 H3 H4 H5 H6 ISINDEX MENU NOFRAMES NOSCRIPT OL P PRE TABLE UL".split(" "),
q={url:function(){var a=/^https?:\/\//i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),src:function(){var a=/^(\/|https?:\/\/)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),href:function(){var a=/^(#|\/|https?:\/\/|mailto:|tel:)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),alt:function(){var a=/[^ a-z0-9_\-]/gi;return function(b,e){return b?
b.replace(a,""):"IMG"===e?"":null}}(),numbers:function(){var a=/\D/g;return function(b){return(b=(b||"").replace(a,""))||null}}(),dimension:function(){var a=/\D*(\d+)(\.\d+)?\s?(%)?\D*/;return function(b){return(b=(b||"").replace(a,"$1$2$3"))||null}}(),any:function(){return function(a){return a?a:null}}()},u={align_text:function(){var a={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"};return function(b){return a[String(b).toLowerCase()]}}()},w={align_img:function(){var a=
{left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(b){return a[String(b).toLowerCase()]}}(),align_text:function(){var a={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(b){return a[String(b).toLowerCase()]}}(),clear_br:function(){var a={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(b){return a[String(b).toLowerCase()]}}(),
size_font:function(){var a={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(b){return a[String(b).charAt(0)]}}()},y={has_visible_contet:function(){var a,b="img video picture br script noscript style table iframe object embed audio svg input button select textarea canvas".split(" ");
return function(e){if((a=(e.innerText||e.textContent).replace(/\s/g,""))&&0<a.length)return!0;for(var f=b.length;f--;)if(e.querySelector(b[f]))return!0;return e.offsetWidth&&0<e.offsetWidth&&e.offsetHeight&&0<e.offsetHeight?!0:!1}}()},x={unwrap:function(a){wysihtml5.dom.unwrap(a)},remove:function(a){a.parentNode.removeChild(a)}};return function(a,e){wysihtml5.lang.object(p).merge(m).merge(e.rules).get();var f=e.context||a.ownerDocument||document,g=f.createDocumentFragment(),h="string"===typeof a,
k=!1,l,n;!0===e.clearInternals&&(k=!0);f=h?wysihtml5.dom.getAsDom(a,f):a;if(p.selectors){var q=p.selectors,r;for(l in q)if(q.hasOwnProperty(l)){wysihtml5.lang.object(q[l]).isFunction()?n=q[l]:"string"===typeof q[l]&&x[q[l]]&&(n=x[q[l]]);r=f.querySelectorAll(l);for(var u=r.length;u--;)n(r[u])}}for(;f.firstChild;)n=f.firstChild,(l=b(n,e.cleanUp,k,e.uneditableClass))&&g.appendChild(l),n!==l&&f.removeChild(n);if(e.unjoinNbsps)for(k=wysihtml5.dom.getTextNodes(g),l=k.length;l--;)k[l].nodeValue=k[l].nodeValue.replace(/([\S\u00A0])\u00A0/gi,
"$1 ");f.innerHTML="";f.appendChild(g);return h?wysihtml5.quirks.getCorrectInnerHTML(f):f}(a,h)};wysihtml5.dom.removeEmptyTextNodes=function(a){for(var h=wysihtml5.lang.array(a.childNodes).get(),b=h.length,g=0;g<b;g++)a=h[g],a.nodeType===wysihtml5.TEXT_NODE&&/^[\n\r]*$/.test(a.data)&&a.parentNode.removeChild(a)};
wysihtml5.dom.renameElement=function(a,h){for(var b=a.ownerDocument.createElement(h),g;g=a.firstChild;)b.appendChild(g);wysihtml5.dom.copyAttributes(["align","className"]).from(a).to(b);a.parentNode&&a.parentNode.replaceChild(b,a);return b};wysihtml5.dom.replaceWithChildNodes=function(a){if(a.parentNode){for(;a.firstChild;)a.parentNode.insertBefore(a.firstChild,a);a.parentNode.removeChild(a)}};
(function(a){function h(b){return"block"===a.getStyle("display").from(b)}function b(a){var b=a.ownerDocument.createElement("br");a.appendChild(b)}a.resolveList=function(a,f){if(a.nodeName.match(/^(MENU|UL|OL)$/)){var e=a.ownerDocument,l=e.createDocumentFragment(),k=wysihtml5.dom.domNode(a).prev({ignoreBlankTexts:!0}),n=wysihtml5.dom.domNode(a).next({ignoreBlankTexts:!0}),m,p,r=a.lastElementChild||a.lastChild,q;if(f)for(k&&!h(k)&&"BR"!==k.nodeName&&b(l);p=a.firstElementChild||a.firstChild;){e=p.lastChild;
for(q=p===r;k=p.firstChild;)m=k===e,m=(!q||n&&!h(n))&&m&&!h(k)&&"BR"!==k.nodeName,l.appendChild(k),m&&b(l);p.parentNode.removeChild(p)}else for(;p=a.firstElementChild||a.firstChild;){if(p.querySelector&&p.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;k=p.firstChild;)l.appendChild(k);else{for(n=e.createElement("p");k=p.firstChild;)n.appendChild(k);l.appendChild(n)}p.parentNode.removeChild(p)}a.parentNode.replaceChild(l,a)}}})(wysihtml5.dom);
(function(a){var h=document,b="parent top opener frameElement frames localStorage globalStorage sessionStorage indexedDB".split(" "),g="open close openDialog showModalDialog alert confirm prompt openDatabase postMessage XMLHttpRequest XDomainRequest".split(" "),f=["referrer","write","open","close"];a.dom.Sandbox=Base.extend({constructor:function(b,f){this.callback=b||a.EMPTY_FUNCTION;this.config=a.lang.object({}).merge(f).get();this.config.className||(this.config.className="wysihtml5-sandbox");this.editableArea=
this._createIframe()},insertInto:function(a){"string"===typeof a&&(a=h.getElementById(a));a.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var a=this.getIframe();a.parentNode.removeChild(a)},_readyError:function(){throw Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet");},_createIframe:function(){var b=this,f=h.createElement("iframe");f.className=this.config.className;
a.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(f);a.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(f.src="javascript:'<html></html>'");f.onload=function(){f.onreadystatechange=f.onload=null;b._onLoadIframe(f)};f.onreadystatechange=function(){/loaded|complete/.test(f.readyState)&&(f.onreadystatechange=f.onload=null,b._onLoadIframe(f))};return f},_onLoadIframe:function(e){if(a.dom.contains(h.documentElement,
e)){var l=this,k=e.contentWindow,n=e.contentWindow.document,m=this._getHtml({charset:h.characterSet||h.charset||"utf-8",stylesheets:this.config.stylesheets});n.open("text/html","replace");n.write(m);n.close();this.getWindow=function(){return e.contentWindow};this.getDocument=function(){return e.contentWindow.document};k.onerror=function(a,b,e){throw Error("wysihtml5.Sandbox: "+a,b,e);};if(!a.browser.supportsSandboxedIframes()){var p,m=0;for(p=b.length;m<p;m++)this._unset(k,b[m]);m=0;for(p=g.length;m<
p;m++)this._unset(k,g[m],a.EMPTY_FUNCTION);m=0;for(p=f.length;m<p;m++)this._unset(n,f[m]);this._unset(n,"cookie","",!0)}a.polyfills&&a.polyfills(k,n);this.loaded=!0;setTimeout(function(){l.callback(l)},0)}},_getHtml:function(b){var f=b.stylesheets,g="",h=0,m;if(f="string"===typeof f?[f]:f)for(m=f.length;h<m;h++)g+='<link rel="stylesheet" href="'+f[h]+'">';b.stylesheets=g;return a.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(b)},
_unset:function(b,f,g,h){try{b[f]=g}catch(m){}try{b.__defineGetter__(f,function(){return g})}catch(p){}if(h)try{b.__defineSetter__(f,function(){})}catch(r){}if(!a.browser.crashesWhenDefineProperty(f))try{var q={get:function(){return g}};h&&(q.set=function(){});Object.defineProperty(b,f,q)}catch(u){}}})})(wysihtml5);
(function(a){var h=document;a.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView||this.element.ownerDocument.parentWindow},getDocument:function(){return this.element.ownerDocument},constructor:function(b,g,f){this.callback=b||a.EMPTY_FUNCTION;this.config=a.lang.object({}).merge(g).get();this.config.className||(this.config.className="wysihtml5-sandbox");this.element=f?this._bindElement(f):this._createElement()},
destroy:function(){},_createElement:function(){var a=h.createElement("div");a.className=this.config.className;this._loadElement(a);return a},_bindElement:function(a){a.className=a.className?a.className+" wysihtml5-sandbox":"wysihtml5-sandbox";this._loadElement(a,!0);return a},_loadElement:function(a,g){var f=this;if(!g){var e=this._getHtml();a.innerHTML=e}this.loaded=!0;setTimeout(function(){f.callback(f)},0)},_getHtml:function(a){return""}})})(wysihtml5);
(function(){var a={className:"class"};wysihtml5.dom.setAttributes=function(h){return{on:function(b){for(var g in h)b.setAttribute(a[g]||g,h[g])}}}})();wysihtml5.dom.setStyles=function(a){return{on:function(h){h=h.style;if("string"===typeof a)h.cssText+=";"+a;else for(var b in a)"float"===b?(h.cssFloat=a[b],h.styleFloat=a[b]):h[b]=a[b]}}};
(function(a){a.simulatePlaceholder=function(h,b,g,f){var e=f||"wysihtml5-placeholder";f=function(){var f=0<b.element.offsetWidth&&0<b.element.offsetHeight;b.hasPlaceholderSet()&&(b.clear(),b.element.focus(),f&&setTimeout(function(){var a=b.selection.getSelection();a.focusNode&&a.anchorNode||b.selection.selectNode(b.element.firstChild||b.element)},0));b.placeholderSet=!1;a.removeClass(b.element,e)};var l=function(){b.isEmpty()&&!b.placeholderSet&&(b.placeholderSet=!0,b.setValue(g,!1),a.addClass(b.element,
e))};h.on("set_placeholder",l).on("unset_placeholder",f).on("focus:composer",f).on("paste:composer",f).on("blur:composer",l);l()}})(wysihtml5.dom);(function(a){var h=document.documentElement;"textContent"in h?(a.setTextContent=function(a,g){a.textContent=g},a.getTextContent=function(a){return a.textContent}):"innerText"in h?(a.setTextContent=function(a,g){a.innerText=g},a.getTextContent=function(a){return a.innerText}):(a.setTextContent=function(a,g){a.nodeValue=g},a.getTextContent=function(a){return a.nodeValue})})(wysihtml5.dom);
wysihtml5.dom.getAttribute=function(a,h){var b=!wysihtml5.browser.supportsGetAttributeCorrectly();h=h.toLowerCase();return"IMG"==a.nodeName&&"src"==h&&!0===wysihtml5.dom.isLoadedImage(a)?a.src:b&&"outerHTML"in a?-1!=a.outerHTML.toLowerCase().indexOf(" "+h+"=")?a.getAttribute(h):null:a.getAttribute(h)};
wysihtml5.dom.getAttributes=function(a){var h=!wysihtml5.browser.supportsGetAttributeCorrectly(),b=a.nodeName,g=[],f;for(f in a.attributes)(a.attributes.hasOwnProperty&&a.attributes.hasOwnProperty(f)||!a.attributes.hasOwnProperty&&Object.prototype.hasOwnProperty.call(a.attributes,f))&&a.attributes[f].specified&&("IMG"==b&&"src"==a.attributes[f].name.toLowerCase()&&!0===wysihtml5.dom.isLoadedImage(a)?g.src=a.src:wysihtml5.lang.array(["rowspan","colspan"]).contains(a.attributes[f].name.toLowerCase())&&
h?1!==a.attributes[f].value&&(g[a.attributes[f].name]=a.attributes[f].value):g[a.attributes[f].name]=a.attributes[f].value);return g};wysihtml5.dom.isLoadedImage=function(a){try{return a.complete&&!a.mozMatchesSelector(":-moz-broken")}catch(h){if(a.complete&&"complete"===a.readyState)return!0}};
(function(a){function h(a,b){for(var e=[],f,g=0,h=a.length;g<h;g++)if(f=a[g].querySelectorAll(b))for(var l=f.length;l--;e.unshift(f[l]));return e}function b(a){a.parentNode.removeChild(a)}function g(a,b){a.parentNode.insertBefore(b,a.nextSibling)}var f=a.dom,e=function(a){this.el=a;this.isRowspan=this.isColspan=!1;this.isReal=this.lastRow=this.firstRow=this.lastCol=this.firstCol=!0;this.spanCollection=[];this.modified=!1},l=function(a,b){a?(this.cell=a,this.table=f.getParentElement(a,{query:"table"})):
b&&(this.table=b,this.cell=this.table.querySelectorAll("th, td")[0])};l.prototype={addSpannedCellToMap:function(a,b,f,g,h,l){for(var u=[],w=f+(l?parseInt(l,10)-1:0),y=g+(h?parseInt(h,10)-1:0),x=f;x<=w;x++){"undefined"==typeof b[x]&&(b[x]=[]);for(var z=g;z<=y;z++)b[x][z]=new e(a),b[x][z].isColspan=h&&1<parseInt(h,10),b[x][z].isRowspan=l&&1<parseInt(l,10),b[x][z].firstCol=z==g,b[x][z].lastCol=z==y,b[x][z].firstRow=x==f,b[x][z].lastRow=x==w,b[x][z].isReal=z==g&&x==f,b[x][z].spanCollection=u,u.push(b[x][z])}},
setCellAsModified:function(a){a.modified=!0;if(0<a.spanCollection.length)for(var b=0,e=a.spanCollection.length;b<e;b++)a.spanCollection[b].modified=!0},setTableMap:function(){var a=[],b=this.getTableRows(),g,h,l,q,u,w,y;for(g=0;g<b.length;g++)for(h=b[g],h=this.getRowCells(h),u=0,"undefined"==typeof a[g]&&(a[g]=[]),l=0;l<h.length;l++){for(q=h[l];"undefined"!=typeof a[g][u];)u++;w=f.getAttribute(q,"colspan");y=f.getAttribute(q,"rowspan");w||y?(this.addSpannedCellToMap(q,a,g,u,w,y),u+=w?parseInt(w,10):
1):(a[g][u]=new e(q),u++)}return this.map=a},getRowCells:function(b){var e=this.table.querySelectorAll("table"),e=e?h(e,"th, td"):[];b=b.querySelectorAll("th, td");return 0<e.length?a.lang.array(b).without(e):b},getTableRows:function(){var b=this.table.querySelectorAll("table"),b=b?h(b,"tr"):[],e=this.table.querySelectorAll("tr");return 0<b.length?a.lang.array(e).without(b):e},getMapIndex:function(a){for(var b=this.map.length,e=this.map&&this.map[0]?this.map[0].length:0,f=0;f<b;f++)for(var g=0;g<
e;g++)if(this.map[f][g].el===a)return{row:f,col:g};return!1},getElementAtIndex:function(a){this.setTableMap();return this.map[a.row]&&this.map[a.row][a.col]&&this.map[a.row][a.col].el?this.map[a.row][a.col].el:null},getMapElsTo:function(a){var b=[];this.setTableMap();this.idx_start=this.getMapIndex(this.cell);this.idx_end=this.getMapIndex(a);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col)a=this.idx_start,this.idx_start=this.idx_end,
this.idx_end=a;this.idx_start.col>this.idx_end.col&&(a=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=a);if(null!=this.idx_start&&null!=this.idx_end){a=this.idx_start.row;for(var e=this.idx_end.row;a<=e;a++)for(var f=this.idx_start.col,g=this.idx_end.col;f<=g;f++)b.push(this.map[a][f].el)}return b},orderSelectionEnds:function(a){this.setTableMap();this.idx_start=this.getMapIndex(this.cell);this.idx_end=this.getMapIndex(a);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==
this.idx_end.row&&this.idx_start.col>this.idx_end.col)a=this.idx_start,this.idx_start=this.idx_end,this.idx_end=a;this.idx_start.col>this.idx_end.col&&(a=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=a);return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(a,b,e){for(var f=this.table.ownerDocument,g=f.createDocumentFragment(),h,l=0;l<b;l++){h=f.createElement(a);if(e)for(var w in e)e.hasOwnProperty(w)&&
h.setAttribute(w,e[w]);h.appendChild(document.createTextNode("\u00a0"));g.appendChild(h)}return g},correctColIndexForUnreals:function(a,b){for(var e=this.map[b],f=-1,g=0;g<a;g++)e[g].isReal&&f++;return f},getLastNewCellOnRow:function(a,b){for(var e=this.getRowCells(a),f,g,h=0,l=e.length;h<l;h++)if(f=e[h],g=this.getMapIndex(f),!1===g||"undefined"!=typeof b&&g.row!=b)return f;return null},removeEmptyTable:function(){var a=this.table.querySelectorAll("td, th");if(a&&0!=a.length)return!1;b(this.table);
return!0},splitRowToCells:function(a){if(a.isColspan){var b=parseInt(f.getAttribute(a.el,"colspan")||1,10),e=a.el.tagName.toLowerCase();1<b&&(b=this.createCells(e,b-1),g(a.el,b));a.el.removeAttribute("colspan")}},getRealRowEl:function(a,b){var e=null,g=null;b=b||this.idx;for(var h=0,l=this.map[b.row].length;h<l;h++)if(g=this.map[b.row][h],g.isReal&&(e=f.getParentElement(g.el,{query:"tr"})))return e;null===e&&a&&(e=f.getParentElement(this.map[b.row][b.col].el,{query:"tr"})||null);return e},injectRowAt:function(a,
b,e,h,l){var q=this.getRealRowEl(!1,{row:a,col:b});e=this.createCells(h,e);q?(l=this.correctColIndexForUnreals(b,a),0<=l?g(this.getRowCells(q)[l],e):q.insertBefore(e,q.firstChild)):(q=this.table.ownerDocument.createElement("tr"),q.appendChild(e),g(f.getParentElement(l.el,{query:"tr"}),q))},canMerge:function(a){this.to=a;this.setTableMap();this.idx_start=this.getMapIndex(this.cell);this.idx_end=this.getMapIndex(this.to);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&
this.idx_start.col>this.idx_end.col)a=this.idx_start,this.idx_start=this.idx_end,this.idx_end=a;this.idx_start.col>this.idx_end.col&&(a=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=a);a=this.idx_start.row;for(var b=this.idx_end.row;a<=b;a++)for(var e=this.idx_start.col,f=this.idx_end.col;e<=f;e++)if(this.map[a][e].isColspan||this.map[a][e].isRowspan)return!1;return!0},decreaseCellSpan:function(a,b){var e=parseInt(f.getAttribute(a.el,b),10)-1;1<=e?a.el.setAttribute(b,e):
(a.el.removeAttribute(b),"colspan"==b&&(a.isColspan=!1),"rowspan"==b&&(a.isRowspan=!1),a.firstCol=!0,a.lastCol=!0,a.firstRow=!0,a.lastRow=!0,a.isReal=!0)},removeSurplusLines:function(){var a,e,g,h,l,q,u;this.setTableMap();if(this.map){g=0;for(h=this.map.length;g<h;g++){a=this.map[g];u=!0;l=0;for(q=a.length;l<q;l++)if(e=a[l],!(f.getAttribute(e.el,"rowspan")&&1<parseInt(f.getAttribute(e.el,"rowspan"),10)&&!0!==e.firstRow)){u=!1;break}if(u)for(l=0;l<q;l++)this.decreaseCellSpan(a[l],"rowspan")}e=this.getTableRows();
g=0;for(h=e.length;g<h;g++)a=e[g],0==a.childNodes.length&&/^\s*$/.test(a.textContent||a.innerText)&&b(a)}},fillMissingCells:function(){var a=0,b=0,f=null;this.setTableMap();if(this.map){a=this.map.length;for(f=0;f<a;f++)this.map[f].length>b&&(b=this.map[f].length);for(var h=0;h<a;h++)for(var l=0;l<b;l++)this.map[h]&&!this.map[h][l]&&0<l&&(this.map[h][l]=new e(this.createCells("td",1)),(f=this.map[h][l-1])&&f.el&&f.el.parent&&g(this.map[h][l-1].el,this.map[h][l].el))}},rectify:function(){if(this.removeEmptyTable())return!1;
this.removeSurplusLines();this.fillMissingCells();return!0},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell))){var a=this.map[this.idx.row][this.idx.col],b=f.getAttribute(a.el,"colspan")?parseInt(f.getAttribute(a.el,"colspan"),10):1,e=a.el.tagName.toLowerCase();if(a.isRowspan){var g=parseInt(f.getAttribute(a.el,"rowspan"),10);if(1<g)for(var h=1,g=g-1;h<=g;h++)this.injectRowAt(this.idx.row+h,this.idx.col,b,e,a);a.el.removeAttribute("rowspan")}this.splitRowToCells(a)}},
merge:function(a){if(this.rectify())if(this.canMerge(a)){a=this.idx_end.row-this.idx_start.row+1;for(var e=this.idx_end.col-this.idx_start.col+1,f=this.idx_start.row,g=this.idx_end.row;f<=g;f++)for(var h=this.idx_start.col,l=this.idx_end.col;h<=l;h++)f==this.idx_start.row&&h==this.idx_start.col?(1<a&&this.map[f][h].el.setAttribute("rowspan",a),1<e&&this.map[f][h].el.setAttribute("colspan",e)):(/^\s*<br\/?>\s*$/.test(this.map[f][h].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=
" "+this.map[f][h].el.innerHTML),b(this.map[f][h].el));this.rectify()}else window.console&&console.log("Do not know how to merge allready merged cells.")},collapseCellToNextRow:function(a){var b=this.getMapIndex(a.el),e=b.row+1,h={row:e,col:b.col};e<this.map.length&&(b=this.getRealRowEl(!1,h),null!==b&&(h=this.correctColIndexForUnreals(h.col,h.row),0<=h?g(this.getRowCells(b)[h],a.el):(e=this.getLastNewCellOnRow(b,e),null!==e?g(e,a.el):b.insertBefore(a.el,b.firstChild)),2<parseInt(f.getAttribute(a.el,
"rowspan"),10)?a.el.setAttribute("rowspan",parseInt(f.getAttribute(a.el,"rowspan"),10)-1):a.el.removeAttribute("rowspan")))},removeRowCell:function(a){a.isReal?a.isRowspan?this.collapseCellToNextRow(a):b(a.el):2<parseInt(f.getAttribute(a.el,"rowspan"),10)?a.el.setAttribute("rowspan",parseInt(f.getAttribute(a.el,"rowspan"),10)-1):a.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var a=[];this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var b=this.map[this.idx.row],
e=0,f=b.length;e<f;e++)b[e].isReal&&a.push(b[e].el);return a},getColumnElementsByCell:function(){var a=[];this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var b=0,e=this.map.length;b<e;b++)this.map[b][this.idx.col]&&this.map[b][this.idx.col].isReal&&a.push(this.map[b][this.idx.col].el);return a},removeRow:function(){var a=f.getParentElement(this.cell,{query:"tr"});if(a){this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var e=this.map[this.idx.row],
g=0,h=e.length;g<h;g++)e[g].modified||(this.setCellAsModified(e[g]),this.removeRowCell(e[g]));b(a)}},removeColCell:function(a){a.isColspan?2<parseInt(f.getAttribute(a.el,"colspan"),10)?a.el.setAttribute("colspan",parseInt(f.getAttribute(a.el,"colspan"),10)-1):a.el.removeAttribute("colspan"):a.isReal&&b(a.el)},removeColumn:function(){this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var a=0,b=this.map.length;a<b;a++)this.map[a][this.idx.col].modified||(this.setCellAsModified(this.map[a][this.idx.col]),
this.removeColCell(this.map[a][this.idx.col]))},remove:function(a){if(this.rectify()){switch(a){case "row":this.removeRow();break;case "column":this.removeColumn()}this.rectify()}},addRow:function(a){var b=this.table.ownerDocument;this.setTableMap();this.idx=this.getMapIndex(this.cell);"below"==a&&f.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(f.getAttribute(this.cell,"rowspan"),10)-1);if(!1!==this.idx){for(var e=this.map[this.idx.row],b=b.createElement("tr"),h=0,l=e.length;h<
l;h++)e[h].modified||(this.setCellAsModified(e[h]),this.addRowCell(e[h],b,a));switch(a){case "below":g(this.getRealRowEl(!0),b);break;case "above":(a=f.getParentElement(this.map[this.idx.row][this.idx.col].el,{query:"tr"}))&&a.parentNode.insertBefore(b,a)}}},addRowCell:function(a,b,e){var g=a.isColspan?{colspan:f.getAttribute(a.el,"colspan")}:null;a.isReal?"above"!=e&&a.isRowspan?a.el.setAttribute("rowspan",parseInt(f.getAttribute(a.el,"rowspan"),10)+1):b.appendChild(this.createCells("td",1,g)):"above"!=
e&&a.isRowspan&&a.lastRow?b.appendChild(this.createCells("td",1,g)):c.isRowspan&&a.el.attr("rowspan",parseInt(f.getAttribute(a.el,"rowspan"),10)+1)},add:function(a){this.rectify()&&("below"!=a&&"above"!=a||this.addRow(a),"before"!=a&&"after"!=a||this.addColumn(a))},addColCell:function(a,b,e){var h,l=a.el.tagName.toLowerCase();switch(e){case "before":h=!a.isColspan||a.firstCol;break;case "after":h=!a.isColspan||a.lastCol||a.isColspan&&c.el==this.cell}if(h){switch(e){case "before":a.el.parentNode.insertBefore(this.createCells(l,
1),a.el);break;case "after":g(a.el,this.createCells(l,1))}a.isRowspan&&this.handleCellAddWithRowspan(a,b+1,e)}else a.el.setAttribute("colspan",parseInt(f.getAttribute(a.el,"colspan"),10)+1)},addColumn:function(a){var b;this.setTableMap();this.idx=this.getMapIndex(this.cell);"after"==a&&f.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(f.getAttribute(this.cell,"colspan"),10)-1);if(!1!==this.idx)for(var e=0,g=this.map.length;e<g;e++)b=this.map[e],b[this.idx.col]&&(b=b[this.idx.col],
b.modified||(this.setCellAsModified(b),this.addColCell(b,e,a)))},handleCellAddWithRowspan:function(a,b,e){var h=parseInt(f.getAttribute(this.cell,"rowspan"),10)-1,l=f.getParentElement(a.el,{query:"tr"});a=a.el.tagName.toLowerCase();for(var q,u,w=this.table.ownerDocument,y=0;y<h;y++){q=this.correctColIndexForUnreals(this.idx.col,b+y);a:{for(l=l.nextSibling;1!=l.nodeType;)if(l=l.nextSibling,"tr"==l.tagName.toLowerCase())break a;l=null}if(l)if(0<q)switch(e){case "before":u=this.getRowCells(l);0<q&&this.map[b+
y][this.idx.col].el!=u[q]&&q==u.length-1?g(u[q],this.createCells(a,1)):u[q].parentNode.insertBefore(this.createCells(a,1),u[q]);break;case "after":g(this.getRowCells(l)[q],this.createCells(a,1))}else l.insertBefore(this.createCells(a,1),l.firstChild);else q=w.createElement("tr"),q.appendChild(this.createCells(a,1)),this.table.appendChild(q)}}};f.table={getCellsBetween:function(a,b){return(new l(a)).getMapElsTo(b)},addCells:function(a,b){(new l(a)).add(b)},removeCells:function(a,b){(new l(a)).remove(b)},
mergeCellsBetween:function(a,b){(new l(a)).merge(b)},unmergeCell:function(a){(new l(a)).unmerge()},orderSelectionEnds:function(a,b){return(new l(a)).orderSelectionEnds(b)},indexOf:function(a){var b=new l(a);b.setTableMap();return b.getMapIndex(a)},findCell:function(a,b){return(new l(null,a)).getElementAtIndex(b)},findRowByCell:function(a){return(new l(a)).getRowElementsByCell()},findColumnByCell:function(a){return(new l(a)).getColumnElementsByCell()},canMerge:function(a,b){return(new l(a)).canMerge(b)}}})(wysihtml5);
wysihtml5.dom.query=function(a,h){var b=[],g;a.nodeType&&(a=[a]);for(var f=0,e=a.length;f<e;f++)if(g=a[f].querySelectorAll(h))for(var l=g.length;l--;b.unshift(g[l]));return b};
wysihtml5.dom.compareDocumentPosition=function(){return document.documentElement.compareDocumentPosition?function(a,h){return a.compareDocumentPosition(h)}:function(a,h){if(a===h)return 0;if(a===h.ownerDocument)return 20;if(a.ownerDocument===h)return 10;if((9===a.nodeType?a:a.ownerDocument)!==(9===h.nodeType?h:h.ownerDocument))return 1;if(2===a.nodeType&&a.childNodes&&-1!==wysihtml5.lang.array(a.childNodes).indexOf(h))return 20;if(2===h.nodeType&&h.childNodes&&-1!==wysihtml5.lang.array(h.childNodes).indexOf(a))return 10;
for(var b=a,g=[],f=null;b;){if(b==h)return 10;g.push(b);b=b.parentNode}b=h;for(f=null;b;){if(b==a)return 20;var e=wysihtml5.lang.array(g).indexOf(b);if(-1!==e)return b=g[e],g=wysihtml5.lang.array(b.childNodes).indexOf(g[e-1]),f=wysihtml5.lang.array(b.childNodes).indexOf(f),g>f?2:4;f=b;b=b.parentNode}return 1}}();wysihtml5.dom.unwrap=function(a){var h=[];if(a.parentNode){for(;a.lastChild;)h.unshift(a.lastChild),wysihtml5.dom.insert(a.lastChild).after(a);a.parentNode.removeChild(a)}return h};
wysihtml5.dom.getPastedHtml=function(a){var h;wysihtml5.browser.supportsModernPaste()&&a.clipboardData&&(wysihtml5.lang.array(a.clipboardData.types).contains("text/html")?h=a.clipboardData.getData("text/html"):wysihtml5.lang.array(a.clipboardData.types).contains("text/plain")&&(h=wysihtml5.lang.string(a.clipboardData.getData("text/plain")).escapeHTML(!0,!0)));return h};
wysihtml5.dom.getPastedHtmlWithDiv=function(a,h){var b=a.selection.getBookmark(),g=a.element.ownerDocument,f=g.createElement("DIV"),e=a.getScrollPos();g.body.appendChild(f);f.style.width="1px";f.style.height="1px";f.style.overflow="hidden";f.style.position="absolute";f.style.top=e.y+"px";f.style.left=e.x+"px";f.setAttribute("contenteditable","true");f.focus();setTimeout(function(){var e;a.selection.setBookmark(b);(e=f.innerHTML)&&/^<br\/?>$/i.test(e.trim())&&(e=!1);h(e);f.parentNode.removeChild(f)},
0)};wysihtml5.dom.removeInvisibleSpaces=function(a){a=wysihtml5.dom.getTextNodes(a);for(var h=a.length;h--;)a[h].nodeValue=a[h].nodeValue.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")};
wysihtml5.quirks.cleanPastedHTML=function(){return function(a,h){var b={color:wysihtml5.dom.getStyle("color").from(h.referenceNode),fontSize:wysihtml5.dom.getStyle("font-size").from(h.referenceNode)},g;a:{g=h.rules;var f;if(g){for(var e=0,l=g.length;e<l;e++)if(g[e].condition||(f=g[e].set),g[e].condition&&g[e].condition.test(a)){g=g[e].set;break a}g=f}else g=null}g=wysihtml5.lang.object(g||{}).clone(!0);var k,n;for(k in g.tags)if(g.tags.hasOwnProperty(k)&&g.tags[k].keep_styles)for(n in g.tags[k].keep_styles)g.tags[k].keep_styles.hasOwnProperty(n)&&
b[n]&&(f=g.tags[k].keep_styles,e=n,l=wysihtml5.lang.string(b[n]).trim().replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),f[e]=new RegExp("^((?!^"+l+"$).)*$","i"));return wysihtml5.dom.parse(a,{rules:g,cleanUp:!0,context:h.referenceNode.ownerDocument,uneditableClass:h.uneditableClass,clearInternals:!0,unjoinNbsps:!0})}}();
wysihtml5.quirks.ensureProperClearing=function(){var a=function(){var a=this;setTimeout(function(){var b=a.innerHTML.toLowerCase();if("<p>&nbsp;</p>"==b||"<p>&nbsp;</p><p>&nbsp;</p>"==b)a.innerHTML=""},0)};return function(h){wysihtml5.dom.observe(h.element,["cut","keydown"],a)}}();
(function(a){a.quirks.getCorrectInnerHTML=function(h){var b=h.innerHTML;if(-1===b.indexOf("%7E"))return b;h=h.querySelectorAll("[href*='~'], [src*='~']");var g,f,e,l;l=0;for(e=h.length;l<e;l++)g=h[l].href||h[l].src,f=a.lang.string(g).replace("~").by("%7E"),b=a.lang.string(b).replace(f).by(g);return b}})(wysihtml5);
(function(a){a.quirks.redraw=function(h){a.dom.addClass(h,"wysihtml5-quirks-redraw");a.dom.removeClass(h,"wysihtml5-quirks-redraw");try{var b=h.ownerDocument;b.execCommand("italic",!1,null);b.execCommand("italic",!1,null)}catch(g){}}})(wysihtml5);
wysihtml5.quirks.tableCellsSelection=function(a,h){function b(){if(a){var b=a.querySelectorAll("."+n);if(0<b.length)for(var e=0;e<b.length;e++)l.removeClass(b[e],n)}}function g(a){for(var b=0;b<a.length;b++)l.addClass(a[b],n)}function f(e){var f=null;(e=l.getParentElement(e.target,{query:"td, th"},!1,a))&&k.table&&k.start&&(f=l.getParentElement(e,{query:"table"},!1,a))&&f===k.table&&(b(),f=k.end,k.end=e,k.cells=l.table.getCellsBetween(k.start,e),1<k.cells.length&&h.composer.selection.deselect(),g(k.cells),
k.end!==f&&h.fire("tableselectchange").fire("tableselectchange:composer"))}function e(b){a.removeEventListener("mousemove",f);a.removeEventListener("mouseup",e);h.fire("tableselect").fire("tableselect:composer");setTimeout(function(){a.ownerDocument.addEventListener("click",m)},0)}var l=wysihtml5.dom,k={table:null,start:null,end:null,cells:null,select:function(b,e){k.start=b;k.end=e;k.table=l.getParentElement(k.start,{query:"table"},!1,a);selectedCells=l.table.getCellsBetween(k.start,k.end);g(selectedCells);
a.ownerDocument.addEventListener("click",m);h.fire("tableselect").fire("tableselect:composer")}},n="wysiwyg-tmp-selected-cell",m=function(e){a.ownerDocument.removeEventListener("click",m);l.getParentElement(e.target,{query:"table"},!1,a)!=k.table&&(b(),k.table=null,k.start=null,k.end=null,h.fire("tableunselect").fire("tableunselect:composer"))};a.addEventListener("mousedown",function(g){if(g=wysihtml5.dom.getParentElement(g.target,{query:"td, th"},!1,a))k.start=g,k.end=g,k.cells=[g],k.table=l.getParentElement(k.start,
{query:"table"},!1,a),k.table&&(b(),l.addClass(g,n),a.addEventListener("mousemove",f),a.addEventListener("mouseup",e),h.fire("tableselectstart").fire("tableselectstart:composer"))});return k};
(function(a){function h(a){var e,g;for(e in b)if(b.hasOwnProperty(e)&&(g=b[e],g.regex.test(a)))return g}var b={rgba:{regex:/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,name:"rgba"},rgb:{regex:/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,name:"rgb"},hex6:{regex:/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,name:"hex",radix:16},hex3:{regex:/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,name:"hex",radix:16}},g=function(a){return new RegExp("(^|\\s|;)"+
a+"\\s*:\\s*[^;$]+","gi")};a.quirks.styleParser={getColorParseMethod:h,getColorFormat:function(a){return(a=h(a))?a.name:void 0},parseColor:function(f,e){var l,k,n,m;l=f;if(e){l=g(e);if(!(l=f.match(l)))return!1;l=l.pop().split(":")[1];l=a.lang.string(l).trim()}if(!(k=h(l))||!(n=l.match(k.regex)))return!1;m=k.radix||10;if(k===b.hex3)return n.shift(),n.push(1),a.lang.array(n).map(function(a,b){return 3>b?parseInt(a,m)*m+parseInt(a,m):parseFloat(a)});n.shift();n[3]||n.push(1);return a.lang.array(n).map(function(a,
b){return 3>b?parseInt(a,m):parseFloat(a)})},unparseColor:function(a,b){return"hex"===b?(a[0].toString(16)+a[1].toString(16)+a[2].toString(16)).toUpperCase():"hash"===b?"#"+(a[0].toString(16)+a[1].toString(16)+a[2].toString(16)).toUpperCase():"rgb"===b?"rgb("+a[0]+","+a[1]+","+a[2]+")":"rgba"===b?"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")":"csv"===b?a[0]+","+a[1]+","+a[2]+","+a[3]:a[3]&&1!==a[3]?"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")":"rgb("+a[0]+","+a[1]+","+a[2]+")"},parseFontSize:function(b){return(b=
b.match(g("font-size")))?a.lang.string(b[b.length-1].split(":")[1]).trim():!1}}})(wysihtml5);
(function(a){function h(a,b){for(var f=0;b!==a;)if(f++,b=b.parentNode,!b)throw Error("not a descendant of ancestor!");return f}function b(a,b){return 3===a.nodeType?a:a.childNodes[b]||a}function g(b){var f=document.createElement("span"),g=function(a){b.removeEventListener("mouseup",g);b.removeEventListener("keydown",g);b.removeEventListener("touchstart",g);b.removeEventListener("focus",g);b.removeEventListener("blur",g);b.removeEventListener("paste",h);b.removeEventListener("drop",h);b.removeEventListener("beforepaste",
h);f&&f.parentNode&&f.parentNode.removeChild(f)},h=function(a){f&&f.parentNode&&setTimeout(g,0)};f.appendChild(b.ownerDocument.createTextNode(a.INVISIBLE_SPACE));f.className="_wysihtml5-temp-caret-fix";f.style.display="block";f.style.minWidth="1px";f.style.height="0px";b.addEventListener("mouseup",g);b.addEventListener("keydown",g);b.addEventListener("touchstart",g);b.addEventListener("focus",g);b.addEventListener("blur",g);b.addEventListener("paste",h);b.addEventListener("drop",h);b.addEventListener("beforepaste",
h);return f}var f=a.dom;a.Selection=Base.extend({constructor:function(a,b,f){rangy.init();this.editor=a;this.composer=a.composer;this.doc=this.composer.doc;this.win=this.composer.win;this.contain=b;this.unselectableClass=f||!1},getBookmark:function(){var a=this.getRange();return a&&a.cloneRange()},setBookmark:function(a){a&&this.setSelection(a)},setBefore:function(a){var b=rangy.createRange(this.doc);b.setStartBefore(a);b.setEndBefore(a);return this.setSelection(b)},createTemporaryCaretSpaceAfter:function(b){var f=
this.doc.createElement("span"),g=this.doc.createTextNode(a.INVISIBLE_SPACE),h=function(b){this.contain.removeEventListener("mouseup",h);this.contain.removeEventListener("keydown",p);this.contain.removeEventListener("touchstart",h);this.contain.removeEventListener("focus",h);this.contain.removeEventListener("blur",h);this.contain.removeEventListener("paste",m);this.contain.removeEventListener("drop",m);this.contain.removeEventListener("beforepaste",m);f&&f.parentNode&&(f.innerHTML=f.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,
""),/[^\s]+/.test(f.innerHTML)?(b=f.lastChild,a.dom.unwrap(f),this.setAfter(b)):f.parentNode.removeChild(f))}.bind(this),m=function(a){f&&f.parentNode&&setTimeout(h,0)},p=function(a){8===a.which||91===a.which||17===a.which||86===a.which&&(a.ctrlKey||a.metaKey)||h()};f.className="_wysihtml5-temp-caret-fix";f.style.position="absolute";f.style.display="block";f.style.minWidth="1px";f.style.zIndex="99999";f.appendChild(g);b.parentNode.insertBefore(f,b.nextSibling);this.setBefore(g);this.contain.addEventListener("mouseup",
h);this.contain.addEventListener("keydown",p);this.contain.addEventListener("touchstart",h);this.contain.addEventListener("focus",h);this.contain.addEventListener("blur",h);this.contain.addEventListener("paste",m);this.contain.addEventListener("drop",m);this.contain.addEventListener("beforepaste",m);return f},setAfter:function(b,f,g){var h=this.win,m=rangy.createRange(this.doc),p=function(){var g=b.parentNode,g=g?g.childNodes[g.childNodes.length-1]:null;if(!r||g===b&&1===b.nodeType&&"block"===h.getComputedStyle(b).display)if(f){var k=
this.doc.createTextNode(a.INVISIBLE_SPACE);b.parentNode.insertBefore(k,b.nextSibling);this.selectNode(k);setTimeout(function(){k&&k.parentNode&&k.parentNode.removeChild(k)},0)}else this.createTemporaryCaretSpaceAfter(b)}.bind(this),r;m.setStartAfter(b);m.setEndAfter(b);if(document.activeElement&&document.activeElement===this.composer.element)r=this.setSelection(m),p(),g&&g(r);else{var q=this.composer.getScrollPos();this.composer.element.focus();this.composer.setScrollPos(q);setTimeout(function(){r=
this.setSelection(m);p();g&&g(r)}.bind(this),0)}},selectNode:function(b,g){var h=rangy.createRange(this.doc),n=b.nodeType===a.ELEMENT_NODE,m="canHaveHTML"in b?b.canHaveHTML:"IMG"!==b.nodeName,p=n?b.innerHTML:b.data,p=""===p||p===a.INVISIBLE_SPACE,r=f.getStyle("display").from(b),r="block"===r||"list-item"===r;if(p&&n&&m&&!g)try{b.innerHTML=a.INVISIBLE_SPACE}catch(q){}m?h.selectNodeContents(b):h.selectNode(b);m&&p&&n?h.collapse(r):m&&p&&(h.setStartAfter(b),h.setEndAfter(b));this.setSelection(h)},getSelectedNode:function(a){if(a&&
this.doc.selection&&"Control"===this.doc.selection.type&&(a=this.doc.selection.createRange())&&a.length)return a.item(0);a=this.getSelection(this.doc);return a.focusNode===a.anchorNode?a.focusNode:(a=this.getRange(this.doc))?a.commonAncestorContainer:this.doc.body},fixSelBorders:function(){var a=this.getRange();if(!a.canSurroundContents())for(var b=a.commonAncestorContainer,f=h(b,a.startContainer),g=h(b,a.endContainer);!a.canSurroundContents();)f>g?(a.setStartBefore(a.startContainer),f=h(b,a.startContainer)):
(a.setEndAfter(a.endContainer),g=h(b,a.endContainer));this.setSelection(a)},getSelectedOwnNodes:function(a){a=this.getOwnRanges();for(var b=[],f=0,g=a.length;f<g;f++)b.push(a[f].commonAncestorContainer||this.doc.body);return b},findNodesInSelection:function(b){for(var f=this.getOwnRanges(),g=[],h,m=0,p=f.length;m<p;m++)h=f[m].getNodes([1],function(f){return a.lang.array(b).contains(f.nodeName)}),g=g.concat(h);return g},filterElements:function(a){for(var b=this.getOwnRanges(),f=[],g,h=0,p=b.length;h<
p;h++)g=b[h].getNodes([1],function(f){return a(f,b[h])}),f=f.concat(g);return f},containsUneditable:function(){for(var a=this.getOwnUneditables(),b=this.getSelection(),f=0,g=a.length;f<g;f++)if(b.containsNode(a[f]))return!0;return!1},deleteContents:function(){var a=this.getRange();this.deleteRangeContents(a);this.setSelection(a)},deleteRangeContents:function(b){var f,g,h;if(this.unselectableClass)for((f=a.dom.getParentElement(b.startContainer,{query:"."+this.unselectableClass},!1,this.contain))&&
b.setStartBefore(f),(g=a.dom.getParentElement(b.endContainer,{query:"."+this.unselectableClass},!1,this.contain))&&b.setEndAfter(g),f=b.getNodes([1],function(b){return a.dom.hasClass(b,this.unselectableClass)}.bind(this)),g=f.length;g--;)try{h=new CustomEvent("wysihtml5:uneditable:delete"),f[g].dispatchEvent(h)}catch(m){}b.deleteContents()},getCaretNode:function(){var a=this.getSelection();return a&&a.anchorNode?b(a.anchorNode,a.anchorOffset):null},getPreviousNode:function(e,f){var g;if(!e){var h=
this.getSelection();e=h&&h.anchorNode?b(h.anchorNode,h.anchorOffset):null}if(e===this.contain)return!1;h=e.previousSibling;if(h===this.contain)return!1;h&&3!==h.nodeType&&1!==h.nodeType?h=this.getPreviousNode(h,f):h&&3===h.nodeType&&/^\s*$/.test(h.textContent)?h=this.getPreviousNode(h,f):f&&h&&1===h.nodeType?(g=a.dom.getStyle("display").from(h),a.lang.array(["BR","HR","IMG"]).contains(h.nodeName)||a.lang.array(["block","inline-block","flex","list-item","table"]).contains(g)||!/^[\s]*$/.test(h.innerHTML)||
(h=this.getPreviousNode(h,f))):h||e===this.contain||(g=e.parentNode,g!==this.contain&&(h=this.getPreviousNode(g,f)));return h!==this.contain?h:!1},getNodesNearCaret:function(){if(!this.isCollapsed())throw"Selection must be caret when using selection.getNodesNearCaret()";var a=this.getOwnRanges(),b,f,g,h;return a&&0<a.length?(1===a[0].startContainer.nodeType?(b=a[0].startContainer.childNodes[a[0].startOffset-1],b||0!==a[0].startOffset)?b&&(f=b.previousSibling,g=b.nextSibling):g=a[0].startContainer.childNodes[0]:
(0===a[0].startOffset&&a[0].startContainer.previousSibling?(b=a[0].startContainer.previousSibling,3===b.nodeType&&(h=b.data.length)):(b=a[0].startContainer,h=a[0].startOffset),f=b.previousSibling,g=b.nextSibling),{caretNode:b,prevNode:f,nextNode:g,textOffset:h}):null},getSelectionParentsByTag:function(b){b=this.getSelectedOwnNodes();for(var f,g=[],h=0,m=b.length;h<m;h++)(f=b[h].nodeName&&"LI"===b[h].nodeName?b[h]:a.dom.getParentElement(b[h],{query:"li"},!1,this.contain))&&g.push(f);return g.length?
g:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var a=this.getRange(),b=a.startContainer,a=a.startOffset,f=rangy.createRange(this.doc);f.selectNodeContents(b);f.setStart(b,a);return f}},caretIsLastInSelection:function(){rangy.createRange(this.doc);this.getSelection();var a=this.getRangeToNodeEnd().cloneContents().textContent;return/^\s*$/.test(a)},caretIsFirstInSelection:function(e){var f=rangy.createRange(this.doc),g=this.getSelection(),h=this.getRange(),m=b(h.startContainer,h.startOffset);
if(m){if(m.nodeType===a.TEXT_NODE){if(!m.parentNode||!this.isCollapsed()||m.parentNode.firstChild!==m&&!a.dom.domNode(m.previousSibling).is.block())return!1;e=this.win.getComputedStyle(m.parentNode).whiteSpace;return"pre"===e||"pre-wrap"===e?0===h.startOffset:/^\s*$/.test(m.data.substr(0,h.startOffset))}if(e&&a.dom.domNode(m).is.lineBreak())return!0;f.selectNodeContents(this.getRange().commonAncestorContainer);f.collapse(!0);return this.isCollapsed()&&(f.startContainer===g.anchorNode||f.endContainer===
g.anchorNode)&&f.startOffset===g.anchorOffset}},caretIsInTheBeginnig:function(b){var f=this.getSelection(),g=f.anchorNode,f=f.anchorOffset;if(b&&g)return 0===f&&(g.nodeName&&g.nodeName===b.toUpperCase()||a.dom.getParentElement(g.parentNode,{query:b},1));if(g)return 0===f&&!this.getPreviousNode(g,!0)},getBeforeSelection:function(b){var f=this.getSelection(),g=f.isBackwards()?f.focusNode:f.anchorNode,f=f.isBackwards()?f.focusOffset:f.anchorOffset,h=this.createRange(),m;g&&3===g.nodeType&&/^\s*$/.test(g.data.slice(0,
f))&&(f=0);if(m=a.dom.getParentElement(g,{query:"._wysihtml5-temp-caret-fix"},1))g=m.parentNode,f=Array.prototype.indexOf.call(g.childNodes,m);if(g){if(0<f){if(3===g.nodeType)return h.setStart(g,0),h.setEnd(g,f),{type:"text",range:h,offset:f,node:g};h.setStartBefore(g.childNodes[0]);g=g.childNodes[f-1];h.setEndAfter(g);return{type:"element",range:h,offset:f,node:g}}h.setStartAndEnd(g,0);return b&&(b=this.getPreviousNode(g,!0),m=null,b&&(m=1===b.nodeType&&a.dom.hasClass(b,this.unselectableClass)?b:
a.dom.domNode(b).lastLeafNode()),m)?{type:"leafnode",range:h,offset:f,node:m}:{type:"none",range:h,offset:f,node:g}}return null},executeAndRestoreRangy:function(a,b){var f=rangy.saveSelection(this.win);if(f)try{a()}catch(g){setTimeout(function(){throw g;},0)}else a();rangy.restoreSelection(f)},executeAndRestore:function(b,g){var h=this.doc.body,n=g&&h.scrollTop,m=g&&h.scrollLeft,p='<span class="_wysihtml5-temp-placeholder">'+a.INVISIBLE_SPACE+"</span>",r=this.getRange(!0),q,u,w;if(r){r.collapsed||
(w=r.cloneRange(),q=w.createContextualFragment(p),w.collapse(!1),w.insertNode(q),w.detach());p=r.createContextualFragment(p);r.insertNode(p);q&&(q=this.contain.querySelectorAll("._wysihtml5-temp-placeholder"),r.setStartBefore(q[0]),r.setEndAfter(q[q.length-1]));this.setSelection(r);try{b(r.startContainer,r.endContainer)}catch(y){setTimeout(function(){throw y;},0)}if((q=this.contain.querySelectorAll("._wysihtml5-temp-placeholder"))&&q.length)for(r=rangy.createRange(this.doc),p=q[0].nextSibling,1<q.length&&
(u=q[q.length-1].previousSibling),u&&p?r.setStartBefore(p):(u=this.doc.createTextNode(a.INVISIBLE_SPACE),f.insert(u).after(q[0]),r.setStartBefore(u)),r.setEndAfter(u),this.setSelection(r),u=q.length;u--;)q[u].parentNode.removeChild(q[u]);else this.contain.focus();g&&(h.scrollTop=n,h.scrollLeft=m);try{q.parentNode.removeChild(q)}catch(x){}}else b(h,h)},set:function(a,b){var f=rangy.createRange(this.doc);f.setStart(a,b||0);this.setSelection(f)},insertHTML:function(a){var b=this.getRange(),f=this.doc.createElement("DIV"),
g=this.doc.createDocumentFragment();if(b){b.deleteContents();f.innerHTML=a;for(a=f.lastChild;f.firstChild;)g.appendChild(f.firstChild);b.insertNode(g);for(b=this.contain.lastChild;b&&3===b.nodeType&&b.previousSibling&&/^\s*$/.test(b.data);)b=b.previousSibling;a&&(b&&a===b&&1===a.nodeType&&this.contain.appendChild(this.doc.createElement("br")),this.setAfter(a))}},insertNode:function(a){var b=this.getRange();b&&b.insertNode(a)},canAppendChild:function(a){var b,f=this.getRange();(a=a||f.startContainer)&&
(b=(a.tagName||a.nodeName).toLowerCase());return-1==="area base br col command embed hr img input keygen link meta param source track wbr".split(" ").indexOf(b)},splitElementAtCaret:function(b,f){var g=this.getSelection(),h,m;if(0<g.rangeCount){g=g.getRangeAt(0).cloneRange();g.setEndAfter(b);h=g.extractContents();m=h.childNodes;for(var p=m.length;p--;)a.dom.domNode(m[p]).is.visible()||h.removeChild(m[p]);b.parentNode.insertBefore(h,b.nextSibling);f?(h=f.firstChild||f,m=f.lastChild||f,b.parentNode.insertBefore(f,
b.nextSibling),h&&m&&(g.setStartBefore(h),g.setEndAfter(m),this.setSelection(g))):(g.setStartAfter(b),g.setEndAfter(b));a.dom.domNode(b).is.visible()||(""===a.dom.getTextContent(b)?b.parentNode.removeChild(b):b.parentNode.replaceChild(this.doc.createTextNode(" "),b))}},surround:function(a){var b=this.getOwnRanges(),f,g=[];if(0==b.length)return g;for(var h=b.length;h--;){f=this.doc.createElement(a.nodeName);g.push(f);a.className&&(f.className=a.className);a.cssStyle&&f.setAttribute("style",a.cssStyle);
try{b[h].surroundContents(f),this.selectNode(f)}catch(p){f.appendChild(b[h].extractContents()),b[h].insertNode(f)}}return g},scrollIntoView:function(){var b=this.doc,f=b.documentElement.scrollHeight>b.documentElement.offsetHeight,g;(g=b._wysihtml5ScrollIntoViewElement)||(g=b.createElement("span"),g.innerHTML=a.INVISIBLE_SPACE);g=b._wysihtml5ScrollIntoViewElement=g;if(f){this.insertNode(g);var f=g,h=0;if(f.parentNode){do h+=f.offsetTop||0,f=f.offsetParent;while(f)}f=h;g.parentNode.removeChild(g);f>=
b.body.scrollTop+b.documentElement.offsetHeight-5&&(b.body.scrollTop=f)}},selectLine:function(){var b=rangy.createRange();a.browser.supportsSelectionModify()?this._selectLine_W3C():b.nativeRange&&b.nativeRange.getBoundingClientRect&&this._selectLineUniversal()},includeRangyRangeHelpers:function(){var a=this.getSelection(),b=a.getRangeAt(0),f=function(a){return a&&1===a.nodeType&&a.classList.contains("rangySelectionBoundary")},g=1===a.anchorNode.nodeType?a.anchorNode.childNodes[a.anchorOffset]:a.anchorNode,
h=1===a.focusNode.nodeType?a.focusNode.childNodes[a.focusOffset]:a.focusNode,p;if(p=h){p=a.focusOffset;var r;r=1===h.nodeType?h.childNodes&&h.childNodes.length||0:h.data&&h.data.length||0;p=p===r}p&&h.nextSibling&&f(h.nextSibling)&&b.setEndAfter(h.nextSibling);g&&0===a.anchorOffset&&g.previousSibling&&f(g.previousSibling)&&b.setStartBefore(g.previousSibling);b.select()},_selectLine_W3C:function(){var a=this.win.getSelection(),b=[a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset];a.modify("move",
"left","lineboundary");a.modify("extend","right","lineboundary");a.anchorNode===b[0]&&a.anchorOffset===b[1]&&a.focusNode===b[2]&&a.focusOffset===b[3]?this._selectLineUniversal():this.includeRangyRangeHelpers()},toLineBoundary:function(b,f){f="undefined"===typeof f?!1:f;if(a.browser.supportsSelectionModify()){var g=this.win.getSelection();g.modify("extend",b,"lineboundary");f&&("left"===b?g.collapseToStart():"right"===b&&g.collapseToEnd())}},getRangeRect:function(a){this.doc.createTextNode("i");var b=
this.doc.createTextNode("i");a.collapsed?(a.insertNode(b),a.selectNode(b),b=a.nativeRange.getBoundingClientRect(),a.deleteContents()):b=a.nativeRange.getBoundingClientRect();return b},_selectLineUniversal:function(){var b=this.getSelection().getRangeAt(0),f,g=0,h,m,p,r=this;f=function(b){return b&&1===b.nodeType&&("block"===r.win.getComputedStyle(b).display||a.lang.array(["BR","HR"]).contains(b.nodeName))};h=function(a){if(a)for(;a&&(1===a.nodeType&&a.classList.contains("rangySelectionBoundary")||
3===a.nodeType&&/^\s*$/.test(a.data));)a=a.previousSibling;return a};b.cloneRange();b.cloneRange();b.collapsed&&(3===b.startContainer.nodeType&&b.startOffset<b.startContainer.data.length?b.moveEnd("character",1):1===b.startContainer.nodeType&&b.startContainer.childNodes[b.startOffset]&&3===b.startContainer.childNodes[b.startOffset].nodeType&&0<b.startContainer.childNodes[b.startOffset].data.length?b.moveEnd("character",1):0<b.startOffset&&(3===b.startContainer.nodeType||1===b.startContainer.nodeType&&
!f(h(b.startContainer.childNodes[b.startOffset-1])))&&b.moveStart("character",-1));b.collapsed||b.insertNode(this.doc.createTextNode(a.INVISIBLE_SPACE));f=b.nativeRange.getBoundingClientRect();do h=b.moveStart("character",-1),m=b.nativeRange.getBoundingClientRect(),m&&Math.floor(m.top)===Math.floor(f.top)||(b.moveStart("character",1),p=!0),g++;while(0!==h&&!p&&2E3>g);g=0;p=!1;f=b.nativeRange.getBoundingClientRect();if(b.endContainer!==this.contain||this.contain.lastChild&&this.contain.childNodes[b.endOffset]!==
this.contain.lastChild){do h=b.moveEnd("character",1),m=b.nativeRange.getBoundingClientRect(),m&&Math.floor(m.bottom)===Math.floor(f.bottom)||(b.moveEnd("character",-1),b.endContainer&&1===b.endContainer.nodeType&&b.endContainer.childNodes[b.endOffset]&&1===b.endContainer.childNodes[b.endOffset].nodeType&&"BR"===b.endContainer.childNodes[b.endOffset].nodeName&&b.endContainer.childNodes[b.endOffset].previousSibling&&(1===b.endContainer.childNodes[b.endOffset].previousSibling.nodeType?b.setEnd(b.endContainer.childNodes[b.endOffset].previousSibling,
b.endContainer.childNodes[b.endOffset].previousSibling.childNodes.length):3===b.endContainer.childNodes[b.endOffset].previousSibling.nodeType&&b.setEnd(b.endContainer.childNodes[b.endOffset].previousSibling,b.endContainer.childNodes[b.endOffset].previousSibling.data.length)),p=!0),g++;while(0!==h&&!p&&2E3>g)}b.select();this.includeRangyRangeHelpers()},getText:function(){var a=this.getSelection();return a?a.toString():""},getNodes:function(a,b){var f=this.getRange();return f?f.getNodes(Array.isArray(a)?
a:[a],b):[]},getOwnNodes:function(a,b,f){for(var g=this.getOwnRanges(),h=[],p=0,r=g.length;p<r;p++)g[p]&&(f&&g[p].splitBoundaries(),h=h.concat(g[p].getNodes(Array.isArray(a)?a:[a],b)));return h},fixRangeOverflow:function(a){if(this.contain&&this.contain.firstChild&&a){var b=a.compareNode(this.contain);2!==b?(1===b&&a.setStartBefore(this.contain.firstChild),0===b&&a.setEndAfter(this.contain.lastChild),3===b&&(a.setStartBefore(this.contain.firstChild),a.setEndAfter(this.contain.lastChild))):this._detectInlineRangeProblems(a)&&
(b=a.endContainer.previousElementSibling)&&a.setEnd(b,this._endOffsetForNode(b))}},_endOffsetForNode:function(a){var b=document.createRange();b.selectNodeContents(a);return b.endOffset},_detectInlineRangeProblems:function(a){var b=f.compareDocumentPosition(a.startContainer,a.endContainer);return 0==a.endOffset&&b&4},getRange:function(a){var b=this.getSelection(),b=b&&b.rangeCount&&b.getRangeAt(0);!0!==a&&this.fixRangeOverflow(b);return b},getOwnUneditables:function(){var b=f.query(this.contain,"."+
this.unselectableClass),g=f.query(b,"."+this.unselectableClass);return a.lang.array(b).without(g)},getOwnRanges:function(){var a=[],b=this.getRange();b&&a.push(b);if(this.unselectableClass&&this.contain&&b){var f=this.getOwnUneditables(),g;if(0<f.length)for(var h=0,p=f.length;h<p;h++)for(var b=[],r=0,q=a.length;r<q;r++){if(a[r])switch(a[r].compareNode(f[h])){case 2:break;case 3:g=a[r].cloneRange();g.setEndBefore(f[h]);b.push(g);g=a[r].cloneRange();g.setStartAfter(f[h]);b.push(g);break;default:b.push(a[r])}a=
b}}return a},getSelection:function(){return rangy.getSelection(this.win)},setSelection:function(a){var b=rangy.getSelection(this.win);b.setSingleRange(a);return b&&b.anchorNode&&b.focusNode?b:null},selectAll:function(){var b=this.createRange(),f=this.composer,h=this,n=g(this.composer.element),m=g(this.composer.element),p,r=function(){b.setStart(f.element,0);b.setEnd(f.element,f.element.childNodes.length);p=h.setSelection(b)},q=function(){return!p||p.nativeSelection&&p.nativeSelection.type&&("Caret"===
p.nativeSelection.type||"None"===p.nativeSelection.type)};a.dom.removeInvisibleSpaces(this.composer.element);r();this.composer.element.firstChild&&q()&&(this.composer.element.appendChild(n),r(),q()&&(n.parentNode.removeChild(n),this.composer.element.insertBefore(m,this.composer.element.firstChild),r(),q()&&(this.composer.element.appendChild(n),r())))},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},getHtml:function(){return this.getSelection().toHtml()},
getPlainText:function(){return this.getSelection().toString()},isEndToEndInNode:function(b){var f=this.getRange(),g=f.commonAncestorContainer,h=f.startContainer,m=f.endContainer;g.nodeType===a.TEXT_NODE&&(g=g.parentNode);if(h.nodeType===a.TEXT_NODE&&!/^\s*$/.test(h.data.substr(f.startOffset))||m.nodeType===a.TEXT_NODE&&!/^\s*$/.test(m.data.substr(f.endOffset)))return!1;for(;h&&h!==g;){if(h.nodeType!==a.TEXT_NODE&&!a.dom.contains(g,h)||a.dom.domNode(h).prev({ignoreBlankTexts:!0}))return!1;h=h.parentNode}for(;m&&
m!==g;){if(m.nodeType!==a.TEXT_NODE&&!a.dom.contains(g,m)||a.dom.domNode(m).next({ignoreBlankTexts:!0}))return!1;m=m.parentNode}return a.lang.array(b).contains(g.nodeName)?g:!1},isInThisEditable:function(){var b=this.getSelection(),f=b.focusNode,b=b.anchorNode;f&&1!==f.nodeType&&(f=f.parentNode);b&&1!==b.nodeType&&(b=b.parentNode);return b&&f&&(a.dom.contains(this.composer.element,f)||this.composer.element===f)&&(a.dom.contains(this.composer.element,b)||this.composer.element===b)},deselect:function(){var a=
this.getSelection();a&&a.removeAllRanges()}})})(wysihtml5);
(function(a,h){function b(a,b,e){a.getAttribute("style")?(g(a,e),a.getAttribute("style")&&!/^\s*$/.test(a.getAttribute("style"))?a.setAttribute("style",b+";"+a.getAttribute("style")):a.setAttribute("style",b)):a.setAttribute("style",b)}function g(a,b){var e,f=[];if(a.getAttribute("style")){e=a.getAttribute("style").split(";");for(var g=e.length;g--;)e[g].match(b)||/^\s*$/.test(e[g])||f.push(e[g]);f.length?a.setAttribute("style",f.join(";")):a.removeAttribute("style")}}function f(a,b){var e=[],f=b.split(";"),
g=a.getAttribute("style");if(g){g=g.replace(/\s/gi,"").toLowerCase();e.push(new RegExp("(^|\\s|;)"+b.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var h=f.length;0<h--;)/^\s*$/.test(f[h])||e.push(new RegExp("(^|\\s|;)"+f[h].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));
f=0;for(h=e.length;f<h;f++)if(g.match(e[f]))return e[f]}return!1}function e(b,e,g,k){for(var l=b.length;l--;){var m;m=b[l];var n=e,p=k;m=g?f(m,g):p?a.dom.hasClass(m,p):h.dom.arrayContains(n,m.tagName.toLowerCase());if(!m)return!1}return b.length?!0:!1}function l(a,b){return h.dom.isCharacterDataNode(a)?0==b?!!a.previousSibling:b==a.length?!!a.nextSibling:!0:0<b&&b<a.childNodes.length}function k(a,b,e,f){var g;h.dom.isCharacterDataNode(b)&&(0==e?(e=h.dom.getNodeIndex(b),b=b.parentNode):e==b.length?
(e=h.dom.getNodeIndex(b)+1,b=b.parentNode):g=h.dom.splitDataNode(b,e));if(!(g||f&&b===f)){g=b.cloneNode(!1);g.id&&g.removeAttribute("id");for(var l;l=b.childNodes[e];)g.appendChild(l);h.dom.insertAfter(g,b)}return b==a?g:k(a,g.parentNode,h.dom.getNodeIndex(g),f)}function n(b){this.firstTextNode=(this.isElementMerge=b.nodeType==a.ELEMENT_NODE)?b.lastChild:b;this.textNodes=[this.firstTextNode]}function m(a,b,e,f,g,h,k){this.tagNames=a||["span"];this.cssClass=b||(!1===b?!1:"");this.similarClassRegExp=
e;this.cssStyle=g||"";this.similarStyleRegExp=h;this.normalize=f;this.applyToAnyTagName=!1;this.container=k}var p=/\s+/g;n.prototype={doMerge:function(){for(var a=[],b,e,f=0,g=this.textNodes.length;f<g;++f)b=this.textNodes[f],e=b.parentNode,a[f]=b.data,f&&(e.removeChild(b),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=a=a.join("")},getLength:function(){for(var a=this.textNodes.length,b=0;a--;)b+=this.textNodes[a].length;return b},toString:function(){for(var a=[],b=
0,e=this.textNodes.length;b<e;++b)a[b]="'"+this.textNodes[b].data+"'";return"[Merge("+a.join(",")+")]"}};m.prototype={getAncestorWithClass:function(b){for(var e;b;){if(this.cssClass)if(e=this.cssClass,b.className){var f=b.className.match(this.similarClassRegExp)||[];e=f[f.length-1]===e}else e=!1;else e=""!==this.cssStyle?!1:!0;if(b.nodeType==a.ELEMENT_NODE&&"false"!=b.getAttribute("contenteditable")&&h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&e)return b;b=b.parentNode}return!1},getAncestorWithStyle:function(b){for(var e;b;){if(this.cssStyle){e=
b;var f=this.similarStyleRegExp;e.getAttribute&&e.getAttribute("style")?(e.getAttribute("style").match(f),e=e.getAttribute("style").match(f)?!0:!1):e=!1}else e=!1;if(b.nodeType==a.ELEMENT_NODE&&"false"!=b.getAttribute("contenteditable")&&h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&e)return b;b=b.parentNode}return!1},getMatchingAncestor:function(a){var b=this.getAncestorWithClass(a),e=!1;b?this.cssStyle&&(e="class"):(b=this.getAncestorWithStyle(a))&&(e="style");return{element:b,type:e}},
postApply:function(a,b){for(var e=a[0],f=a[a.length-1],g=[],h,k=e,l=f,m=0,p=f.length,A,F,G=0,K=a.length;G<K;++G)A=a[G],F=null,A&&A.parentNode&&(F=this.getAdjacentMergeableTextNode(A.parentNode,!1)),F?(h||(h=new n(F),g.push(h)),h.textNodes.push(A),A===e&&(k=h.firstTextNode,m=k.length),A===f&&(l=h.firstTextNode,p=h.getLength())):h=null;f&&f.parentNode&&(e=this.getAdjacentMergeableTextNode(f.parentNode,!0))&&(h||(h=new n(f),g.push(h)),h.textNodes.push(e));if(g.length){G=0;for(K=g.length;G<K;++G)g[G].doMerge();
b.setStart(k,m);b.setEnd(l,p)}},getAdjacentMergeableTextNode:function(b,e){var f=b.nodeType==a.TEXT_NODE,g=f?b.parentNode:b,h=e?"nextSibling":"previousSibling";if(f){if((f=b[h])&&f.nodeType==a.TEXT_NODE)return f}else if((f=g[h])&&this.areElementsMergeable(b,f))return f[e?"firstChild":"lastChild"];return null},areElementsMergeable:function(a,b){var e;if(e=h.dom.arrayContains(this.tagNames,(a.tagName||"").toLowerCase())&&h.dom.arrayContains(this.tagNames,(b.tagName||"").toLowerCase()))e=a.className.replace(p,
" ")==b.className.replace(p," ");if(e)a:if(a.attributes.length!=b.attributes.length)e=!1;else{e=0;for(var f=a.attributes.length,g,k;e<f;++e)if(g=a.attributes[e],k=g.name,"class"!=k&&(k=b.attributes.getNamedItem(k),g.specified!=k.specified||g.specified&&g.nodeValue!==k.nodeValue)){e=!1;break a}e=!0}return e},createContainer:function(a){a=a.createElement(this.tagNames[0]);this.cssClass&&(a.className=this.cssClass);this.cssStyle&&a.setAttribute("style",this.cssStyle);return a},applyToTextNode:function(a){var e=
a.parentNode;1==e.childNodes.length&&h.dom.arrayContains(this.tagNames,e.tagName.toLowerCase())?(this.cssClass&&(a=this.cssClass,e.className?(e.className&&(e.className=e.className.replace(this.similarClassRegExp,"")),e.className+=" "+a):e.className=a),this.cssStyle&&b(e,this.cssStyle,this.similarStyleRegExp)):(e=this.createContainer(h.dom.getDocument(a)),a.parentNode.insertBefore(e,a),e.appendChild(a))},isRemovable:function(b){return h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&""===
a.lang.string(b.className).trim()&&(!b.getAttribute("style")||""===a.lang.string(b.getAttribute("style")).trim())},undoToTextNode:function(a,e,h,m){a=h?!1:!0;h=h||m;m=!1;if(!e.containsNode(h)){var n=e.cloneRange();n.selectNode(h);n.isPointInRange(e.endContainer,e.endOffset)&&l(e.endContainer,e.endOffset)&&(k(h,e.endContainer,e.endOffset,this.container),e.setEndAfter(h));n.isPointInRange(e.startContainer,e.startOffset)&&l(e.startContainer,e.startOffset)&&(h=k(h,e.startContainer,e.startOffset,this.container))}!a&&
this.similarClassRegExp&&h.className&&(h.className=h.className.replace(this.similarClassRegExp,""));a&&this.similarStyleRegExp&&(e=h,a=this.cssStyle,m=this.similarStyleRegExp,(n=f(e,a))?(g(e,n),e="remove"):(b(e,a,m),e="change"),m="change"===e);if(this.isRemovable(h)&&!m){for(e=h.parentNode;h.firstChild;)e.insertBefore(h.firstChild,h);e.removeChild(h)}},applyToRange:function(b){for(var e,f=b.length;f--;){e=b[f].getNodes([a.TEXT_NODE]);if(!e.length)try{var g=this.createContainer(b[f].endContainer.ownerDocument);
b[f].surroundContents(g);this.selectNode(b[f],g);break}catch(h){}b[f].splitBoundaries();e=b[f].getNodes([a.TEXT_NODE]);if(e.length){for(var k,l=0,m=e.length;l<m;++l)k=e[l],this.getMatchingAncestor(k).element||this.applyToTextNode(k);b[f].setStart(e[0],0);k=e[e.length-1];b[f].setEnd(k,k.length);this.normalize&&this.postApply(e,b[f])}}},undoToRange:function(b){for(var e,f,g,h=b.length;h--;){e=b[h].getNodes([a.TEXT_NODE]);e.length?(b[h].splitBoundaries(),e=b[h].getNodes([a.TEXT_NODE])):(e=b[h].endContainer.ownerDocument.createTextNode(a.INVISIBLE_SPACE),
b[h].insertNode(e),b[h].selectNode(e),e=[e]);for(var k=0,l=e.length;k<l;++k)b[h].isValid()&&(f=e[k],g=this.getMatchingAncestor(f),"style"===g.type?this.undoToTextNode(f,b[h],!1,g.element):g.element&&this.undoToTextNode(f,b[h],g.element));1==l?this.selectNode(b[h],e[0]):(b[h].setStart(e[0],0),f=e[e.length-1],b[h].setEnd(f,f.length),this.normalize&&this.postApply(e,b[h]))}},selectNode:function(b,e){var f=e.nodeType===a.ELEMENT_NODE,g="canHaveHTML"in e?e.canHaveHTML:!0,h=f?e.innerHTML:e.data;if((h=""===
h||h===a.INVISIBLE_SPACE)&&f&&g)try{e.innerHTML=a.INVISIBLE_SPACE}catch(k){}b.selectNodeContents(e);h&&f?b.collapse(!1):h&&(b.setStartAfter(e),b.setEndAfter(e))},getTextSelectedByRange:function(a,b){var e=b.cloneRange();e.selectNodeContents(a);var f=e.intersection(b),f=f?f.toString():"";e.detach();return f},isAppliedToRange:function(b){for(var e=[],f="full",g,h,k=b.length;k--;){h=b[k].getNodes([a.TEXT_NODE]);if(!h.length)return(g=this.getMatchingAncestor(b[k].startContainer).element)?{elements:[g],
coverage:f}:!1;for(var l=0,m=h.length,n;l<m;++l)n=this.getTextSelectedByRange(h[l],b[k]),(g=this.getMatchingAncestor(h[l]).element)&&""!=n?(e.push(g),1===a.dom.getTextNodes(g,!0).length?f="full":"full"===f&&(f="inline")):g||(f="partial")}return e.length?{elements:e,coverage:f}:!1},toggleRange:function(a){var b=this.isAppliedToRange(a);b?"full"===b.coverage?this.undoToRange(a):"inline"===b.coverage?(b=e(b.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(a),b||this.applyToRange(a)):
(e(b.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(a),this.applyToRange(a)):this.applyToRange(a)}};a.selection.HTMLApplier=m})(wysihtml5,rangy);
wysihtml5.Commands=Base.extend({constructor:function(a){this.editor=a;this.composer=a.composer;this.doc=this.composer.doc},support:function(a){return wysihtml5.browser.supportsCommand(this.doc,a)},exec:function(a,h){var b=wysihtml5.commands[a],g=wysihtml5.lang.array(arguments).get(),f=b&&b.exec,e=null;this.composer.hasPlaceholderSet()&&!wysihtml5.lang.array(["styleWithCSS","enableObjectResizing","enableInlineTableEditing"]).contains(a)&&(this.composer.element.innerHTML="",this.composer.selection.selectNode(this.composer.element));
this.editor.fire("beforecommand:composer");if(f)g.unshift(this.composer),e=f.apply(b,g);else try{e=this.doc.execCommand(a,!1,h)}catch(l){}this.editor.fire("aftercommand:composer");return e},remove:function(a,h){var b=wysihtml5.commands[a],g=wysihtml5.lang.array(arguments).get(),f=b&&b.remove;if(f)return g.unshift(this.composer),f.apply(b,g)},state:function(a,h){var b=wysihtml5.commands[a],g=wysihtml5.lang.array(arguments).get(),f=b&&b.state;if(f)return g.unshift(this.composer),f.apply(b,g);try{return this.doc.queryCommandState(a)}catch(e){return!1}},
stateValue:function(a){var h=wysihtml5.commands[a],b=wysihtml5.lang.array(arguments).get(),g=h&&h.stateValue;return g?(b.unshift(this.composer),g.apply(h,b)):!1}});(function(a){var h={nodeName:"B",toggle:!0};a.commands.bold={exec:function(b,g){a.commands.formatInline.exec(b,g,h)},state:function(b,g){return a.commands.formatInline.state(b,g,h)}}})(wysihtml5);
(function(a){var h={nodeName:"A",toggle:!1};a.commands.createLink={exec:function(b,g,f){f=a.lang.object({}).merge(h).merge({attribute:f}).get();if(b.selection.isCollapsed()&&!this.state(b,g)){var e=b.doc.createTextNode(f.attribute.href);b.selection.insertNode(e);b.selection.selectNode(e)}a.commands.formatInline.exec(b,g,f)},state:function(b,g){return a.commands.formatInline.state(b,g,h)}}})(wysihtml5);
(function(a){var h={nodeName:"A"};a.commands.removeLink={exec:function(b,g){a.commands.formatInline.remove(b,g,h)},state:function(b,g){return a.commands.formatInline.state(b,g,h)}}})(wysihtml5);(function(a){var h=/wysiwyg-font-size-[0-9a-z\-]+/g;a.commands.fontSize={exec:function(b,g,f){a.commands.formatInline.exec(b,g,{className:"wysiwyg-font-size-"+f,classRegExp:h,toggle:!0})},state:function(b,g,f){return a.commands.formatInline.state(b,g,{className:"wysiwyg-font-size-"+f})}}})(wysihtml5);
(function(a){a.commands.fontSizeStyle={exec:function(h,b,g){g=g.size||g;/^\s*$/.test(g)||a.commands.formatInline.exec(h,b,{styleProperty:"fontSize",styleValue:g,toggle:!1})},state:function(h,b,g){return a.commands.formatInline.state(h,b,{styleProperty:"fontSize",styleValue:g||void 0})},remove:function(h,b){return a.commands.formatInline.remove(h,b,{styleProperty:"fontSize"})},stateValue:function(h,b){var g;(g=this.state(h,b))&&a.lang.object(g).isArray()&&(g=g[0]);return g&&(g=g.getAttribute("style"))?
a.quirks.styleParser.parseFontSize(g):!1}}})(wysihtml5);(function(a){var h=/wysiwyg-color-[0-9a-z]+/g;a.commands.foreColor={exec:function(b,g,f){a.commands.formatInline.exec(b,g,{className:"wysiwyg-color-"+f,classRegExp:h,toggle:!0})},state:function(b,g,f){return a.commands.formatInline.state(b,g,{className:"wysiwyg-color-"+f})}}})(wysihtml5);
(function(a){a.commands.foreColorStyle={exec:function(h,b,g){g&&(g=a.quirks.styleParser.parseColor("color:"+(g.color||g),"color"))&&(g=(1===g[3]?"rgb("+[g[0],g[1],g[2]].join(", "):"rgba("+g.join(", "))+")",a.commands.formatInline.exec(h,b,{styleProperty:"color",styleValue:g}))},state:function(h,b,g){g=g?a.quirks.styleParser.parseColor("color:"+(g.color||g),"color"):null;var f;g&&(f=(1===g[3]?"rgb("+[g[0],g[1],g[2]].join(", "):"rgba("+g.join(", "))+")");return a.commands.formatInline.state(h,b,{styleProperty:"color",
styleValue:f})},remove:function(h,b){return a.commands.formatInline.remove(h,b,{styleProperty:"color"})},stateValue:function(h,b,g){h=this.state(h,b);b=!1;h&&a.lang.object(h).isArray()&&(h=h[0]);return h&&(h=h.getAttribute("style"))?(b=a.quirks.styleParser.parseColor(h,"color"),a.quirks.styleParser.unparseColor(b,g)):!1}}})(wysihtml5);
(function(a){a.commands.bgColorStyle={exec:function(h,b,g){if(g=a.quirks.styleParser.parseColor("background-color:"+(g.color||g),"background-color"))g=(1===g[3]?"rgb("+[g[0],g[1],g[2]].join(", "):"rgba("+g.join(", "))+")",a.commands.formatInline.exec(h,b,{styleProperty:"backgroundColor",styleValue:g})},state:function(h,b,g){g=g?a.quirks.styleParser.parseColor("background-color:"+(g.color||g),"background-color"):null;var f;g&&(f=(1===g[3]?"rgb("+[g[0],g[1],g[2]].join(", "):"rgba("+g.join(", "))+")");
return a.commands.formatInline.state(h,b,{styleProperty:"backgroundColor",styleValue:f})},remove:function(h,b){return a.commands.formatInline.remove(h,b,{styleProperty:"backgroundColor"})},stateValue:function(h,b,g){h=this.state(h,b);b=!1;h&&a.lang.object(h).isArray()&&(h=h[0]);return h&&(h=h.getAttribute("style"))?(b=a.quirks.styleParser.parseColor(h,"background-color"),a.quirks.styleParser.unparseColor(b,g)):!1}}})(wysihtml5);
(function(a){function h(a,b){return 3===a.nodeType?a:a.childNodes[b]||a}function b(a){return a&&1===a.nodeType&&"BR"===a.nodeName}function g(a){return a&&1===a.nodeType&&a.classList.contains("rangySelectionBoundary")}function f(a,e){return b(a)||a&&1===a.nodeType&&"block"===e.win.getComputedStyle(a).display}function e(b,e){a.dom.removeInvisibleSpaces(b.element);for(var f=b.element,g=f.querySelectorAll("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"),h=b.config.classNames.uneditableContainer+[""].concat("h1; h2; h3; h4; h5; h6; p; pre; div; blockquote".split(";")).join(", "+
b.config.classNames.uneditableContainer+" "),f=f.querySelectorAll(h),g=a.lang.array(g).without(f),h=g.length;h--;)""!==g[h].innerHTML.replace(/[\uFEFF]/g,"")||0!==e.length&&g[h]===e[e.length-1]||(f=a.lang.array(e).indexOf(g[h]),-1<f&&e.splice(f,1),g[h].parentNode.removeChild(g[h]));return e}function l(a,b,e){for(var f=null;a&&b&&a!==b;)1===a.nodeType&&a.matches(e?"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote":"h1, h2, h3, h4, h5, h6, p, pre")&&(f=a),a=a.parentNode;return f}function k(b,e,f){b||
(b=f.doc.createElement(e.nodeName||(f.config.useLineBreaks?"DIV":"P")),b.appendChild(f.doc.createTextNode(a.INVISIBLE_SPACE)));e.nodeName&&b.nodeName!==e.nodeName&&(b=z.renameElement(b,e.nodeName));e.classRegExp&&(b.className=b.className.replace(e.classRegExp,""));e.className&&b.classList.add(e.className);e.styleProperty&&"undefined"!==typeof e.styleValue&&(b.style[a.browser.fixStyleKey(e.styleProperty)]=e.styleValue);return b}function n(b){b=b.querySelectorAll("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote")||
[];for(var e,f=b.length;f--;)e=a.dom.domNode(b[f]).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),a.dom.domNode(b[f]).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),e&&1!==e.nodeType&&"BR"!==e.nodeName&&""!==(b[f].innerHTML||b[f].nodeValue||"").trim()&&b[f].parentNode.insertBefore(b[f].ownerDocument.createElement("BR"),e),e&&1!==e.nodeType&&"BR"!==e.nodeName&&""!==(b[f].innerHTML||b[f].nodeValue||"").trim()&&b[f].parentNode.insertBefore(b[f].ownerDocument.createElement("BR"),e),a.dom.unwrap(b[f])}function m(b){for(var e=
[],f,g,h,k,l,m,n=0,q=b.length;n<q;n++){1===b[n].startContainer.nodeType&&b[n].startContainer.matches("ul, ol")&&b[n].setStart(b[n].startContainer.childNodes[b[n].startOffset],0);1===b[n].endContainer.nodeType&&b[n].endContainer.matches("ul, ol")&&(m=b[n].endContainer.childNodes[Math.max(b[n].endOffset-1,0)],m.childNodes&&b[n].setEnd(m,m.childNodes.length));f=b[n].getNodes([1],function(a){return"LI"===a.nodeName});if(0<f.length)for(g=0,h=f.length;g<h;g++){l=b[n].compareNode(f[g]);if(l===b[n].NODE_AFTER||
l===b[n].NODE_INSIDE)k=b[n].cloneRange(),(m=a.dom.domNode(f[g]).prev({nodeTypes:[1]}))?k.setEnd(m,m.childNodes.length):f[g].closest("ul, ol")?k.setEndBefore(f[g].closest("ul, ol")):k.setEndBefore(f[g]),e.push(k),b[n].setStart(f[g],0);if(l===b[n].NODE_BEFORE||l===b[n].NODE_INSIDE)k=b[n].cloneRange(),k.setEnd(f[g],f[g].childNodes.length),e.push(k),(m=a.dom.domNode(f[g]).next({nodeTypes:[1]}))?b[n].setStart(m,0):f[g].closest("ul, ol")?b[n].setStartAfter(f[g].closest("ul, ol")):b[n].setStartAfter(f[g])}e.push(b[n])}return e}
function p(b,e,g,h){var k,m,n=e.startContainer;if(h=h||l(n,g.element,!0))e=b.firstChild,m=b.lastChild,g.selection.splitElementAtCaret(h,b),k=a.dom.domNode(m).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),b=a.dom.domNode(e).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),e&&!f(e,g)&&b&&!f(b,g)&&e.parentNode.insertBefore(g.doc.createElement("br"),e),m&&!f(m,g)&&k&&!f(k,g)&&k.parentNode.insertBefore(g.doc.createElement("br"),k);else{h=g.element;for(var q=n,n=null,p;q&&h&&q!==h;)1===q.nodeType&&q.matches("b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u")&&
(k=q,null===n?m=n=q.cloneNode(!1):(p=q.cloneNode(!1),p.appendChild(n),n=p)),q=q.parentNode;if((h=n)&&m&&k){if(1===b.childNodes.length){for(;b.firstChild.firstChild;)m.appendChild(b.firstChild.firstChild);b.firstChild.appendChild(h)}g.selection.splitElementAtCaret(k,b)}else g=b.firstChild,m=b.lastChild,e.insertNode(b),e.setStartBefore(g),e.setEndAfter(m)}}function r(b,e,g){b=b.cloneRange();var k=h(b.startContainer,b.startOffset).previousSibling,l=h(b.endContainer,b.endOffset).nextSibling,m=b.extractContents();
e=g.doc.createDocumentFragment();for(var q;m.firstChild;)if(1===m.firstChild.nodeType&&m.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote")){n(m.firstChild);q=a.dom.unwrap(m.firstChild);0<q.length&&(e.lastChild&&(1!==e.lastChild.nodeType||!f(e.lastChild,g))||!e.lastChild&&k&&(1!==k.nodeType||f(k,g)))&&e.appendChild(g.doc.createElement("BR"));for(var r=0,u=q.length;r<u;r++)e.appendChild(q[r]);0<q.length&&(1===e.lastChild.nodeType&&f(e.lastChild,g)||(l||e.lastChild!==m.lastChild)&&
e.appendChild(g.doc.createElement("BR")))}else e.appendChild(m.firstChild);k=a.lang.array(e.childNodes).get();p(e,b,g);return k}function q(e,f,g,m){var q=f?{nodeName:f.nodeName||null,className:f.classRegExp?null:f.className||null,classRegExp:f.classRegExp||null,styleProperty:f.styleProperty||null}:null;e=e.cloneRange();var r=e.startContainer,u=h(e.startContainer,e.startOffset),w=h(e.endContainer,e.endOffset),x;if(x=e.startContainer===u&&3===u.nodeType)x=u.data?u.data.slice(0,e.startOffset):"",x=!/^\s*$/.test(x);
var u=x?u:a.dom.domNode(u).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),w=1===e.endContainer.nodeType&&e.endContainer.childNodes[e.endOffset]===w&&(1===w.nodeType||!B(w,e.endOffset)&&!a.dom.domNode(w).is.rangyBookmark())||e.endContainer===w&&3===w.nodeType&&!B(w,e.endOffset)?w:a.dom.domNode(w).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),y=e.extractContents();x=m.doc.createDocumentFragment();var q=q?a.dom.getParentElement(r,q,null,m.element):null,z=!g||!f||"BLOCKQUOTE"===f.nodeName&&"BLOCKQUOTE"===
g,r=q||l(r,m.element,z);a.dom.domNode(w).is.rangyBookmark()&&(w=w.nextSibling);if(y){for(;y.firstChild&&3===y.firstChild.nodeType&&/^\s*$/.test(y.firstChild.data)&&y.lastChild!==y.firstChild;)y.removeChild(y.firstChild);for(;y.lastChild&&3===y.lastChild.nodeType&&/^\s*$/.test(y.lastChild.data)&&y.lastChild!==y.firstChild;)y.removeChild(y.lastChild);y.firstChild&&1===y.firstChild.nodeType&&"BR"===y.firstChild.nodeName&&y.lastChild!==y.firstChild&&y.removeChild(y.firstChild);y.lastChild&&1===y.lastChild.nodeType&&
"BR"===y.lastChild.nodeName&&y.lastChild!==y.firstChild&&y.removeChild(y.lastChild)}if(f&&"BLOCKQUOTE"===f.nodeName)f=k(null,f,m),f.appendChild(y),x.appendChild(f),f=[f];else{if(y.firstChild)for(;y.firstChild;)if(1==y.firstChild.nodeType&&y.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"))k(y.firstChild,f,m),y.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre")&&n(y.firstChild),x.appendChild(y.firstChild);else{var q=g,z=m,R=f?a.lang.object(f).clone(!0):null;R&&(R.nodeName=R.nodeName||
q||(z.config.useLineBreaks?"DIV":"P"));for(q=k(null,R,m);y.firstChild&&(1!==y.firstChild.nodeType||!y.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"));)1==y.firstChild.nodeType&&q.matches("h1, h2, h3, h4, h5, h6, p, pre")&&n(y.firstChild),q.appendChild(y.firstChild);x.appendChild(q)}else x.appendChild(k(null,f,m));f=a.lang.array(x.childNodes).get()}p(x,e,m,r);e=w;g=u&&a.dom.domNode(u).prev({nodeTypes:[1,3],ignoreBlankTexts:!0});b(e)&&e.parentNode.removeChild(e);!b(u)||g&&1===
g.nodeType&&"block"===m.win.getComputedStyle(g).display||u.parentNode.removeChild(u);0<f.length&&("undefined"===typeof f[f.length-1].lastChild||a.dom.domNode(f[f.length-1].lastChild).is.rangyBookmark())&&f[f.length-1].appendChild(m.doc.createElement("br"));return f}function u(b,e){var f=a.dom.getParentElement(b.selection.getOwnRanges()[0].startContainer,{query:"h1, h2, h3, h4, h5, h6, p, pre, "+(e?e.toLowerCase():"div")},null,b.element),g;f?(g=b.selection.createRange(),g.selectNode(f),b.selection.setSelection(g)):
b.isEmpty()||b.selection.selectLine()}function w(a,b){var e=b.selection.createRange(),f=a[a.length-1],g=1===f.nodeType&&f.childNodes?f.childNodes.length|0:f.length||0;e.setStart(a[0],0);e.setEnd(f,g);e.select()}function y(b,e,f){for(var g=e.selection.getOwnRanges(),h=[],k,g=m(g),l=g.length;l--;){k=g[l];var n=e,p=void 0,p=k.startContainer,u=k.endContainer;p&&1===p.nodeType&&p===u?p.firstChild===p.lastChild&&1===k.endOffset&&p!==n.element&&"LI"!==p.nodeName&&"TD"!==p.nodeName&&(k.setStartBefore(p),
k.setEndAfter(u)):p&&1===p.nodeType&&3===u.nodeType?p.firstChild===u&&k.endOffset===u.data.length&&p!==n.element&&"LI"!==p.nodeName&&"TD"!==p.nodeName&&k.setEndAfter(p):u&&1===u.nodeType&&3===p.nodeType?u.firstChild===p&&0===k.startOffset&&u!==n.element&&"LI"!==u.nodeName&&"TD"!==u.nodeName&&k.setStartBefore(u):p&&3===p.nodeType&&p===u&&1===p.parentNode.childNodes.length&&k.endOffset==u.data.length&&0===k.startOffset&&(p=p.parentNode,p!==n.element&&"LI"!==p.nodeName&&"TD"!==p.nodeName&&(k.setStartBefore(p),
k.setEndAfter(p)));k=(k=a.dom.getParentElement(g[l].startContainer,{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},null,e.element))?k.nodeName:null;h="remove"===b?h.concat(r(g[l],k,e)):h.concat(q(g[l],f,k,e))}return h}function x(a){"string"===typeof a&&(a={nodeName:a.toUpperCase()});return a}var z=a.dom,B=function(a,b){var e=a.data?a.data.slice(b):"";return/^\s*$/.test(e)};a.commands.formatBlock={exec:function(f,h,k){k=x(k);var l=[],m,n;k&&k.toggle&&(n=this.state(f,h,k));if(n){m=rangy.saveSelection(f.win);
h=0;for(var q=n.length;h<q;h++){var p=n[h],r=k,B=f,L=void 0,R=p.previousSibling,Q=p.nextSibling,X=!1;r.styleProperty&&(p.style[a.browser.fixStyleKey(r.styleProperty)]="");r.className&&p.classList.remove(r.className);r.classRegExp&&(p.className=p.className.replace(r.classRegExp,""));null!==p.getAttribute("class")&&""===p.getAttribute("class").trim()&&p.removeAttribute("class");r.nodeName&&p.nodeName.toLowerCase()===r.nodeName.toLowerCase()&&((L=p.getAttribute("style"))&&""!==L.trim()?p=z.renameElement(p,
B.config.useLineBreaks?"DIV":"P"):(z.unwrap(p),X=!0));null!==p.getAttribute("style")&&""===p.getAttribute("style").trim()&&p.removeAttribute("style");X&&((p=R)&&g(p)&&(p=p.previousSibling),Q&&g(Q)&&(Q=Q.nextSibling),p&&(1!==p.nodeType||"block"!==B.win.getComputedStyle(p).display&&!b(p))&&p.parentNode&&p.parentNode.insertBefore(B.doc.createElement("br"),p.nextSibling),Q&&(1!==Q.nodeType||"block"!==B.win.getComputedStyle(Q).display)&&Q.parentNode&&Q.parentNode.insertBefore(B.doc.createElement("br"),
Q))}}else{if(f.selection.isCollapsed()){m=rangy.saveSelection(f.win);a:{if(f.selection.isCollapsed()&&(l=f.selection.getNodesNearCaret())&&l.caretNode&&(a.dom.domNode(l.caretNode).is.lineBreak()||3===l.caretNode.nodeType&&0===l.textOffset&&(!l.prevNode||a.dom.domNode(l.prevNode).is.lineBreak())||1===l.caretNode.nodeType&&l.caretNode.classList.contains("rangySelectionBoundary")&&(!l.prevNode||a.dom.domNode(l.prevNode).is.lineBreak()||a.dom.domNode(l.prevNode).is.block())&&(!l.nextNode||a.dom.domNode(l.nextNode).is.lineBreak()||
a.dom.domNode(l.nextNode).is.block()))){l=!0;break a}l=!1}l?f.selection.selectLine():u(f,k&&k.nodeName?k.nodeName.toUpperCase():void 0)}l=k?y("apply",f,k):y("remove",f)}l=e(f,l);m?rangy.restoreSelection(m):w(l,f)},remove:function(a,b,f){f=x(f);var g;a.selection.isCollapsed()&&(g=rangy.saveSelection(a.win),u(a,f&&f.nodeName?f.nodeName.toUpperCase():void 0));b=y("remove",a);b=e(a,b);g?rangy.restoreSelection(g):w(b,a)},state:function(b,e,f){f=x(f);e=b.selection.filterElements(function(b){return a.dom.domNode(b).test(f||
{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"})}.bind(this));for(var g=b.selection.getSelectedOwnNodes(),h,k=0,l=g.length;k<l;k++)(h=z.getParentElement(g[k],f||{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},null,b.element))&&-1===e.indexOf(h)&&e.push(h);return 0===e.length?!1:e}}})(wysihtml5);
(function(a){a.commands.formatCode={exec:function(h,b,g){var f=this.state(h)[0],e,l;f?h.selection.executeAndRestore(function(){e=f.querySelector("code");a.dom.replaceWithChildNodes(f);e&&a.dom.replaceWithChildNodes(e)}):(b=h.selection.getRange(),l=b.extractContents(),f=h.doc.createElement("pre"),e=h.doc.createElement("code"),g&&(e.className=g),f.appendChild(e),e.appendChild(l),b.insertNode(f),h.selection.selectNode(f))},state:function(h){return(h=h.selection.getSelectedNode())&&h.nodeName&&"PRE"==
h.nodeName&&h.firstChild&&h.firstChild.nodeName&&"CODE"==h.firstChild.nodeName?[h]:(h=a.dom.getParentElement(h,{query:"pre code"}))?[h.parentNode]:!1}}})(wysihtml5);
(function(a){function h(a){return!a.getAttribute("style")||/^\s*$/.test(a.getAttribute("style"))}function b(b,e){var f,g;if(1!==b.nodeType||1!==e.nodeType||b.nodeName!==e.nodeName)return!1;f=b.className.trim().replace(/\s+/g," ").split(" ");g=e.className.trim().replace(/\s+/g," ").split(" ");if(0<a.lang.array(f).without(g).length)return!1;f=a.dom.getAttributes(b);g=a.dom.getAttributes(e);return f.length===g.length&&a.lang.object(a.lang.object(f).difference(g)).isEmpty()?!0:!1}function g(b,e){var f=
b.ownerDocument.createElement(e&&e.nodeName||"SPAN");e.classRegExp&&(f.className=f.className.replace(e.classRegExp,""));e.className&&f.classList.add(e.className);e.styleProperty&&"undefined"!==typeof e.styleValue&&(f.style[a.browser.fixStyleKey(e.styleProperty)]=e.styleValue);if(e.attribute)if("object"===typeof e.attribute)for(var g in e.attribute)e.attribute.hasOwnProperty(g)&&f.setAttribute(g,e.attribute[g]);else"undefined"!==typeof e.attributeValue&&f.setAttribute(e.attribute,e.attributeValue);
return f}function f(b,e){var f,g;e.className&&(!1!==e.toggle&&b.classList.contains(e.className)?b.classList.remove(e.className):(e.classRegExp&&(b.className=b.className.replace(e.classRegExp,"")),b.classList.add(e.className)),/^\s*$/.test(b.className)&&b.removeAttribute("class"));e.styleProperty&&(!1!==e.toggle&&b.style[a.browser.fixStyleKey(e.styleProperty)].trim().replace(/, /g,",")===e.styleValue?b.style[a.browser.fixStyleKey(e.styleProperty)]="":b.style[a.browser.fixStyleKey(e.styleProperty)]=
e.styleValue);h(b)&&b.removeAttribute("style");if(e.attribute){"object"===typeof e.attribute?f=e.attribute:(f={},f[e.attribute]=e.attributeValue||"");var k=e.toggle,l=a.dom.getAttributes(b),m;a:{for(m in f)if(f.hasOwnProperty(m)&&(void 0===typeof l[m]||l[m]!==f[m])){m=!1;break a}m=!0}a.lang.object(l).difference(f);if(m&&!1!==k)for(g in f)f.hasOwnProperty(g)&&b.removeAttribute(g);else for(g in f)f.hasOwnProperty(g)&&b.setAttribute(g,f[g])}g=(g=e.nodeName?D[e.nodeName.toLowerCase()]||e.nodeName.toLowerCase():
null)?a.dom.domNode(b).test({query:g}):!1;if(!e.nodeName||"SPAN"===e.nodeName||g){if(g=(!1!==e.toggle&&g||!e.nodeName&&"SPAN"===b.nodeName)&&/^\s*$/.test(b.className)&&h(b))g=a.dom.getAttributes(b),g=a.lang.object(g).isEmpty();g&&a.dom.unwrap(b)}}function e(b,e){var f=[];b.isCollapsed()||(f=f.concat(b.getOwnNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()},e)));return f}function l(b,e,f,g){e=g?e:{nodeName:e.nodeName||null,className:e.classRegExp?null:e.className||null,classRegExp:e.classRegExp||
null,styleProperty:e.styleProperty||null};do{if(g=1===b.nodeType){g=b;var h=e,k=void 0;h.nodeName?(h=D[h.nodeName.toLowerCase()]||h.nodeName.toLowerCase(),g=a.dom.domNode(g).test({query:h})):(k=a.lang.object(h).clone(),k.query="b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u",g=a.dom.domNode(g).test(k))}if(g)return b;b=b.parentNode}while(b&&b!==f);return null}function k(b,e){var f=document.documentElement||
document.body,g=f.scrollTop,h=f.scrollLeft;rangy.getSelection(b.win);rangy.getSelection(b.win).removeAllRanges();try{rangy.getSelection(b.win).addRange(e)}catch(k){}b.doc.activeElement&&a.dom.contains(b.element,b.doc.activeElement)||(b.element.focus(),f.scrollTop=g,f.scrollLeft=h,rangy.getSelection(b.win).addRange(e))}function n(a,b){var e=rangy.createRange(b.doc),f=a[a.length-1];a[0]&&f&&(e.setStart(a[0],0),e.setEnd(f,f.length),k(b,e))}function m(a,b,e,f){var g=rangy.createRange(a.doc);b&&(g.setStart(b,
e),g.setEnd(b,"undefined"!==typeof f?f:e),k(a,g))}function p(a,b,f){var g=e(a.selection),h=[],k=!1,m;if(a.selection.isInThisEditable()){if(0===g.length&&a.selection.isCollapsed()){m=a.selection.getSelection().anchorNode;if(!m)return{nodes:[],partial:!1};3===m.nodeType&&(g=[m])}g.length||(m=a.selection.getOwnRanges()[0])&&(g=[m.endContainer]);for(var n=0,p=g.length;n<p;n++)(m=l(g[n],b,a.element,f))?h.push(m):k=!0}return{nodes:h,partial:k}}function r(a){var b,e;return a&&(b=a.anchorNode,e=a.anchorOffset,
b&&3===b.nodeType&&0<e&&e<b.data.length)?(a=b.data[e-1],b=b.data[e],/\w/.test(a)&&/\w/.test(b)):!1}function q(b){var e,f,g,h;e=[];if(b&&(e=b.anchorNode,b=g=h=b.anchorOffset,f=e.ownerDocument,f=rangy.createRange(f),e&&3===e.nodeType)){for(;0<g&&/\w/.test(e.data[g-1]);)g--;for(;h<e.data.length&&/\w/.test(e.data[h]);)h++;f.setStartAndEnd(e,g,h);f.splitBoundaries();e=f.getNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()});return{wordOffset:b-g,range:f,textNode:e[0]}}return!1}function u(a){for(var e=
a.length;e--;)if(a[e]&&a[e].parentNode){if(a[e].nextSibling&&b(a[e],a[e].nextSibling)){for(var f=a[e],g=a[e].nextSibling;g.firstChild;)f.appendChild(g.firstChild);g.parentNode.removeChild(g)}if(a[e].previousSibling&&b(a[e],a[e].previousSibling)){f=a[e].previousSibling;for(g=a[e];g.firstChild;)f.appendChild(g.firstChild);g.parentNode.removeChild(g)}}}function w(a,b,e){0<b.length&&n(b,a);u(p(a,e).nodes);0<b.length&&n(b,a)}function y(a,b,e,f){m(a,b,e);u(p(a,f).nodes);m(a,b,e)}function x(a,b){var e=g(a,
b);a.parentNode.insertBefore(e,a);e.appendChild(a)}function z(b,e,g){e=l(b,g,e.element);var h;e&&(h=e.cloneNode(!1),a.dom.domNode(b).escapeParent(e,h),f(h,g))}function B(a){a="string"===typeof a?{nodeName:a}:a;a.nodeName&&(a.nodeName=a.nodeName.toUpperCase());return a}var D={b:"b, strong",strong:"b, strong",em:"em, i",i:"em, i"};a.commands.formatInline={exec:function(b,h,k){k=B(k);b.element.normalize();h=e(b.selection,!0);var m=p(b,k);if(0<m.nodes.length){var n=p(b,k,!0),u=b.selection.getSelection();
if(h.length){if(n.partial||!1===k.toggle)for(n=h.length;n--;)l(h[n],k,b.element)&&z(h[n],b,k),l(h[n],k,b.element)||x(h[n],k);else for(n=h.length;n--;)z(h[n],b,k);w(b,h,k)}else if(!1!==k.toggle)if(r(u))h=q(u),z(h.textNode,b,k),y(b,h.textNode,h.wordOffset,k);else{if(h=b.doc.createTextNode(a.INVISIBLE_SPACE),n=m.nodes[0].cloneNode(!1),n.appendChild(h),b.selection.splitElementAtCaret(m.nodes[0],n),f(n,k),w(b,[h],k),h=b.selection.getSelection(),h.anchorNode&&h.focusNode)try{h.collapseToEnd()}catch(D){}}else for(n=
m.nodes.length;n--;)f(m.nodes[n],k)}else if(m=k,k=b.selection.getSelection(),h.length){for(k=h.length;k--;)x(h[k],m);w(b,h,m)}else if(r(k))h=q(k),x(h.textNode,m),y(b,h.textNode,h.wordOffset,m);else if(h=b.selection.getOwnRanges()[0])m=g(h.endContainer,m),h.surroundContents(m),b.selection.selectNode(m);b.element.normalize()},remove:function(b,f,g){g=B(g);b.element.normalize();f=e(b.selection,!0);var h=p(b,g);if(0<h.nodes.length){var k,m;m=b.selection.getSelection();if(f.length){for(m=f.length;m--;)h=
f[m],(k=l(h,g,b.element))&&a.dom.domNode(h).escapeParent(k);w(b,f,g)}else{f=m.anchorNode;k=m.anchorOffset;for(m=h.nodes.length;m--;)a.dom.unwrap(h.nodes[m]);y(b,f,k,g)}}b.element.normalize()},state:function(a,b,e){e=B(e);a=p(a,e,!0).nodes;return 0===a.length?!1:a}}})(wysihtml5);
(function(a){var h={nodeName:"BLOCKQUOTE",toggle:!0};a.commands.insertBlockQuote={exec:function(b,g){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,g){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);(function(a){a.commands.insertHTML={exec:function(a,b,g){a.selection.insertHTML(g)},state:function(){return!1}}})(wysihtml5);
(function(a){a.commands.insertImage={exec:function(h,b,g){g="object"===typeof g?g:{src:g};var f=h.doc;if((b=this.state(h))&&!g.src)h.selection.setBefore(b),g=b.parentNode,g.removeChild(b),a.dom.removeEmptyTextNodes(g),"A"!==g.nodeName||g.firstChild||(h.selection.setAfter(g),g.parentNode.removeChild(g)),a.quirks.redraw(h.element);else if(b)for(var e in g)g.hasOwnProperty(e)&&b.setAttribute("className"===e?"class":e,g[e]);else{b=f.createElement("IMG");for(var l in g)b.setAttribute("className"===l?"class":
l,g[l]);h.selection.insertNode(b);a.browser.hasProblemsSettingCaretAfterImg()?(g=f.createTextNode(a.INVISIBLE_SPACE),h.selection.insertNode(g),h.selection.setAfter(g)):h.selection.setAfter(b)}},state:function(h){var b;if(!a.dom.hasElementWithTagName(h.doc,"IMG"))return!1;b=h.selection.getSelectedNode();if(!b)return!1;if("IMG"===b.nodeName)return b;if(b.nodeType!==a.ELEMENT_NODE)return!1;b=h.selection.getText();if(b=a.lang.string(b).trim())return!1;h=h.selection.getNodes(a.ELEMENT_NODE,function(a){return"IMG"===
a.nodeName});return 1!==h.length?!1:h[0]}}})(wysihtml5);(function(a){var h="<br>"+(a.browser.needsSpaceAfterLineBreak()?" ":"");a.commands.insertLineBreak={exec:function(a,g){a.selection.insertHTML(h)},state:function(){return!1}}})(wysihtml5);(function(a){a.commands.insertOrderedList={exec:function(h,b){a.commands.insertList.exec(h,b,"OL")},state:function(h,b){return a.commands.insertList.state(h,b,"OL")}}})(wysihtml5);
(function(a){a.commands.insertUnorderedList={exec:function(h,b){a.commands.insertList.exec(h,b,"UL")},state:function(h,b){return a.commands.insertList.state(h,b,"UL")}}})(wysihtml5);
wysihtml5.commands.insertList=function(a){var h=function(a,b){if(a&&a.nodeName){"string"===typeof b&&(b=[b]);for(var e=b.length;e--;)if(a.nodeName===b[e])return!0}return!1},b=function(b,e,f){var g={el:null,other:!1};if(b){var p=a.dom.getParentElement(b,{query:"li"},!1,f.element),r="UL"===e?"OL":"UL";h(b,e)?g.el=b:h(b,r)?g={el:b,other:!0}:p&&(h(p.parentNode,e)?g.el=p.parentNode:h(p.parentNode,r)&&(g={el:p.parentNode,other:!0}))}g.el&&!f.element.contains(g.el)&&(g.el=null);return g},g=function(b,f,
g){var h="UL"===f?"OL":"UL",p,r;g.selection.executeAndRestoreRangy(function(){p=e(h,g);if(p.length)for(var q=p.length;q--;)a.dom.renameElement(p[q],f.toLowerCase());else{r=e(["OL","UL"],g);for(q=r.length;q--;)a.dom.resolveList(r[q],g.config.useLineBreaks);0===r.length&&a.dom.resolveList(b,g.config.useLineBreaks)}})},f=function(b,f,g){var h="UL"===f?"OL":"UL";g.selection.executeAndRestoreRangy(function(){for(var p=[b].concat(e(h,g)),r=p.length;r--;)a.dom.renameElement(p[r],f.toLowerCase())})},e=function(a,
b){for(var e=b.selection.getOwnRanges(),f=[],g=e.length;g--;)f=f.concat(e[g].getNodes([1],function(b){return h(b,a)}));return f};return{exec:function(e,h,n){h=e.doc;var m="OL"===n?"insertOrderedList":"insertUnorderedList",p=e.selection.getSelection(),r=1===p.anchorNode.nodeType&&p.anchorNode.firstChild?p.anchorNode.childNodes[p.anchorOffset]:p.anchorNode,q=1===p.focusNode.nodeType&&p.focusNode.firstChild?p.focusNode.childNodes[p.focusOffset]||p.focusNode.lastChild:p.focusNode;p.isBackwards()&&(r=
[q,q=r][0]);a.dom.domNode(q).is.emptyTextNode(!0)&&q&&(q=a.dom.domNode(q).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}));a.dom.domNode(r).is.emptyTextNode(!0)&&r&&(r=a.dom.domNode(r).next({nodeTypes:[1,3],ignoreBlankTexts:!0}));p=r&&q?r===q?r:a.dom.domNode(r).commonAncestor(q,e.element):e.selection.getSelectedNode();p=b(p,n,e);p.el?p.other?f(p.el,n,e):g(p.el,n,e):e.commands.support(m)?h.execCommand(m,!1,null):(h=rangy.saveSelection(e.win),m="_wysihtml5-temp-"+(new Date).getTime(),e.commands.exec("formatBlock",
{nodeName:"div",className:m}),p=e.element.querySelector("."+m),p.innerHTML=p.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,""),p&&(m=/^(\s|(<br>))+$/i.test(p.innerHTML),n=a.dom.convertToList(p,n.toLowerCase(),e.parent.config.classNames.uneditableContainer),h&&rangy.restoreSelection(h),m&&e.selection.selectNode(n.querySelector("li"),!0)))},state:function(a,e,f){e=a.selection.getSelectedNode();a=b(e,f,a);return a.el&&!a.other?a.el:!1}}}(wysihtml5);
(function(a){var h={nodeName:"I",toggle:!0};a.commands.italic={exec:function(b,g){a.commands.formatInline.exec(b,g,h)},state:function(b,g){return a.commands.formatInline.state(b,g,h)}}})(wysihtml5);(function(a){var h={className:"wysiwyg-text-align-center",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyCenter={exec:function(b,g){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,g){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={className:"wysiwyg-text-align-left",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyLeft={exec:function(b,g){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,g){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={className:"wysiwyg-text-align-right",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyRight={exec:function(b,g){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,g){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={className:"wysiwyg-text-align-justify",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyFull={exec:function(b,g){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,g){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"right",toggle:!0};a.commands.alignRightStyle={exec:function(b,g){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,g){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"left",toggle:!0};a.commands.alignLeftStyle={exec:function(b,g){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,g){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"center",toggle:!0};a.commands.alignCenterStyle={exec:function(b,g){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,g){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"justify",toggle:!0};a.commands.alignJustifyStyle={exec:function(b,g){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,g){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);(function(a){a.commands.redo={exec:function(a){return a.undoManager.redo()},state:function(a){return!1}}})(wysihtml5);
(function(a){var h={nodeName:"U",toggle:!0};a.commands.underline={exec:function(b,g){a.commands.formatInline.exec(b,g,h)},state:function(b,g){return a.commands.formatInline.state(b,g,h)}}})(wysihtml5);(function(a){a.commands.undo={exec:function(a){return a.undoManager.undo()},state:function(a){return!1}}})(wysihtml5);
(function(a){a.commands.createTable={exec:function(a,b,g){var f,e;if(g&&g.cols&&g.rows&&0<parseInt(g.cols,10)&&0<parseInt(g.rows,10)){e=g.tableStyle?'<table style="'+g.tableStyle+'">':"<table>";e+="<tbody>";for(f=0;f<g.rows;f++){e+="<tr>";for(b=0;b<g.cols;b++)e+="<td><br></td>";e+="</tr>"}a.commands.exec("insertHTML",e+"</tbody></table>")}},state:function(a,b){return!1}}})(wysihtml5);
(function(a){a.commands.mergeTableCells={exec:function(h,b){h.tableSelection&&h.tableSelection.start&&h.tableSelection.end&&(this.state(h,b)?a.dom.table.unmergeCell(h.tableSelection.start):a.dom.table.mergeCellsBetween(h.tableSelection.start,h.tableSelection.end))},state:function(h,b){if(h.tableSelection){var g=h.tableSelection.start,f=h.tableSelection.end;if(g&&f&&g==f&&(a.dom.getAttribute(g,"colspan")&&1<parseInt(a.dom.getAttribute(g,"colspan"),10)||a.dom.getAttribute(g,"rowspan")&&1<parseInt(a.dom.getAttribute(g,
"rowspan"),10)))return[g]}return!1}}})(wysihtml5);(function(a){a.commands.addTableCells={exec:function(h,b,g){if(h.tableSelection&&h.tableSelection.start&&h.tableSelection.end){var f=a.dom.table.orderSelectionEnds(h.tableSelection.start,h.tableSelection.end);"before"==g||"above"==g?a.dom.table.addCells(f.start,g):"after"!=g&&"below"!=g||a.dom.table.addCells(f.end,g);setTimeout(function(){h.tableSelection.select(f.start,f.end)},0)}},state:function(a,b){return!1}}})(wysihtml5);
(function(a){a.commands.deleteTableCells={exec:function(h,b,g){if(h.tableSelection&&h.tableSelection.start&&h.tableSelection.end){b=a.dom.table.orderSelectionEnds(h.tableSelection.start,h.tableSelection.end);var f=a.dom.table.indexOf(b.start),e,l=h.tableSelection.table;a.dom.table.removeCells(b.start,g);setTimeout(function(){e=a.dom.table.findCell(l,f);e||("row"==g&&(e=a.dom.table.findCell(l,{row:f.row-1,col:f.col})),"column"==g&&(e=a.dom.table.findCell(l,{row:f.row,col:f.col-1})));e&&h.tableSelection.select(e,
e)},0)}},state:function(a,b){return!1}}})(wysihtml5);
(function(a){a.commands.indentList={exec:function(a,b,g){return(b=a.selection.getSelectionParentsByTag("LI"))?this.tryToPushLiLevel(b,a.selection):!1},state:function(a,b){return!1},tryToPushLiLevel:function(h,b){var g,f,e,l,k,n=!1;b.executeAndRestoreRangy(function(){for(var b=h.length;b--;)l=h[b],g="OL"===l.parentNode.nodeName?"OL":"UL",f=l.ownerDocument.createElement(g),k=(e=a.dom.domNode(l).prev({nodeTypes:[a.ELEMENT_NODE]}))?e.querySelector("ul, ol"):null,e&&(k?k.appendChild(l):(f.appendChild(l),
e.appendChild(f)),n=!0)});return n}}})(wysihtml5);
(function(a){a.commands.outdentList={exec:function(a,b,g){return(b=a.selection.getSelectionParentsByTag("LI"))?this.tryToPullLiLevel(b,a):!1},state:function(a,b){return!1},tryToPullLiLevel:function(h,b){var g,f,e,l,k,n=!1,m=this;b.selection.executeAndRestoreRangy(function(){for(var p=h.length;p--;)if(l=h[p],l.parentNode&&(g=l.parentNode,"OL"===g.tagName||"UL"===g.tagName)){n=!0;f=a.dom.getParentElement(g.parentNode,{query:"ol, ul"},!1,b.element);e=a.dom.getParentElement(g.parentNode,{query:"li"},
!1,b.element);if(f&&e)l.nextSibling&&(k=m.getAfterList(g,l),l.appendChild(k)),f.insertBefore(l,e.nextSibling);else{l.nextSibling&&(k=m.getAfterList(g,l),l.appendChild(k));for(var r=l.childNodes.length;r--;)g.parentNode.insertBefore(l.childNodes[r],g.nextSibling);g.parentNode.insertBefore(document.createElement("br"),g.nextSibling);l.parentNode.removeChild(l)}0===g.childNodes.length&&g.parentNode.removeChild(g)}});return n},getAfterList:function(a,b){for(var g=document.createElement(a.nodeName);b.nextSibling;)g.appendChild(b.nextSibling);
return g}}})(wysihtml5);(function(a){var h={nodeName:"SUB",toggle:!0};a.commands.subscript={exec:function(b,g){a.commands.formatInline.exec(b,g,h)},state:function(b,g){return a.commands.formatInline.state(b,g,h)}}})(wysihtml5);(function(a){var h={nodeName:"SUP",toggle:!0};a.commands.superscript={exec:function(b,g){a.commands.formatInline.exec(b,g,h)},state:function(b,g){return a.commands.formatInline.state(b,g,h)}}})(wysihtml5);
(function(a){var h=a.dom;a.UndoManager=a.lang.Dispatcher.extend({constructor:function(a){this.editor=a;this.composer=a.composer;this.element=this.composer.element;this.position=0;this.historyStr=[];this.historyDom=[];this.transact();this._observe()},_observe:function(){var a=this;this.composer.sandbox.getDocument();var g;h.observe(this.element,"keydown",function(f){if(!f.altKey&&(f.ctrlKey||f.metaKey)){var e=f.keyCode,g=90===e&&f.shiftKey||89===e;90!==e||f.shiftKey?g&&(a.redo(),f.preventDefault()):
(a.undo(),f.preventDefault())}});h.observe(this.element,"keydown",function(f){f=f.keyCode;f!==g&&(g=f,8!==f&&46!==f||a.transact())});this.editor.on("newword:composer",function(){a.transact()}).on("beforecommand:composer",function(){a.transact()})},transact:function(){var b=this.historyStr[this.position-1],g=this.composer.getValue(!1,!1),f=0<this.element.offsetWidth&&0<this.element.offsetHeight,e,h;g!==b&&(25<(this.historyStr.length=this.historyDom.length=this.position)&&(this.historyStr.shift(),this.historyDom.shift(),
this.position--),this.position++,f&&(b=(e=this.composer.selection.getRange())&&e.startContainer?e.startContainer:this.element,f=e&&e.startOffset?e.startOffset:0,b.nodeType===a.ELEMENT_NODE?e=b:(e=b.parentNode,h=this.getChildNodeIndex(e,b)),e.setAttribute("data-wysihtml5-selection-offset",f),"undefined"!==typeof h&&e.setAttribute("data-wysihtml5-selection-node",h)),h=this.element.cloneNode(!!g),this.historyDom.push(h),this.historyStr.push(g),e&&(e.removeAttribute("data-wysihtml5-selection-offset"),
e.removeAttribute("data-wysihtml5-selection-node")))},undo:function(){this.transact();this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return 1<this.position},redoPossible:function(){return this.position<this.historyStr.length},set:function(a){this.element.innerHTML="";for(var g=0,f=a.childNodes,e=a.childNodes.length;g<
e;g++)this.element.appendChild(f[g].cloneNode(!0));a.hasAttribute("data-wysihtml5-selection-offset")?(g=a.getAttribute("data-wysihtml5-selection-offset"),f=a.getAttribute("data-wysihtml5-selection-node"),a=this.element):(a=this.element.querySelector("[data-wysihtml5-selection-offset]")||this.element,g=a.getAttribute("data-wysihtml5-selection-offset"),f=a.getAttribute("data-wysihtml5-selection-node"),a.removeAttribute("data-wysihtml5-selection-offset"),a.removeAttribute("data-wysihtml5-selection-node"));
null!==f&&(a=this.getChildNodeByIndex(a,+f));this.composer.selection.set(a,g)},getChildNodeIndex:function(a,g){for(var f=0,e=a.childNodes,h=e.length;f<h;f++)if(e[f]===g)return f},getChildNodeByIndex:function(a,g){return a.childNodes[g]}})})(wysihtml5);
wysihtml5.views.View=Base.extend({constructor:function(a,h,b){this.parent=a;this.element=h;this.config=b;this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var a=this;this.parent.on("beforeload",function(){a.parent.on("change_view",function(h){h===a.name?(a.parent.currentView=a,a.show(),setTimeout(function(){a.focus()},0)):a.hide()})})},focus:function(){if(!this.element||!this.element.ownerDocument||this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element&&
this.element.focus()}catch(a){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}});
(function(a){var h=a.dom,b=a.browser;a.views.Composer=a.views.View.extend({name:"composer",constructor:function(a,b,e){this.base(a,b,e);this.config.noTextarea?this.editableArea=b:this.textarea=this.parent.textarea;this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=b.displaysCaretInEmptyContentEditableCorrectly()?"":"<br>"},getValue:function(b,f){var e=this.isEmpty()?"":a.quirks.getCorrectInnerHTML(this.element);!1!==b&&(e=this.parent.parse(e,
!1===f?!1:!0));return e},setValue:function(a,b){!1!==b&&(a=this.parent.parse(a));try{this.element.innerHTML=a}catch(e){this.element.innerText=a}},cleanUp:function(a){var b;this.selection&&this.selection.isInThisEditable()&&(b=rangy.saveSelection(this.win));this.parent.parse(this.element,void 0,a);b&&rangy.restoreSelection(b)},show:function(){this.editableArea.style.display=this._displayStyle||"";this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=
h.getStyle("display").from(this.editableArea);"none"===this._displayStyle&&(this._displayStyle=null);this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer");this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer");this.element.setAttribute("contentEditable","true")},focus:function(b){a.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear();this.base();var f=this.element.lastChild;b&&f&&this.selection&&
("BR"===f.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getScrollPos:function(){if(this.doc&&this.win){var a={};a.y="undefined"!==typeof this.win.pageYOffset?this.win.pageYOffset:(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollTop;a.x="undefined"!==typeof this.win.pageXOffset?this.win.pageXOffset:(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollLeft;return a}},setScrollPos:function(a){a&&
"undefined"!==typeof a.x&&"undefined"!==typeof a.y&&this.win.scrollTo(a.x,a.y)},getTextContent:function(){return h.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var a=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(a)||""===a||"<br>"===a||"<p></p>"===a||"<p><br></p>"===
a||this.hasPlaceholderSet()},_initContentEditableArea:function(){var a=this;this.config.noTextarea?this.sandbox=new h.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox},this.editableArea):(this.sandbox=new h.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox}),this.editableArea=this.sandbox.getContentEditable(),h.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var a=
this;this.sandbox=new h.Sandbox(function(){a._create()},{stylesheets:this.config.stylesheets,className:this.config.classNames.sandbox});this.editableArea=this.sandbox.getIframe();var b=this.textarea.element;h.insert(this.editableArea).after(b);this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var a=document.createElement("input");a.type="hidden";a.name="_wysihtml5_mode";a.value=1;h.insert(a).after(this.textarea.element)}},_create:function(){var g=this;
this.doc=this.sandbox.getDocument();this.win=this.sandbox.getWindow();this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body;this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1));this.selection=new a.Selection(this.parent,this.element,this.config.classNames.uneditableContainer);this.commands=new a.Commands(this.parent);this.config.noTextarea||h.copyAttributes("className spellcheck title lang dir accessKey".split(" ")).from(this.textarea.element).to(this.element);
this._initAutoLinking();h.addClass(this.element,this.config.classNames.composer);this.config.style&&!this.config.contentEditableMode&&this.style();this.observe();var f=this.config.name;f&&(h.addClass(this.element,f),this.config.contentEditableMode||h.addClass(this.editableArea,f));this.enable();!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();(f="string"===typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):
this.textarea.element.getAttribute("placeholder"))&&h.simulatePlaceholder(this.parent,this,f,this.config.classNames.placeholder);this.commands.exec("styleWithCSS",!1);this._initObjectResizing();this._initUndoManager();this._initLineBreaking();this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||b.isIos()||setTimeout(function(){g.focus(!0)},100);b.clearsContentEditableCorrectly()||a.quirks.ensureProperClearing(this);this.initSync&&
this.config.sync&&this.initSync();this.config.noTextarea||this.textarea.hide();this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var g=this,f=b.canDisableAutoLinking(),e=b.doesAutoLinkingInContentEditable();f&&this.commands.exec("AutoUrlDetect",!1,!1);if(this.config.autoLink){if(!e||e&&f)this.parent.on("newword:composer",function(){if(h.getTextContent(g.element).match(h.autoLink.URL_REG_EXP)){for(var b=g.selection.getSelectedNode(),e=g.element.querySelectorAll("."+g.config.classNames.uneditableContainer),
f=!1,k=e.length;k--;)a.dom.contains(e[k],b)&&(f=!0);f||h.autoLink(b,[g.config.classNames.uneditableContainer])}}),h.observe(this.element,"blur",function(){h.autoLink(g.element,[g.config.classNames.uneditableContainer])});var l=this.sandbox.getDocument().getElementsByTagName("a"),k=h.autoLink.URL_REG_EXP,n=function(b){b=a.lang.string(h.getTextContent(b)).trim();"www."===b.substr(0,4)&&(b="http://"+b);return b};h.observe(this.element,"keydown",function(a){if(l.length){a=g.selection.getSelectedNode(a.target.ownerDocument);
var b=h.getParentElement(a,{query:"a"},4),e;b&&(e=n(b),setTimeout(function(){var a=n(b);a!==e&&a.match(k)&&b.setAttribute("href",a)},0))}})}},_initObjectResizing:function(){this.commands.exec("enableObjectResizing",!0);if(b.supportsEvent("resizeend")){var g=["width","height"],f=g.length,e=this.element;h.observe(e,"resizeend",function(b){b=b.target||b.srcElement;var h=b.style,n=0,m;if("IMG"===b.nodeName){for(;n<f;n++)m=g[n],h[m]&&(b.setAttribute(m,parseInt(h[m],10)),h[m]="");a.quirks.redraw(e)}})}},
_initUndoManager:function(){this.undoManager=new a.UndoManager(this.parent)},_initLineBreaking:function(){function g(a){var b=h.getParentElement(a,{query:"p, div"},2);b&&h.contains(f.element,b)&&f.selection.executeAndRestoreRangy(function(){f.config.useLineBreaks?((!b.firstChild||b.firstChild===b.lastChild&&1===b.firstChild.nodeType&&b.firstChild.classList.contains("rangySelectionBoundary"))&&b.appendChild(f.doc.createElement("br")),h.replaceWithChildNodes(b)):"P"!==b.nodeName&&h.renameElement(b,
"p")})}var f=this;this.config.useLineBreaks||h.observe(this.element,["focus"],function(){f.isEmpty()&&setTimeout(function(){var a=f.doc.createElement("P");f.element.innerHTML="";f.element.appendChild(a);b.displaysCaretInEmptyContentEditableCorrectly()?f.selection.selectNode(a,!0):(a.innerHTML="<br>",f.selection.setBefore(a.firstChild))},0)});h.observe(this.element,"keydown",function(b){var l=b.keyCode;if(!(b.shiftKey||b.ctrlKey||b.defaultPrevented||l!==a.ENTER_KEY&&l!==a.BACKSPACE_KEY)){var k=h.getParentElement(f.selection.getSelectedNode(),
{query:"li, p, h1, h2, h3, h4, h5, h6"},4);k?setTimeout(function(){var b=f.selection.getSelectedNode(),e;if("LI"===k.nodeName){if(!b)return;(e=h.getParentElement(b,{query:"ul, ol, menu"},2))||g(b)}l===a.ENTER_KEY&&k.nodeName.match(/^H[1-6]$/)&&g(b)},0):f.config.useLineBreaks&&l===a.ENTER_KEY&&!a.browser.insertsLineBreaksOnReturn()&&(b.preventDefault(),f.commands.exec("insertLineBreak"))}})}})})(wysihtml5);
(function(a){var h=a.dom,b=document,g=window,f=b.createElement("div"),e="background-color color cursor font-family font-size font-style font-variant font-weight line-height letter-spacing text-align text-decoration text-indent text-rendering word-break word-wrap word-spacing".split(" "),l="background-color border-collapse border-bottom-color border-bottom-style border-bottom-width border-left-color border-left-style border-left-width border-right-color border-right-style border-right-width border-top-color border-top-style border-top-width clear display float margin-bottom margin-left margin-right margin-top outline-color outline-offset outline-width outline-style padding-left padding-right padding-top padding-bottom position top left right bottom z-index vertical-align text-align -webkit-box-sizing -moz-box-sizing -ms-box-sizing box-sizing -webkit-box-shadow -moz-box-shadow -ms-box-shadow box-shadow -webkit-border-top-right-radius -moz-border-radius-topright border-top-right-radius -webkit-border-bottom-right-radius -moz-border-radius-bottomright border-bottom-right-radius -webkit-border-bottom-left-radius -moz-border-radius-bottomleft border-bottom-left-radius -webkit-border-top-left-radius -moz-border-radius-topleft border-top-left-radius width height".split(" "),
k=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",a.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],n=function(a){if(a.setActive)try{a.setActive()}catch(e){}else{var f=a.style,k=b.documentElement.scrollTop||
b.body.scrollTop,l=b.documentElement.scrollLeft||b.body.scrollLeft,f={position:f.position,top:f.top,left:f.left,WebkitUserSelect:f.WebkitUserSelect};h.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(a);a.focus();h.setStyles(f).on(a);g.scrollTo&&g.scrollTo(l,k)}};a.views.Composer.prototype.style=function(){var g=this,p=b.querySelector(":focus"),r=this.textarea.element,q=r.hasAttribute("placeholder"),u=q&&r.getAttribute("placeholder"),w=r.style.display,y=r.disabled,
x;this.focusStylesHost=f.cloneNode(!1);this.blurStylesHost=f.cloneNode(!1);this.disabledStylesHost=f.cloneNode(!1);q&&r.removeAttribute("placeholder");r===p&&r.blur();r.disabled=!1;r.style.display=x="none";if(r.getAttribute("rows")&&"auto"===h.getStyle("height").from(r)||r.getAttribute("cols")&&"auto"===h.getStyle("width").from(r))r.style.display=x=w;h.copyStyles(l).from(r).to(this.editableArea).andTo(this.blurStylesHost);h.copyStyles(e).from(r).to(this.element).andTo(this.blurStylesHost);h.insertCSS(k).into(this.element.ownerDocument);
r.disabled=!0;h.copyStyles(l).from(r).to(this.disabledStylesHost);h.copyStyles(e).from(r).to(this.disabledStylesHost);r.disabled=y;r.style.display=w;n(r);r.style.display=x;h.copyStyles(l).from(r).to(this.focusStylesHost);h.copyStyles(e).from(r).to(this.focusStylesHost);r.style.display=w;h.copyStyles(["display"]).from(r).to(this.editableArea);var z=a.lang.array(l).without(["display"]);p?p.focus():r.blur();q&&r.setAttribute("placeholder",u);this.parent.on("focus:composer",function(){h.copyStyles(z).from(g.focusStylesHost).to(g.editableArea);
h.copyStyles(e).from(g.focusStylesHost).to(g.element)});this.parent.on("blur:composer",function(){h.copyStyles(z).from(g.blurStylesHost).to(g.editableArea);h.copyStyles(e).from(g.blurStylesHost).to(g.element)});this.parent.observe("disable:composer",function(){h.copyStyles(z).from(g.disabledStylesHost).to(g.editableArea);h.copyStyles(e).from(g.disabledStylesHost).to(g.element)});this.parent.observe("enable:composer",function(){h.copyStyles(z).from(g.blurStylesHost).to(g.editableArea);h.copyStyles(e).from(g.blurStylesHost).to(g.element)});
return this}})(wysihtml5);
(function(a){var h=a.dom,b=h.domNode,g=a.browser,f={66:"bold",73:"italic",85:"underline"},e={addListeners:function(a,b,e){for(var f=0,g=b.length;f<g;f++)a.addEventListener(b[f],e,!1)},removeListeners:function(a,b,e){for(var f=0,g=b.length;f<g;f++)a.removeEventListener(b[f],e,!1)},fixLastBrDeletionInTable:function(b,e){if(b.selection.caretIsLastInSelection()){var f=b.selection.getSelection(),g=f.anchorNode;if(g&&1===g.nodeType&&(a.dom.getParentElement(g,{query:"td, th"},!1,b.element)||e)&&(f=g.childNodes[f.anchorOffset])&&
1===f.nodeType&"BR"===f.nodeName)return f.parentNode.removeChild(f),!0}return!1},handleUneditableDeletion:function(a){var b=a.selection.getBeforeSelection(!0);if(b&&("element"===b.type||"leafnode"===b.type)&&1===b.node.nodeType&&b.node.classList.contains(a.config.classNames.uneditableContainer)){if(e.fixLastBrDeletionInTable(a,!0))return!0;try{var f=new CustomEvent("wysihtml5:uneditable:delete",{bubbles:!0,cancelable:!1});b.node.dispatchEvent(f)}catch(g){}b.node.parentNode.removeChild(b.node);return!0}return!1},
fixDeleteInTheBeginningOfBlock:function(e){var f=e.selection,g=f.getPreviousNode();if(f.caretIsFirstInSelection(a.browser.usesControlRanges())&&g&&1===g.nodeType&&a.dom.domNode(g).is.block()&&!b(g).test({query:"ol, ul, table, tr, dl"})){if(/^\s*$/.test(g.textContent||g.innerText))return g.parentNode.removeChild(g),!0;if(g.lastChild){var h=g.lastChild,k=f.getSelectedNode(),l=b(g).commonAncestor(k,e.element);if(e=a.dom.getParentElement(k,{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},!1,
l||e.element))return b(e).transferContentTo(g,!0),f.setAfter(h),!0;if(a.browser.usesControlRanges())return k=f.getCaretNode(),b(k).transferContentTo(g,!0),f.setAfter(h),!0}}return!1},fixDeleteInTheBeginningOfLi:function(e){if(a.browser.hasLiDeletingProblem()){var f=e.selection.getSelection(),g=f.anchorNode,h;h=e.selection.caretIsFirstInSelection();3===g.nodeType&&0===f.anchorOffset&&g===g.parentNode.firstChild&&(g=g.parentNode,h=!0);if(h&&g&&1===g.nodeType&&"LI"===g.nodeName&&((f=b(g).prev({nodeTypes:[1,
3],ignoreBlankTexts:!0}))||!g.parentNode||"UL"!==g.parentNode.nodeName&&"OL"!==g.parentNode.nodeName||(f=b(g.parentNode).prev({nodeTypes:[1,3],ignoreBlankTexts:!0})),f))return h=g.firstChild,b(g).transferContentTo(f,!0),h?e.selection.setBefore(h):f&&(1===f.nodeType?f.lastChild?e.selection.setAfter(f.lastChild):e.selection.selectNode(f):e.selection.setAfter(f)),!0}return!1},fixDeleteInTheBeginningOfControlSelection:function(a){var e=a.selection,f=e.getPreviousNode(),g=e.getSelectedNode();return e.caretIsFirstInSelection()?
(3===g.nodeType&&(g=g.parentNode),e=g.firstChild,b(g).transferContentTo(f,!0),e&&a.selection.setBefore(e),!0):!1},initTableHandling:function(){var b=function(){window.removeEventListener("load",b);this.doc.execCommand("enableObjectResizing",!1,"false");this.doc.execCommand("enableInlineTableEditing",!1,"false")}.bind(this),f=function(){b.call(this);e.removeListeners(this.sandbox.getIframe(),["focus","mouseup","mouseover"],f)}.bind(this);this.doc.execCommand&&a.browser.supportsCommand(this.doc,"enableObjectResizing")&&
a.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?e.addListeners(this.sandbox.getIframe(),["focus","mouseup","mouseover"],f):window.addEventListener("load",b));this.tableSelection=a.quirks.tableCellsSelection(this.element,this.parent)},doLineBreaksModeEnterWithCaret:function(e){var f,g,k=!1;if(f=e.selection.getNodesNearCaret()){if(f.caretNode||f.nextNode)g=h.getParentElement(f.caretNode||f.nextNode,{query:"p, pre, div, blockquote"},2),g===e.element&&(g=void 0);
if(g&&f.caretNode)if(b(f.caretNode).is.lineBreak()){if(e.config.doubleLineBreakEscapesBlock){k=!0;f.caretNode.parentNode.removeChild(f.caretNode);b(f.nextNode).is.lineBreak()&&f.nextNode.parentNode.removeChild(f.nextNode);var l=e.doc.createElement("br");b(f.nextNode).is.lineBreak()&&f.nextNode===g.lastChild?g.parentNode.insertBefore(l,g.nextSibling):e.selection.splitElementAtCaret(g,l);f.nextNode&&3===f.nextNode.nodeType&&(f.nextNode.data=f.nextNode.data.replace(/^ *[\r\n]+/,""));e.selection.setBefore(l)}}else 3===
f.caretNode.nodeType&&a.browser.hasCaretBlockElementIssue()&&f.textOffset===f.caretNode.data.length&&!f.nextNode&&(k=!0,f=e.doc.createElement("br"),g=e.doc.createElement("br"),l=e.doc.createDocumentFragment(),l.appendChild(f),l.appendChild(g),e.selection.insertNode(l),e.selection.setBefore(g))}return k}},l=function(b,f){var g=f.selection;g.isCollapsed()?e.handleUneditableDeletion(f)?b.preventDefault():e.fixDeleteInTheBeginningOfLi(f)?b.preventDefault():e.fixDeleteInTheBeginningOfBlock(f)?b.preventDefault():
e.fixLastBrDeletionInTable(f)?b.preventDefault():a.browser.usesControlRanges()&&e.fixDeleteInTheBeginningOfControlSelection(f)&&b.preventDefault():g.containsUneditable()&&(b.preventDefault(),g.deleteContents())},k=function(a,b){!b.config.useLineBreaks||a.shiftKey||a.ctrlKey||b.selection.isCollapsed()&&e.doLineBreaksModeEnterWithCaret(b)&&a.preventDefault()},n=function(a,b,e){if(!a.selection.isCollapsed())a.selection.deleteContents();else if(a.selection.caretIsInTheBeginnig("li"))if(e){if(a.commands.exec("outdentList"))return}else if(a.commands.exec("indentList"))return;
a.commands.exec("insertHTML","&emsp;")},m=function(a){this.domNodeRemovedInterval&&clearInterval(domNodeRemovedInterval);this.parent.fire("destroy:composer")},p=function(a){this.parent.fire("beforeinteraction",a).fire("beforeinteraction:composer",a);setTimeout(function(){this.parent.fire("interaction",a).fire("interaction:composer",a)}.bind(this),0)},r=function(a){this.parent.fire("focus",a).fire("focus:composer",a);setTimeout(function(){this.focusState=this.getValue(!1,!1)}.bind(this),0)},q=function(a){if(this.focusState!==
this.getValue(!1,!1)){var b=a;"function"==typeof Object.create&&(b=Object.create(a,{type:{value:"change"}}));this.parent.fire("change",b).fire("change:composer",b)}this.parent.fire("blur",a).fire("blur:composer",a)},u=function(a){this.parent.fire(a.type,a).fire(a.type+":composer",a);"paste"===a.type&&setTimeout(function(){this.parent.fire("newword:composer")}.bind(this),0)},w=function(b){this.config.copyedFromMarking&&(a.browser.supportsModernPaste()&&(b.clipboardData.setData("text/html",this.config.copyedFromMarking+
this.selection.getHtml()),b.clipboardData.setData("text/plain",this.selection.getPlainText()),b.preventDefault()),this.parent.fire(b.type,b).fire(b.type+":composer",b))},y=function(b){b=b.keyCode;b!==a.SPACE_KEY&&b!==a.ENTER_KEY||this.parent.fire("newword:composer")},x=function(b){if(!g.canSelectImagesInContentEditable()){var e=b.target,f=this.element.querySelectorAll("img"),h=this.element.querySelectorAll("."+this.config.classNames.uneditableContainer+" img"),f=a.lang.array(f).without(h);"IMG"===
e.nodeName&&a.lang.array(f).contains(e)&&this.selection.selectNode(e)}a.browser.usesControlRanges()&&(this.selection.lastMouseDownPos={x:b.clientX,y:b.clientY},setTimeout(function(){delete this.selection.lastMouseDownPos}.bind(this),0))},z=function(a){var b=this.selection.lastMouseDownPos;if(b){var e=document.body.createTextRange();setTimeout(function(){try{e.moveToPoint(b.x,b.y),e.select()}catch(a){}}.bind(this),0)}},B=function(b){this.config.classNames.uneditableContainer&&(b=a.dom.getParentElement(b.target,
{query:"."+this.config.classNames.uneditableContainer},!1,this.element))&&this.selection.setAfter(b)},D=function(a){g.canSelectImagesInContentEditable()||setTimeout(function(){this.selection.getSelection().removeAllRanges()}.bind(this),0)},t=function(b){var e=b.keyCode,g=f[e],h;!b.ctrlKey&&!b.metaKey||b.altKey||65!==e?((b.ctrlKey||b.metaKey)&&!b.altKey&&g&&(this.commands.exec(g),b.preventDefault()),e===a.BACKSPACE_KEY&&l(b,this),(e===a.BACKSPACE_KEY||e===a.DELETE_KEY)&&(g=this.selection.getSelectedNode(!0))&&
"IMG"===g.nodeName&&(b.preventDefault(),h=g.parentNode,h.removeChild(g),"A"!==h.nodeName||h.firstChild||h.parentNode.removeChild(h),setTimeout(function(){a.quirks.redraw(this.element)}.bind(this),0)),this.config.handleTabKey&&e===a.TAB_KEY&&(b.preventDefault(),n(this,this.element,b.shiftKey)),e===a.ENTER_KEY&&k(b,this)):(this.selection.selectAll(),b.preventDefault())};a.views.Composer.prototype.observeActions=e;a.views.Composer.prototype.observe=function(){var b=this.sandbox.getIframe?this.sandbox.getIframe():
this.sandbox.getContentEditable(),f=g.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?this.element:this.sandbox.getWindow();this.focusState=this.getValue(!1,!1);b.addEventListener(["DOMNodeRemoved"],m.bind(this),!1);g.supportsMutationEvents()||(this.domNodeRemovedInterval=setInterval(function(){h.contains(document.documentElement,b)||m.call(this)},250));this.config.handleTables&&e.initTableHandling.call(this);e.addListeners(f,["drop","paste","mouseup","focus","keyup"],p.bind(this));
f.addEventListener("focus",r.bind(this),!1);f.addEventListener("blur",q.bind(this),!1);e.addListeners(this.element,["drop","paste","beforepaste"],u.bind(this),!1);this.element.addEventListener("copy",w.bind(this),!1);this.element.addEventListener("mousedown",x.bind(this),!1);this.element.addEventListener("click",B.bind(this),!1);this.element.addEventListener("drop",D.bind(this),!1);this.element.addEventListener("keyup",y.bind(this),!1);this.element.addEventListener("keydown",t.bind(this),!1);a.browser.usesControlRanges()&&
this.element.addEventListener("mscontrolselect",z.bind(this),!1);this.element.addEventListener("dragenter",function(){this.parent.fire("unset_placeholder")}.bind(this),!1)}})(wysihtml5);
(function(a){a.views.Synchronizer=Base.extend({constructor:function(a,b,g){this.editor=a;this.textarea=b;this.composer=g;this._observe()},fromComposerToTextarea:function(h){this.textarea.setValue(a.lang.string(this.composer.getValue(!1,!1)).trim(),h)},fromTextareaToComposer:function(a){var b=this.textarea.getValue(!1,!1);b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(a){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(a):
this.fromComposerToTextarea(a)},_observe:function(){var h,b=this,g=this.textarea.element.form,f=function(){h=setInterval(function(){b.fromComposerToTextarea()},400)},e=function(){clearInterval(h);h=null};f();g&&(a.dom.observe(g,"submit",function(){b.sync(!0)}),a.dom.observe(g,"reset",function(){setTimeout(function(){b.fromTextareaToComposer()},0)}));this.editor.on("change_view",function(a){"composer"!==a||h?"textarea"===a&&(b.fromComposerToTextarea(!0),e()):(b.fromTextareaToComposer(!0),f())});this.editor.on("destroy:composer",
e)}})})(wysihtml5);
(function(a){a.views.SourceView=Base.extend({constructor:function(a,b){this.editor=a;this.composer=b;this._observe()},switchToTextarea:function(a){var b=this.composer.win.getComputedStyle(this.composer.element),g=parseFloat(b.width),b=Math.max(parseFloat(b.height),100);this.textarea||(this.textarea=this.composer.doc.createElement("textarea"),this.textarea.className="wysihtml5-source-view");this.textarea.style.width=g+"px";this.textarea.style.height=b+"px";this.textarea.value=this.editor.getValue(a,!0);
this.composer.element.parentNode.insertBefore(this.textarea,this.composer.element);this.editor.currentView="source";this.composer.element.style.display="none"},switchToComposer:function(a){var b=this.textarea.value;b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire("set_placeholder"));this.textarea.parentNode.removeChild(this.textarea);this.editor.currentView=this.composer;this.composer.element.style.display=""},_observe:function(){this.editor.on("change_view",function(a){"composer"===
a?this.switchToComposer(!0):"textarea"===a&&this.switchToTextarea(!0)}.bind(this))}})})(wysihtml5);
wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(a,h,b){this.base(a,h,b);this._observe()},clear:function(){this.element.value=""},getValue:function(a){var h=this.isEmpty()?"":this.element.value;!1!==a&&(h=this.parent.parse(h));return h},setValue:function(a,h){!1!==h&&(a=this.parent.parse(a));this.element.value=a},cleanUp:function(a){a=this.parent.parse(this.element.value,void 0,a);this.element.value=a},hasPlaceholderSet:function(){var a=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),
h=this.element.getAttribute("placeholder")||null,b=this.element.value;return a&&!b||b===h},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var a=this.element,h=this.parent,b={focusin:"focus",focusout:"blur"},g=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];h.on("beforeload",function(){wysihtml5.dom.observe(a,g,function(a){a=b[a.type]||a.type;h.fire(a).fire(a+":textarea")});
wysihtml5.dom.observe(a,["paste","drop"],function(){setTimeout(function(){h.fire("paste").fire("paste:textarea")},0)})})}});
(function(a){var h={name:void 0,style:!0,toolbar:void 0,showToolbarAfterInit:!0,showToolbarDialogsOnSelection:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{},b:{},i:{},u:{}},classes:{}},pasteParserRulesets:null,parser:a.dom.parse,useLineBreaks:!0,doubleLineBreakEscapesBlock:!0,stylesheets:[],placeholderText:void 0,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,classNames:{composer:"wysihtml5-editor",body:"wysihtml5-supported",sandbox:"wysihtml5-sandbox",
placeholder:"wysihtml5-placeholder",uneditableContainer:"wysihtml5-uneditable-container"},copyedFromMarking:'<meta name="copied-from" content="wysihtml5">'};a.Editor=a.lang.Dispatcher.extend({constructor:function(b,g){this.editableElement="string"===typeof b?document.getElementById(b):b;this.config=a.lang.object({}).merge(h).merge(g).get();this._isCompatible=a.browser.supported();g&&g.classNames&&a.lang.object(this.config.classNames).merge(g.classNames);"textarea"!=this.editableElement.nodeName.toLowerCase()&&
(this.config.contentEditableMode=!0,this.config.noTextarea=!0);this.config.noTextarea||(this.currentView=this.textarea=new a.views.Textarea(this,this.editableElement,this.config));if(!this._isCompatible||!this.config.supportTouchDevices&&a.browser.isTouchDevice()){var f=this;setTimeout(function(){f.fire("beforeload").fire("load")},0)}else a.dom.addClass(document.body,this.config.classNames.body),this.currentView=this.composer=new a.views.Composer(this,this.editableElement,this.config),"function"===
typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea?this.sourceView=new a.views.SourceView(this,this.composer):this.synchronizer=new a.views.Synchronizer(this,this.textarea,this.composer);this.config.toolbar&&(this.toolbar=new a.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){this.currentView.clear();return this},
getValue:function(a,g){return this.currentView.getValue(a,g)},setValue:function(a,g){this.fire("unset_placeholder");if(!a)return this.clear();this.currentView.setValue(a,g);return this},cleanUp:function(a){this.currentView.cleanUp(a)},focus:function(a){this.currentView.focus(a);return this},disable:function(){this.currentView.disable();return this},enable:function(){this.currentView.enable();return this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},
destroy:function(){this.composer&&this.composer.sandbox&&this.composer.sandbox.destroy();this.toolbar&&this.toolbar.destroy();this.off()},parse:function(b,g,f){var e=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null;g=this.config.parser(b,{rules:f||this.config.parserRules,cleanUp:this.config.cleanUp,context:e,uneditableClass:this.config.classNames.uneditableContainer,clearInternals:g});"object"===typeof b&&a.quirks.redraw(b);return g},_initParser:function(){var b;
if(a.browser.supportsModernPaste())this.on("paste:composer",function(g){g.preventDefault();(b=a.dom.getPastedHtml(g))&&this._cleanAndPaste(b)}.bind(this));else this.on("beforepaste:composer",function(b){b.preventDefault();var f=this.composer.getScrollPos();a.dom.getPastedHtmlWithDiv(this.composer,function(a){a&&this._cleanAndPaste(a);this.composer.setScrollPos(f)}.bind(this))}.bind(this))},_cleanAndPaste:function(b){b=a.quirks.cleanPastedHTML(b,{referenceNode:this.composer.element,rules:this.config.pasteParserRulesets||
[{set:this.config.parserRules}],uneditableClass:this.config.classNames.uneditableContainer});this.composer.selection.deleteContents();this.composer.selection.insertHTML(b)}})})(wysihtml5);
(function(a){var h=a.dom;a.toolbar.Dialog=a.lang.Dispatcher.extend({constructor:function(a,g){this.link=a;this.container=g},_observe:function(){if(!this._observed){var b=this,g=function(a){var e=b._serialize();b.fire("save",e);b.hide();a.preventDefault();a.stopPropagation()};h.observe(b.link,"click",function(){h.hasClass(b.link,"wysihtml5-command-dialog-opened")&&setTimeout(function(){b.hide()},0)});h.observe(this.container,"keydown",function(f){var e=f.keyCode;e===a.ENTER_KEY&&g(f);e===a.ESCAPE_KEY&&
b.cancel()});h.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",g);h.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(a){b.cancel();a.preventDefault();a.stopPropagation()});this._observed=!0}},_serialize:function(){for(var a={},g=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),f=g.length,e=0;e<f;e++)a[g[e].getAttribute("data-wysihtml5-dialog-field")]=g[e].value;return a},_interpolate:function(a){for(var g,f,e=document.querySelector(":focus"),
h=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),k=h.length,n=0;n<k;n++)g=h[n],g===e||a&&"hidden"===g.type||(f=g.getAttribute("data-wysihtml5-dialog-field"),f=this.elementToChange&&"boolean"!==typeof this.elementToChange?this.elementToChange.getAttribute(f)||"":g.defaultValue,g.value=f)},update:function(a){this.elementToChange=a?a:this.elementToChange;this._interpolate()},show:function(a){var g=this.container.querySelector("input, select, textarea");this._observe();this.update(a);
h.addClass(this.link,"wysihtml5-command-dialog-opened");this.container.style.display="";this.isOpen=!0;this.fire("show");if(g&&!a)try{g.focus()}catch(f){}},_hide:function(a){this.elementToChange=null;h.removeClass(this.link,"wysihtml5-command-dialog-opened");this.container.style.display="none";this.isOpen=!1},hide:function(){this._hide();this.fire("hide")},cancel:function(){this._hide();this.fire("cancel")}})})(wysihtml5);
(function(a){var h=a.dom,b={position:"relative"},g={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},f={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},e={"x-webkit-speech":"",speech:""};a.toolbar.Speech=function(l,k){var n=document.createElement("input");if(a.browser.supportsSpeechApiOn(n)){var m=l.editor.textarea.element.getAttribute("lang");m&&(e.lang=m);m=document.createElement("div");
a.lang.object(g).merge({width:k.offsetWidth+"px",height:k.offsetHeight+"px"});h.insert(n).into(m);h.insert(m).into(k);h.setStyles(f).on(n);h.setAttributes(e).on(n);h.setStyles(g).on(m);h.setStyles(b).on(k);h.observe(n,"onwebkitspeechchange"in n?"webkitspeechchange":"speechchange",function(){l.execCommand("insertText",n.value);n.value=""});h.observe(n,"click",function(a){h.hasClass(k,"wysihtml5-command-disabled")&&a.preventDefault();a.stopPropagation()})}else k.style.display="none"}})(wysihtml5);
(function(a){function h(b,e){var f=b.commands.state(e.name,e.value);!e.dialog.multiselect&&a.lang.object(f).isArray()&&(f=1===f.length?f[0]:!0);return f}var b="wysihtml5-command-disabled",g="wysihtml5-commands-disabled",f="wysihtml5-command-active",e="wysihtml5-action-active",l=a.dom;a.toolbar.Toolbar=Base.extend({constructor:function(h,l,m){this.editor=h;this.container="string"===typeof l?document.getElementById(l):l;this.composer=h.composer;this._getLinks("command");this._getLinks("action");this._observe();
m&&this.show();null!=h.config.classNameCommandDisabled&&(b=h.config.classNameCommandDisabled);null!=h.config.classNameCommandsDisabled&&(g=h.config.classNameCommandsDisabled);null!=h.config.classNameCommandActive&&(f=h.config.classNameCommandActive);null!=h.config.classNameActionActive&&(e=h.config.classNameActionActive);h=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]");l=h.length;for(m=0;m<l;m++)new a.toolbar.Speech(this,h[m])},_getLinks:function(b){for(var e=this[b+"Links"]=
a.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+b+"]")).get(),f=e.length,g=0,h=this[b+"Mapping"]={},l,u,w,y,x,z;g<f;g++)l=e[g],w=l.getAttribute("data-wysihtml5-"+b),y=l.getAttribute("data-wysihtml5-"+b+"-value"),z=l.getAttribute("data-wysihtml5-"+b+"-blank-value"),u=this.container.querySelector("[data-wysihtml5-"+b+"-group='"+w+"']"),x=this._getDialog(l,w),h[w+":"+y]={link:l,group:u,name:w,value:y,tracksBlankValue:z,dialog:x,state:!1}},_getDialog:function(b,e){var f=this,g=this.container.querySelector("[data-wysihtml5-dialog='"+
e+"']"),h,l;g&&(h=a.toolbar["Dialog_"+e]?new a.toolbar["Dialog_"+e](b,g):new a.toolbar.Dialog(b,g),h.on("show",function(){l=f.composer.selection.getBookmark();f.editor.fire("show:dialog",{command:e,dialogContainer:g,commandLink:b})}),h.on("save",function(a){l&&f.composer.selection.setBookmark(l);f._execCommand(e,a);f.editor.fire("save:dialog",{command:e,dialogContainer:g,commandLink:b});f._hideAllDialogs();f._preventInstantFocus();l=void 0}),h.on("cancel",function(){l&&f.composer.selection.setBookmark(l);
f.editor.fire("cancel:dialog",{command:e,dialogContainer:g,commandLink:b});l=void 0;f._preventInstantFocus()}),h.on("hide",function(){f.editor.fire("hide:dialog",{command:e,dialogContainer:g,commandLink:b});l=void 0}));return h},execCommand:function(a,b){this.commandsDisabled||this._execCommand(a,b)},_execCommand:function(a,b){this.editor.focus(!1);this.composer.commands.exec(a,b);this._updateLinkStates()},execAction:function(a){var b=this.editor;"change_view"===a&&(b.currentView===b.textarea||"source"===
b.currentView?b.fire("change_view","composer"):b.fire("change_view","textarea"));"showSource"==a&&b.fire("showSource")},_observe:function(){for(var b=this,e=this.editor,f=this.container,p=this.commandLinks.concat(this.actionLinks),r=p.length,q=0;q<r;q++)if("A"===p[q].nodeName)l.setAttributes({href:"javascript:;",unselectable:"on"}).on(p[q]);else l.setAttributes({unselectable:"on"}).on(p[q]);l.delegate(f,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(a){a.preventDefault()});
l.delegate(f,"[data-wysihtml5-command]","click",function(a){var e;e=this.getAttribute("data-wysihtml5-command");var f=this.getAttribute("data-wysihtml5-command-value"),g=b.commandMapping[e+":"+f];f||!g.dialog?b.execCommand(e,f):(e=h(b.composer,g),g.dialog.show(e));a.preventDefault()});l.delegate(f,"[data-wysihtml5-action]","click",function(a){var e=this.getAttribute("data-wysihtml5-action");b.execAction(e);a.preventDefault()});e.on("interaction:composer",function(a){b.preventFocus||b._updateLinkStates()});
this._ownerDocumentClick=function(e){a.dom.contains(b.container,e.target)||a.dom.contains(b.composer.element,e.target)||(b._updateLinkStates(),b._preventInstantFocus())};this.container.ownerDocument.addEventListener("click",this._ownerDocumentClick,!1);this.editor.on("destroy:composer",this.destroy.bind(this));this.editor.config.handleTables&&(e.on("tableselect:composer",function(){b.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display=""}),e.on("tableunselect:composer",
function(){b.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display="none"}));e.on("change_view",function(a){setTimeout(function(){b.commandsDisabled="composer"!==a;b._updateLinkStates();b.commandsDisabled?l.addClass(f,g):l.removeClass(f,g)},0)})},destroy:function(){this.container.ownerDocument.removeEventListener("click",this._ownerDocumentClick,!1)},_hideAllDialogs:function(){var a=this.commandMapping,b;for(b in a)a[b].dialog&&a[b].dialog.hide()},_preventInstantFocus:function(){this.preventFocus=
!0;setTimeout(function(){this.preventFocus=!1}.bind(this),0)},_updateLinkStates:function(){var a,g,m,p,r=this.commandMapping,q=this.composer,u=this.actionMapping;for(a in r)if(m=r[a],this.commandsDisabled?(g=!1,l.removeClass(m.link,f),m.group&&l.removeClass(m.group,f),m.dialog&&m.dialog.hide()):(g=this.composer.commands.state(m.name,m.value),l.removeClass(m.link,b),m.group&&l.removeClass(m.group,b)),m.state!==g||m.tracksBlankValue)(m.state=g)?m.tracksBlankValue?l.removeClass(m.link,f):(l.addClass(m.link,
f),m.group&&l.addClass(m.group,f),!m.dialog||"undefined"!==typeof m.value&&null!==m.value||(g&&"object"===typeof g?(g=h(q,m),m.state=g,p=m.dialog.container.dataset?m.dialog.container.dataset.showdialogonselection:!1,q.config.showToolbarDialogsOnSelection||p?m.dialog.show(g):m.dialog.update(g)):m.dialog.hide())):m.tracksBlankValue?l.addClass(m.link,f):(l.removeClass(m.link,f),m.group&&l.removeClass(m.group,f),m.dialog&&!m.value&&m.dialog.hide());for(a in u)g=u[a],"change_view"===g.name&&(g.state=this.editor.currentView===
this.editor.textarea||"source"===this.editor.currentView,g.state?l.addClass(g.link,e):l.removeClass(g.link,e))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})})(wysihtml5);(function(a){a.toolbar.Dialog_createTable=a.toolbar.Dialog.extend({show:function(a){this.base(a)}})})(wysihtml5);
(function(a){a.toolbar.Dialog_foreColorStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var a={},b=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),g=b.length,f=0;f<g;f++)a[b[f].getAttribute("data-wysihtml5-dialog-field")]=b[f].value;return a},_interpolate:function(h){for(var b,g,f=a.quirks.styleParser,e=document.querySelector(":focus"),l=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),k=l.length,n=0,m=(b=(b=this.elementToChange?a.lang.object(this.elementToChange).isArray()?
this.elementToChange[0]:this.elementToChange:null)?b.getAttribute("style"):null)?f.parseColor(b,"color"):null;n<k;n++)b=l[n],b===e||h&&"hidden"===b.type||"color"!==b.getAttribute("data-wysihtml5-dialog-field")||(g=(b.dataset.colormode||"rgb").toLowerCase(),g="hex"===g?"hash":g,b.value=m?f.unparseColor(m,g):f.unparseColor([0,0,0],g))}})})(wysihtml5);
(function(a){a.toolbar.Dialog_fontSizeStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field="size"]').value}},_interpolate:function(h){h=document.querySelector(":focus");var b=this.container.querySelector("[data-wysihtml5-dialog-field='size']"),g=this.elementToChange?a.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,g=(g=g?g.getAttribute("style"):null)?a.quirks.styleParser.parseFontSize(g):
null;b&&b!==h&&g&&!/^\s*$/.test(g)&&(b.value=g)}})})(wysihtml5);!function(a){function h(a){var e=a.length,f=b.type(a);return"function"!==f&&!b.isWindow(a)&&(!(1!==a.nodeType||!e)||"array"===f||0===e||"number"==typeof e&&0<e&&e-1 in a)}if(!a.jQuery){var b=function(a,e){return new b.fn.init(a,e)};b.isWindow=function(a){return a&&a===a.window};b.type=function(a){return a?"object"==typeof a||"function"==typeof a?f[l.call(a)]||"object":typeof a:a+""};b.isArray=Array.isArray||function(a){return"array"===b.type(a)};b.isPlainObject=function(a){var f;if(!a||"object"!==
b.type(a)||a.nodeType||b.isWindow(a))return!1;try{if(a.constructor&&!e.call(a,"constructor")&&!e.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(g){return!1}for(f in a);return void 0===f||e.call(a,f)};b.each=function(a,b,e){var f,g=0,k=a.length,l=h(a);if(e)if(l)for(;g<k&&(f=b.apply(a[g],e),!1!==f);g++);else for(g in a){if(a.hasOwnProperty(g)&&(f=b.apply(a[g],e),!1===f))break}else if(l)for(;g<k&&(f=b.call(a[g],g,a[g]),!1!==f);g++);else for(g in a)if(a.hasOwnProperty(g)&&(f=b.call(a[g],
g,a[g]),!1===f))break;return a};b.data=function(a,e,f){if(void 0===f){f=(f=a[b.expando])&&g[f];if(void 0===e)return f;if(f&&e in f)return f[e]}else if(void 0!==e)return a=a[b.expando]||(a[b.expando]=++b.uuid),g[a]=g[a]||{},g[a][e]=f,f};b.removeData=function(a,e){var f=a[b.expando],h=f&&g[f];h&&(e?b.each(e,function(a,b){delete h[b]}):delete g[f])};b.extend=function(){var a,e,f,g,h,k,l=arguments[0]||{},n=1,z=arguments.length,B=!1;"boolean"==typeof l&&(B=l,l=arguments[n]||{},n++);"object"!=typeof l&&
"function"!==b.type(l)&&(l={});for(n===z&&(l=this,n--);n<z;n++)if(h=arguments[n])for(g in h)h.hasOwnProperty(g)&&(a=l[g],f=h[g],l!==f&&(B&&f&&(b.isPlainObject(f)||(e=b.isArray(f)))?(e?(e=!1,k=a&&b.isArray(a)?a:[]):k=a&&b.isPlainObject(a)?a:{},l[g]=b.extend(B,k,f)):void 0!==f&&(l[g]=f)));return l};b.queue=function(a,e,f){function g(a,b){var e=b||[];if(a)if(h(Object(a))){var f;f="string"==typeof a?[a]:a;for(var k=+f.length,l=0,m=e.length;l<k;)e[m++]=f[l++];if(k!==k)for(;void 0!==f[l];)e[m++]=f[l++];
f=(e.length=m,e);!f}else[].push.call(e,a);return e}if(a){e=(e||"fx")+"queue";var k=b.data(a,e);return f?(!k||b.isArray(f)?k=b.data(a,e,g(f)):k.push(f),k):k||[]}};b.dequeue=function(a,e){b.each(a.nodeType?[a]:a,function(a,f){e=e||"fx";var g=b.queue(f,e),h=g.shift();"inprogress"===h&&(h=g.shift());h&&("fx"===e&&g.unshift("inprogress"),h.call(f,function(){b.dequeue(f,e)}))})};b.fn=b.prototype={init:function(a){if(a.nodeType)return this[0]=a,this;throw Error("Not a DOM node.");},offset:function(){var b=
this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:b.top+(a.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:b.left+(a.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var a=this[0],e;for(e=a.offsetParent||document;e&&"html"!==e.nodeType.toLowerCase&&"static"===e.style.position;)e=e.offsetParent;e=e||document;var f=this.offset(),g=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:b(e).offset();return f.top-=parseFloat(a.style.marginTop)||
0,f.left-=parseFloat(a.style.marginLeft)||0,e.style&&(g.top+=parseFloat(e.style.borderTopWidth)||0,g.left+=parseFloat(e.style.borderLeftWidth)||0),{top:f.top-g.top,left:f.left-g.left}}};var g={};b.expando="velocity"+(new Date).getTime();b.uuid=0;for(var f={},e=f.hasOwnProperty,l=f.toString,k="Boolean Number String Function Array Date RegExp Object Error".split(" "),n=0;n<k.length;n++)f["[object "+k[n]+"]"]=k[n].toLowerCase();b.fn.init.prototype=b.fn;a.Velocity={Utilities:b}}}(window);
(function(a){"object"==typeof module&&"object"==typeof module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):a()})(function(){return function(a,h,b,g){function f(a){for(var b=-1,e=a?a.length:0,f=[];++b<e;){var g=a[b];g&&f.push(g)}return f}function e(a){return y.isWrapped(a)?a=[].slice.call(a):y.isNode(a)&&(a=[a]),a}function l(a){a=q.data(a,"velocity");return null===a?g:a}function k(a){return function(b){return Math.round(b*a)*(1/a)}}function n(a,b,e,f){function g(a,b,e){return(((1-
3*e+3*b)*a+(3*e-6*b))*a+3*b)*a}var k="Float32Array"in h;if(4!==arguments.length)return!1;for(var l=0;4>l;++l)if("number"!=typeof arguments[l]||isNaN(arguments[l])||!isFinite(arguments[l]))return!1;a=Math.min(a,1);e=Math.min(e,1);a=Math.max(a,0);e=Math.max(e,0);var m=k?new Float32Array(11):Array(11),n=!1,k=function(h){if(!n&&(n=!0,a!==b||e!==f))for(var k=0;11>k;++k)m[k]=g(.1*k,a,e);if(a!==b||e!==f)if(0===h)h=0;else if(1===h)h=1;else{for(var l=0,k=1;10!==k&&m[k]<=h;++k)l+=.1;--k;var k=l+(h-m[k])/(m[k+
1]-m[k])*.1,p=3*(1-3*e+3*a)*k*k+2*(3*e-6*a)*k+3*a;if(.001<=p){for(l=0;4>l;++l){p=3*(1-3*e+3*a)*k*k+2*(3*e-6*a)*k+3*a;if(0===p)break;var q=g(k,a,e)-h,k=k-q/p}h=k}else if(0===p)h=k;else{var k=l,l=l+.1,t=0;do q=k+(l-k)/2,p=g(q,a,e)-h,0<p?l=q:k=q;while(1E-7<Math.abs(p)&&10>++t);h=q}h=g(h,b,f)}return h};k.getControlPoints=function(){return[{x:a,y:b},{x:e,y:f}]};var p="generateBezier("+[a,b,e,f]+")";return k.toString=function(){return p},k}function m(a,b){var e=a;return y.isString(a)?B.Easings[a]||(e=!1):
e=y.isArray(a)&&1===a.length?k.apply(null,a):y.isArray(a)&&2===a.length?D.apply(null,a.concat([b])):!(!y.isArray(a)||4!==a.length)&&n.apply(null,a),!1===e&&(e=B.Easings[B.defaults.easing]?B.defaults.easing:z),e}function p(a){if(a){a=B.timestamp&&!0!==a?a:(new Date).getTime();var b=B.State.calls.length;1E4<b&&(B.State.calls=f(B.State.calls),b=B.State.calls.length);for(var e=0;e<b;e++)if(B.State.calls[e]){var h=B.State.calls[e],k=h[0],m=h[2],n=h[3],u=!!n,w=null;n||(n=B.State.calls[e][3]=a-16);for(var A=
Math.min((a-n)/m.duration,1),x=0,z=k.length;x<z;x++){var D=k[x],Z=D.element;if(l(Z)){var ha=!1;m.display!==g&&null!==m.display&&"none"!==m.display&&("flex"===m.display&&q.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],function(a,b){t.setPropertyValue(Z,"display",b)}),t.setPropertyValue(Z,"display",m.display));m.visibility!==g&&"hidden"!==m.visibility&&t.setPropertyValue(Z,"visibility",m.visibility);for(var V in D)if(D.hasOwnProperty(V)&&"element"!==V){var ta,Y=D[V],na=y.isString(Y.easing)?
B.Easings[Y.easing]:Y.easing;if(1===A)ta=Y.endValue;else{var Aa=Y.endValue-Y.startValue;if(ta=Y.startValue+Aa*na(A,m,Aa),!u&&ta===Y.currentValue)continue}if(Y.currentValue=ta,"tween"===V)w=ta;else{var ka;t.Hooks.registered[V]&&(ka=t.Hooks.getRoot(V),(na=l(Z).rootPropertyValueCache[ka])&&(Y.rootPropertyValue=na));Y=t.setPropertyValue(Z,V,Y.currentValue+(0===parseFloat(ta)?"":Y.unitType),Y.rootPropertyValue,Y.scrollData);t.Hooks.registered[V]&&(t.Normalizations.registered[ka]?l(Z).rootPropertyValueCache[ka]=
t.Normalizations.registered[ka]("extract",null,Y[1]):l(Z).rootPropertyValueCache[ka]=Y[1]);"transform"===Y[0]&&(ha=!0)}}m.mobileHA&&l(Z).transformCache.translate3d===g&&(l(Z).transformCache.translate3d="(0px, 0px, 0px)",ha=!0);ha&&t.flushTransformCache(Z)}}m.display!==g&&"none"!==m.display&&(B.State.calls[e][2].display=!1);m.visibility!==g&&"hidden"!==m.visibility&&(B.State.calls[e][2].visibility=!1);m.progress&&m.progress.call(h[1],h[1],A,Math.max(0,n+m.duration-a),n,w);1===A&&r(e)}}B.State.isTicking&&
F(p)}function r(a,b){if(!B.State.calls[a])return!1;for(var e=B.State.calls[a][0],f=B.State.calls[a][1],h=B.State.calls[a][2],k=B.State.calls[a][4],m=!1,n=0,p=e.length;n<p;n++){var r=e[n].element;b||h.loop||("none"===h.display&&t.setPropertyValue(r,"display",h.display),"hidden"===h.visibility&&t.setPropertyValue(r,"visibility",h.visibility));var u=l(r);if(!0!==h.loop&&(q.queue(r)[1]===g||!/\.velocityQueueEntryFlag/i.test(q.queue(r)[1]))&&u){u.isAnimating=!1;u.rootPropertyValueCache={};var w=!1;q.each(t.Lists.transforms3D,
function(a,b){var e=/^scale/.test(b)?1:0,f=u.transformCache[b];u.transformCache[b]!==g&&(new RegExp("^\\("+e+"[^.]")).test(f)&&(w=!0,delete u.transformCache[b])});h.mobileHA&&(w=!0,delete u.transformCache.translate3d);w&&t.flushTransformCache(r);t.Values.removeClass(r,"velocity-animating")}if(!b&&h.complete&&!h.loop&&n===p-1)try{h.complete.call(f,f)}catch(A){setTimeout(function(){throw A;},1)}k&&!0!==h.loop&&k(f);u&&!0===h.loop&&!b&&(q.each(u.tweensContainer,function(a,b){if(/^rotate/.test(a)&&0===
(parseFloat(b.startValue)-parseFloat(b.endValue))%360){var e=b.startValue;b.startValue=b.endValue;b.endValue=e}/^backgroundPosition/.test(a)&&100===parseFloat(b.endValue)&&"%"===b.unitType&&(b.endValue=0,b.startValue=100)}),B(r,"reverse",{loop:!0,delay:h.delay}));!1!==h.queue&&q.dequeue(r,h.queue)}B.State.calls[a]=!1;e=0;for(f=B.State.calls.length;e<f;e++)if(!1!==B.State.calls[e]){m=!0;break}!1===m&&(B.State.isTicking=!1,delete B.State.calls,B.State.calls=[])}var q,u=function(){if(b.documentMode)return b.documentMode;
for(var a=7;4<a;a--){var e=b.createElement("div");if(e.innerHTML="\x3c!--[if IE "+a+"]><span></span><![endif]--\x3e",e.getElementsByTagName("span").length)return a}return g}(),w=function(){var a=0;return h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame||function(b){var e,f=(new Date).getTime();return e=Math.max(0,16-(f-a)),a=f+e,setTimeout(function(){b(f+e)},e)}}(),y={isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},
isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&a.length!==g&&(0===a.length||"object"==typeof a[0]&&0<a[0].nodeType)},isWrapped:function(a){return a&&(a.jquery||h.Zepto&&h.Zepto.zepto.isZ(a))},isSVG:function(a){return h.SVGElement&&a instanceof h.SVGElement},isEmptyObject:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;
return!0}},x=!1;if(a.fn&&a.fn.jquery?(q=a,x=!0):q=h.Velocity.Utilities,8>=u&&!x)throw Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=u)return void(jQuery.fn.velocity=jQuery.fn.animate);var z="swing",B={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:h.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),
prefixElement:b.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:q,Redirects:{},Easings:{},Promise:h.Promise,defaults:{queue:"",duration:400,easing:z,begin:g,complete:g,progress:g,display:g,visibility:g,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(a){q.data(a,"velocity",{isSVG:y.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},
transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:3,patch:1},debug:!1,timestamp:!0};h.pageYOffset!==g?(B.State.scrollAnchor=h,B.State.scrollPropertyLeft="pageXOffset",B.State.scrollPropertyTop="pageYOffset"):(B.State.scrollAnchor=b.documentElement||b.body.parentNode||b.body,B.State.scrollPropertyLeft="scrollLeft",B.State.scrollPropertyTop="scrollTop");var D=function(){function a(b,e,f){var g=b.v+f.dv*e;return{dx:g,dv:-b.tension*(b.x+f.dx*e)-b.friction*g}}function b(e,f){var g={dx:e.v,
dv:-e.tension*e.x-e.friction*e.v},h=a(e,.5*f,g),k=a(e,.5*f,h),l=a(e,f,k),m=1/6*(g.dv+2*(h.dv+k.dv)+l.dv);return e.x+=1/6*(g.dx+2*(h.dx+k.dx)+l.dx)*f,e.v+=m*f,e}return function O(a,e,f){var g,h,k,l={x:-1,v:0,tension:null,friction:null},m=[0],n=0;a=parseFloat(a)||500;e=parseFloat(e)||20;f=f||null;l.tension=a;l.friction=e;for((g=null!==f)?(n=O(a,e),h=n/f*.016):h=.016;k=b(k||l,h),m.push(1+k.x),n+=16,1E-4<Math.abs(k.x)&&1E-4<Math.abs(k.v););return g?function(a){return m[a*(m.length-1)|0]}:n}}();B.Easings=
{linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}};q.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,
.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(a,b){B.Easings[b[0]]=
n.apply(null,b[1])});var t=B.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:"fill stroke stopColor color backgroundColor borderColor borderTopColor borderRightColor borderBottomColor borderLeftColor outlineColor".split(" "),transformsBase:"translateX translateY scale scaleX scaleY skewX skewY rotateZ".split(" "),transforms3D:["transformPerspective",
"translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a=0;a<t.Lists.colors.length;a++)t.Hooks.templates[t.Lists.colors[a]]=["Red Green Blue Alpha","color"===t.Lists.colors[a]?"0 0 0 1":
"255 255 255 1"];var b,e;if(u)for(b in t.Hooks.templates)t.Hooks.templates.hasOwnProperty(b)&&(e=t.Hooks.templates[b],a=e[0].split(" "),e=e[1].match(t.RegEx.valueSplit),"Color"===a[0]&&(a.push(a.shift()),e.push(e.shift()),t.Hooks.templates[b]=[a.join(" "),e.join(" ")]));for(b in t.Hooks.templates)if(t.Hooks.templates.hasOwnProperty(b)){e=t.Hooks.templates[b];var a=e[0].split(" "),f;for(f in a)a.hasOwnProperty(f)&&(t.Hooks.registered[b+a[f]]=[b,f])}},getRoot:function(a){var b=t.Hooks.registered[a];
return b?b[0]:a},cleanRootPropertyValue:function(a,b){return t.RegEx.valueUnwrap.test(b)&&(b=b.match(t.RegEx.valueUnwrap)[1]),t.Values.isCSSNullValue(b)&&(b=t.Hooks.templates[a][1]),b},extractValue:function(a,b){var e=t.Hooks.registered[a];if(e){var f=e[1];return b=t.Hooks.cleanRootPropertyValue(e[0],b),b.toString().match(t.RegEx.valueSplit)[f]}return b},injectValue:function(a,b,e){if(a=t.Hooks.registered[a]){var f,g=a[1];return e=t.Hooks.cleanRootPropertyValue(a[0],e),f=e.toString().match(t.RegEx.valueSplit),
f[g]=b,f.join(" ")}return e}},Normalizations:{registered:{clip:function(a,b,e){switch(a){case "name":return"clip";case "extract":var f;return t.RegEx.wrappedValueAlreadyExtracted.test(e)?f=e:(f=e.toString().match(t.RegEx.valueUnwrap),f=f?f[1].replace(/,(\s+)?/g," "):e),f;case "inject":return"rect("+e+")"}},blur:function(a,b,e){switch(a){case "name":return B.State.isFirefox?"filter":"-webkit-filter";case "extract":return a=parseFloat(e),a||0===a||(a=(e=e.toString().match(/blur\(([0-9]+[A-z]+)\)/i))?
e[1]:0),a;case "inject":return parseFloat(e)?"blur("+e+")":"none"}},opacity:function(a,b,e){if(8>=u)switch(a){case "name":return"filter";case "extract":return(a=e.toString().match(/alpha\(opacity=(.*)\)/i))?a[1]/100:1;case "inject":return b.style.zoom=1,1<=parseFloat(e)?"":"alpha(opacity="+parseInt(100*parseFloat(e),10)+")"}else switch(a){case "name":return"opacity";case "extract":return e;case "inject":return e}}},register:function(){function a(b,e,f){if("border-box"===t.getPropertyValue(e,"boxSizing").toString().toLowerCase()===
(f||!1)){var g,h=0;b="width"===b?["Left","Right"]:["Top","Bottom"];var k=["padding"+b[0],"padding"+b[1],"border"+b[0]+"Width","border"+b[1]+"Width"];for(b=0;b<k.length;b++)g=parseFloat(t.getPropertyValue(e,k[b])),isNaN(g)||(h+=g);return f?-h:h}return 0}function b(e,f){return function(b,g,h){switch(b){case "name":return e;case "extract":return parseFloat(h)+a(e,g,f);case "inject":return parseFloat(h)-a(e,g,f)+"px"}}}u&&!(9<u)||B.State.isGingerbread||(t.Lists.transformsBase=t.Lists.transformsBase.concat(t.Lists.transforms3D));
for(var e=0;e<t.Lists.transformsBase.length;e++)!function(){var a=t.Lists.transformsBase[e];t.Normalizations.registered[a]=function(b,e,f){switch(b){case "name":return"transform";case "extract":return l(e)===g||l(e).transformCache[a]===g?/^scale/i.test(a)?1:0:l(e).transformCache[a].replace(/[()]/g,"");case "inject":b=!1;switch(a.substr(0,a.length-1)){case "translate":b=!/(%|px|em|rem|vw|vh|\d)$/i.test(f);break;case "scal":case "scale":B.State.isAndroid&&l(e).transformCache[a]===g&&1>f&&(f=1);b=!/(\d)$/i.test(f);
break;case "skew":b=!/(deg|\d)$/i.test(f);break;case "rotate":b=!/(deg|\d)$/i.test(f)}return b||(l(e).transformCache[a]="("+f+")"),l(e).transformCache[a]}}}();for(var f=0;f<t.Lists.colors.length;f++)!function(){var a=t.Lists.colors[f];t.Normalizations.registered[a]=function(b,e,f){switch(b){case "name":return a;case "extract":if(!t.RegEx.wrappedValueAlreadyExtracted.test(f)){var h;b={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};
/^[A-z]+$/i.test(f)?h=b[f]!==g?b[f]:b.black:t.RegEx.isHex.test(f)?h="rgb("+t.Values.hexToRgb(f).join(" ")+")":/^rgba?\(/i.test(f)||(h=b.black);f=(h||f).toString().match(t.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!u||8<u)&&3===f.split(" ").length&&(f+=" 1"),f;case "inject":return 8>=u?4===f.split(" ").length&&(f=f.split(/\s+/).slice(0,3).join(" ")):3===f.split(" ").length&&(f+=" 1"),(8>=u?"rgb":"rgba")+"("+f.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}();t.Normalizations.registered.innerWidth=
b("width",!0);t.Normalizations.registered.innerHeight=b("height",!0);t.Normalizations.registered.outerWidth=b("width");t.Normalizations.registered.outerHeight=b("height")}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(u||B.State.isAndroid&&!B.State.isChrome)&&(b+="|transform"),(new RegExp("^("+b+")$","i")).test(a)},prefixCheck:function(a){if(B.State.prefixMatches[a])return[B.State.prefixMatches[a],
!0];for(var b=["","Webkit","Moz","ms","O"],e=0,f=b.length;e<f;e++){var g;if(g=0===e?a:b[e]+a.replace(/^\w/,function(a){return a.toUpperCase()}),y.isString(B.State.prefixElement.style[g]))return B.State.prefixMatches[a]=g,[g,!0]}return[a,!1]}},Values:{hexToRgb:function(a){var b;return a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,e,f){return b+b+e+e+f+f}),b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a),b?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:[0,0,0]},isCSSNullValue:function(a){return!a||
/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(a){a=a&&a.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(a)?"inline":/^(li)$/i.test(a)?
"list-item":/^(tr)$/i.test(a)?"table-row":/^(table)$/i.test(a)?"table":/^(tbody)$/i.test(a)?"table-row-group":"block"},addClass:function(a,b){a.classList?a.classList.add(b):a.className+=(a.className.length?" ":"")+b},removeClass:function(a,b){a.classList?a.classList.remove(b):a.className=a.className.toString().replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(a,b,e,f){function k(a,b){var e=0;if(8>=u)e=q.css(a,b);else{var m=!1;/^(width|height)$/.test(b)&&
0===t.getPropertyValue(a,"display")&&(m=!0,t.setPropertyValue(a,"display",t.Values.getDisplayType(a)));var n=function(){m&&t.setPropertyValue(a,"display","none")};if(!f){if("height"===b&&"border-box"!==t.getPropertyValue(a,"boxSizing").toString().toLowerCase())return e=a.offsetHeight-(parseFloat(t.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(t.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(t.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(t.getPropertyValue(a,"paddingBottom"))||
0),n(),e;if("width"===b&&"border-box"!==t.getPropertyValue(a,"boxSizing").toString().toLowerCase())return e=a.offsetWidth-(parseFloat(t.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(t.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(t.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(t.getPropertyValue(a,"paddingRight"))||0),n(),e}e=l(a)===g?h.getComputedStyle(a,null):l(a).computedStyle?l(a).computedStyle:l(a).computedStyle=h.getComputedStyle(a,null);"borderColor"===b&&(b="borderTopColor");
e=9===u&&"filter"===b?e.getPropertyValue(b):e[b];""!==e&&null!==e||(e=a.style[b]);n()}"auto"===e&&/^(top|right|bottom|left)$/i.test(b)&&(n=k(a,"position"),("fixed"===n||"absolute"===n&&/top|left/i.test(b))&&(e=q(a).position()[b]+"px"));return e}var m;if(t.Hooks.registered[b])m=t.Hooks.getRoot(b),e===g&&(e=t.getPropertyValue(a,t.Names.prefixCheck(m)[0])),t.Normalizations.registered[m]&&(e=t.Normalizations.registered[m]("extract",a,e)),m=t.Hooks.extractValue(b,e);else if(t.Normalizations.registered[b]){var n;
e=t.Normalizations.registered[b]("name",a);"transform"!==e&&(n=k(a,t.Names.prefixCheck(e)[0]),t.Values.isCSSNullValue(n)&&t.Hooks.templates[b]&&(n=t.Hooks.templates[b][1]));m=t.Normalizations.registered[b]("extract",a,n)}if(!/^[\d-]/.test(m))if((e=l(a))&&e.isSVG&&t.Names.SVGAttribute(b))if(/^(height|width)$/i.test(b))try{m=a.getBBox()[b]}catch(p){m=0}else m=a.getAttribute(b);else m=k(a,t.Names.prefixCheck(b)[0]);return t.Values.isCSSNullValue(m)&&(m=0),2<=B.debug&&console.log("Get "+b+": "+m),m},
setPropertyValue:function(a,b,e,f,g){var k=b;if("scroll"===b)g.container?g.container["scroll"+g.direction]=e:"Left"===g.direction?h.scrollTo(e,g.alternateValue):h.scrollTo(g.alternateValue,e);else if(t.Normalizations.registered[b]&&"transform"===t.Normalizations.registered[b]("name",a))t.Normalizations.registered[b]("inject",a,e),k="transform",e=l(a).transformCache[b];else{t.Hooks.registered[b]&&(k=b,b=t.Hooks.getRoot(b),f=f||t.getPropertyValue(a,b),e=t.Hooks.injectValue(k,e,f));if(t.Normalizations.registered[b]&&
(e=t.Normalizations.registered[b]("inject",a,e),b=t.Normalizations.registered[b]("name",a)),k=t.Names.prefixCheck(b)[0],8>=u)try{a.style[k]=e}catch(m){B.debug&&console.log("Browser does not support ["+e+"] for ["+k+"]")}else(f=l(a))&&f.isSVG&&t.Names.SVGAttribute(b)?a.setAttribute(b,e):a.style[k]=e;2<=B.debug&&console.log("Set "+b+" ("+k+"): "+e)}return[k,e]},flushTransformCache:function(a){var b="",e=l(a);if((u||B.State.isAndroid&&!B.State.isChrome)&&e&&e.isSVG){var e=function(b){return parseFloat(t.getPropertyValue(a,
b))},f={translate:[e("translateX"),e("translateY")],skewX:[e("skewX")],skewY:[e("skewY")],scale:1!==e("scale")?[e("scale"),e("scale")]:[e("scaleX"),e("scaleY")],rotate:[e("rotateZ"),0,0]};q.each(l(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate");f[a]&&(b+=a+"("+f[a].join(" ")+") ",delete f[a])})}else{var g,h;q.each(l(a).transformCache,function(e){return g=l(a).transformCache[e],"transformPerspective"===e?(h=g,!0):(9===u&&
"rotateZ"===e&&(e="rotate"),void(b+=e+g+" "))});h&&(b="perspective"+h+" "+b)}t.setPropertyValue(a,"transform",b)}};t.Hooks.register();t.Normalizations.register();B.hook=function(a,b,f){var h;return a=e(a),q.each(a,function(a,e){if(l(e)===g&&B.init(e),f===g)h===g&&(h=t.getPropertyValue(e,b));else{var k=t.setPropertyValue(e,b,f);"transform"===k[0]&&B.CSS.flushTransformCache(e);h=k}}),h};var A=function(){function a(){return n?T.promise||null:u}function f(a,e){function k(f){var w,A;if(r.begin&&0===N)try{r.begin.call(x,
x)}catch(G){setTimeout(function(){throw G;},1)}if("scroll"===Z){var E,v,K,D=/^x$/i.test(r.axis)?"Left":"Top",J=parseFloat(r.offset)||0;r.container?y.isWrapped(r.container)||y.isNode(r.container)?(r.container=r.container[0]||r.container,E=r.container["scroll"+D],K=E+q(a).position()[D.toLowerCase()]+J):r.container=null:(E=B.State.scrollAnchor[B.State["scrollProperty"+D]],v=B.State.scrollAnchor[B.State["scrollProperty"+("Left"===D?"Top":"Left")]],K=q(a).offset()[D.toLowerCase()]+J);u={scroll:{rootPropertyValue:!1,
startValue:E,currentValue:E,endValue:K,unitType:"",easing:r.easing,scrollData:{container:r.container,direction:D,alternateValue:v}},element:a};B.debug&&console.log("tweensContainer (scroll): ",u.scroll,a)}else if("reverse"===Z){if(w=l(a),!w)return;if(!w.tweensContainer)return void q.dequeue(a,r.queue);"none"===w.opts.display&&(w.opts.display="auto");"hidden"===w.opts.visibility&&(w.opts.visibility="visible");w.opts.loop=!1;w.opts.begin=null;w.opts.complete=null;F.easing||delete r.easing;F.duration||
delete r.duration;r=q.extend({},w.opts,r);A=q.extend(!0,{},w?w.tweensContainer:null);for(J in A)A.hasOwnProperty(J)&&"element"!==J&&(D=A[J].startValue,A[J].startValue=A[J].currentValue=A[J].endValue,A[J].endValue=D,y.isEmptyObject(F)||(A[J].easing=r.easing),B.debug&&console.log("reverse tweensContainer ("+J+"): "+JSON.stringify(A[J]),a));u=A}else if("start"===Z){(w=l(a))&&w.tweensContainer&&!0===w.isAnimating&&(A=w.tweensContainer);E=function(b,f){var h,k,l;return y.isFunction(b)&&(b=b.call(a,e,ea)),
y.isArray(b)?(h=b[0],!y.isArray(b[1])&&/^[\d-]/.test(b[1])||y.isFunction(b[1])||t.RegEx.isHex.test(b[1])?l=b[1]:(y.isString(b[1])&&!t.RegEx.isHex.test(b[1])||y.isArray(b[1]))&&(k=f?b[1]:m(b[1],r.duration),b[2]!==g&&(l=b[2]))):h=b,f||(k=k||r.easing),y.isFunction(h)&&(h=h.call(a,e,ea)),y.isFunction(l)&&(l=l.call(a,e,ea)),[h||0,k,l]};v=function(e,f){var k=t.Hooks.getRoot(e),l=!1,m=f[0],p=f[1],x=f[2];if(!(w&&w.isSVG||"tween"===k||!1!==t.Names.prefixCheck(k)[1]||t.Normalizations.registered[k]!==g))return void(B.debug&&
console.log("Skipping ["+k+"] due to a lack of browser support."));(r.display!==g&&null!==r.display&&"none"!==r.display||r.visibility!==g&&"hidden"!==r.visibility)&&/opacity|filter/.test(e)&&!x&&0!==m&&(x=0);r._cacheValues&&A&&A[e]?(x===g&&(x=A[e].endValue+A[e].unitType),l=w.rootPropertyValueCache[k]):t.Hooks.registered[e]?x===g?(l=t.getPropertyValue(a,k),x=t.getPropertyValue(a,e,l)):l=t.Hooks.templates[k][1]:x===g&&(x=t.getPropertyValue(a,e));var y,z=!1,v=function(a,b){var e,f;return f=(b||"0").toString().toLowerCase().replace(/[%A-z]+$/,
function(a){return e=a,""}),e||(e=t.Values.getUnitType(a)),[f,e]};y=v(e,x);x=y[0];k=y[1];y=v(e,m);m=y[0].replace(/^([+-\/*])=/,function(a,b){return z=b,""});y=y[1];x=parseFloat(x)||0;m=parseFloat(m)||0;"%"===y&&(/^(fontSize|lineHeight)$/.test(e)?(m/=100,y="em"):/^scale/.test(e)?(m/=100,y=""):/(Red|Green|Blue)$/i.test(e)&&(m=m/100*255,y=""));v=function(){var e=a.parentNode||b.body,f=t.getPropertyValue(a,"position"),g=t.getPropertyValue(a,"fontSize"),k=f===Y.lastPosition&&e===Y.lastParent,l=g===Y.lastFontSize;
Y.lastParent=e;Y.lastPosition=f;Y.lastFontSize=g;var m={};if(l&&k)m.emToPx=Y.lastEmToPx,m.percentToPxWidth=Y.lastPercentToPxWidth,m.percentToPxHeight=Y.lastPercentToPxHeight;else{var n=w&&w.isSVG?b.createElementNS("http://www.w3.org/2000/svg","rect"):b.createElement("div");B.init(n);e.appendChild(n);q.each(["overflow","overflowX","overflowY"],function(a,b){B.CSS.setPropertyValue(n,b,"hidden")});B.CSS.setPropertyValue(n,"position",f);B.CSS.setPropertyValue(n,"fontSize",g);B.CSS.setPropertyValue(n,
"boxSizing","content-box");q.each("minWidth maxWidth width minHeight maxHeight height".split(" "),function(a,b){B.CSS.setPropertyValue(n,b,"100%")});B.CSS.setPropertyValue(n,"paddingLeft","100em");m.percentToPxWidth=Y.lastPercentToPxWidth=(parseFloat(t.getPropertyValue(n,"width",null,!0))||1)/100;m.percentToPxHeight=Y.lastPercentToPxHeight=(parseFloat(t.getPropertyValue(n,"height",null,!0))||1)/100;m.emToPx=Y.lastEmToPx=(parseFloat(t.getPropertyValue(n,"paddingLeft"))||1)/100;e.removeChild(n)}return null===
Y.remToPx&&(Y.remToPx=parseFloat(t.getPropertyValue(b.body,"fontSize"))||16),null===Y.vwToPx&&(Y.vwToPx=parseFloat(h.innerWidth)/100,Y.vhToPx=parseFloat(h.innerHeight)/100),m.remToPx=Y.remToPx,m.vwToPx=Y.vwToPx,m.vhToPx=Y.vhToPx,1<=B.debug&&console.log("Unit ratios: "+JSON.stringify(m),a),m};if(/[\/*]/.test(z))y=k;else if(k!==y&&0!==x)if(0===m)y=k;else{n=n||v();v=/margin|padding|left|right|width|text|word|letter/i.test(e)||/X$/.test(e)||"x"===e?"x":"y";switch(k){case "%":x*="x"===v?n.percentToPxWidth:
n.percentToPxHeight;break;case "px":break;default:x*=n[k+"ToPx"]}switch(y){case "%":x*=1/("x"===v?n.percentToPxWidth:n.percentToPxHeight);break;case "px":break;default:x*=1/n[y+"ToPx"]}}switch(z){case "+":m=x+m;break;case "-":m=x-m;break;case "*":m*=x;break;case "/":m=x/m}u[e]={rootPropertyValue:l,startValue:x,currentValue:x,endValue:m,unitType:y,easing:p};B.debug&&console.log("tweensContainer ("+e+"): "+JSON.stringify(u[e]),a)};for(D in z)if(z.hasOwnProperty(D)){K=t.Names.camelCase(D);f=E(z[D]);
if(0<=t.Lists.colors.indexOf(K)){var O=f[0],J=f[1],H=f[2];if(t.RegEx.isHex.test(O)){f=["Red","Green","Blue"];for(var O=t.Values.hexToRgb(O),H=H?t.Values.hexToRgb(H):g,M=0;M<f.length;M++){var X=[O[M]];J&&X.push(J);H!==g&&X.push(H[M]);v(K+f[M],X)}continue}}v(K,f)}u.element=a}u.element&&(t.Values.addClass(a,"velocity-animating"),na.push(u),w=l(a),w&&(""===r.queue&&(w.tweensContainer=u,w.opts=r),w.isAnimating=!0),N===ea-1?(B.State.calls.push([na,x,r,null,T.resolver]),!1===B.State.isTicking&&(B.State.isTicking=
!0,p())):N++)}var n,r=q.extend({},B.defaults,F),u={};switch(l(a)===g&&B.init(a),parseFloat(r.delay)&&!1!==r.queue&&q.queue(a,r.queue,function(b){B.velocityQueueEntryFlag=!0;l(a).delayTimer={setTimeout:setTimeout(b,parseFloat(r.delay)),next:b}}),r.duration.toString().toLowerCase()){case "fast":r.duration=200;break;case "normal":r.duration=400;break;case "slow":r.duration=600;break;default:r.duration=parseFloat(r.duration)||1}!1!==B.mock&&(!0===B.mock?r.duration=r.delay=1:(r.duration*=parseFloat(B.mock)||
1,r.delay*=parseFloat(B.mock)||1));r.easing=m(r.easing,r.duration);r.begin&&!y.isFunction(r.begin)&&(r.begin=null);r.progress&&!y.isFunction(r.progress)&&(r.progress=null);r.complete&&!y.isFunction(r.complete)&&(r.complete=null);r.display!==g&&null!==r.display&&(r.display=r.display.toString().toLowerCase(),"auto"===r.display&&(r.display=B.CSS.Values.getDisplayType(a)));r.visibility!==g&&null!==r.visibility&&(r.visibility=r.visibility.toString().toLowerCase());r.mobileHA=r.mobileHA&&B.State.isMobile&&
!B.State.isGingerbread;!1===r.queue?r.delay?setTimeout(k,r.delay):k():q.queue(a,r.queue,function(a,b){return!0===b?(T.promise&&T.resolver(x),!0):(B.velocityQueueEntryFlag=!0,void k(a))});""!==r.queue&&"fx"!==r.queue||"inprogress"===q.queue(a)[0]||q.dequeue(a)}var k,n,u,w,x,z,F,D=arguments[0]&&(arguments[0].p||q.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||y.isString(arguments[0].properties));y.isWrapped(this)?(n=!1,w=0,x=this,u=this):(n=!0,w=1,x=D?arguments[0].elements||
arguments[0].e:arguments[0]);var T={promise:null,resolver:null,rejecter:null};if(n&&B.Promise&&(T.promise=new B.Promise(function(a,b){T.resolver=a;T.rejecter=b})),D?(z=arguments[0].properties||arguments[0].p,F=arguments[0].options||arguments[0].o):(z=arguments[w],F=arguments[w+1]),x=e(x),!x)return void(T.promise&&(z&&F&&!1===F.promiseRejectEmpty?T.resolver():T.rejecter()));var ea=x.length,N=0;if(!/^(stop|finish|finishAll)$/i.test(z)&&!q.isPlainObject(F))for(F={},w+=1;w<arguments.length;w++)y.isArray(arguments[w])||
!/^(fast|normal|slow)$/i.test(arguments[w])&&!/^\d/.test(arguments[w])?y.isString(arguments[w])||y.isArray(arguments[w])?F.easing=arguments[w]:y.isFunction(arguments[w])&&(F.complete=arguments[w]):F.duration=arguments[w];var Z;switch(z){case "scroll":Z="scroll";break;case "reverse":Z="reverse";break;case "finish":case "finishAll":case "stop":q.each(x,function(a,b){l(b)&&l(b).delayTimer&&(clearTimeout(l(b).delayTimer.setTimeout),l(b).delayTimer.next&&l(b).delayTimer.next(),delete l(b).delayTimer);
"finishAll"!==z||!0!==F&&!y.isString(F)||(q.each(q.queue(b,y.isString(F)?F:""),function(a,b){y.isFunction(b)&&b()}),q.queue(b,y.isString(F)?F:"",[]))});var ha=[];return q.each(B.State.calls,function(a,b){b&&q.each(b[1],function(e,f){var h=F===g?"":F;return!0!==h&&b[2].queue!==h&&(F!==g||!1!==b[2].queue)||void q.each(x,function(e,g){if(g===f)if((!0===F||y.isString(F))&&(q.each(q.queue(g,y.isString(F)?F:""),function(a,b){y.isFunction(b)&&b(null,!0)}),q.queue(g,y.isString(F)?F:"",[])),"stop"===z){var k=
l(g);k&&k.tweensContainer&&!1!==h&&q.each(k.tweensContainer,function(a,b){b.endValue=b.currentValue});ha.push(a)}else"finish"!==z&&"finishAll"!==z||(b[2].duration=1)})})}),"stop"===z&&(q.each(ha,function(a,b){r(b,!0)}),T.promise&&T.resolver(x)),a();default:if(!q.isPlainObject(z)||y.isEmptyObject(z)){if(y.isString(z)&&B.Redirects[z]){k=q.extend({},F);var V=k.duration,ta=k.delay||0;return!0===k.backwards&&(x=q.extend(!0,[],x).reverse()),q.each(x,function(a,b){parseFloat(k.stagger)?k.delay=ta+parseFloat(k.stagger)*
a:y.isFunction(k.stagger)&&(k.delay=ta+k.stagger.call(b,a,ea));k.drag&&(k.duration=parseFloat(V)||(/^(callout|transition)/.test(z)?1E3:400),k.duration=Math.max(k.duration*(k.backwards?1-a/ea:(a+1)/ea),.75*k.duration,200));B.Redirects[z].call(b,b,k||{},a,ea,x,T.promise?T:g)}),a()}w="Velocity: First argument ("+z+") was not a property map, a known action, or a registered redirect. Aborting.";return T.promise?T.rejecter(Error(w)):console.log(w),a()}Z="start"}var Y={lastParent:null,lastPosition:null,
lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},na=[];q.each(x,function(a,b){y.isNode(b)&&f(b,a)});k=q.extend({},B.defaults,F);k.loop=parseInt(k.loop,10);w=2*k.loop-1;if(k.loop)for(D=0;D<w;D++){var Aa={delay:k.delay,progress:k.progress};D===w-1&&(Aa.display=k.display,Aa.visibility=k.visibility,Aa.complete=k.complete);A(x,"reverse",Aa)}return a()},B=q.extend(A,B);B.animate=A;var F=h.requestAnimationFrame||w;return B.State.isMobile||
b.hidden===g||b.addEventListener("visibilitychange",function(){b.hidden?(F=function(a){return setTimeout(function(){a(!0)},16)},p()):F=h.requestAnimationFrame||w}),a.Velocity=B,a!==h&&(a.fn.velocity=A,a.fn.velocity.defaults=B.defaults),q.each(["Down","Up"],function(a,b){B.Redirects["slide"+b]=function(a,e,f,h,k,l){e=q.extend({},e);var m=e.begin,n=e.complete,p={},r={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};e.display===g&&(e.display="Down"===b?"inline"===B.CSS.Values.getDisplayType(a)?
"inline-block":"block":"none");e.begin=function(){0===f&&m&&m.call(k,k);for(var e in r)if(r.hasOwnProperty(e)){p[e]=a.style[e];var g=t.getPropertyValue(a,e);r[e]="Down"===b?[g,0]:[0,g]}p.overflow=a.style.overflow;a.style.overflow="hidden"};e.complete=function(){for(var b in p)p.hasOwnProperty(b)&&(a.style[b]=p[b]);f===h-1&&(n&&n.call(k,k),l&&l.resolver(k))};B(a,r,e)}}),q.each(["In","Out"],function(a,b){B.Redirects["fade"+b]=function(a,e,f,h,k,l){a=q.extend({},e);var m=a.complete;e={opacity:"In"===
b?1:0};0!==f&&(a.begin=null);f!==h-1?a.complete=null:a.complete=function(){m&&m.call(k,k);l&&l.resolver(k)};a.display===g&&(a.display="In"===b?"auto":"none");B(this,e,a)}}),B}(window.jQuery||window.Zepto||window,window,document)});!function(a){"function"==typeof require&&"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(["velocity"],a):a()}(function(){return function(a,h,b,g){var f=a.Velocity;if(!f||!f.Utilities)return void(h.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting."));var e=f.Utilities;if(function(a,b){var f=[];return!(!a||!b)&&(e.each([a,b],function(a,b){var g=[];e.each(b,function(a,b){for(;5>b.toString().length;)b="0"+b;g.push(b)});f.push(g.join(""))}),
parseFloat(f[0])>parseFloat(f[1]))}({major:1,minor:1,patch:0},f.version))throw alert("Velocity UI Pack: You need to update Velocity (velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity."),Error("Velocity UI Pack: You need to update Velocity (velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.");f.RegisterEffect=f.RegisterUI=function(a,b){function h(a,b,g,k){var l,m=0;e.each(a.nodeType?[a]:a,function(a,b){k&&(g+=a*k);l=b.parentNode;propertiesToSum=
["height","paddingTop","paddingBottom","marginTop","marginBottom"];"border-box"===f.CSS.getPropertyValue(b,"boxSizing").toString().toLowerCase()&&(propertiesToSum=["height"]);e.each(propertiesToSum,function(a,e){m+=parseFloat(f.CSS.getPropertyValue(b,e))})});f.animate(l,{height:("In"===b?"+":"-")+"="+m},{queue:!1,easing:"ease-in-out",duration:g*("In"===b?.6:1)})}return f.Redirects[a]=function(l,r,q,u,w,y,x){var z=q===u-1;x=x||b.loop;"function"==typeof b.defaultDuration?b.defaultDuration=b.defaultDuration.call(w,
w):b.defaultDuration=parseFloat(b.defaultDuration);for(var B=0;B<b.calls.length;B++){var D=b.calls[B],t=D[0],A=1E3,F=D[1],D=D[2]||{},G={};if(r.duration!==g?A=r.duration:b.defaultDuration!==g&&(A=b.defaultDuration),G.duration=A*(F||1),G.queue=r.queue||"",G.easing=D.easing||"ease",G.delay=parseFloat(D.delay)||0,G.loop=!b.loop&&D.loop,G._cacheValues=D._cacheValues||!0,0===B){if(G.delay+=parseFloat(r.delay)||0,0===q&&(G.begin=function(){r.begin&&r.begin.call(w,w);var b=a.match(/(In|Out)$/);b&&"In"===
b[0]&&t.opacity!==g&&e.each(w.nodeType?[w]:w,function(a,b){f.CSS.setPropertyValue(b,"opacity",0)});r.animateParentHeight&&b&&h(w,b[0],A+G.delay,r.stagger)}),null!==r.display)r.display!==g&&"none"!==r.display?G.display=r.display:/In$/.test(a)&&(F=f.CSS.Values.getDisplayType(l),G.display="inline"===F?"inline-block":F);r.visibility&&"hidden"!==r.visibility&&(G.visibility=r.visibility)}if(B===b.calls.length-1){var K=function(){r.display!==g&&"none"!==r.display||!/Out$/.test(a)||e.each(w.nodeType?[w]:
w,function(a,b){f.CSS.setPropertyValue(b,"display","none")});r.complete&&r.complete.call(w,w);y&&y.resolver(w||l)};G.complete=function(){if(x&&f.Redirects[a](l,r,q,u,w,y,!0===x||Math.max(0,x-1)),b.reset){for(var e in b.reset)if(b.reset.hasOwnProperty(e)){var h=b.reset[e];f.CSS.Hooks.registered[e]!==g||"string"!=typeof h&&"number"!=typeof h||(b.reset[e]=[b.reset[e],b.reset[e]])}e={duration:0,queue:!1};z&&(e.complete=K);f.animate(l,b.reset,e)}else z&&K()};"hidden"===r.visibility&&(G.visibility=r.visibility)}f.animate(l,
t,G)}},f};f.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:0},.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]},.25],[{opacity:[1,
"easeInOutQuad"]},.25],[{opacity:[0,"easeInOutQuad"]},.25],[{opacity:[1,"easeInOutQuad"]},.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1E3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},
.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,
800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,
rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,
calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%",
"100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,
rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,
0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:800,
calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1E3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1E3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1E3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,
calls:[[{opacity:[1,0],translateY:[30,-1E3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1E3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1E3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},
.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,
calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],
reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,
calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,
75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,
800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,
800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,2E3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,
2E3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,
2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var l in f.RegisterEffect.packagedEffects)f.RegisterEffect.packagedEffects.hasOwnProperty(l)&&f.RegisterEffect(l,f.RegisterEffect.packagedEffects[l]);f.RunSequence=function(a){var b=e.extend(!0,[],a);1<b.length&&(e.each(b.reverse(),function(a,g){var h=b[a+1];if(h){var k=g.o||g.options,l=h.o||h.options,k=k&&!1===k.sequenceQueue?"begin":
"complete",w=l&&l[k],y={};y[k]=function(){var a=h.e||h.elements,a=a.nodeType?[a]:a;w&&w.call(a,a);f(g)};h.o?h.o=e.extend({},l,y):h.options=e.extend({},l,y)}}),b.reverse());f(b[0])}}(window.jQuery||window.Zepto||window,window,document)});(function(){var a=window.Messenger,h;h=window.Messenger=function(){return h._call.apply(this,arguments)};window.Messenger.noConflict=function(){window.Messenger=a;return h}})();
window.Messenger._=function(){if(window._)return window._;var a=Array.prototype,h=a.slice,b=Object.prototype.toString,g=a.forEach,f=a.filter,a=Object.keys,e=Function.prototype.bind,l={},k={},n=l.each=l.forEach=function(a,b,e){if(null!=a)if(g&&a.forEach===g)a.forEach(b,e);else if(a.length===+a.length)for(var f=0,h=a.length;f<h&&b.call(e,a[f],f,a)!==k;f++);else for(f in a)if(l.has(a,f)&&b.call(e,a[f],f,a)===k)break};l.result=function(a,b){if(null==a)return null;var e=a[b];return l.isFunction(e)?e.call(a):
e};l.once=function(a){var b=!1,e;return function(){if(b)return e;b=!0;e=a.apply(this,arguments);a=null;return e}};var m=0;l.uniqueId=function(a){var b=++m+"";return a?a+b:b};l.filter=l.select=function(a,b,e){var g=[];if(null==a)return g;if(f&&a.filter===f)return a.filter(b,e);n(a,function(a,f,h){b.call(e,a,f,h)&&(g[g.length]=a)});return g};n("Arguments Function String Number Date RegExp".split(" "),function(a){l["is"+a]=function(e){return b.call(e)=="[object "+a+"]"}});l.defaults=function(a){n(h.call(arguments,
1),function(b){if(b)for(var e in b)null==a[e]&&(a[e]=b[e])});return a};l.extend=function(a){n(h.call(arguments,1),function(b){if(b)for(var e in b)a[e]=b[e]});return a};l.keys=a||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],e;for(e in a)l.has(a,e)&&(b[b.length]=e);return b};l.bind=function(a,b){if(a.bind===e&&e)return e.apply(a,h.call(arguments,1));var f=h.call(arguments,2);return function(){return a.apply(b,f.concat(h.call(arguments)))}};l.isObject=function(a){return a===
Object(a)};return l}();
window.Messenger.Events=function(){return window.Backbone&&Backbone.Events?Backbone.Events:function(){var a=/\s+/,h=function(b,e,g,h){if(!g)return!0;if("object"===typeof g)for(var n in g)b[e].apply(b,[n,g[n]].concat(h));else if(a.test(g)){g=g.split(a);n=0;for(var m=g.length;n<m;n++)b[e].apply(b,[g[n]].concat(h))}else return!0},b=function(a,b){var g,h=-1,n=a.length;switch(b.length){case 0:for(;++h<n;)(g=a[h]).callback.call(g.ctx);break;case 1:for(;++h<n;)(g=a[h]).callback.call(g.ctx,b[0]);break;case 2:for(;++h<
n;)(g=a[h]).callback.call(g.ctx,b[0],b[1]);break;case 3:for(;++h<n;)(g=a[h]).callback.call(g.ctx,b[0],b[1],b[2]);break;default:for(;++h<n;)(g=a[h]).callback.apply(g.ctx,b)}},g={on:function(a,b,g){if(!h(this,"on",a,[b,g])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:g,ctx:g||this});return this},once:function(a,b,g){if(!h(this,"once",a,[b,g])||!b)return this;var k=this,n=_.once(function(){k.off(a,n);b.apply(this,arguments)});n._callback=
b;this.on(a,n,g);return this},off:function(a,b,g){var k,n,m,p,r,q,u,w;if(!this._events||!h(this,"off",a,[b,g]))return this;if(!a&&!b&&!g)return this._events={},this;p=a?[a]:_.keys(this._events);r=0;for(q=p.length;r<q;r++)if(a=p[r],k=this._events[a]){m=[];if(b||g)for(u=0,w=k.length;u<w;u++)n=k[u],(b&&b!==n.callback&&b!==n.callback._callback||g&&g!==n.context)&&m.push(n);this._events[a]=m}return this},trigger:function(a){if(!this._events)return this;var e=Array.prototype.slice.call(arguments,1);if(!h(this,
"trigger",a,e))return this;var g=this._events[a],k=this._events.all;g&&b(g,e);k&&b(k,arguments);return this},listenTo:function(a,b,g){var h=this._listeners||(this._listeners={}),n=a._listenerId||(a._listenerId=_.uniqueId("l"));h[n]=a;a.on(b,"object"===typeof b?this:g,this);return this},stopListening:function(a,b,g){var h=this._listeners;if(h){if(a)a.off(b,"object"===typeof b?this:g,this),b||g||delete h[a._listenerId];else{"object"===typeof b&&(g=this);for(var n in h)h[n].off(b,g,this);this._listeners=
{}}return this}}};g.bind=g.on;g.unbind=g.off;return g}()}();
(function(){var a,h,b,g,f,e,l,k,n,m,p={}.hasOwnProperty,r=function(a,b){function e(){this.constructor=a}for(var f in b)p.call(b,f)&&(a[f]=b[f]);e.prototype=b.prototype;a.prototype=new e;a.__super__=b.prototype;return a},q=[].slice,u=[].indexOf||function(a){for(var b=0,e=this.length;b<e;b++)if(b in this&&this[b]===a)return b;return-1};a=jQuery;e=null!=(b=window._)?b:window.Messenger._;g=null!=(n="undefined"!==typeof Backbone&&null!==Backbone?Backbone.Events:void 0)?n:window.Messenger.Events;b=function(){function b(f){a.extend(this,
g);e.isObject(f)&&(f.el&&this.setElement(f.el),this.model=f.model);this.initialize.apply(this,arguments)}b.prototype.setElement=function(b){this.$el=a(b);return this.el=this.$el[0]};b.prototype.delegateEvents=function(a){var b,f,g,h,k,l;if(a||(a=e.result(this,"events"))){this.undelegateEvents();b=/^(\S+)\s*(.*)$/;l=[];for(g in a){k=a[g];e.isFunction(k)||(k=this[a[g]]);if(!k)throw Error('Method "'+a[g]+'" does not exist');h=g.match(b);f=h[1];h=h[2];k=e.bind(k,this);f+=".delegateEvents"+this.cid;""===
h?l.push(this.jqon(f,k)):l.push(this.jqon(f,h,k))}return l}};b.prototype.jqon=function(a,b,e){var f;if(null!=this.$el.on)return(f=this.$el).on.apply(f,arguments);null==e&&(e=b,b=void 0);return null!=b?this.$el.delegate(b,a,e):this.$el.bind(a,e)};b.prototype.jqoff=function(a){var b;if(null!=this.$el.off)return(b=this.$el).off.apply(b,arguments);this.$el.undelegate();return this.$el.unbind(a)};b.prototype.undelegateEvents=function(){return this.jqoff(".delegateEvents"+this.cid)};b.prototype.remove=
function(){this.undelegateEvents();return this.$el.remove()};return b}();l=function(b){function f(){return f.__super__.constructor.apply(this,arguments)}r(f,b);f.prototype.defaults={hideAfter:10,scroll:!0,closeButtonText:"&times;",escapeText:!1};f.prototype.initialize=function(b){null==b&&(b={});this.rendered=this.shown=!1;this.messenger=b.messenger;return this.options=a.extend({},this.options,b,this.defaults)};f.prototype.show=function(){var a;this.rendered||this.render();this.$message.removeClass("messenger-hidden");
a=this.shown;this.shown=!0;if(!a)return this.trigger("show")};f.prototype.hide=function(){var a;if(this.rendered&&(this.$message.addClass("messenger-hidden"),a=this.shown,this.shown=!1,a))return this.trigger("hide")};f.prototype.cancel=function(){return this.hide()};f.prototype.update=function(b){var f,g=this;e.isString(b)&&(b={message:b});a.extend(this.options,b);this.lastUpdate=new Date;this.rendered=!1;this.events=null!=(f=this.options.events)?f:{};this.render();this.actionsToEvents();this.delegateEvents();
this.checkClickable();this.options.hideAfter?(this.$message.addClass("messenger-will-hide-after"),null!=this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(function(){return g.hide()},1E3*this.options.hideAfter)):this.$message.removeClass("messenger-will-hide-after");if(this.options.hideOnNavigate){if(this.$message.addClass("messenger-will-hide-on-navigate"),null!=("undefined"!==typeof Backbone&&null!==Backbone?Backbone.history:void 0))Backbone.history.on("route",function(){return g.hide()})}else this.$message.removeClass("messenger-will-hide-on-navigate");
return this.trigger("update",this)};f.prototype.scrollTo=function(){if(this.options.scroll)return a.scrollTo(this.$el,{duration:400,offset:{left:0,top:-20}})};f.prototype.timeSinceUpdate=function(){return this.lastUpdate?new Date-this.lastUpdate:null};f.prototype.actionsToEvents=function(){var a,b,e,f,g=this;e=this.options.actions;f=[];for(b in e)a=e[b],f.push(this.events['click [data-action="'+b+'"] a']=function(a){return function(e){e.preventDefault();e.stopPropagation();g.trigger("action:"+b,a,
e);return a.action.call(g,e,g)}}(a));return f};f.prototype.checkClickable=function(){var a,b,e;b=this.events;e=[];for(a in b)"click"===a?e.push(this.$message.addClass("messenger-clickable")):e.push(void 0);return e};f.prototype.undelegateEvents=function(){var a;f.__super__.undelegateEvents.apply(this,arguments);return null!=(a=this.$message)?a.removeClass("messenger-clickable"):void 0};f.prototype.parseActions=function(){var b,e,f,g;e=[];g=this.options.actions;for(f in g)b=g[f],b=a.extend({},b),b.name=
f,null==b.label&&(b.label=f),e.push(b);return e};f.prototype.template=function(b){var e,f,g,h,k,l,m,n=this;g=a("<div class='messenger-message message alert "+b.type+" message-"+b.type+" alert-"+b.type+"'>");b.showCloseButton&&(f=a('<button type="button" class="messenger-close" data-dismiss="alert">'),f.html(b.closeButtonText),f.click(function(){var a;n.cancel();if("function"===typeof(a=n.options).onClickClose)a.onClickClose();return!0}),g.append(f));f=b.escapeText?a('<div class="messenger-message-inner"></div>').text(b.message):
a('<div class="messenger-message-inner">'+b.message+"</div>");g.append(f);b.actions.length&&(e=a('<div class="messenger-actions">'));m=b.actions;k=0;for(l=m.length;k<l;k++)h=m[k],b=a("<span>"),b.attr("data-action",""+h.name),f=a("<a>"),f.html(h.label),b.append(a('<span class="messenger-phrase">')),b.append(f),e.append(b);g.append(e);return g};f.prototype.render=function(){var b;if(!this.rendered)return this._hasSlot||(this.setElement(this.messenger._reserveMessageSlot(this)),this._hasSlot=!0),b=a.extend({},
this.options,{actions:this.parseActions()}),this.$message=a(this.template(b)),this.$el.html(this.$message),this.rendered=this.shown=!0,this.trigger("render")};return f}(b);f=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}r(b,a);b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);return this._timers={}};b.prototype.cancel=function(){this.clearTimers();this.hide();if(null!=this._actionInstance&&null!=this._actionInstance.abort)return this._actionInstance.abort()};
b.prototype.clearTimers=function(){var a,b,e,f;e=this._timers;for(a in e)b=e[a],clearTimeout(b);this._timers={};return null!=(f=this.$message)?f.removeClass("messenger-retry-soon messenger-retry-later"):void 0};b.prototype.render=function(){var a,e,f,g;b.__super__.render.apply(this,arguments);this.clearTimers();f=this.options.actions;g=[];for(e in f)a=f[e],a.auto?g.push(this.startCountdown(e,a)):g.push(void 0);return g};b.prototype.renderPhrase=function(a,b){return a.phrase.replace("TIME",this.formatTime(b))};
b.prototype.formatTime=function(a){var b;b=function(a,b){a=Math.floor(a);1!==a&&(b+="s");return"in "+a+" "+b};if(0===Math.floor(a))return"now...";if(60>a)return b(a,"second");a/=60;return 60>a?b(a,"minute"):b(a/60,"hour")};b.prototype.startCountdown=function(a,b){var e,f,g,h,k=this;if(null==this._timers[a])return e=this.$message.find("[data-action='"+a+"'] .messenger-phrase"),f=null!=(h=b.delay)?h:3,10>=f?(this.$message.removeClass("messenger-retry-later"),this.$message.addClass("messenger-retry-soon")):
(this.$message.removeClass("messenger-retry-soon"),this.$message.addClass("messenger-retry-later")),g=function(){var h;e.text(k.renderPhrase(b,f));if(0<f)return h=Math.min(f,1),f-=h,k._timers[a]=setTimeout(g,1E3*h);k.$message.removeClass("messenger-retry-soon messenger-retry-later");delete k._timers[a];return b.action()},g()};return b}(l);k=function(b){function g(){return g.__super__.constructor.apply(this,arguments)}r(g,b);g.prototype.tagName="ul";g.prototype.className="messenger";g.prototype.messageDefaults=
{type:"info"};g.prototype.initialize=function(b){this.options=null!=b?b:{};this.history=[];return this.messageDefaults=a.extend({},this.messageDefaults,this.options.messageDefaults)};g.prototype.render=function(){return this.updateMessageSlotClasses()};g.prototype.findById=function(a){return e.filter(this.history,function(b){return b.msg.options.id===a})};g.prototype._reserveMessageSlot=function(b){var e,f,g=this;e=a("<li>");e.addClass("messenger-message-slot");this.$el.prepend(e);this.history.push({msg:b,
$slot:e});this._enforceIdConstraint(b);for(b.on("update",function(){return g._enforceIdConstraint(b)});this.options.maxMessages&&this.history.length>this.options.maxMessages;)f=this.history.shift(),f.msg.remove(),f.$slot.remove();return e};g.prototype._enforceIdConstraint=function(a){var b,e,f,g;if(null!=a.options.id)for(g=this.history,e=0,f=g.length;e<f;e++)if(b=g[e],b=b.msg,null!=b.options.id&&b.options.id===a.options.id&&a!==b)if(a.options.singleton){a.hide();break}else b.hide()};g.prototype.newMessage=
function(a){var b,e,g,h,k=this;null==a&&(a={});a.messenger=this;l=null!=(e=null!=(g=Messenger.themes[null!=(h=a.theme)?h:this.options.theme])?g.Message:void 0)?e:f;b=new l(a);b.on("show",function(){if(a.scrollTo&&"fixed"!==k.$el.css("position"))return b.scrollTo()});b.on("hide show render",this.updateMessageSlotClasses,this);return b};g.prototype.updateMessageSlotClasses=function(){var a,b,e,f,g,h,k;f=!0;b=null;a=!1;k=this.history;g=0;for(h=k.length;g<h;g++)e=k[g],e.$slot.removeClass("messenger-first messenger-last messenger-shown"),
e.msg.shown&&e.msg.rendered&&(e.$slot.addClass("messenger-shown"),a=!0,b=e,f&&(f=!1,e.$slot.addClass("messenger-first")));null!=b&&b.$slot.addClass("messenger-last");return this.$el[""+(a?"remove":"add")+"Class"]("messenger-empty")};g.prototype.hideAll=function(){var a,b,e,f,g;f=this.history;g=[];b=0;for(e=f.length;b<e;b++)a=f[b],g.push(a.msg.hide());return g};g.prototype.post=function(b){var f;e.isString(b)&&(b={message:b});b=a.extend(!0,{},this.messageDefaults,b);f=this.newMessage(b);f.update(b);
return f};return g}(b);h=function(b){function f(){return f.__super__.constructor.apply(this,arguments)}r(f,b);f.prototype.doDefaults={progressMessage:null,successMessage:null,errorMessage:"Error connecting to the server.",showSuccessWithoutError:!0,retry:{auto:!0,allow:!0},action:a.ajax};f.prototype.hookBackboneAjax=function(b){var f,g=this;null==b&&(b={});if(null==window.Backbone)throw"Expected Backbone to be defined";b=e.defaults(b,{id:"BACKBONE_ACTION",errorMessage:!1,successMessage:"Request completed successfully.",
showSuccessWithoutError:!1});f=function(a){var f;f=e.extend({},b,a.messenger);return g["do"](f,a)};if(null!=Backbone.ajax){Backbone.ajax._withoutMessenger&&(Backbone.ajax=Backbone.ajax._withoutMessenger);if(null==b.action||b.action===this.doDefaults.action)b.action=Backbone.ajax;f._withoutMessenger=Backbone.ajax;return Backbone.ajax=f}return Backbone.sync=e.wrap(Backbone.sync,function(){var b,e,g;g=arguments[0];b=2<=arguments.length?q.call(arguments,1):[];e=a.ajax;a.ajax=f;g.call.apply(g,[this].concat(q.call(b)));
return a.ajax=e})};f.prototype._getHandlerResponse=function(a){return!1===a?!1:!0===a||null==a?!0:a};f.prototype._parseEvents=function(a){var b,e,f,g,h;null==a&&(a={});g={};for(f in a)e=a[f],b=f.indexOf(" "),h=f.substring(0,b),b=f.substring(b+1),null==g[h]&&(g[h]={}),g[h][b]=e;return g};f.prototype._normalizeResponse=function(){var a,b,f,g,h,k,l;f=1<=arguments.length?q.call(arguments,0):[];a=h=g=null;k=0;for(l=f.length;k<l;k++)b=f[k],"success"===b||"timeout"===b||"abort"===b?g=b:null!=(null!=b?b.readyState:
void 0)&&null!=(null!=b?b.responseText:void 0)?h=b:e.isObject(b)&&(a=b);return[g,a,h]};f.prototype.run=function(){var b,f,g,h,k,l,m,n,p,r=this;l=arguments[0];n=arguments[1];b=3<=arguments.length?q.call(arguments,2):[];null==n&&(n={});l=a.extend(!0,{},this.messageDefaults,this.doDefaults,null!=l?l:{});f=this._parseEvents(l.events);g=function(a,b){var f;f=l[a+"Message"];return e.isFunction(f)?f.call(r,a,b):f};m=null!=(h=l.messageInstance)?h:this.newMessage(l);null!=l.id&&(m.options.id=l.id);null!=l.progressMessage&&
m.update(a.extend({},l,{message:g("progress",null),type:"info"}));k={};e.each(["error","success"],function(h){var p;p=n[h];return k[h]=function(){var k,t,w,y,K,D,ea,N;t=1<=arguments.length?q.call(arguments,0):[];y=r._normalizeResponse.apply(r,t);k=y[0];y=y[2];"success"===h&&null==m.errorCount&&!1===l.showSuccessWithoutError&&(l.successMessage=null);"error"===h&&(null==l.errorCount&&(l.errorCount=0),l.errorCount+=1);t=l.returnsPromise?t[0]:"function"===typeof p?p.apply(null,t):void 0;t=r._getHandlerResponse(t);
e.isString(t)&&(t={message:t});if("error"!==h||0!==(null!=y?y.status:void 0)&&"abort"!==k)if("error"===h&&null!=l.ignoredErrorCodes&&(K=null!=y?y.status:void 0,0<=u.call(l.ignoredErrorCodes,K)))m.hide();else return k={message:g(h,y),type:h,events:null!=(D=f[h])?D:{},hideOnNavigate:"success"===h},w=a.extend({},l,k,t),"number"===typeof(null!=(ea=w.retry)?ea.allow:void 0)&&w.retry.allow--,"error"===h&&500<=(null!=y?y.status:void 0)&&null!=(N=w.retry)&&N.allow?(null==w.retry.delay&&(w.retry.delay=4>w.errorCount?
10:300),w.hideAfter&&(null==w._hideAfter&&(w._hideAfter=w.hideAfter),w.hideAfter=w._hideAfter+w.retry.delay),w._retryActions=!0,w.actions={retry:{label:"retry now",phrase:"Retrying TIME",auto:w.retry.auto,delay:w.retry.delay,action:function(){w.messageInstance=m;return setTimeout(function(){return r["do"].apply(r,[w,n].concat(q.call(b)))},0)}},cancel:{action:function(){return m.cancel()}}}):w._retryActions&&(delete w.actions.retry,delete w.actions.cancel,delete l._retryActions),m.update(w),t&&w.message?
(Messenger(e.extend({},r.options,{instance:r})),m.show()):m.hide();else m.hide()}});if(!l.returnsPromise)for(p in k)h=k[p],n[p]=h;m._actionInstance=l.action.apply(l,[n].concat(q.call(b)));l.returnsPromise&&m._actionInstance.then(k.success,k.error);return m};f.prototype["do"]=f.prototype.run;f.prototype.ajax=function(){var b,e;e=arguments[0];b=2<=arguments.length?q.call(arguments,1):[];e.action=a.ajax;return this.run.apply(this,[e].concat(q.call(b)))};f.prototype.expectPromise=function(a,b){b=e.extend({},
b,{action:a,returnsPromise:!0});return this.run(b)};f.prototype.error=function(a){null==a&&(a={});"string"===typeof a&&(a={message:a});a.type="error";return this.post(a)};f.prototype.info=function(a){null==a&&(a={});"string"===typeof a&&(a={message:a});a.type="info";return this.post(a)};f.prototype.success=function(a){null==a&&(a={});"string"===typeof a&&(a={message:a});a.type="success";return this.post(a)};return f}(k);a.fn.messenger=function(){var b,f,g,l,m;f=arguments[0];b=2<=arguments.length?
q.call(arguments,1):[];null==f&&(f={});if(null!=f&&e.isString(f))return(m=this.data("messenger"))[f].apply(m,b);b=f;null==this.data("messenger")&&(k=null!=(g=null!=(l=Messenger.themes[b.theme])?l.Messenger:void 0)?g:h,this.data("messenger",g=new k(a.extend({el:this},b))),g.render());return this.data("messenger")};window.Messenger._call=function(b){var e,f,g,h,k,l,m;b=a.extend({extraClasses:"messenger-fixed messenger-on-bottom messenger-on-right",theme:"future",maxMessages:9,parentLocations:["body"]},
a._messengerDefaults,Messenger.options,b);null!=b.theme&&(b.extraClasses+=" messenger-theme-"+b.theme);e=b.instance||Messenger.instance;if(null==b.instance){k=b.parentLocations;f=null;l=0;for(m=k.length;l<m;l++)if(h=k[l],f=a(h),f.length){g=h;break}e?a(e._location).is(a(g))||(e.$el.detach(),f.prepend(e.$el)):(e=a("<ul>"),f.prepend(e),e=e.messenger(b),e._location=g,Messenger.instance=e)}null!=e._addedClasses&&e.$el.removeClass(e._addedClasses);e.$el.addClass(b=""+e.className+" "+b.extraClasses);e._addedClasses=
b;return e};a.extend(Messenger,{Message:f,Messenger:h,themes:null!=(m=Messenger.themes)?m:{}});a.globalMessenger=window.Messenger=Messenger}).call(this);(function(a){var h=function(b,g){this.options=a.extend({},a.fn.editableform.defaults,g);this.$div=a(b);this.options.scope||(this.options.scope=this)};h.prototype={constructor:h,initInput:function(){this.input=this.options.input;this.value=this.input.str2value(this.options.value);this.input.prerender()},initTemplate:function(){this.$form=a(a.fn.editableform.template)},initButtons:function(){var b=this.$form.find(".editable-buttons");b.append(a.fn.editableform.buttons);"bottom"===this.options.showbuttons&&
b.addClass("editable-buttons-bottom")},render:function(){this.$loading=a(a.fn.editableform.loading);this.$div.empty().append(this.$loading);this.initTemplate();this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove();this.showLoading();this.isSaving=!1;this.$div.triggerHandler("rendering");this.initInput();this.$form.find("div.editable-input").append(this.input.$tpl);this.$div.append(this.$form);a.when(this.input.render()).then(a.proxy(function(){this.options.showbuttons||
this.input.autosubmit();this.$form.find(".editable-cancel").click(a.proxy(this.cancel,this));this.input.error?(this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(a){a.preventDefault()})):(this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled"),this.input.value2input(null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:
this.value),this.$form.submit(a.proxy(this.submit,this)));this.$div.triggerHandler("rendered");this.showForm();this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var a,g;this.$form?(a=this.$form.outerWidth(),g=this.$form.outerHeight(),a&&this.$loading.width(a),g&&this.$loading.height(g),this.$form.hide()):(a=this.$loading.parent().width())&&this.$loading.width(a);this.$loading.show()},showForm:function(a){this.$loading.hide();
this.$form.show();!1!==a&&this.input.activate();this.$div.triggerHandler("show")},error:function(b){var g=this.$form.find(".control-group"),f=this.$form.find(".editable-error-block");if(!1===b)g.removeClass(a.fn.editableform.errorGroupClass),f.removeClass(a.fn.editableform.errorBlockClass).empty().hide();else{if(b){b=(""+b).split("\n");for(var e=0;e<b.length;e++)b[e]=a("<div>").text(b[e]).html();b=b.join("<br>")}g.addClass(a.fn.editableform.errorGroupClass);f.addClass(a.fn.editableform.errorBlockClass).html(b).show()}},
submit:function(b){b.stopPropagation();b.preventDefault();var g=this.input.input2value();b=this.validate(g);if("object"===a.type(b)&&void 0!==b.newValue){if(g=b.newValue,this.input.value2input(g),"string"===typeof b.msg){this.error(b.msg);this.showForm();return}}else if(b){this.error(b);this.showForm();return}if(this.options.savenochange||this.input.value2str(g)!=this.input.value2str(this.value)){var f=this.input.value2submit(g);this.isSaving=!0;a.when(this.save(f)).done(a.proxy(function(a){this.isSaving=
!1;var b="function"===typeof this.options.success?this.options.success.call(this.options.scope,a,g):null;!1===b?(this.error(!1),this.showForm(!1)):"string"===typeof b?(this.error(b),this.showForm()):(b&&"object"===typeof b&&b.hasOwnProperty("newValue")&&(g=b.newValue),this.error(!1),this.value=g,this.$div.triggerHandler("save",{newValue:g,submitValue:f,response:a}))},this)).fail(a.proxy(function(a){this.isSaving=!1;a="function"===typeof this.options.error?this.options.error.call(this.options.scope,
a,g):"string"===typeof a?a:a.responseText||a.statusText||"Unknown error!";this.error(a);this.showForm()},this))}else this.$div.triggerHandler("nochange")},save:function(b){this.options.pk=a.fn.editableutils.tryParseJson(this.options.pk,!0);var g="function"===typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk;if("function"===typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==g&&void 0!==g))return this.showLoading(),
b={name:this.options.name||"",value:b,pk:g},"function"===typeof this.options.params?b=this.options.params.call(this.options.scope,b):(this.options.params=a.fn.editableutils.tryParseJson(this.options.params,!0),a.extend(b,this.options.params)),"function"===typeof this.options.url?this.options.url.call(this.options.scope,b):a.ajax(a.extend({url:this.options.url,data:b,type:"POST"},this.options.ajaxOptions))},validate:function(a){void 0===a&&(a=this.value);if("function"===typeof this.options.validate)return this.options.validate.call(this.options.scope,
a)},option:function(a,g){a in this.options&&(this.options[a]=g);"value"===a&&this.setValue(g)},setValue:function(a,g){this.value=g?this.input.str2value(a):a;this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}};a.fn.editableform=function(b){var g=arguments;return this.each(function(){var f=a(this),e=f.data("editableform"),l="object"===typeof b&&b;e||f.data("editableform",e=new h(this,l));"string"===typeof b&&e[b].apply(e,Array.prototype.slice.call(g,1))})};a.fn.editableform.Constructor=
h;a.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1};a.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>';a.fn.editableform.loading='<div class="editableform-loading"></div>';
a.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>';a.fn.editableform.errorGroupClass=null;a.fn.editableform.errorBlockClass="editable-error";a.fn.editableform.engine="jquery"})(window.jQuery);
(function(a){a.fn.editableutils={inherit:function(a,b){var g=function(){};g.prototype=b.prototype;a.prototype=new g;a.prototype.constructor=a;a.superclass=b.prototype},setCursorPosition:function(a,b){if(a.setSelectionRange)a.setSelectionRange(b,b);else if(a.createTextRange){var g=a.createTextRange();g.collapse(!0);g.moveEnd("character",b);g.moveStart("character",b);g.select()}},tryParseJson:function(a,b){if("string"===typeof a&&a.length&&a.match(/^[\{\[].*[\}\]]$/))if(b)try{a=(new Function("return "+
a))()}catch(g){}finally{}else a=(new Function("return "+a))();return a},sliceObj:function(h,b,g){var f,e,l={};if(!a.isArray(b)||!b.length)return l;for(var k=0;k<b.length;k++)f=b[k],h.hasOwnProperty(f)&&(l[f]=h[f]),!0!==g&&(e=f.toLowerCase(),h.hasOwnProperty(e)&&(l[f]=h[e]));return l},getConfigData:function(h){var b={};a.each(h.data(),function(a,f){if("object"!==typeof f||f&&"object"===typeof f&&(f.constructor===Object||f.constructor===Array))b[a]=f});return b},objectKeys:function(a){if(Object.keys)return Object.keys(a);
if(a!==Object(a))throw new TypeError("Object.keys called on a non-object");var b=[],g;for(g in a)Object.prototype.hasOwnProperty.call(a,g)&&b.push(g);return b},escape:function(h){return a("<div>").text(h).html()},itemsByValue:function(h,b,g){if(!b||null===h)return[];if("function"!==typeof g){var f=g||"value";g=function(a){return a[f]}}var e=a.isArray(h),l=[],k=this;a.each(b,function(b,f){if(f.children)l=l.concat(k.itemsByValue(h,f.children,g));else if(e)a.grep(h,function(a){return a==(f&&"object"===
typeof f?g(f):f)}).length&&l.push(f);else{var p=f&&"object"===typeof f?g(f):f;h==p&&l.push(f)}});return l},createInput:function(h){var b;b=h.type;"date"===b&&("inline"===h.mode?a.fn.editabletypes.datefield?b="datefield":a.fn.editabletypes.dateuifield&&(b="dateuifield"):a.fn.editabletypes.date?b="date":a.fn.editabletypes.dateui&&(b="dateui"),"date"!==b||a.fn.editabletypes.date||(b="combodate"));"datetime"===b&&"inline"===h.mode&&(b="datetimefield");"wysihtml5"!==b||a.fn.editabletypes[b]||(b="textarea");
if("function"===typeof a.fn.editabletypes[b])return b=a.fn.editabletypes[b],h=this.sliceObj(h,this.objectKeys(b.defaults)),h=new b(h);a.error("Unknown type: "+b);return!1},supportsTransitions:function(){var a=(document.body||document.documentElement).style,b="transition",g=["Moz","Webkit","Khtml","O","ms"];if("string"===typeof a[b])return!0;for(var b=b.charAt(0).toUpperCase()+b.substr(1),f=0;f<g.length;f++)if("string"===typeof a[g[f]+b])return!0;return!1}}})(window.jQuery);
(function(a){var h=function(a,b){this.init(a,b)},b=function(a,b){this.init(a,b)};h.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(b,f){this.$element=a(b);this.options=a.extend({},a.fn.editableContainer.defaults,f);this.splitOptions();this.formOptions.scope=this.$element[0];this.initContainer();this.delayedHide=!1;this.$element.on("destroyed",a.proxy(function(){this.destroy()},this));a(document).data("editable-handlers-attached")||
(a(document).on("keyup.editable",function(b){27===b.which&&a(".editable-open").editableContainer("hide")}),a(document).on("click.editable",function(b){var f=a(b.target),g,n=".editable-container .ui-datepicker-header .datepicker .modal-backdrop .bootstrap-wysihtml5-insert-image-modal .bootstrap-wysihtml5-insert-link-modal".split(" ");if(a.contains(document.documentElement,b.target)&&!f.is(document)){for(g=0;g<n.length;g++)if(f.is(n[g])||f.parents(n[g]).length)return;h.prototype.closeOthers(b.target)}}),
a(document).data("editable-handlers-attached",!0))},splitOptions:function(){this.containerOptions={};this.formOptions={};if(!a.fn[this.containerName])throw Error(this.containerName+" not found. Have you included corresponding js file?");for(var b in this.options)b in this.defaults?this.containerOptions[b]=this.options[b]:this.formOptions[b]=this.options[b]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var a;return this.containerDataName&&(a=this.$element.data(this.containerDataName))?
a:a=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:a.proxy(this.save,this),nochange:a.proxy(function(){this.hide("nochange")},this),cancel:a.proxy(function(){this.hide("cancel")},this),show:a.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},
this),rendering:a.proxy(this.setPosition,this),resize:a.proxy(this.setPosition,this),rendered:a.proxy(function(){this.$element.triggerHandler("shown",a(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(b){this.$element.addClass("editable-open");!1!==b&&this.closeOthers(this.$element[0]);this.innerShow();this.tip().addClass(this.containerClass);this.$form=a("<div>");this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form);
this.renderForm()},hide:function(a){this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")&&(this.$form.data("editableform").isSaving?this.delayedHide={reason:a}:(this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",a||"manual")))},innerShow:function(){},innerHide:function(){},toggle:function(a){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(a)},setPosition:function(){},save:function(a,
b){this.$element.triggerHandler("save",b);this.hide("save")},option:function(a,b){this.options[a]=b;a in this.containerOptions?(this.containerOptions[a]=b,this.setContainerOption(a,b)):(this.formOptions[a]=b,this.$form&&this.$form.editableform("option",a,b))},setContainerOption:function(a,b){this.call("option",a,b)},destroy:function(){this.hide();this.innerDestroy();this.$element.off("destroyed");this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(b){a(".editable-open").each(function(f,
e){if(e!==b&&!a(e).find(b).length){var h=a(e),k=h.data("editableContainer");k&&("cancel"===k.options.onblur?h.data("editableContainer").hide("onblur"):"submit"===k.options.onblur&&h.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}};a.fn.editableContainer=function(g){var f=arguments;return this.each(function(){var e=a(this),l=e.data("editableContainer"),k="object"===typeof g&&
g,n="inline"===k.mode?b:h;l||e.data("editableContainer",l=new n(this,k));"string"===typeof g&&l[g].apply(l,Array.prototype.slice.call(f,1))})};a.fn.editableContainer.Popup=h;a.fn.editableContainer.Inline=b;a.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"};jQuery.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(window.jQuery);
(function(a){a.extend(a.fn.editableContainer.Inline.prototype,a.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=a("<span></span>");this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={};this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide();this.tip().insertAfter(this.$element).show()},
innerHide:function(){this.$tip.hide(this.options.anim,a.proxy(function(){this.$element.show();this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})})(window.jQuery);
(function(a){var h=function(b,g){this.$element=a(b);this.options=a.extend({},a.fn.editable.defaults,g,a.fn.editableutils.getConfigData(this.$element));this.options.selector?this.initLive():this.init();this.options.highlight&&!a.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};h.prototype={constructor:h,init:function(){var b=!1;this.options.name=this.options.name||this.$element.attr("id");this.options.scope=this.$element[0];if(this.input=a.fn.editableutils.createInput(this.options)){void 0===
this.options.value||null===this.options.value?(this.value=this.input.html2value(a.trim(this.$element.html())),b=!0):(this.options.value=a.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"===typeof this.options.value?this.input.str2value(this.options.value):this.options.value);this.$element.addClass("editable");"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped");"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+
".editable",a.proxy(function(a){this.options.disabled||a.preventDefault();"mouseenter"===this.options.toggle?this.show():this.toggle("click"!==this.options.toggle)},this))):this.$element.attr("tabindex",-1);"function"===typeof this.options.display&&(this.options.autotext="always");switch(this.options.autotext){case "always":b=!0;break;case "auto":b=!a.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!b;break;default:b=!1}a.when(b?this.render():!0).then(a.proxy(function(){this.options.disabled?
this.disable():this.enable();this.$element.triggerHandler("init",this)},this))}},initLive:function(){var b=this.options.selector;this.options.selector=!1;this.options.autotext="never";this.$element.on(this.options.toggle+".editable",b,a.proxy(function(b){var f=a(b.target);f.data("editable")||(f.hasClass(this.options.emptyclass)&&f.empty(),f.editable(this.options).trigger(b))},this))},render:function(a){if(!1!==this.options.display)return this.input.value2htmlFinal?this.input.value2html(this.value,
this.$element[0],this.options.display,a):"function"===typeof this.options.display?this.options.display.call(this.$element[0],this.value,a):this.input.value2html(this.value,this.$element[0])},enable:function(){this.options.disabled=!1;this.$element.removeClass("editable-disabled");this.handleEmpty(this.isEmpty);"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0;this.hide();this.$element.addClass("editable-disabled");
this.handleEmpty(this.isEmpty);this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(b,g){if(b&&"object"===typeof b)a.each(b,a.proxy(function(b,e){this.option(a.trim(b),e)},this));else{this.options[b]=g;if("disabled"===b)return g?this.disable():this.enable();"value"===b&&this.setValue(g);this.container&&this.container.option(b,g);this.input.option&&this.input.option(b,g)}},handleEmpty:function(b){!1!==this.options.display&&
((this.isEmpty=void 0!==b?b:"function"===typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===a.trim(this.$element.html()),this.options.disabled)?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(b){if(!this.options.disabled){if(!this.container){var g=
a.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(g);this.$element.on("save.internal",a.proxy(this.save,this));this.container=this.$element.data("editableContainer")}else if(this.container.tip().is(":visible"))return;this.container.show(b)}},hide:function(){this.container&&this.container.hide()},toggle:function(a){this.container&&this.container.tip().is(":visible")?this.hide():this.show(a)},save:function(a,g){if(this.options.unsavedclass){var f;(f=(f=(f=
(f="function"===typeof this.options.url)||!1===this.options.display)||void 0!==g.response)||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(g.newValue))?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var e=this.$element,h=e.css("background-color");e.css("background-color",this.options.highlight);setTimeout(function(){"transparent"===h&&(h="");e.css("background-color",h);e.addClass("editable-bg-transition");
setTimeout(function(){e.removeClass("editable-bg-transition")},1700)},10)}this.setValue(g.newValue,!1,g.response)},validate:function(){if("function"===typeof this.options.validate)return this.options.validate.call(this,this.value)},setValue:function(b,g,f){this.value=g?this.input.str2value(b):b;this.container&&this.container.option("value",this.value);a.when(this.render(f)).then(a.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable();
this.container&&this.container.destroy();this.input.destroy();"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable"));this.$element.off("save.internal");this.$element.removeClass("editable editable-open editable-disabled");this.$element.removeData("editable")}};a.fn.editable=function(b){var g={},f=arguments;switch(b){case "validate":return this.each(function(){var b=a(this).data("editable"),e;b&&(e=b.validate())&&(g[b.options.name]=
e)}),g;case "getValue":return 2===arguments.length&&!0===arguments[1]?g=this.eq(0).data("editable").value:this.each(function(){var b=a(this).data("editable");b&&void 0!==b.value&&null!==b.value&&(g[b.options.name]=b.input.value2submit(b.value))}),g;case "submit":var e=arguments[1]||{},l=this,k=this.editable("validate");if(a.isEmptyObject(k)){var n={};1===l.length?(k=l.data("editable"),n={name:k.options.name||"",value:k.input.value2submit(k.value),pk:"function"===typeof k.options.pk?k.options.pk.call(k.options.scope):
k.options.pk},"function"===typeof k.options.params?n=k.options.params.call(k.options.scope,n):(k.options.params=a.fn.editableutils.tryParseJson(k.options.params,!0),a.extend(n,k.options.params)),n={url:k.options.url,data:n,type:"POST"},e.success=e.success||k.options.success,e.error=e.error||k.options.error):(k=this.editable("getValue"),n={url:e.url,data:k,type:"POST"});n.success="function"===typeof e.success?function(a){e.success.call(l,a,e)}:a.noop;n.error="function"===typeof e.error?function(){e.error.apply(l,
arguments)}:a.noop;e.ajaxOptions&&a.extend(n,e.ajaxOptions);e.data&&a.extend(n.data,e.data);a.ajax(n)}else"function"===typeof e.error&&e.error.call(l,k);return this}return this.each(function(){var e=a(this),g=e.data("editable"),k="object"===typeof b&&b;k&&k.selector?new h(this,k):(g||e.data("editable",g=new h(this,k)),"string"===typeof b&&g[b].apply(g,Array.prototype.slice.call(f,1)))})};a.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,
emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}})(window.jQuery);
(function(a){a.fn.editabletypes={};var h=function(){};h.prototype={init:function(b,g,f){this.type=b;this.options=a.extend({},f,g)},prerender:function(){this.$input=this.$tpl=a(this.options.tpl);this.error=this.$clear=null},render:function(){},value2html:function(b,g){a(g)[this.options.escape?"text":"html"](a.trim(b))},html2value:function(b){return a("<div>").html(b).text()},value2str:function(a){return a},str2value:function(a){return a},value2submit:function(a){return a},value2input:function(a){this.$input.val(a)},
input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(b){return a("<div>").text(b).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(a){void 0!==this.options[a]&&null!==this.options[a]&&this.$input.attr(a,this.options[a])},option:function(a,g){this.options[a]=g}};h.defaults=
{tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0};a.extend(a.fn.editabletypes,{abstractinput:h})})(window.jQuery);
(function(a){var h=function(a){};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{render:function(){var b=a.Deferred();this.error=null;this.onSourceReady(function(){this.renderList();b.resolve()},function(){this.error=this.options.sourceError;b.resolve()});return b.promise()},html2value:function(a){return null},value2html:function(b,g,f,e){var h=a.Deferred(),k=function(){"function"===typeof f?f.call(g,b,this.sourceData,e):this.value2htmlFinal(b,g);h.resolve()};
if(null===b)k.call(this);else this.onSourceReady(k,function(){h.resolve()});return h.promise()},onSourceReady:function(b,g){var f;a.isFunction(this.options.source)?(f=this.options.source.call(this.options.scope),this.sourceData=null):f=this.options.source;if(this.options.sourceCache&&a.isArray(this.sourceData))b.call(this);else{try{f=a.fn.editableutils.tryParseJson(f,!1)}catch(e){g.call(this);return}if("string"===typeof f){if(this.options.sourceCache){var h=f,k;a(document).data(h)||a(document).data(h,
{});k=a(document).data(h);if(!1===k.loading&&k.sourceData){this.sourceData=k.sourceData;this.doPrepend();b.call(this);return}if(!0===k.loading){k.callbacks.push(a.proxy(function(){this.sourceData=k.sourceData;this.doPrepend();b.call(this)},this));k.err_callbacks.push(a.proxy(g,this));return}k.loading=!0;k.callbacks=[];k.err_callbacks=[]}f=a.extend({url:f,type:"get",cache:!1,dataType:"json",success:a.proxy(function(e){k&&(k.loading=!1);this.sourceData=this.makeArray(e);a.isArray(this.sourceData)?(k&&
(k.sourceData=this.sourceData,a.each(k.callbacks,function(){this.call()})),this.doPrepend(),b.call(this)):(g.call(this),k&&a.each(k.err_callbacks,function(){this.call()}))},this),error:a.proxy(function(){g.call(this);k&&(k.loading=!1,a.each(k.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);a.ajax(f)}else this.sourceData=this.makeArray(f),a.isArray(this.sourceData)?(this.doPrepend(),b.call(this)):g.call(this)}},doPrepend:function(){null!==this.options.prepend&&void 0!==
this.options.prepend&&(a.isArray(this.prependData)||(a.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=a.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"===typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),a.isArray(this.prependData)&&a.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},
value2htmlFinal:function(a,g){},makeArray:function(b){var g,f,e=[],h,k;if(!b||"string"===typeof b)return null;if(a.isArray(b)){k=function(a,b){f={value:a,text:b};if(2<=g++)return!1};for(var n=0;n<b.length;n++)h=b[n],"object"===typeof h?(g=0,a.each(h,k),1===g?e.push(f):1<g&&(h.children&&(h.children=this.makeArray(h.children)),e.push(h))):e.push({value:h,text:h})}else a.each(b,function(a,b){e.push({value:a,text:b})});return e},option:function(a,g){this.options[a]=g;"source"===a&&(this.sourceData=null);
"prepend"===a&&(this.prependData=null)}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null});a.fn.editabletypes.list=h})(window.jQuery);
(function(a){var h=function(a){this.init("text",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),a.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=a('<span class="editable-clear-x"></span>'),
this.$input.after(this.$clear).css("padding-right",24).keyup(a.proxy(function(b){if(!~a.inArray(b.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var g=this;this.t=setTimeout(function(){g.toggleClear(b)},100)}},this)).parent().css("position","relative"),this.$clear.click(a.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(a){if(this.$clear){a=this.$input.val().length;var g=this.$clear.is(":visible");a&&!g&&this.$clear.show();!a&&g&&this.$clear.hide()}},clear:function(){this.$clear.hide();
this.$input.val("").focus()}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0});a.fn.editabletypes.text=h})(window.jQuery);
(function(a){var h=function(a){this.init("textarea",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{render:function(){this.setClass();this.setAttr("placeholder");this.setAttr("rows");this.$input.keydown(function(b){b.ctrlKey&&13===b.which&&a(this).closest("form").submit()})},activate:function(){a.fn.editabletypes.text.prototype.activate.call(this)}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",
placeholder:null,rows:7});a.fn.editabletypes.textarea=h})(window.jQuery);
(function(a){var h=function(a){this.init("select",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.list);a.extend(h.prototype,{renderList:function(){this.$input.empty();var b=function(g,f){var e;if(a.isArray(f))for(var h=0;h<f.length;h++)e={},f[h].children?(e.label=f[h].text,g.append(b(a("<optgroup>",e),f[h].children))):(e.value=f[h].value,f[h].disabled&&(e.disabled=!0),g.append(a("<option>",e).text(f[h].text)));return g};b(this.$input,this.sourceData);this.setClass();this.$input.on("keydown.editable",
function(b){13===b.which&&a(this).closest("form").submit()})},value2htmlFinal:function(b,g){var f="",e=a.fn.editableutils.itemsByValue(b,this.sourceData);e.length&&(f=e[0].text);a.fn.editabletypes.abstractinput.prototype.value2html.call(this,f,g)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){a(this).closest("form").submit()})}});h.defaults=a.extend({},a.fn.editabletypes.list.defaults,{tpl:"<select></select>"});a.fn.editabletypes.select=h})(window.jQuery);
(function(a){var h=function(a){this.init("checklist",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.list);a.extend(h.prototype,{renderList:function(){var b;this.$tpl.empty();if(a.isArray(this.sourceData)){for(var g=0;g<this.sourceData.length;g++)b=a("<label>").append(a("<input>",{type:"checkbox",value:this.sourceData[g].value})).append(a("<span>").text(" "+this.sourceData[g].text)),a("<div>").append(b).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]');this.setClass()}},
value2str:function(b){return a.isArray(b)?b.sort().join(a.trim(this.options.separator)):""},str2value:function(b){var g;g=null;"string"===typeof b&&b.length?(g=new RegExp("\\s*"+a.trim(this.options.separator)+"\\s*"),g=b.split(g)):g=a.isArray(b)?b:[b];return g},value2input:function(b){this.$input.prop("checked",!1);a.isArray(b)&&b.length&&this.$input.each(function(g,f){var e=a(f);a.each(b,function(a,b){e.val()==b&&e.prop("checked",!0)})})},input2value:function(){var b=[];this.$input.filter(":checked").each(function(g,
f){b.push(a(f).val())});return b},value2htmlFinal:function(b,g){var f=[],e=a.fn.editableutils.itemsByValue(b,this.sourceData),h=this.options.escape;e.length?(a.each(e,function(b,e){var g=h?a.fn.editableutils.escape(e.text):e.text;f.push(g)}),a(g).html(f.join("<br>"))):a(g).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(b){13===b.which&&a(this).closest("form").submit()})}});h.defaults=a.extend({},a.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',
inputclass:null,separator:","});a.fn.editabletypes.checklist=h})(window.jQuery);(function(a){var h=function(a){this.init("password",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.text);a.extend(h.prototype,{value2html:function(b,g){b?a(g).text("[hidden]"):a(g).empty()},html2value:function(a){return null}});h.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="password">'});a.fn.editabletypes.password=h})(window.jQuery);
(function(a){var h=function(a){this.init("email",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.text);h.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="email">'});a.fn.editabletypes.email=h})(window.jQuery);(function(a){var h=function(a){this.init("url",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.text);h.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="url">'});a.fn.editabletypes.url=h})(window.jQuery);
(function(a){var h=function(a){this.init("tel",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.text);h.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'});a.fn.editabletypes.tel=h})(window.jQuery);
(function(a){var h=function(a){this.init("number",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.text);a.extend(h.prototype,{render:function(){h.superclass.render.call(this);this.setAttr("min");this.setAttr("max");this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}});h.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null});a.fn.editabletypes.number=h})(window.jQuery);
(function(a){var h=function(a){this.init("range",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.number);a.extend(h.prototype,{render:function(){this.$input=this.$tpl.filter("input");this.setClass();this.setAttr("min");this.setAttr("max");this.setAttr("step");this.$input.on("input",function(){a(this).siblings("output").text(a(this).val())})},activate:function(){this.$input.focus()}});h.defaults=a.extend({},a.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',
inputclass:"input-medium"});a.fn.editabletypes.range=h})(window.jQuery);(function(a){var h=function(a){this.init("time",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{render:function(){this.setClass()}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'});a.fn.editabletypes.time=h})(window.jQuery);
(function(a){var h=function(b){this.init("select2",b,h.defaults);b.select2=b.select2||{};this.sourceData=null;b.placeholder&&(b.select2.placeholder=b.placeholder);if(!b.select2.tags&&b.source){var g=b.source;a.isFunction(b.source)&&(g=b.source.call(b.scope));"string"===typeof g?(b.select2.ajax=b.select2.ajax||{},b.select2.ajax.data||(b.select2.ajax.data=function(a){return{query:a}}),b.select2.ajax.results||(b.select2.ajax.results=function(a){return{results:a}}),b.select2.ajax.url=g):(this.sourceData=
this.convertSource(g),b.select2.data=this.sourceData)}this.options.select2=a.extend({},h.defaults.select2,b.select2);this.isMultiple=this.options.select2.tags||this.options.select2.multiple;this.isRemote="ajax"in this.options.select2;this.idFunc=this.options.select2.id;if("function"!==typeof this.idFunc){var f=this.idFunc||"id";this.idFunc=function(a){return a[f]}}this.formatSelection=this.options.select2.formatSelection;"function"!==typeof this.formatSelection&&(this.formatSelection=function(a){return a.text})};
a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{render:function(){this.setClass();if(this.isRemote)this.$input.on("select2-loaded",a.proxy(function(a){this.sourceData=a.items.results},this));if(this.isMultiple)this.$input.on("change",function(){a(this).closest("form").parent().triggerHandler("resize")})},value2html:function(b,g){var f="",e,l=this;this.options.select2.tags?e=b:this.sourceData&&(e=a.fn.editableutils.itemsByValue(b,this.sourceData,this.idFunc));a.isArray(e)?
(f=[],a.each(e,function(a,b){f.push(b&&"object"===typeof b?l.formatSelection(b):b)})):e&&(f=l.formatSelection(e));f=a.isArray(f)?f.join(this.options.viewseparator):f;h.superclass.value2html.call(this,f,g)},html2value:function(a){return this.options.select2.tags?this.str2value(a,this.options.viewseparator):null},value2input:function(b){a.isArray(b)&&(b=b.join(this.getSeparator()));this.$input.data("select2")?this.$input.val(b).trigger("change",!0):(this.$input.val(b),this.$input.select2(this.options.select2));
if(this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var g=this.options.select2.formatSelection;this.options.select2.id||g||(g=a(this.options.scope),g.data("editable").isEmpty||(b={id:b,text:g.text()},this.$input.select2("data",b)))}},input2value:function(){return this.$input.select2("val")},str2value:function(b,g){if("string"!==typeof b||!this.isMultiple)return b;g=g||this.getSeparator();var f,e,h;if(null===b||1>b.length)return null;f=b.split(g);e=0;for(h=f.length;e<h;e+=1)f[e]=
a.trim(f[e]);return f},autosubmit:function(){this.$input.on("change",function(b,g){g||a(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||a.fn.select2.defaults.separator},convertSource:function(b){if(a.isArray(b)&&b.length&&void 0!==b[0].value)for(var g=0;g<b.length;g++)void 0!==b[g].value&&(b[g].id=b[g].value,delete b[g].value);return b},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,
{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "});a.fn.editabletypes.select2=h})(window.jQuery);
(function(a){var h=function(b,g){this.$element=a(b);this.$element.is("input")?(this.options=a.extend({},a.fn.combodate.defaults,g,this.$element.data()),this.init()):a.error("Combodate should be applied to INPUT element")};h.prototype={constructor:h,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]};this.$widget=a('<span class="combodate"></span>').html(this.getTemplate());this.initCombos();
this.$widget.on("change","select",a.proxy(function(b){this.$element.val(this.getValue()).change();this.options.smartDays&&(a(b.target).is(".month")||a(b.target).is(".year"))&&this.fillCombo("day")},this));this.$widget.find("select").css("width","auto");this.$element.hide().after(this.$widget);this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var b=this.options.template;a.each(this.map,function(a,f){f=f[0];var e=new RegExp(f+"+"),h=1<f.length?f.substring(1,2):f;b=b.replace(e,
"{"+h+"}")});b=b.replace(/ /g,"&nbsp;");a.each(this.map,function(a,f){f=f[0];var e=1<f.length?f.substring(1,2):f;b=b.replace("{"+e+"}",'<select class="'+a+'"></select>')});return b},initCombos:function(){for(var a in this.map){var g=this.$widget.find("."+a);this["$"+a]=g.length?g:null;this.fillCombo(a)}},fillCombo:function(a){var g=this["$"+a];if(g){a=this["fill"+a.charAt(0).toUpperCase()+a.slice(1)]();var f=g.val();g.empty();for(var e=0;e<a.length;e++)g.append('<option value="'+a[e][0]+'">'+a[e][1]+
"</option>");g.val(f)}},fillCommon:function(a){var g=[],f;"name"===this.options.firstItem?(f=moment.relativeTime||moment.langData()._relativeTime,a="function"===typeof f[a]?f[a](1,!0,a,!1):f[a],a=a.split(" ").reverse()[0],g.push(["",a])):"empty"===this.options.firstItem&&g.push(["",""]);return g},fillDay:function(){var a=this.fillCommon("d"),g,f,e=-1!==this.options.template.indexOf("DD"),h=31;this.options.smartDays&&this.$month&&this.$year&&(g=parseInt(this.$month.val(),10),f=parseInt(this.$year.val(),
10),isNaN(g)||isNaN(f)||(h=moment([f,g]).daysInMonth()));for(f=1;f<=h;f++)g=e?this.leadZero(f):f,a.push([f,g]);return a},fillMonth:function(){var a=this.fillCommon("M"),g,f,e=-1!==this.options.template.indexOf("MMMM"),h=-1!==this.options.template.indexOf("MMM"),k=-1!==this.options.template.indexOf("MM");for(f=0;11>=f;f++)g=e?moment().date(1).month(f).format("MMMM"):h?moment().date(1).month(f).format("MMM"):k?this.leadZero(f+1):f+1,a.push([f,g]);return a},fillYear:function(){var a=[],g,f,e=-1!==this.options.template.indexOf("YYYY");
for(f=this.options.maxYear;f>=this.options.minYear;f--)g=e?f:(f+"").substring(2),a[this.options.yearDescending?"push":"unshift"]([f,g]);return a=this.fillCommon("y").concat(a)},fillHour:function(){var a=this.fillCommon("h"),g,f;g=-1!==this.options.template.indexOf("h");this.options.template.indexOf("H");var e=-1!==this.options.template.toLowerCase().indexOf("hh"),h=g?12:23;for(f=g?1:0;f<=h;f++)g=e?this.leadZero(f):f,a.push([f,g]);return a},fillMinute:function(){var a=this.fillCommon("m"),g,f,e=-1!==
this.options.template.indexOf("mm");for(f=0;59>=f;f+=this.options.minuteStep)g=e?this.leadZero(f):f,a.push([f,g]);return a},fillSecond:function(){var a=this.fillCommon("s"),g,f,e=-1!==this.options.template.indexOf("ss");for(f=0;59>=f;f+=this.options.secondStep)g=e?this.leadZero(f):f,a.push([f,g]);return a},fillAmpm:function(){var a=-1!==this.options.template.indexOf("a");this.options.template.indexOf("A");return[["am",a?"am":"AM"],["pm",a?"pm":"PM"]]},getValue:function(b){var g,f={},e=this,h=!1;a.each(this.map,
function(a,b){if("ampm"!==a){var g="day"===a?1:0;f[a]=e["$"+a]?parseInt(e["$"+a].val(),10):g;if(isNaN(f[a]))return h=!0,!1}});if(h)return"";this.$ampm&&(f.hour=12===f.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?f.hour:f.hour+12);g=moment([f.year,f.month,f.day,f.hour,f.minute,f.second]);this.highlight(g);b=void 0===b?this.options.format:b;return null===b?g.isValid()?g:null:g.isValid()?g.format(b):""},setValue:function(b){function g(b,e){var f={};b.children("option").each(function(b,g){var h=
a(g).attr("value"),k;""!==h&&(k=Math.abs(h-e),"undefined"===typeof f.distance||k<f.distance)&&(f={value:h,distance:k})});return f.value}if(b){var f="string"===typeof b?moment(b,this.options.format):moment(b),e=this,h={};f.isValid()&&(a.each(this.map,function(a,b){"ampm"!==a&&(h[a]=f[b[1]]())}),this.$ampm&&(12<=h.hour?(h.ampm="pm",12<h.hour&&(h.hour-=12)):(h.ampm="am",0===h.hour&&(h.hour=12))),a.each(h,function(a,b){e["$"+a]&&("minute"===a&&1<e.options.minuteStep&&e.options.roundTime&&(b=g(e["$"+a],
b)),"second"===a&&1<e.options.secondStep&&e.options.roundTime&&(b=g(e["$"+a],b)),e["$"+a].val(b))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(f.format(this.options.format)).change())}},highlight:function(a){a.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),
this.$widget.find("select").css("border-color","red"))},leadZero:function(a){return 9>=a?"0"+a:a},destroy:function(){this.$widget.remove();this.$element.removeData("combodate").show()}};a.fn.combodate=function(b){var g,f=Array.apply(null,arguments);f.shift();return"getValue"===b&&this.length&&(g=this.eq(0).data("combodate"))?g.getValue.apply(g,f):this.each(function(){var e=a(this),g=e.data("combodate"),k="object"==typeof b&&b;g||e.data("combodate",g=new h(this,k));"string"==typeof b&&"function"==
typeof g[b]&&g[b].apply(g,f)})};a.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}})(window.jQuery);
(function(a){var h=function(b){this.init("combodate",b,h.defaults);this.options.viewformat||(this.options.viewformat=this.options.format);b.combodate=a.fn.editableutils.tryParseJson(b.combodate,!0);this.options.combodate=a.extend({},h.defaults.combodate,b.combodate,{format:this.options.format,template:this.options.template})};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{render:function(){this.$input.combodate(this.options.combodate);"bs3"===a.fn.editableform.engine&&
this.$input.siblings().find("select").addClass("form-control");this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(a,g){var f=a?a.format(this.options.viewformat):"";h.superclass.value2html.call(this,f,g)},html2value:function(a){return a?moment(a,this.options.viewformat):null},value2str:function(a){return a?a.format(this.options.format):""},str2value:function(a){return a?moment(a,this.options.format):null},value2submit:function(a){return this.value2str(a)},
value2input:function(a){this.$input.combodate("setValue",a)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null});a.fn.editabletypes.combodate=h})(window.jQuery);
(function(a){var h=a.fn.editableform.Constructor.prototype.initInput;a.extend(a.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=a(a.fn.editableform.template);this.$form.find(".control-group").addClass("form-group");this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){h.apply(this);var b=null===this.input.options.inputclass||!1===this.input.options.inputclass;~a.inArray(this.input.type,"text select textarea password email url tel number range time typeaheadjs".split(" "))&&
(this.input.$input.addClass("form-control"),b&&(this.input.options.inputclass="input-sm input-transparent",this.input.$input.addClass("input-sm input-transparent")));for(var g=this.$form.find(".editable-buttons"),b=b?["input-sm input-transparent"]:this.input.options.inputclass.split(" "),f=0;f<b.length;f++)"input-lg"===b[f].toLowerCase()&&g.find("button").removeClass("btn-sm").addClass("btn-lg")}});a.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="fa-check"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="fa-remove"></i></button>';
a.fn.editableform.errorGroupClass="has-error";a.fn.editableform.errorBlockClass=null;a.fn.editableform.engine="bs3"})(window.jQuery);
(function(a){a.extend(a.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:a.fn.popover.Constructor.DEFAULTS,initContainer:function(){a.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var h;this.$element.data("template")&&(h=this.$element.data("template"),this.$element.removeData("template"));this.call(this.containerOptions);h&&this.$element.data("template",h)},innerShow:function(){this.call("show")},
innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(a,b){this.container().options[a]=b},setPosition:function(){(function(){var a=this.tip(),b="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,g=/\s?auto?\s?/i,f=g.test(b);f&&(b=b.replace(g,"")||"top");var g=this.getPosition(),e=a[0].offsetWidth,l=a[0].offsetHeight;if(f){var k=this.$element.parent(),f=b,n=document.documentElement.scrollTop||
document.body.scrollTop,m="body"==this.options.container?window.innerWidth:k.outerWidth(),p="body"==this.options.container?window.innerHeight:k.outerHeight(),k="body"==this.options.container?0:k.offset().left,b="bottom"==b&&g.top+g.height+l-n>p?"top":"top"==b&&0>g.top-n-l?"bottom":"right"==b&&g.right+e>m?"left":"left"==b&&g.left-e<k?"right":b;a.removeClass(f).addClass(b)}a=this.getCalculatedOffset(b,g,e,l);this.applyPlacement(a,b)}).call(this.container())}})})(window.jQuery);
(function(a){function h(){return new Date(Date.UTC.apply(Date,arguments))}function b(b,e){var f=a(b).data(),g={},h,k=new RegExp("^"+e.toLowerCase()+"([A-Z])");e=new RegExp("^"+e.toLowerCase());for(var l in f)e.test(l)&&(h=l.replace(k,function(a,b){return b.toLowerCase()}),g[h]=f[l]);return g}function g(b){var e={};if(!p[b]&&(b=b.split("-")[0],!p[b]))return;var f=p[b];a.each(m,function(a,b){b in f&&(e[b]=f[b])});return e}var f=function(b,e){this._process_options(e);this.element=a(b);this.isInline=
!1;this.isInput=this.element.is("input");this.hasInput=(this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1)&&this.element.find("input").length;this.component&&0===this.component.length&&(this.component=!1);this.picker=a(r.template);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right"));
this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(a,b){return parseInt(b)+1});this._allow_update=!1;this.setStartDate(this.o.startDate);this.setEndDate(this.o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()};f.prototype={constructor:f,_process_options:function(b){this._o=a.extend({},this._o,b);b=this.o=a.extend({},
this._o);var e=b.language;p[e]||(e=e.split("-")[0],p[e]||(e=n.language));b.language=e;switch(b.startView){case 2:case "decade":b.startView=2;break;case 1:case "year":b.startView=1;break;default:b.startView=0}switch(b.minViewMode){case 1:case "months":b.minViewMode=1;break;case 2:case "years":b.minViewMode=2;break;default:b.minViewMode=0}b.startView=Math.max(b.startView,b.minViewMode);b.weekStart%=7;b.weekEnd=(b.weekStart+6)%7;e=r.parseFormat(b.format);-Infinity!==b.startDate&&(b.startDate=r.parseDate(b.startDate,
e,b.language));Infinity!==b.endDate&&(b.endDate=r.parseDate(b.endDate,e,b.language));b.daysOfWeekDisabled=b.daysOfWeekDisabled||[];a.isArray(b.daysOfWeekDisabled)||(b.daysOfWeekDisabled=b.daysOfWeekDisabled.split(/[,\s]*/));b.daysOfWeekDisabled=a.map(b.daysOfWeekDisabled,function(a){return parseInt(a,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var b=0,e,f;b<a.length;b++)e=a[b][0],f=a[b][1],e.on(f)},_unapplyEvents:function(a){for(var b=0,e,f;b<a.length;b++)e=a[b][0],f=a[b][1],
e.off(f)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this),keydown:a.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this),keydown:a.proxy(this.keydown,this)}],[this.component,{click:a.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:a.proxy(this.show,this)}]];this._secondaryEvents=
[[this.picker,{click:a.proxy(this.click,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{mousedown:a.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).size()||this.picker.is(a.target)||this.picker.find(a.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},
_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(b,e){var f=e||this.date,g=new Date(f.getTime()+6E4*f.getTimezoneOffset());this.element.trigger({type:b,date:g,format:a.proxy(function(a){return r.formatDate(f,a||this.o.format,this.o.language)},this)})},show:function(a){this.isInline||this.picker.appendTo("body");this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();
a&&a.preventDefault();this._trigger("show")},hide:function(a){!this.isInline&&this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;this.isInput||
delete this.element.data().date},getDate:function(){var a=this.getUTCDate();return new Date(a.getTime()+6E4*a.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(a){this.setUTCDate(new Date(a.getTime()-6E4*a.getTimezoneOffset()))},setUTCDate:function(a){this.date=a;this.setValue()},setValue:function(){var a=this.getFormattedDate();this.isInput?this.element.val(a):this.component&&this.element.find("input").val(a)},getFormattedDate:function(a){void 0===a&&(a=this.o.format);
return r.formatDate(this.date,a,this.o.language)},setStartDate:function(a){this._process_options({startDate:a});this.update();this.updateNavArrows()},setEndDate:function(a){this._process_options({endDate:a});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(a){this._process_options({daysOfWeekDisabled:a});this.update();this.updateNavArrows()},place:function(){if(!this.isInline){var b=parseInt(this.element.parents().filter(function(){return"auto"!=a(this).css("z-index")}).first().css("z-index"))+
10,e=this.component?this.component.parent().offset():this.element.offset(),f=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:e.top+f,left:e.left,zIndex:b})}},_allow_update:!0,update:function(){if(this._allow_update){var a,b=!1;arguments&&arguments.length&&("string"===typeof arguments[0]||arguments[0]instanceof Date)?(a=arguments[0],b=!0):(a=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date);
this.date=r.parseDate(a,this.o.format,this.o.language);b&&this.setValue();this.viewDate=this.date<this.o.startDate?new Date(this.o.startDate):this.date>this.o.endDate?new Date(this.o.endDate):new Date(this.date);this.fill()}},fillDow:function(){var a=this.o.weekStart,b="<tr>";this.o.calendarWeeks&&(b+='<th class="cw">&nbsp;</th>',this.picker.find(".datepicker-days thead tr:first-child").prepend('<th class="cw">&nbsp;</th>'));for(;a<this.o.weekStart+7;)b+='<th class="dow">'+p[this.o.language].daysMin[a++%
7]+"</th>";b+="</tr>";this.picker.find(".datepicker-days thead").append(b)},fillMonths:function(){for(var a="",b=0;12>b;)a+='<span class="month">'+p[this.o.language].monthsShort[b++]+"</span>";this.picker.find(".datepicker-months td").html(a)},setRange:function(b){b&&b.length?this.range=a.map(b,function(a){return a.valueOf()}):delete this.range;this.fill()},getClassNames:function(b){var e=[],f=this.viewDate.getUTCFullYear(),g=this.viewDate.getUTCMonth(),h=this.date.valueOf(),k=new Date;b.getUTCFullYear()<
f||b.getUTCFullYear()==f&&b.getUTCMonth()<g?e.push("old"):(b.getUTCFullYear()>f||b.getUTCFullYear()==f&&b.getUTCMonth()>g)&&e.push("new");this.o.todayHighlight&&b.getUTCFullYear()==k.getFullYear()&&b.getUTCMonth()==k.getMonth()&&b.getUTCDate()==k.getDate()&&e.push("today");h&&b.valueOf()==h&&e.push("active");(b.valueOf()<this.o.startDate||b.valueOf()>this.o.endDate||-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekDisabled))&&e.push("disabled");this.range&&(b>this.range[0]&&b<this.range[this.range.length-
1]&&e.push("range"),-1!=a.inArray(b.valueOf(),this.range)&&e.push("selected"));return e},fill:function(){var b=new Date(this.viewDate),e=b.getUTCFullYear(),f=b.getUTCMonth(),b=-Infinity!==this.o.startDate?this.o.startDate.getUTCFullYear():-Infinity,g=-Infinity!==this.o.startDate?this.o.startDate.getUTCMonth():-Infinity,k=Infinity!==this.o.endDate?this.o.endDate.getUTCFullYear():Infinity,l=Infinity!==this.o.endDate?this.o.endDate.getUTCMonth():Infinity,m;this.picker.find(".datepicker-days thead th.datepicker-switch").text(p[this.o.language].months[f]+
" "+e);this.picker.find("tfoot th.today").text(p[this.o.language].today).toggle(!1!==this.o.todayBtn);this.picker.find("tfoot th.clear").text(p[this.o.language].clear).toggle(!1!==this.o.clearBtn);this.updateNavArrows();this.fillMonths();var n=h(e,f-1,28,0,0,0,0),f=r.getDaysInMonth(n.getUTCFullYear(),n.getUTCMonth());n.setUTCDate(f);n.setUTCDate(f-(n.getUTCDay()-this.o.weekStart+7)%7);var t=new Date(n);t.setUTCDate(t.getUTCDate()+42);for(var t=t.valueOf(),f=[],A;n.valueOf()<t;){if(n.getUTCDay()==
this.o.weekStart&&(f.push("<tr>"),this.o.calendarWeeks)){A=new Date(+n+(this.o.weekStart-n.getUTCDay()-7)%7*864E5);A=new Date(+A+(11-A.getUTCDay())%7*864E5);var F=new Date(+(F=h(A.getUTCFullYear(),0,1))+(11-F.getUTCDay())%7*864E5);f.push('<td class="cw">'+((A-F)/864E5/7+1)+"</td>")}A=this.getClassNames(n);A.push("day");var G=this.o.beforeShowDay(n);void 0===G?G={}:"boolean"===typeof G?G={enabled:G}:"string"===typeof G&&(G={classes:G});!1===G.enabled&&A.push("disabled");G.classes&&(A=A.concat(G.classes.split(/\s+/)));
G.tooltip&&(m=G.tooltip);A=a.unique(A);f.push('<td class="'+A.join(" ")+'"'+(m?' title="'+m+'"':"")+">"+n.getUTCDate()+"</td>");n.getUTCDay()==this.o.weekEnd&&f.push("</tr>");n.setUTCDate(n.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(f.join(""));m=this.date&&this.date.getUTCFullYear();f=this.picker.find(".datepicker-months").find("th:eq(1)").text(e).end().find("span").removeClass("active");m&&m==e&&f.eq(this.date.getUTCMonth()).addClass("active");(e<b||e>k)&&f.addClass("disabled");
e==b&&f.slice(0,g).addClass("disabled");e==k&&f.slice(l+1).addClass("disabled");f="";e=10*parseInt(e/10,10);g=this.picker.find(".datepicker-years").find("th:eq(1)").text(e+"-"+(e+9)).end().find("td");--e;for(l=-1;11>l;l++)f+='<span class="year'+(-1==l?" old":10==l?" new":"")+(m==e?" active":"")+(e<b||e>k?" disabled":"")+'">'+e+"</span>",e+=1;g.html(f)},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getUTCFullYear(),a=a.getUTCMonth();switch(this.viewMode){case 0:-Infinity!==
this.o.startDate&&b<=this.o.startDate.getUTCFullYear()&&a<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()&&a>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:-Infinity!==this.o.startDate&&b<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):
this.picker.find(".prev").css({visibility:"visible"}),Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(b){b.preventDefault();b=a(b.target).closest("span, td, th");if(1==b.length)switch(b[0].nodeName.toLowerCase()){case "th":switch(b[0].className){case "datepicker-switch":this.showMode(1);break;case "prev":case "next":b=r.modes[this.viewMode].navStep*("prev"==b[0].className?
-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,b);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,b)}this.fill();break;case "today":b=new Date;b=h(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0);this.showMode(-2);this._setDate(b,"linked"==this.o.todayBtn?null:"view");break;case "clear":var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input"));e&&e.val("").change();this._trigger("changeDate");this.update();this.o.autoclose&&this.hide()}break;
case "span":if(!b.is(".disabled")){this.viewDate.setUTCDate(1);if(b.is(".month")){e=1;var f=b.parent().find("span").index(b),g=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(f);this._trigger("changeMonth",this.viewDate);1===this.o.minViewMode&&this._setDate(h(g,f,e,0,0,0,0))}else g=parseInt(b.text(),10)||0,e=1,f=0,this.viewDate.setUTCFullYear(g),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(h(g,f,e,0,0,0,0));this.showMode(-1);this.fill()}break;case "td":b.is(".day")&&
!b.is(".disabled")&&(e=parseInt(b.text(),10)||1,g=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),b.is(".old")?0===f?(f=11,--g):--f:b.is(".new")&&(11==f?(f=0,g+=1):f+=1),this._setDate(h(g,f,e,0,0,0,0)))}},_setDate:function(a,b){b&&"date"!=b||(this.date=new Date(a));b&&"view"!=b||(this.viewDate=new Date(a));this.fill();this.setValue();this._trigger("changeDate");var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input"));e&&(e.change(),!this.o.autoclose||b&&"date"!=
b||this.hide())},moveMonth:function(a,b){if(!b)return a;var e=new Date(a.valueOf()),f=e.getUTCDate(),g=e.getUTCMonth(),h=Math.abs(b),k;b=0<b?1:-1;if(1==h){if(h=-1==b?function(){return e.getUTCMonth()==g}:function(){return e.getUTCMonth()!=k},k=g+b,e.setUTCMonth(k),0>k||11<k)k=(k+12)%12}else{for(var l=0;l<h;l++)e=this.moveMonth(e,b);k=e.getUTCMonth();e.setUTCDate(f);h=function(){return k!=e.getUTCMonth()}}for(;h();)e.setUTCDate(--f),e.setUTCMonth(k);return e},moveYear:function(a,b){return this.moveMonth(a,
12*b)},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(this.picker.is(":not(:visible)"))27==a.keyCode&&this.show();else{var b=!1,e,f,g;switch(a.keyCode){case 27:this.hide();a.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37==a.keyCode?-1:1;a.ctrlKey?(f=this.moveYear(this.date,e),g=this.moveYear(this.viewDate,e)):a.shiftKey?(f=this.moveMonth(this.date,e),g=this.moveMonth(this.viewDate,e)):(f=new Date(this.date),f.setUTCDate(this.date.getUTCDate()+
e),g=new Date(this.viewDate),g.setUTCDate(this.viewDate.getUTCDate()+e));this.dateWithinRange(f)&&(this.date=f,this.viewDate=g,this.setValue(),this.update(),a.preventDefault(),b=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38==a.keyCode?-1:1;a.ctrlKey?(f=this.moveYear(this.date,e),g=this.moveYear(this.viewDate,e)):a.shiftKey?(f=this.moveMonth(this.date,e),g=this.moveMonth(this.viewDate,e)):(f=new Date(this.date),f.setUTCDate(this.date.getUTCDate()+7*e),g=new Date(this.viewDate),
g.setUTCDate(this.viewDate.getUTCDate()+7*e));this.dateWithinRange(f)&&(this.date=f,this.viewDate=g,this.setValue(),this.update(),a.preventDefault(),b=!0);break;case 13:this.hide();a.preventDefault();break;case 9:this.hide()}if(b){this._trigger("changeDate");var h;this.isInput?h=this.element:this.component&&(h=this.element.find("input"));h&&h.change()}}},showMode:function(a){a&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+a)));this.picker.find(">div").hide().filter(".datepicker-"+
r.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var e=function(b,e){this.element=a(b);this.inputs=a.map(e.inputs,function(a){return a.jquery?a[0]:a});delete e.inputs;a(this.inputs).datepicker(e).bind("changeDate",a.proxy(this.dateUpdated,this));this.pickers=a.map(this.inputs,function(b){return a(b).data("datepicker")});this.updateDates()};e.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(a){return a.date});this.updateRanges()},updateRanges:function(){var b=
a.map(this.dates,function(a){return a.valueOf()});a.each(this.pickers,function(a,e){e.setRange(b)})},dateUpdated:function(b){var e=a(b.target).data("datepicker").getUTCDate();b=a.inArray(b.target,this.inputs);var f=this.inputs.length;if(-1!=b){if(e<this.dates[b])for(;0<=b&&e<this.dates[b];)this.pickers[b--].setUTCDate(e);else if(e>this.dates[b])for(;b<f&&e>this.dates[b];)this.pickers[b++].setUTCDate(e);this.updateDates()}},remove:function(){a.map(this.pickers,function(a){a.remove()});delete this.element.data().datepicker}};
var l=a.fn.datepicker,k=a.fn.datepicker=function(h){var k=Array.apply(null,arguments);k.shift();var l;this.each(function(){var m=a(this),p=m.data("datepicker"),r="object"==typeof h&&h;if(!p){var p=b(this,"date"),B=a.extend({},n,p,r),B=g(B.language),r=a.extend({},n,B,p,r);m.is(".input-daterange")||r.inputs?(p={inputs:r.inputs||m.find("input").toArray()},m.data("datepicker",p=new e(this,a.extend(r,p)))):m.data("datepicker",p=new f(this,r))}if("string"==typeof h&&"function"==typeof p[h]&&(l=p[h].apply(p,
k),void 0!==l))return!1});return void 0!==l?l:this},n=a.fn.datepicker.defaults={autoclose:!1,beforeShowDay:a.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},m=a.fn.datepicker.locale_opts=["format","rtl","weekStart"];a.fn.datepicker.Constructor=f;var p=a.fn.datepicker.dates={en:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
daysShort:"Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),daysMin:"Su Mo Tu We Th Fr Sa Su".split(" "),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),today:"Today",clear:"Clear"}},r={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return 0===a%4&&0!==a%
100||0===a%400},getDaysInMonth:function(a,b){return[31,r.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(a){var b=a.replace(this.validParts,"\x00").split("\x00");a=a.match(this.validParts);if(!b||!b.length||!a||0===a.length)throw Error("Invalid date format.");return{separators:b,parts:a}},parseDate:function(b,e,g){if(b instanceof Date)return b;"string"===typeof e&&(e=r.parseFormat(e));
if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(b)){var k=/([\-+]\d+)([dmwy])/,l=b.match(/([\-+]\d+)([dmwy])/g),m;b=new Date;for(var n=0;n<l.length;n++)switch(e=k.exec(l[n]),m=parseInt(e[1]),e[2]){case "d":b.setUTCDate(b.getUTCDate()+m);break;case "m":b=f.prototype.moveMonth.call(f.prototype,b,m);break;case "w":b.setUTCDate(b.getUTCDate()+7*m);break;case "y":b=f.prototype.moveYear.call(f.prototype,b,m)}return h(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),0,0,0)}l=b&&b.match(this.nonpunctuation)||
[];b=new Date;var k={},D="yyyy yy M MM m mm d dd".split(" ");m={yyyy:function(a,b){return a.setUTCFullYear(b)},yy:function(a,b){return a.setUTCFullYear(2E3+b)},m:function(a,b){for(--b;0>b;)b+=12;b%=12;for(a.setUTCMonth(b);a.getUTCMonth()!=b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};var t;m.M=m.MM=m.mm=m.m;m.dd=m.d;b=h(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0);var A=e.parts.slice();l.length!=A.length&&(A=a(A).filter(function(b,e){return-1!==a.inArray(e,
D)}).toArray());if(l.length==A.length){for(var n=0,F=A.length;n<F;n++){t=parseInt(l[n],10);e=A[n];if(isNaN(t))switch(e){case "MM":t=a(p[g].months).filter(function(){var a=this.slice(0,l[n].length),b=l[n].slice(0,a.length);return a==b});t=a.inArray(t[0],p[g].months)+1;break;case "M":t=a(p[g].monthsShort).filter(function(){var a=this.slice(0,l[n].length),b=l[n].slice(0,a.length);return a==b}),t=a.inArray(t[0],p[g].monthsShort)+1}k[e]=t}for(n=0;n<D.length;n++)if(e=D[n],e in k&&!isNaN(k[e]))m[e](b,k[e])}return b},
formatDate:function(b,e,f){"string"===typeof e&&(e=r.parseFormat(e));f={d:b.getUTCDate(),D:p[f].daysShort[b.getUTCDay()],DD:p[f].days[b.getUTCDay()],m:b.getUTCMonth()+1,M:p[f].monthsShort[b.getUTCMonth()],MM:p[f].months[b.getUTCMonth()],yy:b.getUTCFullYear().toString().substring(2),yyyy:b.getUTCFullYear()};f.dd=(10>f.d?"0":"")+f.d;f.mm=(10>f.m?"0":"")+f.m;b=[];for(var g=a.extend([],e.separators),h=0,k=e.parts.length;h<=k;h++)g.length&&b.push(g.shift()),b.push(f[e.parts[h]]);return b.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',
contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};r.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+r.headTemplate+"<tbody></tbody>"+r.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+
r.headTemplate+r.contTemplate+r.footTemplate+"</table></div></div>";a.fn.datepicker.DPGlobal=r;a.fn.datepicker.noConflict=function(){a.fn.datepicker=l;return this};a(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(b){var e=a(this);e.data("datepicker")||(b.preventDefault(),k.call(e,"show"))});a(function(){k.call(a('[data-provide="datepicker-inline"]'))})})(window.jQuery);
(function(a){a.fn.bdatepicker=a.fn.datepicker.noConflict();a.fn.datepicker||(a.fn.datepicker=a.fn.bdatepicker);var h=function(a){this.init("date",a,h.defaults);this.initPicker(a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{initPicker:function(b,g){this.options.viewformat||(this.options.viewformat=this.options.format);b.datepicker=a.fn.editableutils.tryParseJson(b.datepicker,!0);this.options.datepicker=a.extend({},g.datepicker,b.datepicker,{format:this.options.viewformat});
this.options.datepicker.language=this.options.datepicker.language||"en";this.dpg=a.fn.bdatepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker);this.options.clear&&(this.$clear=a('<a href="#"></a>').html(this.options.clear).click(a.proxy(function(a){a.preventDefault();a.stopPropagation();this.clear()},this)),this.$tpl.parent().append(a('<div class="editable-clear">').append(this.$clear)))},
value2html:function(a,g){var f=a?this.dpg.formatDate(a,this.parsedViewFormat,this.options.datepicker.language):"";h.superclass.value2html.call(this,f,g)},html2value:function(a){return this.parseDate(a,this.parsedViewFormat)},value2str:function(a){return a?this.dpg.formatDate(a,this.parsedFormat,this.options.datepicker.language):""},str2value:function(a){return this.parseDate(a,this.parsedFormat)},value2submit:function(a){return this.value2str(a)},value2input:function(a){this.$input.bdatepicker("update",
a)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null;this.$input.find(".active").removeClass("active");this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(b){if(!a(b.currentTarget).is(".old")&&!a(b.currentTarget).is(".new")){var g=a(this).closest("form");setTimeout(function(){g.submit()},200)}})},parseDate:function(a,g){var f=
null,e;a&&(f=this.dpg.parseDate(a,g,this.options.datepicker.language),"string"===typeof a&&(e=this.dpg.formatDate(f,g,this.options.datepicker.language),a!==e&&(f=null)));return f}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"});a.fn.editabletypes.date=h})(window.jQuery);
(function(a){var h=function(a){this.init("datefield",a,h.defaults);this.initPicker(a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.date);a.extend(h.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.bdatepicker(this.options.datepicker);this.$input.off("focus keydown");this.$input.keyup(a.proxy(function(){this.$tpl.removeData("date");this.$tpl.bdatepicker("update")},this))},value2input:function(a){this.$input.val(a?
this.dpg.formatDate(a,this.parsedViewFormat,this.options.datepicker.language):"");this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){a.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});h.defaults=a.extend({},a.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,
startView:0,minViewMode:0,autoclose:!0}});a.fn.editabletypes.datefield=h})(window.jQuery);
(function(a){var h=function(a){this.init("datetime",a,h.defaults);this.initPicker(a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{initPicker:function(b,g){this.options.viewformat||(this.options.viewformat=this.options.format);b.datetimepicker=a.fn.editableutils.tryParseJson(b.datetimepicker,!0);this.options.datetimepicker=a.extend({},g.datetimepicker,b.datetimepicker,{format:this.options.viewformat});this.options.datetimepicker.language=this.options.datetimepicker.language||
"en";this.dpg=a.fn.datetimepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker);this.$input.on("changeMode",function(b){var g=a(this).closest("form").parent();setTimeout(function(){g.triggerHandler("resize")},0)});this.options.clear&&(this.$clear=a('<a href="#"></a>').html(this.options.clear).click(a.proxy(function(a){a.preventDefault();
a.stopPropagation();this.clear()},this)),this.$tpl.parent().append(a('<div class="editable-clear">').append(this.$clear)))},value2html:function(a,g){var f=a?this.dpg.formatDate(this.toUTC(a),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";if(g)h.superclass.value2html.call(this,f,g);else return f},html2value:function(a){return(a=this.parseDate(a,this.parsedViewFormat))?this.fromUTC(a):null},value2str:function(a){return a?this.dpg.formatDate(this.toUTC(a),this.parsedFormat,
this.options.datetimepicker.language,this.options.formatType):""},str2value:function(a){return(a=this.parseDate(a,this.parsedFormat))?this.fromUTC(a):null},value2submit:function(a){return this.value2str(a)},value2input:function(a){a&&this.$input.data("datetimepicker").setDate(a)},input2value:function(){var a=this.$input.data("datetimepicker");return a.date?a.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null;this.$input.find(".active").removeClass("active");
this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(b){var g=a(this).closest("form");setTimeout(function(){g.submit()},200)})},toUTC:function(a){return a?new Date(a.valueOf()-6E4*a.getTimezoneOffset()):a},fromUTC:function(a){return a?new Date(a.valueOf()+6E4*a.getTimezoneOffset()):a},parseDate:function(a,g){var f=null,e;a&&(f=this.dpg.parseDate(a,g,this.options.datetimepicker.language,this.options.formatType),"string"===
typeof a&&(e=this.dpg.formatDate(f,g,this.options.datetimepicker.language,this.options.formatType),a!==e&&(f=null)));return f}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"});a.fn.editabletypes.datetime=h})(window.jQuery);
(function(a){var h=function(a){this.init("datetimefield",a,h.defaults);this.initPicker(a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.datetime);a.extend(h.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.datetimepicker(this.options.datetimepicker);this.$input.off("focus keydown");this.$input.keyup(a.proxy(function(){this.$tpl.removeData("date");this.$tpl.datetimepicker("update")},this))},value2input:function(a){this.$input.val(this.value2html(a));
this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){a.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});h.defaults=a.extend({},a.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}});a.fn.editabletypes.datetimefield=h})(window.jQuery);(function(a,h,b,g){function f(b,e){this.element=a(b);this.settings=a.extend({},l,e);this._defaults=l;this._name="bootstrapDropdownHover";this.init()}function e(b){a("body").one("touchstart.dropdownhover",function(){m=!0});a("body").one("mouseenter.dropdownhover",function(){m||(p=!0)});a(".dropdown-toggle, .dropdown-menu",b.element.parent()).on("mouseenter.dropdownhover",function(){p&&!a(this).is(":hover")&&(p=!1);p&&(clearTimeout(k),b.element.parent().hasClass("open")||(n=!1,b.element.dropdown("toggle")))});
a(".dropdown-toggle, .dropdown-menu",b.element.parent()).on("mouseleave.dropdownhover",function(){});b.element.on("click.dropdownhover",function(a){if(p)switch(b.settings.clickBehavior){case "disable":a.preventDefault();a.stopImmediatePropagation();break;case "sticky":n?n=!1:(n=!0,b.element.parent().hasClass("open")&&(a.stopImmediatePropagation(),a.preventDefault()))}})}var l={clickBehavior:"sticky",hideTimeout:200},k,n=!1,m=!1,p=!1;f.prototype={init:function(){this.setClickBehavior(this.settings.clickBehavior);
this.setHideTimeout(this.settings.hideTimeout);e(this);return this.element},setClickBehavior:function(a){this.settings.clickBehavior=a;return this.element},setHideTimeout:function(a){this.settings.hideTimeout=a;return this.element},destroy:function(){clearTimeout(k);a(".dropdown-toggle, .dropdown-menu",this.element.parent()).off(".dropdownhover");a(".dropdown-toggle, .dropdown-menu",this.element.parent()).off(".dropdown");this.element.off(".dropdownhover");a("body").off(".dropdownhover");this.element.data("plugin_bootstrapDropdownHover",
null);return this.element}};a.fn.bootstrapDropdownHover=function(e){var h=arguments;if(e===g||"object"===typeof e)return a.contains(b,a(this)[0])||a('[data-toggle="dropdown"]').each(function(b,f){a(f).bootstrapDropdownHover(e)}),this.each(function(){a(this).hasClass("dropdown-toggle")&&"dropdown"===a(this).data("toggle")?a.data(this,"plugin_bootstrapDropdownHover")||a.data(this,"plugin_bootstrapDropdownHover",new f(this,e)):a('[data-toggle="dropdown"]',this).each(function(b,f){a(f).bootstrapDropdownHover(e)})});
if("string"===typeof e&&"_"!==e[0]&&"init"!==e){var k;this.each(function(){var b=a.data(this,"plugin_bootstrapDropdownHover");b instanceof f&&"function"===typeof b[e]&&(k=b[e].apply(b,Array.prototype.slice.call(h,1)))});return k!==g?k:this}}})(jQuery,window,document);(function(a){var h=function(b,g){b=a(b);var f=this,e=[],h=a.extend({},a.fn.bootstrapWizard.defaults,g),k=null,n=null;this.rebindClick=function(a,b){a.unbind("click",b).bind("click",b)};this.fixNavigationButtons=function(){k.length||(n.find("a:first").tab("show"),k=n.find('li:has([data-toggle="tab"]):first'));a(h.previousSelector,b).toggleClass("disabled",f.firstIndex()>=f.currentIndex());a(h.nextSelector,b).toggleClass("disabled",f.currentIndex()>=f.navigationLength());a(h.nextSelector,b).toggleClass("hidden",
f.currentIndex()>=f.navigationLength()&&0<a(h.finishSelector,b).length);a(h.lastSelector,b).toggleClass("hidden",f.currentIndex()>=f.navigationLength()&&0<a(h.finishSelector,b).length);a(h.finishSelector,b).toggleClass("hidden",f.currentIndex()<f.navigationLength());a(h.backSelector,b).toggleClass("disabled",0==e.length);a(h.backSelector,b).toggleClass("hidden",f.currentIndex()>=f.navigationLength()&&0<a(h.finishSelector,b).length);f.rebindClick(a(h.nextSelector,b),f.next);f.rebindClick(a(h.previousSelector,
b),f.previous);f.rebindClick(a(h.lastSelector,b),f.last);f.rebindClick(a(h.firstSelector,b),f.first);f.rebindClick(a(h.finishSelector,b),f.finish);f.rebindClick(a(h.backSelector,b),f.back);if(h.onTabShow&&"function"===typeof h.onTabShow&&!1===h.onTabShow(k,n,f.currentIndex()))return!1};this.next=function(a){if(b.hasClass("last")||h.onNext&&"function"===typeof h.onNext&&!1===h.onNext(k,n,f.nextIndex()))return!1;a=f.currentIndex();var g=f.nextIndex();g>f.navigationLength()||(e.push(a),n.find('li:has([data-toggle="tab"])'+
(h.withVisible?":visible":"")+":eq("+g+") a").tab("show"))};this.previous=function(a){if(b.hasClass("first")||h.onPrevious&&"function"===typeof h.onPrevious&&!1===h.onPrevious(k,n,f.previousIndex()))return!1;a=f.currentIndex();var g=f.previousIndex();0>g||(e.push(a),n.find('li:has([data-toggle="tab"])'+(h.withVisible?":visible":"")+":eq("+g+") a").tab("show"))};this.first=function(a){if(h.onFirst&&"function"===typeof h.onFirst&&!1===h.onFirst(k,n,f.firstIndex())||b.hasClass("disabled"))return!1;e.push(f.currentIndex());
n.find('li:has([data-toggle="tab"]):eq(0) a').tab("show")};this.last=function(a){if(h.onLast&&"function"===typeof h.onLast&&!1===h.onLast(k,n,f.lastIndex())||b.hasClass("disabled"))return!1;e.push(f.currentIndex());n.find('li:has([data-toggle="tab"]):eq('+f.navigationLength()+") a").tab("show")};this.finish=function(a){if(h.onFinish&&"function"===typeof h.onFinish)h.onFinish(k,n,f.lastIndex())};this.back=function(){if(0==e.length)return null;var a=e.pop();if(h.onBack&&"function"===typeof h.onBack&&
!1===h.onBack(k,n,a))return e.push(a),!1;b.find('li:has([data-toggle="tab"]):eq('+a+") a").tab("show")};this.currentIndex=function(){return n.find('li:has([data-toggle="tab"])').index(k)};this.firstIndex=function(){return 0};this.lastIndex=function(){return f.navigationLength()};this.getIndex=function(a){return n.find('li:has([data-toggle="tab"])').index(a)};this.nextIndex=function(){return n.find('li:has([data-toggle="tab"])').index(k)+1};this.previousIndex=function(){return n.find('li:has([data-toggle="tab"])').index(k)-
1};this.navigationLength=function(){return n.find('li:has([data-toggle="tab"])').length-1};this.activeTab=function(){return k};this.nextTab=function(){return n.find('li:has([data-toggle="tab"]):eq('+(f.currentIndex()+1)+")").length?n.find('li:has([data-toggle="tab"]):eq('+(f.currentIndex()+1)+")"):null};this.previousTab=function(){return 0>=f.currentIndex()?null:n.find('li:has([data-toggle="tab"]):eq('+parseInt(f.currentIndex()-1)+")")};this.show=function(a){a=isNaN(a)?b.find('li:has([data-toggle="tab"]) a[href=#'+
a+"]"):b.find('li:has([data-toggle="tab"]):eq('+a+") a");0<a.length&&(e.push(f.currentIndex()),a.tab("show"))};this.disable=function(a){n.find('li:has([data-toggle="tab"]):eq('+a+")").addClass("disabled")};this.enable=function(a){n.find('li:has([data-toggle="tab"]):eq('+a+")").removeClass("disabled")};this.hide=function(a){n.find('li:has([data-toggle="tab"]):eq('+a+")").hide()};this.display=function(a){n.find('li:has([data-toggle="tab"]):eq('+a+")").show()};this.remove=function(b){var e="undefined"!=
typeof b[1]?b[1]:!1;b=n.find('li:has([data-toggle="tab"]):eq('+b[0]+")");e&&(e=b.find("a").attr("href"),a(e).remove());b.remove()};var m=function(b){var e=n.find('li:has([data-toggle="tab"])');b=e.index(a(b.currentTarget).parent('li:has([data-toggle="tab"])'));e=a(e[b]);if(h.onTabClick&&"function"===typeof h.onTabClick&&!1===h.onTabClick(k,n,f.currentIndex(),b,e))return!1},p=function(b){b=a(b.target).parent();var e=n.find('li:has([data-toggle="tab"])').index(b);if(b.hasClass("disabled")||h.onTabChange&&
"function"===typeof h.onTabChange&&!1===h.onTabChange(k,n,f.currentIndex(),e))return!1;k=b;f.fixNavigationButtons()};this.resetWizard=function(){a('a[data-toggle="tab"]',n).off("click",m);a('a[data-toggle="tab"]',n).off("shown shown.bs.tab",p);n=b.find("ul:first",b);k=n.find('li:has([data-toggle="tab"]).active',b);a('a[data-toggle="tab"]',n).on("click",m);a('a[data-toggle="tab"]',n).on("shown shown.bs.tab",p);f.fixNavigationButtons()};n=b.find("ul:first",b);k=n.find('li:has([data-toggle="tab"]).active',
b);n.hasClass(h.tabClass)||n.addClass(h.tabClass);if(h.onInit&&"function"===typeof h.onInit)h.onInit(k,n,0);if(h.onShow&&"function"===typeof h.onShow)h.onShow(k,n,f.nextIndex());a('a[data-toggle="tab"]',n).on("click",m);a('a[data-toggle="tab"]',n).on("shown shown.bs.tab",p)};a.fn.bootstrapWizard=function(b){if("string"==typeof b){var g=Array.prototype.slice.call(arguments,1);1===g.length&&g.toString();return this.data("bootstrapWizard")[b](g)}return this.each(function(f){f=a(this);if(!f.data("bootstrapWizard")){var e=
new h(f,b);f.data("bootstrapWizard",e);e.fixNavigationButtons()}})};a.fn.bootstrapWizard.defaults={withVisible:!0,tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",finishSelector:".wizard li.finish",backSelector:".wizard li.back",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onFinish:null,onBack:null,onTabChange:null,onTabClick:null,onTabShow:null}})(jQuery);(function(a,h){"function"===typeof define&&define.amd?define("sifter",h):"object"===typeof exports?module.exports=h():a.Sifter=h()})(this,function(){var a=function(a,b){this.items=a;this.settings=b||{diacritics:!0}};a.prototype.tokenize=function(a){a=(String(a||"").toLowerCase()+"").replace(/^\s+|\s+$|/g,"");if(!a||!a.length)return[];var b,e,g,h=[],r=a.split(/ +/);a=0;for(b=r.length;a<b;a++){e=(r[a]+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");if(this.settings.diacritics)for(g in f)f.hasOwnProperty(g)&&
(e=e.replace(new RegExp(g,"g"),f[g]));h.push({string:r[a],regex:new RegExp(e,"i")})}return h};a.prototype.iterator=function(a,b){(g(a)?Array.prototype.forEach||function(a){for(var b=0,e=this.length;b<e;b++)a(this[b],b,this)}:function(a){for(var b in this)this.hasOwnProperty(b)&&a(this[b],b,this)}).apply(a,[b])};a.prototype.getScoreFunction=function(a,b){var e,f,g;a=this.prepareSearch(a,b);f=a.tokens;e=a.options.fields;g=f.length;var h=function(a,b){var e,f;if(!a)return 0;a=String(a||"");f=a.search(b.regex);
if(-1===f)return 0;e=b.string.length/a.length;0===f&&(e+=.5);return e},q=function(){var a=e.length;return a?1===a?function(a,b){return h(b[e[0]],a)}:function(b,f){for(var g=0,k=0;g<a;g++)k+=h(f[e[g]],b);return k/a}:function(){return 0}}();return g?1===g?function(a){return q(f[0],a)}:"and"===a.options.conjunction?function(a){for(var b,e=0,h=0;e<g;e++){b=q(f[e],a);if(0>=b)return 0;h+=b}return h/g}:function(a){for(var b=0,e=0;b<g;b++)e+=q(f[b],a);return e/g}:function(){return 0}};a.prototype.getSortFunction=
function(a,b){var e,f,g,r,q,u,w,y,x,z;g=this;a=g.prepareSearch(a,b);z=!a.query&&b.sort_empty||b.sort;x=function(a,b){return"$score"===a?b.score:g.items[b.id][a]};q=[];if(z)for(e=0,f=z.length;e<f;e++)(a.query||"$score"!==z[e].field)&&q.push(z[e]);if(a.query){z=!0;e=0;for(f=q.length;e<f;e++)if("$score"===q[e].field){z=!1;break}z&&q.unshift({field:"$score",direction:"desc"})}else for(e=0,f=q.length;e<f;e++)if("$score"===q[e].field){q.splice(e,1);break}y=[];e=0;for(f=q.length;e<f;e++)y.push("desc"===
q[e].direction?-1:1);return(u=q.length)?1===u?(r=q[0].field,w=y[0],function(a,b){return w*h(x(r,a),x(r,b))}):function(a,b){var e,f;for(e=0;e<u;e++)if(f=q[e].field,f=y[e]*h(x(f,a),x(f,b)))return f;return 0}:null};a.prototype.prepareSearch=function(a,e){if("object"===typeof a)return a;e=b({},e);var f=e.fields,h=e.sort,p=e.sort_empty;f&&!g(f)&&(e.fields=[f]);h&&!g(h)&&(e.sort=[h]);p&&!g(p)&&(e.sort_empty=[p]);return{options:e,query:String(a||"").toLowerCase(),tokens:this.tokenize(a),total:0,items:[]}};
a.prototype.search=function(a,b){var e,f,g,h;f=this.prepareSearch(a,b);b=f.options;a=f.query;h=b.score||this.getScoreFunction(f);a.length?this.iterator(this.items,function(a,g){e=h(a);(!1===b.filter||0<e)&&f.items.push({score:e,id:g})}):this.iterator(this.items,function(a,b){f.items.push({score:1,id:b})});(g=this.getSortFunction(f,b))&&f.items.sort(g);f.total=f.items.length;"number"===typeof b.limit&&(f.items=f.items.slice(0,b.limit));return f};var h=function(a,b){if("number"===typeof a&&"number"===
typeof b)return a>b?1:a<b?-1:0;a=e(String(a||""));b=e(String(b||""));return a>b?1:b>a?-1:0},b=function(a,b){var e,f,g,h;e=1;for(f=arguments.length;e<f;e++)if(h=arguments[e])for(g in h)h.hasOwnProperty(g)&&(a[g]=h[g]);return a},g=Array.isArray||$&&$.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},f={a:"[a\u00c0\u00c1\u00c2\u00c3\u00c4\u00c5\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5\u0100\u0101\u0105\u0104]",c:"[c\u00c7\u00e7\u0107\u0106\u010d\u010c]",d:"[d\u0111\u0110\u010f\u010e]",
e:"[e\u00c8\u00c9\u00ca\u00cb\u00e8\u00e9\u00ea\u00eb\u011b\u011a\u0112\u0113\u0119\u0118]",i:"[i\u00cc\u00cd\u00ce\u00cf\u00ec\u00ed\u00ee\u00ef\u012a\u012b]",l:"[l\u0142\u0141]",n:"[n\u00d1\u00f1\u0148\u0147\u0144\u0143]",o:"[o\u00d2\u00d3\u00d4\u00d5\u00d5\u00d6\u00d8\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8\u014c\u014d]",r:"[r\u0159\u0158]",s:"[s\u0160\u0161\u015b\u015a]",t:"[t\u0165\u0164]",u:"[u\u00d9\u00da\u00db\u00dc\u00f9\u00fa\u00fb\u00fc\u016f\u016e\u016a\u016b]",y:"[y\u0178\u00ff\u00fd\u00dd]",
z:"[z\u017d\u017e\u017c\u017b\u017a\u0179]"},e=function(){var a,b,e,g,h="",r={};for(e in f)if(f.hasOwnProperty(e))for(g=f[e].substring(2,f[e].length-1),h+=g,a=0,b=g.length;a<b;a++)r[g.charAt(a)]=e;var q=new RegExp("["+h+"]","g");return function(a){return a.replace(q,function(a){return r[a]}).toLowerCase()}}();return a});
(function(a,h){"function"===typeof define&&define.amd?define("microplugin",h):"object"===typeof exports?module.exports=h():a.MicroPlugin=h()})(this,function(){var a={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}};return{mixin:function(h){h.plugins={};h.prototype.initializePlugins=function(b){var g,f,e=[];this.plugins={names:[],settings:{},requested:{},loaded:{}};if(a.isArray(b))for(g=0,f=b.length;g<f;g++)"string"===typeof b[g]?e.push(b[g]):(this.plugins.settings[b[g].name]=
b[g].options,e.push(b[g].name));else if(b)for(g in b)b.hasOwnProperty(g)&&(this.plugins.settings[g]=b[g],e.push(g));for(;e.length;)this.require(e.shift())};h.prototype.loadPlugin=function(a){var g=this.plugins,f=h.plugins[a];if(!h.plugins.hasOwnProperty(a))throw Error('Unable to find "'+a+'" plugin');g.requested[a]=!0;g.loaded[a]=f.fn.apply(this,[this.plugins.settings[a]||{}]);g.names.push(a)};h.prototype.require=function(a){var g=this.plugins;if(!this.plugins.loaded.hasOwnProperty(a)){if(g.requested[a])throw Error('Plugin has circular dependency ("'+
a+'")');this.loadPlugin(a)}return g.loaded[a]};h.define=function(a,g){h.plugins[a]={name:a,fn:g}}}}});
(function(a,h){"function"===typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],h):"object"===typeof exports?module.exports=h(require("jquery"),require("sifter"),require("microplugin")):a.Selectize=h(a.jQuery,a.Sifter,a.MicroPlugin)})(this,function(a,h,b){var g=function(a,b){if("string"!==typeof b||b.length){var e="string"===typeof b?new RegExp(b,"i"):b,f=function(a){var b=0;if(3===a.nodeType){var g=a.data.search(e);if(0<=g&&0<a.data.length){var h=a.data.match(e),b=document.createElement("span");
b.className="highlight";a=a.splitText(g);a.splitText(h[0].length);g=a.cloneNode(!0);b.appendChild(g);a.parentNode.replaceChild(b,a);b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(g=0;g<a.childNodes.length;++g)g+=f(a.childNodes[g]);return b};return a.each(function(){f(this)})}},f=function(){};f.prototype={on:function(a,b){this._events=this._events||{};this._events[a]=this._events[a]||[];this._events[a].push(b)},off:function(a,b){var e=arguments.length;if(0===e)return delete this._events;
if(1===e)return delete this._events[a];this._events=this._events||{};!1!==a in this._events&&this._events[a].splice(this._events[a].indexOf(b),1)},trigger:function(a){this._events=this._events||{};if(!1!==a in this._events)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}};f.mixin=function(a){for(var b=["on","off","trigger"],e=0;e<b.length;e++)a.prototype[b[e]]=f.prototype[b[e]]};var e=/Mac/.test(navigator.userAgent),l=e?91:17,k=e?18:
17,n=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,m=function(a){return"undefined"===typeof a||null===a?null:"boolean"===typeof a?a?"1":"0":a+""},p=function(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},r=function(a){return(a+"").replace(/\$/g,"$$$$")},q={before:function(a,b,e){var f=a[b];a[b]=function(){e.apply(a,arguments);return f.apply(a,arguments)}},after:function(a,b,e){var f=a[b];a[b]=function(){var b=
f.apply(a,arguments);e.apply(a,arguments);return b}}},u=function(a){var b=!1;return function(){b||(b=!0,a.apply(this,arguments))}},w=function(a,b){var e;return function(){var f=this,g=arguments;window.clearTimeout(e);e=window.setTimeout(function(){a.apply(f,g)},b)}},y=function(a,b,e){var f,g=a.trigger,h={};a.trigger=function(){var e=arguments[0];if(-1!==b.indexOf(e))h[e]=arguments;else return g.apply(a,arguments)};e.apply(a,[]);a.trigger=g;for(f in h)h.hasOwnProperty(f)&&g.apply(a,h[f])},x=function(a,
b,e,f){a.on(b,e,function(b){for(var e=b.target;e&&e.parentNode!==a[0];)e=e.parentNode;b.currentTarget=e;return f.apply(this,[b])})},z=function(a){var b={};if("selectionStart"in a)b.start=a.selectionStart,b.length=a.selectionEnd-b.start;else if(document.selection){a.focus();var e=document.selection.createRange(),f=document.selection.createRange().text.length;e.moveStart("character",-a.value.length);b.start=e.text.length-f;b.length=f}return b},B=function(b){var e=null,f=function(f,g){var h,k,l;f=f||
window.event||{};g=g||{};if(!f.metaKey&&!f.altKey&&(g.force||!1!==b.data("grow"))){h=b.val();f.type&&"keydown"===f.type.toLowerCase()&&(k=f.keyCode,l=97<=k&&122>=k||65<=k&&90>=k||48<=k&&57>=k||32===k,46===k||8===k?(l=z(b[0]),l.length?h=h.substring(0,l.start)+h.substring(l.start+l.length):8===k&&l.start?h=h.substring(0,l.start-1)+h.substring(l.start+1):46===k&&"undefined"!==typeof l.start&&(h=h.substring(0,l.start)+h.substring(l.start+1))):l&&(k=f.shiftKey,l=String.fromCharCode(f.keyCode),l=k?l.toUpperCase():
l.toLowerCase(),h+=l));k=b.attr("placeholder");!h&&k&&(h=k);if(h){h=a("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(h).appendTo("body");k=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];var m,n={};if(k)for(l=0,m=k.length;l<m;l++)n[k[l]]=b.css(k[l]);else n=b.css();h.css(n);k=h.width();h.remove();h=k}else h=0;h+=4;h!==e&&(e=h,b.width(h),b.triggerHandler("resize"))}};b.on("keydown keyup update blur",f);f()},D=function(b,
e){var f,g;f=b[0];f.selectize=this;g=(g=(g=window.getComputedStyle&&window.getComputedStyle(f,null))?g.getPropertyValue("direction"):f.currentStyle&&f.currentStyle.direction)||b.parents("[dir]:first").attr("dir")||"";a.extend(this,{order:0,settings:e,$input:b,tabIndex:b.attr("tabindex")||"",tagType:"select"===f.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(g),eventNS:".selectize"+ ++D.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:b.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,
isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===e.loadThrottle?this.onSearchChange:w(this.onSearchChange,e.loadThrottle)});this.sifter=new h(this.options,{diacritics:e.diacritics});if(this.settings.options){f=0;for(g=this.settings.options.length;f<
g;f++)this.registerOption(this.settings.options[f]);delete this.settings.options}if(this.settings.optgroups){f=0;for(g=this.settings.optgroups.length;f<g;f++)this.registerOptionGroup(this.settings.optgroups[f]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi");"boolean"!==typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode);this.initializePlugins(this.settings.plugins);this.setupCallbacks();this.setupTemplates();
this.setup()};f.mixin(D);b.mixin(D);a.extend(D.prototype,{setup:function(){var b=this,f=b.settings,g=b.eventNS,h=a(window),m=a(document),p=b.$input,q,r,u,w,y,z;y=b.settings.mode;z=p.attr("class")||"";q=a("<div>").addClass(f.wrapperClass).addClass(z).addClass(y);r=a("<div>").addClass(f.inputClass).addClass("items").appendTo(q);u=a('<input type="text" autocomplete="off" />').appendTo(r).attr("tabindex",p.is(":disabled")?"-1":b.tabIndex);w=a(f.dropdownParent||q);w=a("<div>").addClass(f.dropdownClass).addClass(y).hide().appendTo(w);
y=a("<div>").addClass(f.dropdownContentClass).appendTo(w);b.settings.copyClassesToDropdown&&w.addClass(z);q.css({width:p[0].style.width});b.plugins.names.length&&(z="plugin-"+b.plugins.names.join(" plugin-"),q.addClass(z),w.addClass(z));(null===f.maxItems||1<f.maxItems)&&1===b.tagType&&p.attr("multiple","multiple");b.settings.placeholder&&u.attr("placeholder",f.placeholder);!b.settings.splitOn&&b.settings.delimiter&&(z=b.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),b.settings.splitOn=
new RegExp("\\s*"+z+"+\\s*"));p.attr("autocorrect")&&u.attr("autocorrect",p.attr("autocorrect"));p.attr("autocapitalize")&&u.attr("autocapitalize",p.attr("autocapitalize"));b.$wrapper=q;b.$control=r;b.$control_input=u;b.$dropdown=w;b.$dropdown_content=y;w.on("mouseenter","[data-selectable]",function(){return b.onOptionHover.apply(b,arguments)});w.on("mousedown click","[data-selectable]",function(){return b.onOptionSelect.apply(b,arguments)});x(r,"mousedown","*:not(input)",function(){return b.onItemSelect.apply(b,
arguments)});B(u);r.on({mousedown:function(){return b.onMouseDown.apply(b,arguments)},click:function(){return b.onClick.apply(b,arguments)}});u.on({mousedown:function(a){a.stopPropagation()},keydown:function(){return b.onKeyDown.apply(b,arguments)},keyup:function(){return b.onKeyUp.apply(b,arguments)},keypress:function(){return b.onKeyPress.apply(b,arguments)},resize:function(){b.positionDropdown.apply(b,[])},blur:function(){return b.onBlur.apply(b,arguments)},focus:function(){b.ignoreBlur=!1;return b.onFocus.apply(b,
arguments)},paste:function(){return b.onPaste.apply(b,arguments)}});m.on("keydown"+g,function(a){b.isCmdDown=a[e?"metaKey":"ctrlKey"];b.isCtrlDown=a[e?"altKey":"ctrlKey"];b.isShiftDown=a.shiftKey});m.on("keyup"+g,function(a){a.keyCode===k&&(b.isCtrlDown=!1);16===a.keyCode&&(b.isShiftDown=!1);a.keyCode===l&&(b.isCmdDown=!1)});m.on("mousedown"+g,function(a){if(b.isFocused){if(a.target===b.$dropdown[0]||a.target.parentNode===b.$dropdown[0])return!1;b.$control.has(a.target).length||a.target===b.$control[0]||
b.blur(a.target)}});h.on(["scroll"+g,"resize"+g].join(" "),function(){b.isOpen&&b.positionDropdown.apply(b,arguments)});h.on("mousemove"+g,function(){b.ignoreHover=!1});this.revertSettings={$children:p.children().detach(),tabindex:p.attr("tabindex")};p.attr("tabindex",-1).hide().after(b.$wrapper);a.isArray(f.items)&&(b.setValue(f.items),delete f.items);if(n)p.on("invalid"+g,function(a){a.preventDefault();b.isInvalid=!0;b.refreshState()});b.updateOriginalInput();b.refreshItems();b.refreshState();b.updatePlaceholder();
b.isSetup=!0;p.is(":disabled")&&b.disable();b.on("change",this.onChange);p.data("selectize",b);p.addClass("selectized");b.trigger("initialize");if(!0===f.preload)b.onSearchChange("")},setupTemplates:function(){var b=this.settings.labelField,e=this.settings.optgroupLabelField;this.settings.render=a.extend({},{optgroup:function(a){return'<div class="optgroup">'+a.html+"</div>"},optgroup_header:function(a,b){return'<div class="optgroup-header">'+b(a[e])+"</div>"},option:function(a,e){return'<div class="option">'+
e(a[b])+"</div>"},item:function(a,e){return'<div class="item">'+e(a[b])+"</div>"},option_create:function(a,b){return'<div class="create">Add <strong>'+b(a.input)+"</strong>&hellip;</div>"}},this.settings.render)},setupCallbacks:function(){var a,b,e={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",
optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(a in e)if(e.hasOwnProperty(a)&&(b=this.settings[e[a]]))this.on(a,b)},onClick:function(a){this.isFocused||(this.focus(),a.preventDefault())},onMouseDown:function(b){var e=this,f=b.isDefaultPrevented();a(b.target);if(e.isFocused){if(b.target!==e.$control_input[0])return"single"===e.settings.mode?e.isOpen?e.close():e.open():f||e.setActiveItem(null),
!1}else f||window.setTimeout(function(){e.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(b){var e=this;e.isFull()||e.isInputHidden||e.isLocked?b.preventDefault():e.settings.splitOn&&setTimeout(function(){for(var b=a.trim(e.$control_input.val()||"").split(e.settings.splitOn),f=0,g=b.length;f<g;f++)e.createItem(b[f])},0)},onKeyPress:function(a){if(this.isLocked)return a&&a.preventDefault();var b=String.fromCharCode(a.keyCode||a.which);if(this.settings.create&&"multi"===
this.settings.mode&&b===this.settings.delimiter)return this.createItem(),a.preventDefault(),!1},onKeyDown:function(a){if(this.isLocked)9!==a.keyCode&&a.preventDefault();else{switch(a.keyCode){case 65:if(this.isCmdDown){this.selectAll();return}break;case 27:this.isOpen&&(a.preventDefault(),a.stopPropagation(),this.close());return;case 78:if(!a.ctrlKey||a.altKey)break;case 40:if(!this.isOpen&&this.hasOptions)this.open();else if(this.$activeOption){this.ignoreHover=!0;var b=this.getAdjacentOption(this.$activeOption,
1);b.length&&this.setActiveOption(b,!0,!0)}a.preventDefault();return;case 80:if(!a.ctrlKey||a.altKey)break;case 38:this.$activeOption&&(this.ignoreHover=!0,b=this.getAdjacentOption(this.$activeOption,-1),b.length&&this.setActiveOption(b,!0,!0));a.preventDefault();return;case 13:this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),a.preventDefault());return;case 37:this.advanceSelection(-1,a);return;case 39:this.advanceSelection(1,a);return;case 9:this.settings.selectOnTab&&
this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),this.isFull()||a.preventDefault());this.settings.create&&this.createItem()&&a.preventDefault();return;case 8:case 46:this.deleteSelection(a);return}!this.isFull()&&!this.isInputHidden||(e?a.metaKey:a.ctrlKey)||a.preventDefault()}},onKeyUp:function(a){if(this.isLocked)return a&&a.preventDefault();a=this.$control_input.val()||"";this.lastValue!==a&&(this.lastValue=a,this.onSearchChange(a),this.refreshOptions(),
this.trigger("type",a))},onSearchChange:function(a){var b=this,e=b.settings.load;e&&!b.loadedSearches.hasOwnProperty(a)&&(b.loadedSearches[a]=!0,b.load(function(f){e.apply(b,[a,f])}))},onFocus:function(a){var b=this.isFocused;if(this.isDisabled)return this.blur(),a&&a.preventDefault(),!1;if(!this.ignoreFocus){this.isFocused=!0;if("focus"===this.settings.preload)this.onSearchChange("");b||this.trigger("focus");this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus));
this.refreshState()}},onBlur:function(a,b){var e=this;if(e.isFocused&&(e.isFocused=!1,!e.ignoreFocus))if(e.ignoreBlur||document.activeElement!==e.$dropdown_content[0]){var f=function(){e.close();e.setTextboxValue("");e.setActiveItem(null);e.setActiveOption(null);e.setCaret(e.items.length);e.refreshState();(b||document.body).focus();e.ignoreFocus=!1;e.trigger("blur")};e.ignoreFocus=!0;e.settings.create&&e.settings.createOnBlur?e.createItem(null,!1,f):f()}else e.ignoreBlur=!0,e.onFocus(a)},onOptionHover:function(a){this.ignoreHover||
this.setActiveOption(a.currentTarget,!1)},onOptionSelect:function(b){var e,f=this;b.preventDefault&&(b.preventDefault(),b.stopPropagation());e=a(b.currentTarget);e.hasClass("create")?f.createItem(null,function(){f.settings.closeAfterSelect&&f.close()}):(e=e.attr("data-value"),"undefined"!==typeof e&&(f.lastQuery=null,f.setTextboxValue(""),f.addItem(e),f.settings.closeAfterSelect?f.close():!f.settings.hideSelected&&b.type&&/mouse/.test(b.type)&&f.setActiveOption(f.getOption(e))))},onItemSelect:function(a){this.isLocked||
"multi"!==this.settings.mode||(a.preventDefault(),this.setActiveItem(a.currentTarget,a))},load:function(a){var b=this,e=b.$wrapper.addClass(b.settings.loadingClass);b.loading++;a.apply(b,[function(a){b.loading=Math.max(b.loading-1,0);a&&a.length&&(b.addOption(a),b.refreshOptions(b.isFocused&&!b.isInputHidden));b.loading||e.removeClass(b.settings.loadingClass);b.trigger("load",a)}])},setTextboxValue:function(a){var b=this.$control_input;b.val()!==a&&(b.val(a).triggerHandler("update"),this.lastValue=
a)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(a,b){y(this,b?[]:["change"],function(){this.clear(b);this.addItems(a,b)})},setActiveItem:function(b,e){var f,g,h;if("single"!==this.settings.mode)if(b=a(b),b.length){f=e&&e.type.toLowerCase();if("mousedown"===f&&this.isShiftDown&&this.$activeItems.length){f=this.$control.children(".active:last");g=Array.prototype.indexOf.apply(this.$control[0].childNodes,
[f[0]]);f=Array.prototype.indexOf.apply(this.$control[0].childNodes,[b[0]]);g>f&&(h=g,g=f,f=h);for(;g<=f;g++)h=this.$control[0].childNodes[g],-1===this.$activeItems.indexOf(h)&&(a(h).addClass("active"),this.$activeItems.push(h));e.preventDefault()}else"mousedown"===f&&this.isCtrlDown||"keydown"===f&&this.isShiftDown?b.hasClass("active")?(f=this.$activeItems.indexOf(b[0]),this.$activeItems.splice(f,1),b.removeClass("active")):this.$activeItems.push(b.addClass("active")[0]):(a(this.$activeItems).removeClass("active"),
this.$activeItems=[b.addClass("active")[0]]);this.hideInput();this.isFocused||this.focus()}else a(this.$activeItems).removeClass("active"),this.$activeItems=[],this.isFocused&&this.showInput()},setActiveOption:function(b,e,f){var g,h,k;this.$activeOption&&this.$activeOption.removeClass("active");this.$activeOption=null;b=a(b);b.length&&(this.$activeOption=b.addClass("active"),e||"undefined"===typeof e)&&(b=this.$dropdown_content.height(),g=this.$activeOption.outerHeight(!0),e=this.$dropdown_content.scrollTop()||
0,h=this.$activeOption.offset().top-this.$dropdown_content.offset().top+e,k=h-b+g,h+g>b+e?this.$dropdown_content.stop().animate({scrollTop:k},f?this.settings.scrollDuration:0):h<e&&this.$dropdown_content.stop().animate({scrollTop:h},f?this.settings.scrollDuration:0))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue("");
this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1E4:-1E4});this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0});this.isInputHidden=!1},focus:function(){var a=this;a.isDisabled||(a.ignoreFocus=!0,a.$control_input[0].focus(),window.setTimeout(function(){a.ignoreFocus=!1;a.onFocus()},0))},blur:function(a){this.$control_input[0].blur();this.onBlur(null,a)},getScoreFunction:function(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())},
getSearchOptions:function(){var a=this.settings,b=a.sortField;"string"===typeof b&&(b=[{field:b}]);return{fields:a.searchField,conjunction:a.searchConjunction,sort:b}},search:function(b){var e,f;e=this.settings;var g=this.getSearchOptions();if(e.score&&(f=this.settings.score.apply(this,[b]),"function"!==typeof f))throw Error('Selectize "score" setting must be a function that returns a function');b!==this.lastQuery?(this.lastQuery=b,this.currentResults=b=this.sifter.search(b,a.extend(g,{score:f}))):
b=a.extend(!0,{},this.currentResults);if(e.hideSelected)for(e=b.items.length-1;0<=e;e--)-1!==this.items.indexOf(m(b.items[e].id))&&b.items.splice(e,1);return b},refreshOptions:function(b){var e,f,h,k,l,n,p,q,r,u,w,y;"undefined"===typeof b&&(b=!0);var x=this;w=a.trim(x.$control_input.val());var z=x.search(w),B=x.$dropdown_content,D=x.$activeOption&&m(x.$activeOption.attr("data-value"));k=z.items.length;"number"===typeof x.settings.maxOptions&&(k=Math.min(k,x.settings.maxOptions));l={};n=[];for(e=0;e<
k;e++)for(p=x.options[z.items[e].id],q=x.render("option",p),p=p[x.settings.optgroupField]||"",r=a.isArray(p)?p:[p],f=0,h=r&&r.length;f<h;f++)p=r[f],x.optgroups.hasOwnProperty(p)||(p=""),l.hasOwnProperty(p)||(l[p]=[],n.push(p)),l[p].push(q);this.settings.lockOptgroupOrder&&n.sort(function(a,b){return(x.optgroups[a].$order||0)-(x.optgroups[b].$order||0)});q=[];e=0;for(k=n.length;e<k;e++)p=n[e],x.optgroups.hasOwnProperty(p)&&l[p].length?(f=x.render("optgroup_header",x.optgroups[p])||"",f+=l[p].join(""),
q.push(x.render("optgroup",a.extend({},x.optgroups[p],{html:f})))):q.push(l[p].join(""));B.html(q.join(""));if(x.settings.highlight&&z.query.length&&z.tokens.length)for(e=0,k=z.tokens.length;e<k;e++)g(B,z.tokens[e].regex);if(!x.settings.hideSelected)for(e=0,k=x.items.length;e<k;e++)x.getOption(x.items[e]).addClass("selected");if(e=x.canCreate(w))B.prepend(x.render("option_create",{input:w})),y=a(B[0].childNodes[0]);x.hasOptions=0<z.items.length||e;x.hasOptions?(0<z.items.length?((w=D&&x.getOption(D))&&
w.length?u=w:"single"===x.settings.mode&&x.items.length&&(u=x.getOption(x.items[0])),u&&u.length||(u=y&&!x.settings.addPrecedence?x.getAdjacentOption(y,1):B.find("[data-selectable]:first"))):u=y,x.setActiveOption(u),b&&!x.isOpen&&x.open()):(x.setActiveOption(null),b&&x.isOpen&&x.close())},addOption:function(b){var e,f;if(a.isArray(b))for(e=0,f=b.length;e<f;e++)this.addOption(b[e]);else if(e=this.registerOption(b))this.userOptions[e]=!0,this.lastQuery=null,this.trigger("option_add",e,b)},registerOption:function(a){var b=
m(a[this.settings.valueField]);if(!b||this.options.hasOwnProperty(b))return!1;a.$order=a.$order||++this.order;this.options[b]=a;return b},registerOptionGroup:function(a){var b=m(a[this.settings.optgroupValueField]);if(!b)return!1;a.$order=a.$order||++this.order;this.optgroups[b]=a;return b},addOptionGroup:function(a,b){b[this.settings.optgroupValueField]=a;(a=this.registerOptionGroup(b))&&this.trigger("optgroup_add",a,b)},removeOptionGroup:function(a){this.optgroups.hasOwnProperty(a)&&(delete this.optgroups[a],
this.renderCache={},this.trigger("optgroup_remove",a))},clearOptionGroups:function(){this.optgroups={};this.renderCache={};this.trigger("optgroup_clear")},updateOption:function(b,e){var f,g,h;b=m(b);f=m(e[this.settings.valueField]);if(null!==b&&this.options.hasOwnProperty(b)){if("string"!==typeof f)throw Error("Value must be set in option data");h=this.options[b].$order;f!==b&&(delete this.options[b],g=this.items.indexOf(b),-1!==g&&this.items.splice(g,1,f));e.$order=e.$order||h;this.options[f]=e;
g=this.renderCache.item;h=this.renderCache.option;g&&(delete g[b],delete g[f]);h&&(delete h[b],delete h[f]);-1!==this.items.indexOf(f)&&(f=this.getItem(b),g=a(this.render("item",e)),f.hasClass("active")&&g.addClass("active"),f.replaceWith(g));this.lastQuery=null;this.isOpen&&this.refreshOptions(!1)}},removeOption:function(a,b){a=m(a);var e=this.renderCache.item,f=this.renderCache.option;e&&delete e[a];f&&delete f[a];delete this.userOptions[a];delete this.options[a];this.lastQuery=null;this.trigger("option_remove",
a);this.removeItem(a,b)},clearOptions:function(){this.loadedSearches={};this.userOptions={};this.renderCache={};this.options=this.sifter.items={};this.lastQuery=null;this.trigger("option_clear");this.clear()},getOption:function(a){return this.getElementWithValue(a,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(b,e){var f=this.$dropdown.find("[data-selectable]"),g=f.index(b)+e;return 0<=g&&g<f.length?f.eq(g):a()},getElementWithValue:function(b,e){b=m(b);if("undefined"!==
typeof b&&null!==b)for(var f=0,g=e.length;f<g;f++)if(e[f].getAttribute("data-value")===b)return a(e[f]);return a()},getItem:function(a){return this.getElementWithValue(a,this.$control.children())},addItems:function(b,e){for(var f=a.isArray(b)?b:[b],g=0,h=f.length;g<h;g++)this.isPending=g<h-1,this.addItem(f[g],e)},addItem:function(b,e){y(this,e?[]:["change"],function(){var f,g,h,k=this.settings.mode;b=m(b);-1!==this.items.indexOf(b)?"single"===k&&this.close():this.options.hasOwnProperty(b)&&("single"===
k&&this.clear(e),"multi"===k&&this.isFull()||(f=a(this.render("item",this.options[b])),h=this.isFull(),this.items.splice(this.caretPos,0,b),this.insertAtCaret(f),(!this.isPending||!h&&this.isFull())&&this.refreshState(),this.isSetup&&(h=this.$dropdown_content.find("[data-selectable]"),this.isPending||(g=this.getOption(b),g=this.getAdjacentOption(g,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==k),g&&this.setActiveOption(this.getOption(g))),!h.length||this.isFull()?this.close():
this.positionDropdown(),this.updatePlaceholder(),this.trigger("item_add",b,f),this.updateOriginalInput({silent:e}))))})},removeItem:function(a,b){var e,f,g;e="object"===typeof a?a:this.getItem(a);a=m(e.attr("data-value"));f=this.items.indexOf(a);-1!==f&&(e.remove(),e.hasClass("active")&&(g=this.$activeItems.indexOf(e[0]),this.$activeItems.splice(g,1)),this.items.splice(f,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(a)&&this.removeOption(a,b),f<this.caretPos&&this.setCaret(this.caretPos-
1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:b}),this.positionDropdown(),this.trigger("item_remove",a,e))},createItem:function(b,e){var f=this,g=f.caretPos;b=b||a.trim(f.$control_input.val()||"");var h=arguments[arguments.length-1];"function"!==typeof h&&(h=function(){});"boolean"!==typeof e&&(e=!0);if(!f.canCreate(b))return h(),!1;f.lock();var k="function"===typeof f.settings.create?this.settings.create:function(a){var b={};b[f.settings.labelField]=a;b[f.settings.valueField]=
a;return b},l=u(function(a){f.unlock();if(!a||"object"!==typeof a)return h();var b=m(a[f.settings.valueField]);if("string"!==typeof b)return h();f.setTextboxValue("");f.addOption(a);f.setCaret(g);f.addItem(b);f.refreshOptions(e&&"single"!==f.settings.mode);h(a)}),k=k.apply(this,[b,l]);"undefined"!==typeof k&&l(k);return!0},refreshItems:function(){this.lastQuery=null;this.isSetup&&this.addItem(this.items);this.refreshState();this.updateOriginalInput()},refreshState:function(){this.isRequired&&(this.items.length&&
(this.isInvalid=!1),this.$control_input.prop("required",void 0));this.refreshClasses()},refreshClasses:function(){var b=this.isFull(),e=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl);this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",e).toggleClass("full",b).toggleClass("not-full",!b).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",
this.isOpen).toggleClass("has-options",!a.isEmptyObject(this.options)).toggleClass("has-items",0<this.items.length);this.$control_input.data("grow",!b&&!e)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(a){var b,e,f,g;a=a||{};if(1===this.tagType){f=[];b=0;for(e=this.items.length;b<e;b++)g=this.options[this.items[b]][this.settings.labelField]||"",f.push('<option value="'+p(this.items[b])+'" selected="selected">'+p(g)+
"</option>");f.length||this.$input.attr("multiple")||f.push('<option value="" selected="selected"></option>');this.$input.html(f.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&(a.silent||this.trigger("change",this.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var a=this.$control_input;this.items.length?a.removeAttr("placeholder"):a.attr("placeholder",this.settings.placeholder);a.triggerHandler("update",{force:!0})}},
open:function(){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var a=this.isOpen;"single"===this.settings.mode&&this.items.length&&this.hideInput();this.isOpen=!1;this.$dropdown.hide();this.setActiveOption(null);this.refreshState();a&&this.trigger("dropdown_close",
this.$dropdown)},positionDropdown:function(){var a=this.$control,b="body"===this.settings.dropdownParent?a.offset():a.position();b.top+=a.outerHeight(!0);this.$dropdown.css({width:a.outerWidth(),top:b.top,left:b.left})},clear:function(a){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:a}),this.refreshState(),this.showInput(),this.trigger("clear"))},
insertAtCaret:function(b){var e=Math.min(this.caretPos,this.items.length);0===e?this.$control.prepend(b):a(this.$control[0].childNodes[e]).before(b);this.setCaret(e+1)},deleteSelection:function(b){var e,f,g,h,k;e=b&&8===b.keyCode?-1:1;f=z(this.$control_input[0]);this.$activeOption&&!this.settings.hideSelected&&(k=this.getAdjacentOption(this.$activeOption,-1).attr("data-value"));g=[];if(this.$activeItems.length){h=this.$control.children(".active:"+(0<e?"last":"first"));h=this.$control.children(":not(input)").index(h);
0<e&&h++;e=0;for(f=this.$activeItems.length;e<f;e++)g.push(a(this.$activeItems[e]).attr("data-value"));b&&(b.preventDefault(),b.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(0>e&&0===f.start&&0===f.length?g.push(this.items[this.caretPos-1]):0<e&&f.start===this.$control_input.val().length&&g.push(this.items[this.caretPos]));if(!g.length||"function"===typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[g]))return!1;for("undefined"!==typeof h&&
this.setCaret(h);g.length;)this.removeItem(g.pop());this.showInput();this.positionDropdown();this.refreshOptions(!0);k&&(b=this.getOption(k),b.length&&this.setActiveOption(b));return!0},advanceSelection:function(a,b){var e,f;0!==a&&(this.rtl&&(a*=-1),e=0<a?"last":"first",f=z(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(e=this.$control_input.val().length,(f=0>a?0===f.start&&0===f.length:f.start===e)&&!e&&this.advanceCaret(a,b)):(f=this.$control.children(".active:"+e),f.length&&(f=this.$control.children(":not(input)").index(f),
this.setActiveItem(null),this.setCaret(0<a?f+1:f))))},advanceCaret:function(a,b){var e;0!==a&&(e=0<a?"next":"prev",this.isShiftDown?(e=this.$control_input[e](),e.length&&(this.hideInput(),this.setActiveItem(e),b&&b.preventDefault())):this.setCaret(this.caretPos+a))},setCaret:function(b){b="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,b));if(!this.isPending){var e,f,g,h;g=this.$control.children(":not(input)");e=0;for(f=g.length;e<f;e++)h=a(g[e]).detach(),e<b?
this.$control_input.before(h):this.$control.append(h)}this.caretPos=b},lock:function(){this.close();this.isLocked=!0;this.refreshState()},unlock:function(){this.isLocked=!1;this.refreshState()},disable:function(){this.$input.prop("disabled",!0);this.$control_input.prop("disabled",!0).prop("tabindex",-1);this.isDisabled=!0;this.lock()},enable:function(){this.$input.prop("disabled",!1);this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex);this.isDisabled=!1;this.unlock()},destroy:function(){var b=
this.eventNS,e=this.revertSettings;this.trigger("destroy");this.off();this.$wrapper.remove();this.$dropdown.remove();this.$input.html("").append(e.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:e.tabindex}).show();this.$control_input.removeData("grow");this.$input.removeData("selectize");a(window).off(b);a(document).off(b);a(document.body).off(b);delete this.$input[0].selectize},render:function(a,b){var e,f,g="",h=!1,k=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;
if("option"===a||"item"===a)e=m(b[this.settings.valueField]),h=!!e;if(h&&("undefined"===typeof this.renderCache[a]&&(this.renderCache[a]={}),this.renderCache[a].hasOwnProperty(e)))return this.renderCache[a][e];g=this.settings.render[a].apply(this,[b,p]);if("option"===a||"option_create"===a)g=g.replace(k,"<$1 data-selectable");"optgroup"===a&&(f=b[this.settings.optgroupValueField]||"",g=g.replace(k,'<$1 data-group="'+r(p(f))+'"'));if("option"===a||"item"===a)g=g.replace(k,'<$1 data-value="'+r(p(e||
""))+'"');h&&(this.renderCache[a][e]=g);return g},clearCache:function(a){"undefined"===typeof a?this.renderCache={}:delete this.renderCache[a]},canCreate:function(a){if(!this.settings.create)return!1;var b=this.settings.createFilter;return a.length&&("function"!==typeof b||b.apply(this,[a]))&&("string"!==typeof b||(new RegExp(b)).test(a))&&(!(b instanceof RegExp)||b.test(a))}});D.count=0;D.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,
createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1E3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",
dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}};a.fn.selectize=function(b){var e=a.fn.selectize.defaults,f=a.extend({},e,b),g=f.dataAttr,h=f.labelField,k=f.valueField,l=f.optgroupField,n=f.optgroupLabelField,p=f.optgroupValueField,q=function(b,e){var q,r,t,u,w=e.options,x={},y=function(a){a=g&&a.attr(g);return"string"===typeof a&&a.length?JSON.parse(a):null},z=function(b,g){b=a(b);var n=m(b.attr("value"));
if(n||f.allowEmptyOption)if(x.hasOwnProperty(n)){if(g){var p=x[n][l];p?a.isArray(p)?p.push(g):x[n][l]=[p,g]:x[n][l]=g}}else p=y(b)||{},p[h]=p[h]||b.text(),p[k]=p[k]||n,p[l]=p[l]||g,x[n]=p,w.push(p),b.is(":selected")&&e.items.push(n)},A=function(b){var f,g,h;b=a(b);if(g=b.attr("label"))f=y(b)||{},f[n]=g,f[p]=g,e.optgroups.push(f);h=a("option",b);b=0;for(f=h.length;b<f;b++)z(h[b],g)};e.maxItems=b.attr("multiple")?null:1;u=b.children();q=0;for(r=u.length;q<r;q++)t=u[q].tagName.toLowerCase(),"optgroup"===
t?A(u[q]):"option"===t&&z(u[q])};return this.each(function(){if(!this.selectize){var l=a(this),m=this.tagName.toLowerCase(),n=l.attr("placeholder")||l.attr("data-placeholder");n||f.allowEmptyOption||(n=l.children('option[value=""]').text());n={placeholder:n,options:[],optgroups:[],items:[]};if("select"===m)q(l,n);else{var p,r,u;if(m=l.attr(g))for(n.options=JSON.parse(m),m=0,p=n.options.length;m<p;m++)n.items.push(n.options[m][k]);else if(m=a.trim(l.val()||""),f.allowEmptyOption||m.length){r=m.split(f.delimiter);
m=0;for(p=r.length;m<p;m++)u={},u[h]=r[m],u[k]=r[m],n.options.push(u);n.items=r}}new D(l,a.extend(!0,{},e,n,b))}})};a.fn.selectize.defaults=D.defaults;a.fn.selectize.support={validity:n};D.define("drag_drop",function(b){if(!a.fn.sortable)throw Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var e=this;e.lock=function(){var a=e.lock;return function(){var b=e.$control.data("sortable");b&&b.disable();return a.apply(e,arguments)}}();e.unlock=function(){var a=
e.unlock;return function(){var b=e.$control.data("sortable");b&&b.enable();return a.apply(e,arguments)}}();e.setup=function(){var b=e.setup;return function(){b.apply(this,arguments);var f=e.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:e.isLocked,start:function(a,b){b.placeholder.css("width",b.helper.css("width"));f.css({overflow:"visible"})},stop:function(){f.css({overflow:"hidden"});var b=e.$activeItems?e.$activeItems.slice():null,g=[];f.children("[data-value]").each(function(){g.push(a(this).attr("data-value"))});
e.setValue(g);e.setActiveItem(b)}})}}()}});D.define("dropdown_header",function(b){var e=this;b=a.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(a){return'<div class="'+a.headerClass+'"><div class="'+a.titleRowClass+'"><span class="'+a.labelClass+'">'+a.title+'</span><a href="javascript:void(0)" class="'+a.closeClass+'">&times;</a></div></div>'}},
b);e.setup=function(){var f=e.setup;return function(){f.apply(e,arguments);e.$dropdown_header=a(b.html(b));e.$dropdown.prepend(e.$dropdown_header)}}()});D.define("optgroup_columns",function(b){var e=this;b=a.extend({equalizeWidth:!0,equalizeHeight:!0},b);this.getAdjacentOption=function(b,e){var f=b.closest("[data-group]").find("[data-selectable]"),g=f.index(b)+e;return 0<=g&&g<f.length?f.eq(g):a()};this.onKeyDown=function(){var a=e.onKeyDown;return function(b){var f,g;if(!this.isOpen||37!==b.keyCode&&
39!==b.keyCode)return a.apply(this,arguments);e.ignoreHover=!0;g=this.$activeOption.closest("[data-group]");f=g.find("[data-selectable]").index(this.$activeOption);g=37===b.keyCode?g.prev("[data-group]"):g.next("[data-group]");g=g.find("[data-selectable]");f=g.eq(Math.min(g.length-1,f));f.length&&this.setActiveOption(f)}}();var f=function(){var a,b=f.width,e=document;"undefined"===typeof b&&(a=e.createElement("div"),a.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',
a=a.firstChild,e.body.appendChild(a),b=f.width=a.offsetWidth-a.clientWidth,e.body.removeChild(a));return b},g=function(){var g,h,k,l;l=a("[data-group]",e.$dropdown_content);if((h=l.length)&&e.$dropdown_content.width()){if(b.equalizeHeight){for(g=k=0;g<h;g++)k=Math.max(k,l.eq(g).height());l.css({height:k})}b.equalizeWidth&&(k=e.$dropdown_content.innerWidth()-f(),g=Math.round(k/h),l.css({width:g}),1<h&&(g=k-g*(h-1),l.eq(h-1).css({width:g})))}};if(b.equalizeHeight||b.equalizeWidth)q.after(this,"positionDropdown",
g),q.after(this,"refreshOptions",g)});D.define("remove_button",function(b){if("single"!==this.settings.mode){b=a.extend({label:"&times;",title:"Remove",className:"remove",append:!0},b);var e=this,f='<a href="javascript:void(0)" class="'+b.className+'" tabindex="-1" title="'+p(b.title)+'">'+b.label+"</a>";this.setup=function(){var g=e.setup;return function(){if(b.append){var h=e.settings.render.item;e.settings.render.item=function(a){var b=h.apply(this,arguments),e=b.search(/(<\/[^>]+>\s*)$/);return b.substring(0,
e)+f+b.substring(e)}}g.apply(this,arguments);this.$control.on("click","."+b.className,function(b){b.preventDefault();e.isLocked||(b=a(b.currentTarget).parent(),e.setActiveItem(b),e.deleteSelection()&&e.setCaret(e.items.length))})}}()}});D.define("restore_on_backspace",function(a){var b=this;a.text=a.text||function(a){return a[this.settings.labelField]};this.onKeyDown=function(){var e=b.onKeyDown;return function(b){var f;if(8===b.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&
(f=this.caretPos-1,0<=f&&f<this.items.length)){f=this.options[this.items[f]];this.deleteSelection(b)&&(this.setTextboxValue(a.text.apply(this,[f])),this.refreshOptions(!0));b.preventDefault();return}return e.apply(this,arguments)}}()});return D});var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};
Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert first argument to object");for(var h=Object(a),b=1;b<arguments.length;b++){var g=arguments[b];if(void 0!==g&&null!==g)for(var g=Object(g),f=Object.keys(Object(g)),e=0,l=f.length;e<l;e++){var k=f[e],n=Object.getOwnPropertyDescriptor(g,k);void 0!==n&&n.enumerable&&(h[k]=g[k])}}return h}});
Array.prototype.find||(Array.prototype.find=function(a,h){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof a)throw new TypeError("predicate must be a function");for(var b=Object(this),g=b.length>>>0,f,e=0;e<g;e++)if(f=b[e],a.call(h,f,e,b))return f});
Array.prototype.findIndex||(Array.prototype.findIndex=function(a,h){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!==typeof a)throw new TypeError("predicate must be a function");for(var b=Object(this),g=b.length>>>0,f,e=0;e<g;e++)if(f=b[e],a.call(h,f,e,b))return e;return-1});
Array.prototype.includes||(Array.prototype.includes=function(a,h){var b=Object(this),g=parseInt(b.length)||0;if(0===g)return!1;var f=parseInt(h)||0;0<=f||(f=g+f,0>f&&(f=0));for(var e;f<g;){e=b[f];if(a===e||a!==a&&e!==e)return!0;f++}return!1});String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)});
String.prototype.endsWith||(String.prototype.endsWith=function(a,h){var b=this.toString();if("number"!==typeof h||!isFinite(h)||Math.floor(h)!==h||h>b.length)h=b.length;h-=a.length;b=b.indexOf(a,h);return-1!==b&&b===h});
var jsPanel={version:"3.0.0 RC1",date:"2016-04-16 10:59",id:0,zi:100,modalcount:0,autopositionSpacing:5,pbTreshold:.556,lastbeforeclose:!1,template:'<div class="jsPanel">\n                <div class="jsPanel-hdr">\n                    <div class="jsPanel-headerbar">\n                        <div class="jsPanel-titlebar">\n                            <h3 class="jsPanel-title"></h3>\n                        </div>\n                        <div class="jsPanel-controlbar">\n                            <div class="jsPanel-btn jsPanel-btn-smallify"><span class="jsglyph jsglyph-chevron-up"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-smallifyrev"><span class="jsglyph jsglyph-chevron-down"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-minimize"><span class="jsglyph jsglyph-minimize"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-normalize"><span class="jsglyph jsglyph-normalize"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-maximize"><span class="jsglyph jsglyph-maximize"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-close"><span class="jsglyph jsglyph-close"></span></div>\n                        </div>\n                    </div>\n                    <div class="jsPanel-hdr-toolbar"></div>\n                </div>\n                <div class="jsPanel-content"></div>\n                <div class="jsPanel-ftr"></div>\n               </div>',replacementTemplate:'<div class="jsPanel-replacement">\n                            <div class="jsPanel-hdr">\n                                <div class="jsPanel-headerbar">\n                                    <div class="jsPanel-titlebar">\n                                        <h3 class="jsPanel-title"></h3>\n                                    </div>\n                                    <div class="jsPanel-controlbar">\n                                        <div class="jsPanel-btn jsPanel-btn-normalize"><span class="jsglyph jsglyph-normalize"></span></div>\n                                        <div class="jsPanel-btn jsPanel-btn-maximize"><span class="jsglyph jsglyph-maximize"></span></div>\n                                        <div class="jsPanel-btn jsPanel-btn-close"><span class="jsglyph jsglyph-close"></span></div>\n                                    </div>\n                                </div>\n                            </div>\n                          </div>',
themes:"default primary info success warning danger".split(" "),tplHeaderOnly:'<div class="jsPanel">\n                        <div class="jsPanel-hdr">\n                            <div class="jsPanel-headerbar">\n                                <div class="jsPanel-titlebar">\n                                    <h3 class="jsPanel-title"></h3>\n                                </div>\n                                <div class="jsPanel-controlbar">\n                                    <div class="jsPanel-btn jsPanel-btn-close"><span class="jsglyph jsglyph-close"></span></div>\n                                </div>\n                            </div>\n                            <div class="jsPanel-hdr-toolbar"></div>\n                        </div>\n                    </div>',
tplContentOnly:'<div class="jsPanel">\n                        <div class="jsPanel-content jsPanel-content-noheader jsPanel-content-nofooter"></div>\n                     </div>',activePanels:{list:[],getPanel:function(a){return"string"===typeof a?document.getElementById(a).jspanel.noop():document.getElementById(this.list[a]).jspanel.noop()}},position:function(a,h){function b(a,b){var e;if((e=a.ownerDocument.defaultView)&&e.getComputedStyle)return b=b.replace(/([A-Z])/g,"-$1").toLowerCase(),e.getComputedStyle(a,
null).getPropertyValue(b);if(a.currentStyle)return b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),e=a.currentStyle[b],/^\d+(em|pt|%|ex)?$/i.test(e)?function(b){var e=a.style.left,f=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b||0;b=a.style.pixelLeft+"px";a.style.left=e;a.runtimeStyle.left=f;return b}(e):e}function g(a){var b={};y.includes(a)?b.left=window.pageXOffset:x.includes(a)?b.left=window.pageXOffset+document.documentElement.clientWidth/2:z.includes(a)?
b.left=window.pageXOffset+document.documentElement.clientWidth:b.left=window.pageXOffset;B.includes(a)?b.top=window.pageYOffset:D.includes(a)?b.top=window.pageYOffset+window.innerHeight/2:t.includes(a)?b.top=window.pageYOffset+window.innerHeight:b.top=window.pageYOffset;return b}function f(a){var b={},e=k(p.of);y.includes(a)?b.left=e.left:x.includes(a)?b.left=e.left+e.width/2:z.includes(a)?b.left=e.left+e.width:b.left=e.left;B.includes(a)?b.top=e.top:D.includes(a)?b.top=e.top+e.height/2:t.includes(a)?
b.top=e.top+e.height:b.top=e.top;return b}function e(a){var b={},e=r.getBoundingClientRect();y.includes(a)?b.left=0:x.includes(a)?b.left=e.width/2:z.includes(a)?b.left=e.width:b.left=0;B.includes(a)?b.top=0:D.includes(a)?b.top=e.height/2:t.includes(a)?b.top=e.height:b.top=0;return b}function l(a){var b={},e=r.getBoundingClientRect(),f=document.querySelector(p.of).getBoundingClientRect(),g=f.left-e.left,e=f.top-e.top;y.includes(a)?b.left=g:x.includes(a)?b.left=g+f.width/2:z.includes(a)?b.left=g+f.width:
b.left=g;B.includes(a)?b.top=e:D.includes(a)?b.top=e+f.height/2:t.includes(a)?b.top=e+f.height:b.top=e;return b}function k(a){var b=void 0,b=a.jquery?a[0].getBoundingClientRect():"string"===typeof a?document.querySelector(a).getBoundingClientRect():a.getBoundingClientRect();return{width:Math.round(b.width),height:Math.round(b.height),left:Math.round(b.left+window.pageXOffset),top:Math.round(b.top+window.pageYOffset)}}var n=void 0,m=void 0,p=void 0,r=void 0,q=0,u=0,w=m=m=void 0,y=["left-top","left-center",
"left-bottom"],x=["center-top","center","center-bottom"],z=["right-top","right-center","right-bottom"],B=["left-top","center-top","right-top"],D=["left-center","center","right-center"],t=["left-bottom","center-bottom","right-bottom"];"string"===typeof h&&(n=h.match(/\b[a-z]{4,6}-{1}[a-z]{3,6}\b/),m=h.match(/DOWN|UP|RIGHT|LEFT/),w=h.match(/[+-]?\d+\.?\d*%?/g),h=$.isArray(n)?{my:n[0],at:n[0]}:{my:"center",at:"center"},$.isArray(m)&&(h.autoposition=m[0]),$.isArray(w)&&(h.offsetX=w[0],2===w.length&&(h.offsetY=
w[1])));p=Object.assign({my:"center",at:"center",offsetX:0,offsetY:0,modify:!1,fixed:"true"},h);n="string"===typeof a?document.querySelector(a):a.jquery?a[0]:a;r=n.parentElement;p.of||(r===document.body?p.of="window":p.of=r);m=k(n);"string"===typeof p.offsetX&&"%"===p.offsetX.slice(-1)?p.offsetX="window"===p.of?window.innerWidth*(parseInt(p.offsetX,10)/100):r.clientWidth*(parseInt(p.offsetX,10)/100):"string"===typeof p.offsetX?p.offsetX=parseFloat(p.offsetX):$.isFunction(p.offsetX)&&(p.offsetX=parseInt(p.offsetX.call(a,
a)));"string"===typeof p.offsetY&&"%"===p.offsetY.slice(-1)?p.offsetY="window"===p.of?window.innerHeight*(parseInt(p.offsetY,10)/100):r.clientHeight*(parseInt(p.offsetY,10)/100):"string"===typeof p.offsetY?p.offsetY=parseFloat(p.offsetY):$.isFunction(p.offsetY)&&(p.offsetY=parseInt(p.offsetY.call(a,a)));w=parseInt(b(r,"border-left-width"));y.includes(p.my)?q=w:x.includes(p.my)?q=m.width/2+w:z.includes(p.my)&&(q=m.width+w);w=parseInt(b(r,"border-top-width"));B.includes(p.my)?u=w:D.includes(p.my)?u=
m.height/2+w:t.includes(p.my)&&(u=m.height+w);n.parentElement===document.body?"window"===p.of?(w=g(p.at),p.fixed?(m=w.left-q+p.offsetX-window.pageXOffset,w=w.top-u+p.offsetY-window.pageYOffset):(m=w.left-q+p.offsetX,w=w.top-u+p.offsetY)):(w=f(p.at),m=w.left-q+p.offsetX,w=w.top-u+p.offsetY):(m=w=void 0,m="string"===typeof p.of?document.querySelector(p.of):p.of.jquery?p.of[0]:p.of,w=r===m?e(p.at):l(p.at),m=w.left-q+p.offsetX,w=w.top-u+p.offsetY);if(p.autoposition){var A=void 0,q=void 0,u=[],F=this.autopositionSpacing;
p.my===p.at&&(A=p.my);n.setAttribute("data-autoposition",p.autoposition);$.isFunction(p.offsetX)||n.setAttribute("data-offsetx",p.offsetX);$.isFunction(p.offsetY)||n.setAttribute("data-offsety",p.offsetY);n.classList.add(A);q=document.getElementsByClassName(A);for(A=0;A<q.length;A++)q[A].parentElement===r&&u.push(q[A]);if("DOWN"===p.autoposition)for(A=0;A<u.length-1;A++)w+=u[A].getBoundingClientRect().height+F;else if("UP"===p.autoposition)for(A=0;A<u.length-1;A++)w-=u[A].getBoundingClientRect().height+
F;else if("RIGHT"===p.autoposition)for(A=0;A<u.length-1;A++)m+=u[A].getBoundingClientRect().width+F;else if("LEFT"===p.autoposition)for(A=0;A<u.length-1;A++)m-=u[A].getBoundingClientRect().width+F}m={left:m,top:w};"function"===typeof p.modify&&(m=p.modify.call(m,m));n.style.position="absolute";n.style.left=m.left+"px";n.style.top=m.top+"px";n.style.opacity=1;"window"===p.of&&p.fixed&&r===document.body&&(n.style.position="fixed");return n},reposition:function(a){var h=1>=arguments.length||void 0===
arguments[1]?a.option.position:arguments[1];"minimized"!==a.data("status")&&(0<$(".jsPanel-connector",a).length&&$(".jsPanel-connector",a).remove(),this.position(a,h),a.option.position=h);return a},addCustomTheme:function(a){this.themes.includes(a)||this.themes.push(a)},hslToRgb:function(a,h,b){if(0===h)b=h=a=b;else{var g=function(a,b,e){0>e&&(e+=1);1<e&&--e;return e<1/6?a+6*(b-a)*e:.5>e?b:e<2/3?a+(b-a)*(2/3-e)*6:a},f=.5>b?b*(1+h):b+h-b*h,e=2*b-f;b=g(e,f,a+1/3);h=g(e,f,a);a=g(e,f,a-1/3)}return[Math.round(255*
b),Math.round(255*h),Math.round(255*a)]},rgbToHsl:function(a,h,b){a/=255;h/=255;b/=255;var g=Math.max(a,h,b),f=Math.min(a,h,b),e,l=(g+f)/2;if(g===f)e=f=0;else{var k=g-f,f=.5<l?k/(2-g-f):k/(g+f);switch(g){case a:e=(h-b)/k+(h<b?6:0);break;case h:e=(b-a)/k+2;break;case b:e=(a-h)/k+4}e/=6}e*=360;f=100*f+"%";l=100*l+"%";return{css:"hsl("+e+","+f+","+l+")",h:e,s:f,l:l}},rgbToHex:function(a,h,b){var g=void 0,f=void 0,e=void 0,g=Number(a).toString(16);1===g.length&&(g="0"+g);f=Number(h).toString(16);1===
f.length&&(f="0"+f);e=Number(b).toString(16);1===e.length&&(e="0"+e);return"#"+g+f+e},perceivedBrightness:function(a){a=this.color(a).rgb;return a.r/255*.2627+a.g/255*.678+a.b/255*.0593},lighten:function(a,h){var b=this.color(a).hsl,g=parseFloat(b.l);return"hsl("+b.h+","+b.s+","+(g+(100-g)*h+"%")+")"},darken:function(a,h){var b=this.color(a).hsl,g=parseFloat(b.l);return"hsl("+b.h+","+b.s+","+(g-g*h+"%")+")"},color:function(a){a=a.toLowerCase();var h=void 0,b=void 0,g=void 0,f=g=b=void 0,h=b=h=void 0,
e={},h=/^rgba?\(([0-9]{1,3}),([0-9]{1,3}),([0-9]{1,3}),?(0|1|0\.[0-9]{1,2}|\.[0-9]{1,2})?\)$/gi,b=/^hsla?\(([0-9]{1,3}),([0-9]{1,3}\%),([0-9]{1,3}\%),?(0|1|0\.[0-9]{1,2}|\.[0-9]{1,2})?\)$/gi,g={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",
cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",
dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",
lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",
midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",
salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};g[a]&&(a=g[a]);null!==a.match(/^#?([0-9a-f]{3}|[0-9a-f]{6})$/gi)?(a=a.replace("#",""),1===a.length%
2?(h=a.substr(0,1).repeat(2),b=a.substr(1,1).repeat(2),g=a.substr(2,1).repeat(2),e.rgb={r:parseInt(h,16),g:parseInt(b,16),b:parseInt(g,16)},e.hex="#"+h+b+g):(e.rgb={r:parseInt(a.substr(0,2),16),g:parseInt(a.substr(2,2),16),b:parseInt(a.substr(4,2),16)},e.hex="#"+a),h=this.rgbToHsl(e.rgb.r,e.rgb.g,e.rgb.b),e.hsl=h,e.rgb.css="rgb("+e.rgb.r+","+e.rgb.g+","+e.rgb.b+")"):a.match(h)?(h=h.exec(a),e.rgb={css:a,r:h[1],g:h[2],b:h[3]},e.hex=this.rgbToHex(h[1],h[2],h[3]),h=this.rgbToHsl(h[1],h[2],h[3]),e.hsl=
h):a.match(b)?(h=b.exec(a),b=h[1]/360,g=h[2].substr(0,h[2].length-1)/100,f=h[3].substr(0,h[3].length-1)/100,b=this.hslToRgb(b,g,f),e.rgb={css:"rgb("+b[0]+","+b[1]+","+b[2]+")",r:b[0],g:b[1],b:b[2]},e.hex=this.rgbToHex(e.rgb.r,e.rgb.g,e.rgb.b),e.hsl={css:"hsl("+h[1]+","+h[2]+","+h[3]+")",h:h[1],s:h[2],l:h[3]}):(e.hex="#f5f5f5",e.rgb={css:"rgb(245,245,245)",r:245,g:245,b:245},e.hsl={css:"hsl(0,0%,96.08%)",h:0,s:"0%",l:"96.08%"});return e},calcColors:function(a){var h=this.color(a),b=this.lighten(a,
.81),g=this.darken(a,.5),f=void 0,e=void 0,l=void 0;this.perceivedBrightness(a)<=this.pbTreshold?f="#ffffff":f="#000000";this.perceivedBrightness(b)<=this.pbTreshold?e="#ffffff":e="#000000";this.perceivedBrightness(g)<=this.pbTreshold?l="#000000":l="#ffffff";return[h.hsl.css,b,g,f,e,l]},insertModalBackdrop:function(a){var h=void 0,h=void 0;0===$(".jsPanel-modal-backdrop").length?h="rgba(0,0,0,0.65)":h="rgba(0,0,0,0.15)";h=a?'<div id="jsPanel-modal-backdrop-'+a.attr("id")+'" class="jsPanel-modal-backdrop" style="background:'+
h+";z-index:"+(this.modalcount+9999)+'"></div>':'<div id="jsPanel-modal-backdrop" class="jsPanel-modal-backdrop" style="background:'+h+";z-index:"+(this.modalcount+9999)+'"></div>';$("body").append(h);this.modalcount+=1},addConnector:function(a){function h(b){if(b.match(/top|topleft|topright|lefttopcorner|righttopcorner|leftbottom|rightbottom/))return"none"!==a.footer.css("display")?k:0<parseFloat(a.option.contentSize.height)?l:n}function b(b){if(b.match(/bottom|bottomleft|bottomright|leftbottomcorner|rightbottomcorner/)){if(!a.option.headerRemove)return n;
if(0<parseFloat(a.option.contentSize.height))return l;if("none"!==a.footer.css("display"))return k}}function g(b){if(b.match(/lefttop|righttop/))return a.option.headerRemove?l:n}function f(b){if(b.match(/left|right/)){if(0<parseFloat(a.option.contentSize.height))return l;if(!a.option.headerRemove)return n;if("none"!==a.footer.css("display"))return k}}var e=a.option.paneltype.connectorBG||null,l=a.content.css("background-color"),k=a.footer.css("background-color"),n=a.css("background-color");a.hasClass("jsPanel-tooltip-top")?
(a.append("<div class='jsPanel-connector jsPanel-connector-top'>"),$(".jsPanel-connector-top",a).css("border-top-color",e||h("top")),a.option.position.offsetY=a.option.position.offsetY-10||-10):a.hasClass("jsPanel-tooltip-bottom")?(a.append("<div class='jsPanel-connector jsPanel-connector-bottom'>"),$(".jsPanel-connector-bottom",a).css("border-bottom-color",e||b("bottom")),a.option.position.offsetY=a.option.position.offsetY+10||10):a.hasClass("jsPanel-tooltip-left")?(a.append("<div class='jsPanel-connector jsPanel-connector-left'>"),
$(".jsPanel-connector-left",a).css("border-left-color",e||f("left")),a.option.position.offsetX=a.option.position.offsetX-12||-12):a.hasClass("jsPanel-tooltip-right")?(a.append("<div class='jsPanel-connector jsPanel-connector-right'>"),$(".jsPanel-connector-right",a).css("border-right-color",e||f("right")),a.option.position.offsetX=a.option.position.offsetX+12||12):a.hasClass("jsPanel-tooltip-lefttopcorner")?(a.append("<div class='jsPanel-connector jsPanel-connector-lefttopcorner'>"),$(".jsPanel-connector-lefttopcorner",
a).css("background-color",e||h("lefttopcorner"))):a.hasClass("jsPanel-tooltip-righttopcorner")?(a.append("<div class='jsPanel-connector jsPanel-connector-righttopcorner'>"),$(".jsPanel-connector-righttopcorner",a).css("background-color",e||h("righttopcorner"))):a.hasClass("jsPanel-tooltip-rightbottomcorner")?(a.append("<div class='jsPanel-connector jsPanel-connector-rightbottomcorner'>"),$(".jsPanel-connector-rightbottomcorner",a).css("background-color",e||b("rightbottomcorner"))):a.hasClass("jsPanel-tooltip-leftbottomcorner")?
(a.append("<div class='jsPanel-connector jsPanel-connector-leftbottomcorner'>"),$(".jsPanel-connector-leftbottomcorner",a).css("background-color",e||b("leftbottomcorner"))):a.hasClass("jsPanel-tooltip-lefttop")?(a.append("<div class='jsPanel-connector jsPanel-connector-lefttop'>"),$(".jsPanel-connector-lefttop",a).css("border-left-color",e||g("lefttop")),a.option.position.offsetX=a.option.position.offsetX-12||-12):a.hasClass("jsPanel-tooltip-leftbottom")?(a.append("<div class='jsPanel-connector jsPanel-connector-leftbottom'>"),
$(".jsPanel-connector-leftbottom",a).css("border-left-color",e||h("leftbottom")),a.option.position.offsetX=a.option.position.offsetX-12||-12):a.hasClass("jsPanel-tooltip-topleft")?(a.append("<div class='jsPanel-connector jsPanel-connector-topleft'>"),$(".jsPanel-connector-topleft",a).css("border-top-color",e||h("topleft")),a.option.position.offsetY=a.option.position.offsetY-10||-10):a.hasClass("jsPanel-tooltip-topright")?(a.append("<div class='jsPanel-connector jsPanel-connector-topright'>"),$(".jsPanel-connector-topright",
a).css("border-top-color",e||h("topright")),a.option.position.offsetY=a.option.position.offsetY-10||-10):a.hasClass("jsPanel-tooltip-righttop")?(a.append("<div class='jsPanel-connector jsPanel-connector-righttop'>"),$(".jsPanel-connector-righttop",a).css("border-right-color",e||g("righttop")),a.option.position.offsetX=a.option.position.offsetX+12||12):a.hasClass("jsPanel-tooltip-rightbottom")?(a.append("<div class='jsPanel-connector jsPanel-connector-rightbottom'>"),$(".jsPanel-connector-rightbottom",
a).css("border-right-color",e||h("rightbottom")),a.option.position.offsetX=a.option.position.offsetX+12||12):a.hasClass("jsPanel-tooltip-bottomleft")?(a.append("<div class='jsPanel-connector jsPanel-connector-bottomleft'>"),$(".jsPanel-connector-bottomleft",a).css("border-bottom-color",e||b("bottomleft")),a.option.position.offsetY=a.option.position.offsetY+10||10):a.hasClass("jsPanel-tooltip-bottomright")&&(a.append("<div class='jsPanel-connector jsPanel-connector-bottomright'>"),$(".jsPanel-connector-bottomright",
a).css("border-bottom-color",e||b("bottomright")),a.option.position.offsetY=a.option.position.offsetY+10||10)},setTrigger:function(a){return"string"===typeof a.of?document.querySelector(a.of):a.of.jquery?a.of[0]:a.of},closeTooltips:function(){$(".jsPanel-tooltip").each(function(a,h){return h.jspanel.close()})},setTooltipClass:function(a){var h=a.option.position;"center-bottom"===h.my&&"center-top"===h.at?a.addClass("jsPanel-tooltip-top"):"left-bottom"===h.my&&"right-top"===h.at?a.addClass("jsPanel-tooltip-righttopcorner"):
"left-center"===h.my&&"right-center"===h.at?a.addClass("jsPanel-tooltip-right"):"left-top"===h.my&&"right-bottom"===h.at?a.addClass("jsPanel-tooltip-rightbottomcorner"):"center-top"===h.my&&"center-bottom"===h.at?a.addClass("jsPanel-tooltip-bottom"):"right-top"===h.my&&"left-bottom"===h.at?a.addClass("jsPanel-tooltip-leftbottomcorner"):"right-center"===h.my&&"left-center"===h.at?a.addClass("jsPanel-tooltip-left"):"right-bottom"===h.my&&"left-top"===h.at?a.addClass("jsPanel-tooltip-lefttopcorner"):
"center"===h.my&&"center"===h.at?a.addClass("jsPanel-tooltip-center"):"right-top"===h.my&&"left-top"===h.at?a.addClass("jsPanel-tooltip-lefttop"):"right-bottom"===h.my&&"left-bottom"===h.at?a.addClass("jsPanel-tooltip-leftbottom"):"left-bottom"===h.my&&"left-top"===h.at?a.addClass("jsPanel-tooltip-topleft"):"right-bottom"===h.my&&"right-top"===h.at?a.addClass("jsPanel-tooltip-topright"):"left-top"===h.my&&"right-top"===h.at?a.addClass("jsPanel-tooltip-righttop"):"left-bottom"===h.my&&"right-bottom"===
h.at?a.addClass("jsPanel-tooltip-rightbottom"):"left-top"===h.my&&"left-bottom"===h.at?a.addClass("jsPanel-tooltip-bottomleft"):"right-top"===h.my&&"right-bottom"===h.at&&a.addClass("jsPanel-tooltip-bottomright")},setTooltipMode:function(a,h){"semisticky"===a.option.paneltype.mode?a.hover(function(){return $.noop()},function(){a.close();$(h).removeClass("hasTooltip")}):"sticky"===a.option.paneltype.mode?$.noop():$(h).mouseout(function(){a.close();$(h).removeClass("hasTooltip")})},ajax:function(a){var h=
a.option.contentAjax;$.ajax(h).done(function(b,g,f){h.autoload&&a.content.append(b);$.isFunction(h.done)&&h.done.call(a,b,g,f,a)}).fail(function(b,g,f){$.isFunction(h.fail)&&h.fail.call(a,b,g,f,a)}).always(function(b,g,f){$.isFunction(h.always)&&h.always.call(a,b,g,f,a)}).then(function(b,g,f){h.then&&$.isArray(h.then)&&$.isFunction(h.then[0])&&h.then[0].call(a,b,g,f,a)},function(b,g,f){$.isArray(h.then)&&$.isFunction(h.then[1])&&h.then[1].call(a,b,g,f,a)});a.data("ajaxURL",h.url)},iframe:function(a){var h=
$("<iframe></iframe>"),b=a.option.contentIframe;b.srcdoc&&(h.prop("srcdoc",b.srcdoc),a.data("iframeDOC",b.srcdoc));b.src&&(h.prop("src",b.src),a.data("iframeSRC",b.src));"auto"===a.option.contentSize.width||b.width?h.prop("width",b.width):h.css("width","100%");"auto"===a.option.contentSize.height||b.height?h.prop("height",b.height):h.css("height","100%");b.name&&h.prop("name",b.name);b.sandbox&&h.prop("sandox",b.sandbox);b.id&&h.prop("id",b.id);$.isPlainObject(b.style)&&h.css(b.style);"string"===
typeof b.classname?h.addClass(b.classname):$.isFunction(b.classname)&&h.addClass(b.classname());a.content.append(h)},contentReload:function(a){a.option.content?a.content.empty().append(a.option.content):a.option.contentAjax?(a.content.empty(),this.ajax(a)):a.option.contentIframe&&(a.content.empty(),this.iframe(a));return a},contentResize:function(a){var h=void 0;a.footer.hasClass("active")?h=a.header.outerHeight()+a.footer.outerHeight():h=a.header.outerHeight();a.content.css({height:a.outerHeight()-
h});return a},configIconfont:function(a){var h="close maximize normalize minimize smallify smallifyrev".split(" "),b="remove fullscreen resize-full minus chevron-up chevron-down".split(" "),g="times arrows-alt expand minus chevron-up chevron-down".split(" "),f=a.option.headerControls.iconfont,e=a.header.headerbar;"bootstrap"===f||"glyphicon"===f?(h.forEach(function(a,f){$(".jsPanel-btn-"+a+" span",e).removeClass().addClass("glyphicon glyphicon-"+b[f])}),$(".jsPanel-headerbar .jsPanel-btn",a).css("padding-top",
"4px")):"font-awesome"===f&&h.forEach(function(a,b){$(".jsPanel-btn-"+a+" span",e).removeClass().addClass("fa fa-"+g[b])})},headerControl:function(a,h,b){var g=a.header.headerbar,f=a[0];"disable"===b?"removed"!==f.getAttribute("data-btn"+h)&&(f.setAttribute("data-btn"+h,"disabled"),$(".jsPanel-btn-"+h,g).css({pointerEvents:"none",opacity:.4,cursor:"default"})):"enable"===b?"removed"!==f.getAttribute("data-btn"+h)&&(f.setAttribute("data-btn"+h,"enabled"),$(".jsPanel-btn-"+h,g).css({pointerEvents:"auto",
opacity:1,cursor:"pointer"})):"remove"===b&&"close"!==h&&(f.setAttribute("data-btn"+h,"removed"),$(".jsPanel-btn-"+h,g).remove());return a},hideControls:function(a,h){var b=h.header.headerbar;$("div",b).css("display","flex");$(a,b).css("display","none")},headerTitle:function(a,h){return h?(a.header.title.empty().append(h),a):a.header.title.html()},configToolbar:function(a,h,b){var g=void 0,f=void 0;a.forEach(function(a){"object"===("undefined"===typeof a?"undefined":_typeof(a))&&(g=$(a.item),"string"===
typeof a.btntext&&g.append(a.btntext),"string"===typeof a.btnclass&&g.addClass(a.btnclass),h.append(g),$.isFunction(a.callback)&&(f=a.event||"click",g.on(f,b,a.callback)))})},toolbar:function(a,h,b){"header"===h?(a.header.toolbar.addClass("active"),$.isArray(b)?this.configToolbar(b,a.header.toolbar,a):$.isFunction(b)?a.header.toolbar.append(b(a.header)):a.header.toolbar.append(b)):"footer"===h&&(a.content.removeClass("jsPanel-content-nofooter"),a.footer.addClass("active"),$.isArray(b)?this.configToolbar(b,
a.footer,a):$.isFunction(b)?a.footer.append(b(a.footer)):a.footer.append(b));this.contentResize(a);return a},closeChildpanels:function(a){$(".jsPanel",a).each(function(a,b){b.jspanel.close()});return a},dblclickhelper:function(a,h){if("string"===typeof a)if("maximize"===a||"normalize"===a)"normalized"===h.data("status")?h.maximize():h.normalize();else if("minimize"===a||"smallify"===a||"close"===a)h[a]()},exportPanels:function(){var a=void 0,h=void 0,b=void 0,g=void 0,f=void 0,e=void 0,l=void 0,k=
[],n=void 0,m=$(".jsPanel").not(".jsPanel-tooltip, .jsPanel-hint, .jsPanel-modal");m.each(function(a,b){"normalized"!==$(b).data("status")&&$(".jsPanel-btn-normalize",b).trigger("click")});m.each(function(m,r){l=$(r).data("container");a=$(r).offset();h=$(r).position();"body"===l.toLowerCase()?(b=Math.floor(a.top-$(window).scrollTop()),g=Math.floor(a.left-$(window).scrollLeft())):(b=Math.floor(h.top),g=Math.floor(h.left));f=$(r).css("width");e=$(".jsPanel-content",r).css("height");n={status:$(r).data("status"),
id:$(r).prop("id"),headerTitle:$(".jsPanel-title",r).html(),custom:$(r).data("custom"),content:$(r).data("content"),contentSize:{width:f,height:e},position:{my:"left-top",at:"left-top",offsetX:g,offsetY:b}};$(r).data("ajaxURL")&&(n.contentAjax={url:$(r).data("ajaxURL"),autoload:!0});if($(r).data("iframeDOC")||$(r).data("iframeSRC"))n.contentIframe={src:$(r).data("iframeSRC")||"",srcdoc:$(r).data("iframeDOC")||""};k.push(n);switch(n.status){case "minimized":$(".jsPanel-btn-minimize",r).trigger("click");
break;case "maximized":$(".jsPanel-btn-maximize",r).trigger("click");break;case "smallified":$(".jsPanel-btn-smallify",r).trigger("click");break;case "smallifiedMax":$(".jsPanel-btn-smallify",r).trigger("click")}});window.localStorage.setItem("jspanels",JSON.stringify(k));return k},importPanels:function(a){var h=JSON.parse(localStorage.jspanels)||{},b=a["default"]||{},g=void 0;h.forEach(function(f){g="string"===typeof f.custom.config?$.extend(!0,{},b,a[f.custom.config],f):$.extend(!0,{},b,f);$.jsPanel(g)})},
resize:function(a,h,b){if("minimized"!==a.data("status")){if($.isFunction(a.option.onbeforeresize)&&!1===a.option.onbeforeresize.call(a,a))return a;h&&null!==h||(h=a.content.css("width")+a.content.css("border-left-width"));a.css("width",h);b&&null!==b&&a.css("height",b);a.contentResize();$.isFunction(a.option.onresized)&&a.option.onresized.call(a,a)}return a},setZi:function(a){a.hasClass("jsPanel-modal")||(this.zi+=1)>a.css("z-index")&&a.css("z-index",this.zi)},resetZis:function(){var a=[];$(".jsPanel:not(.jsPanel-modal):not(.jsPanel-hint)").each(function(h,
b){a.push(b)});a.sort(function(a,b){return $(a).css("z-index")-$(b).css("z-index")}).forEach(function(a,b){(jsPanel.zi+=1)>$(a).css("z-index")&&$(a).css("z-index",100+b)});this.zi=99+a.length},updateCachedData:function(a){var h=window.getComputedStyle(a[0],null);a.cachedData.top=h.getPropertyValue("top");a.cachedData.left=h.getPropertyValue("left");a.cachedData.width=h.getPropertyValue("width");a.cachedData.height=h.getPropertyValue("height")}};$(document.body).append("<div id='jsPanel-replacement-container'>");
(function(a){a.jsPanel=function(h){var b=void 0,g=h||{},f=a.extend(!0,{},g.config||{},g),e=void 0,l=[],k=void 0,n=void 0,m=a(g.template||jsPanel.template),p=void 0;h.zi&&(jsPanel.zi=h.zi);"tooltip"===f.paneltype&&(f.paneltype={tooltip:!0});f.paneltype?"modal"===f.paneltype?m.option=a.extend(!0,{},a.jsPanel.defaults,a.jsPanel.modaldefaults,f):f.paneltype.tooltip?m.option=a.extend(!0,{},a.jsPanel.defaults,a.jsPanel.tooltipdefaults,f):"hint"===f.paneltype&&(m.option=a.extend(!0,{},a.jsPanel.defaults,
a.jsPanel.hintdefaults,f)):m.option=a.extend(!0,{},a.jsPanel.defaults,f);if(m.option.paneltype.tooltip&&(p=jsPanel.setTrigger(m.option.position),a(p).hasClass("hasTooltip")))return!1;var r="container contentAjax contentIframe contentOverflow contentSize footerToolbar headerControls headerRemove headerTitle headerToolbar".split(" ");"selector ajax iframe overflow size toolbarFooter controls removeHeader title toolbarHeader".split(" ").forEach(function(a,b){m.option[a]&&(m.option[r[b]]=m.option[a])});
switch(m.option.theme){case "light":m.option.theme="gainsboro";break;case "medium":m.option.theme="silver";break;case "dark":m.option.theme="gray";break;case "autumngreen":m.option.theme="#5A521B";break;case "autumnbrown":m.option.theme="#823E1D";break;case "autumnred":m.option.theme="#852228"}if(m.option.bootstrap)switch(m.option.bootstrap){case "default":m.option.theme="bootstrap-default";break;case "primary":m.option.theme="bootstrap-primary";break;case "info":m.option.theme="bootstrap-info";break;
case "success":m.option.theme="bootstrap-success";break;case "warning":m.option.theme="bootstrap-warning";break;case "danger":m.option.theme="bootstrap-danger"}m.option.load.url&&(m.option.contentAjax={url:m.option.load.url,autoload:!0,data:m.option.load.data||void 0,done:m.option.load.complete||void 0});m.option.panelstatus&&("smallifiedMax"===m.option.panelstatus?m.option.setstatus="maximize smallify":m.option.setstatus=m.option.panelstatus);m.option.headerControls.buttons&&(m.option.headerControls.controls=
m.option.headerControls.buttons);e=m.option.theme.toLowerCase().replace(/ /g,"");e.endsWith("filled")?(l[1]="filled",l[0]=e.substr(0,e.length-6)):e.endsWith("filledlight")?(l[1]="filledlight",l[0]=e.substr(0,e.length-11)):(l[1]="",l[0]=e);l[0].match("-")&&(k=l[0].split("-"),n=!0);"string"===typeof m.option.id?b=m.option.id:a.isFunction(m.option.id)&&(m.option.id=b=m.option.id());if(0<a("#"+b).length)return console.warn("jsPanel Error: No jsPanel created - id attribute passed with option.id already exists in document"),
!1;m.attr("id",b);m.data("custom",m.option.custom);m.header=a(".jsPanel-hdr",m);m.header.headerbar=a(".jsPanel-headerbar",m.header);m.header.title=a(".jsPanel-title",m.header.headerbar);m.header.controls=a(".jsPanel-controlbar",m.header.headerbar);m.header.toolbar=a(".jsPanel-hdr-toolbar",m.header);m.content=a(".jsPanel-content",m);m.footer=a(".jsPanel-ftr",m);m.data("status","initialized");m.cachedData={};m.toolbarAdd=function(){return jsPanel.toolbar(m,0>=arguments.length||void 0===arguments[0]?
"header":arguments[0],1>=arguments.length||void 0===arguments[1]?[]:arguments[1])};m.close=function(){a(document).trigger("jspanelbeforeclose",b);if(a.isFunction(m.option.onbeforeclose)&&!1===m.option.onbeforeclose.call(m,m))return m;var e=m.option.position;if(e.autoposition||"string"===typeof e&&e.match(/DOWN|RIGHT|UP|LEFT/)){var e=a("#"+b).parent(),f=document.getElementById(b).className.match(/left-top|center-top|right-top|left-center|center|right-center|left-bottom|center-bottom|right-bottom/);
f&&(jsPanel.lastbeforeclose={parent:e,"class":f[0]})}m.closeChildpanels().remove();e=jsPanel.activePanels.list.findIndex(function(a){return a===b});-1<e&&jsPanel.activePanels.list.splice(e,1);a("#"+b+"-min").remove();"modal"===m.option.paneltype&&a("#jsPanel-modal-backdrop-"+m.attr("id")).remove();m.option.paneltype.tooltip&&a(p).removeClass("hasTooltip");a(document).trigger("jspanelclosed",b);a(document).trigger("jspanelstatuschange",b);var g=e=e=void 0;jsPanel.lastbeforeclose&&(e=jsPanel.lastbeforeclose.parent,
e=a("."+jsPanel.lastbeforeclose["class"],e),g=jsPanel.lastbeforeclose["class"]);e&&(e.each(function(b,e){a(e).removeClass(g)}),e.each(function(a,b){var e=b.getAttribute("data-autoposition"),f=b.getAttribute("data-offsetx"),h=b.getAttribute("data-offsety");jsPanel.position(b,{my:g,at:g,autoposition:e,offsetX:f,offsetY:h})}));jsPanel.lastbeforeclose=!1;a.isFunction(m.option.onclosed)&&m.option.onclosed.call(m,m);jsPanel.resetZis()};m.closeChildpanels=function(){return jsPanel.closeChildpanels(m)};m.contentReload=
function(){return jsPanel.contentReload(m)};m.contentResize=function(){return jsPanel.contentResize(m)};m.headerControl=function(a){var b=1>=arguments.length||void 0===arguments[1]?"enable":arguments[1];a?jsPanel.headerControl(m,a,b):["close","maximize","minimize","normalize","smallify"].forEach(function(a){jsPanel.headerControl(m,a,b)});return m};m.headerTitle=function(a){return jsPanel.headerTitle(m,a)};m.front=function(){m.css("z-index",jsPanel.setZi(m));jsPanel.resetZis();return m};m.normalize=
function(){if("normalized"===m.data("status"))return m;a(document).trigger("jspanelbeforenormalize",b);if(a.isFunction(m.option.onbeforenormalize)&&!1===m.option.onbeforenormalize.call(m,m))return m;m.css({left:m.cachedData.left,top:m.cachedData.top,width:m.cachedData.width,height:m.cachedData.height,zIndex:function(){jsPanel.setZi(m)}}).data("status","normalized").contentResize();jsPanel.hideControls(".jsPanel-btn-normalize, .jsPanel-btn-smallifyrev",m);a("#"+m.prop("id")+"-min").remove();a(document).trigger("jspanelnormalized",
b);a(document).trigger("jspanelstatuschange",b);a.isFunction(m.option.onnormalized)&&m.option.onnormalized.call(m,m);return m};m.maximize=function(){var e=m.option.maximizedMargin,f=m[0].parentNode;if("maximized"===m.data("status"))return m;"normalized"===m.data("status")&&jsPanel.updateCachedData(m);a(document).trigger("jspanelbeforemaximize",b);if(a.isFunction(m.option.onbeforemaximize)&&!1===m.option.onbeforemaximize.call(m,m))return m;f===document.body?(m.css({width:document.documentElement.clientWidth-
e.left-e.right+"px",height:document.documentElement.clientHeight-e.top-e.bottom+"px",left:e.left+"px",top:e.top+"px"}),!1===m.option.position.fixed&&m.css({left:window.pageXOffset+e.left+"px",top:window.pageYOffset+e.top+"px"})):m.css({width:f.clientWidth-e.left-e.right+"px",height:f.clientHeight-e.top-e.bottom+"px",left:e.left+"px",top:e.top+"px"});m.contentResize().data("status","maximized").css("z-index",jsPanel.setZi(m));jsPanel.hideControls(".jsPanel-btn-maximize, .jsPanel-btn-smallifyrev",m);
a("#"+m.prop("id")+"-min").remove();a(document).trigger("jspanelmaximized",b);a(document).trigger("jspanelstatuschange",b);a.isFunction(m.option.onmaximized)&&m.option.onmaximized.call(m,m);return m};m.minimize=function(){if("minimized"===m.data("status"))return m;a(document).trigger("jspanelbeforeminimize",b);if(a.isFunction(m.option.onbeforeminimize)&&!1===m.option.onbeforeminimize.call(m,m))return m;var e=m.header.headerbar.css("color"),f=void 0,f=n?"transparent"===m.header.css("background-color")?
m.css("background-color"):m.header.css("background-color"):m.css("background-color");"normalized"===m.data("status")&&jsPanel.updateCachedData(m);var g=a(jsPanel.replacementTemplate);g.left=m.css("left");m.css("left","-9999px").data("status","minimized");g.css({backgroundColor:f}).prop("id",m.prop("id")+"-min").find("h3").css({color:e}).html(m.headerTitle());a(".jsPanel-btn",g).css({color:e});e=a(m.option.container).closest(".jsPanel-content");e.length?(a(".jsPanel-minimized-box").length||a(e[0]).append("<div class='jsPanel-minimized-box'>"),
a(".jsPanel-minimized-box").append(g)):a("#jsPanel-replacement-container").append(g);a(document).trigger("jspanelminimized",b);a(document).trigger("jspanelstatuschange",b);a.isFunction(m.option.onminimized)&&m.option.onminimized.call(m,m);a(".jsPanel-btn-normalize",g).css("display","block").click(function(){m.css("left",g.left);g.remove();a(".jsPanel-btn-normalize",m).trigger("click")});"disabled"===m[0].dataset.btnnormalize?a(".jsPanel-btn-normalize",g).css({pointerEvents:"none",opacity:.5,cursor:"default"}):
"removed"===m[0].dataset.btnnormalize&&a(".jsPanel-btn-normalize",g).remove();a(".jsPanel-btn-maximize",g).click(function(){m.css("left",g.left);g.remove();a(".jsPanel-btn-maximize",m).trigger("click")});"disabled"===m[0].dataset.btnmaximize?a(".jsPanel-btn-maximize",g).css({pointerEvents:"none",opacity:.5,cursor:"default"}):"removed"===m[0].dataset.btnmaximize&&a(".jsPanel-btn-maximize",g).remove();a(".jsPanel-btn-close",g).click(function(){g.remove();m.close()});"disabled"===m[0].dataset.btnclose&&
a(".jsPanel-btn-close",g).css({pointerEvents:"none",opacity:.5,cursor:"default"});return m};m.reposition=function(a){return jsPanel.reposition(m,a)};m.resize=function(a,b){return jsPanel.resize(m,a,b)};m.smallify=function(){"normalized"===m.data("status")||"maximized"===m.data("status")?"smallified"!==m.data("status")&&"smallifiedMax"!==m.data("status")&&(m.smallify.height=m.outerHeight(),m.animate({height:m.header.headerbar.outerHeight()+"px"}),"maximized"===m.data("status")?(jsPanel.hideControls(".jsPanel-btn-maximize, .jsPanel-btn-smallify",
m),m.data("status","smallifiedMax"),a(document).trigger("jspanelsmallifiedmax",b)):(jsPanel.hideControls(".jsPanel-btn-normalize, .jsPanel-btn-smallify",m),m.data("status","smallified"),a(document).trigger("jspanelsmallified",b)),a(document).trigger("jspanelstatuschange",b),a.isFunction(m.option.onsmallified)&&m.option.onsmallified.call(m,m)):"minimized"!==m.data("status")&&(m.animate({height:m.smallify.height}),"smallified"===m.data("status")?(jsPanel.hideControls(".jsPanel-btn-normalize, .jsPanel-btn-smallifyrev",
m),m.data("status","normalized"),a(document).trigger("jspanelnormalized",b)):(jsPanel.hideControls(".jsPanel-btn-maximize, .jsPanel-btn-smallifyrev",m),m.data("status","maximized"),a(document).trigger("jspanelmaximized",b)),a(document).trigger("jspanelstatuschange",b),a.isFunction(m.option.onunsmallified)&&m.option.onunsmallified.call(m,m));m.css("z-index",jsPanel.setZi(m));return m};m.addToolbar=m.toolbarAdd;m.reloadContent=m.contentReload;m.resizeContent=m.contentResize;m.control=m.headerControl;
m.title=m.headerTitle;a(".jsPanel-btn-close",m).on("click",function(a){a.preventDefault();m.close()});a(".jsPanel-btn-minimize",m).on("click",function(a){a.preventDefault();m.minimize()});a(".jsPanel-btn-maximize",m).on("click",function(a){a.preventDefault();m.maximize()});a(".jsPanel-btn-normalize",m).on("click",function(a){a.preventDefault();m.normalize()});a(".jsPanel-btn-smallify, .jsPanel-btn-smallifyrev",m).on("click",function(a){a.preventDefault();m.smallify()});m.option.headerRemove?(m.header.remove(),
m.content.addClass("jsPanel-content-noheader"),["close","maximize","minimize","normalize","smallify"].forEach(function(a){m[0].setAttribute("data-btn"+a,"removed")})):"closeonly"===m.option.headerControls.controls?(a(".jsPanel-btn:not(.jsPanel-btn-close)",m.header.headerbar).remove(),["maximize","minimize","normalize","smallify"].forEach(function(a){m[0].setAttribute("data-btn"+a,"removed")}),m[0].setAttribute("data-btn-close","enabled")):"none"===m.option.headerControls.controls?(a(m.header.controls).remove(),
["close","maximize","minimize","normalize","smallify"].forEach(function(a){m[0].setAttribute("data-btn"+a,"removed")})):["close","maximize","minimize","normalize","smallify"].forEach(function(a){"disable"===m.option.headerControls[a]?m.headerControl(a,"disable"):"remove"===m.option.headerControls[a]?m.headerControl(a,"remove"):m[0].setAttribute("data-btn"+a,"enabled")});jsPanel.configIconfont(m);"modal"===m.option.paneltype?(jsPanel.insertModalBackdrop(m),m.addClass("jsPanel-modal").css("z-index",
jsPanel.modalcount+9999)):"hint"===m.option.paneltype?m.addClass("jsPanel-hint").css("z-index",1E4):m.option.paneltype.tooltip&&(p=jsPanel.setTrigger(m.option.position),m.addClass("jsPanel-tooltip"),jsPanel.setTooltipClass(m),m.option.paneltype.solo&&jsPanel.closeTooltips(),jsPanel.setTooltipMode(m,p));m.appendTo(m.option.container);jsPanel.activePanels.list.push(b);m.option.paneltype.tooltip&&a(p).addClass("hasTooltip");a(document).trigger("jspanelloaded",b);m.data("container",m.option.container);
n?(g=h=void 0,m.addClass("panel panel-"+k[1]).addClass("card card-inverse card-"+k[1]).header.addClass("panel-heading").title.addClass("panel-title"),m.content.addClass("panel-body").css("border-top-color",function(){return m.header.css("border-top-color")}),m.footer.addClass("panel-footer card-footer"),h="transparent"===a(".panel-heading",m).css("background-color")?m.css("background-color").replace(/\s+/g,""):a(".panel-heading",m).css("background-color").replace(/\s+/g,""),g=jsPanel.calcColors(h),
a("*",m.header).css("color",g[3]),m.option.headerToolbar?m.header.toolbar.css({boxShadow:"0 0 1px "+g[3]+" inset",width:"calc(100% + 4px)",marginLeft:"-2px"}):m.content.css({borderTop:"1px solid "+g[3]}),"filled"===l[1]?m.content.css({backgroundColor:h,color:g[3]}):"filledlight"===l[1]&&m.content.css({backgroundColor:g[1],color:"#000000"})):jsPanel.themes.includes(l[0])?([m,m.header,m.content,m.footer].forEach(function(b){return a(b).addClass("jsPanel-theme-"+l[0])}),"filled"===l[1]?m.content.css("background",
"").addClass("jsPanel-content-filled"):"filledlight"===l[1]&&m.content.css("background","").addClass("jsPanel-content-filledlight"),m.option.headerToolbar||m.content.css({borderTop:"1px solid "+m.header.title.css("color")})):(k=jsPanel.calcColors(l[0]),m.css("background-color",k[0]),a(".jsPanel-hdr *",m).css({color:k[3]}),m.option.headerToolbar?m.header.toolbar.css({boxShadow:"0 0 1px "+k[3]+" inset",width:"calc(100% + 4px)",marginLeft:"-2px"}):m.content.css({borderTop:"1px solid "+k[3]}),"filled"===
l[1]?m.content.css({"background-color":k[0],color:k[3]}):"filledlight"===l[1]&&m.content.css({"background-color":k[1]}));(m.option.headerRemove||1>a(".jsPanel-hdr").length)&&m.content.css("border","none");m.option.headerToolbar&&!m.option.headerRemove&&jsPanel.toolbar(m,"header",m.option.headerToolbar);m.option.footerToolbar&&jsPanel.toolbar(m,"footer",m.option.footerToolbar);m.option.content&&(m.content.append(m.option.content),m.data("content",m.option.content));"string"===typeof m.option.contentAjax?
(m.option.contentAjax={url:m.option.contentAjax,autoload:!0},jsPanel.ajax(m)):a.isPlainObject(m.option.contentAjax)&&jsPanel.ajax(m);a.isPlainObject(m.option.contentIframe)&&(m.option.contentIframe.src||m.option.contentIframe.srcdoc)&&jsPanel.iframe(m);m.option.paneltype.connector&&jsPanel.addConnector(m);"string"===typeof m.option.contentSize&&(k=m.option.contentSize.trim().split(" "),h=k.length,m.option.contentSize={width:k[0],height:k[--h]});0===m.option.contentSize.height&&(m.option.contentSize.height=
"0");m.content.css({width:m.option.contentSize.width||a.jsPanel.defaults.contentSize.width,height:m.option.contentSize.height||a.jsPanel.defaults.contentSize.height});m.css({width:function(){return 0<a(".jsPanel-content",m).length?m.content.outerWidth()+"px":m.option.contentSize.width||a.jsPanel.defaults.contentSize.width},zIndex:function(){jsPanel.setZi(m)}});m.content.css("width","100%");jsPanel.position(m,m.option.position);m.data("status","normalized");a(document).trigger("jspanelstatuschange",
b);if(!m.option.paneltype&&m.option.dblclicks){if(m.option.dblclicks.title)m.header.headerbar.on("dblclick",function(a){a.preventDefault();jsPanel.dblclickhelper(m.option.dblclicks.title,m)});if(m.option.dblclicks.content)m.content.on("dblclick",function(a){a.preventDefault();jsPanel.dblclickhelper(m.option.dblclicks.content,m)});if(m.option.dblclicks.footer)m.footer.on("dblclick",function(a){a.preventDefault();jsPanel.dblclickhelper(m.option.dblclicks.footer,m)})}"string"===typeof m.option.contentOverflow?
m.content.css("overflow",m.option.contentOverflow):a.isPlainObject(m.option.contentOverflow)&&m.content.css({"overflow-y":m.option.contentOverflow.vertical||m.option.contentOverflow["overflow-y"],"overflow-x":m.option.contentOverflow.horizontal||m.option.contentOverflow["overflow-x"]});a.isPlainObject(m.option.draggable)?m.draggable(m.option.draggable):"disabled"===m.option.draggable?(a(".jsPanel-hdr, .jsPanel-ftr",m).css("cursor","default"),m.draggable({disabled:!0})):a(".jsPanel-hdr, .jsPanel-ftr",
m).css("cursor","default");a.isPlainObject(m.option.resizable)?m.resizable(m.option.resizable):"disabled"===m.option.resizable&&(m.resizable({disabled:!0}),a(".ui-icon-gripsmall-diagonal-se, .ui-resizable-handle.ui-resizable-sw",m).css({"background-image":"none","text-indent":-9999}),a(".ui-resizable-handle",m).css({cursor:"inherit"}));m.on("resize",function(){return m.contentResize()});!0===m.option.rtl.rtl&&(a(".jsPanel-hdr, .jsPanel-headerbar, .jsPanel-titlebar, .jsPanel-controlbar, .jsPanel-hdr-toolbar, .jsPanel-ftr",
m).addClass("jsPanel-rtl"),[m.header.title,m.content,a("*",m.header.toolbar),a("*",m.footer)].forEach(function(a){a.prop("dir","rtl");m.option.rtl.lang&&a.prop("lang",m.option.rtl.lang)}),a(".ui-icon-gripsmall-diagonal-se",m).css({backgroundImage:"none",textIndent:-9999}));"string"===typeof m.option.show&&m.addClass(m.option.show).css("opacity",1);m.header.title.empty().prepend(m.option.headerTitle);m[0].addEventListener("mousedown",function(b){b=a(b.target).closest(".jsPanel").css("z-index");!m.hasClass("jsPanel-modal")&&
b<jsPanel.zi&&(m.css("z-index",jsPanel.setZi(m)),jsPanel.resetZis())},!1);jsPanel.updateCachedData(m);"string"===typeof m.option.setstatus&&("maximize smallify"===m.option.setstatus?m.maximize().smallify():m[m.option.setstatus]());"number"===typeof m.option.autoclose&&0<m.option.autoclose&&window.setTimeout(function(){m&&m.close()},m.option.autoclose);m[0].jspanel={close:function(){m.close()},normalize:function(){m.normalize();return m},maximize:function(){m.maximize();return m},minimize:function(){m.minimize();
return m},smallify:function(){m.smallify();return m},front:function(){m.front();return m},closeChildpanels:function(){m.closeChildpanels();return m},reposition:function(a){m.reposition(a);return m},resize:function(a,b){m.resize(a,b);return m},contentResize:function(){m.contentResize();return m},contentReload:function(){m.contentReload();return m},headerTitle:function(a){m.headerTitle(a);return m},headerControl:function(a,b){m.headerControl(a,b);return m},toolbarAdd:function(a,b){m.toolbarAdd(a,b);
return m},noop:function(){return m}};m.option.callback&&a.isFunction(m.option.callback)?m.option.callback.call(m,m):a.isArray(m.option.callback)&&m.option.callback.forEach(function(b){a.isFunction(b)&&b.call(m,m)});return m};a.jsPanel.defaults={autoclose:!1,callback:!1,container:"body",content:!1,contentAjax:!1,contentIframe:!1,contentOverflow:"hidden",contentSize:{width:400,height:200},custom:!1,dblclicks:!1,draggable:{handle:"div.jsPanel-hdr, div.jsPanel-ftr",opacity:.8},footerToolbar:!1,headerControls:{close:!1,
maximize:!1,minimize:!1,normalize:!1,smallify:!1,controls:"all",iconfont:"jsglyph"},headerRemove:!1,headerTitle:"jsPanel",headerToolbar:!1,id:function(){return"jsPanel-"+(jsPanel.id+=1)},load:!1,maximizedMargin:{top:5,right:5,bottom:5,left:5},onbeforeclose:!1,onbeforemaximize:!1,onbeforeminimize:!1,onbeforenormalize:!1,onclosed:!1,onmaximized:!1,onminimized:!1,onnormalized:!1,onbeforeresize:!1,onresized:!1,onsmallified:!1,onunsmallified:!1,paneltype:!1,position:{my:"center",at:"center"},resizable:{handles:"n, e, s, w, ne, se, sw, nw",
autoHide:!1,minWidth:40,minHeight:40},rtl:!1,setstatus:!1,show:!1,template:!1,theme:"default"};a.jsPanel.modaldefaults={draggable:"disabled",headerControls:{controls:"closeonly"},position:{my:"center",at:"center"},resizable:"disabled"};a.jsPanel.tooltipdefaults={draggable:!1,headerControls:{controls:"closeonly"},position:{fixed:!1},resizable:!1};a.jsPanel.hintdefaults={autoclose:8E3,draggable:!1,headerControls:{controls:"closeonly"},resizable:!1}})(jQuery);
