(function(){var a,h,b,e,g,f,l,k,n,m,p,q,r,t,v,x,y,z,B,E,w={}.hasOwnProperty,A=[].indexOf||function(a){for(var b=0,e=this.length;b<e;b++)if(b in this&&this[b]===a)return b;return-1};f={is_unordered:!1,is_counting:!1,is_exclusive:!1,is_solitary:!1,prevent_default:!1,prevent_repeat:!1,normalize_caps_lock:!1};z="meta alt option ctrl shift cmd".split(" ");x="ctrl";E={debug:!1};a=function(){function a(b){var e,f;for(e in b)w.call(b,e)&&(f=b[e],!1!==f&&(this[e]=f));this.keys=this.keys||[];this.count=this.count||
0}a.prototype.allows_key_repeat=function(){return!this.prevent_repeat&&"function"===typeof this.on_keydown};a.prototype.reset=function(){this.count=0;return this.keyup_fired=null};return a}();E.Listener=function(){function k(a,b){var e,g;"undefined"!==typeof jQuery&&null!==jQuery&&a instanceof jQuery&&(1!==a.length&&v("Warning: your jQuery selector should have exactly one object."),a=a[0]);this.should_force_event_defaults=this.should_suppress_event_defaults=!1;this.sequence_delay=800;this._registered_combos=
[];this._keys_down=[];this._active_combos=[];this._sequence=[];this._sequence_timer=null;this._prevent_capture=!1;this._defaults=b||{};for(e in f)w.call(f,e)&&(g=f[e],this._defaults[e]=this._defaults[e]||g);this.element=a||document.body;e=function(a,b,e){a.addEventListener?a.addEventListener(b,e):a.attachEvent&&a.attachEvent("on"+b,e);return e};this.keydown_event=e(this.element,"keydown",function(a){return function(b){b=b||window.event;a._receive_input(b,!0);return a._bug_catcher(b)}}(this));this.keyup_event=
e(this.element,"keyup",function(a){return function(b){b=b||window.event;return a._receive_input(b,!1)}}(this));this.blur_event=e(window,"blur",function(a){return function(){var b,e,f,g;g=a._keys_down;e=0;for(f=g.length;e<f;e++)b=g[e],a._key_up(b,{});return a._keys_down=[]}}(this))}k.prototype.destroy=function(){var a;a=function(a,b,e){if(null!=a.removeEventListener)return a.removeEventListener(b,e);if(null!=a.removeEvent)return a.removeEvent("on"+b,e)};a(this.element,"keydown",this.keydown_event);
a(this.element,"keyup",this.keyup_event);return a(window,"blur",this.blur_event)};k.prototype._bug_catcher=function(a){var b,f;if("cmd"===x&&0<=A.call(this._keys_down,"cmd")&&"cmd"!==(b=e(null!=(f=a.keyCode)?f:a.key))&&"shift"!==b&&"alt"!==b&&"caps"!==b&&"tab"!==b)return this._receive_input(a,!1)};k.prototype._cmd_bug_check=function(a){return"cmd"===x&&0<=A.call(this._keys_down,"cmd")&&0>A.call(a,"cmd")?!1:!0};k.prototype._prevent_default=function(a,b,e){e=a.target;if(!e||-1==e.className.toLowerCase().indexOf("input"))if(16===
a.keyCode&&(this._shiftDown="keydown"===a.type),!this._shiftDown&&(b||this.should_suppress_event_defaults)&&!this.should_force_event_defaults&&!this._shiftDown&&(a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation))return a.stopPropagation()};k.prototype._get_active_combos=function(a){var b,e;b=[];e=l(this._keys_down,function(b){return b!==a});e.push(a);this._match_combo_arrays(e,function(a){return function(e){if(a._cmd_bug_check(e.keys))return b.push(e)}}(this));this._fuzzy_match_combo_arrays(e,
function(a){return function(e){if(!(0<=A.call(b,e)||e.is_solitary)&&a._cmd_bug_check(e.keys))return b.push(e)}}(this));return b};k.prototype._get_potential_combos=function(a){var b,e,f,g,k;g=[];k=this._registered_combos;e=0;for(f=k.length;e<f;e++)b=k[e],b.is_sequence||0<=A.call(b.keys,a)&&this._cmd_bug_check(b.keys)&&g.push(b);return g};k.prototype._add_to_active_combos=function(a){var b,e,f,g,k,l,m,h,n,r,p;p=!1;r=!0;f=!1;if(0<=A.call(this._active_combos,a))return!0;if(this._active_combos.length)for(g=
k=0,h=this._active_combos.length;0<=h?k<h:k>h;g=0<=h?++k:--k)if((b=this._active_combos[g])&&b.is_exclusive&&a.is_exclusive){b=b.keys;if(!p)for(m=0,l=b.length;m<l;m++)if(e=b[m],p=!0,0>A.call(a.keys,e)){p=!1;break}if(r&&!p)for(n=a.keys,m=0,l=n.length;m<l;m++)if(e=n[m],r=!1,0>A.call(b,e)){r=!0;break}p&&(f?(b=this._active_combos.splice(g,1)[0],null!=b&&b.reset()):(b=this._active_combos.splice(g,1,a)[0],null!=b&&b.reset(),f=!0),r=!1)}r&&this._active_combos.unshift(a);return p||r};k.prototype._remove_from_active_combos=
function(a){var b,e,f,g;e=f=0;for(g=this._active_combos.length;0<=g?f<g:f>g;e=0<=g?++f:--f)if(b=this._active_combos[e],b===a){a=this._active_combos.splice(e,1)[0];a.reset();break}};k.prototype._get_possible_sequences=function(){var a,b,e,f,g,k,m,h,n,r,p,q;m=[];n=this._registered_combos;e=0;for(f=n.length;e<f;e++)for(a=n[e],b=g=1,r=this._sequence.length;1<=r?g<=r:g>=r;b=1<=r?++g:--g)if(q=this._sequence.slice(-b),a.is_sequence){if(0>A.call(a.keys,"shift")&&(q=l(q,function(a){return"shift"!==a}),!q.length))continue;
b=h=0;for(p=q.length;0<=p?h<p:h>p;b=0<=p?++h:--h)if(a.keys[b]===q[b])k=!0;else{k=!1;break}k&&m.push(a)}return m};k.prototype._add_key_to_sequence=function(a,b){var e,f,g,k;this._sequence.push(a);k=this._get_possible_sequences();if(k.length){f=0;for(g=k.length;f<g;f++)e=k[f],this._prevent_default(b,e.prevent_default);this._sequence_timer&&clearTimeout(this._sequence_timer);-1<this.sequence_delay&&(this._sequence_timer=setTimeout(function(a){return function(){return a._sequence=[]}}(this),this.sequence_delay))}else this._sequence=
[]};k.prototype._get_sequence=function(a){var b,e,f,g,k,m,h,n,r,p,q,w;n=this._registered_combos;f=0;for(g=n.length;f<g;f++)if(b=n[f],b.is_sequence){e=k=1;for(r=this._sequence.length;1<=r?k<=r:k>=r;e=1<=r?++k:--k)if(w=l(this._sequence,function(a){return 0<=A.call(b.keys,"shift")?!0:"shift"!==a}).slice(-e),b.keys.length===w.length)for(e=h=0,p=w.length;0<=p?h<p:h>p;e=0<=p?++h:--h)if(q=w[e],!(0>A.call(b.keys,"shift")&&"shift"===q||"shift"===a&&0>A.call(b.keys,"shift")))if(b.keys[e]===q)m=!0;else{m=!1;
break}if(m)return b.is_exclusive&&(this._sequence=[]),b}return!1};k.prototype._receive_input=function(a,b){var f,g;if(this._prevent_capture)this._keys_down.length&&(this._keys_down=[]);else if(f=e(null!=(g=a.keyCode)?g:a.key),(b||this._keys_down.length||"alt"!==f&&f!==x)&&f)return b?this._key_down(f,a):this._key_up(f,a)};k.prototype._fire=function(a,b,e,f){"function"===typeof b["on_"+a]&&this._prevent_default(e,!0!==b["on_"+a].call(b["this"],e,b.count,f));"release"===a&&(b.count=0);if("keyup"===a)return b.keyup_fired=
!0};k.prototype._match_combo_arrays=function(a,e){var f,g,k,l,m;l=this._registered_combos;g=0;for(k=l.length;g<k;g++)m=l[g],f=a.slice(0),m.normalize_caps_lock&&0<=A.call(f,"caps")&&f.splice(f.indexOf("caps"),1),(!m.is_unordered&&b(f,m.keys)||m.is_unordered&&h(f,m.keys))&&e(m)};k.prototype._fuzzy_match_combo_arrays=function(a,b){var e,f,g,k;g=this._registered_combos;e=0;for(f=g.length;e<f;e++)k=g[e],(!k.is_unordered&&m(k.keys,a)||k.is_unordered&&n(k.keys,a))&&b(k)};k.prototype._keys_remain=function(a){var b,
e,f,g;g=a.keys;e=0;for(f=g.length;e<f;e++)if(a=g[e],0<=A.call(this._keys_down,a)){b=!0;break}return b};k.prototype._key_down=function(a,b){var e,f,k,l,m;(e=g(a,b))&&(a=e);this._add_key_to_sequence(a,b);(e=this._get_sequence(a))&&this._fire("keydown",e,b);for(m in y)e=y[m],b[e]&&(m===a||0<=A.call(this._keys_down,m)||this._keys_down.push(m));for(m in y)if(e=y[m],m!==a&&0<=A.call(this._keys_down,m)&&!b[e]&&("cmd"!==m||"cmd"===x))for(e=f=0,k=this._keys_down.length;0<=k?f<k:f>k;e=0<=k?++f:--f)this._keys_down[e]===
m&&this._keys_down.splice(e,1);f=this._get_active_combos(a);m=this._get_potential_combos(a);l=0;for(k=f.length;l<k;l++)e=f[l],this._handle_combo_down(e,m,a,b);if(m.length)for(f=0,e=m.length;f<e;f++)k=m[f],this._prevent_default(b,k.prevent_default);0>A.call(this._keys_down,a)&&this._keys_down.push(a)};k.prototype._handle_combo_down=function(a,b,e,f){var g,k,l,m,h;if(0>A.call(a.keys,e))return!1;this._prevent_default(f,a&&a.prevent_default);g=!1;if(0<=A.call(this._keys_down,e)&&(g=!0,!a.allows_key_repeat()))return!1;
h=this._add_to_active_combos(a,e);e=a.keyup_fired=!1;if(a.is_exclusive)for(k=0,l=b.length;k<l;k++)if(m=b[k],m.is_exclusive&&m.keys.length>a.keys.length){e=!0;break}if(!e&&(a.is_counting&&"function"===typeof a.on_keydown&&(a.count+=1),h))return this._fire("keydown",a,f,g)};k.prototype._key_up=function(a,b){var e,f,k,l,m,h;f=a;(e=g(a,b))&&(a=e);e=t[f];b.shiftKey?e&&0<=A.call(this._keys_down,e)||(a=f):f&&0<=A.call(this._keys_down,f)||(a=e);(l=this._get_sequence(a))&&this._fire("keyup",l,b);if(0>A.call(this._keys_down,
a))return!1;l=m=0;for(h=this._keys_down.length;0<=h?m<h:m>h;l=0<=h?++m:--m)if((k=this._keys_down[l])===a||k===e||k===f){this._keys_down.splice(l,1);break}f=this._active_combos.length;k=[];h=this._active_combos;m=0;for(l=h.length;m<l;m++)e=h[m],0<=A.call(e.keys,a)&&k.push(e);m=0;for(l=k.length;m<l;m++)e=k[m],this._handle_combo_up(e,b,a);if(1<f)for(m=this._active_combos,l=0,f=m.length;l<f;l++)e=m[l],void 0===e||0<=A.call(k,e)||this._keys_remain(e)||this._remove_from_active_combos(e)};k.prototype._handle_combo_up=
function(a,b,e){var f,g;this._prevent_default(b,a&&a.prevent_default);g=this._keys_remain(a);a.keyup_fired||(f=this._keys_down.slice(),f.push(e),a.is_solitary&&!h(f,a.keys))||(this._fire("keyup",a,b),a.is_counting&&"function"===typeof a.on_keyup&&"function"!==typeof a.on_keydown&&(a.count+=1));g||(this._fire("release",a,b),this._remove_from_active_combos(a))};k.prototype.simple_combo=function(a,b){return this.register_combo({keys:a,on_keydown:b})};k.prototype.counting_combo=function(a,b){return this.register_combo({keys:a,
is_counting:!0,is_unordered:!1,on_keydown:b})};k.prototype.sequence_combo=function(a,b){return this.register_combo({keys:a,on_keydown:b,is_sequence:!0,is_exclusive:!0})};k.prototype.register_combo=function(b){var e,f,g;"string"===typeof b.keys&&(b.keys=b.keys.split(" "));g=this._defaults;for(e in g)w.call(g,e)&&(f=g[e],void 0===b[e]&&(b[e]=f));b=new a(b);if(B(b))return this._registered_combos.push(b),b};k.prototype.register_many=function(a){var b,e,f,g;g=[];e=0;for(f=a.length;e<f;e++)b=a[e],g.push(this.register_combo(b));
return g};k.prototype.unregister_combo=function(e){var f,g,k,l,m,n;if(!e)return!1;g=function(a){return function(b){var e,f,g,k;k=[];e=f=0;for(g=a._registered_combos.length;0<=g?f<g:f>g;e=0<=g?++f:--f)if(b===a._registered_combos[e]){a._registered_combos.splice(e,1);break}else k.push(void 0);return k}}(this);if(e instanceof a)return g(e);"string"===typeof e&&(e=e.split(" "));m=this._registered_combos;n=[];k=0;for(l=m.length;k<l;k++)f=m[k],null!=f&&(f.is_unordered&&h(e,f.keys)||!f.is_unordered&&b(e,
f.keys)?n.push(g(f)):n.push(void 0));return n};k.prototype.unregister_many=function(a){var b,e,f,g;g=[];e=0;for(f=a.length;e<f;e++)b=a[e],g.push(this.unregister_combo(b));return g};k.prototype.get_registered_combos=function(){return this._registered_combos};k.prototype.reset=function(){return this._registered_combos=[]};k.prototype.listen=function(){return this._prevent_capture=!1};k.prototype.stop_listening=function(){return this._prevent_capture=!0};k.prototype.get_meta_key=function(){return x};
return k}();e=function(a){return r[a]};l=function(a,b){var e;if(a.filter)return a.filter(b);var f,g,k;k=[];f=0;for(g=a.length;f<g;f++)e=a[f],b(e)&&k.push(e);return k};h=function(a,b){var e,f,g;if(a.length!==b.length)return!1;f=0;for(g=a.length;f<g;f++)if(e=a[f],!(0<=__indexOf.call(b,e)))return!1;return!0};b=function(a,b){var e,f,g;if(a.length!==b.length)return!1;e=f=0;for(g=a.length;0<=g?f<g:f>g;e=0<=g?++f:--f)if(a[e]!==b[e])return!1;return!0};n=function(a,b){var e,f,g;f=0;for(g=a.length;f<g;f++)if(e=
a[f],0>__indexOf.call(b,e))return!1;return!0};k=Array.prototype.indexOf||function(a,b){var e,f,g;e=f=0;for(g=a.length;0<=g?f<=g:f>=g;e=0<=g?++f:--f)if(a[e]===b)return e;return-1};m=function(a,b){var e,f,g,l;g=f=0;for(l=a.length;g<l;g++)if(e=a[g],e=k.call(b,e),e>=f)f=e;else return!1;return!0};v=function(){if(E.debug)return console.log.apply(console,arguments)};p=function(a){var b,e,f;e=!1;for(b in r)if(f=r[b],a===f){e=!0;break}if(!e)for(b in t)if(f=t[b],a===f){e=!0;break}return e};B=function(a){var b,
e,g,l,m,h,n;n=!0;a.keys.length||v("You're trying to bind a combo with no keys:",a);e=l=0;for(m=a.keys.length;0<=m?l<m:l>m;e=0<=m?++l:--l)g=a.keys[e],(b=q[g])&&(g=a.keys[e]=b),"meta"===g&&a.keys.splice(e,1,x),"cmd"===g&&v('Warning: use the "meta" key rather than "cmd" for Windows compatibility');_ref1=a.keys;_j=0;for(_len=_ref1.length;_j<_len;_j++)g=_ref1[_j],p(g)||(v('Do not recognize the key "'+g+'"'),n=!1);if(0<=A.call(a.keys,"meta")||0<=A.call(a.keys,"cmd")){m=a.keys.slice();l=0;for(b=z.length;l<
b;l++)g=z[l],-1<(e=k.call(m,g))&&m.splice(e,1);1<m.length&&(v("META and CMD key combos cannot have more than 1 non-modifier keys",a,m),n=!1)}for(h in a)"undefined"===f[h]&&v("The property "+h+" is not a valid combo property. Your combo has still been registered.");return n};g=function(a,b){var e;if(!b.shiftKey)return!1;e=t[a];return null!=e?e:!1};y={cmd:"metaKey",ctrl:"ctrlKey",shift:"shiftKey",alt:"altKey"};q={escape:"esc",control:"ctrl",command:"cmd","break":"pause",windows:"cmd",option:"alt",caps_lock:"caps",
apostrophe:"'",semicolon:";",tilde:"~",accent:"`",scroll_lock:"scroll",num_lock:"num"};t={"/":"?",".":">",",":"<","'":'"',";":":","[":"{","]":"}","\\":"|","`":"~","=":"+","-":"_",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")"};r={0:"\\",8:"backspace",9:"tab",12:"num",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",44:"print",45:"insert",46:"delete",48:"0",49:"1",50:"2",
51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"cmd",92:"cmd",93:"cmd",96:"num_0",97:"num_1",98:"num_2",99:"num_3",100:"num_4",101:"num_5",102:"num_6",103:"num_7",104:"num_8",105:"num_9",106:"num_multiply",107:"num_add",108:"num_enter",109:"num_subtract",110:"num_decimal",111:"num_divide",112:"f1",113:"f2",114:"f3",
115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",124:"print",144:"num",145:"scroll",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"`",224:"cmd",225:"alt",57392:"ctrl",63289:"num",59:";",61:"=",173:"-"};E._keycode_dictionary=r;E._is_array_in_array_sorted=m;-1!==navigator.userAgent.indexOf("Mac OS X")&&(x="cmd");-1!==navigator.userAgent.indexOf("Opera")&&(r["17"]="cmd");window.keypress=E;"function"===typeof define&&define.amd||
("undefined"!==typeof exports&&null!==exports?exports.keypress=E:window.keypress=E)}).call(this);/*

 lodash 3.10.1 (Custom Build) lodash.com/license | Underscore.js 1.8.3 underscorejs.org/LICENSE
 Build: `lodash modern -o ./lodash.js`
*/
(function(){function a(a,b){if(a!==b){var e=null===a,f=a===w,g=a===a,k=null===b,l=b===w,m=b===b;if(a>b&&!k||!g||e&&!l&&m||f&&m)return 1;if(a<b&&!e||!m||k&&!f&&g||l&&g)return-1}return 0}function h(a,b,e){for(var f=a.length,g=e?f:-1;e?g--:++g<f;)if(b(a[g],g,a))return g;return-1}function b(a,b,e){if(b!==b)return r(a,e);--e;for(var f=a.length;++e<f;)if(a[e]===b)return e;return-1}function e(a){return"function"==typeof a||!1}function g(a){return null==a?"":a+""}function f(a,b){for(var e=-1,f=a.length;++e<
f&&-1<b.indexOf(a.charAt(e)););return e}function l(a,b){for(var e=a.length;e--&&-1<b.indexOf(a.charAt(e)););return e}function k(b,e){return a(b.a,e.a)||b.b-e.b}function n(a){return zb[a]}function m(a){return Va[a]}function p(a,b,e){return b?a=mb[a]:e&&(a=La[a]),"\\"+a}function q(a){return"\\"+La[a]}function r(a,b,e){var f=a.length;for(b+=e?0:-1;e?b--:++b<f;){var g=a[b];if(g!==g)return b}return-1}function t(a){return!!a&&"object"==typeof a}function v(a){return 160>=a&&9<=a&&13>=a||32==a||160==a||5760==
a||6158==a||8192<=a&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function x(a,b){for(var e=-1,f=a.length,g=-1,k=[];++e<f;)a[e]===b&&(a[e]=ka,k[++g]=e);return k}function y(a){for(var b=-1,e=a.length;++b<e&&v(a.charCodeAt(b)););return b}function z(a){for(var b=a.length;b--&&v(a.charCodeAt(b)););return b}function B(a){return Ma[a]}function E(v){function C(a){if(t(a)&&!(ra(a)||a instanceof na)){if(a instanceof Ca)return a;if(Za.call(a,"__chain__")&&Za.call(a,"__wrapped__"))return vd(a)}return new Ca(a)}
function Ma(){}function Ca(a,b,e){this.__wrapped__=a;this.__actions__=e||[];this.__chain__=!!b}function na(a){this.__wrapped__=a;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=uc;this.__views__=[]}function mb(){this.__data__={}}function Wa(a){var b=a?a.length:0;for(this.data={hash:vc(null),set:new wc};b--;)this.push(a[b])}function La(a,b){var e=a.data;return("string"==typeof b||Na(b)?e.set.has(b):e.hash[b])?0:-1}function Ia(a,b){var e=-1,f=a.length;
for(b||(b=Oa(f));++e<f;)b[e]=a[e];return b}function Ya(a,b){for(var e=-1,f=a.length;++e<f&&!1!==b(a[e],e,a););return a}function vb(a,b){for(var e=-1,f=a.length;++e<f;)if(!b(a[e],e,a))return!1;return!0}function zb(a,b){for(var e=-1,f=a.length,g=-1,k=[];++e<f;){var l=a[e];b(l,e,a)&&(k[++g]=l)}return k}function ab(a,b){for(var e=-1,f=a.length,g=Oa(f);++e<f;)g[e]=b(a[e],e,a);return g}function Va(a,b){for(var e=-1,f=b.length,g=a.length;++e<f;)a[g+e]=b[e];return a}function xc(a,b,e,f){var g=-1,k=a.length;
for(f&&k&&(e=a[++g]);++g<k;)e=b(e,a[g],g,a);return e}function fc(a,b){for(var e=-1,f=a.length;++e<f;)if(b(a[e],e,a))return!0;return!1}function Ib(a,b,e,f){return a!==w&&Za.call(f,e)?a:b}function Ob(a,b,e){for(var f=-1,g=gb(b),k=g.length;++f<k;){var l=g[f],m=a[l],h=e(m,b[l],l,a,b);(h===h?h===m:m!==m)&&(m!==w||l in a)||(a[l]=h)}return a}function Fb(a,b){return null==b?a:gc(b,gb(b),a)}function yc(a,b){for(var e=-1,f=null==a,g=!f&&db(a),k=g?a.length:0,l=b.length,m=Oa(l);++e<l;){var h=b[e];m[e]=g?Jb(h,
k)?a[h]:w:f?w:a[h]}return m}function gc(a,b,e){e||(e={});for(var f=-1,g=b.length;++f<g;){var k=b[f];e[k]=a[k]}return e}function Xb(a,b,e){var f=typeof a;return"function"==f?b===w?a:qb(a,b,e):null==a?Pb:"object"==f?Qb(a):b===w?zc(a):Ac(a,b)}function Gb(a,b,e,f,g,k,l){var m;if(e&&(m=g?e(a,f,g):e(a)),m!==w)return m;if(!Na(a))return a;if(f=ra(a)){if(m=cf(a),!b)return Ia(a,m)}else{var h=rb.call(a),n=h==ha;if(h!=Ea&&h!=Y&&(!n||g))return sa[h]?df(a,h,b):g?a:{};if(m=ef(n?{}:a),!b)return Fb(m,a)}k||(k=[]);
l||(l=[]);for(g=k.length;g--;)if(k[g]==a)return l[g];return k.push(a),l.push(m),(f?Ya:Ab)(a,function(f,g){m[g]=Gb(f,b,e,g,a,k,l)}),m}function Bc(a,b,e){if("function"!=typeof a)throw new wb(V);return Cc(function(){a.apply(w,e)},b)}function Kb(a,e){var f=a?a.length:0,g=[];if(!f)return g;var k=-1,l=Yb(),m=l===b,h=m&&e.length>=O&&vc&&wc?new Wa(e):null,n=e.length;h&&(l=La,m=!1,e=h);a:for(;++k<f;)if(h=a[k],m&&h===h){for(var r=n;r--;)if(e[r]===h)continue a;g.push(h)}else 0>l(e,h,0)&&g.push(h);return g}function hc(a,
b){var e=!0;return Bb(a,function(a,f,g){return e=!!b(a,f,g)}),e}function Dc(a,b,e,f){var g=f,k=g;return Bb(a,function(a,l,m){l=+b(a,l,m);(e(l,g)||l===f&&l===k)&&(g=l,k=a)}),k}function Zb(a,b){var e=[];return Bb(a,function(a,f,g){b(a,f,g)&&e.push(a)}),e}function Ec(a,b,e,f){var g;return e(a,function(a,e,k){return b(a,e,k)?(g=f?e:a,!1):void 0}),g}function hb(a,b,e,f){f||(f=[]);for(var g=-1,k=a.length;++g<k;){var l=a[g];t(l)&&db(l)&&(e||ra(l)||Hb(l))?b?hb(l,b,e,f):Va(f,l):e||(f[f.length]=l)}return f}
function ic(a,b){Sc(a,b,Lb)}function Ab(a,b){return Sc(a,b,gb)}function jc(a,b){return xd(a,b,gb)}function kc(a,b){for(var e=-1,f=b.length,g=-1,k=[];++e<f;){var l=b[e];Rb(a[l])&&(k[++g]=l)}return k}function sb(a,b,e){if(null!=a){e!==w&&e in Cb(a)&&(b=[e]);e=0;for(var f=b.length;null!=a&&e<f;)a=a[b[e++]];return e&&e==f?a:w}}function Sb(a,b,e,f,g,k){if(a===b)a=!0;else if(null==a||null==b||!Na(a)&&!t(b))a=a!==a&&b!==b;else a:{var l=Sb,m=ra(a),h=ra(b),n=oa,r=oa;m||(n=rb.call(a),n==Y?n=Ea:n!=Ea&&(m=$b(a)));
h||(r=rb.call(b),r==Y?r=Ea:r!=Ea&&$b(b));var p=n==Ea,h=r==Ea,r=n==r;if(!r||m||p)if(!f&&(n=p&&Za.call(a,"__wrapped__"),h=h&&Za.call(b,"__wrapped__"),n||h))a=l(n?a.value():a,h?b.value():b,e,f,g,k);else if(r){g||(g=[]);k||(k=[]);for(n=g.length;n--;)if(g[n]==a){a=k[n]==b;break a}g.push(a);k.push(b);a=(m?ff:gf)(a,b,l,e,f,g,k);g.pop();k.pop()}else a=!1;else a=hf(a,b,n)}return a}function ac(a,b,e){var f=b.length,g=f,k=!e;if(null==a)return!g;for(a=Cb(a);f--;){var l=b[f];if(k&&l[2]?l[1]!==a[l[0]]:!(l[0]in
a))return!1}for(;++f<g;){var l=b[f],m=l[0],h=a[m],n=l[1];if(k&&l[2]){if(h===w&&!(m in a))return!1}else if(l=e?e(h,n,m):w,l===w?!Sb(n,h,e,!0):!l)return!1}return!0}function bc(a,b){var e=-1,f=db(a)?Oa(a.length):[];return Bb(a,function(a,g,k){f[++e]=b(a,g,k)}),f}function Qb(a){var b=yd(a);if(1==b.length&&b[0][2]){var e=b[0][0],f=b[0][1];return function(a){return null==a?!1:a[e]===f&&(f!==w||e in Cb(a))}}return function(a){return ac(a,b)}}function Ac(a,b){var e=ra(a),f=Tb(a)&&b===b&&!Na(b),g=a+"";return a=
Mb(a),function(k){if(null==k)return!1;var l=g;if(k=Cb(k),!(!e&&f||l in k)){if(k=1==a.length?k:sb(k,xb(a,0,-1)),null==k)return!1;l=lc(a);k=Cb(k)}return k[l]===b?b!==w||l in k:Sb(b,k[l],w,!0)}}function ob(a,b,e,f,g){if(!Na(a))return a;var k=db(b)&&(ra(b)||$b(b)),l=k?w:gb(b);return Ya(l||b,function(m,h){if(l&&(h=m,m=b[h]),t(m)){f||(f=[]);g||(g=[]);a:{for(var n=h,r=f,p=g,q=r.length,A=b[n];q--;)if(r[q]==A){a[n]=p[q];break a}var q=a[n],v=e?e(q,A,n,a,b):w,y=v===w;y&&(v=A,db(A)&&(ra(A)||$b(A))?v=ra(q)?q:
db(q)?Ia(q):[]:Fc(A)||Hb(A)?v=Hb(q)?zd(q):Fc(q)?q:{}:y=!1);r.push(A);p.push(v);y?a[n]=ob(v,A,e,r,p):(v===v?v!==q:q===q)&&(a[n]=v)}}else n=a[h],r=e?e(n,m,h,a,b):w,(p=r===w)&&(r=m),r===w&&(!k||h in a)||!p&&(r===r?r===n:n!==n)||(a[h]=r)}),a}function Tc(a){return function(b){return null==b?w:b[a]}}function jf(a){var b=a+"";return a=Mb(a),function(e){return sb(e,a,b)}}function Ad(a,b){for(var e=a?b.length:0;e--;){var f=b[e];if(f!=g&&Jb(f)){var g=f;Bd.call(a,f,1)}}}function Uc(a,b){return a+Ub(Cd()*(b-
a+1))}function kf(a,b,e,f,g){return g(a,function(a,g,k){e=f?(f=!1,a):b(e,a,g,k)}),e}function xb(a,b,e){var f=-1,g=a.length;b=null==b?0:+b||0;0>b&&(b=-b>g?0:g+b);e=e===w||e>g?g:+e||0;0>e&&(e+=g);g=b>e?0:e-b>>>0;b>>>=0;for(e=Oa(g);++f<g;)e[f]=a[f+b];return e}function lf(a,b){var e;return Bb(a,function(a,f,g){return e=b(a,f,g),!e}),!!e}function Dd(a,b){var e=a.length;for(a.sort(b);e--;)a[e]=a[e].c;return a}function Ed(b,e,f){var g=Ja(),k=-1;return e=ab(e,function(a){return g(a)}),b=bc(b,function(a){return{a:ab(e,
function(b){return b(a)}),b:++k,c:a}}),Dd(b,function(b,e){var g;a:{for(var k=-1,l=b.a,m=e.a,h=l.length,n=f.length;++k<h;)if(g=a(l[k],m[k])){if(k>=n)break a;k=f[k];g*="asc"===k||!0===k?1:-1;break a}g=b.b-e.b}return g})}function mf(a,b){var e=0;return Bb(a,function(a,f,g){e+=+b(a,f,g)||0}),e}function mc(a,e){var f=-1,g=Yb(),k=a.length,l=g===b,m=l&&k>=O,h=m&&vc&&wc?new Wa(void 0):null,n=[];h?(g=La,l=!1):(m=!1,h=e?[]:n);a:for(;++f<k;){var r=a[f],p=e?e(r,f,a):r;if(l&&r===r){for(var q=h.length;q--;)if(h[q]===
p)continue a;e&&h.push(p);n.push(r)}else 0>g(h,p,0)&&((e||m)&&h.push(p),n.push(r))}return n}function Vc(a,b){for(var e=-1,f=b.length,g=Oa(f);++e<f;)g[e]=a[b[e]];return g}function Gc(a,b,e,f){for(var g=a.length,k=f?g:-1;(f?k--:++k<g)&&b(a[k],k,a););return e?xb(a,f?0:k,f?k+1:g):xb(a,f?k+1:0,f?g:k)}function Fd(a,b){var e=a;e instanceof na&&(e=e.value());for(var f=-1,g=b.length;++f<g;)var k=b[f],e=k.func.apply(k.thisArg,Va([e],k.args));return e}function Wc(a,b,e){var f=0,g=a?a.length:f;if("number"==typeof b&&
b===b&&g<=nf){for(;f<g;){var k=f+g>>>1,l=a[k];(e?l<=b:l<b)&&null!==l?f=k+1:g=k}return g}return Gd(a,b,Pb,e)}function Gd(a,b,e,f){b=e(b);for(var g=0,k=a?a.length:0,l=b!==b,m=null===b,h=b===w;g<k;){var n=Ub((g+k)/2),r=e(a[n]),p=r!==w,q=r===r;(l?q||f:m?q&&p&&(f||null!=r):h?q&&(f||p):null==r?0:f?r<=b:r<b)?g=n+1:k=n}return pb(k,of)}function qb(a,b,e){if("function"!=typeof a)return Pb;if(b===w)return a;switch(e){case 1:return function(e){return a.call(b,e)};case 3:return function(e,f,g){return a.call(b,
e,f,g)};case 4:return function(e,f,g,k){return a.call(b,e,f,g,k)};case 5:return function(e,f,g,k,l){return a.call(b,e,f,g,k,l)}}return function(){return a.apply(b,arguments)}}function Hd(a){var b=new pf(a.byteLength);return(new Id(b)).set(new Id(a)),b}function Jd(a,b,e){for(var f=e.length,g=-1,k=eb(a.length-f,0),l=-1,m=b.length,h=Oa(m+k);++l<m;)h[l]=b[l];for(;++g<f;)h[e[g]]=a[g];for(;k--;)h[l++]=a[g++];return h}function Kd(a,b,e){for(var f=-1,g=e.length,k=-1,l=eb(a.length-g,0),m=-1,h=b.length,n=Oa(l+
h);++k<l;)n[k]=a[k];for(l=k;++m<h;)n[l+m]=b[m];for(;++f<g;)n[l+e[f]]=a[k++];return n}function Hc(a,b){return function(e,f,g){var k=b?b():{};if(f=Ja(f,g,3),ra(e)){g=-1;for(var l=e.length;++g<l;){var m=e[g];a(k,m,f(m,g,e),e)}}else Bb(e,function(b,e,g){a(k,b,f(b,e,g),g)});return k}}function Ld(a){return Fa(function(b,e){var f=-1,g=null==b?0:e.length,k=2<g?e[g-2]:w,l=2<g?e[2]:w,m=1<g?e[g-1]:w;"function"==typeof k?(k=qb(k,m,5),g-=2):(k="function"==typeof m?m:w,g-=k?1:0);for(l&&za(e[0],e[1],l)&&(k=3>g?
w:k,g=1);++f<g;)(l=e[f])&&a(b,l,k);return b})}function Md(a,b){return function(e,f){var g=e?nc(e):0;if(!Eb(g))return a(e,f);for(var k=b?g:-1,l=Cb(e);(b?k--:++k<g)&&!1!==f(l[k],k,l););return e}}function Nd(a){return function(b,e,f){var g=Cb(b);f=f(b);for(var k=f.length,l=a?k:-1;a?l--:++l<k;){var m=f[l];if(!1===e(g[m],m,g))break}return b}}function qf(a,b){function e(){return(this&&this!==Ga&&this instanceof e?f:a).apply(b,arguments)}var f=Ic(a);return e}function Jc(a){return function(b){var e=-1;b=
Od(Pd(b));for(var f=b.length,g="";++e<f;)g=a(g,b[e],e);return g}}function Ic(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var e=oc(a.prototype),b=a.apply(e,b);return Na(b)?b:e}}function Qd(a){function b(e,
f,g){return g&&za(e,f,g)&&(f=w),e=Nb(e,a,w,w,w,w,w,f),e.placeholder=b.placeholder,e}return b}function Rd(a,b){return Fa(function(e){var f=e[0];return null==f?f:(e.push(b),a.apply(w,e))})}function Sd(a,b){return function(e,f,g){if(g&&za(e,f,g)&&(f=w),f=Ja(f,g,3),1==f.length){g=e=ra(e)?e:Xc(e);for(var k=f,l=-1,m=g.length,h=b,n=h;++l<m;){var r=g[l],p=+k(r);a(p,h)&&(h=p,n=r)}if(g=n,!e.length||g!==b)return g}return Dc(e,f,a,b)}}function Td(a,b){return function(e,f,g){return f=Ja(f,g,3),ra(e)?(f=h(e,f,
b),-1<f?e[f]:w):Ec(e,f,a)}}function Ud(a){return function(b,e,f){return b&&b.length?(e=Ja(e,f,3),h(b,e,a)):-1}}function Vd(a){return function(b,e,f){return e=Ja(e,f,3),Ec(b,e,a,!0)}}function Wd(a){return function(){for(var b,e=arguments.length,f=a?e:-1,g=0,k=Oa(e);a?f--:++f<e;){var l=k[g++]=arguments[f];if("function"!=typeof l)throw new wb(V);!b&&Ca.prototype.thru&&"wrapper"==Kc(l)&&(b=new Ca([],!0))}for(f=b?-1:e;++f<e;){var l=k[f],g=Kc(l),m="wrapper"==g?Yc(l):w;b=m&&Zc(m[0])&&m[1]==(L|G|J|R)&&!m[4].length&&
1==m[9]?b[Kc(m[0])].apply(b,m[3]):1==l.length&&Zc(l)?b[g]():b.thru(l)}return function(){var a=arguments,f=a[0];if(b&&1==a.length&&ra(f)&&f.length>=O)return b.plant(f).value();for(var g=0,a=e?k[g].apply(this,a):f;++g<e;)a=k[g].call(this,a);return a}}}function Xd(a,b){return function(e,f,g){return"function"==typeof f&&g===w&&ra(e)?a(e,f):b(e,qb(f,g,3))}}function Yd(a){return function(b,e,f){return("function"!=typeof e||f!==w)&&(e=qb(e,f,3)),a(b,e,Lb)}}function Zd(a){return function(b,e,f){return("function"!=
typeof e||f!==w)&&(e=qb(e,f,3)),a(b,e)}}function $d(a){return function(b,e,f){var g={};return e=Ja(e,f,3),Ab(b,function(b,f,k){k=e(b,f,k);f=a?k:f;b=a?b:k;g[f]=b}),g}}function ae(a){return function(b,e,f){return b=g(b),(a?b:"")+be(b,e,f)+(a?"":b)}}function ce(a){var b=Fa(function(e,f){var g=x(f,b.placeholder);return Nb(e,a,w,f,g)});return b}function de(a,b){return function(e,f,g,k){var l=3>arguments.length;return"function"==typeof f&&k===w&&ra(e)?a(e,f,g,l):kf(e,Ja(f,k,4),g,l,b)}}function $c(a,b,e,
f,g,k,l,m,h,n){function r(){for(var ob=arguments.length,E=ob,B=Oa(ob);E--;)B[E]=arguments[E];if(f&&(B=Jd(B,f,g)),k&&(B=Kd(B,k,l)),v||y){var E=r.placeholder,K=x(B,E),ob=ob-K.length;if(ob<n){var C=m?Ia(m):w,ob=eb(n-ob,0),G=v?K:w,K=v?w:K,u=v?B:w,B=v?w:B;return b|=v?J:N,b&=~(v?N:J),t||(b&=~(D|F)),B=[a,b,e,u,G,B,K,C,h,ob],C=$c.apply(w,B),Zc(a)&&ee(C,B),C.placeholder=E,C}}if(E=q?e:this,C=A?E[a]:a,m)for(ob=B.length,G=pb(m.length,ob),K=Ia(B);G--;)u=m[G],B[G]=Jb(u,ob)?K[u]:w;return p&&h<B.length&&(B.length=
h),this&&this!==Ga&&this instanceof r&&(C=z||Ic(a)),C.apply(E,B)}var p=b&L,q=b&D,A=b&F,v=b&G,t=b&K,y=b&M,z=A?w:Ic(a);return r}function be(a,b,e){return a=a.length,b=+b,a<b&&cc(b)?(b-=a,e=null==e?" ":e+"",fe(e,Lc(b/e.length)).slice(0,b)):""}function rf(a,b,e,f){function g(){for(var b=-1,m=arguments.length,h=-1,n=f.length,r=Oa(n+m);++h<n;)r[h]=f[h];for(;m--;)r[h++]=arguments[++b];return(this&&this!==Ga&&this instanceof g?l:a).apply(k?e:this,r)}var k=b&D,l=Ic(a);return g}function ad(a){var b=Vb[a];return function(a,
e){return(e=e===w?0:+e||0)?(e=sf(10,e),b(a*e)/e):b(a)}}function ge(a){return function(b,e,f,g){var k=Ja(f);return null==f&&k===Xb?Wc(b,e,a):Gd(b,e,k(f,g,1),a)}}function Nb(a,b,e,f,g,k,l,m){var h=b&F;if(!h&&"function"!=typeof a)throw new wb(V);var n=f?f.length:0;if(n||(b&=~(J|N),f=g=w),n-=g?g.length:0,b&N){var r=f,p=g;f=g=w}var q=h?w:Yc(a);return e=[a,b,e,f,g,r,p,k,l,m],q&&(f=e[1],b=q[1],m=f|b,g=b==L&&f==G||b==L&&f==R&&e[7].length<=q[8]||b==(L|R)&&f==G,(m<L||g)&&(b&D&&(e[2]=q[2],m|=f&D?0:K),(f=q[3])&&
(g=e[3],e[3]=g?Jd(g,f,q[4]):Ia(f),e[4]=g?x(e[3],ka):Ia(q[4])),(f=q[5])&&(g=e[5],e[5]=g?Kd(g,f,q[6]):Ia(f),e[6]=g?x(e[5],ka):Ia(q[6])),(f=q[7])&&(e[7]=Ia(f)),b&L&&(e[8]=null==e[8]?q[8]:pb(e[8],q[8])),null==e[9]&&(e[9]=q[9]),e[0]=q[0],e[1]=m),b=e[1],m=e[9]),e[9]=null==m?h?0:a.length:eb(m-n,0)||0,(q?he:ee)(b==D?qf(e[0],e[2]):b!=J&&b!=(D|J)||e[4].length?$c.apply(w,e):rf.apply(w,e),e)}function ff(a,b,e,f,g,k,l){var m=-1,h=a.length,n=b.length;if(h!=n&&(!g||n<=h))return!1;for(;++m<h;){var r=a[m],n=b[m],
p=f?f(g?n:r,g?r:n,m):w;if(p!==w){if(p)continue;return!1}if(g){if(!fc(b,function(a){return r===a||e(r,a,f,g,k,l)}))return!1}else if(r!==n&&!e(r,n,f,g,k,l))return!1}return!0}function hf(a,b,e){switch(e){case ta:case pa:return+a==+b;case bb:return a.name==b.name&&a.message==b.message;case Sa:return a!=+a?b!=+b:a==+b;case ya:case cb:return a==b+""}return!1}function gf(a,b,e,f,g,k,l){var m=gb(a),h=m.length,n=gb(b).length;if(h!=n&&!g)return!1;for(n=h;n--;){var r=m[n];if(!(g?r in b:Za.call(b,r)))return!1}for(var p=
g;++n<h;){var r=m[n],q=a[r],A=b[r],v=f?f(g?A:q,g?q:A,r):w;if(v===w?!e(q,A,f,g,k,l):!v)return!1;p||(p="constructor"==r)}return p||(e=a.constructor,f=b.constructor,!(e!=f&&"constructor"in a&&"constructor"in b)||"function"==typeof e&&e instanceof e&&"function"==typeof f&&f instanceof f)?!0:!1}function Ja(a,b,e){var f=C.callback||Mc,f=f===Mc?Xb:f;return e?f(a,b,e):f}function Kc(a){for(var b=a.name+"",e=Nc[b],f=e?e.length:0;f--;){var g=e[f],k=g.func;if(null==k||k==a)return g.name}return b}function Yb(a,
e,f){var g=C.indexOf||bd,g=g===bd?b:g;return a?g(a,e,f):g}function yd(a){a=ie(a);for(var b=a.length;b--;){var e=a[b][1];a[b][2]=e===e&&!Na(e)}return a}function dc(a,b){var e=null==a?w:a[b];return je(e)?e:w}function cf(a){var b=a.length,e=new a.constructor(b);return b&&"string"==typeof a[0]&&Za.call(a,"index")&&(e.index=a.index,e.input=a.input),e}function ef(a){return a=a.constructor,"function"==typeof a&&a instanceof a||(a=Wb),new a}function df(a,b,e){var f=a.constructor;switch(b){case Ta:return Hd(a);
case ta:case pa:return new f(+a);case yb:case ib:case ba:case u:case fb:case Ka:case la:case jb:case H:return b=a.buffer,new f(e?Hd(b):b,a.byteOffset,a.length);case Sa:case cb:return new f(a);case ya:var g=new f(a.source,Pa.exec(a));g.lastIndex=a.lastIndex}return g}function cd(a,b,e){return null==a||Tb(b,a)||(b=Mb(b),a=1==b.length?a:sb(a,xb(b,0,-1)),b=lc(b)),b=null==a?a:a[b],null==b?w:b.apply(a,e)}function db(a){return null!=a&&Eb(nc(a))}function Jb(a,b){return a="number"==typeof a||Xa.test(a)?+a:
-1,b=null==b?ke:b,-1<a&&0==a%1&&a<b}function za(a,b,e){if(!Na(e))return!1;var f=typeof b;return("number"==f?db(e)&&Jb(b,e.length):"string"==f&&b in e)?(b=e[b],a===a?a===b:b!==b):!1}function Tb(a,b){var e=typeof a;return"string"==e&&va.test(a)||"number"==e?!0:ra(a)?!1:!Q.test(a)||null!=b&&a in Cb(b)}function Zc(a){var b=Kc(a),e=C[b];return"function"==typeof e&&b in na.prototype?a===e?!0:(b=Yc(e),!!b&&a===b[0]):!1}function Eb(a){return"number"==typeof a&&-1<a&&0==a%1&&a<=ke}function le(a,b){return a===
w?b:dd(a,b,le)}function me(a,b){a=Cb(a);for(var e=-1,f=b.length,g={};++e<f;){var k=b[e];k in a&&(g[k]=a[k])}return g}function ne(a,b){var e={};return ic(a,function(a,f,g){b(a,f,g)&&(e[f]=a)}),e}function oe(a){for(var b=Lb(a),e=b.length,f=e&&a.length,g=!!f&&Eb(f)&&(ra(a)||Hb(a)),k=-1,l=[];++k<e;){var m=b[k];(g&&Jb(m,f)||Za.call(a,m))&&l.push(m)}return l}function Xc(a){return null==a?[]:db(a)?Na(a)?a:Wb(a):Oc(a)}function Cb(a){return Na(a)?a:Wb(a)}function Mb(a){if(ra(a))return a;var b=[];return g(a).replace(ea,
function(a,e,f,g){b.push(f?g.replace(Ua,"$1"):e||a)}),b}function vd(a){return a instanceof na?a.clone():new Ca(a.__wrapped__,a.__chain__,Ia(a.__actions__))}function pe(a,b,e){return a&&a.length?((e?za(a,b,e):null==b)&&(b=1),xb(a,0>b?0:b)):[]}function qe(a,b,e){var f=a?a.length:0;return f?((e?za(a,b,e):null==b)&&(b=1),b=f-(+b||0),xb(a,0,0>b?0:b)):[]}function re(a){return a?a[0]:w}function bd(a,e,f){var g=a?a.length:0;if(!g)return-1;if("number"==typeof f)f=0>f?eb(g+f,0):f;else if(f)return f=Wc(a,e),
f<g&&(e===e?e===a[f]:a[f]!==a[f])?f:-1;return b(a,e,f||0)}function lc(a){var b=a?a.length:0;return b?a[b-1]:w}function se(a){return pe(a,1)}function te(a,e,f,g){if(!a||!a.length)return[];null!=e&&"boolean"!=typeof e&&(g=f,f=za(a,e,g)?w:e,e=!1);var k=Ja();if((null!=f||k!==Xb)&&(f=k(f,g,3)),e&&Yb()===b){e=f;var l;f=-1;g=a.length;for(var k=-1,m=[];++f<g;){var h=a[f],n=e?e(h,f,a):h;f&&l===n||(l=n,m[++k]=h)}a=m}else a=mc(a,f);return a}function ed(a){if(!a||!a.length)return[];var b=-1,e=0;a=zb(a,function(a){return db(a)?
(e=eb(a.length,e),!0):void 0});for(var f=Oa(e);++b<e;)f[b]=ab(a,Tc(b));return f}function ue(a,b,e){return a&&a.length?(a=ed(a),null==b?a:(b=qb(b,e,4),ab(a,function(a){return xc(a,b,w,!0)}))):[]}function ve(a,b){var e=-1,f=a?a.length:0,g={};for(!f||b||ra(a[0])||(b=[]);++e<f;){var k=a[e];b?g[k]=b[e]:k&&(g[k[0]]=k[1])}return g}function we(a){return a=C(a),a.__chain__=!0,a}function fd(a,b,e){return b.call(e,a)}function xe(a,b,e){var f=ra(a)?vb:hc;return e&&za(a,b,e)&&(b=w),("function"!=typeof b||e!==
w)&&(b=Ja(b,e,3)),f(a,b)}function gd(a,b,e){var f=ra(a)?zb:Zb;return b=Ja(b,e,3),f(a,b)}function hd(a,b,e,f){var g=a?nc(a):0;return Eb(g)||(a=Oc(a),g=a.length),e="number"!=typeof e||f&&za(b,e,f)?0:0>e?eb(g+e,0):e||0,"string"==typeof a||!ra(a)&&id(a)?e<=g&&-1<a.indexOf(b,e):!!g&&-1<Yb(a,b,e)}function jd(a,b,e){var f=ra(a)?ab:bc;return b=Ja(b,e,3),f(a,b)}function Pc(a,b,e){if(e?za(a,b,e):null==b){a=Xc(a);var f=a.length;return 0<f?a[Uc(0,f-1)]:w}e=-1;a=ye(a);var f=a.length,g=f-1;for(b=pb(0>b?0:+b||0,
f);++e<b;){var f=Uc(e,g),k=a[f];a[f]=a[e];a[e]=k}return a.length=b,a}function ze(a,b,e){var f=ra(a)?fc:lf;return e&&za(a,b,e)&&(b=w),("function"!=typeof b||e!==w)&&(b=Ja(b,e,3)),f(a,b)}function Ae(a,b){var e;if("function"!=typeof b){if("function"!=typeof a)throw new wb(V);var f=a;a=b;b=f}return function(){return 0<--a&&(e=b.apply(this,arguments)),1>=a&&(b=w),e}}function Be(a,b,e){function f(b,e){e&&pc(e);h=q=A=w;b&&(v=qc(),n=a.apply(p,m),q||h||(m=p=w))}function g(){var a=b-(qc()-r);0>=a||a>b?f(A,
h):q=Cc(g,a)}function k(){f(y,q)}function l(){if(m=arguments,r=qc(),p=this,A=y&&(q||!z),!1===t)var e=z&&!q;else{h||z||(v=r);var f=t-(r-v),F=0>=f||f>t;F?(h&&(h=pc(h)),v=r,n=a.apply(p,m)):h||(h=Cc(k,f))}return F&&q?q=pc(q):q||b===t||(q=Cc(g,b)),e&&(F=!0,n=a.apply(p,m)),!F||q||h||(m=p=w),n}var m,h,n,r,p,q,A,v=0,t=!1,y=!0;if("function"!=typeof a)throw new wb(V);if(b=0>b?0:+b||0,!0===e)var z=!0,y=!1;else Na(e)&&(z=!!e.leading,t="maxWait"in e&&eb(+e.maxWait||0,b),y="trailing"in e?!!e.trailing:y);return l.cancel=
function(){q&&pc(q);h&&pc(h);v=0;h=q=A=w},l}function kd(a,b){function e(){var f=arguments,g=b?b.apply(this,f):f[0],k=e.cache;return k.has(g)?k.get(g):(f=a.apply(this,f),e.cache=k.set(g,f),f)}if("function"!=typeof a||b&&"function"!=typeof b)throw new wb(V);return e.cache=new kd.Cache,e}function Fa(a,b){if("function"!=typeof a)throw new wb(V);return b=eb(b===w?a.length-1:+b||0,0),function(){for(var e=arguments,f=-1,g=eb(e.length-b,0),k=Oa(g);++f<g;)k[f]=e[b+f];switch(b){case 0:return a.call(this,k);
case 1:return a.call(this,e[0],k);case 2:return a.call(this,e[0],e[1],k)}g=Oa(b+1);for(f=-1;++f<b;)g[f]=e[f];return g[b]=k,a.apply(this,g)}}function Ce(a,b){return a>b}function Hb(a){return t(a)&&db(a)&&Za.call(a,"callee")&&!tf.call(a,"callee")}function De(a,b,e,f){return f=(e="function"==typeof e?qb(e,f,3):w)?e(a,b):w,f===w?Sb(a,b,e):!!f}function ld(a){return t(a)&&"string"==typeof a.message&&rb.call(a)==bb}function Rb(a){return Na(a)&&rb.call(a)==ha}function Na(a){var b=typeof a;return!!a&&("object"==
b||"function"==b)}function je(a){return null==a?!1:Rb(a)?uf.test(Ee.call(a)):t(a)&&Ra.test(a)}function Fe(a){return"number"==typeof a||t(a)&&rb.call(a)==Sa}function Fc(a){var b;if(!t(a)||rb.call(a)!=Ea||Hb(a)||!(Za.call(a,"constructor")||(b=a.constructor,"function"!=typeof b||b instanceof b)))return!1;var e;return ic(a,function(a,b){e=b}),e===w||Za.call(a,e)}function Ge(a){return Na(a)&&rb.call(a)==ya}function id(a){return"string"==typeof a||t(a)&&rb.call(a)==cb}function $b(a){return t(a)&&Eb(a.length)&&
!!Aa[rb.call(a)]}function He(a,b){return a<b}function ye(a){var b=a?nc(a):0;return Eb(b)?b?Ia(a):[]:Oc(a)}function zd(a){return gc(a,Lb(a))}function md(a){return kc(a,Lb(a))}function Lb(a){if(null==a)return[];Na(a)||(a=Wb(a));for(var b=a.length,b=b&&Eb(b)&&(ra(a)||Hb(a))&&b||0,e=a.constructor,f=-1,e="function"==typeof e&&e.prototype===a,g=Oa(b),k=0<b;++f<b;)g[f]=f+"";for(var l in a)k&&Jb(l,b)||"constructor"==l&&(e||!Za.call(a,l))||g.push(l);return g}function ie(a){a=Cb(a);for(var b=-1,e=gb(a),f=e.length,
g=Oa(f);++b<f;){var k=e[b];g[b]=[k,a[k]]}return g}function Oc(a){return Vc(a,gb(a))}function Pd(a){return(a=g(a))&&a.replace(kb,n).replace($a,"")}function fe(a,b){var e="";if(a=g(a),b=+b,1>b||!a||!cc(b))return e;do b%2&&(e+=a),b=Ub(b/2),a+=a;while(b);return e}function Ie(a,b,e){var k=a;return(a=g(a))?(e?za(k,b,e):null==b)?a.slice(y(a),z(a)+1):(b+="",a.slice(f(a,b),l(a,b)+1)):a}function Od(a,b,e){return e&&za(a,b,e)&&(b=w),a=g(a),a.match(b||tb)||[]}function Mc(a,b,e){return e&&za(a,b,e)&&(b=w),t(a)?
Je(a):Xb(a,b)}function Pb(a){return a}function Je(a){return Qb(Gb(a,!0))}function nd(a,b,e){if(null==e){var f=Na(b),g=f?gb(b):w;((g=g&&g.length?kc(b,g):w)?g.length:f)||(g=!1,e=b,b=a,a=this)}g||(g=kc(b,gb(b)));var k=!0,f=-1,l=Rb(a),m=g.length;!1===e?k=!1:Na(e)&&"chain"in e&&(k=e.chain);for(;++f<m;){e=g[f];var h=b[e];a[e]=h;l&&(a.prototype[e]=function(b){return function(){var e=this.__chain__;if(k||e){var f=a(this.__wrapped__);return(f.__actions__=Ia(this.__actions__)).push({func:b,args:arguments,thisArg:a}),
f.__chain__=e,f}return b.apply(a,Va([this.value()],arguments))}}(h))}return a}function Ke(){}function zc(a){return Tb(a)?Tc(a):jf(a)}v=v?ub.defaults(Ga.Object(),v,ub.pick(Ga,Db)):Ga;var Oa=v.Array,Le=v.Date,vf=v.Error,Me=v.Function,Vb=v.Math,Ne=v.Number,Wb=v.Object,od=v.RegExp,Oe=v.String,wb=v.TypeError,Pe=Oa.prototype,pd=Wb.prototype,wf=Oe.prototype,Ee=Me.prototype.toString,Za=pd.hasOwnProperty,xf=0,rb=pd.toString,yf=Ga._,uf=od("^"+Ee.call(Za).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
"$1.*?")+"$"),pf=v.ArrayBuffer,pc=v.clearTimeout,zf=v.parseFloat,sf=Vb.pow,tf=pd.propertyIsEnumerable,wc=dc(v,"Set"),Cc=v.setTimeout,Bd=Pe.splice,Id=v.Uint8Array,Qe=dc(v,"WeakMap"),Lc=Vb.ceil,vc=dc(Wb,"create"),Ub=Vb.floor,Af=dc(Oa,"isArray"),cc=v.isFinite,Re=dc(Wb,"keys"),eb=Vb.max,pb=Vb.min,Bf=dc(Le,"now"),Cf=v.parseInt,Cd=Vb.random,Df=Ne.NEGATIVE_INFINITY,uc=Ne.POSITIVE_INFINITY,of=4294967294,nf=2147483647,ke=9007199254740991,Qc=Qe&&new Qe,Nc={};C.support={};C.templateSettings={escape:fa,evaluate:ca,
interpolate:wa,variable:"",imports:{_:C}};var oc=function(){function a(){}return function(b){if(Na(b)){a.prototype=b;var e=new a;a.prototype=w}return e||{}}}(),Bb=Md(Ab),qd=Md(jc,!0),Sc=Nd(),xd=Nd(!0),he=Qc?function(a,b){return Qc.set(a,b),a}:Pb,Yc=Qc?function(a){return Qc.get(a)}:Ke,nc=Tc("length"),ee=function(){var a=0,b=0;return function(e,f){var g=qc(),k=da-(g-b);if(b=g,0<k){if(++a>=T)return e}else a=0;return he(e,f)}}(),Ef=Fa(function(a,b){return t(a)&&db(a)?Kb(a,hb(b,!1,!0)):[]}),Ff=Ud(),Gf=
Ud(!0),Hf=Fa(function(a){for(var e=a.length,f=e,g=Oa(r),k=Yb(),l=k===b,m=[];f--;){var h=a[f]=db(h=a[f])?h:[];g[f]=l&&120<=h.length&&vc&&wc?new Wa(f&&h):null}var l=a[0],n=-1,r=l?l.length:0,p=g[0];a:for(;++n<r;)if(h=l[n],0>(p?La(p,h):k(m,h,0))){for(f=e;--f;){var q=g[f];if(0>(q?La(q,h):k(a[f],h,0)))continue a}p&&p.push(h);m.push(h)}return m}),If=Fa(function(b,e){e=hb(e);var f=yc(b,e);return Ad(b,e.sort(a)),f}),Jf=ge(),Kf=ge(!0),Lf=Fa(function(a){return mc(hb(a,!1,!0))}),Mf=Fa(function(a,b){return db(a)?
Kb(a,b):[]}),Nf=Fa(ed),Of=Fa(function(a){var b=a.length,e=2<b?a[b-2]:w,f=1<b?a[b-1]:w;return 2<b&&"function"==typeof e?b-=2:(e=1<b&&"function"==typeof f?(--b,f):w,f=w),a.length=b,ue(a,e,f)}),Pf=Fa(function(a){return a=hb(a),this.thru(function(b){b=ra(b)?b:[Cb(b)];for(var e=a,f=-1,g=b.length,k=-1,l=e.length,m=Oa(g+l);++f<g;)m[f]=b[f];for(;++k<l;)m[f++]=e[k];return m})}),Qf=Fa(function(a,b){return yc(a,hb(b))}),Rf=Hc(function(a,b,e){Za.call(a,e)?++a[e]:a[e]=1}),rd=Td(Bb),Sf=Td(qd,!0),Se=Xd(Ya,Bb),Te=
Xd(function(a,b){for(var e=a.length;e--&&!1!==b(a[e],e,a););return a},qd),Tf=Hc(function(a,b,e){Za.call(a,e)?a[e].push(b):a[e]=[b]}),Uf=Hc(function(a,b,e){a[e]=b}),Vf=Fa(function(a,b,e){var f=-1,g="function"==typeof b,k=Tb(b),l=db(a)?Oa(a.length):[];return Bb(a,function(a){var m=g?b:k&&null!=a?a[b]:w;l[++f]=m?m.apply(a,e):cd(a,b,e)}),l}),Wf=Hc(function(a,b,e){a[e?0:1].push(b)},function(){return[[],[]]}),sd=de(xc,Bb),Ue=de(function(a,b,e,f){var g=a.length;for(f&&g&&(e=a[--g]);g--;)e=b(e,a[g],g,a);
return e},qd),Xf=Fa(function(a,b){if(null==a)return[];var e=b[2];return e&&za(b[0],b[1],e)&&(b.length=1),Ed(a,hb(b),[])}),qc=Bf||function(){return(new Le).getTime()},Ve=Fa(function(a,b,e){var f=D;if(e.length)var g=x(e,Ve.placeholder),f=f|J;return Nb(a,f,b,e,g)}),Yf=Fa(function(a,b){b=b.length?hb(b):md(a);for(var e=-1,f=b.length;++e<f;){var g=b[e];a[g]=Nb(a[g],D,a)}return a}),We=Fa(function(a,b,e){var f=D|F;if(e.length)var g=x(e,We.placeholder),f=f|J;return Nb(b,f,a,e,g)}),Zf=Qd(G),$f=Qd(M),ag=Fa(function(a,
b){return Bc(a,1,b)}),bg=Fa(function(a,b,e){return Bc(a,b,e)}),cg=Wd(),td=Wd(!0),dg=Fa(function(a,b){if(b=hb(b),"function"!=typeof a||!vb(b,e))throw new wb(V);var f=b.length;return Fa(function(e){for(var g=pb(e.length,f);g--;)e[g]=b[g](e[g]);return a.apply(this,e)})}),eg=ce(J),fg=ce(N),gg=Fa(function(a,b){return Nb(a,R,w,w,w,hb(b))}),ra=Af||function(a){return t(a)&&Eb(a.length)&&rb.call(a)==oa},dd=Ld(ob),ud=Ld(function(a,b,e){return e?Ob(a,b,e):Fb(a,b)}),hg=Rd(ud,function(a,b){return a===w?b:a}),
ig=Rd(dd,le),jg=Vd(Ab),kg=Vd(jc),lg=Yd(Sc),mg=Yd(xd),ng=Zd(Ab),og=Zd(jc),gb=Re?function(a){var b=null==a?w:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&db(a)?oe(a):Na(a)?Re(a):[]}:oe,pg=$d(!0),qg=$d(),rg=Fa(function(a,b){if(null==a)return{};if("function"!=typeof b[0])return b=ab(hb(b),Oe),me(a,Kb(Lb(a),b));var e=qb(b[0],b[1],3);return ne(a,function(a,b,f){return!e(a,b,f)})}),sg=Fa(function(a,b){return null==a?{}:"function"==typeof b[0]?ne(a,qb(b[0],b[1],3)):me(a,
hb(b))}),tg=Jc(function(a,b,e){return b=b.toLowerCase(),a+(e?b.charAt(0).toUpperCase()+b.slice(1):b)}),ug=Jc(function(a,b,e){return a+(e?"-":"")+b.toLowerCase()}),vg=ae(),wg=ae(!0),xg=Jc(function(a,b,e){return a+(e?"_":"")+b.toLowerCase()}),yg=Jc(function(a,b,e){return a+(e?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Xe=Fa(function(a,b){try{return a.apply(w,b)}catch(e){return ld(e)?e:new vf(e)}}),zg=Fa(function(a,b){return function(e){return cd(e,a,b)}}),Ag=Fa(function(a,b){return function(e){return cd(a,
e,b)}}),Bg=ad("ceil"),Cg=ad("floor"),Dg=Sd(Ce,Df),Eg=Sd(He,uc),Fg=ad("round");return C.prototype=Ma.prototype,Ca.prototype=oc(Ma.prototype),Ca.prototype.constructor=Ca,na.prototype=oc(Ma.prototype),na.prototype.constructor=na,mb.prototype["delete"]=function(a){return this.has(a)&&delete this.__data__[a]},mb.prototype.get=function(a){return"__proto__"==a?w:this.__data__[a]},mb.prototype.has=function(a){return"__proto__"!=a&&Za.call(this.__data__,a)},mb.prototype.set=function(a,b){return"__proto__"!=
a&&(this.__data__[a]=b),this},Wa.prototype.push=function(a){var b=this.data;"string"==typeof a||Na(a)?b.set.add(a):b.hash[a]=!0},kd.Cache=mb,C.after=function(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new wb(V);var e=a;a=b;b=e}return a=cc(a=+a)?a:0,function(){return 1>--a?b.apply(this,arguments):void 0}},C.ary=function(a,b,e){return e&&za(a,b,e)&&(b=w),b=a&&null==b?a.length:eb(+b||0,0),Nb(a,L,w,w,w,w,b)},C.assign=ud,C.at=Qf,C.before=Ae,C.bind=Ve,C.bindAll=Yf,C.bindKey=We,C.callback=
Mc,C.chain=we,C.chunk=function(a,b,e){b=(e?za(a,b,e):null==b)?1:eb(Ub(b)||1,1);e=0;for(var f=a?a.length:0,g=-1,k=Oa(Lc(f/b));e<f;)k[++g]=xb(a,e,e+=b);return k},C.compact=function(a){for(var b=-1,e=a?a.length:0,f=-1,g=[];++b<e;){var k=a[b];k&&(g[++f]=k)}return g},C.constant=function(a){return function(){return a}},C.countBy=Rf,C.create=function(a,b,e){var f=oc(a);return e&&za(a,b,e)&&(b=w),b?Fb(f,b):f},C.curry=Zf,C.curryRight=$f,C.debounce=Be,C.defaults=hg,C.defaultsDeep=ig,C.defer=ag,C.delay=bg,C.difference=
Ef,C.drop=pe,C.dropRight=qe,C.dropRightWhile=function(a,b,e){return a&&a.length?Gc(a,Ja(b,e,3),!0,!0):[]},C.dropWhile=function(a,b,e){return a&&a.length?Gc(a,Ja(b,e,3),!0):[]},C.fill=function(a,b,e,f){var g=a?a.length:0;if(!g)return[];e&&"number"!=typeof e&&za(a,b,e)&&(e=0,f=g);g=a.length;e=null==e?0:+e||0;0>e&&(e=-e>g?0:g+e);f=f===w||f>g?g:+f||0;0>f&&(f+=g);g=e>f?0:f>>>0;for(e>>>=0;e<g;)a[e++]=b;return a},C.filter=gd,C.flatten=function(a,b,e){var f=a?a.length:0;return e&&za(a,b,e)&&(b=!1),f?hb(a,
b):[]},C.flattenDeep=function(a){return a&&a.length?hb(a,!0):[]},C.flow=cg,C.flowRight=td,C.forEach=Se,C.forEachRight=Te,C.forIn=lg,C.forInRight=mg,C.forOwn=ng,C.forOwnRight=og,C.functions=md,C.groupBy=Tf,C.indexBy=Uf,C.initial=function(a){return qe(a,1)},C.intersection=Hf,C.invert=function(a,b,e){e&&za(a,b,e)&&(b=w);e=-1;for(var f=gb(a),g=f.length,k={};++e<g;){var l=f[e],m=a[l];b?Za.call(k,m)?k[m].push(l):k[m]=[l]:k[m]=l}return k},C.invoke=Vf,C.keys=gb,C.keysIn=Lb,C.map=jd,C.mapKeys=pg,C.mapValues=
qg,C.matches=Je,C.matchesProperty=function(a,b){return Ac(a,Gb(b,!0))},C.memoize=kd,C.merge=dd,C.method=zg,C.methodOf=Ag,C.mixin=nd,C.modArgs=dg,C.negate=function(a){if("function"!=typeof a)throw new wb(V);return function(){return!a.apply(this,arguments)}},C.omit=rg,C.once=function(a){return Ae(2,a)},C.pairs=ie,C.partial=eg,C.partialRight=fg,C.partition=Wf,C.pick=sg,C.pluck=function(a,b){return jd(a,zc(b))},C.property=zc,C.propertyOf=function(a){return function(b){return sb(a,Mb(b),b+"")}},C.pull=
function(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var e=0,f=Yb(),g=a.length;++e<g;)for(var k=0,l=a[e];-1<(k=f(b,l,k));)Bd.call(b,k,1);return b},C.pullAt=If,C.range=function(a,b,e){e&&za(a,b,e)&&(b=e=w);a=+a||0;e=null==e?1:+e||0;null==b?(b=a,a=0):b=+b||0;var f=-1;b=eb(Lc((b-a)/(e||1)),0);for(var g=Oa(b);++f<b;)g[f]=a,a+=e;return g},C.rearg=gg,C.reject=function(a,b,e){var f=ra(a)?zb:Zb;return b=Ja(b,e,3),f(a,function(a,e,f){return!b(a,e,f)})},C.remove=function(a,b,e){var f=[];if(!a||!a.length)return f;
var g=-1,k=[],l=a.length;for(b=Ja(b,e,3);++g<l;)e=a[g],b(e,g,a)&&(f.push(e),k.push(g));return Ad(a,k),f},C.rest=se,C.restParam=Fa,C.set=function(a,b,e){if(null==a)return a;var f=b+"";b=null!=a[f]||Tb(b,a)?[f]:Mb(b);for(var f=-1,g=b.length,k=g-1,l=a;null!=l&&++f<g;){var m=b[f];Na(l)&&(f==k?l[m]=e:null==l[m]&&(l[m]=Jb(b[f+1])?[]:{}));l=l[m]}return a},C.shuffle=function(a){return Pc(a,uc)},C.slice=function(a,b,e){var f=a?a.length:0;return f?(e&&"number"!=typeof e&&za(a,b,e)&&(b=0,e=f),xb(a,b,e)):[]},
C.sortBy=function(a,b,e){if(null==a)return[];e&&za(a,b,e)&&(b=w);var f=-1;return b=Ja(b,e,3),a=bc(a,function(a,e,g){return{a:b(a,e,g),b:++f,c:a}}),Dd(a,k)},C.sortByAll=Xf,C.sortByOrder=function(a,b,e,f){return null==a?[]:(f&&za(b,e,f)&&(e=w),ra(b)||(b=null==b?[]:[b]),ra(e)||(e=null==e?[]:[e]),Ed(a,b,e))},C.spread=function(a){if("function"!=typeof a)throw new wb(V);return function(b){return a.apply(this,b)}},C.take=function(a,b,e){return a&&a.length?((e?za(a,b,e):null==b)&&(b=1),xb(a,0,0>b?0:b)):[]},
C.takeRight=function(a,b,e){var f=a?a.length:0;return f?((e?za(a,b,e):null==b)&&(b=1),b=f-(+b||0),xb(a,0>b?0:b)):[]},C.takeRightWhile=function(a,b,e){return a&&a.length?Gc(a,Ja(b,e,3),!1,!0):[]},C.takeWhile=function(a,b,e){return a&&a.length?Gc(a,Ja(b,e,3)):[]},C.tap=function(a,b,e){return b.call(e,a),a},C.throttle=function(a,b,e){var f=!0,g=!0;if("function"!=typeof a)throw new wb(V);return!1===e?f=!1:Na(e)&&(f="leading"in e?!!e.leading:f,g="trailing"in e?!!e.trailing:g),Be(a,b,{leading:f,maxWait:+b,
trailing:g})},C.thru=fd,C.times=function(a,b,e){if(a=Ub(a),1>a||!cc(a))return[];var f=-1,g=Oa(pb(a,4294967295));for(b=qb(b,e,1);++f<a;)4294967295>f?g[f]=b(f):b(f);return g},C.toArray=ye,C.toPlainObject=zd,C.transform=function(a,b,e,f){var g=ra(a)||$b(a);return b=Ja(b,f,4),null==e&&(g||Na(a)?(f=a.constructor,e=g?ra(a)?new f:[]:oc(Rb(f)?f.prototype:w)):e={}),(g?Ya:Ab)(a,function(a,f,g){return b(e,a,f,g)}),e},C.union=Lf,C.uniq=te,C.unzip=ed,C.unzipWith=ue,C.values=Oc,C.valuesIn=function(a){return Vc(a,
Lb(a))},C.where=function(a,b){return gd(a,Qb(b))},C.without=Mf,C.wrap=function(a,b){return b=null==b?Pb:b,Nb(b,J,w,[a],[])},C.xor=function(){for(var a=-1,b=arguments.length;++a<b;){var e=arguments[a];if(db(e))var f=f?Va(Kb(f,e),Kb(e,f)):e}return f?mc(f):[]},C.zip=Nf,C.zipObject=ve,C.zipWith=Of,C.backflow=td,C.collect=jd,C.compose=td,C.each=Se,C.eachRight=Te,C.extend=ud,C.iteratee=Mc,C.methods=md,C.object=ve,C.select=gd,C.tail=se,C.unique=te,nd(C,C),C.add=function(a,b){return(+a||0)+(+b||0)},C.attempt=
Xe,C.camelCase=tg,C.capitalize=function(a){return(a=g(a))&&a.charAt(0).toUpperCase()+a.slice(1)},C.ceil=Bg,C.clone=function(a,b,e,f){return b&&"boolean"!=typeof b&&za(a,b,e)?b=!1:"function"==typeof b&&(f=e,e=b,b=!1),"function"==typeof e?Gb(a,b,qb(e,f,3)):Gb(a,b)},C.cloneDeep=function(a,b,e){return"function"==typeof b?Gb(a,!0,qb(b,e,3)):Gb(a,!0)},C.deburr=Pd,C.endsWith=function(a,b,e){a=g(a);b+="";var f=a.length;return e=e===w?f:pb(0>e?0:+e||0,f),e-=b.length,0<=e&&a.indexOf(b,e)==e},C.escape=function(a){return(a=
g(a))&&ia.test(a)?a.replace(U,m):a},C.escapeRegExp=function(a){return(a=g(a))&&qa.test(a)?a.replace(aa,p):a||"(?:)"},C.every=xe,C.find=rd,C.findIndex=Ff,C.findKey=jg,C.findLast=Sf,C.findLastIndex=Gf,C.findLastKey=kg,C.findWhere=function(a,b){return rd(a,Qb(b))},C.first=re,C.floor=Cg,C.get=function(a,b,e){return a=null==a?w:sb(a,Mb(b),b+""),a===w?e:a},C.gt=Ce,C.gte=function(a,b){return a>=b},C.has=function(a,b){if(null==a)return!1;var e=Za.call(a,b);if(!e&&!Tb(b)){if(b=Mb(b),a=1==b.length?a:sb(a,xb(b,
0,-1)),null==a)return!1;b=lc(b);e=Za.call(a,b)}return e||Eb(a.length)&&Jb(b,a.length)&&(ra(a)||Hb(a))},C.identity=Pb,C.includes=hd,C.indexOf=bd,C.inRange=function(a,b,e){return b=+b||0,e===w?(e=b,b=0):e=+e||0,a>=pb(b,e)&&a<eb(b,e)},C.isArguments=Hb,C.isArray=ra,C.isBoolean=function(a){return!0===a||!1===a||t(a)&&rb.call(a)==ta},C.isDate=function(a){return t(a)&&rb.call(a)==pa},C.isElement=function(a){return!!a&&1===a.nodeType&&t(a)&&!Fc(a)},C.isEmpty=function(a){return null==a?!0:db(a)&&(ra(a)||id(a)||
Hb(a)||t(a)&&Rb(a.splice))?!a.length:!gb(a).length},C.isEqual=De,C.isError=ld,C.isFinite=function(a){return"number"==typeof a&&cc(a)},C.isFunction=Rb,C.isMatch=function(a,b,e,f){return e="function"==typeof e?qb(e,f,3):w,ac(a,yd(b),e)},C.isNaN=function(a){return Fe(a)&&a!=+a},C.isNative=je,C.isNull=function(a){return null===a},C.isNumber=Fe,C.isObject=Na,C.isPlainObject=Fc,C.isRegExp=Ge,C.isString=id,C.isTypedArray=$b,C.isUndefined=function(a){return a===w},C.kebabCase=ug,C.last=lc,C.lastIndexOf=function(a,
b,e){var f=a?a.length:0;if(!f)return-1;var g=f;if("number"==typeof e)g=(0>e?eb(f+e,0):pb(e||0,f-1))+1;else if(e)return g=Wc(a,b,!0)-1,a=a[g],(b===b?b===a:a!==a)?g:-1;if(b!==b)return r(a,g,!0);for(;g--;)if(a[g]===b)return g;return-1},C.lt=He,C.lte=function(a,b){return a<=b},C.max=Dg,C.min=Eg,C.noConflict=function(){return Ga._=yf,this},C.noop=Ke,C.now=qc,C.pad=function(a,b,e){a=g(a);b=+b;var f=a.length;return f<b&&cc(b)?(f=(b-f)/2,b=Ub(f),f=Lc(f),e=be("",f,e),e.slice(0,b)+a+e):a},C.padLeft=vg,C.padRight=
wg,C.parseInt=function(a,b,e){return(e?za(a,b,e):null==b)?b=0:b&&(b=+b),a=Ie(a),Cf(a,b||(ua.test(a)?16:10))},C.random=function(a,b,e){e&&za(a,b,e)&&(b=e=w);var f=null==b;return null==e&&(f&&"boolean"==typeof a?(e=a,a=1):"boolean"==typeof b&&(e=b,f=!0)),null==a&&f&&(b=1,f=!1),a=+a||0,f?(b=a,a=0):b=+b||0,e||a%1||b%1?(e=Cd(),pb(a+e*(b-a+zf("1e-"+((e+"").length-1))),b)):Uc(a,b)},C.reduce=sd,C.reduceRight=Ue,C.repeat=fe,C.result=function(a,b,e){var f=null==a?w:a[b];return f===w&&(null==a||Tb(b,a)||(b=
Mb(b),a=1==b.length?a:sb(a,xb(b,0,-1)),f=null==a?w:a[lc(b)]),f=f===w?e:f),Rb(f)?f.call(a):f},C.round=Fg,C.runInContext=E,C.size=function(a){var b=a?nc(a):0;return Eb(b)?b:gb(a).length},C.snakeCase=xg,C.some=ze,C.sortedIndex=Jf,C.sortedLastIndex=Kf,C.startCase=yg,C.startsWith=function(a,b,e){return a=g(a),e=null==e?0:pb(0>e?0:+e||0,a.length),a.lastIndexOf(b,e)==e},C.sum=function(a,b,e){if(e&&za(a,b,e)&&(b=w),b=Ja(b,e,3),1==b.length){a=ra(a)?a:Xc(a);e=a.length;for(var f=0;e--;)f+=+b(a[e])||0;a=f}else a=
mf(a,b);return a},C.template=function(a,b,e){var f=C.templateSettings;e&&za(a,b,e)&&(b=e=w);a=g(a);b=Ob(Fb({},e||b),f,Ib);e=Ob(Fb({},b.imports),f.imports,Ib);var k,l,m=gb(e),h=Vc(e,m),n=0;e=b.interpolate||Ha;var r="__p+='";e=od((b.escape||Ha).source+"|"+e.source+"|"+(e===wa?ja:Ha).source+"|"+(b.evaluate||Ha).source+"|$","g");var p="sourceURL"in b?"//# sourceURL="+b.sourceURL+"\n":"";if(a.replace(e,function(b,e,f,g,m,h){return f||(f=g),r+=a.slice(n,h).replace(ma,q),e&&(k=!0,r+="'+__e("+e+")+'"),m&&
(l=!0,r+="';"+m+";\n__p+='"),f&&(r+="'+((__t=("+f+"))==null?'':__t)+'"),n=h+b.length,b}),r+="';",(b=b.variable)||(r="with(obj){"+r+"}"),r=(l?r.replace(lb,""):r).replace(nb,"$1").replace(Ba,"$1;"),r="function("+(b||"obj")+"){"+(b?"":"obj||(obj={});")+"var __t,__p=''"+(k?",__e=_.escape":"")+(l?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+r+"return __p}",b=Xe(function(){return Me(m,p+"return "+r).apply(w,h)}),b.source=r,ld(b))throw b;return b},C.trim=Ie,C.trimLeft=function(a,
b,e){var k=a;return(a=g(a))?a.slice((e?za(k,b,e):null==b)?y(a):f(a,b+"")):a},C.trimRight=function(a,b,e){var f=a;return(a=g(a))?(e?za(f,b,e):null==b)?a.slice(0,z(a)+1):a.slice(0,l(a,b+"")+1):a},C.trunc=function(a,b,e){e&&za(a,b,e)&&(b=w);var f=P;if(e=X,null!=b)if(Na(b)){var k="separator"in b?b.separator:k,f="length"in b?+b.length||0:f;e="omission"in b?g(b.omission):e}else f=+b||0;if(a=g(a),f>=a.length)return a;if(f-=e.length,1>f)return e;if(b=a.slice(0,f),null==k)return b+e;if(Ge(k)){if(a.slice(f).search(k)){var l,
m=a.slice(0,f);k.global||(k=od(k.source,(Pa.exec(k)||"")+"g"));for(k.lastIndex=0;a=k.exec(m);)l=a.index;b=b.slice(0,null==l?f:l)}}else a.indexOf(k,f)!=f&&(k=b.lastIndexOf(k),-1<k&&(b=b.slice(0,k)));return b+e},C.unescape=function(a){return(a=g(a))&&Qa.test(a)?a.replace(xa,B):a},C.uniqueId=function(a){var b=++xf;return g(a)+b},C.words=Od,C.all=xe,C.any=ze,C.contains=hd,C.eq=De,C.detect=rd,C.foldl=sd,C.foldr=Ue,C.head=re,C.include=hd,C.inject=sd,nd(C,function(){var a={};return Ab(C,function(b,e){C.prototype[e]||
(a[e]=b)}),a}(),!1),C.sample=Pc,C.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return Pc(b,a)}):Pc(this.value())},C.VERSION=A,Ya("bind bindKey curry curryRight partial partialRight".split(" "),function(a){C[a].placeholder=C}),Ya(["drop","take"],function(a,b){na.prototype[a]=function(e){var f=this.__filtered__;if(f&&!b)return new na(this);e=null==e?1:eb(Ub(e)||0,0);var g=this.clone();return f?g.__takeCount__=pb(g.__takeCount__,e):g.__views__.push({size:e,type:a+
(0>g.__dir__?"Right":"")}),g};na.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),Ya(["filter","map","takeWhile"],function(a,b){var e=b+1,f=e!=ga;na.prototype[a]=function(a,b){var g=this.clone();return g.__iteratees__.push({iteratee:Ja(a,b,1),type:e}),g.__filtered__=g.__filtered__||f,g}}),Ya(["first","last"],function(a,b){var e="take"+(b?"Right":"");na.prototype[a]=function(){return this[e](1).value()[0]}}),Ya(["initial","rest"],function(a,b){var e="drop"+(b?"":"Right");na.prototype[a]=
function(){return this.__filtered__?new na(this):this[e](1)}}),Ya(["pluck","where"],function(a,b){var e=b?"filter":"map",f=b?Qb:zc;na.prototype[a]=function(a){return this[e](f(a))}}),na.prototype.compact=function(){return this.filter(Pb)},na.prototype.reject=function(a,b){return a=Ja(a,b,1),this.filter(function(b){return!a(b)})},na.prototype.slice=function(a,b){a=null==a?0:+a||0;var e=this;return e.__filtered__&&(0<a||0>b)?new na(e):(0>a?e=e.takeRight(-a):a&&(e=e.drop(a)),b!==w&&(b=+b||0,e=0>b?e.dropRight(-b):
e.take(b-a)),e)},na.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()},na.prototype.toArray=function(){return this.take(uc)},Ab(na.prototype,function(a,b){var e=/^(?:filter|map|reject)|While$/.test(b),f=/^(?:first|last)$/.test(b),g=C[f?"take"+("last"==b?"Right":""):b];g&&(C.prototype[b]=function(){function b(a){return f&&l?g(a,1)[0]:g.apply(w,Va([a],k))}var k=f?[1]:arguments,l=this.__chain__,m=this.__wrapped__,h=!!this.__actions__.length,n=m instanceof na,r=k[0],
p=n||ra(m);return p&&e&&"function"==typeof r&&1!=r.length&&(n=p=!1),r={func:fd,args:[b],thisArg:w},h=n&&!h,f&&!l?h?(m=m.clone(),m.__actions__.push(r),a.call(m)):g.call(w,this.value())[0]:!f&&p?(m=h?m:new na(this),m=a.apply(m,k),m.__actions__.push(r),new Ca(m,l)):this.thru(b)})}),Ya("join pop push replace shift sort splice split unshift".split(" "),function(a){var b=(/^(?:replace|split)$/.test(a)?wf:Pe)[a],e=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",f=/^(?:join|pop|replace|shift)$/.test(a);C.prototype[a]=
function(){var a=arguments;return f&&!this.__chain__?b.apply(this.value(),a):this[e](function(e){return b.apply(e,a)})}}),Ab(na.prototype,function(a,b){var e=C[b];if(e){var f=e.name+"";(Nc[f]||(Nc[f]=[])).push({name:b,func:e})}}),Nc[$c(w,F).name]=[{name:"wrapper",func:w}],na.prototype.clone=function(){var a=new na(this.__wrapped__);return a.__actions__=Ia(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Ia(this.__iteratees__),a.__takeCount__=this.__takeCount__,
a.__views__=Ia(this.__views__),a},na.prototype.reverse=function(){if(this.__filtered__){var a=new na(this);a.__dir__=-1;a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a},na.prototype.value=function(){var a,b=this.__wrapped__.value(),e=this.__dir__,f=ra(b),g=0>e,k=f?b.length:0;a=k;for(var l=this.__views__,m=0,h=-1,n=l.length;++h<n;){var r=l[h],p=r.size;switch(r.type){case "drop":m+=p;break;case "dropRight":a-=p;break;case "take":a=pb(a,m+p);break;case "takeRight":m=eb(m,a-p)}}if(a={start:m,
end:a},l=a.start,m=a.end,a=m-l,g=g?m:l-1,l=this.__iteratees__,m=l.length,h=0,n=pb(a,this.__takeCount__),!f||k<O||k==a&&n==a)return Fd(b,this.__actions__);f=[];a:for(;a--&&h<n;){g+=e;k=-1;for(r=b[g];++k<m;){var q=l[k],p=q.type,q=q.iteratee(r);if(p==ga)r=q;else if(!q){if(p==Z)continue a;break a}}f[h++]=r}return f},C.prototype.chain=function(){return we(this)},C.prototype.commit=function(){return new Ca(this.value(),this.__chain__)},C.prototype.concat=Pf,C.prototype.plant=function(a){for(var b,e=this;e instanceof
Ma;){var f=vd(e);b?g.__wrapped__=f:b=f;var g=f,e=e.__wrapped__}return g.__wrapped__=a,b},C.prototype.reverse=function(){function a(b){return b.reverse()}var b=this.__wrapped__;return b instanceof na?(this.__actions__.length&&(b=new na(this)),b=b.reverse(),b.__actions__.push({func:fd,args:[a],thisArg:w}),new Ca(b,this.__chain__)):this.thru(a)},C.prototype.toString=function(){return this.value()+""},C.prototype.run=C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=function(){return Fd(this.__wrapped__,
this.__actions__)},C.prototype.collect=C.prototype.map,C.prototype.head=C.prototype.first,C.prototype.select=C.prototype.filter,C.prototype.tail=C.prototype.rest,C}var w,A="3.10.1",D=1,F=2,K=4,G=8,M=16,J=32,N=64,L=128,R=256,P=30,X="...",T=150,da=16,O=200,Z=1,ga=2,V="Expected a function",ka="__lodash_placeholder__",Y="[object Arguments]",oa="[object Array]",ta="[object Boolean]",pa="[object Date]",bb="[object Error]",ha="[object Function]",Sa="[object Number]",Ea="[object Object]",ya="[object RegExp]",
cb="[object String]",Ta="[object ArrayBuffer]",yb="[object Float32Array]",ib="[object Float64Array]",ba="[object Int8Array]",u="[object Int16Array]",fb="[object Int32Array]",Ka="[object Uint8Array]",la="[object Uint8ClampedArray]",jb="[object Uint16Array]",H="[object Uint32Array]",lb=/\b__p\+='';/g,nb=/\b(__p\+=)''\+/g,Ba=/(__e\(.*?\)|\b__t\))\+'';/g,xa=/&(?:amp|lt|gt|quot|#39|#96);/g,U=/[&<>"'`]/g,Qa=RegExp(xa.source),ia=RegExp(U.source),fa=/<%-([\s\S]+?)%>/g,ca=/<%([\s\S]+?)%>/g,wa=/<%=([\s\S]+?)%>/g,
Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,va=/^\w*$/,ea=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,aa=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,qa=RegExp(aa.source),$a=/[\u0300-\u036f\ufe20-\ufe23]/g,Ua=/\\(\\)?/g,ja=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pa=/\w*$/,ua=/^0[xX]/,Ra=/^\[object .+?Constructor\]$/,Xa=/^\d+$/,kb=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ha=/($^)/,ma=/['\n\r\u2028\u2029\\]/g,tb=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+",
"g"),Db="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),Aa={};Aa[yb]=Aa[ib]=Aa[ba]=Aa[u]=Aa[fb]=Aa[Ka]=Aa[la]=Aa[jb]=Aa[H]=!0;Aa[Y]=Aa[oa]=Aa[Ta]=Aa[ta]=Aa[pa]=Aa[bb]=Aa[ha]=Aa["[object Map]"]=Aa[Sa]=Aa[Ea]=Aa[ya]=Aa["[object Set]"]=Aa[cb]=Aa["[object WeakMap]"]=!1;var sa={};sa[Y]=
sa[oa]=sa[Ta]=sa[ta]=sa[pa]=sa[yb]=sa[ib]=sa[ba]=sa[u]=sa[fb]=sa[Sa]=sa[Ea]=sa[ya]=sa[cb]=sa[Ka]=sa[la]=sa[jb]=sa[H]=!0;sa[bb]=sa[ha]=sa["[object Map]"]=sa["[object Set]"]=sa["[object WeakMap]"]=!1;var zb={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e",
"\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},
Va={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ma={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ca={"function":!0,object:!0},mb={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},La={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vb=Ca[typeof exports]&&
exports&&!exports.nodeType&&exports,ab=Ca[typeof module]&&module&&!module.nodeType&&module,Wa=Ca[typeof self]&&self&&self.Object&&self,Ia=Ca[typeof window]&&window&&window.Object&&window,Ya=ab&&ab.exports===vb&&vb,Ga=vb&&ab&&"object"==typeof global&&global&&global.Object&&global||Ia!==(this&&this.window)&&Ia||Wa||this,ub=E();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ga._=ub,define(function(){return ub})):vb&&ab?Ya?(ab.exports=ub)._=ub:vb._=ub:Ga._=ub}).call(this);(function(a,h,b,e,g,f){function l(a,b){var e=typeof a[b];return"function"==e||!("object"!=e||!a[b])||"unknown"==e}function k(){if(!v(navigator.plugins)&&"object"==typeof navigator.plugins["Shockwave Flash"]){var a=navigator.plugins["Shockwave Flash"].description;a&&!v(navigator.mimeTypes)&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(X=a.match(/\d+/g))}if(!X){var b;try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),
X=Array.prototype.slice.call(b.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1)}catch(e){}}if(!X)return!1;a=parseInt(X[0],10);b=parseInt(X[1],10);T=9<a&&0<b;return!0}function n(){if(!Z){Z=!0;for(var a=0;a<ga.length;a++)ga[a]();ga.length=0}}function m(a,b){Z?a.call(b):ga.push(function(){a.call(b)})}function p(){var a=parent;if(""!==M)for(var b=0,e=M.split(".");b<e.length;b++)a=a[e[b]];return a.easyXDM}function q(a){var b=a.toLowerCase().match(F);a=b[2];var e=b[3],b=b[4]||"";if("http:"==
a&&":80"==b||"https:"==a&&":443"==b)b="";return a+"//"+e+b}function r(a){a=a.replace(G,"$1/");if(!a.match(/^(http||https):\/\//)){var e="/"===a.substring(0,1)?"":b.pathname;"/"!==e.substring(e.length-1)&&(e=e.substring(0,e.lastIndexOf("/")+1));a=b.protocol+"//"+b.host+e+a}for(;K.test(a);)a=a.replace(K,"");return a}function t(a,b){var e="",g=a.indexOf("#");-1!==g&&(e=a.substring(g),a=a.substring(0,g));var g=[],k;for(k in b)b.hasOwnProperty(k)&&g.push(k+"="+f(b[k]));return a+(P?"#":-1==a.indexOf("?")?
"?":"&")+g.join("&")+e}function v(a){return"undefined"===typeof a}function x(a,b,e){var f,g;for(g in b)b.hasOwnProperty(g)&&(g in a?(f=b[g],"object"===typeof f?x(a[g],f,e):e||(a[g]=b[g])):a[g]=b[g]);return a}function y(a){if(v(R)){var b=h.body.appendChild(h.createElement("form")),e=b.appendChild(h.createElement("input"));e.name=L+"TEST"+A;R=e!==b.elements[e.name];h.body.removeChild(b)}R?b=h.createElement('<iframe name="'+a.props.name+'"/>'):(b=h.createElement("IFRAME"),b.name=a.props.name);b.id=b.name=
a.props.name;delete a.props.name;"string"==typeof a.container&&(a.container=h.getElementById(a.container));a.container||(x(b.style,{position:"absolute",top:"-2000px",left:"0px"}),a.container=h.body);e=a.props.src;a.props.src="javascript:false";x(b,a.props);b.border=b.frameBorder=0;b.allowTransparency=!0;a.container.appendChild(b);a.onLoad&&da(b,"load",a.onLoad);if(a.usePost){var f=a.container.appendChild(h.createElement("form")),g;f.target=b.name;f.action=e;f.method="POST";if("object"===typeof a.usePost)for(var k in a.usePost)a.usePost.hasOwnProperty(k)&&
(R?g=h.createElement('<input name="'+k+'"/>'):(g=h.createElement("INPUT"),g.name=k),g.value=a.usePost[k],f.appendChild(g));f.submit();f.parentNode.removeChild(f)}else b.src=e;a.props.src=e;return b}function z(e){var f=e.protocol,g;e.isHost=e.isHost||v(Y.xdm_p);P=e.hash||!1;e.props||(e.props={});if(e.isHost)e.remote=r(e.remote),e.channel=e.channel||"default"+A++,e.secret=Math.random().toString(16).substring(2),v(f)&&(f=q(b.href)==q(e.remote)?"4":l(a,"postMessage")||l(h,"postMessage")?"1":e.swf&&l(a,
"ActiveXObject")&&k()?"6":"Gecko"===navigator.product&&"frameElement"in a&&-1==navigator.userAgent.indexOf("WebKit")?"5":e.remoteHelper?"2":"0");else{e.channel=Y.xdm_c.replace(/["'<>\\]/g,"");e.secret=Y.xdm_s;e.remote=Y.xdm_e.replace(/["'<>\\]/g,"");var f=Y.xdm_p,m;if(m=e.acl){a:{m=e.acl;var n=e.remote;"string"==typeof m&&(m=[m]);for(var p,w=m.length;w--;)if(p=m[w],p=new RegExp("^"==p.substr(0,1)?p:"^"+p.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),p.test(n)){m=!0;break a}m=!1}m=!m}if(m)throw Error("Access denied for "+
e.remote);}e.protocol=f;switch(f){case "0":x(e,{interval:100,delay:2E3,useResize:!0,useParent:!1,usePolling:!1},!0);if(e.isHost){if(!e.local){f=b.protocol+"//"+b.host;g=h.body.getElementsByTagName("img");for(n=g.length;n--;)if(m=g[n],m.src.substring(0,f.length)===f){e.local=m.src;break}e.local||(e.local=a)}f={xdm_c:e.channel,xdm_p:0};e.local===a?(e.usePolling=!0,e.useParent=!0,e.local=b.protocol+"//"+b.host+b.pathname+b.search,f.xdm_e=e.local,f.xdm_pa=1):f.xdm_e=r(e.local);e.container&&(e.useResize=
!1,f.xdm_po=1);e.remote=t(e.remote,f)}else x(e,{useParent:!v(Y.xdm_pa),usePolling:!v(Y.xdm_po),useResize:e.useParent?!1:e.useResize});g=[new J.stack.HashTransport(e),new J.stack.ReliableBehavior({}),new J.stack.QueueBehavior({encode:!0,maxLength:4E3-e.remote.length}),new J.stack.VerifyBehavior({initiate:e.isHost})];break;case "1":g=[new J.stack.PostMessageTransport(e)];break;case "2":e.isHost&&(e.remoteHelper=r(e.remoteHelper));g=[new J.stack.NameTransport(e),new J.stack.QueueBehavior,new J.stack.VerifyBehavior({initiate:e.isHost})];
break;case "3":g=[new J.stack.NixTransport(e)];break;case "4":g=[new J.stack.SameOriginTransport(e)];break;case "5":g=[new J.stack.FrameElementTransport(e)];break;case "6":X||k(),g=[new J.stack.FlashTransport(e)]}g.push(new J.stack.QueueBehavior({lazy:e.lazy,remove:!0}));return g}function B(a){for(var b,e={incoming:function(a,b){this.up.incoming(a,b)},outgoing:function(a,b){this.down.outgoing(a,b)},callback:function(a){this.up.callback(a)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},
f=0,g=a.length;f<g;f++)b=a[f],x(b,e,!0),0!==f&&(b.down=a[f-1]),f!==g-1&&(b.up=a[f+1]);return b}function E(a){a.up.down=a.down;a.down.up=a.up;a.up=a.down=null}var w=this,A=Math.floor(1E4*Math.random()),D=Function.prototype,F=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,K=/[\-\w]+\/\.\.\//,G=/([^:])\/\//g,M="",J={},N=a.easyXDM,L="easyXDM_",R,P=!1,X,T,da,O;if(l(a,"addEventListener"))da=function(a,b,e){a.addEventListener(b,e,!1)},O=function(a,b,e){a.removeEventListener(b,e,!1)};else if(l(a,"attachEvent"))da=
function(a,b,e){a.attachEvent("on"+b,e)},O=function(a,b,e){a.detachEvent("on"+b,e)};else throw Error("Browser not supported");var Z=!1,ga=[],V;"readyState"in h?(V=h.readyState,Z="complete"==V||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==V||"interactive"==V)):Z=!!h.body;if(!Z){if(l(a,"addEventListener"))da(h,"DOMContentLoaded",n);else if(da(h,"readystatechange",function(){"complete"==h.readyState&&n()}),h.documentElement.doScroll&&a===top){var ka=function(){if(!Z){try{h.documentElement.doScroll("left")}catch(a){e(ka,
1);return}n()}};ka()}da(a,"load",n)}var Y=function(a){a=a.substring(1).split("&");for(var b={},e,f=a.length;f--;)e=a[f].split("="),b[e[0]]=g(e[1]);return b}(/xdm_e=/.test(b.search)?b.search:b.hash),oa=function(){var a={},b={a:[1,2,3]};if("undefined"!=typeof JSON&&"function"===typeof JSON.stringify&&'{"a":[1,2,3]}'===JSON.stringify(b).replace(/\s/g,""))return JSON;Object.toJSON&&'{"a":[1,2,3]}'===Object.toJSON(b).replace(/\s/g,"")&&(a.stringify=Object.toJSON);"function"===typeof String.prototype.evalJSON&&
(b='{"a":[1,2,3]}'.evalJSON(),b.a&&3===b.a.length&&3===b.a[2]&&(a.parse=function(a){return a.evalJSON()}));return a.stringify&&a.parse?(oa=function(){return a},a):null};x(J,{version:"2.4.20.7",query:Y,stack:{},apply:x,getJSONObject:oa,whenReady:m,noConflict:function(b){a.easyXDM=N;(M=b)&&(L="easyXDM_"+M.replace(".","_")+"_");return J}});J.DomHelper={on:da,un:O,requiresJSON:function(b){"object"==typeof a.JSON&&a.JSON||h.write('<script type="text/javascript" src="'+b+'">\x3c/script>')}};(function(){var a=
{};J.Fn={set:function(b,e){a[b]=e},get:function(b,e){if(a.hasOwnProperty(b)){var f=a[b];e&&delete a[b];return f}}}})();J.Socket=function(a){var b=B(z(a).concat([{incoming:function(b,e){a.onMessage(b,e)},callback:function(b){if(a.onReady)a.onReady(b)}}])),e=q(a.remote);this.origin=q(a.remote);this.destroy=function(){b.destroy()};this.postMessage=function(a){b.outgoing(a,e)};b.init()};J.Rpc=function(a,b){if(b.local)for(var e in b.local)if(b.local.hasOwnProperty(e)){var f=b.local[e];"function"===typeof f&&
(b.local[e]={method:f})}var g=B(z(a).concat([new J.stack.RpcBehavior(this,b),{callback:function(b){if(a.onReady)a.onReady(b)}}]));this.origin=q(a.remote);this.destroy=function(){g.destroy()};g.init()};J.stack.SameOriginTransport=function(a){var f,g,k,l;return f={outgoing:function(a,b,e){k(a);e&&e()},destroy:function(){g&&(g.parentNode.removeChild(g),g=null)},onDOMReady:function(){l=q(a.remote);a.isHost?(x(a.props,{src:t(a.remote,{xdm_e:b.protocol+"//"+b.host+b.pathname,xdm_c:a.channel,xdm_p:4}),name:L+
a.channel+"_provider"}),g=y(a),J.Fn.set(a.channel,function(a){k=a;e(function(){f.up.callback(!0)},0);return function(a){f.up.incoming(a,l)}})):(k=p().Fn.get(a.channel,!0)(function(a){f.up.incoming(a,l)}),e(function(){f.up.callback(!0)},0))},init:function(){m(f.onDOMReady,f)}}};J.stack.FlashTransport=function(a){function g(a,b){e(function(){l.up.incoming(a,p)},0)}function k(b){var e=a.swf+"?host="+a.isHost,g="easyXDM_swf_"+Math.floor(1E4*Math.random());J.Fn.set("flash_loaded"+b.replace(/[\-.]/g,"_"),
function(){J.stack.FlashTransport[b].swf=A=v.firstChild;for(var a=J.stack.FlashTransport[b].queue,e=0;e<a.length;e++)a[e]();a.length=0});a.swfContainer?v="string"==typeof a.swfContainer?h.getElementById(a.swfContainer):a.swfContainer:(v=h.createElement("div"),x(v.style,T&&a.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),h.body.appendChild(v));var l="callback=flash_loaded"+f(b.replace(/[\-.]/g,
"_"))+"&proto="+w.location.protocol+"&domain="+f(w.location.href.match(F)[3])+"&port="+f(w.location.href.match(F)[4]||"")+"&ns="+f(M);v.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+g+"' data='"+e+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+e+"'></param><param name='flashvars' value='"+l+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+l+"' allowScriptAccess='always' wmode='transparent' src='"+
e+"' height='1' width='1'></embed></object>"}var l,n,p,A,v;return l={outgoing:function(b,e,f){A.postMessage(a.channel,b.toString());f&&f()},destroy:function(){try{A.destroyChannel(a.channel)}catch(b){}A=null;n&&(n.parentNode.removeChild(n),n=null)},onDOMReady:function(){p=a.remote;J.Fn.set("flash_"+a.channel+"_init",function(){e(function(){l.up.callback(!0)})});J.Fn.set("flash_"+a.channel+"_onMessage",g);a.swf=r(a.swf);var f=a.swf.match(F)[3],m=function(){J.stack.FlashTransport[f].init=!0;A=J.stack.FlashTransport[f].swf;
A.createChannel(a.channel,a.secret,q(a.remote),a.isHost);a.isHost&&(T&&a.swfNoThrottle&&x(a.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),x(a.props,{src:t(a.remote,{xdm_e:q(b.href),xdm_c:a.channel,xdm_p:6,xdm_s:a.secret}),name:L+a.channel+"_provider"}),n=y(a))};J.stack.FlashTransport[f]&&J.stack.FlashTransport[f].init?m():J.stack.FlashTransport[f]?J.stack.FlashTransport[f].queue.push(m):(J.stack.FlashTransport[f]={queue:[m]},k(f))},init:function(){m(l.onDOMReady,l)}}};J.stack.PostMessageTransport=
function(f){function g(a){if("string"===typeof a.data){var e;if(a.origin)e=q(a.origin);else if(a.uri)e=q(a.uri);else if(a.domain)e=b.protocol+"//"+a.domain;else throw"Unable to retrieve the origin of the event";e==r&&a.data.substring(0,f.channel.length+1)==f.channel+" "&&l.up.incoming(a.data.substring(f.channel.length+1),e)}}function k(b){b.data==f.channel+"-ready"&&(n="postMessage"in h.contentWindow?h.contentWindow:h.contentWindow.document,O(a,"message",k),da(a,"message",g),e(function(){l.up.callback(!0)},
0))}var l,h,n,r;return l={outgoing:function(a,b,e){n.postMessage(f.channel+" "+a,b||r);e&&e()},destroy:function(){O(a,"message",k);O(a,"message",g);h&&(n=null,h.parentNode.removeChild(h),h=null)},onDOMReady:function(){r=q(f.remote);f.isHost?(da(a,"message",k),x(f.props,{src:t(f.remote,{xdm_e:q(b.href),xdm_c:f.channel,xdm_p:1}),name:L+f.channel+"_provider"}),h=y(f)):(da(a,"message",g),n="postMessage"in a.parent?a.parent:a.parent.document,n.postMessage(f.channel+"-ready",r),e(function(){l.up.callback(!0)},
0))},init:function(){m(l.onDOMReady,l)}}};J.stack.FrameElementTransport=function(f){var g,k,l,n;return g={outgoing:function(a,b,e){l.call(this,a);e&&e()},destroy:function(){k&&(k.parentNode.removeChild(k),k=null)},onDOMReady:function(){n=q(f.remote);f.isHost?(x(f.props,{src:t(f.remote,{xdm_e:q(b.href),xdm_c:f.channel,xdm_p:5}),name:L+f.channel+"_provider"}),k=y(f),k.fn=function(a){delete k.fn;l=a;e(function(){g.up.callback(!0)},0);return function(a){g.up.incoming(a,n)}}):(h.referrer&&q(h.referrer)!=
Y.xdm_e&&(a.top.location=Y.xdm_e),l=a.frameElement.fn(function(a){g.up.incoming(a,n)}),g.up.callback(!0))},init:function(){m(g.onDOMReady,g)}}};J.stack.NameTransport=function(a){function b(e){n.contentWindow.sendMessage(e,a.remoteHelper+(h?"#_3":"#_2")+a.channel)}function f(){h?2!==++w&&h||l.up.callback(!0):(b("ready"),l.up.callback(!0))}function g(a){l.up.incoming(a,v)}function k(){A&&e(function(){A(!0)},0)}var l,h,n,p,w,A,v,z;return l={outgoing:function(a,e,f){A=f;b(a)},destroy:function(){n.parentNode.removeChild(n);
n=null;h&&(p.parentNode.removeChild(p),p=null)},onDOMReady:function(){h=a.isHost;w=0;v=q(a.remote);a.local=r(a.local);h?(J.Fn.set(a.channel,function(b){h&&"ready"===b&&(J.Fn.set(a.channel,g),f())}),z=t(a.remote,{xdm_e:a.local,xdm_c:a.channel,xdm_p:2}),x(a.props,{src:z+"#"+a.channel,name:L+a.channel+"_provider"}),p=y(a)):(a.remoteHelper=a.remote,J.Fn.set(a.channel,g));var b=function(){var g=n||this;O(g,"load",b);J.Fn.set(a.channel+"_load",k);(function jb(){"function"==typeof g.contentWindow.sendMessage?
f():e(jb,50)})()};n=y({props:{src:a.local+"#_4"+a.channel},onLoad:b})},init:function(){m(l.onDOMReady,l)}}};J.stack.HashTransport=function(b){function f(){if(p){var a=p.location.href,b="",e=a.indexOf("#");-1!=e&&(b=a.substring(e));b&&b!=n&&(n=b,g.up.incoming(n.substring(n.indexOf("_")+1),v))}}var g,k,l,h,n,r,p,w,A,v;return g={outgoing:function(a,e){if(w){var f=b.remote+"#"+r++ +"_"+a;(k||!A?w.contentWindow:w).location=f}},destroy:function(){a.clearInterval(l);!k&&A||w.parentNode.removeChild(w);w=
null},onDOMReady:function(){k=b.isHost;h=b.interval;n="#"+b.channel;r=0;A=b.useParent;v=q(b.remote);if(k){x(b.props,{src:b.remote,name:L+b.channel+"_provider"});if(A)b.onLoad=function(){p=a;l=setInterval(f,h);g.up.callback(!0)};else{var m=0,t=b.delay/50;(function la(){if(++m>t)throw Error("Unable to reference listenerwindow");try{p=w.contentWindow.frames[L+b.channel+"_consumer"]}catch(a){}p?(l=setInterval(f,h),g.up.callback(!0)):e(la,50)})()}w=y(b)}else p=a,l=setInterval(f,h),A?(w=parent,g.up.callback(!0)):
(x(b,{props:{src:b.remote+"#"+b.channel+new Date,name:L+b.channel+"_consumer"},onLoad:function(){g.up.callback(!0)}}),w=y(b))},init:function(){m(g.onDOMReady,g)}}};J.stack.ReliableBehavior=function(a){var b,e,f=0,g=0,k="";return b={incoming:function(a,l){var m=a.indexOf("_"),h=a.substring(0,m).split(",");a=a.substring(m+1);h[0]==f&&(k="",e&&e(!0));0<a.length&&(b.down.outgoing(h[1]+","+f+"_"+k,l),g!=h[1]&&(g=h[1],b.up.incoming(a,l)))},outgoing:function(a,l,m){k=a;e=m;b.down.outgoing(g+","+ ++f+"_"+
a,l)}}};J.stack.QueueBehavior=function(a){function b(){if(a.remove&&0===l.length)E(k);else if(!m&&0!==l.length&&!n){m=!0;var f=l.shift();k.down.outgoing(f.data,f.origin,function(a){m=!1;f.callback&&e(function(){f.callback(a)},0);b()})}}var k,l=[],m=!0,h="",n,r=0,p=!1,q=!1;return k={init:function(){v(a)&&(a={});a.maxLength&&(r=a.maxLength,q=!0);a.lazy?p=!0:k.down.init()},callback:function(a){m=!1;var e=k.up;b();e.callback(a)},incoming:function(b,e){if(q){var f=b.indexOf("_"),l=parseInt(b.substring(0,
f),10);h+=b.substring(f+1);0===l&&(a.encode&&(h=g(h)),k.up.incoming(h,e),h="")}else k.up.incoming(b,e)},outgoing:function(e,g,m){a.encode&&(e=f(e));var h=[],n;if(q){for(;0!==e.length;)n=e.substring(0,r),e=e.substring(n.length),h.push(n);for(;n=h.shift();)l.push({data:h.length+"_"+n,origin:g,callback:0===h.length?m:null})}else l.push({data:e,origin:g,callback:m});p?k.down.init():b()},destroy:function(){n=!0;k.down.destroy()}}};J.stack.VerifyBehavior=function(a){function b(){f=Math.random().toString(16).substring(2);
e.down.outgoing(f)}var e,f,g;return e={incoming:function(k,l){var m=k.indexOf("_");-1===m?k===f?e.up.callback(!0):g||(g=k,a.initiate||b(),e.down.outgoing(k)):k.substring(0,m)===g&&e.up.incoming(k.substring(m+1),l)},outgoing:function(a,b,g){e.down.outgoing(f+"_"+a,b,g)},callback:function(e){a.initiate&&b()}}};J.stack.RpcBehavior=function(a,b){function e(a){a.jsonrpc="2.0";k.down.outgoing(l.stringify(a))}function f(a,b){var g=Array.prototype.slice;return function(){var f=arguments.length,k,l={method:b};
0<f&&"function"===typeof arguments[f-1]?(1<f&&"function"===typeof arguments[f-2]?(k={success:arguments[f-2],error:arguments[f-1]},l.params=g.call(arguments,0,f-2)):(k={success:arguments[f-1]},l.params=g.call(arguments,0,f-1)),h[""+ ++m]=k,l.id=m):l.params=g.call(arguments,0);a.namedParams&&1===l.params.length&&(l.params=l.params[0]);e(l)}}function g(a,b,f,k){if(f){var l,m;b?(l=function(a){l=D;e({id:b,result:a})},m=function(a,f){m=D;var g={id:b,error:{code:-32099,message:a}};f&&(g.error.data=f);e(g)}):
l=m=D;"[object Array]"!==Object.prototype.toString.call(k)&&(k=[k]);try{var h=f.method.apply(f.scope,k.concat([l,m]));v(h)||l(h)}catch(n){m(n.message)}}else b&&e({id:b,error:{code:-32601,message:"Procedure not found."}})}var k,l=b.serializer||oa(),m=0,h={};return k={incoming:function(a,f){var k=l.parse(a);if(k.method)b.handle?b.handle(k,e):g(k.method,k.id,b.local[k.method],k.params);else{var m=h[k.id];k.error?m.error&&m.error(k.error):m.success&&m.success(k.result);delete h[k.id]}},init:function(){if(b.remote)for(var e in b.remote)b.remote.hasOwnProperty(e)&&
(a[e]=f(b.remote[e],e));k.down.init()},destroy:function(){for(var e in b.remote)b.remote.hasOwnProperty(e)&&a.hasOwnProperty(e)&&delete a[e];k.down.destroy()}}};w.easyXDM=J})(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent);(function(a,h){"object"===typeof module&&"object"===typeof module.exports?module.exports=a.document?h(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return h(a)}:h(a)})("undefined"!==typeof window?window:this,function(a,h){function b(a){var b=!!a&&"length"in a&&a.length,e=u.type(a);return"function"===e||u.isWindow(a)?!1:"array"===e||0===b||"number"===typeof b&&0<b&&b-1 in a}function e(a,b,e){if(u.isFunction(b))return u.grep(a,function(a,f){return!!b.call(a,
f,a)!==e});if(b.nodeType)return u.grep(a,function(a){return a===b!==e});if("string"===typeof b){if(U.test(b))return u.filter(b,a,e);b=u.filter(b,a)}return u.grep(a,function(a){return-1<cb.call(b,a)!==e})}function g(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b={};u.each(a.match(wa)||[],function(a,e){b[e]=!0});return b}function l(){ha.removeEventListener("DOMContentLoaded",l);a.removeEventListener("load",l);u.ready()}function k(){this.expando=u.expando+k.uid++}function n(a,b,e){if(void 0===
e&&1===a.nodeType)if(e="data-"+b.replace(Ua,"-$&").toLowerCase(),e=a.getAttribute(e),"string"===typeof e){try{e="true"===e?!0:"false"===e?!1:"null"===e?null:+e+""===e?+e:$a.test(e)?u.parseJSON(e):e}catch(f){}qa.set(a,b,e)}else e=void 0;return e}function m(a,b,e,f){var g,k=1,l=20,m=f?function(){return f.cur()}:function(){return u.css(a,b,"")},h=m(),n=e&&e[3]||(u.cssNumber[b]?"":"px"),r=(u.cssNumber[b]||"px"!==n&&+h)&&Pa.exec(u.css(a,b));if(r&&r[3]!==n){n=n||r[3];e=e||[];r=+h||1;do k=k||".5",r/=k,u.style(a,
b,r+n);while(k!==(k=m()/h)&&1!==k&&--l)}e&&(r=+r||+h||0,g=e[1]?r+(e[1]+1)*e[2]:+e[2],f&&(f.unit=n,f.start=r,f.end=g));return g}function p(a,b){var e="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&u.nodeName(a,b)?u.merge([a],e):e}function q(a,b){for(var e=0,f=a.length;e<f;e++)aa.set(a[e],"globalEval",!b||aa.get(b[e],"globalEval"))}function r(a,b,e,f,g){for(var k,l,m,h=b.createDocumentFragment(),
n=[],r=0,w=a.length;r<w;r++)if((k=a[r])||0===k)if("object"===u.type(k))u.merge(n,k.nodeType?[k]:k);else if(tb.test(k)){l=l||h.appendChild(b.createElement("div"));m=(kb.exec(k)||["",""])[1].toLowerCase();m=ma[m]||ma._default;l.innerHTML=m[1]+u.htmlPrefilter(k)+m[2];for(m=m[0];m--;)l=l.lastChild;u.merge(n,l.childNodes);l=h.firstChild;l.textContent=""}else n.push(b.createTextNode(k));h.textContent="";for(r=0;k=n[r++];)if(f&&-1<u.inArray(k,f))g&&g.push(k);else if(a=u.contains(k.ownerDocument,k),l=p(h.appendChild(k),
"script"),a&&q(l),e)for(m=0;k=l[m++];)Ha.test(k.type||"")&&e.push(k);return h}function t(){return!0}function v(){return!1}function x(){try{return ha.activeElement}catch(a){}}function y(a,b,e,f,g,k){var l,m;if("object"===typeof b){"string"!==typeof e&&(f=f||e,e=void 0);for(m in b)y(a,m,e,f,b[m],k);return a}null==f&&null==g?(g=e,f=e=void 0):null==g&&("string"===typeof e?(g=f,f=void 0):(g=f,f=e,e=void 0));if(!1===g)g=v;else if(!g)return a;1===k&&(l=g,g=function(a){u().off(a);return l.apply(this,arguments)},
g.guid=l.guid||(l.guid=u.guid++));return a.each(function(){u.event.add(this,b,g,f,e)})}function z(a,b){return u.nodeName(a,"table")&&u.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function B(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}function E(a){var b=Ca.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function w(a,b){var e,f,g,k;if(1===b.nodeType){if(aa.hasData(a)&&(k=aa.access(a),
e=aa.set(b,k),k=k.events))for(g in delete e.handle,e.events={},k)for(e=0,f=k[g].length;e<f;e++)u.event.add(b,g,k[g][e]);qa.hasData(a)&&(g=qa.access(a),g=u.extend({},g),qa.set(b,g))}}function A(a,b,e,f){b=Ea.apply([],b);var g,k,l,m,h=0,n=a.length,q=n-1,w=b[0],v=u.isFunction(w);if(v||1<n&&"string"===typeof w&&!ba.checkClone&&Ma.test(w))return a.each(function(g){var k=a.eq(g);v&&(b[0]=w.call(this,g,k.html()));A(k,b,e,f)});if(n&&(g=r(b,a[0].ownerDocument,!1,a,f),k=g.firstChild,1===g.childNodes.length&&
(g=k),k||f)){k=u.map(p(g,"script"),B);for(l=k.length;h<n;h++)m=g,h!==q&&(m=u.clone(m,!0,!0),l&&u.merge(k,p(m,"script"))),e.call(a[h],m,h);if(l)for(g=k[k.length-1].ownerDocument,u.map(k,E),h=0;h<l;h++)m=k[h],Ha.test(m.type||"")&&!aa.access(m,"globalEval")&&u.contains(g,m)&&(m.src?u._evalUrl&&u._evalUrl(m.src):u.globalEval(m.textContent.replace(mb,"")))}return a}function D(a,b,e){for(var f=b?u.filter(b,a):a,g=0;null!=(b=f[g]);g++)e||1!==b.nodeType||u.cleanData(p(b)),b.parentNode&&(e&&u.contains(b.ownerDocument,
b)&&q(p(b,"script")),b.parentNode.removeChild(b));return a}function F(a,b){var e=u(b.createElement(a)).appendTo(b.body),f=u.css(e[0],"display");e.detach();return f}function K(a){var b=ha,e=vb[a];e||(e=F(a,b),"none"!==e&&e||(La=(La||u("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=La[0].contentDocument,b.write(),b.close(),e=F(a,b),La.detach()),vb[a]=e);return e}function G(a,b,e){var f,g,k=a.style;g=(e=e||Ia(a))?e.getPropertyValue(b)||e[b]:void 0;""!==g&&void 0!==g||
u.contains(a.ownerDocument,a)||(g=u.style(a,b));e&&!ba.pixelMarginRight()&&Wa.test(g)&&ab.test(b)&&(a=k.width,b=k.minWidth,f=k.maxWidth,k.minWidth=k.maxWidth=k.width=g,g=e.width,k.width=a,k.minWidth=b,k.maxWidth=f);return void 0!==g?g+"":g}function M(a,b){return{get:function(){if(a())delete this.get;else return(this.get=b).apply(this,arguments)}}}function J(a){if(a in sc)return a;for(var b=a[0].toUpperCase()+a.slice(1),e=Da.length;e--;)if(a=Da[e]+b,a in sc)return a}function N(a,b,e){return(a=Pa.exec(b))?
Math.max(0,a[2]-(e||0))+(a[3]||"px"):b}function L(a,b,e,f,g){b=e===(f?"border":"content")?4:"width"===b?1:0;for(var k=0;4>b;b+=2)"margin"===e&&(k+=u.css(a,e+ua[b],!0,g)),f?("content"===e&&(k-=u.css(a,"padding"+ua[b],!0,g)),"margin"!==e&&(k-=u.css(a,"border"+ua[b]+"Width",!0,g))):(k+=u.css(a,"padding"+ua[b],!0,g),"padding"!==e&&(k+=u.css(a,"border"+ua[b]+"Width",!0,g)));return k}function R(a,b,e){var f=!0,g="width"===b?a.offsetWidth:a.offsetHeight,k=Ia(a),l="border-box"===u.css(a,"boxSizing",!1,k);
if(0>=g||null==g){g=G(a,b,k);if(0>g||null==g)g=a.style[b];if(Wa.test(g))return g;f=l&&(ba.boxSizingReliable()||g===a.style[b]);g=parseFloat(g)||0}return g+L(a,b,e||(l?"border":"content"),f,k)+"px"}function P(a,b){for(var e,f,g,k=[],l=0,m=a.length;l<m;l++)f=a[l],f.style&&(k[l]=aa.get(f,"olddisplay"),e=f.style.display,b?(k[l]||"none"!==e||(f.style.display=""),""===f.style.display&&Ra(f)&&(k[l]=aa.access(f,"olddisplay",K(f.nodeName)))):(g=Ra(f),"none"===e&&g||aa.set(f,"olddisplay",g?e:u.css(f,"display"))));
for(l=0;l<m;l++)f=a[l],!f.style||b&&"none"!==f.style.display&&""!==f.style.display||(f.style.display=b?k[l]||"":"none");return a}function X(a,b,e,f,g){return new X.prototype.init(a,b,e,f,g)}function T(){a.setTimeout(function(){na=void 0});return na=u.now()}function da(a,b){var e,f=0,g={height:a};for(b=b?1:0;4>f;f+=2-b)e=ua[f],g["margin"+e]=g["padding"+e]=a;b&&(g.opacity=g.width=a);return g}function O(a,b,e){for(var f,g=(ga.tweeners[b]||[]).concat(ga.tweeners["*"]),k=0,l=g.length;k<l;k++)if(f=g[k].call(e,
b,a))return f}function Z(a,b){var e,f,g,k,l;for(e in a)if(f=u.camelCase(e),g=b[f],k=a[e],u.isArray(k)&&(g=k[1],k=a[e]=k[0]),e!==f&&(a[f]=k,delete a[e]),(l=u.cssHooks[f])&&"expand"in l)for(e in k=l.expand(k),delete a[f],k)e in a||(a[e]=k[e],b[e]=g);else b[f]=g}function ga(a,b,e){var f,g=0,k=ga.prefilters.length,l=u.Deferred().always(function(){delete m.elem}),m=function(){if(f)return!1;for(var b=na||T(),b=Math.max(0,h.startTime+h.duration-b),e=1-(b/h.duration||0),g=0,k=h.tweens.length;g<k;g++)h.tweens[g].run(e);
l.notifyWith(a,[h,e,b]);if(1>e&&k)return b;l.resolveWith(a,[h]);return!1},h=l.promise({elem:a,props:u.extend({},b),opts:u.extend(!0,{specialEasing:{},easing:u.easing._default},e),originalProperties:b,originalOptions:e,startTime:na||T(),duration:e.duration,tweens:[],createTween:function(b,e){var f=u.Tween(a,h.opts,b,e,h.opts.specialEasing[b]||h.opts.easing);h.tweens.push(f);return f},stop:function(b){var e=0,g=b?h.tweens.length:0;if(f)return this;for(f=!0;e<g;e++)h.tweens[e].run(1);b?(l.notifyWith(a,
[h,1,0]),l.resolveWith(a,[h,b])):l.rejectWith(a,[h,b]);return this}});e=h.props;for(Z(e,h.opts.specialEasing);g<k;g++)if(b=ga.prefilters[g].call(h,a,e,h.opts))return u.isFunction(b.stop)&&(u._queueHooks(h.elem,h.opts.queue).stop=u.proxy(b.stop,b)),b;u.map(e,O,h);u.isFunction(h.opts.start)&&h.opts.start.call(a,h);u.fx.timer(u.extend(m,{elem:a,anim:h,queue:h.opts.queue}));return h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function V(a){return a.getAttribute&&
a.getAttribute("class")||""}function ka(a){return function(b,e){"string"!==typeof b&&(e=b,b="*");var f,g=0,k=b.toLowerCase().match(wa)||[];if(u.isFunction(e))for(;f=k[g++];)"+"===f[0]?(f=f.slice(1)||"*",(a[f]=a[f]||[]).unshift(e)):(a[f]=a[f]||[]).push(e)}}function Y(a,b,e,f){function g(m){var h;k[m]=!0;u.each(a[m]||[],function(a,m){var n=m(b,e,f);if("string"===typeof n&&!l&&!k[n])return b.dataTypes.unshift(n),g(n),!1;if(l)return!(h=n)});return h}var k={},l=a===hc;return g(b.dataTypes[0])||!k["*"]&&
g("*")}function oa(a,b){var e,f,g=u.ajaxSettings.flatOptions||{};for(e in b)void 0!==b[e]&&((g[e]?a:f||(f={}))[e]=b[e]);f&&u.extend(!0,a,f);return a}function ta(a,b,e,f){var g;if(u.isArray(b))u.each(b,function(b,g){e||hb.test(a)?f(a,g):ta(a+"["+("object"===typeof g&&null!=g?b:"")+"]",g,e,f)});else if(e||"object"!==u.type(b))f(a,b);else for(g in b)ta(a+"["+g+"]",b[g],e,f)}function pa(a){return u.isWindow(a)?a:9===a.nodeType&&a.defaultView}var bb=[],ha=a.document,Sa=bb.slice,Ea=bb.concat,ya=bb.push,
cb=bb.indexOf,Ta={},yb=Ta.toString,ib=Ta.hasOwnProperty,ba={},u=function(a,b){return new u.fn.init(a,b)},fb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Ka=/^-ms-/,la=/-([\da-z])/gi,jb=function(a,b){return b.toUpperCase()};u.fn=u.prototype={jquery:"2.2.4",constructor:u,selector:"",length:0,toArray:function(){return Sa.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:Sa.call(this)},pushStack:function(a){a=u.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},
each:function(a){return u.each(this,a)},map:function(a){return this.pushStack(u.map(this,function(b,e){return a.call(b,e,b)}))},slice:function(){return this.pushStack(Sa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:ya,sort:bb.sort,splice:bb.splice};u.extend=u.fn.extend=function(){var a,b,e,
f,g,k=arguments[0]||{},l=1,m=arguments.length,h=!1;"boolean"===typeof k&&(h=k,k=arguments[l]||{},l++);"object"===typeof k||u.isFunction(k)||(k={});l===m&&(k=this,l--);for(;l<m;l++)if(null!=(a=arguments[l]))for(b in a)e=k[b],f=a[b],k!==f&&(h&&f&&(u.isPlainObject(f)||(g=u.isArray(f)))?(g?(g=!1,e=e&&u.isArray(e)?e:[]):e=e&&u.isPlainObject(e)?e:{},k[b]=u.extend(h,e,f)):void 0!==f&&(k[b]=f));return k};u.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);
},noop:function(){},isFunction:function(a){return"function"===u.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!u.isArray(a)&&0<=b-parseFloat(b)+1},isPlainObject:function(a){var b;if("object"!==u.type(a)||a.nodeType||u.isWindow(a)||a.constructor&&!ib.call(a,"constructor")&&!ib.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||ib.call(a,b)},isEmptyObject:function(a){for(var b in a)return!1;
return!0},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?Ta[yb.call(a)]||"object":typeof a},globalEval:function(a){var b;b=eval;if(a=u.trim(a))1===a.indexOf("use strict")?(b=ha.createElement("script"),b.text=a,ha.head.appendChild(b).parentNode.removeChild(b)):b(a)},camelCase:function(a){return a.replace(Ka,"ms-").replace(la,jb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,e){var f,g=0;if(b(a))for(f=a.length;g<
f&&!1!==e.call(a[g],g,a[g]);g++);else for(g in a)if(!1===e.call(a[g],g,a[g]))break;return a},trim:function(a){return null==a?"":(a+"").replace(fb,"")},makeArray:function(a,e){var f=e||[];null!=a&&(b(Object(a))?u.merge(f,"string"===typeof a?[a]:a):ya.call(f,a));return f},inArray:function(a,b,e){return null==b?-1:cb.call(b,a,e)},merge:function(a,b){for(var e=+b.length,f=0,g=a.length;f<e;f++)a[g++]=b[f];a.length=g;return a},grep:function(a,b,e){for(var f=[],g=0,k=a.length,l=!e;g<k;g++)e=!b(a[g],g),e!==
l&&f.push(a[g]);return f},map:function(a,e,f){var g,k,l=0,m=[];if(b(a))for(g=a.length;l<g;l++)k=e(a[l],l,f),null!=k&&m.push(k);else for(l in a)k=e(a[l],l,f),null!=k&&m.push(k);return Ea.apply([],m)},guid:1,proxy:function(a,b){var e,f;"string"===typeof b&&(e=a[b],b=a,a=e);if(u.isFunction(a))return f=Sa.call(arguments,2),e=function(){return a.apply(b||this,f.concat(Sa.call(arguments)))},e.guid=a.guid=a.guid||u.guid++,e},now:Date.now,support:ba});"function"===typeof Symbol&&(u.fn[Symbol.iterator]=bb[Symbol.iterator]);
u.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){Ta["[object "+b+"]"]=b.toLowerCase()});var H=function(a){function b(a,e,f,g){var k,l,m,h,n,p=e&&e.ownerDocument,w=e?e.nodeType:9;f=f||[];if("string"!==typeof a||!a||1!==w&&9!==w&&11!==w)return f;if(!g&&((e?e.ownerDocument||e:ba)!==M&&ma(e),e=e||M,J)){if(11!==w&&(h=Wa.exec(a)))if(k=h[1])if(9===w)if(l=e.getElementById(k)){if(l.id===k)return f.push(l),f}else return f;else{if(p&&(l=p.getElementById(k))&&
N(e,l)&&l.id===k)return f.push(l),f}else{if(h[2])return Ea.apply(f,e.getElementsByTagName(a)),f;if((k=h[3])&&D.getElementsByClassName&&e.getElementsByClassName)return Ea.apply(f,e.getElementsByClassName(k)),f}if(!(!D.qsa||T[a+" "]||P&&P.test(a))){if(1!==w)p=e,n=a;else if("object"!==e.nodeName.toLowerCase()){(m=e.getAttribute("id"))?m=m.replace(pa,"\\$&"):e.setAttribute("id",m=Da);h=K(a);k=h.length;for(l=mb.test(m)?"#"+m:"[id='"+m+"']";k--;)h[k]=l+" "+q(h[k]);n=h.join(",");p=Ka.test(a)&&r(e.parentNode)||
e}if(n)try{return Ea.apply(f,p.querySelectorAll(n)),f}catch(A){}finally{m===Da&&e.removeAttribute("id")}}}return G(a.replace(fb,"$1"),e,f,g)}function e(){function a(e,f){b.push(e+" ")>x.cacheLength&&delete a[b.shift()];return a[e+" "]=f}var b=[];return a}function f(a){a[Da]=!0;return a}function g(a){var b=M.createElement("div");try{return!!a(b)}catch(e){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function k(a,b){for(var e=a.split("|"),f=e.length;f--;)x.attrHandle[e[f]]=b}function l(a,
b){var e=b&&a,f=e&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(f)return f;if(e)for(;e=e.nextSibling;)if(e===b)return-1;return a?1:-1}function m(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function h(a){return function(b){var e=b.nodeName.toLowerCase();return("input"===e||"button"===e)&&b.type===a}}function n(a){return f(function(b){b=+b;return f(function(e,f){for(var g,k=a([],e.length,b),l=k.length;l--;)e[g=k[l]]&&
(e[g]=!(f[g]=e[g]))})})}function r(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function p(){}function q(a){for(var b=0,e=a.length,f="";b<e;b++)f+=a[b].value;return f}function w(a,b,e){var f=b.dir,g=e&&"parentNode"===f,k=ka++;return b.first?function(b,e,k){for(;b=b[f];)if(1===b.nodeType||g)return a(b,e,k)}:function(b,e,l){var m,h,n=[Ca,k];if(l)for(;b=b[f];){if((1===b.nodeType||g)&&a(b,e,l))return!0}else for(;b=b[f];)if(1===b.nodeType||g){h=b[Da]||(b[Da]={});h=h[b.uniqueID]||(h[b.uniqueID]=
{});if((m=h[f])&&m[0]===Ca&&m[1]===k)return n[2]=m[2];h[f]=n;if(n[2]=a(b,e,l))return!0}}}function A(a){return 1<a.length?function(b,e,f){for(var g=a.length;g--;)if(!a[g](b,e,f))return!1;return!0}:a[0]}function v(a,b,e,f,g){for(var k,l=[],m=0,h=a.length,n=null!=b;m<h;m++)if(k=a[m])if(!e||e(k,f,g))l.push(k),n&&b.push(m);return l}function t(a,e,g,k,l,m){k&&!k[Da]&&(k=t(k));l&&!l[Da]&&(l=t(l,m));return f(function(f,m,h,n){var r,p,q=[],w=[],A=m.length,t;if(!(t=f)){t=e||"*";for(var y=h.nodeType?[h]:h,z=
[],F=0,D=y.length;F<D;F++)b(t,y[F],z);t=z}t=!a||!f&&e?t:v(t,q,a,h,n);y=g?l||(f?a:A||k)?[]:m:t;g&&g(t,y,h,n);if(k)for(r=v(y,w),k(r,[],h,n),h=r.length;h--;)if(p=r[h])y[w[h]]=!(t[w[h]]=p);if(f){if(l||a){if(l){r=[];for(h=y.length;h--;)(p=y[h])&&r.push(t[h]=p);l(null,y=[],r,n)}for(h=y.length;h--;)(p=y[h])&&-1<(r=l?nb(f,p):q[h])&&(f[r]=!(m[r]=p))}}else y=v(y===m?y.splice(A,y.length):y),l?l(null,m,y,n):Ea.apply(m,y)})}function y(a){var b,e,f,g=a.length,k=x.relative[a[0].type];e=k||x.relative[" "];for(var l=
k?1:0,m=w(function(a){return a===b},e,!0),h=w(function(a){return-1<nb(b,a)},e,!0),n=[function(a,e,f){a=!k&&(f||e!==u)||((b=e).nodeType?m(a,e,f):h(a,e,f));b=null;return a}];l<g;l++)if(e=x.relative[a[l].type])n=[w(A(n),e)];else{e=x.filter[a[l].type].apply(null,a[l].matches);if(e[Da]){for(f=++l;f<g&&!x.relative[a[f].type];f++);return t(1<l&&A(n),1<l&&q(a.slice(0,l-1).concat({value:" "===a[l-2].type?"*":""})).replace(fb,"$1"),e,l<f&&y(a.slice(l,f)),f<g&&y(a=a.slice(f)),f<g&&q(a))}n.push(e)}return A(n)}
function z(a,e){var g=0<e.length,k=0<a.length,l=function(f,l,m,h,n){var r,p,q,w=0,A="0",y=f&&[],t=[],z=u,F=f||k&&x.find.TAG("*",n),D=Ca+=null==z?1:Math.random()||.1,E=F.length;for(n&&(u=l===M||l||n);A!==E&&null!=(r=F[A]);A++){if(k&&r){p=0;l||r.ownerDocument===M||(ma(r),m=!J);for(;q=a[p++];)if(q(r,l||M,m)){h.push(r);break}n&&(Ca=D)}g&&((r=!q&&r)&&w--,f&&y.push(r))}w+=A;if(g&&A!==w){for(p=0;q=e[p++];)q(y,t,l,m);if(f){if(0<w)for(;A--;)y[A]||t[A]||(t[A]=Ba.call(h));t=v(t)}Ea.apply(h,t);n&&!f&&0<t.length&&
1<w+e.length&&b.uniqueSort(h)}n&&(Ca=D,u=z);return y};return g?f(l):l}var F,D,x,E,B,K,C,G,u,la,Ma,ma,M,H,J,P,V,jb,N,Da="sizzle"+1*new Date,ba=a.document,Ca=0,ka=0,X=e(),tb=e(),T=e(),lb=function(a,b){a===b&&(Ma=!0);return 0},sc={}.hasOwnProperty,L=[],Ba=L.pop,Y=L.push,Ea=L.push,oa=L.slice,nb=function(a,b){for(var e=0,f=a.length;e<f;e++)if(a[e]===b)return e;return-1},O=RegExp("[\\x20\\t\\r\\n\\f]+","g"),fb=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),na=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,
da=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Db=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),Sa=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,mb=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,R={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,
CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},U=/^(?:input|select|textarea|button)$/i,ta=/^h\d$/i,xa=/^[^{]+\{\s*\[native \w/,
Wa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ka=/[+~]/,pa=/'|\\/g,La=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ya=function(a,b,e){a="0x"+b-65536;return a!==a||e?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)},Z=function(){ma()};try{Ea.apply(L=oa.call(ba.childNodes),ba.childNodes),L[ba.childNodes.length].nodeType}catch(ga){Ea={apply:L.length?function(a,b){Y.apply(a,oa.call(b))}:function(a,b){for(var e=a.length,f=0;a[e++]=b[f++];);a.length=
e-1}}}D=b.support={};B=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};ma=b.setDocument=function(a){var b;a=a?a.ownerDocument||a:ba;if(a===M||9!==a.nodeType||!a.documentElement)return M;M=a;H=M.documentElement;J=!B(M);(b=M.defaultView)&&b.top!==b&&(b.addEventListener?b.addEventListener("unload",Z,!1):b.attachEvent&&b.attachEvent("onunload",Z));D.attributes=g(function(a){a.className="i";return!a.getAttribute("className")});D.getElementsByTagName=g(function(a){a.appendChild(M.createComment(""));
return!a.getElementsByTagName("*").length});D.getElementsByClassName=xa.test(M.getElementsByClassName);D.getById=g(function(a){H.appendChild(a).id=Da;return!M.getElementsByName||!M.getElementsByName(Da).length});D.getById?(x.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&J){var e=b.getElementById(a);return e?[e]:[]}},x.filter.ID=function(a){var b=a.replace(La,ya);return function(a){return a.getAttribute("id")===b}}):(delete x.find.ID,x.filter.ID=function(a){var b=a.replace(La,ya);
return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});x.find.TAG=D.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a);if(D.qsa)return b.querySelectorAll(a)}:function(a,b){var e,f=[],g=0,k=b.getElementsByTagName(a);if("*"===a){for(;e=k[g++];)1===e.nodeType&&f.push(e);return f}return k};x.find.CLASS=D.getElementsByClassName&&function(a,b){if("undefined"!==typeof b.getElementsByClassName&&
J)return b.getElementsByClassName(a)};V=[];P=[];if(D.qsa=xa.test(M.querySelectorAll))g(function(a){H.appendChild(a).innerHTML="<a id='"+Da+"'></a><select id='"+Da+"-\r\\' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||P.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll("[id~="+Da+"-]").length||P.push("~=");a.querySelectorAll(":checked").length||P.push(":checked");a.querySelectorAll("a#"+Da+"+*").length||P.push(".#.+[+~]")}),g(function(a){var b=M.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&P.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||P.push(":enabled",":disabled");a.querySelectorAll("*,:x");P.push(",.*:")});(D.matchesSelector=
xa.test(jb=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&g(function(a){D.disconnectedMatch=jb.call(a,"div");jb.call(a,"[s!='']:x");V.push("!=",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
P=P.length&&new RegExp(P.join("|"));V=V.length&&new RegExp(V.join("|"));N=(b=xa.test(H.compareDocumentPosition))||xa.test(H.contains)?function(a,b){var e=9===a.nodeType?a.documentElement:a,f=b&&b.parentNode;return a===f||!!(f&&1===f.nodeType&&(e.contains?e.contains(f):a.compareDocumentPosition&&a.compareDocumentPosition(f)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};lb=b?function(a,b){if(a===b)return Ma=!0,0;var e=!a.compareDocumentPosition-!b.compareDocumentPosition;
if(e)return e;e=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;return e&1||!D.sortDetached&&b.compareDocumentPosition(a)===e?a===M||a.ownerDocument===ba&&N(ba,a)?-1:b===M||b.ownerDocument===ba&&N(ba,b)?1:la?nb(la,a)-nb(la,b):0:e&4?-1:1}:function(a,b){if(a===b)return Ma=!0,0;var e,f=0;e=a.parentNode;var g=b.parentNode,k=[a],m=[b];if(!e||!g)return a===M?-1:b===M?1:e?-1:g?1:la?nb(la,a)-nb(la,b):0;if(e===g)return l(a,b);for(e=a;e=e.parentNode;)k.unshift(e);for(e=b;e=e.parentNode;)m.unshift(e);
for(;k[f]===m[f];)f++;return f?l(k[f],m[f]):k[f]===ba?-1:m[f]===ba?1:0};return M};b.matches=function(a,e){return b(a,null,null,e)};b.matchesSelector=function(a,e){(a.ownerDocument||a)!==M&&ma(a);e=e.replace(Db,"='$1']");if(!(!D.matchesSelector||!J||T[e+" "]||V&&V.test(e)||P&&P.test(e)))try{var f=jb.call(a,e);if(f||D.disconnectedMatch||a.document&&11!==a.document.nodeType)return f}catch(g){}return 0<b(e,M,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==M&&ma(a);return N(a,b)};b.attr=
function(a,b){(a.ownerDocument||a)!==M&&ma(a);var e=x.attrHandle[b.toLowerCase()],e=e&&sc.call(x.attrHandle,b.toLowerCase())?e(a,b,!J):void 0;return void 0!==e?e:D.attributes||!J?a.getAttribute(b):(e=a.getAttributeNode(b))&&e.specified?e.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,e=[],f=0,g=0;Ma=!D.detectDuplicates;la=!D.sortStable&&a.slice(0);a.sort(lb);if(Ma){for(;b=a[g++];)b===a[g]&&(f=e.push(g));for(;f--;)a.splice(e[f],
1)}la=null;return a};E=b.getText=function(a){var b,e="",f=0;b=a.nodeType;if(!b)for(;b=a[f++];)e+=E(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)e+=E(a)}else if(3===b||4===b)return a.nodeValue;return e};x=b.selectors={cacheLength:50,createPseudo:f,match:R,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=
a[1].replace(La,ya);a[3]=(a[3]||a[4]||a[5]||"").replace(La,ya);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,e=!a[6]&&a[2];if(R.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":e&&Sa.test(e)&&(b=K(e,!0))&&(b=e.indexOf(")",e.length-b)-e.length)&&(a[0]=a[0].slice(0,
b),a[2]=e.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(La,ya).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=X[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&X(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,e,f){return function(g){g=
b.attr(g,a);if(null==g)return"!="===e;if(!e)return!0;g+="";return"="===e?g===f:"!="===e?g!==f:"^="===e?f&&0===g.indexOf(f):"*="===e?f&&-1<g.indexOf(f):"$="===e?f&&g.slice(-f.length)===f:"~="===e?-1<(" "+g.replace(O," ")+" ").indexOf(f):"|="===e?g===f||g.slice(0,f.length+1)===f+"-":!1}},CHILD:function(a,b,e,f,g){var k="nth"!==a.slice(0,3),l="last"!==a.slice(-4),m="of-type"===b;return 1===f&&0===g?function(a){return!!a.parentNode}:function(b,e,h){var n,r,p,q,w;e=k!==l?"nextSibling":"previousSibling";
var A=b.parentNode,v=m&&b.nodeName.toLowerCase();h=!h&&!m;n=!1;if(A){if(k){for(;e;){for(p=b;p=p[e];)if(m?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;w=e="only"===a&&!w&&"nextSibling"}return!0}w=[l?A.firstChild:A.lastChild];if(l&&h)for(p=A,r=p[Da]||(p[Da]={}),r=r[p.uniqueID]||(r[p.uniqueID]={}),n=r[a]||[],n=(q=n[0]===Ca&&n[1])&&n[2],p=q&&A.childNodes[q];p=++q&&p&&p[e]||(n=q=0)||w.pop();){if(1===p.nodeType&&++n&&p===b){r[a]=[Ca,q,n];break}}else if(h&&(p=b,r=p[Da]||(p[Da]={}),r=r[p.uniqueID]||
(r[p.uniqueID]={}),n=r[a]||[],n=q=n[0]===Ca&&n[1]),!1===n)for(;(p=++q&&p&&p[e]||(n=q=0)||w.pop())&&((m?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++n||(h&&(r=p[Da]||(p[Da]={}),r=r[p.uniqueID]||(r[p.uniqueID]={}),r[a]=[Ca,n]),p!==b)););n-=g;return n===f||0===n%f&&0<=n/f}}},PSEUDO:function(a,e){var g,k=x.pseudos[a]||x.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return k[Da]?k(e):1<k.length?(g=[a,a,"",e],x.setFilters.hasOwnProperty(a.toLowerCase())?f(function(a,b){for(var f,g=
k(a,e),l=g.length;l--;)f=nb(a,g[l]),a[f]=!(b[f]=g[l])}):function(a){return k(a,0,g)}):k}},pseudos:{not:f(function(a){var b=[],e=[],g=C(a.replace(fb,"$1"));return g[Da]?f(function(a,b,e,f){f=g(a,null,f,[]);for(var k=a.length;k--;)if(e=f[k])a[k]=!(b[k]=e)}):function(a,f,k){b[0]=a;g(b,null,k,e);b[0]=null;return!e.pop()}}),has:f(function(a){return function(e){return 0<b(a,e).length}}),contains:f(function(a){a=a.replace(La,ya);return function(b){return-1<(b.textContent||b.innerText||E(b)).indexOf(a)}}),
lang:f(function(a){mb.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(La,ya).toLowerCase();return function(b){var e;do if(e=J?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return e=e.toLowerCase(),e===a||0===e.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var e=a.location&&a.location.hash;return e&&e.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(a.type||a.href||
~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!x.pseudos.empty(a)},header:function(a){return ta.test(a.nodeName)},input:function(a){return U.test(a.nodeName)},
button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:n(function(){return[0]}),last:n(function(a,b){return[b-1]}),eq:n(function(a,b,e){return[0>e?e+b:e]}),even:n(function(a,b){for(var e=0;e<b;e+=2)a.push(e);return a}),odd:n(function(a,b){for(var e=1;e<b;e+=2)a.push(e);return a}),lt:n(function(a,b,e){for(b=
0>e?e+b:e;0<=--b;)a.push(b);return a}),gt:n(function(a,b,e){for(e=0>e?e+b:e;++e<b;)a.push(e);return a})}};x.pseudos.nth=x.pseudos.eq;for(F in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[F]=m(F);for(F in{submit:!0,reset:!0})x.pseudos[F]=h(F);p.prototype=x.filters=x.pseudos;x.setFilters=new p;K=b.tokenize=function(a,e){var f,g,k,l,m,h,n;if(m=tb[a+" "])return e?0:m.slice(0);m=a;h=[];for(n=x.preFilter;m;){if(!f||(g=na.exec(m)))g&&(m=m.slice(g[0].length)||m),h.push(k=[]);f=!1;if(g=da.exec(m))f=
g.shift(),k.push({value:f,type:g[0].replace(fb," ")}),m=m.slice(f.length);for(l in x.filter)!(g=R[l].exec(m))||n[l]&&!(g=n[l](g))||(f=g.shift(),k.push({value:f,type:l,matches:g}),m=m.slice(f.length));if(!f)break}return e?m.length:m?b.error(a):tb(a,h).slice(0)};C=b.compile=function(a,b){var e,f=[],g=[],k=T[a+" "];if(!k){b||(b=K(a));for(e=b.length;e--;)k=y(b[e]),k[Da]?f.push(k):g.push(k);k=T(a,z(g,f));k.selector=a}return k};G=b.select=function(a,b,e,f){var g,k,l,m,h="function"===typeof a&&a,n=!f&&K(a=
h.selector||a);e=e||[];if(1===n.length){k=n[0]=n[0].slice(0);if(2<k.length&&"ID"===(l=k[0]).type&&D.getById&&9===b.nodeType&&J&&x.relative[k[1].type]){b=(x.find.ID(l.matches[0].replace(La,ya),b)||[])[0];if(!b)return e;h&&(b=b.parentNode);a=a.slice(k.shift().value.length)}for(g=R.needsContext.test(a)?0:k.length;g--;){l=k[g];if(x.relative[m=l.type])break;if(m=x.find[m])if(f=m(l.matches[0].replace(La,ya),Ka.test(k[0].type)&&r(b.parentNode)||b)){k.splice(g,1);a=f.length&&q(k);if(!a)return Ea.apply(e,
f),e;break}}}(h||C(a,n))(f,b,!J,e,!b||Ka.test(a)&&r(b.parentNode)||b);return e};D.sortStable=Da.split("").sort(lb).join("")===Da;D.detectDuplicates=!!Ma;ma();D.sortDetached=g(function(a){return a.compareDocumentPosition(M.createElement("div"))&1});g(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||k("type|href|height|width",function(a,b,e){if(!e)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});D.attributes&&g(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value",
"");return""===a.firstChild.getAttribute("value")})||k("value",function(a,b,e){if(!e&&"input"===a.nodeName.toLowerCase())return a.defaultValue});g(function(a){return null==a.getAttribute("disabled")})||k("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,e){var f;if(!e)return!0===a[b]?b.toLowerCase():(f=a.getAttributeNode(b))&&f.specified?f.value:null});return b}(a);u.find=H;u.expr=H.selectors;u.expr[":"]=u.expr.pseudos;
u.uniqueSort=u.unique=H.uniqueSort;u.text=H.getText;u.isXMLDoc=H.isXML;u.contains=H.contains;var lb=function(a,b,e){for(var f=[],g=void 0!==e;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(g&&u(a).is(e))break;f.push(a)}return f},nb=function(a,b){for(var e=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&e.push(a);return e},Ba=u.expr.match.needsContext,xa=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,U=/^.[^:#\[\.,]*$/;u.filter=function(a,b,e){var f=b[0];e&&(a=":not("+a+")");return 1===b.length&&1===f.nodeType?u.find.matchesSelector(f,
a)?[f]:[]:u.find.matches(a,u.grep(b,function(a){return 1===a.nodeType}))};u.fn.extend({find:function(a){var b,e=this.length,f=[],g=this;if("string"!==typeof a)return this.pushStack(u(a).filter(function(){for(b=0;b<e;b++)if(u.contains(g[b],this))return!0}));for(b=0;b<e;b++)u.find(a,g[b],f);f=this.pushStack(1<e?u.unique(f):f);f.selector=this.selector?this.selector+" "+a:a;return f},filter:function(a){return this.pushStack(e(this,a||[],!1))},not:function(a){return this.pushStack(e(this,a||[],!0))},is:function(a){return!!e(this,
"string"===typeof a&&Ba.test(a)?u(a):a||[],!1).length}});var Qa,ia=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(u.fn.init=function(a,b,e){var f;if(!a)return this;e=e||Qa;if("string"===typeof a){f="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:ia.exec(a);if(!f||!f[1]&&b)return!b||b.jquery?(b||e).find(a):this.constructor(b).find(a);if(f[1]){if(b=b instanceof u?b[0]:b,u.merge(this,u.parseHTML(f[1],b&&b.nodeType?b.ownerDocument||b:ha,!0)),xa.test(f[1])&&u.isPlainObject(b))for(f in b)if(u.isFunction(this[f]))this[f](b[f]);
else this.attr(f,b[f])}else(b=ha.getElementById(f[2]))&&b.parentNode&&(this.length=1,this[0]=b),this.context=ha,this.selector=a;return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(u.isFunction(a))return void 0!==e.ready?e.ready(a):a(u);void 0!==a.selector&&(this.selector=a.selector,this.context=a.context);return u.makeArray(a,this)}).prototype=u.fn;Qa=u(ha);var fa=/^(?:parents|prev(?:Until|All))/,ca={children:!0,contents:!0,next:!0,prev:!0};u.fn.extend({has:function(a){var b=
u(a,this),e=b.length;return this.filter(function(){for(var a=0;a<e;a++)if(u.contains(this,b[a]))return!0})},closest:function(a,b){for(var e,f=0,g=this.length,k=[],l=Ba.test(a)||"string"!==typeof a?u(a,b||this.context):0;f<g;f++)for(e=this[f];e&&e!==b;e=e.parentNode)if(11>e.nodeType&&(l?-1<l.index(e):1===e.nodeType&&u.find.matchesSelector(e,a))){k.push(e);break}return this.pushStack(1<k.length?u.uniqueSort(k):k)},index:function(a){return a?"string"===typeof a?cb.call(u(a),this[0]):cb.call(this,a.jquery?
a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(u.uniqueSort(u.merge(this.get(),u(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});u.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return lb(a,"parentNode")},parentsUntil:function(a,b,e){return lb(a,"parentNode",e)},next:function(a){return g(a,"nextSibling")},prev:function(a){return g(a,"previousSibling")},
nextAll:function(a){return lb(a,"nextSibling")},prevAll:function(a){return lb(a,"previousSibling")},nextUntil:function(a,b,e){return lb(a,"nextSibling",e)},prevUntil:function(a,b,e){return lb(a,"previousSibling",e)},siblings:function(a){return nb((a.parentNode||{}).firstChild,a)},children:function(a){return nb(a.firstChild)},contents:function(a){return a.contentDocument||u.merge([],a.childNodes)}},function(a,b){u.fn[a]=function(e,f){var g=u.map(this,b,e);"Until"!==a.slice(-5)&&(f=e);f&&"string"===
typeof f&&(g=u.filter(f,g));1<this.length&&(ca[a]||u.uniqueSort(g),fa.test(a)&&g.reverse());return this.pushStack(g)}});var wa=/\S+/g;u.Callbacks=function(a){a="string"===typeof a?f(a):u.extend({},a);var b,e,g,k,l=[],m=[],h=-1,n=function(){k=a.once;for(g=b=!0;m.length;h=-1)for(e=m.shift();++h<l.length;)!1===l[h].apply(e[0],e[1])&&a.stopOnFalse&&(h=l.length,e=!1);a.memory||(e=!1);b=!1;k&&(l=e?[]:"")},r={add:function(){l&&(e&&!b&&(h=l.length-1,m.push(e)),function mc(b){u.each(b,function(b,e){u.isFunction(e)?
a.unique&&r.has(e)||l.push(e):e&&e.length&&"string"!==u.type(e)&&mc(e)})}(arguments),e&&!b&&n());return this},remove:function(){u.each(arguments,function(a,b){for(var e;-1<(e=u.inArray(b,l,e));)l.splice(e,1),e<=h&&h--});return this},has:function(a){return a?-1<u.inArray(a,l):0<l.length},empty:function(){l&&(l=[]);return this},disable:function(){k=m=[];l=e="";return this},disabled:function(){return!l},lock:function(){k=m=[];e||(l=e="");return this},locked:function(){return!!k},fireWith:function(a,
e){k||(e=e||[],e=[a,e.slice?e.slice():e],m.push(e),b||n());return this},fire:function(){r.fireWith(this,arguments);return this},fired:function(){return!!g}};return r};u.extend({Deferred:function(a){var b=[["resolve","done",u.Callbacks("once memory"),"resolved"],["reject","fail",u.Callbacks("once memory"),"rejected"],["notify","progress",u.Callbacks("memory")]],e="pending",f={state:function(){return e},always:function(){g.done(arguments).fail(arguments);return this},then:function(){var a=arguments;
return u.Deferred(function(e){u.each(b,function(b,k){var l=u.isFunction(a[b])&&a[b];g[k[1]](function(){var a=l&&l.apply(this,arguments);if(a&&u.isFunction(a.promise))a.promise().progress(e.notify).done(e.resolve).fail(e.reject);else e[k[0]+"With"](this===f?e.promise():this,l?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?u.extend(a,f):f}},g={};f.pipe=f.then;u.each(b,function(a,k){var l=k[2],m=k[3];f[k[1]]=l.add;m&&l.add(function(){e=m},b[a^1][2].disable,b[2][2].lock);g[k[0]]=
function(){g[k[0]+"With"](this===g?f:this,arguments);return this};g[k[0]+"With"]=l.fireWith});f.promise(g);a&&a.call(g,g);return g},when:function(a){var b=0,e=Sa.call(arguments),f=e.length,g=1!==f||a&&u.isFunction(a.promise)?f:0,k=1===g?a:u.Deferred(),l=function(a,b,e){return function(f){b[a]=this;e[a]=1<arguments.length?Sa.call(arguments):f;e===m?k.notifyWith(b,e):--g||k.resolveWith(b,e)}},m,h,n;if(1<f)for(m=Array(f),h=Array(f),n=Array(f);b<f;b++)e[b]&&u.isFunction(e[b].promise)?e[b].promise().progress(l(b,
h,m)).done(l(b,n,e)).fail(k.reject):--g;g||k.resolveWith(n,e);return k.promise()}});var Q;u.fn.ready=function(a){u.ready.promise().done(a);return this};u.extend({isReady:!1,readyWait:1,holdReady:function(a){a?u.readyWait++:u.ready(!0)},ready:function(a){(!0===a?--u.readyWait:u.isReady)||(u.isReady=!0,!0!==a&&0<--u.readyWait||(Q.resolveWith(ha,[u]),u.fn.triggerHandler&&(u(ha).triggerHandler("ready"),u(ha).off("ready"))))}});u.ready.promise=function(b){Q||(Q=u.Deferred(),"complete"===ha.readyState||
"loading"!==ha.readyState&&!ha.documentElement.doScroll?a.setTimeout(u.ready):(ha.addEventListener("DOMContentLoaded",l),a.addEventListener("load",l)));return Q.promise(b)};u.ready.promise();var va=function(a,b,e,f,g,k,l){var m=0,h=a.length,n=null==e;if("object"===u.type(e))for(m in g=!0,e)va(a,b,m,e[m],!0,k,l);else if(void 0!==f&&(g=!0,u.isFunction(f)||(l=!0),n&&(l?(b.call(a,f),b=null):(n=b,b=function(a,b,e){return n.call(u(a),e)})),b))for(;m<h;m++)b(a[m],e,l?f:f.call(a[m],m,b(a[m],e)));return g?
a:n?b.call(a):h?b(a[0],e):k},ea=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};k.uid=1;k.prototype={register:function(a,b){var e=b||{};a.nodeType?a[this.expando]=e:Object.defineProperty(a,this.expando,{value:e,writable:!0,configurable:!0});return a[this.expando]},cache:function(a){if(!ea(a))return{};var b=a[this.expando];b||(b={},ea(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0})));return b},set:function(a,b,e){var f;a=this.cache(a);
if("string"===typeof b)a[b]=e;else for(f in b)a[f]=b[f];return a},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,e){if(void 0===b||b&&"string"===typeof b&&void 0===e)return e=this.get(a,b),void 0!==e?e:this.get(a,u.camelCase(b));this.set(a,b,e);return void 0!==e?e:b},remove:function(a,b){var e,f,g=a[this.expando];if(void 0!==g){if(void 0===b)this.register(a);else for(u.isArray(b)?f=b.concat(b.map(u.camelCase)):(e=u.camelCase(b),b in g?f=
[b,e]:(f=e,f=f in g?[f]:f.match(wa)||[])),e=f.length;e--;)delete g[f[e]];if(void 0===b||u.isEmptyObject(g))a.nodeType?a[this.expando]=void 0:delete a[this.expando]}},hasData:function(a){a=a[this.expando];return void 0!==a&&!u.isEmptyObject(a)}};var aa=new k,qa=new k,$a=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ua=/[A-Z]/g;u.extend({hasData:function(a){return qa.hasData(a)||aa.hasData(a)},data:function(a,b,e){return qa.access(a,b,e)},removeData:function(a,b){qa.remove(a,b)},_data:function(a,b,e){return aa.access(a,
b,e)},_removeData:function(a,b){aa.remove(a,b)}});u.fn.extend({data:function(a,b){var e,f,g,k=this[0],l=k&&k.attributes;if(void 0===a){if(this.length&&(g=qa.get(k),1===k.nodeType&&!aa.get(k,"hasDataAttrs"))){for(e=l.length;e--;)l[e]&&(f=l[e].name,0===f.indexOf("data-")&&(f=u.camelCase(f.slice(5)),n(k,f,g[f])));aa.set(k,"hasDataAttrs",!0)}return g}return"object"===typeof a?this.each(function(){qa.set(this,a)}):va(this,function(b){var e,f;if(k&&void 0===b){e=qa.get(k,a)||qa.get(k,a.replace(Ua,"-$&").toLowerCase());
if(void 0!==e)return e;f=u.camelCase(a);e=qa.get(k,f);if(void 0!==e)return e;e=n(k,f,void 0);if(void 0!==e)return e}else f=u.camelCase(a),this.each(function(){var e=qa.get(this,f);qa.set(this,f,b);-1<a.indexOf("-")&&void 0!==e&&qa.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){qa.remove(this,a)})}});u.extend({queue:function(a,b,e){var f;if(a)return b=(b||"fx")+"queue",f=aa.get(a,b),e&&(!f||u.isArray(e)?f=aa.access(a,b,u.makeArray(e)):f.push(e)),
f||[]},dequeue:function(a,b){b=b||"fx";var e=u.queue(a,b),f=e.length,g=e.shift(),k=u._queueHooks(a,b),l=function(){u.dequeue(a,b)};"inprogress"===g&&(g=e.shift(),f--);g&&("fx"===b&&e.unshift("inprogress"),delete k.stop,g.call(a,l,k));!f&&k&&k.empty.fire()},_queueHooks:function(a,b){var e=b+"queueHooks";return aa.get(a,e)||aa.access(a,e,{empty:u.Callbacks("once memory").add(function(){aa.remove(a,[b+"queue",e])})})}});u.fn.extend({queue:function(a,b){var e=2;"string"!==typeof a&&(b=a,a="fx",e--);return arguments.length<
e?u.queue(this[0],a):void 0===b?this:this.each(function(){var e=u.queue(this,a,b);u._queueHooks(this,a);"fx"===a&&"inprogress"!==e[0]&&u.dequeue(this,a)})},dequeue:function(a){return this.each(function(){u.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var e,f=1,g=u.Deferred(),k=this,l=this.length,m=function(){--f||g.resolveWith(k,[k])};"string"!==typeof a&&(b=a,a=void 0);for(a=a||"fx";l--;)(e=aa.get(k[l],a+"queueHooks"))&&e.empty&&(f++,e.empty.add(m));
m();return g.promise(b)}});var ja=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pa=new RegExp("^(?:([+-])=|)("+ja+")([a-z%]*)$","i"),ua=["Top","Right","Bottom","Left"],Ra=function(a,b){a=b||a;return"none"===u.css(a,"display")||!u.contains(a.ownerDocument,a)},Xa=/^(?:checkbox|radio)$/i,kb=/<([\w:-]+)/,Ha=/^$|\/(?:java|ecma)script/i,ma={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ma.optgroup=ma.option;ma.tbody=ma.tfoot=ma.colgroup=ma.caption=ma.thead;ma.th=ma.td;var tb=/<|&#?\w+;/;(function(){var a=ha.createDocumentFragment().appendChild(ha.createElement("div")),b=ha.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");a.appendChild(b);ba.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";ba.noCloneChecked=
!!a.cloneNode(!0).lastChild.defaultValue})();var Db=/^key/,Aa=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,sa=/^([^.]*)(?:\.(.+)|)/;u.event={global:{},add:function(a,b,e,f,g){var k,l,m,h,n,r,p,q,w;if(n=aa.get(a))for(e.handler&&(k=e,e=k.handler,g=k.selector),e.guid||(e.guid=u.guid++),(h=n.events)||(h=n.events={}),(l=n.handle)||(l=n.handle=function(b){return"undefined"!==typeof u&&u.event.triggered!==b.type?u.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(wa)||[""],n=b.length;n--;)m=
sa.exec(b[n])||[],q=r=m[1],w=(m[2]||"").split(".").sort(),q&&(m=u.event.special[q]||{},q=(g?m.delegateType:m.bindType)||q,m=u.event.special[q]||{},r=u.extend({type:q,origType:r,data:f,handler:e,guid:e.guid,selector:g,needsContext:g&&u.expr.match.needsContext.test(g),namespace:w.join(".")},k),(p=h[q])||(p=h[q]=[],p.delegateCount=0,m.setup&&!1!==m.setup.call(a,f,w,l)||a.addEventListener&&a.addEventListener(q,l)),m.add&&(m.add.call(a,r),r.handler.guid||(r.handler.guid=e.guid)),g?p.splice(p.delegateCount++,
0,r):p.push(r),u.event.global[q]=!0)},remove:function(a,b,e,f,g){var k,l,m,h,n,r,p,q,w,A,v,y=aa.hasData(a)&&aa.get(a);if(y&&(h=y.events)){b=(b||"").match(wa)||[""];for(n=b.length;n--;)if(m=sa.exec(b[n])||[],w=v=m[1],A=(m[2]||"").split(".").sort(),w){p=u.event.special[w]||{};w=(f?p.delegateType:p.bindType)||w;q=h[w]||[];m=m[2]&&new RegExp("(^|\\.)"+A.join("\\.(?:.*\\.|)")+"(\\.|$)");for(l=k=q.length;k--;)r=q[k],!g&&v!==r.origType||e&&e.guid!==r.guid||m&&!m.test(r.namespace)||f&&f!==r.selector&&("**"!==
f||!r.selector)||(q.splice(k,1),r.selector&&q.delegateCount--,p.remove&&p.remove.call(a,r));l&&!q.length&&(p.teardown&&!1!==p.teardown.call(a,A,y.handle)||u.removeEvent(a,w,y.handle),delete h[w])}else for(w in h)u.event.remove(a,w+b[n],e,f,!0);u.isEmptyObject(h)&&aa.remove(a,"handle events")}},dispatch:function(a){a=u.event.fix(a);var b,e,f,g,k=[],l=Sa.call(arguments);b=(aa.get(this,"events")||{})[a.type]||[];var m=u.event.special[a.type]||{};l[0]=a;a.delegateTarget=this;if(!m.preDispatch||!1!==m.preDispatch.call(this,
a)){k=u.event.handlers.call(this,a,b);for(b=0;(g=k[b++])&&!a.isPropagationStopped();)for(a.currentTarget=g.elem,e=0;(f=g.handlers[e++])&&!a.isImmediatePropagationStopped();)if(!a.rnamespace||a.rnamespace.test(f.namespace))a.handleObj=f,a.data=f.data,f=((u.event.special[f.origType]||{}).handle||f.handler).apply(g.elem,l),void 0!==f&&!1===(a.result=f)&&(a.preventDefault(),a.stopPropagation());m.postDispatch&&m.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var e,f,g,k,l=[],m=b.delegateCount,
h=a.target;if(m&&h.nodeType&&("click"!==a.type||isNaN(a.button)||1>a.button))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&(!0!==h.disabled||"click"!==a.type)){f=[];for(e=0;e<m;e++)k=b[e],g=k.selector+" ",void 0===f[g]&&(f[g]=k.needsContext?-1<u(g,this).index(h):u.find(g,this,null,[h]).length),f[g]&&f.push(k);f.length&&l.push({elem:h,handlers:f})}m<b.length&&l.push({elem:this,handlers:b.slice(m)});return l},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var e,f,g=b.button;null==a.pageX&&null!=b.clientX&&(e=a.target.ownerDocument||ha,f=e.documentElement,e=e.body,a.pageX=b.clientX+(f&&f.scrollLeft||e&&e.scrollLeft||0)-(f&&f.clientLeft||e&&e.clientLeft||0),a.pageY=
b.clientY+(f&&f.scrollTop||e&&e.scrollTop||0)-(f&&f.clientTop||e&&e.clientTop||0));a.which||void 0===g||(a.which=g&1?1:g&2?3:g&4?2:0);return a}},fix:function(a){if(a[u.expando])return a;var b,e,f;b=a.type;var g=a,k=this.fixHooks[b];k||(this.fixHooks[b]=k=Aa.test(b)?this.mouseHooks:Db.test(b)?this.keyHooks:{});f=k.props?this.props.concat(k.props):this.props;a=new u.Event(g);for(b=f.length;b--;)e=f[b],a[e]=g[e];a.target||(a.target=ha);3===a.target.nodeType&&(a.target=a.target.parentNode);return k.filter?
k.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==x()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===x()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&u.nodeName(this,"input"))return this.click(),!1},_default:function(a){return u.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=
a.result)}}}};u.removeEvent=function(a,b,e){a.removeEventListener&&a.removeEventListener(b,e)};u.Event=function(a,b){if(!(this instanceof u.Event))return new u.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?t:v):this.type=a;b&&u.extend(this,b);this.timeStamp=a&&a.timeStamp||u.now();this[u.expando]=!0};u.Event.prototype={constructor:u.Event,isDefaultPrevented:v,isPropagationStopped:v,isImmediatePropagationStopped:v,
isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=t;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=t;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=t;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};u.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",
pointerleave:"pointerout"},function(a,b){u.event.special[a]={delegateType:b,bindType:b,handle:function(a){var e,f=a.relatedTarget,g=a.handleObj;if(!f||f!==this&&!u.contains(this,f))a.type=g.origType,e=g.handler.apply(this,arguments),a.type=b;return e}}});u.fn.extend({on:function(a,b,e,f){return y(this,a,b,e,f)},one:function(a,b,e,f){return y(this,a,b,e,f,1)},off:function(a,b,e){var f;if(a&&a.preventDefault&&a.handleObj)return f=a.handleObj,u(a.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:
f.origType,f.selector,f.handler),this;if("object"===typeof a){for(f in a)this.off(f,b,a[f]);return this}if(!1===b||"function"===typeof b)e=b,b=void 0;!1===e&&(e=v);return this.each(function(){u.event.remove(this,a,e,b)})}});var zb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Va=/<script|<style|<link/i,Ma=/checked\s*(?:[^=]|=\s*.checked.)/i,Ca=/^true\/(.*)/,mb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;u.extend({htmlPrefilter:function(a){return a.replace(zb,"<$1></$2>")},
clone:function(a,b,e){var f,g,k,l,m=a.cloneNode(!0),h=u.contains(a.ownerDocument,a);if(!(ba.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||u.isXMLDoc(a)))for(l=p(m),k=p(a),f=0,g=k.length;f<g;f++){var n=k[f],r=l[f],A=r.nodeName.toLowerCase();if("input"===A&&Xa.test(n.type))r.checked=n.checked;else if("input"===A||"textarea"===A)r.defaultValue=n.defaultValue}if(b)if(e)for(k=k||p(a),l=l||p(m),f=0,g=k.length;f<g;f++)w(k[f],l[f]);else w(a,m);l=p(m,"script");0<l.length&&q(l,!h&&p(a,"script"));return m},
cleanData:function(a){for(var b,e,f,g=u.event.special,k=0;void 0!==(e=a[k]);k++)if(ea(e)){if(b=e[aa.expando]){if(b.events)for(f in b.events)g[f]?u.event.remove(e,f):u.removeEvent(e,f,b.handle);e[aa.expando]=void 0}e[qa.expando]&&(e[qa.expando]=void 0)}}});u.fn.extend({domManip:A,detach:function(a){return D(this,a,!0)},remove:function(a){return D(this,a)},text:function(a){return va(this,function(a){return void 0===a?u.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||
9===this.nodeType)this.textContent=a})},null,a,arguments.length)},append:function(){return A(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||z(this,a).appendChild(a)})},prepend:function(){return A(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=z(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return A(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return A(this,
arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(u.cleanData(p(a,!1)),a.textContent="");return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return u.clone(this,a,b)})},html:function(a){return va(this,function(a){var b=this[0]||{},e=0,f=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"===typeof a&&!Va.test(a)&&!ma[(kb.exec(a)||["",
""])[1].toLowerCase()]){a=u.htmlPrefilter(a);try{for(;e<f;e++)b=this[e]||{},1===b.nodeType&&(u.cleanData(p(b,!1)),b.innerHTML=a);b=0}catch(g){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return A(this,arguments,function(b){var e=this.parentNode;0>u.inArray(this,a)&&(u.cleanData(p(this)),e&&e.replaceChild(b,this))},a)}});u.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){u.fn[a]=function(a){for(var e=
[],f=u(a),g=f.length-1,k=0;k<=g;k++)a=k===g?this:this.clone(!0),u(f[k])[b](a),ya.apply(e,a.get());return this.pushStack(e)}});var La,vb={HTML:"block",BODY:"block"},ab=/^margin/,Wa=new RegExp("^("+ja+")(?!px)[a-z%]+$","i"),Ia=function(b){var e=b.ownerDocument.defaultView;e&&e.opener||(e=a);return e.getComputedStyle(b)},Ya=function(a,b,e,f){var g,k={};for(g in b)k[g]=a.style[g],a.style[g]=b[g];e=e.apply(a,f||[]);for(g in b)a.style[g]=k[g];return e},Ga=ha.documentElement;(function(){function b(){m.style.cssText=
"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";m.innerHTML="";Ga.appendChild(l);var h=a.getComputedStyle(m);e="1%"!==h.top;k="2px"===h.marginLeft;f="4px"===h.width;m.style.marginRight="50%";g="4px"===h.marginRight;Ga.removeChild(l)}var e,f,g,k,l=ha.createElement("div"),m=ha.createElement("div");m.style&&(m.style.backgroundClip="content-box",m.cloneNode(!0).style.backgroundClip="",
ba.clearCloneStyle="content-box"===m.style.backgroundClip,l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.appendChild(m),u.extend(ba,{pixelPosition:function(){b();return e},boxSizingReliable:function(){null==f&&b();return f},pixelMarginRight:function(){null==f&&b();return g},reliableMarginLeft:function(){null==f&&b();return k},reliableMarginRight:function(){var b,e=m.appendChild(ha.createElement("div"));e.style.cssText=m.style.cssText=
"-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";e.style.marginRight=e.style.width="0";m.style.width="1px";Ga.appendChild(l);b=!parseFloat(a.getComputedStyle(e).marginRight);Ga.removeChild(l);m.removeChild(e);return b}}))})();var ub=/^(none|table(?!-c[ea]).+)/,rc={position:"absolute",visibility:"hidden",display:"block"},C={letterSpacing:"0",fontWeight:"400"},Da=["Webkit","O","Moz","ms"],sc=ha.createElement("div").style;u.extend({cssHooks:{opacity:{get:function(a,
b){if(b){var e=G(a,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,e,f){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,k,l,h=u.camelCase(b),n=a.style;b=u.cssProps[h]||(u.cssProps[h]=J(h)||h);l=u.cssHooks[b]||u.cssHooks[h];if(void 0!==e)k=typeof e,"string"===k&&(g=Pa.exec(e))&&g[1]&&
(e=m(a,b,g),k="number"),null!=e&&e===e&&("number"===k&&(e+=g&&g[3]||(u.cssNumber[h]?"":"px")),ba.clearCloneStyle||""!==e||0!==b.indexOf("background")||(n[b]="inherit"),l&&"set"in l&&void 0===(e=l.set(a,e,f))||(n[b]=e));else return l&&"get"in l&&void 0!==(g=l.get(a,!1,f))?g:n[b]}},css:function(a,b,e,f){var g,k;k=u.camelCase(b);b=u.cssProps[k]||(u.cssProps[k]=J(k)||k);(k=u.cssHooks[b]||u.cssHooks[k])&&"get"in k&&(g=k.get(a,!0,e));void 0===g&&(g=G(a,b,f));"normal"===g&&b in C&&(g=C[b]);return""===e||
e?(a=parseFloat(g),!0===e||isFinite(a)?a||0:g):g}});u.each(["height","width"],function(a,b){u.cssHooks[b]={get:function(a,e,f){if(e)return ub.test(u.css(a,"display"))&&0===a.offsetWidth?Ya(a,rc,function(){return R(a,b,f)}):R(a,b,f)},set:function(a,e,f){var g,k=f&&Ia(a);(f=f&&L(a,b,f,"border-box"===u.css(a,"boxSizing",!1,k),k))&&(g=Pa.exec(e))&&"px"!==(g[3]||"px")&&(a.style[b]=e,e=u.css(a,b));return N(a,e,f)}}});u.cssHooks.marginLeft=M(ba.reliableMarginLeft,function(a,b){if(b)return(parseFloat(G(a,
"marginLeft"))||a.getBoundingClientRect().left-Ya(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"});u.cssHooks.marginRight=M(ba.reliableMarginRight,function(a,b){if(b)return Ya(a,{display:"inline-block"},G,[a,"marginRight"])});u.each({margin:"",padding:"",border:"Width"},function(a,b){u.cssHooks[a+b]={expand:function(e){var f=0,g={};for(e="string"===typeof e?e.split(" "):[e];4>f;f++)g[a+ua[f]+b]=e[f]||e[f-2]||e[0];return g}};ab.test(a)||(u.cssHooks[a+b].set=N)});u.fn.extend({css:function(a,
b){return va(this,function(a,b,e){var f,g={},k=0;if(u.isArray(b)){e=Ia(a);for(f=b.length;k<f;k++)g[b[k]]=u.css(a,b[k],!1,e);return g}return void 0!==e?u.style(a,b,e):u.css(a,b)},a,b,1<arguments.length)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){Ra(this)?u(this).show():u(this).hide()})}});u.Tween=X;X.prototype={constructor:X,init:function(a,b,e,f,g,k){this.elem=a;this.prop=e;this.easing=
g||u.easing._default;this.options=b;this.start=this.now=this.cur();this.end=f;this.unit=k||(u.cssNumber[e]?"":"px")},cur:function(){var a=X.propHooks[this.prop];return a&&a.get?a.get(this):X.propHooks._default.get(this)},run:function(a){var b,e=X.propHooks[this.prop];this.pos=this.options.duration?b=u.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);e&&e.set?e.set(this):
X.propHooks._default.set(this);return this}};X.prototype.init.prototype=X.prototype;X.propHooks={_default:{get:function(a){return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(a=u.css(a.elem,a.prop,""))&&"auto"!==a?a:0},set:function(a){if(u.fx.step[a.prop])u.fx.step[a.prop](a);else 1!==a.elem.nodeType||null==a.elem.style[u.cssProps[a.prop]]&&!u.cssHooks[a.prop]?a.elem[a.prop]=a.now:u.style(a.elem,a.prop,a.now+a.unit)}}};X.propHooks.scrollTop=X.propHooks.scrollLeft=
{set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};u.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};u.fx=X.prototype.init;u.fx.step={};var na,tc,Ye=/^(?:toggle|show|hide)$/,Ze=/queueHooks$/;u.Animation=u.extend(ga,{tweeners:{"*":[function(a,b){var e=this.createTween(a,b);m(e.elem,a,Pa.exec(b),e);return e}]},tweener:function(a,b){u.isFunction(a)?(b=a,a=["*"]):a=a.match(wa);for(var e,f=0,g=a.length;f<g;f++)e=a[f],ga.tweeners[e]=
ga.tweeners[e]||[],ga.tweeners[e].unshift(b)},prefilters:[function(a,b,e){var f,g,k,l,m,h,n=this,r={},p=a.style,q=a.nodeType&&Ra(a),w=aa.get(a,"fxshow");e.queue||(l=u._queueHooks(a,"fx"),null==l.unqueued&&(l.unqueued=0,m=l.empty.fire,l.empty.fire=function(){l.unqueued||m()}),l.unqueued++,n.always(function(){n.always(function(){l.unqueued--;u.queue(a,"fx").length||l.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(e.overflow=[p.overflow,p.overflowX,p.overflowY],h=u.css(a,"display"),
g="none"===h?aa.get(a,"olddisplay")||K(a.nodeName):h,"inline"===g&&"none"===u.css(a,"float")&&(p.display="inline-block"));e.overflow&&(p.overflow="hidden",n.always(function(){p.overflow=e.overflow[0];p.overflowX=e.overflow[1];p.overflowY=e.overflow[2]}));for(f in b)if(g=b[f],Ye.exec(g)){delete b[f];k=k||"toggle"===g;if(g===(q?"hide":"show"))if("show"===g&&w&&void 0!==w[f])q=!0;else continue;r[f]=w&&w[f]||u.style(a,f)}else h=void 0;if(u.isEmptyObject(r))"inline"===("none"===h?K(a.nodeName):h)&&(p.display=
h);else for(f in w?"hidden"in w&&(q=w.hidden):w=aa.access(a,"fxshow",{}),k&&(w.hidden=!q),q?u(a).show():n.done(function(){u(a).hide()}),n.done(function(){var b;aa.remove(a,"fxshow");for(b in r)u.style(a,b,r[b])}),r)b=O(q?w[f]:0,f,n),f in w||(w[f]=b.start,q&&(b.end=b.start,b.start="width"===f||"height"===f?1:0))}],prefilter:function(a,b){b?ga.prefilters.unshift(a):ga.prefilters.push(a)}});u.speed=function(a,b,e){var f=a&&"object"===typeof a?u.extend({},a):{complete:e||!e&&b||u.isFunction(a)&&a,duration:a,
easing:e&&b||b&&!u.isFunction(b)&&b};f.duration=u.fx.off?0:"number"===typeof f.duration?f.duration:f.duration in u.fx.speeds?u.fx.speeds[f.duration]:u.fx.speeds._default;if(null==f.queue||!0===f.queue)f.queue="fx";f.old=f.complete;f.complete=function(){u.isFunction(f.old)&&f.old.call(this);f.queue&&u.dequeue(this,f.queue)};return f};u.fn.extend({fadeTo:function(a,b,e,f){return this.filter(Ra).css("opacity",0).show().end().animate({opacity:b},a,e,f)},animate:function(a,b,e,f){var g=u.isEmptyObject(a),
k=u.speed(b,e,f);b=function(){var b=ga(this,u.extend({},a),k);(g||aa.get(this,"finish"))&&b.stop(!0)};b.finish=b;return g||!1===k.queue?this.each(b):this.queue(k.queue,b)},stop:function(a,b,e){var f=function(a){var b=a.stop;delete a.stop;b(e)};"string"!==typeof a&&(e=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,g=null!=a&&a+"queueHooks",k=u.timers,l=aa.get(this);if(g)l[g]&&l[g].stop&&f(l[g]);else for(g in l)l[g]&&l[g].stop&&Ze.test(g)&&f(l[g]);for(g=k.length;g--;)k[g].elem!==
this||null!=a&&k[g].queue!==a||(k[g].anim.stop(e),b=!1,k.splice(g,1));!b&&e||u.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,e=aa.get(this),f=e[a+"queue"];b=e[a+"queueHooks"];var g=u.timers,k=f?f.length:0;e.finish=!0;u.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=g.length;b--;)g[b].elem===this&&g[b].queue===a&&(g[b].anim.stop(!0),g.splice(b,1));for(b=0;b<k;b++)f[b]&&f[b].finish&&f[b].finish.call(this);delete e.finish})}});u.each(["toggle","show",
"hide"],function(a,b){var e=u.fn[b];u.fn[b]=function(a,f,g){return null==a||"boolean"===typeof a?e.apply(this,arguments):this.animate(da(b,!0),a,f,g)}});u.each({slideDown:da("show"),slideUp:da("hide"),slideToggle:da("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){u.fn[a]=function(a,e,f){return this.animate(b,a,e,f)}});u.timers=[];u.fx.tick=function(){var a,b=0,e=u.timers;for(na=u.now();b<e.length;b++)a=e[b],a()||e[b]!==a||e.splice(b--,1);e.length||
u.fx.stop();na=void 0};u.fx.timer=function(a){u.timers.push(a);a()?u.fx.start():u.timers.pop()};u.fx.interval=13;u.fx.start=function(){tc||(tc=a.setInterval(u.fx.tick,u.fx.interval))};u.fx.stop=function(){a.clearInterval(tc);tc=null};u.fx.speeds={slow:600,fast:200,_default:400};u.fn.delay=function(b,e){b=u.fx?u.fx.speeds[b]||b:b;return this.queue(e||"fx",function(e,f){var g=a.setTimeout(e,b);f.stop=function(){a.clearTimeout(g)}})};(function(){var a=ha.createElement("input"),b=ha.createElement("select"),
e=b.appendChild(ha.createElement("option"));a.type="checkbox";ba.checkOn=""!==a.value;ba.optSelected=e.selected;b.disabled=!0;ba.optDisabled=!e.disabled;a=ha.createElement("input");a.value="t";a.type="radio";ba.radioValue="t"===a.value})();var wd,ec=u.expr.attrHandle;u.fn.extend({attr:function(a,b){return va(this,u.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){u.removeAttr(this,a)})}});u.extend({attr:function(a,b,e){var f,g,k=a.nodeType;if(3!==k&&8!==k&&2!==k){if("undefined"===
typeof a.getAttribute)return u.prop(a,b,e);1===k&&u.isXMLDoc(a)||(b=b.toLowerCase(),g=u.attrHooks[b]||(u.expr.match.bool.test(b)?wd:void 0));if(void 0!==e){if(null===e){u.removeAttr(a,b);return}if(g&&"set"in g&&void 0!==(f=g.set(a,e,b)))return f;a.setAttribute(b,e+"");return e}if(g&&"get"in g&&null!==(f=g.get(a,b)))return f;f=u.find.attr(a,b);return null==f?void 0:f}},attrHooks:{type:{set:function(a,b){if(!ba.radioValue&&"radio"===b&&u.nodeName(a,"input")){var e=a.value;a.setAttribute("type",b);e&&
(a.value=e);return b}}}},removeAttr:function(a,b){var e,f,g=0,k=b&&b.match(wa);if(k&&1===a.nodeType)for(;e=k[g++];)f=u.propFix[e]||e,u.expr.match.bool.test(e)&&(a[f]=!1),a.removeAttribute(e)}});wd={set:function(a,b,e){!1===b?u.removeAttr(a,e):a.setAttribute(e,e);return e}};u.each(u.expr.match.bool.source.match(/\w+/g),function(a,b){var e=ec[b]||u.find.attr;ec[b]=function(a,b,f){var g,k;f||(k=ec[b],ec[b]=g,g=null!=e(a,b,f)?b.toLowerCase():null,ec[b]=k);return g}});var $e=/^(?:input|select|textarea|button)$/i,
af=/^(?:a|area)$/i;u.fn.extend({prop:function(a,b){return va(this,u.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[u.propFix[a]||a]})}});u.extend({prop:function(a,b,e){var f,g,k=a.nodeType;if(3!==k&&8!==k&&2!==k)return 1===k&&u.isXMLDoc(a)||(b=u.propFix[b]||b,g=u.propHooks[b]),void 0!==e?g&&"set"in g&&void 0!==(f=g.set(a,e,b))?f:a[b]=e:g&&"get"in g&&null!==(f=g.get(a,b))?f:a[b]},propHooks:{tabIndex:{get:function(a){var b=u.find.attr(a,"tabindex");return b?
parseInt(b,10):$e.test(a.nodeName)||af.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});ba.optSelected||(u.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null},set:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex}});u.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){u.propFix[this.toLowerCase()]=
this});var Rc=/[\t\r\n\f]/g;u.fn.extend({addClass:function(a){var b,e,f,g,k,l,m=0;if(u.isFunction(a))return this.each(function(b){u(this).addClass(a.call(this,b,V(this)))});if("string"===typeof a&&a)for(b=a.match(wa)||[];e=this[m++];)if(g=V(e),f=1===e.nodeType&&(" "+g+" ").replace(Rc," ")){for(l=0;k=b[l++];)0>f.indexOf(" "+k+" ")&&(f+=k+" ");f=u.trim(f);g!==f&&e.setAttribute("class",f)}return this},removeClass:function(a){var b,e,f,g,k,l,m=0;if(u.isFunction(a))return this.each(function(b){u(this).removeClass(a.call(this,
b,V(this)))});if(!arguments.length)return this.attr("class","");if("string"===typeof a&&a)for(b=a.match(wa)||[];e=this[m++];)if(g=V(e),f=1===e.nodeType&&(" "+g+" ").replace(Rc," ")){for(l=0;k=b[l++];)for(;-1<f.indexOf(" "+k+" ");)f=f.replace(" "+k+" "," ");f=u.trim(f);g!==f&&e.setAttribute("class",f)}return this},toggleClass:function(a,b){var e=typeof a;return"boolean"===typeof b&&"string"===e?b?this.addClass(a):this.removeClass(a):u.isFunction(a)?this.each(function(e){u(this).toggleClass(a.call(this,
e,V(this),b),b)}):this.each(function(){var b,f,g,k;if("string"===e)for(f=0,g=u(this),k=a.match(wa)||[];b=k[f++];)g.hasClass(b)?g.removeClass(b):g.addClass(b);else if(void 0===a||"boolean"===e)(b=V(this))&&aa.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":aa.get(this,"__className__")||"")})},hasClass:function(a){var b,e=0;for(a=" "+a+" ";b=this[e++];)if(1===b.nodeType&&-1<(" "+V(b)+" ").replace(Rc," ").indexOf(a))return!0;return!1}});var bf=/\r/g,xc=/[\x20\t\r\n\f]+/g;
u.fn.extend({val:function(a){var b,e,f,g=this[0];if(arguments.length)return f=u.isFunction(a),this.each(function(e){1===this.nodeType&&(e=f?a.call(this,e,u(this).val()):a,null==e?e="":"number"===typeof e?e+="":u.isArray(e)&&(e=u.map(e,function(a){return null==a?"":a+""})),b=u.valHooks[this.type]||u.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(g){if((b=u.valHooks[g.type]||u.valHooks[g.nodeName.toLowerCase()])&&"get"in b&&void 0!==(e=b.get(g,
"value")))return e;e=g.value;return"string"===typeof e?e.replace(bf,""):null==e?"":e}}});u.extend({valHooks:{option:{get:function(a){var b=u.find.attr(a,"value");return null!=b?b:u.trim(u.text(a)).replace(xc," ")}},select:{get:function(a){for(var b,e=a.options,f=a.selectedIndex,g=(a="select-one"===a.type||0>f)?null:[],k=a?f+1:e.length,l=0>f?k:a?f:0;l<k;l++)if(b=e[l],!(!b.selected&&l!==f||(ba.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&u.nodeName(b.parentNode,
"optgroup"))){b=u(b).val();if(a)return b;g.push(b)}return g},set:function(a,b){for(var e,f,g=a.options,k=u.makeArray(b),l=g.length;l--;)if(f=g[l],f.selected=-1<u.inArray(u.valHooks.option.get(f),k))e=!0;e||(a.selectedIndex=-1);return k}}}});u.each(["radio","checkbox"],function(){u.valHooks[this]={set:function(a,b){if(u.isArray(b))return a.checked=-1<u.inArray(u(a).val(),b)}};ba.checkOn||(u.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var fc=/^(?:focusinfocus|focusoutblur)$/;
u.extend(u.event,{trigger:function(b,e,f,g){var k,l,m,h,n,r,p=[f||ha],q=ib.call(b,"type")?b.type:b;r=ib.call(b,"namespace")?b.namespace.split("."):[];l=k=f=f||ha;if(3!==f.nodeType&&8!==f.nodeType&&!fc.test(q+u.event.triggered)&&(-1<q.indexOf(".")&&(r=q.split("."),q=r.shift(),r.sort()),h=0>q.indexOf(":")&&"on"+q,b=b[u.expando]?b:new u.Event(q,"object"===typeof b&&b),b.isTrigger=g?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=
void 0,b.target||(b.target=f),e=null==e?[b]:u.makeArray(e,[b]),r=u.event.special[q]||{},g||!r.trigger||!1!==r.trigger.apply(f,e))){if(!g&&!r.noBubble&&!u.isWindow(f)){m=r.delegateType||q;fc.test(m+q)||(l=l.parentNode);for(;l;l=l.parentNode)p.push(l),k=l;k===(f.ownerDocument||ha)&&p.push(k.defaultView||k.parentWindow||a)}for(k=0;(l=p[k++])&&!b.isPropagationStopped();)b.type=1<k?m:r.bindType||q,(n=(aa.get(l,"events")||{})[b.type]&&aa.get(l,"handle"))&&n.apply(l,e),(n=h&&l[h])&&n.apply&&ea(l)&&(b.result=
n.apply(l,e),!1===b.result&&b.preventDefault());b.type=q;g||b.isDefaultPrevented()||r._default&&!1!==r._default.apply(p.pop(),e)||!ea(f)||!h||!u.isFunction(f[q])||u.isWindow(f)||((k=f[h])&&(f[h]=null),u.event.triggered=q,f[q](),u.event.triggered=void 0,k&&(f[h]=k));return b.result}},simulate:function(a,b,e){a=u.extend(new u.Event,e,{type:a,isSimulated:!0});u.event.trigger(a,null,b)}});u.fn.extend({trigger:function(a,b){return this.each(function(){u.event.trigger(a,b,this)})},triggerHandler:function(a,
b){var e=this[0];if(e)return u.event.trigger(a,b,e,!0)}});u.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){u.fn[b]=function(a,e){return 0<arguments.length?this.on(b,null,a,e):this.trigger(b)}});u.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});ba.focusin="onfocusin"in a;ba.focusin||u.each({focus:"focusin",
blur:"focusout"},function(a,b){var e=function(a){u.event.simulate(b,a.target,u.event.fix(a))};u.event.special[b]={setup:function(){var f=this.ownerDocument||this,g=aa.access(f,b);g||f.addEventListener(a,e,!0);aa.access(f,b,(g||0)+1)},teardown:function(){var f=this.ownerDocument||this,g=aa.access(f,b)-1;g?aa.access(f,b,g):(f.removeEventListener(a,e,!0),aa.remove(f,b))}}});var Ib=a.location,Ob=u.now(),Fb=/\?/;u.parseJSON=function(a){return JSON.parse(a+"")};u.parseXML=function(b){var e;if(!b||"string"!==
typeof b)return null;try{e=(new a.DOMParser).parseFromString(b,"text/xml")}catch(f){e=void 0}e&&!e.getElementsByTagName("parsererror").length||u.error("Invalid XML: "+b);return e};var yc=/#.*$/,gc=/([?&])_=[^&]*/,Xb=/^(.*?):[ \t]*([^\r\n]*)$/mg,Gb=/^(?:GET|HEAD)$/,Bc=/^\/\//,Kb={},hc={},Dc="*/".concat("*"),Zb=ha.createElement("a");Zb.href=Ib.href;u.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ib.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ib.protocol),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":u.parseJSON,"text xml":u.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?
oa(oa(a,u.ajaxSettings),b):oa(u.ajaxSettings,a)},ajaxPrefilter:ka(Kb),ajaxTransport:ka(hc),ajax:function(b,e){function f(b,e,m,n){var p,z,F,x;x=e;if(2!==D){D=2;h&&a.clearTimeout(h);g=void 0;l=n||"";E.readyState=0<b?4:0;n=200<=b&&300>b||304===b;if(m){F=q;for(var B=E,K,C,G,la,M=F.contents,ma=F.dataTypes;"*"===ma[0];)ma.shift(),void 0===K&&(K=F.mimeType||B.getResponseHeader("Content-Type"));if(K)for(C in M)if(M[C]&&M[C].test(K)){ma.unshift(C);break}if(ma[0]in m)G=ma[0];else{for(C in m){if(!ma[0]||F.converters[C+
" "+ma[0]]){G=C;break}la||(la=C)}G=G||la}G?(G!==ma[0]&&ma.unshift(G),F=m[G]):F=void 0}a:{m=q;K=F;C=E;G=n;var Ma,H,J,B={},M=m.dataTypes.slice();if(M[1])for(H in m.converters)B[H.toLowerCase()]=m.converters[H];for(la=M.shift();la;)if(m.responseFields[la]&&(C[m.responseFields[la]]=K),!J&&G&&m.dataFilter&&(K=m.dataFilter(K,m.dataType)),J=la,la=M.shift())if("*"===la)la=J;else if("*"!==J&&J!==la){H=B[J+" "+la]||B["* "+la];if(!H)for(Ma in B)if(F=Ma.split(" "),F[1]===la&&(H=B[J+" "+F[0]]||B["* "+F[0]])){!0===
H?H=B[Ma]:!0!==B[Ma]&&(la=F[0],M.unshift(F[1]));break}if(!0!==H)if(H&&m["throws"])K=H(K);else try{K=H(K)}catch(P){F={state:"parsererror",error:H?P:"No conversion from "+J+" to "+la};break a}}F={state:"success",data:K}}if(n)q.ifModified&&((x=E.getResponseHeader("Last-Modified"))&&(u.lastModified[k]=x),(x=E.getResponseHeader("etag"))&&(u.etag[k]=x)),204===b||"HEAD"===q.type?x="nocontent":304===b?x="notmodified":(x=F.state,p=F.data,z=F.error,n=!z);else if(z=x,b||!x)x="error",0>b&&(b=0);E.status=b;E.statusText=
(e||x)+"";n?v.resolveWith(w,[p,x,E]):v.rejectWith(w,[E,x,z]);E.statusCode(t);t=void 0;r&&A.trigger(n?"ajaxSuccess":"ajaxError",[E,q,n?p:z]);y.fireWith(w,[E,x]);r&&(A.trigger("ajaxComplete",[E,q]),--u.active||u.event.trigger("ajaxStop"))}}"object"===typeof b&&(e=b,b=void 0);e=e||{};var g,k,l,m,h,n,r,p,q=u.ajaxSetup({},e),w=q.context||q,A=q.context&&(w.nodeType||w.jquery)?u(w):u.event,v=u.Deferred(),y=u.Callbacks("once memory"),t=q.statusCode||{},z={},F={},D=0,x="canceled",E={readyState:0,getResponseHeader:function(a){var b;
if(2===D){if(!m)for(m={};b=Xb.exec(l);)m[b[1].toLowerCase()]=b[2];b=m[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===D?l:null},setRequestHeader:function(a,b){var e=a.toLowerCase();D||(a=F[e]=F[e]||a,z[a]=b);return this},overrideMimeType:function(a){D||(q.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>D)for(b in a)t[b]=[t[b],a[b]];else E.always(a[E.status]);return this},abort:function(a){a=a||x;g&&g.abort(a);f(0,a);return this}};v.promise(E).complete=
y.add;E.success=E.done;E.error=E.fail;q.url=((b||q.url||Ib.href)+"").replace(yc,"").replace(Bc,Ib.protocol+"//");q.type=e.method||e.type||q.method||q.type;q.dataTypes=u.trim(q.dataType||"*").toLowerCase().match(wa)||[""];if(null==q.crossDomain){n=ha.createElement("a");try{n.href=q.url,n.href=n.href,q.crossDomain=Zb.protocol+"//"+Zb.host!==n.protocol+"//"+n.host}catch(B){q.crossDomain=!0}}q.data&&q.processData&&"string"!==typeof q.data&&(q.data=u.param(q.data,q.traditional));Y(Kb,q,e,E);if(2===D)return E;
(r=u.event&&q.global)&&0===u.active++&&u.event.trigger("ajaxStart");q.type=q.type.toUpperCase();q.hasContent=!Gb.test(q.type);k=q.url;q.hasContent||(q.data&&(k=q.url+=(Fb.test(k)?"&":"?")+q.data,delete q.data),!1===q.cache&&(q.url=gc.test(k)?k.replace(gc,"$1_="+Ob++):k+(Fb.test(k)?"&":"?")+"_="+Ob++));q.ifModified&&(u.lastModified[k]&&E.setRequestHeader("If-Modified-Since",u.lastModified[k]),u.etag[k]&&E.setRequestHeader("If-None-Match",u.etag[k]));(q.data&&q.hasContent&&!1!==q.contentType||e.contentType)&&
E.setRequestHeader("Content-Type",q.contentType);E.setRequestHeader("Accept",q.dataTypes[0]&&q.accepts[q.dataTypes[0]]?q.accepts[q.dataTypes[0]]+("*"!==q.dataTypes[0]?", "+Dc+"; q=0.01":""):q.accepts["*"]);for(p in q.headers)E.setRequestHeader(p,q.headers[p]);if(q.beforeSend&&(!1===q.beforeSend.call(w,E,q)||2===D))return E.abort();x="abort";for(p in{success:1,error:1,complete:1})E[p](q[p]);if(g=Y(hc,q,e,E)){E.readyState=1;r&&A.trigger("ajaxSend",[E,q]);if(2===D)return E;q.async&&0<q.timeout&&(h=a.setTimeout(function(){E.abort("timeout")},
q.timeout));try{D=1,g.send(z,f)}catch(K){if(2>D)f(-1,K);else throw K;}}else f(-1,"No Transport");return E},getJSON:function(a,b,e){return u.get(a,b,e,"json")},getScript:function(a,b){return u.get(a,void 0,b,"script")}});u.each(["get","post"],function(a,b){u[b]=function(a,e,f,g){u.isFunction(e)&&(g=g||f,f=e,e=void 0);return u.ajax(u.extend({url:a,type:b,dataType:g,data:e,success:f},u.isPlainObject(a)&&a))}});u._evalUrl=function(a){return u.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,
"throws":!0})};u.fn.extend({wrapAll:function(a){var b;if(u.isFunction(a))return this.each(function(b){u(this).wrapAll(a.call(this,b))});this[0]&&(b=u(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this));return this},wrapInner:function(a){return u.isFunction(a)?this.each(function(b){u(this).wrapInner(a.call(this,b))}):this.each(function(){var b=u(this),e=b.contents();
e.length?e.wrapAll(a):b.append(a)})},wrap:function(a){var b=u.isFunction(a);return this.each(function(e){u(this).wrapAll(b?a.call(this,e):a)})},unwrap:function(){return this.parent().each(function(){u.nodeName(this,"body")||u(this).replaceWith(this.childNodes)}).end()}});u.expr.filters.hidden=function(a){return!u.expr.filters.visible(a)};u.expr.filters.visible=function(a){return 0<a.offsetWidth||0<a.offsetHeight||0<a.getClientRects().length};var Ec=/%20/g,hb=/\[\]$/,ic=/\r?\n/g,Ab=/^(?:submit|button|image|reset|file)$/i,
jc=/^(?:input|select|textarea|keygen)/i;u.param=function(a,b){var e,f=[],g=function(a,b){b=u.isFunction(b)?b():null==b?"":b;f[f.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};void 0===b&&(b=u.ajaxSettings&&u.ajaxSettings.traditional);if(u.isArray(a)||a.jquery&&!u.isPlainObject(a))u.each(a,function(){g(this.name,this.value)});else for(e in a)ta(e,a[e],b,g);return f.join("&").replace(Ec,"+")};u.fn.extend({serialize:function(){return u.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=
u.prop(this,"elements");return a?u.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!u(this).is(":disabled")&&jc.test(this.nodeName)&&!Ab.test(a)&&(this.checked||!Xa.test(a))}).map(function(a,b){var e=u(this).val();return null==e?null:u.isArray(e)?u.map(e,function(a){return{name:b.name,value:a.replace(ic,"\r\n")}}):{name:b.name,value:e.replace(ic,"\r\n")}}).get()}});u.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var kc={0:200,1223:204},sb=u.ajaxSettings.xhr();
ba.cors=!!sb&&"withCredentials"in sb;ba.ajax=sb=!!sb;u.ajaxTransport(function(b){var e,f;if(ba.cors||sb&&!b.crossDomain)return{send:function(g,k){var l,m=b.xhr();m.open(b.type,b.url,b.async,b.username,b.password);if(b.xhrFields)for(l in b.xhrFields)m[l]=b.xhrFields[l];b.mimeType&&m.overrideMimeType&&m.overrideMimeType(b.mimeType);b.crossDomain||g["X-Requested-With"]||(g["X-Requested-With"]="XMLHttpRequest");for(l in g)m.setRequestHeader(l,g[l]);e=function(a){return function(){e&&(e=f=m.onload=m.onerror=
m.onabort=m.onreadystatechange=null,"abort"===a?m.abort():"error"===a?"number"!==typeof m.status?k(0,"error"):k(m.status,m.statusText):k(kc[m.status]||m.status,m.statusText,"text"!==(m.responseType||"text")||"string"!==typeof m.responseText?{binary:m.response}:{text:m.responseText},m.getAllResponseHeaders()))}};m.onload=e();f=m.onerror=e("error");void 0!==m.onabort?m.onabort=f:m.onreadystatechange=function(){4===m.readyState&&a.setTimeout(function(){e&&f()})};e=e("abort");try{m.send(b.hasContent&&
b.data||null)}catch(h){if(e)throw h;}},abort:function(){e&&e()}}});u.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){u.globalEval(a);return a}}});u.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});u.ajaxTransport("script",function(a){if(a.crossDomain){var b,e;return{send:function(f,g){b=u("<script>").prop({charset:a.scriptCharset,
src:a.url}).on("load error",e=function(a){b.remove();e=null;a&&g("error"===a.type?404:200,a.type)});ha.head.appendChild(b[0])},abort:function(){e&&e()}}}});var Sb=[],ac=/(=)\?(?=&|$)|\?\?/;u.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Sb.pop()||u.expando+"_"+Ob++;this[a]=!0;return a}});u.ajaxPrefilter("json jsonp",function(b,e,f){var g,k,l,m=!1!==b.jsonp&&(ac.test(b.url)?"url":"string"===typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ac.test(b.data)&&
"data");if(m||"jsonp"===b.dataTypes[0])return g=b.jsonpCallback=u.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,m?b[m]=b[m].replace(ac,"$1"+g):!1!==b.jsonp&&(b.url+=(Fb.test(b.url)?"&":"?")+b.jsonp+"="+g),b.converters["script json"]=function(){l||u.error(g+" was not called");return l[0]},b.dataTypes[0]="json",k=a[g],a[g]=function(){l=arguments},f.always(function(){void 0===k?u(a).removeProp(g):a[g]=k;b[g]&&(b.jsonpCallback=e.jsonpCallback,Sb.push(g));l&&u.isFunction(k)&&k(l[0]);l=
k=void 0}),"script"});u.parseHTML=function(a,b,e){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(e=b,b=!1);b=b||ha;var f=xa.exec(a);e=!e&&[];if(f)return[b.createElement(f[1])];f=r([a],b,e);e&&e.length&&u(e).remove();return u.merge([],f.childNodes)};var bc=u.fn.load;u.fn.load=function(a,b,e){if("string"!==typeof a&&bc)return bc.apply(this,arguments);var f,g,k,l=this,m=a.indexOf(" ");-1<m&&(f=u.trim(a.slice(m)),a=a.slice(0,m));u.isFunction(b)?(e=b,b=void 0):b&&"object"===typeof b&&(g=
"POST");0<l.length&&u.ajax({url:a,type:g||"GET",dataType:"html",data:b}).done(function(a){k=arguments;l.html(f?u("<div>").append(u.parseHTML(a)).find(f):a)}).always(e&&function(a,b){l.each(function(){e.apply(this,k||[a.responseText,b,a])})});return this};u.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){u.fn[b]=function(a){return this.on(b,a)}});u.expr.filters.animated=function(a){return u.grep(u.timers,function(b){return a===b.elem}).length};u.offset=
{setOffset:function(a,b,e){var f,g,k,l=u.css(a,"position"),m=u(a),h={};"static"===l&&(a.style.position="relative");k=m.offset();g=u.css(a,"top");f=u.css(a,"left");("absolute"===l||"fixed"===l)&&-1<(g+f).indexOf("auto")?(f=m.position(),g=f.top,f=f.left):(g=parseFloat(g)||0,f=parseFloat(f)||0);u.isFunction(b)&&(b=b.call(a,e,u.extend({},k)));null!=b.top&&(h.top=b.top-k.top+g);null!=b.left&&(h.left=b.left-k.left+f);"using"in b?b.using.call(a,h):m.css(h)}};u.fn.extend({offset:function(a){if(arguments.length)return void 0===
a?this:this.each(function(b){u.offset.setOffset(this,a,b)});var b,e;e=this[0];var f={top:0,left:0},g=e&&e.ownerDocument;if(g){b=g.documentElement;if(!u.contains(b,e))return f;f=e.getBoundingClientRect();e=pa(g);return{top:f.top+e.pageYOffset-b.clientTop,left:f.left+e.pageXOffset-b.clientLeft}}},position:function(){if(this[0]){var a,b,e=this[0],f={top:0,left:0};"fixed"===u.css(e,"position")?b=e.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),u.nodeName(a[0],"html")||(f=a.offset()),f.top+=
u.css(a[0],"borderTopWidth",!0),f.left+=u.css(a[0],"borderLeftWidth",!0));return{top:b.top-f.top-u.css(e,"marginTop",!0),left:b.left-f.left-u.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===u.css(a,"position");)a=a.offsetParent;return a||Ga})}});u.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var e="pageYOffset"===b;u.fn[a]=function(f){return va(this,function(a,f,g){var k=pa(a);if(void 0===g)return k?k[b]:
a[f];k?k.scrollTo(e?k.pageXOffset:g,e?g:k.pageYOffset):a[f]=g},a,f,arguments.length)}});u.each(["top","left"],function(a,b){u.cssHooks[b]=M(ba.pixelPosition,function(a,e){if(e)return e=G(a,b),Wa.test(e)?u(a).position()[b]+"px":e})});u.each({Height:"height",Width:"width"},function(a,b){u.each({padding:"inner"+a,content:b,"":"outer"+a},function(e,f){u.fn[f]=function(f,g){var k=arguments.length&&(e||"boolean"!==typeof f),l=e||(!0===f||!0===g?"margin":"border");return va(this,function(b,e,f){return u.isWindow(b)?
b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===f?u.css(b,e,l):u.style(b,e,f,l)},b,k?f:void 0,k,null)}})});u.fn.extend({bind:function(a,b,e){return this.on(a,null,b,e)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,e,f){return this.on(b,a,e,f)},undelegate:function(a,b,e){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",e)},size:function(){return this.length}});
u.fn.andSelf=u.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return u});var Qb=a.jQuery,Ac=a.$;u.noConflict=function(b){a.$===u&&(a.$=Ac);b&&a.jQuery===u&&(a.jQuery=Qb);return u};h||(a.jQuery=a.$=u);return u});(function(a,h){function b(b,f){var g,m,h,q=b.nodeName.toLowerCase();return"area"===q?(g=b.parentNode,m=g.name,b.href&&m&&"map"===g.nodeName.toLowerCase()?(h=a("img[usemap=#"+m+"]")[0],!!h&&e(h)):!1):(/input|select|textarea|button|object/.test(q)?!b.disabled:"a"===q?b.href||f:f)&&e(b)}function e(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var g=0,f=/^ui-id-\d+$/;a.ui=a.ui||{};a.ui.version||(a.extend(a.ui,{version:"1.10.1",
keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({_focus:a.fn.focus,focus:function(b,e){return"number"==typeof b?this.each(function(){var f=this;setTimeout(function(){a(f).focus();e&&e.call(f)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.ui.ie&&
/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(b){if(b!==
h)return this.css("zIndex",b);if(this.length){b=a(this[0]);for(var e;b.length&&b[0]!==document;){e=b.css("position");if("absolute"===e||"relative"===e||"fixed"===e)if(e=parseInt(b.css("zIndex"),10),!isNaN(e)&&0!==e)return e;b=b.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++g)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(e){return!!a.data(e,
b)}}):function(b,e,f){return!!a.data(b,f[3])},focusable:function(e){return b(e,!isNaN(a.attr(e,"tabindex")))},tabbable:function(e){var f=a.attr(e,"tabindex"),g=isNaN(f);return(g||0<=f)&&b(e,!g)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,e){function f(b,e,k,l){return a.each(g,function(){e-=parseFloat(a.css(b,"padding"+this))||0;k&&(e-=parseFloat(a.css(b,"border"+this+"Width"))||0);l&&(e-=parseFloat(a.css(b,"margin"+this))||0)}),e}var g="Width"===e?["Left","Right"]:["Top",
"Bottom"],p=e.toLowerCase(),q={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+e]=function(b){return b===h?q["inner"+e].call(this):this.each(function(){a(this).css(p,f(this,b)+"px")})};a.fn["outer"+e]=function(b,g){return"number"!=typeof b?q["outer"+e].call(this,b):this.each(function(){a(this).css(p,f(this,b,!0,g)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),
a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(e){return arguments.length?b.call(this,a.camelCase(e)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),
a.extend(a.ui,{plugin:{add:function(b,e,f){var g;b=a.ui[b].prototype;for(g in f)b.plugins[g]=b.plugins[g]||[],b.plugins[g].push([e,f[g]])},call:function(a,b,e){var f=a.plugins[b];if(f&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;b<f.length;b++)a.options[f[b][0]]&&f[b][1].apply(a.element,e)}},hasScroll:function(b,e){if("hidden"===a(b).css("overflow"))return!1;var f=e&&"left"===e?"scrollLeft":"scrollTop",g=!1;return 0<b[f]?!0:(b[f]=1,g=0<b[f],b[f]=0,g)}}))})(jQuery);
(function(a,h){var b=0,e=Array.prototype.slice,g=a.cleanData;a.cleanData=function(b){for(var e=0,k;null!=(k=b[e]);e++)try{a(k).triggerHandler("remove")}catch(h){}g(b)};a.widget=function(b,e,g){var h,m,p,q,r={},t=b.split(".")[0];b=b.split(".")[1];h=t+"-"+b;g||(g=e,e=a.Widget);a.expr[":"][h.toLowerCase()]=function(b){return!!a.data(b,h)};a[t]=a[t]||{};m=a[t][b];p=a[t][b]=function(a,b){if(!this._createWidget)return new p(a,b);arguments.length&&this._createWidget(a,b)};a.extend(p,m,{version:g.version,
_proto:a.extend({},g),_childConstructors:[]});q=new e;q.options=a.widget.extend({},q.options);a.each(g,function(b,f){a.isFunction(f)?r[b]=function(){var a=function(){return e.prototype[b].apply(this,arguments)},g=function(a){return e.prototype[b].apply(this,a)};return function(){var b=this._super,e=this._superApply,k;return this._super=a,this._superApply=g,k=f.apply(this,arguments),this._super=b,this._superApply=e,k}}():r[b]=f});p.prototype=a.widget.extend(q,{widgetEventPrefix:m?q.widgetEventPrefix:
b},r,{constructor:p,namespace:t,widgetName:b,widgetFullName:h});m?(a.each(m._childConstructors,function(b,e){var f=e.prototype;a.widget(f.namespace+"."+f.widgetName,p,e._proto)}),delete m._childConstructors):e._childConstructors.push(p);a.widget.bridge(b,p)};a.widget.extend=function(b){for(var g=e.call(arguments,1),k=0,n=g.length,m,p;k<n;k++)for(m in g[k])p=g[k][m],g[k].hasOwnProperty(m)&&p!==h&&(a.isPlainObject(p)?b[m]=a.isPlainObject(b[m])?a.widget.extend({},b[m],p):a.widget.extend({},p):b[m]=p);
return b};a.widget.bridge=function(b,g){var k=g.prototype.widgetFullName||b;a.fn[b]=function(n){var m="string"==typeof n,p=e.call(arguments,1),q=this;return n=!m&&p.length?a.widget.extend.apply(null,[n].concat(p)):n,m?this.each(function(){var e,g=a.data(this,k);if(!g)return a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+n+"'");if(!a.isFunction(g[n])||"_"===n.charAt(0))return a.error("no such method '"+n+"' for "+b+" widget instance");e=g[n].apply(g,p);if(e!==
g&&e!==h)return q=e&&e.jquery?q.pushStack(e.get()):e,!1}):this.each(function(){var b=a.data(this,k);b?b.option(n||{})._init():a.data(this,k,new g(n,this))}),q}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,g){g=a(g||this.defaultElement||this)[0];this.element=a(g);this.uuid=b++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},
this.options,this._getCreateOptions(),e);this.bindings=a();this.hoverable=a();this.focusable=a();g!==this&&(a.data(g,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===g&&this.destroy()}}),this.document=a(g.style?g.ownerDocument:g.document||g),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,
_init:a.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},
option:function(b,e){var g=b,n,m,p;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(g={},n=b.split("."),b=n.shift(),n.length){m=g[b]=a.widget.extend({},this.options[b]);for(p=0;p<n.length-1;p++)m[n[p]]=m[n[p]]||{},m=m[n[p]];b=n.pop();if(e===h)return m[b]===h?null:m[b];m[b]=e}else{if(e===h)return this.options[b]===h?null:this.options[b];g[b]=e}return this._setOptions(g),this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,
b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,e,g){var h,m=this;"boolean"!=typeof b&&(g=e,e=b,b=!1);g?(e=h=a(e),this.bindings=this.bindings.add(e)):(g=e,e=this.element,h=
this.widget());a.each(g,function(g,k){function r(){if(b||!0!==m.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"==typeof k?m[k]:k).apply(m,arguments)}"string"!=typeof k&&(r.guid=k.guid=k.guid||r.guid||a.guid++);var t=g.match(/^(\w+)\s*(.*)$/),v=t[1]+m.eventNamespace;(t=t[2])?h.delegate(t,v,r):e.bind(v,r)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var e=this;return setTimeout(function(){return("string"==
typeof a?e[a]:a).apply(e,arguments)},b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,e,g){var h,
m=this.options[b];g=g||{};e=a.Event(e);e.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();e.target=this.element[0];if(b=e.originalEvent)for(h in b)h in e||(e[h]=b[h]);return this.element.trigger(e,g),!(a.isFunction(m)&&!1===m.apply(this.element[0],[e].concat(g))||e.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,e){a.Widget.prototype["_"+b]=function(g,h,m){"string"==typeof h&&(h={effect:h});var p,q=h?!0===h||"number"==typeof h?e:h.effect||e:b;h=h||
{};"number"==typeof h&&(h={duration:h});p=!a.isEmptyObject(h);h.complete=m;h.delay&&g.delay(h.delay);p&&a.effects&&a.effects.effect[q]?g[b](h):q!==b&&g[q]?g[q](h.duration,h.easing,m):g.queue(function(e){a(this)[b]();m&&m.call(g[0]);e()})}})})(jQuery);
(function(a,h){var b=!1;a(document).mouseup(function(){b=!1});a.widget("ui.mouse",{version:"1.10.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(g){if(!0===a.data(g.target,b.widgetName+".preventClickEvent"))return a.removeData(g.target,b.widgetName+".preventClickEvent"),g.stopImmediatePropagation(),!1});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!b){this._mouseStarted&&this._mouseUp(e);this._mouseDownEvent=e;var g=this,f=1===e.which,l="string"==typeof this.options.cancel&&e.target.nodeName?a(e.target).closest(this.options.cancel).length:!1;if(!f||l||!this._mouseCapture(e))return!0;(this.mouseDelayMet=
!this.options.delay)||(this._mouseDelayTimer=setTimeout(function(){g.mouseDelayMet=!0},this.options.delay));return this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===a.data(e.target,this.widgetName+".preventClickEvent")&&a.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return g._mouseMove(a)},this._mouseUpDelegate=function(a){return g._mouseUp(a)},a(document).bind("mousemove."+
this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),b=!0,!0)}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b),this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},
_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(a,h){function b(a,b,e){return[parseFloat(a[0])*(r.test(a[0])?b/100:1),parseFloat(a[1])*(r.test(a[1])?e/100:1)]}function e(b){var e=b[0];return 9===e.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(e)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var g,f=Math.max,l=Math.abs,k=
Math.round,n=/left|center|right/,m=/top|center|bottom/,p=/[\+\-]\d+(\.[\d]+)?%?/,q=/^\w+/,r=/%$/,t=a.fn.position;a.position={scrollbarWidth:function(){if(g!==h)return g;var b,e,f=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),k=f.children()[0];return a("body").append(f),b=k.offsetWidth,f.css("overflow","scroll"),e=k.offsetWidth,b===e&&(e=f[0].clientWidth),f.remove(),g=b-e},getScrollInfo:function(b){var e=b.isWindow?"":b.element.css("overflow-x"),
f=b.isWindow?"":b.element.css("overflow-y"),f="scroll"===f||"auto"===f&&b.height<b.element[0].scrollHeight;return{width:"scroll"===e||"auto"===e&&b.width<b.element[0].scrollWidth?a.position.scrollbarWidth():0,height:f?a.position.scrollbarWidth():0}},getWithinInfo:function(b){b=a(b||window);var e=a.isWindow(b[0]);return{element:b,isWindow:e,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:e?b.width():b.outerWidth(),height:e?b.height():b.outerHeight()}}};a.fn.position=
function(g){if(!g||!g.of)return t.apply(this,arguments);g=a.extend({},g);var h,r,z,B,E,w,A=a(g.of),D=a.position.getWithinInfo(g.within),F=a.position.getScrollInfo(D),K=(g.collision||"flip").split(" "),G={};return w=e(A),A[0].preventDefault&&(g.at="left top"),r=w.width,z=w.height,B=w.offset,E=a.extend({},B),a.each(["my","at"],function(){var a=(g[this]||"").split(" "),b,e;1===a.length&&(a=n.test(a[0])?a.concat(["center"]):m.test(a[0])?["center"].concat(a):["center","center"]);a[0]=n.test(a[0])?a[0]:
"center";a[1]=m.test(a[1])?a[1]:"center";b=p.exec(a[0]);e=p.exec(a[1]);G[this]=[b?b[0]:0,e?e[0]:0];g[this]=[q.exec(a[0])[0],q.exec(a[1])[0]]}),1===K.length&&(K[1]=K[0]),"right"===g.at[0]?E.left+=r:"center"===g.at[0]&&(E.left+=r/2),"bottom"===g.at[1]?E.top+=z:"center"===g.at[1]&&(E.top+=z/2),h=b(G.at,r,z),E.left+=h[0],E.top+=h[1],this.each(function(){var e,m,n=a(this),p=n.outerWidth(),q=n.outerHeight(),w=parseInt(a.css(this,"marginLeft"),10)||0,t=parseInt(a.css(this,"marginTop"),10)||0,T=p+w+(parseInt(a.css(this,
"marginRight"),10)||0)+F.width,da=q+t+(parseInt(a.css(this,"marginBottom"),10)||0)+F.height,O=a.extend({},E),Z=b(G.my,n.outerWidth(),n.outerHeight());"right"===g.my[0]?O.left-=p:"center"===g.my[0]&&(O.left-=p/2);"bottom"===g.my[1]?O.top-=q:"center"===g.my[1]&&(O.top-=q/2);O.left+=Z[0];O.top+=Z[1];a.support.offsetFractions||(O.left=k(O.left),O.top=k(O.top));e={marginLeft:w,marginTop:t};a.each(["left","top"],function(b,f){a.ui.position[K[b]]&&a.ui.position[K[b]][f](O,{targetWidth:r,targetHeight:z,elemWidth:p,
elemHeight:q,collisionPosition:e,collisionWidth:T,collisionHeight:da,offset:[h[0]+Z[0],h[1]+Z[1]],my:g.my,at:g.at,within:D,elem:n})});g.using&&(m=function(a){var b=B.left-O.left,e=b+r-p,k=B.top-O.top,m=k+z-q,h={target:{element:A,left:B.left,top:B.top,width:r,height:z},element:{element:n,left:O.left,top:O.top,width:p,height:q},horizontal:0>e?"left":0<b?"right":"center",vertical:0>m?"top":0<k?"bottom":"middle"};r<p&&l(b+e)<r&&(h.horizontal="center");z<q&&l(k+m)<z&&(h.vertical="middle");f(l(b),l(e))>
f(l(k),l(m))?h.important="horizontal":h.important="vertical";g.using.call(this,a,h)});n.offset(a.extend(O,{using:m}))})};a.ui.position={fit:{left:function(a,b){var e=b.within,g=e.isWindow?e.scrollLeft:e.offset.left,e=e.width,k=a.left-b.collisionPosition.marginLeft,l=g-k,m=k+b.collisionWidth-e-g,h;b.collisionWidth>e?0<l&&0>=m?(h=a.left+l+b.collisionWidth-e-g,a.left+=l-h):0<m&&0>=l?a.left=g:l>m?a.left=g+e-b.collisionWidth:a.left=g:0<l?a.left+=l:0<m?a.left-=m:a.left=f(a.left-k,a.left)},top:function(a,
b){var e=b.within,e=e.isWindow?e.scrollTop:e.offset.top,g=b.within.height,k=a.top-b.collisionPosition.marginTop,l=e-k,m=k+b.collisionHeight-g-e,h;b.collisionHeight>g?0<l&&0>=m?(h=a.top+l+b.collisionHeight-g-e,a.top+=l-h):0<m&&0>=l?a.top=e:l>m?a.top=e+g-b.collisionHeight:a.top=e:0<l?a.top+=l:0<m?a.top-=m:a.top=f(a.top-k,a.top)}},flip:{left:function(a,b){var e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,k=e.isWindow?e.scrollLeft:e.offset.left,m=a.left-b.collisionPosition.marginLeft,e=m-k,h=m+b.collisionWidth-
g-k,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,r=-2*b.offset[0];if(0>e){if(f=a.left+m+n+r+b.collisionWidth-g-f,0>f||f<l(e))a.left+=m+n+r}else 0<h&&(f=a.left-b.collisionPosition.marginLeft+m+n+r-k,0<f||l(f)<h)&&(a.left+=m+n+r)},top:function(a,b){var e=b.within,f=e.offset.top+e.scrollTop,g=e.height,e=e.isWindow?e.scrollTop:e.offset.top,k=a.top-b.collisionPosition.marginTop,m=k-e,k=k+b.collisionHeight-g-e,h="top"===
b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,n="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,r=-2*b.offset[1],p,q;0>m?(q=a.top+h+n+r+b.collisionHeight-g-f,a.top+h+n+r>m&&(0>q||q<l(m))&&(a.top+=h+n+r)):0<k&&(p=a.top-b.collisionPosition.marginTop+h+n+r-e,a.top+h+n+r>k&&(0<p||l(p)<k)&&(a.top+=h+n+r))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);
a.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,e,f,g,k=document.getElementsByTagName("body")[0];f=document.createElement("div");b=document.createElement(k?"div":"body");e={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};k&&a.extend(e,{position:"absolute",left:"-1000px",top:"-1000px"});for(g in e)b.style[g]=e[g];b.appendChild(f);e=k||document.documentElement;e.insertBefore(b,e.firstChild);f.style.cssText="position: absolute; left: 10.7432222px;";f=a(f).offset().left;
a.support.offsetFractions=10<f&&11>f;b.innerHTML="";e.removeChild(b)})()})(jQuery);
(function(a,h){var b=0,e={},g={};e.height=e.paddingTop=e.paddingBottom=e.borderTopWidth=e.borderBottomWidth="hide";g.height=g.paddingTop=g.paddingBottom=g.borderTopWidth=g.borderBottomWidth="show";a.widget("ui.accordion",{version:"1.10.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var b=this.options;
this.prevShow=this.prevHide=a();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");b.collapsible||!1!==b.active&&null!=b.active||(b.active=0);this._processPanels();0>b.active&&(b.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():a(),content:this.active.length?this.active.next():a()}},_createIcons:function(){var b=this.options.icons;b&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+
b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&
this.removeAttribute("id")});this._destroyIcons();a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){"active"===a?this._activate(b):
("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"===a&&!b&&!1===this.options.active&&this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),"disabled"===a&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b))},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var e=a.ui.keyCode,g=this.headers.length,h=this.headers.index(b.target),m=!1;switch(b.keyCode){case e.RIGHT:case e.DOWN:m=
this.headers[(h+1)%g];break;case e.LEFT:case e.UP:m=this.headers[(h-1+g)%g];break;case e.SPACE:case e.ENTER:this._eventHandler(b);break;case e.HOME:m=this.headers[0];break;case e.END:m=this.headers[g-1]}m&&(a(b.target).attr("tabIndex",-1),a(m).attr("tabIndex",0),m.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().focus()},refresh:function(){var b=this.options;this._processPanels();if(!1===b.active&&!0===b.collapsible||!this.headers.length)b.active=
!1,this.active=a();!1===b.active?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=a()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},
_refresh:function(){var e,g=this.options,k=g.heightStyle,h=this.element.parent(),m=this.accordionId="ui-accordion-"+(this.element.attr("id")||++b);this.active=this._findActive(g.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(b){var e=a(this),f=e.attr("id"),g=e.next(),k=g.attr("id");f||(f=m+"-header-"+b,e.attr("id",f));k||(k=m+"-panel-"+
b,g.attr("id",k));e.attr("aria-controls",k);g.attr("aria-labelledby",f)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(g.event);"fill"===k?(e=h.height(),this.element.siblings(":visible").each(function(){var b=
a(this),g=b.css("position");"absolute"!==g&&"fixed"!==g&&(e-=b.outerHeight(!0))}),this.headers.each(function(){e-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,e-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===k&&(e=0,this.headers.next().each(function(){e=Math.max(e,a(this).css("height","").height())}).height(e))},_activate:function(b){b=this._findActive(b)[0];b!==this.active[0]&&(b=b||this.active[0],this._eventHandler({target:b,
currentTarget:b,preventDefault:a.noop}))},_findActive:function(b){return"number"==typeof b?this.headers.eq(b):a()},_setupEvents:function(b){var e={keydown:"_keydown"};b&&a.each(b.split(" "),function(a,b){e[b]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,e);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(b){var e=this.options,g=this.active,h=a(b.currentTarget),m=h[0]===
g[0],p=m&&e.collapsible,q=p?a():h.next(),r=g.next(),q={oldHeader:g,oldPanel:r,newHeader:p?a():h,newPanel:q};b.preventDefault();m&&!e.collapsible||!1===this._trigger("beforeActivate",b,q)||(e.active=p?!1:this.headers.index(h),this.active=m?a():h,this._toggle(q),g.removeClass("ui-accordion-header-active ui-state-active"),e.icons&&g.children(".ui-accordion-header-icon").removeClass(e.icons.activeHeader).addClass(e.icons.header),m||(h.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),
e.icons&&h.children(".ui-accordion-header-icon").removeClass(e.icons.header).addClass(e.icons.activeHeader),h.next().addClass("ui-accordion-content-active")))},_toggle:function(b){var e=b.newPanel,g=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=e;this.prevHide=g;this.options.animate?this._animate(e,g,b):(g.hide(),e.show(),this._toggleComplete(b));g.attr({"aria-expanded":"false","aria-hidden":"true"});g.prev().attr("aria-selected","false");
e.length&&g.length?g.prev().attr("tabIndex",-1):e.length&&this.headers.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);e.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(a,b,k){var h,m,p,q=this,r=0,t=a.length&&(!b.length||a.index()<b.index()),v=this.options.animate||{},t=t&&v.down||v,x=function(){q._toggleComplete(k)};"number"==typeof t&&(p=t);"string"==typeof t&&(m=t);m=m||t.easing||v.easing;p=p||
t.duration||v.duration;if(!b.length)return a.animate(g,p,m,x);if(!a.length)return b.animate(e,p,m,x);h=a.show().outerHeight();b.animate(e,{duration:p,easing:m,step:function(a,b){b.now=Math.round(a)}});a.hide().animate(g,{duration:p,easing:m,complete:x,step:function(a,e){e.now=Math.round(a);"height"!==e.prop?r+=e.now:"content"!==q.options.heightStyle&&(e.now=Math.round(h-b.outerHeight()-r),r=0)}})},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");
b.length&&(b.parent()[0].className=b.parent()[0].className);this._trigger("activate",null,a)}})})(jQuery);
(function(a,h){var b=0;a.widget("ui.autocomplete",{version:"1.10.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var b,g,f,l=this.element[0].nodeName.toLowerCase(),k="textarea"===l,l="input"===l;this.isMultiLine=k?!0:l?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[k||
l?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(k){if(this.element.prop("readOnly"))g=f=b=!0;else{g=f=b=!1;var l=a.ui.keyCode;switch(k.keyCode){case l.PAGE_UP:b=!0;this._move("previousPage",k);break;case l.PAGE_DOWN:b=!0;this._move("nextPage",k);break;case l.UP:b=!0;this._keyEvent("previous",k);break;case l.DOWN:b=!0;this._keyEvent("next",k);break;case l.ENTER:case l.NUMPAD_ENTER:this.menu.active&&
(b=!0,k.preventDefault(),this.menu.select(k));break;case l.TAB:this.menu.active&&this.menu.select(k);break;case l.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(k),k.preventDefault());break;default:g=!0,this._searchTimeout(k)}}},keypress:function(f){if(b)b=!1,f.preventDefault();else if(!g){var k=a.ui.keyCode;switch(f.keyCode){case k.PAGE_UP:this._move("previousPage",f);break;case k.PAGE_DOWN:this._move("nextPage",f);break;case k.UP:this._keyEvent("previous",f);break;case k.DOWN:this._keyEvent("next",
f)}}},input:function(a){f?(f=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({input:a(),role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(b){b.preventDefault();this.cancelBlur=
!0;this._delay(function(){delete this.cancelBlur});var e=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(f){f.target!==b.element[0]&&f.target!==e&&!a.contains(e,f.target)&&b.close()})})},menufocus:function(b,e){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)});return}var f=
e.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:f})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(f.value):this.liveRegion.text(f.value)},menuselect:function(a,b){var e=b.item.data("ui-autocomplete-item"),f=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=f,this._delay(function(){this.previous=f;this.selectedItem=e}));!1!==this._trigger("select",a,{item:e})&&this._value(e.value);this.term=this._value();this.close(a);
this.selectedItem=e}});this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b);"source"===a&&this._initSource();"appendTo"===
a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b||(b=this.element.closest(".ui-front")),b.length||(b=this.document[0].body),b},_initSource:function(){var b,g,f=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(f,g){g(a.ui.autocomplete.filter(b,f.term))}):"string"==typeof this.options.source?(g=this.options.source,
this.source=function(b,e){f.xhr&&f.xhr.abort();f.xhr=a.ajax({url:g,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(b);if(!1!==this._trigger("search",
b))return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var a=this,g=++b;return function(f){g===b&&a.__response(f);a.pending--;a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):
this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},
_suggest:function(b){var g=this.menu.element.empty();this._renderMenu(g,b);this.menu.refresh();g.show();this._resizeMenu();g.position(a.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,g){var f=this;a.each(g,function(a,g){f._renderItemData(b,g)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",
b)},_renderItem:function(b,g){return a("<li>").append(a("<a>").text(g.label)).appendTo(b)},_move:function(a,b){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this._value(this.term),this.menu.blur();else this.menu[a](b);else this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,
b),b.preventDefault()}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,g){var f=new RegExp(a.ui.autocomplete.escapeRegex(g),"i");return a.grep(b,function(a){return f.test(a.label||a.value||a)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;
this._superApply(arguments);this.options.disabled||this.cancelSearch||(a&&a.length?b=this.options.messages.results(a.length):b=this.options.messages.noResults,this.liveRegion.text(b))}})})(jQuery);
(function(a,h){var b,e,g,f,l=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},k=function(b){var e=b.name,f=b.form,g=a([]);return e&&(e=e.replace(/'/g,"\\'"),f?g=a(f).find("[name='"+e+"']"):g=a("[name='"+e+"']",b.ownerDocument).filter(function(){return!this.form})),g};a.widget("ui.button",{version:"1.10.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+
this.eventNamespace).bind("reset"+this.eventNamespace,l);"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var h=this,m=this.options,p="checkbox"===this.type||"radio"===this.type,q=p?"":"ui-state-active";null===m.label&&(m.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);
this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){m.disabled||this===b&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){m.disabled||a(this).removeClass(q)}).bind("click"+this.eventNamespace,function(a){m.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});this.element.bind("focus"+this.eventNamespace,function(){h.buttonElement.addClass("ui-state-focus")}).bind("blur"+
this.eventNamespace,function(){h.buttonElement.removeClass("ui-state-focus")});p&&(this.element.bind("change"+this.eventNamespace,function(){f||h.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(a){m.disabled||(f=!1,e=a.pageX,g=a.pageY)}).bind("mouseup"+this.eventNamespace,function(a){m.disabled||e===a.pageX&&g===a.pageY||(f=!0)}));"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(m.disabled||f)return!1}):"radio"===this.type?this.buttonElement.bind("click"+
this.eventNamespace,function(){if(m.disabled||f)return!1;a(this).addClass("ui-state-active");h.buttonElement.attr("aria-pressed","true");var b=h.element[0];k(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(m.disabled)return!1;a(this).addClass("ui-state-active");b=this;h.document.one("mouseup",function(){b=null})}).bind("mouseup"+this.eventNamespace,function(){if(m.disabled)return!1;
a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){if(m.disabled)return!1;b.keyCode!==a.ui.keyCode.SPACE&&b.keyCode!==a.ui.keyCode.ENTER||a(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()}));this._setOption("disabled",m.disabled);this._resetButton()},
_determineButtonType:function(){var a,b,e;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";"checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=
a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),e=this.element.is(":checked"),e&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",e)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){this._super(a,b);"disabled"===a?b?this.element.prop("disabled",!0):this.element.prop("disabled",!1):this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b);"radio"===this.type?k(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
"true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
e=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),f=this.options.icons,g=f.primary&&f.secondary,k=[];f.primary||f.secondary?(this.options.text&&k.push("ui-button-text-icon"+(g?"s":f.primary?"-primary":"-secondary")),f.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+f.primary+"'></span>"),f.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+f.secondary+"'></span>"),this.options.text||(k.push(g?"ui-button-icons-only":
"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(e)))):k.push("ui-button-text-only");b.addClass(k.join(" "))}}});a.widget("ui.buttonset",{version:"1.10.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b);this._super(a,b)},refresh:function(){var b=
"rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);
(function(a,h){function b(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";
this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",
firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,
onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};a.extend(this._defaults,this.regional[""]);this.dpDiv=e(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function e(b){return b.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){a(this).removeClass("ui-state-hover");
-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){a.datepicker._isDisabledDatepicker(l.inline?b.parent()[0]:l.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),
-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))})}function g(b,e){a.extend(b,e);for(var f in e)null==e[f]&&(b[f]=e[f]);return b}a.extend(a.ui,{datepicker:{version:"1.10.1"}});var f=(new Date).getTime(),l;a.extend(b.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return g(this._defaults,
a||{}),this},_attachDatepicker:function(b,e){var f,g,l;f=b.nodeName.toLowerCase();g="div"===f||"span"===f;b.id||(this.uuid+=1,b.id="dp"+this.uuid);l=this._newInst(a(b),g);l.settings=a.extend({},e||{});"input"===f?this._connectDatepicker(b,l):g&&this._inlineDatepicker(b,l)},_newInst:function(b,f){return{id:b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:f,dpDiv:f?e(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(b,e){var f=a(b);e.append=a([]);e.trigger=a([]);f.hasClass(this.markerClassName)||(this._attachments(f,e),f.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(e),a.data(b,"datepicker",e),e.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,e){var f,g;f=this._get(e,"appendText");var l=this._get(e,"isRTL");e.append&&e.append.remove();f&&(e.append=a("<span class='"+this._appendClass+
"'>"+f+"</span>"),b[l?"before":"after"](e.append));b.unbind("focus",this._showDatepicker);e.trigger&&e.trigger.remove();f=this._get(e,"showOn");"focus"!==f&&"both"!==f||b.focus(this._showDatepicker);if("button"===f||"both"===f)f=this._get(e,"buttonText"),g=this._get(e,"buttonImage"),e.trigger=a(this._get(e,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):a("<button type='button'></button>").addClass(this._triggerClass).html(g?a("<img/>").attr({src:g,alt:f,title:f}):
f)),b[l?"before":"after"](e.trigger),e.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1})},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,e,f,g,l=new Date(2009,11,20),h=this._get(a,"dateFormat");h.match(/[DM]/)&&(b=function(a){for(g=
f=e=0;g<a.length;g++)a[g].length>e&&(e=a[g].length,f=g);return f},l.setMonth(b(this._get(a,h.match(/MM/)?"monthNames":"monthNamesShort"))),l.setDate(b(this._get(a,h.match(/DD/)?"dayNames":"dayNamesShort"))+20-l.getDay()));a.input.attr("size",this._formatDate(a,l).length)}},_inlineDatepicker:function(b,e){var f=a(b);f.hasClass(this.markerClassName)||(f.addClass(this.markerClassName).append(e.dpDiv),a.data(b,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),
e.settings.disabled&&this._disableDatepicker(b),e.dpDiv.css("display","block"))},_dialogDatepicker:function(b,e,f,l,h){var r,t,v,x,y;b=this._dialogInst;return b||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),b=this._dialogInst=this._newInst(this._dialogInput,!1),b.settings={},a.data(this._dialogInput[0],"datepicker",b)),g(b.settings,
l||{}),e=e&&e.constructor===Date?this._formatDate(b,e):e,this._dialogInput.val(e),this._pos=h?h.length?h:[h.pageX,h.pageY]:null,this._pos||(t=document.documentElement.clientWidth,v=document.documentElement.clientHeight,x=document.documentElement.scrollLeft||document.body.scrollLeft,y=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[t/2-100+x,v/2-150+y]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),b.settings.onSelect=f,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),
this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],"datepicker",b),this},_destroyDatepicker:function(b){var e,f=a(b),g=a.data(b,"datepicker");f.hasClass(this.markerClassName)&&(e=b.nodeName.toLowerCase(),a.removeData(b,"datepicker"),"input"===e?(g.append.remove(),g.trigger.remove(),f.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):
("div"===e||"span"===e)&&f.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var e,f=a(b),g=a.data(b,"datepicker");if(f.hasClass(this.markerClassName)){e=b.nodeName.toLowerCase();if("input"===e)b.disabled=!1,g.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"===e||"span"===e)e=f.children("."+this._inlineClass),e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a})}},_disableDatepicker:function(b){var e,f=a(b),g=a.data(b,"datepicker");if(f.hasClass(this.markerClassName)){e=b.nodeName.toLowerCase();if("input"===e)b.disabled=!0,g.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"===e||"span"===e)e=f.children("."+this._inlineClass),e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a});this._disabledInputs[this._disabledInputs.length]=b}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(e){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(b,e,f){var l,q,r,t,v=this._getInst(b);if(2===arguments.length&&"string"==
typeof e)return"defaults"===e?a.extend({},a.datepicker._defaults):v?"all"===e?a.extend({},v.settings):this._get(v,e):null;l=e||{};"string"==typeof e&&(l={},l[e]=f);v&&(this._curInst===v&&this._hideDatepicker(),q=this._getDateDatepicker(b,!0),r=this._getMinMaxDate(v,"min"),t=this._getMinMaxDate(v,"max"),g(v.settings,l),null!==r&&l.dateFormat!==h&&l.minDate===h&&(v.settings.minDate=this._formatDate(v,r)),null!==t&&l.dateFormat!==h&&l.maxDate===h&&(v.settings.maxDate=this._formatDate(v,t)),"disabled"in
l&&(l.disabled?this._disableDatepicker(b):this._enableDatepicker(b)),this._attachments(a(b),v),this._autoSize(v),this._setDate(v,q),this._updateAlternate(v),this._updateDatepicker(v))},_changeDatepicker:function(a,b,e){this._optionDatepicker(a,b,e)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){var e=this._getInst(a);e&&(this._setDate(e,b),this._updateDatepicker(e),this._updateAlternate(e))},_getDateDatepicker:function(a,b){var e=
this._getInst(a);return e&&!e.inline&&this._setDateFromField(e,b),e?this._getDate(e):null},_doKeyDown:function(b){var e,f,g,l=a.datepicker._getInst(b.target),h=!0,t=l.dpDiv.is(".ui-datepicker-rtl");l._keyEvent=!0;if(a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker();h=!1;break;case 13:return g=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",l.dpDiv),g[0]&&a.datepicker._selectDay(b.target,l.selectedMonth,l.selectedYear,g[0]),e=a.datepicker._get(l,
"onSelect"),e?(f=a.datepicker._formatDate(l),e.apply(l.input?l.input[0]:null,[f,l])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(l,"stepBigMonths"):-a.datepicker._get(l,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(l,"stepBigMonths"):+a.datepicker._get(l,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target);
h=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target);h=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,t?1:-1,"D");h=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(l,"stepBigMonths"):-a.datepicker._get(l,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D");h=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&
a.datepicker._adjustDate(b.target,t?-1:1,"D");h=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(l,"stepBigMonths"):+a.datepicker._get(l,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D");h=b.ctrlKey||b.metaKey;break;default:h=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):h=!1;h&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var e,f,g=a.datepicker._getInst(b.target);
if(a.datepicker._get(g,"constrainInput"))return e=a.datepicker._possibleChars(a.datepicker._get(g,"dateFormat")),f=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">f||!e||-1<e.indexOf(f)},_doKeyUp:function(b){var e;b=a.datepicker._getInst(b.target);if(b.input.val()!==b.lastVal)try{(e=a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,a.datepicker._getFormatConfig(b)))&&(a.datepicker._setDateFromField(b),a.datepicker._updateAlternate(b),
a.datepicker._updateDatepicker(b))}catch(f){}return!0},_showDatepicker:function(b){b=b.target||b;"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]);if(!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var e,f,l,h,r;e=a.datepicker._getInst(b);a.datepicker._curInst&&a.datepicker._curInst!==e&&(a.datepicker._curInst.dpDiv.stop(!0,!0),e&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0]));f=(f=a.datepicker._get(e,"beforeShow"))?
f.apply(b,[b,e]):{};!1!==f&&(g(e.settings,f),e.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(e),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),l=!1,a(b).parents().each(function(){return l|="fixed"===a(this).css("position"),!l}),f={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
a.datepicker._updateDatepicker(e),f=a.datepicker._checkOffset(e,f,l),e.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":l?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),e.inline||(h=a.datepicker._get(e,"showAnim"),r=a.datepicker._get(e,"duration"),e.dpDiv.zIndex(a(b).zIndex()+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[h]?e.dpDiv.show(h,a.datepicker._get(e,"showOptions"),r):e.dpDiv[h||"show"](h?r:null),e.input.is(":visible")&&!e.input.is(":disabled")&&
e.input.focus(),a.datepicker._curInst=e))}},_updateDatepicker:function(b){this.maxRows=4;l=b;b.dpDiv.empty().append(this._generateHTML(b));this._attachHandlers(b);b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e,f=this._getNumberOfMonths(b),g=f[1];b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<g&&b.dpDiv.addClass("ui-datepicker-multi-"+g).css("width",17*g+"em");b.dpDiv[(1!==f[0]||1!==f[1]?"add":"remove")+"Class"]("ui-datepicker-multi");
b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&b.input&&b.input.is(":visible")&&!b.input.is(":disabled")&&b.input[0]!==document.activeElement&&b.input.focus();b.yearshtml&&(e=b.yearshtml,setTimeout(function(){e===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);e=b.yearshtml=null},0))},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||
a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(b,e,f){var g=b.dpDiv.outerWidth(),l=b.dpDiv.outerHeight(),h=b.input?b.input.outerWidth():0,t=b.input?b.input.outerHeight():0,v=document.documentElement.clientWidth+(f?0:a(document).scrollLeft()),x=document.documentElement.clientHeight+(f?0:a(document).scrollTop());return e.left-=this._get(b,"isRTL")?g-h:0,e.left-=f&&e.left===b.input.offset().left?a(document).scrollLeft():0,e.top-=f&&
e.top===b.input.offset().top+t?a(document).scrollTop():0,e.left-=Math.min(e.left,e.left+g>v&&v>g?Math.abs(e.left+g-v):0),e.top-=Math.min(e.top,e.top+l>x&&x>l?Math.abs(l+t):0),e},_findPos:function(b){for(var e,f=this._getInst(b),f=this._get(f,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[f?"previousSibling":"nextSibling"];return e=a(b).offset(),[e.left,e.top]},_hideDatepicker:function(b){var e,f,g,l,h=this._curInst;!h||b&&h!==a.data(b,"datepicker")||this._datepickerShowing&&
(e=this._get(h,"showAnim"),f=this._get(h,"duration"),g=function(){a.datepicker._tidyDialog(h)},a.effects&&(a.effects.effect[e]||a.effects[e])?h.dpDiv.hide(e,a.datepicker._get(h,"showOptions"),f,g):h.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?f:null,g),e||g(),this._datepickerShowing=!1,l=this._get(h,"onClose"),l&&l.apply(h.input?h.input[0]:null,[h.input?h.input.val():"",h]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),
a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){b=a(b.target);var e=a.datepicker._getInst(b[0]);(!(b[0].id===a.datepicker._mainDivId||0!==b.parents("#"+a.datepicker._mainDivId).length||b.hasClass(a.datepicker.markerClassName)||b.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&
a.blockUI)||b.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==e)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,e,f){b=a(b);var g=this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(g,e+("M"===f?this._get(g,"showCurrentAtPos"):0),f),this._updateDatepicker(g))},_gotoToday:function(b){var e;b=a(b);var f=this._getInst(b[0]);this._get(f,"gotoCurrent")&&f.currentDay?(f.selectedDay=f.currentDay,f.drawMonth=f.selectedMonth=f.currentMonth,f.drawYear=f.selectedYear=
f.currentYear):(e=new Date,f.selectedDay=e.getDate(),f.drawMonth=f.selectedMonth=e.getMonth(),f.drawYear=f.selectedYear=e.getFullYear());this._notifyChange(f);this._adjustDate(b)},_selectMonthYear:function(b,e,f){b=a(b);var g=this._getInst(b[0]);g["selected"+("M"===f?"Month":"Year")]=g["draw"+("M"===f?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10);this._notifyChange(g);this._adjustDate(b)},_selectDay:function(b,e,f,g){var l;l=a(b);a(g).hasClass(this._unselectableClass)||this._isDisabledDatepicker(l[0])||
(l=this._getInst(l[0]),l.selectedDay=l.currentDay=a("a",g).html(),l.selectedMonth=l.currentMonth=e,l.selectedYear=l.currentYear=f,this._selectDate(b,this._formatDate(l,l.currentDay,l.currentMonth,l.currentYear)))},_clearDate:function(b){b=a(b);this._selectDate(b,"")},_selectDate:function(b,e){var f;f=a(b);var g=this._getInst(f[0]);e=null!=e?e:this._formatDate(g);g.input&&g.input.val(e);this._updateAlternate(g);(f=this._get(g,"onSelect"))?f.apply(g.input?g.input[0]:null,[e,g]):g.input&&g.input.trigger("change");
g.inline?this._updateDatepicker(g):(this._hideDatepicker(),this._lastInput=g.input[0],"object"!=typeof g.input[0]&&g.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var e,f,g,l=this._get(b,"altField");l&&(e=this._get(b,"altFormat")||this._get(b,"dateFormat"),f=this._getDate(b),g=this.formatDate(e,f,this._getFormatConfig(b)),a(l).each(function(){a(this).val(g)}))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b;a=new Date(a.getTime());return a.setDate(a.getDate()+
4-(a.getDay()||7)),b=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(b,e,f){if(null==b||null==e)throw"Invalid arguments";e="object"==typeof e?e.toString():e+"";if(""===e)return null;var g,l,h,t=0;l=(f?f.shortYearCutoff:null)||this._defaults.shortYearCutoff;l="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10);h=(f?f.dayNamesShort:null)||this._defaults.dayNamesShort;var v=(f?f.dayNames:null)||this._defaults.dayNames,x=(f?f.monthNamesShort:
null)||this._defaults.monthNamesShort,y=(f?f.monthNames:null)||this._defaults.monthNames,z=f=-1,B=-1,E=-1,w=!1,A,D=function(a){a=g+1<b.length&&b.charAt(g+1)===a;return a&&g++,a},F=function(a){var b=D(a);a=new RegExp("^\\d{1,"+("@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2)+"}");a=e.substring(t).match(a);if(!a)throw"Missing number at position "+t;return t+=a[0].length,parseInt(a[0],10)},K=function(b,f,g){var k=-1;b=a.map(D(b)?g:f,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-
b[1].length)});a.each(b,function(a,b){var f=b[1];if(e.substr(t,f.length).toLowerCase()===f.toLowerCase())return k=b[0],t+=f.length,!1});if(-1!==k)return k+1;throw"Unknown name at position "+t;},G=function(){if(e.charAt(t)!==b.charAt(g))throw"Unexpected literal at position "+t;t++};for(g=0;g<b.length;g++)if(w)"'"!==b.charAt(g)||D("'")?G():w=!1;else switch(b.charAt(g)){case "d":B=F("d");break;case "D":K("D",h,v);break;case "o":E=F("o");break;case "m":z=F("m");break;case "M":z=K("M",x,y);break;case "y":f=
F("y");break;case "@":A=new Date(F("@"));f=A.getFullYear();z=A.getMonth()+1;B=A.getDate();break;case "!":A=new Date((F("!")-this._ticksTo1970)/1E4);f=A.getFullYear();z=A.getMonth()+1;B=A.getDate();break;case "'":D("'")?G():w=!0;break;default:G()}if(t<e.length&&(h=e.substr(t),!/^\s+/.test(h)))throw"Extra/unparsed characters found in date: "+h;-1===f?f=(new Date).getFullYear():100>f&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=l?0:-100));if(-1<E){z=1;B=E;do{l=this._getDaysInMonth(f,
z-1);if(B<=l)break;z++;B-=l}while(1)}A=this._daylightSavingAdjust(new Date(f,z-1,B));if(A.getFullYear()!==f||A.getMonth()+1!==z||A.getDate()!==B)throw"Invalid date";return A},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,e){if(!b)return"";
var f,g=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,l=(e?e.dayNames:null)||this._defaults.dayNames,h=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort;e=(e?e.monthNames:null)||this._defaults.monthNames;var v=function(b){b=f+1<a.length&&a.charAt(f+1)===b;return b&&f++,b},x=function(a,b,e){b=""+b;if(v(a))for(;b.length<e;)b="0"+b;return b},y=function(a,b,e,f){return v(a)?f[b]:e[b]},z="",B=!1;if(b)for(f=0;f<a.length;f++)if(B)"'"!==a.charAt(f)||v("'")?z+=a.charAt(f):B=!1;else switch(a.charAt(f)){case "d":z+=
x("d",b.getDate(),2);break;case "D":z+=y("D",b.getDay(),g,l);break;case "o":z+=x("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":z+=x("m",b.getMonth()+1,2);break;case "M":z+=y("M",b.getMonth(),h,e);break;case "y":z+=v("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":z+=b.getTime();break;case "!":z+=1E4*b.getTime()+this._ticksTo1970;break;case "'":v("'")?z+="'":B=!0;break;
default:z+=a.charAt(f)}return z},_possibleChars:function(a){var b,e="",f=!1,g=function(e){e=b+1<a.length&&a.charAt(b+1)===e;return e&&b++,e};for(b=0;b<a.length;b++)if(f)"'"!==a.charAt(b)||g("'")?e+=a.charAt(b):f=!1;else switch(a.charAt(b)){case "d":case "m":case "y":case "@":e+="0123456789";break;case "D":case "M":return null;case "'":g("'")?e+="'":f=!0;break;default:e+=a.charAt(b)}return e},_get:function(a,b){return a.settings[b]!==h?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,
b){if(a.input.val()!==a.lastVal){var e=this._get(a,"dateFormat"),f=a.lastVal=a.input?a.input.val():null,g=this._getDefaultDate(a),l=g,h=this._getFormatConfig(a);try{l=this.parseDate(e,f,h)||g}catch(v){f=b?"":f}a.selectedDay=l.getDate();a.drawMonth=a.selectedMonth=l.getMonth();a.drawYear=a.selectedYear=l.getFullYear();a.currentDay=f?l.getDate():0;a.currentMonth=f?l.getMonth():0;a.currentYear=f?l.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,
this._get(a,"defaultDate"),new Date))},_determineDate:function(b,e,f){var g=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},l=function(e){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),e,a.datepicker._getFormatConfig(b))}catch(f){}for(var g=(e.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,l=g.getFullYear(),h=g.getMonth(),g=g.getDate(),m=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,n=m.exec(e);n;){switch(n[2]||"d"){case "d":case "D":g+=parseInt(n[1],
10);break;case "w":case "W":g+=7*parseInt(n[1],10);break;case "m":case "M":h+=parseInt(n[1],10);g=Math.min(g,a.datepicker._getDaysInMonth(l,h));break;case "y":case "Y":l+=parseInt(n[1],10),g=Math.min(g,a.datepicker._getDaysInMonth(l,h))}n=m.exec(e)}return new Date(l,h,g)};e=null==e||""===e?f:"string"==typeof e?l(e):"number"==typeof e?isNaN(e)?f:g(e):new Date(e.getTime());return e=e&&"Invalid Date"===e.toString()?f:e,e&&(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)),this._daylightSavingAdjust(e)},
_daylightSavingAdjust:function(a){return a?(a.setHours(12<a.getHours()?a.getHours()+2:0),a):null},_setDate:function(a,b,e){var f=!b,g=a.selectedMonth,l=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();g===a.selectedMonth&&l===a.selectedYear||e||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(f?"":this._formatDate(a))},
_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(b){var e=this._get(b,"stepMonths"),g="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){a(this).bind(this.getAttribute("data-event"),{prev:function(){window["DP_jQuery_"+f].datepicker._adjustDate(g,-e,"M")},next:function(){window["DP_jQuery_"+f].datepicker._adjustDate(g,+e,"M")},hide:function(){window["DP_jQuery_"+
f].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+f].datepicker._gotoToday(g)},selectDay:function(){return window["DP_jQuery_"+f].datepicker._selectDay(g,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+f].datepicker._selectMonthYear(g,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+f].datepicker._selectMonthYear(g,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,
e,f,g,l,h,v,x,y,z,B,E,w,A,D,F,K,G,M,J,N,L,R,P,X,T,da,O=new Date,O=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Z=this._get(a,"isRTL");h=this._get(a,"showButtonPanel");f=this._get(a,"hideIfNoPrevNext");l=this._get(a,"navigationAsDateFormat");var ga=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos");g=this._get(a,"stepMonths");var ka=1!==ga[0]||1!==ga[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,
9,9)),oa=this._getMinMaxDate(a,"min"),ta=this._getMinMaxDate(a,"max"),V=a.drawMonth-V,pa=a.drawYear;0>V&&(V+=12,pa--);if(ta)for(b=this._daylightSavingAdjust(new Date(ta.getFullYear(),ta.getMonth()-ga[0]*ga[1]+1,ta.getDate())),b=oa&&b<oa?oa:b;this._daylightSavingAdjust(new Date(pa,V,1))>b;)V--,0>V&&(V=11,pa--);a.drawMonth=V;a.drawYear=pa;b=this._get(a,"prevText");b=l?this.formatDate(b,this._daylightSavingAdjust(new Date(pa,V-g,1)),this._getFormatConfig(a)):b;b=this._canAdjustMonth(a,-1,pa,V)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+
b+"'><span class='ui-icon ui-icon-circle-triangle-"+(Z?"e":"w")+"'>"+b+"</span></a>":f?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(Z?"e":"w")+"'>"+b+"</span></a>";e=this._get(a,"nextText");e=l?this.formatDate(e,this._daylightSavingAdjust(new Date(pa,V+g,1)),this._getFormatConfig(a)):e;f=this._canAdjustMonth(a,1,pa,V)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+
(Z?"w":"e")+"'>"+e+"</span></a>":f?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Z?"w":"e")+"'>"+e+"</span></a>";g=this._get(a,"currentText");e=this._get(a,"gotoCurrent")&&a.currentDay?Y:O;g=l?this.formatDate(g,e,this._getFormatConfig(a)):g;l=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+
"</button>";h=h?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Z?l:"")+(this._isInRange(a,e)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(Z?"":l)+"</div>":"";l=parseInt(this._get(a,"firstDay"),10);l=isNaN(l)?0:l;g=this._get(a,"showWeek");e=this._get(a,"dayNames");v=this._get(a,"dayNamesMin");x=this._get(a,"monthNames");y=this._get(a,"monthNamesShort");z=this._get(a,
"beforeShowDay");B=this._get(a,"showOtherMonths");E=this._get(a,"selectOtherMonths");w=this._getDefaultDate(a);A="";D;for(F=0;F<ga[0];F++){K="";this.maxRows=4;for(G=0;G<ga[1];G++){M=this._daylightSavingAdjust(new Date(pa,V,a.selectedDay));D=" ui-corner-all";J="";if(ka){J+="<div class='ui-datepicker-group";if(1<ga[1])switch(G){case 0:J+=" ui-datepicker-group-first";D=" ui-corner-"+(Z?"right":"left");break;case ga[1]-1:J+=" ui-datepicker-group-last";D=" ui-corner-"+(Z?"left":"right");break;default:J+=
" ui-datepicker-group-middle",D=""}J+="'>"}J+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+D+"'>"+(/all|left/.test(D)&&0===F?Z?f:b:"")+(/all|right/.test(D)&&0===F?Z?b:f:"")+this._generateMonthYearHeader(a,V,pa,oa,ta,0<F||0<G,x,y)+"</div><table class='ui-datepicker-calendar'><thead><tr>";N=g?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(D=0;7>D;D++)L=(D+l)%7,N+="<th"+(5<=(D+l+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+e[L]+
"'>"+v[L]+"</span></th>";J+=N+"</tr></thead><tbody>";N=this._getDaysInMonth(pa,V);pa===a.selectedYear&&V===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,N));D=(this._getFirstDayOfMonth(pa,V)-l+7)%7;N=Math.ceil((D+N)/7);this.maxRows=N=ka?this.maxRows>N?this.maxRows:N:N;L=this._daylightSavingAdjust(new Date(pa,V,1-D));for(R=0;R<N;R++){J+="<tr>";P=g?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(L)+"</td>":"";for(D=0;7>D;D++)X=z?z.apply(a.input?a.input[0]:null,[L]):[!0,""],
da=(T=L.getMonth()!==V)&&!E||!X[0]||oa&&L<oa||ta&&L>ta,P+="<td class='"+(5<=(D+l+6)%7?" ui-datepicker-week-end":"")+(T?" ui-datepicker-other-month":"")+(L.getTime()===M.getTime()&&V===a.selectedMonth&&a._keyEvent||w.getTime()===L.getTime()&&w.getTime()===M.getTime()?" "+this._dayOverClass:"")+(da?" "+this._unselectableClass+" ui-state-disabled":"")+(T&&!B?"":" "+X[1]+(L.getTime()===Y.getTime()?" "+this._currentClass:"")+(L.getTime()===O.getTime()?" ui-datepicker-today":""))+"'"+(T&&!B||!X[2]?"":" title='"+
X[2].replace(/'/g,"&#39;")+"'")+(da?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(T&&!B?"&#xa0;":da?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===O.getTime()?" ui-state-highlight":"")+(L.getTime()===Y.getTime()?" ui-state-active":"")+(T?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);J+=P+"</tr>"}V++;
11<V&&(V=0,pa++);J+="</tbody></table>"+(ka?"</div>"+(0<ga[0]&&G===ga[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");K+=J}A+=K}return A+=h,a._keyEvent=!1,A},_generateMonthYearHeader:function(a,b,e,f,g,l,h,v){var x,y,z,B=this._get(a,"changeMonth"),E=this._get(a,"changeYear"),w=this._get(a,"showMonthAfterYear"),A="<div class='ui-datepicker-title'>",D="";if(l||!B)D+="<span class='ui-datepicker-month'>"+h[b]+"</span>";else{h=f&&f.getFullYear()===e;x=g&&g.getFullYear()===e;D+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";
for(y=0;12>y;y++)(!h||y>=f.getMonth())&&(!x||y<=g.getMonth())&&(D+="<option value='"+y+"'"+(y===b?" selected='selected'":"")+">"+v[y]+"</option>");D+="</select>"}w||(A+=D+(!l&&B&&E?"":"&#xa0;"));if(!a.yearshtml)if(a.yearshtml="",l||!E)A+="<span class='ui-datepicker-year'>"+e+"</span>";else{v=this._get(a,"yearRange").split(":");z=(new Date).getFullYear();h=function(a){a=a.match(/c[+\-].*/)?e+parseInt(a.substring(1),10):a.match(/[+\-].*/)?z+parseInt(a,10):parseInt(a,10);return isNaN(a)?z:a};b=h(v[0]);
v=Math.max(b,h(v[1]||""));b=f?Math.max(b,f.getFullYear()):b;v=g?Math.min(v,g.getFullYear()):v;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";b<=v;b++)a.yearshtml+="<option value='"+b+"'"+(b===e?" selected='selected'":"")+">"+b+"</option>";a.yearshtml+="</select>";A+=a.yearshtml;a.yearshtml=null}return A+=this._get(a,"yearSuffix"),w&&(A+=(!l&&B&&E?"":"&#xa0;")+D),A+="</div>",A},_adjustInstDate:function(a,b,e){var f=a.drawYear+("Y"===e?b:0),g=a.drawMonth+
("M"===e?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(f,g))+("D"===e?b:0);f=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(f,g,b)));a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();"M"!==e&&"Y"!==e||this._notifyChange(a)},_restrictMinMax:function(a,b){var e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),e=e&&b<e?e:b;return f&&e>f?f:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?
a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,e,f){var g=this._getNumberOfMonths(a);e=this._daylightSavingAdjust(new Date(e,
f+(0>b?b:g[0]*g[1]),1));return 0>b&&e.setDate(this._getDaysInMonth(e.getFullYear(),e.getMonth())),this._isInRange(a,e)},_isInRange:function(a,b){var e,f,g=this._getMinMaxDate(a,"min"),l=this._getMinMaxDate(a,"max"),h=null,v=null,x=this._get(a,"yearRange");return x&&(e=x.split(":"),f=(new Date).getFullYear(),h=parseInt(e[0],10),v=parseInt(e[1],10),e[0].match(/[+\-].*/)&&(h+=f),e[1].match(/[+\-].*/)&&(v+=f)),(!g||b.getTime()>=g.getTime())&&(!l||b.getTime()<=l.getTime())&&(!h||b.getFullYear()>=h)&&(!v||
b.getFullYear()<=v)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,e,f){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(f,
e,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0);0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==
b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(e)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(e))};a.datepicker=new b;a.datepicker.initialized=!1;a.datepicker.uuid=(new Date).getTime();a.datepicker.version=
"1.10.1";window["DP_jQuery_"+f]=a})(jQuery);
(function(a,h){var b={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},e={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.10.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var e=a(this).css(b).offset().top;
0>e&&a(this).css("top",b.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};
this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&a.fn.draggable&&this._makeDraggable();this.options.resizable&&a.fn.resizable&&this._makeResizable();this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=
this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);a=b.parent.children().eq(b.index);a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},
widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var e=this;this._isOpen&&!1!==this._trigger("beforeClose",b)&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||a(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",b)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(a,b){var e=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;
return e&&!b&&this._trigger("focus",a),e},open:function(){var b=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable();b._trigger("focus")}),this._trigger("open"))},_focusTabbable:function(){var a=this.element.find("[autofocus]");a.length||(a=this.element.find(":tabbable"));a.length||
(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));a.length||(a=this.uiDialog);a.eq(0).focus()},_keepFocus:function(b){function e(){var b=this.document[0].activeElement;this.uiDialog[0]===b||a.contains(this.uiDialog[0],b)||this._focusTabbable()}b.preventDefault();e.call(this);this._delay(e)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,
role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)b.preventDefault(),this.close(b);else if(b.keyCode===a.ui.keyCode.TAB){var e=this.uiDialog.find(":tabbable"),l=e.filter(":first"),e=e.filter(":last");b.target!==e[0]&&b.target!==this.uiDialog[0]||b.shiftKey?(b.target===l[0]||b.target===this.uiDialog[0])&&b.shiftKey&&(e.focus(1),b.preventDefault()):(l.focus(1),b.preventDefault())}},
mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});this.uiDialogTitlebarClose=
a("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});b=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(b);this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title||a.html("&#160;");a.text(this.options.title)},
_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var b=this,e=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();a.isEmptyObject(e)||a.isArray(e)&&!e.length?this.uiDialog.removeClass("ui-dialog-buttons"):(a.each(e,function(e,f){var h,m;f=a.isFunction(f)?
{click:f,text:e}:f;f=a.extend({type:"button"},f);h=f.click;f.click=function(){h.apply(b.element[0],arguments)};m={icons:f.icons,text:f.showText};delete f.icons;delete f.showText;a("<button></button>",f).button(m).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var e=this,l=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",
handle:".ui-dialog-titlebar",containment:"document",start:function(k,l){a(this).addClass("ui-dialog-dragging");e._blockFrames();e._trigger("dragStart",k,b(l))},drag:function(a,l){e._trigger("drag",a,b(l))},stop:function(k,h){l.position=[h.position.left-e.document.scrollLeft(),h.position.top-e.document.scrollTop()];a(this).removeClass("ui-dialog-dragging");e._unblockFrames();e._trigger("dragStop",k,b(h))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,
position:a.position,size:a.size}}var e=this,l=this.options,k=l.resizable,h=this.uiDialog.css("position"),k="string"==typeof k?k:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:l.maxWidth,maxHeight:l.maxHeight,minWidth:l.minWidth,minHeight:this._minHeight(),handles:k,start:function(k,l){a(this).addClass("ui-dialog-resizing");e._blockFrames();e._trigger("resizeStart",k,b(l))},resize:function(a,k){e._trigger("resize",
a,b(k))},stop:function(k,h){l.height=a(this).height();l.width=a(this).width();a(this).removeClass("ui-dialog-resizing");e._unblockFrames();e._trigger("resizeStop",k,b(h))}}).css("position",h)},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show();this.uiDialog.position(this.options.position);a||this.uiDialog.hide()},_setOptions:function(g){var f=this,l=!1,k={};a.each(g,
function(a,g){f._setOption(a,g);a in b&&(l=!0);a in e&&(k[a]=g)});l&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",k)},_setOption:function(a,b){var e,k,h=this.uiDialog;"dialogClass"===a&&h.removeClass(this.options.dialogClass).addClass(b);"disabled"!==a&&(this._super(a,b),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+b}),"draggable"===
a&&(e=h.is(":data(ui-draggable)"),e&&!b&&h.draggable("destroy"),!e&&b&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&(k=h.is(":data(ui-resizable)"),k&&!b&&h.resizable("destroy"),k&&"string"==typeof b&&h.resizable("option","handles",b),!k&&!1!==b&&this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,e,k=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});k.minWidth>
k.width&&(k.width=k.minWidth);a=this.uiDialog.css({height:"auto",width:k.width}).outerHeight();b=Math.max(0,k.minHeight-a);e="number"==typeof k.maxHeight?Math.max(0,k.maxHeight-a):"none";"auto"===k.height?this.element.css({minHeight:b,maxHeight:e,height:"auto"}):this.element.height(Math.max(0,k.height-a));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=
a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_createOverlay:function(){this.options.modal&&(a.ui.dialog.overlayInstances||this._delay(function(){a.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(b){a(b.target).closest(".ui-dialog").length||a(b.target).closest(".ui-datepicker").length||
(b.preventDefault(),a(".ui-dialog:visible:last .ui-dialog-content").data("ui-dialog")._focusTabbable())})}),this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),a.ui.dialog.overlayInstances++)},_destroyOverlay:function(){this.options.modal&&this.overlay&&(a.ui.dialog.overlayInstances--,a.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}});a.ui.dialog.overlayInstances=
0;!1!==a.uiBackCompat&&a.widget("ui.dialog",a.ui.dialog,{_position:function(){var b=this.options.position,e=[],l=[0,0],k;if(b){if("string"==typeof b||"object"==typeof b&&"0"in b)e=b.split?b.split(" "):[b[0],b[1]],1===e.length&&(e[1]=e[0]),a.each(["left","top"],function(a,b){+e[a]===e[a]&&(l[a]=e[a],e[a]=b)}),b={my:e[0]+(0>l[0]?l[0]:"+"+l[0])+" "+e[1]+(0>l[1]?l[1]:"+"+l[1]),at:e.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;(k=this.uiDialog.is(":visible"))||
this.uiDialog.show();this.uiDialog.position(b);k||this.uiDialog.hide()}})})(jQuery);
(function(a,h){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&
!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(b){var e=this.options;return this.helper||e.disabled||0<a(b.target).closest(".ui-resizable-handle").length?
!1:(this.handle=this._getHandle(b),this.handle?(a(!0===e.iframeFix?"iframe":e.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var e=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),
a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),
this.originalPageX=b.pageX,this.originalPageY=b.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),e.containment&&this._setContainment(),!1===this._trigger("start",b)?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,e){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!e){var g=
this._uiHash();if(!1===this._trigger("drag",b,g))return this._mouseUp({}),!1;this.position=g.position}this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");return a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var e,g=this,f=!1,l=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(l=a.ui.ddmanager.drop(this,b));this.dropped&&(l=this.dropped,this.dropped=
!1);for(e=this.element[0];e&&(e=e.parentNode);)e===document&&(f=!0);return f||"original"!==this.options.helper?("invalid"===this.options.revert&&!l||"valid"===this.options.revert&&l||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,l)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==g._trigger("stop",b)&&g._clear()}):!1!==this._trigger("stop",b)&&this._clear(),!1):!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),
a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var e=this.options.handle&&a(this.options.handle,this.element).length?!1:!0;return a(this.options.handle,this.element).find("*").addBack().each(function(){this===b.target&&(e=!0)}),e},_createHelper:function(b){var e=this.options;b=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],
[b])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return b.parents("body").length||b.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),b[0]!==this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position","absolute"),b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-
b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===
document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||
0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,e,g;b=this.options;"parent"===b.containment&&
(b.containment=this.helper[0].parentNode);if("document"===b.containment||"window"===b.containment)this.containment=["document"===b.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"===b.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"===b.containment?0:a(window).scrollLeft())+a("document"===b.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"===b.containment?0:
a(window).scrollTop())+(a("document"===b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(/^(document|window|parent)$/.test(b.containment)||b.containment.constructor===Array)b.containment.constructor===Array&&(this.containment=b.containment);else if(e=a(b.containment),g=e[0])b="hidden"!==a(g).css("overflow"),this.containment=[(parseInt(a(g).css("borderLeftWidth"),10)||0)+(parseInt(a(g).css("paddingLeft"),10)||0),(parseInt(a(g).css("borderTopWidth"),
10)||0)+(parseInt(a(g).css("paddingTop"),10)||0),(b?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(a(g).css("borderLeftWidth"),10)||0)-(parseInt(a(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(a(g).css("borderTopWidth"),10)||0)-(parseInt(a(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=e},
_convertPositionTo:function(b,e){e||(e=this.position);var g="absolute"===b?1:-1,f="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(f[0].tagName);return{top:e.top+this.offset.relative.top*g+this.offset.parent.top*g-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:f.scrollTop())*g,left:e.left+this.offset.relative.left*g+this.offset.parent.left*g-("fixed"===this.cssPosition?
-this.scrollParent.scrollLeft():l?0:f.scrollLeft())*g}},_generatePosition:function(b){var e,g,f,l,k=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,m=/(html|body)/i.test(h[0].tagName),p=b.pageX,q=b.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(g=this.relative_container.offset(),e=[this.containment[0]+g.left,this.containment[1]+g.top,this.containment[2]+
g.left,this.containment[3]+g.top]):e=this.containment,b.pageX-this.offset.click.left<e[0]&&(p=e[0]+this.offset.click.left),b.pageY-this.offset.click.top<e[1]&&(q=e[1]+this.offset.click.top),b.pageX-this.offset.click.left>e[2]&&(p=e[2]+this.offset.click.left),b.pageY-this.offset.click.top>e[3]&&(q=e[3]+this.offset.click.top)),k.grid&&(f=k.grid[1]?this.originalPageY+Math.round((q-this.originalPageY)/k.grid[1])*k.grid[1]:this.originalPageY,q=e?f-this.offset.click.top>=e[1]||f-this.offset.click.top>e[3]?
f:f-this.offset.click.top>=e[1]?f-k.grid[1]:f+k.grid[1]:f,l=k.grid[0]?this.originalPageX+Math.round((p-this.originalPageX)/k.grid[0])*k.grid[0]:this.originalPageX,p=e?l-this.offset.click.left>=e[0]||l-this.offset.click.left>e[2]?l:l-this.offset.click.left>=e[0]?l-k.grid[0]:l+k.grid[0]:l)),{top:q-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():m?0:h.scrollTop()),left:p-this.offset.click.left-this.offset.relative.left-
this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():m?0:h.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(b,e,g){return g=g||this._uiHash(),a.ui.plugin.call(this,b,[e,g]),"drag"===b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,e,g)},plugins:{},
_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(b,e){var g=a(this).data("ui-draggable"),f=g.options,l=a.extend({},e,{item:g.element});g.sortables=[];a(f.connectToSortable).each(function(){var e=a.data(this,"ui-sortable");e&&!e.options.disabled&&(g.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",
b,l))})},stop:function(b,e){var g=a(this).data("ui-draggable"),f=a.extend({},e,{item:g.element});a.each(g.sortables,function(){this.instance.isOver?(this.instance.isOver=0,g.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"===g.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",
b,f))})},drag:function(b,e){var g=a(this).data("ui-draggable"),f=this;a.each(g.sortables,function(){var l=!1,k=this;this.instance.positionAbs=g.positionAbs;this.instance.helperProportions=g.helperProportions;this.instance.offset.click=g.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&(l=!0,a.each(g.sortables,function(){return this.instance.positionAbs=g.positionAbs,this.instance.helperProportions=g.helperProportions,this.instance.offset.click=g.offset.click,this!==k&&this.instance._intersectsWith(this.instance.containerCache)&&
a.contains(k.instance.element[0],this.instance.element[0])&&(l=!1),l}));l?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(f).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return e.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=g.offset.click.top,
this.instance.offset.click.left=g.offset.click.left,this.instance.offset.parent.left-=g.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=g.offset.parent.top-this.instance.offset.parent.top,g._trigger("toSortable",b),g.dropped=this.instance.element,g.currentItem=g.element,this.instance.fromOutside=g),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=
!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),g._trigger("fromSortable",b),g.dropped=!1)})}});a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),e=a(this).data("ui-draggable").options;b.css("cursor")&&(e._cursor=b.css("cursor"));b.css("cursor",e.cursor)},stop:function(){var b=
a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(b,e){var g=a(e.helper),f=a(this).data("ui-draggable").options;g.css("opacity")&&(f._opacity=g.css("opacity"));g.css("opacity",f.opacity)},stop:function(b,e){var g=a(this).data("ui-draggable").options;g._opacity&&a(e.helper).css("opacity",g._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==
document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var e=a(this).data("ui-draggable"),g=e.options,f=!1;e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName?(g.axis&&"x"===g.axis||(e.overflowOffset.top+e.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?e.scrollParent[0].scrollTop=f=e.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-e.overflowOffset.top<g.scrollSensitivity&&(e.scrollParent[0].scrollTop=f=e.scrollParent[0].scrollTop-
g.scrollSpeed)),g.axis&&"y"===g.axis||(e.overflowOffset.left+e.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?e.scrollParent[0].scrollLeft=f=e.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-e.overflowOffset.left<g.scrollSensitivity&&(e.scrollParent[0].scrollLeft=f=e.scrollParent[0].scrollLeft-g.scrollSpeed))):(g.axis&&"x"===g.axis||(b.pageY-a(document).scrollTop()<g.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<
g.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed))),g.axis&&"y"===g.axis||(b.pageX-a(document).scrollLeft()<g.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<g.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed))));!1!==f&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(e,b)}});a.ui.plugin.add("draggable","snap",{start:function(){var b=
a(this).data("ui-draggable"),e=b.options;b.snapElements=[];a(e.snap.constructor!==String?e.snap.items||":data(ui-draggable)":e.snap).each(function(){var e=a(this),f=e.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:f.top,left:f.left})})},drag:function(b,e){var g,f,l,k,h,m,p,q,r,t,v=a(this).data("ui-draggable"),x=v.options,y=x.snapTolerance,z=e.offset.left,B=z+v.helperProportions.width,E=e.offset.top,w=E+v.helperProportions.height;for(r=
v.snapElements.length-1;0<=r;r--)h=v.snapElements[r].left,m=h+v.snapElements[r].width,p=v.snapElements[r].top,q=p+v.snapElements[r].height,h-y<z&&z<m+y&&p-y<E&&E<q+y||h-y<z&&z<m+y&&p-y<w&&w<q+y||h-y<B&&B<m+y&&p-y<E&&E<q+y||h-y<B&&B<m+y&&p-y<w&&w<q+y?("inner"!==x.snapMode&&(g=Math.abs(p-w)<=y,f=Math.abs(q-E)<=y,l=Math.abs(h-B)<=y,k=Math.abs(m-z)<=y,g&&(e.position.top=v._convertPositionTo("relative",{top:p-v.helperProportions.height,left:0}).top-v.margins.top),f&&(e.position.top=v._convertPositionTo("relative",
{top:q,left:0}).top-v.margins.top),l&&(e.position.left=v._convertPositionTo("relative",{top:0,left:h-v.helperProportions.width}).left-v.margins.left),k&&(e.position.left=v._convertPositionTo("relative",{top:0,left:m}).left-v.margins.left)),t=g||f||l||k,"outer"!==x.snapMode&&(g=Math.abs(p-E)<=y,f=Math.abs(q-w)<=y,l=Math.abs(h-z)<=y,k=Math.abs(m-B)<=y,g&&(e.position.top=v._convertPositionTo("relative",{top:p,left:0}).top-v.margins.top),f&&(e.position.top=v._convertPositionTo("relative",{top:q-v.helperProportions.height,
left:0}).top-v.margins.top),l&&(e.position.left=v._convertPositionTo("relative",{top:0,left:h}).left-v.margins.left),k&&(e.position.left=v._convertPositionTo("relative",{top:0,left:m-v.helperProportions.width}).left-v.margins.left)),!v.snapElements[r].snapping&&(g||f||l||k||t)&&v.options.snap.snap&&v.options.snap.snap.call(v.element,b,a.extend(v._uiHash(),{snapItem:v.snapElements[r].item})),v.snapElements[r].snapping=g||f||l||k||t):(v.snapElements[r].snapping&&v.options.snap.release&&v.options.snap.release.call(v.element,
b,a.extend(v._uiHash(),{snapItem:v.snapElements[r].item})),v.snapElements[r].snapping=!1)}});a.ui.plugin.add("draggable","stack",{start:function(){var b,e=this.data("ui-draggable").options,e=a.makeArray(a(e.stack)).sort(function(b,e){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(e).css("zIndex"),10)||0)});e.length&&(b=parseInt(a(e[0]).css("zIndex"),10)||0,a(e).each(function(e){a(this).css("zIndex",b+e)}),this.css("zIndex",b+e.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(b,
e){var g=a(e.helper),f=a(this).data("ui-draggable").options;g.css("zIndex")&&(f._zIndex=g.css("zIndex"));g.css("zIndex",f.zIndex)},stop:function(b,e){var g=a(this).data("ui-draggable").options;g._zIndex&&a(e.helper).css("zIndex",g._zIndex)}})})(jQuery);
(function(a,h){a.widget("ui.droppable",{version:"1.10.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b=this.options,e=b.accept;this.isover=!1;this.isout=!0;this.accept=a.isFunction(e)?e:function(a){return a.is(e)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[b.scope]=
a.ui.ddmanager.droppables[b.scope]||[];a.ui.ddmanager.droppables[b.scope].push(this);b.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var b=0,e=a.ui.ddmanager.droppables[this.options.scope];b<e.length;b++)e[b]===this&&e.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,e){"accept"===b&&(this.accept=a.isFunction(e)?e:function(a){return a.is(e)});a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var e=
a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);e&&this._trigger("activate",b,this.ui(e))},_deactivate:function(b){var e=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);e&&this._trigger("deactivate",b,this.ui(e))},_over:function(b){var e=a.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),
this._trigger("over",b,this.ui(e)))},_out:function(b){var e=a.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(e)))},_drop:function(b,e){var g=e||a.ui.ddmanager.current,f=!1;return g&&(g.currentItem||g.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=
a.data(this,"ui-droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope===g.options.scope&&b.accept.call(b.element[0],g.currentItem||g.element)&&a.ui.intersect(g,a.extend(b,{offset:b.element.offset()}),b.options.tolerance))return f=!0,!1}),f?!1:this.accept.call(this.element[0],g.currentItem||g.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(g)),
this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.ui.intersect=function(a,e,g){if(!e.offset)return!1;var f,l,k=(a.positionAbs||a.position.absolute).left,h=k+a.helperProportions.width,m=(a.positionAbs||a.position.absolute).top,p=m+a.helperProportions.height,q=e.offset.left,r=q+e.proportions.width,t=e.offset.top,v=t+e.proportions.height;switch(g){case "fit":return q<=k&&h<=r&&t<=m&&p<=v;case "intersect":return q<
k+a.helperProportions.width/2&&h-a.helperProportions.width/2<r&&t<m+a.helperProportions.height/2&&p-a.helperProportions.height/2<v;case "pointer":return f=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,l=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,l>t&&l<t+e.proportions.height&&f>q&&f<q+e.proportions.width;case "touch":return(m>=t&&m<=v||p>=t&&p<=v||m<t&&p>v)&&(k>=q&&k<=r||h>=q&&h<=r||k<q&&h>r);default:return!1}};a.ui.ddmanager={current:null,
droppables:{"default":[]},prepareOffsets:function(b,e){var g,f,l=a.ui.ddmanager.droppables[b.options.scope]||[],k=e?e.type:null,h=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();g=0;a:for(;g<l.length;g++)if(!(l[g].options.disabled||b&&!l[g].accept.call(l[g].element[0],b.currentItem||b.element))){for(f=0;f<h.length;f++)if(h[f]===l[g].element[0]){l[g].proportions.height=0;continue a}l[g].visible="none"!==l[g].element.css("display");l[g].visible&&("mousedown"===k&&l[g]._activate.call(l[g],
e),l[g].offset=l[g].element.offset(),l[g].proportions={width:l[g].element[0].offsetWidth,height:l[g].element[0].offsetHeight})}},drop:function(b,e){var g=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(g=this._drop.call(this,e)||g),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,
e)))}),g},dragStart:function(b,e){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,e)})},drag:function(b,e){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,e);a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var g,f,l,k=a.ui.intersect(b,this,this.options.tolerance);if(k=!k&&this.isover?"isout":k&&!this.isover?"isover":null)this.options.greedy&&
(f=this.options.scope,l=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===f}),l.length&&(g=a.data(l[0],"ui-droppable"),g.greedyChild="isover"===k)),g&&"isover"===k&&(g.isover=!1,g.isout=!0,g._out.call(g,e)),this[k]=!0,this["isout"===k?"isover":"isout"]=!1,this["isover"===k?"_over":"_out"].call(this,e),g&&"isout"===k&&(g.isout=!1,g.isover=!0,g._over.call(g,e))}})},dragStop:function(b,e){b.element.parentsUntil("body").unbind("scroll.droppable");
b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,e)}}})(jQuery);
jQuery.effects||function(a,h){a.effects={effect:{}};(function(a,e){function g(a,b,e){var f=q[b.type]||{};return null==a?e||!b.def?null:b.def:(a=f.floor?~~a:parseFloat(a),isNaN(a)?b.def:f.mod?(a+f.mod)%f.mod:0>a?0:f.max<a?f.max:a)}function f(e){var f=m(),g=f._rgba=[];return e=e.toLowerCase(),x(h,function(a,b){var k,l=b.re.exec(e),l=l&&b.parse(l),h=b.space||"rgba";if(l)return k=f[h](l),f[p[h].cache]=k[p[h].cache],g=f._rgba=k._rgba,!1}),g.length?("0,0,0,0"===g.join()&&a.extend(g,v.transparent),f):v[e]}
function l(a,b,e){return e=(e+1)%1,1>6*e?a+(b-a)*e*6:1>2*e?b:2>3*e?a+(b-a)*(2/3-e)*6:a}var k=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],
16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],m=a.Color=function(e,f,g,k){return new a.Color.fn.parse(e,f,g,k)},p={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,
type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},q={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},r=m.support={},t=a("<p>")[0],v,x=a.each;t.style.cssText="background-color:rgba(1,1,1,.5)";r.rgba=-1<t.style.backgroundColor.indexOf("rgba");x(p,function(a,b){b.cache="_"+a;b.props.alpha={idx:3,type:"percent",def:1}});m.fn=a.extend(m.prototype,{parse:function(k,l,h,n){if(k===e)return this._rgba=[null,null,
null,null],this;if(k.jquery||k.nodeType)k=a(k).css(l),l=e;var r=this,q=a.type(k),t=this._rgba=[];l!==e&&(k=[k,l,h,n],q="array");if("string"===q)return this.parse(f(k)||v._default);if("array"===q)return x(p.rgba.props,function(a,b){t[b.idx]=g(k[b.idx],b)}),this;if("object"===q)return k instanceof m?x(p,function(a,b){k[b.cache]&&(r[b.cache]=k[b.cache].slice())}):x(p,function(e,f){var l=f.cache;x(f.props,function(a,b){if(!r[l]&&f.to){if("alpha"===a||null==k[a])return;r[l]=f.to(r._rgba)}r[l][b.idx]=g(k[a],
b,!0)});r[l]&&0>a.inArray(null,r[l].slice(0,3))&&(r[l][3]=1,f.from&&(r._rgba=f.from(r[l])))}),this},is:function(a){var b=m(a),e=!0,f=this;return x(p,function(a,g){var k,l=b[g.cache];return l&&(k=f[g.cache]||g.to&&g.to(f._rgba)||[],x(g.props,function(a,b){if(null!=l[b.idx])return e=l[b.idx]===k[b.idx],e})),e}),e},_space:function(){var a=[],b=this;return x(p,function(e,f){b[f.cache]&&a.push(e)}),a.pop()},transition:function(a,b){var e=m(a),f=e._space(),k=p[f],l=0===this.alpha()?m("transparent"):this,
h=l[k.cache]||k.to(l._rgba),n=h.slice();return e=e[k.cache],x(k.props,function(a,f){var k=f.idx,l=h[k],m=e[k],r=q[f.type]||{};null!==m&&(null===l?n[k]=m:(r.mod&&(m-l>r.mod/2?l+=r.mod:l-m>r.mod/2&&(l-=r.mod)),n[k]=g((m-l)*b+l,f)))}),this[f](n)},blend:function(e){if(1===this._rgba[3])return this;var f=this._rgba.slice(),g=f.pop(),k=m(e)._rgba;return m(a.map(f,function(a,b){return(1-g)*k[b]+g*a}))},toRgbaString:function(){var e="rgba(",f=a.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});return 1===
f[3]&&(f.pop(),e="rgb("),e+f.join()+")"},toHslaString:function(){var e="hsla(",f=a.map(this.hsla(),function(a,b){return null==a&&(a=2<b?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===f[3]&&(f.pop(),e="hsl("),e+f.join()+")"},toHexString:function(e){var f=this._rgba.slice(),g=f.pop();return e&&f.push(~~(255*g)),"#"+a.map(f,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});m.fn.parse.prototype=
m.fn;p.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/255,e=a[1]/255,f=a[2]/255;a=a[3];var g=Math.max(b,e,f),k=Math.min(b,e,f),l=g-k,h=g+k,m=.5*h,n,r;return k===g?n=0:b===g?n=60*(e-f)/l+360:e===g?n=60*(f-b)/l+120:n=60*(b-e)/l+240,0===l?r=0:.5>=m?r=l/h:r=l/(2-h),[Math.round(n)%360,r,m,null==a?1:a]};p.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,e=a[1],f=a[2];a=a[3];e=.5>=f?f*(1+e):f+e-f*e;f=
2*f-e;return[Math.round(255*l(f,e,b+1/3)),Math.round(255*l(f,e,b)),Math.round(255*l(f,e,b-1/3)),a]};x(p,function(f,l){var h=l.props,n=l.cache,r=l.to,p=l.from;m.fn[f]=function(f){r&&!this[n]&&(this[n]=r(this._rgba));if(f===e)return this[n].slice();var k,l=a.type(f),q="array"===l||"object"===l?f:arguments,v=this[n].slice();return x(h,function(a,b){var e=q["object"===l?a:b.idx];null==e&&(e=v[b.idx]);v[b.idx]=g(e,b)}),p?(k=m(p(v)),k[n]=v,k):m(v)};x(h,function(e,g){m.fn[e]||(m.fn[e]=function(l){var h=
a.type(l),m="alpha"===e?this._hsla?"hsla":"rgba":f,n=this[m](),r=n[g.idx],p;return"undefined"===h?r:("function"===h&&(l=l.call(this,r),h=a.type(l)),null==l&&g.empty?this:("string"===h&&(p=k.exec(l),p&&(l=r+parseFloat(p[2])*("+"===p[1]?1:-1))),n[g.idx]=l,this[m](n)))})})});m.hook=function(e){e=e.split(" ");x(e,function(e,g){a.cssHooks[g]={set:function(e,k){var l,h="";if("transparent"!==k&&("string"!==a.type(k)||(l=f(k)))){k=m(l||k);if(!r.rgba&&1!==k._rgba[3]){for(l="backgroundColor"===g?e.parentNode:
e;(""===h||"transparent"===h)&&l&&l.style;)try{h=a.css(l,"backgroundColor"),l=l.parentNode}catch(n){}k=k.blend(h&&"transparent"!==h?h:"_default")}k=k.toRgbaString()}try{e.style[g]=k}catch(p){}}};a.fx.step[g]=function(e){e.colorInit||(e.start=m(e.elem,g),e.end=m(e.end),e.colorInit=!0);a.cssHooks[g].set(e.elem,e.start.transition(e.end,e.pos))}})};m.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");
a.cssHooks.borderColor={expand:function(a){var b={};return x(["Top","Right","Bottom","Left"],function(e,f){b["border"+f+"Color"]=a}),b}};v=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){function b(b){var e,
g=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,h={};if(g&&g.length&&g[0]&&g[g[0]])for(b=g.length;b--;)e=g[b],"string"==typeof g[e]&&(h[a.camelCase(e)]=g[e]);else for(e in g)"string"==typeof g[e]&&(h[e]=g[e]);return h}var e=["add","remove","toggle"],g={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,
e){a.fx.step[e]=function(a){if("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)jQuery.style(a.elem,e,a.end),a.setAttr=!0}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a.effects.animateClass=function(f,l,k,h){var m=a.speed(l,k,h);return this.queue(function(){var k=a(this),l=k.attr("class")||"",h,n=m.children?k.find("*").addBack():k,n=n.map(function(){return{el:a(this),start:b(this)}});h=function(){a.each(e,function(a,b){f[b]&&k[b+
"Class"](f[b])})};h();n=n.map(function(){this.end=b(this.el[0]);var e=this.start,f=this.end,k={},l,h;for(l in f)h=f[l],e[l]===h||g[l]||!a.fx.step[l]&&isNaN(parseFloat(h))||(k[l]=h);return this.diff=k,this});k.attr("class",l);n=n.map(function(){var b=this,e=a.Deferred(),f=a.extend({},m,{queue:!1,complete:function(){e.resolve(b)}});return this.el.animate(this.diff,f),e.promise()});a.when.apply(a,n.get()).done(function(){h();a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,
"")})});m.complete.call(k[0])})})};a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,e,g,h){return e?a.effects.animateClass.call(this,{add:b},e,g,h):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,e,g,h){return 1<arguments.length?a.effects.animateClass.call(this,{remove:b},e,g,h):this._removeClass.apply(this,arguments)},_toggleClass:a.fn.toggleClass,toggleClass:function(b,e,g,n,m){return"boolean"==typeof e||e===h?g?a.effects.animateClass.call(this,e?{add:b}:{remove:b},
g,n,m):this._toggleClass(b,e):a.effects.animateClass.call(this,{toggle:b},e,g,n)},switchClass:function(b,e,g,h,m){return a.effects.animateClass.call(this,{add:e,remove:b},g,h,m)}})})();(function(){function b(b,e,l,k){a.isPlainObject(b)&&(e=b,b=b.effect);b={effect:b};null==e&&(e={});a.isFunction(e)&&(k=e,l=null,e={});if("number"==typeof e||a.fx.speeds[e])k=l,l=e,e={};return a.isFunction(l)&&(k=l,l=null),e&&a.extend(b,e),l=l||e.duration,b.duration=a.fx.off?0:"number"==typeof l?l:l in a.fx.speeds?a.fx.speeds[l]:
a.fx.speeds._default,b.complete=k||e.complete,b}function e(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"==typeof b&&!a.effects.effect[b]}a.extend(a.effects,{version:"1.10.1",save:function(a,b){for(var e=0;e<b.length;e++)null!==b[e]&&a.data("ui-effects-"+b[e],a[0].style[b[e]])},restore:function(a,b){var e,k;for(k=0;k<b.length;k++)null!==b[k]&&(e=a.data("ui-effects-"+b[k]),e===h&&(e=""),a.css(b[k],e))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,
b){var e,k;switch(a[0]){case "top":e=0;break;case "middle":e=.5;break;case "bottom":e=1;break;default:e=a[0]/b.height}switch(a[1]){case "left":k=0;break;case "center":k=.5;break;case "right":k=1;break;default:k=a[1]/b.width}return{x:k,y:e}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var e={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},l=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",
margin:0,padding:0}),k={width:b.width(),height:b.height()},h=document.activeElement;try{h.id}catch(m){h=document.body}return b.wrap(l),(b[0]===h||a.contains(b[0],h))&&a(h).focus(),l=b.parent(),"static"===b.css("position")?(l.css({position:"relative"}),b.css({position:"relative"})):(a.extend(e,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,k){e[k]=b.css(k);isNaN(parseInt(e[k],10))&&(e[k]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",
bottom:"auto"})),b.css(k),l.css(e).show()},removeWrapper:function(b){var e=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===e||a.contains(b[0],e))&&a(e).focus()),b},setTransition:function(b,e,l,k){return k=k||{},a.each(e,function(a,e){var f=b.cssUnit(e);0<f[0]&&(k[e]=f[0]*l+f[1])}),k}});a.fn.extend({effect:function(){function e(b){function g(){a.isFunction(l)&&l.call(k[0]);a.isFunction(b)&&b()}var k=a(this),l=f.complete,t=f.mode;(k.is(":hidden")?
"hide"===t:"show"===t)?g():h.call(k[0],f,g)}var f=b.apply(this,arguments),l=f.mode,k=f.queue,h=a.effects.effect[f.effect];return a.fx.off||!h?l?this[l](f.duration,f.complete):this.each(function(){f.complete&&f.complete.call(this)}):!1===k?this.each(e):this.queue(k||"fx",e)},_show:a.fn.show,show:function(a){if(e(a))return this._show.apply(this,arguments);var f=b.apply(this,arguments);return f.mode="show",this.effect.call(this,f)},_hide:a.fn.hide,hide:function(a){if(e(a))return this._hide.apply(this,
arguments);var f=b.apply(this,arguments);return f.mode="hide",this.effect.call(this,f)},__toggle:a.fn.toggle,toggle:function(g){if(e(g)||"boolean"==typeof g||a.isFunction(g))return this.__toggle.apply(this,arguments);var f=b.apply(this,arguments);return f.mode="toggle",this.effect.call(this,f)},cssUnit:function(b){var e=this.css(b),l=[];return a.each(["em","px","%","pt"],function(a,b){0<e.indexOf(b)&&(l=[parseFloat(e),b])}),l}})})();(function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],
function(a,g){b[g]=function(b){return Math.pow(b,a+2)}});a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,f=4;a<((b=Math.pow(2,--f))-1)/11;);return 1/Math.pow(4,3-f)-7.5625*Math.pow((3*b-2)/22-a,2)}});a.each(b,function(b,g){a.easing["easeIn"+b]=g;a.easing["easeOut"+b]=function(a){return 1-
g(1-a)};a.easing["easeInOut"+b]=function(a){return.5>a?g(2*a)/2:1-g(-2*a+2)/2}})})()}(jQuery);
(function(a,h){var b=/up|down|vertical/,e=/up|left|vertical|horizontal/;a.effects.effect.blind=function(g,f){var l=a(this),k="position top bottom left right height width".split(" "),h=a.effects.setMode(l,g.mode||"hide"),m=g.direction||"up",p=b.test(m),q=p?"height":"width",r=p?"top":"left",m=e.test(m),t={},v="show"===h,x,y,z;l.parent().is(".ui-effects-wrapper")?a.effects.save(l.parent(),k):a.effects.save(l,k);l.show();x=a.effects.createWrapper(l).css({overflow:"hidden"});y=x[q]();z=parseFloat(x.css(r))||
0;t[q]=v?y:0;m||(l.css(p?"bottom":"right",0).css(p?"top":"left","auto").css({position:"absolute"}),t[r]=v?z:y+z);v&&(x.css(q,0),m||x.css(r,z+y));x.animate(t,{duration:g.duration,easing:g.easing,queue:!1,complete:function(){"hide"===h&&l.hide();a.effects.restore(l,k);a.effects.removeWrapper(l);f()}})}})(jQuery);
(function(a,h){a.effects.effect.bounce=function(b,e){var g=a(this),f="position top bottom left right height width".split(" "),l=a.effects.setMode(g,b.mode||"effect"),k="hide"===l,h="show"===l,m=b.direction||"up",l=b.distance,p=b.times||5,q=2*p+(h||k?1:0),r=b.duration/q,t=b.easing,v="up"===m||"down"===m?"top":"left",m="up"===m||"left"===m,x,y,z=g.queue(),B=z.length;(h||k)&&f.push("opacity");a.effects.save(g,f);g.show();a.effects.createWrapper(g);l||(l=g["top"===v?"outerHeight":"outerWidth"]()/3);h&&
(y={opacity:1},y[v]=0,g.css("opacity",0).css(v,m?2*-l:2*l).animate(y,r,t));k&&(l/=Math.pow(2,p-1));y={};for(h=y[v]=0;h<p;h++)x={},x[v]=(m?"-=":"+=")+l,g.animate(x,r,t).animate(y,r,t),l=k?2*l:l/2;k&&(x={opacity:0},x[v]=(m?"-=":"+=")+l,g.animate(x,r,t));g.queue(function(){k&&g.hide();a.effects.restore(g,f);a.effects.removeWrapper(g);e()});1<B&&z.splice.apply(z,[1,0].concat(z.splice(B,q+1)));g.dequeue()}})(jQuery);
(function(a,h){a.effects.effect.clip=function(b,e){var g=a(this),f="position top bottom left right height width".split(" "),l="show"===a.effects.setMode(g,b.mode||"hide"),k="vertical"===(b.direction||"vertical"),h=k?"height":"width",k=k?"top":"left",m={},p,q;a.effects.save(g,f);g.show();p=a.effects.createWrapper(g).css({overflow:"hidden"});p="IMG"===g[0].tagName?p:g;q=p[h]();l&&(p.css(h,0),p.css(k,q/2));m[h]=l?q:0;m[k]=l?0:q/2;p.animate(m,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){l||
g.hide();a.effects.restore(g,f);a.effects.removeWrapper(g);e()}})}})(jQuery);
(function(a,h){a.effects.effect.drop=function(b,e){var g=a(this),f="position top bottom left right opacity height width".split(" "),l=a.effects.setMode(g,b.mode||"hide"),k="show"===l,h=b.direction||"left",m="up"===h||"down"===h?"top":"left",h="up"===h||"left"===h?"pos":"neg",p={opacity:k?1:0},q;a.effects.save(g,f);g.show();a.effects.createWrapper(g);q=b.distance||g["top"===m?"outerHeight":"outerWidth"](!0)/2;k&&g.css("opacity",0).css(m,"pos"===h?-q:q);p[m]=(k?"pos"===h?"+=":"-=":"pos"===h?"-=":"+=")+
q;g.animate(p,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===l&&g.hide();a.effects.restore(g,f);a.effects.removeWrapper(g);e()}})}})(jQuery);
(function(a,h){a.effects.effect.explode=function(b,e){function g(){r.push(this);r.length===f*l&&(k.css({visibility:"visible"}),a(r).remove(),h||k.hide(),e())}var f=b.pieces?Math.round(Math.sqrt(b.pieces)):3,l=f,k=a(this),h="show"===a.effects.setMode(k,b.mode||"hide"),m=k.show().css("visibility","hidden").offset(),p=Math.ceil(k.outerWidth()/l),q=Math.ceil(k.outerHeight()/f),r=[],t,v,x,y,z,B;for(t=0;t<f;t++)for(y=m.top+t*q,B=t-(f-1)/2,v=0;v<l;v++)x=m.left+v*p,z=v-(l-1)/2,k.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",
visibility:"visible",left:-v*p,top:-t*q}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:q,left:x+(h?z*p:0),top:y+(h?B*q:0),opacity:h?0:1}).animate({left:x+(h?0:z*p),top:y+(h?0:B*q),opacity:h?1:0},b.duration||500,b.easing,g)}})(jQuery);(function(a,h){a.effects.effect.fade=function(b,e){var g=a(this),f=a.effects.setMode(g,b.mode||"toggle");g.animate({opacity:f},{queue:!1,duration:b.duration,easing:b.easing,complete:e})}})(jQuery);
(function(a,h){a.effects.effect.fold=function(b,e){var g=a(this),f="position top bottom left right height width".split(" "),l=a.effects.setMode(g,b.mode||"hide"),k="show"===l,h="hide"===l,l=b.size||15,m=/([0-9]+)%/.exec(l),p=!!b.horizFirst,q=k!==p,r=q?["width","height"]:["height","width"],t=b.duration/2,v,x={},y={};a.effects.save(g,f);g.show();v=a.effects.createWrapper(g).css({overflow:"hidden"});q=q?[v.width(),v.height()]:[v.height(),v.width()];m&&(l=parseInt(m[1],10)/100*q[h?0:1]);k&&v.css(p?{height:0,
width:l}:{height:l,width:0});x[r[0]]=k?q[0]:l;y[r[1]]=k?q[1]:0;v.animate(x,t,b.easing).animate(y,t,b.easing,function(){h&&g.hide();a.effects.restore(g,f);a.effects.removeWrapper(g);e()})}})(jQuery);
(function(a,h){a.effects.effect.highlight=function(b,e){var g=a(this),f=["backgroundImage","backgroundColor","opacity"],l=a.effects.setMode(g,b.mode||"show"),k={backgroundColor:g.css("backgroundColor")};"hide"===l&&(k.opacity=0);a.effects.save(g,f);g.show().css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(k,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===l&&g.hide();a.effects.restore(g,f);e()}})}})(jQuery);
(function(a,h){a.effects.effect.pulsate=function(b,e){var g=a(this),f=a.effects.setMode(g,b.mode||"show"),l="show"===f,k="hide"===f,f=2*(b.times||5)+(l||"hide"===f?1:0),h=b.duration/f,m=0,p=g.queue(),q=p.length;if(l||!g.is(":visible"))g.css("opacity",0).show(),m=1;for(l=1;l<f;l++)g.animate({opacity:m},h,b.easing),m=1-m;g.animate({opacity:m},h,b.easing);g.queue(function(){k&&g.hide();e()});1<q&&p.splice.apply(p,[1,0].concat(p.splice(q,f+1)));g.dequeue()}})(jQuery);
(function(a,h){a.effects.effect.puff=function(b,e){var g=a(this),f=a.effects.setMode(g,b.mode||"hide"),l="hide"===f,k=parseInt(b.percent,10)||150,h=k/100,m={height:g.height(),width:g.width(),outerHeight:g.outerHeight(),outerWidth:g.outerWidth()};a.extend(b,{effect:"scale",queue:!1,fade:!0,mode:f,complete:e,percent:l?k:100,from:l?m:{height:m.height*h,width:m.width*h,outerHeight:m.outerHeight*h,outerWidth:m.outerWidth*h}});g.effect(b)};a.effects.effect.scale=function(b,e){var g=a(this),f=a.extend(!0,
{},b),l=a.effects.setMode(g,b.mode||"effect"),k=parseInt(b.percent,10)||(0===parseInt(b.percent,10)?0:"hide"===l?0:100),h=b.direction||"both",m=b.origin,p={height:g.height(),width:g.width(),outerHeight:g.outerHeight(),outerWidth:g.outerWidth()},q="horizontal"!==h?k/100:1,k="vertical"!==h?k/100:1;f.effect="size";f.queue=!1;f.complete=e;"effect"!==l&&(f.origin=m||["middle","center"],f.restore=!0);f.from=b.from||("show"===l?{height:0,width:0,outerHeight:0,outerWidth:0}:p);f.to={height:p.height*q,width:p.width*
k,outerHeight:p.outerHeight*q,outerWidth:p.outerWidth*k};f.fade&&("show"===l&&(f.from.opacity=0,f.to.opacity=1),"hide"===l&&(f.from.opacity=1,f.to.opacity=0));g.effect(f)};a.effects.effect.size=function(b,e){var g,f,l,k,h,m,p=a(this),q="position top bottom left right width height overflow opacity".split(" ");h="position top bottom left right overflow opacity".split(" ");var r=["width","height","overflow"],t=["fontSize"],v=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],x=["borderLeftWidth",
"borderRightWidth","paddingLeft","paddingRight"],y=a.effects.setMode(p,b.mode||"effect"),z=b.restore||"effect"!==y,B=b.scale||"both",E=b.origin||["middle","center"],w=p.css("position"),A=z?q:h,D={height:0,width:0,outerHeight:0,outerWidth:0};"show"===y&&p.show();h={height:p.height(),width:p.width(),outerHeight:p.outerHeight(),outerWidth:p.outerWidth()};"toggle"===b.mode&&"show"===y?(p.from=b.to||D,p.to=b.from||h):(p.from=b.from||("show"===y?D:h),p.to=b.to||("hide"===y?D:h));l=p.from.height/h.height;
k=p.from.width/h.width;g=p.to.height/h.height;f=p.to.width/h.width;if("box"===B||"both"===B)l!==g&&(A=A.concat(v),p.from=a.effects.setTransition(p,v,l,p.from),p.to=a.effects.setTransition(p,v,g,p.to)),k!==f&&(A=A.concat(x),p.from=a.effects.setTransition(p,x,k,p.from),p.to=a.effects.setTransition(p,x,f,p.to));("content"===B||"both"===B)&&l!==g&&(A=A.concat(t).concat(r),p.from=a.effects.setTransition(p,t,l,p.from),p.to=a.effects.setTransition(p,t,g,p.to));a.effects.save(p,A);p.show();a.effects.createWrapper(p);
p.css("overflow","hidden").css(p.from);E&&(m=a.effects.getBaseline(E,h),p.from.top=(h.outerHeight-p.outerHeight())*m.y,p.from.left=(h.outerWidth-p.outerWidth())*m.x,p.to.top=(h.outerHeight-p.to.outerHeight)*m.y,p.to.left=(h.outerWidth-p.to.outerWidth)*m.x);p.css(p.from);if("content"===B||"both"===B)v=v.concat(["marginTop","marginBottom"]).concat(t),x=x.concat(["marginLeft","marginRight"]),r=q.concat(v).concat(x),p.find("*[width]").each(function(){var e=a(this),h=e.height(),m=e.width(),n=e.outerHeight(),
p=e.outerWidth();z&&a.effects.save(e,r);e.from={height:h*l,width:m*k,outerHeight:n*l,outerWidth:p*k};e.to={height:h*g,width:m*f,outerHeight:h*g,outerWidth:m*f};l!==g&&(e.from=a.effects.setTransition(e,v,l,e.from),e.to=a.effects.setTransition(e,v,g,e.to));k!==f&&(e.from=a.effects.setTransition(e,x,k,e.from),e.to=a.effects.setTransition(e,x,f,e.to));e.css(e.from);e.animate(e.to,b.duration,b.easing,function(){z&&a.effects.restore(e,r)})});p.animate(p.to,{queue:!1,duration:b.duration,easing:b.easing,
complete:function(){0===p.to.opacity&&p.css("opacity",p.from.opacity);"hide"===y&&p.hide();a.effects.restore(p,A);z||("static"===w?p.css({position:"relative",top:p.to.top,left:p.to.left}):a.each(["top","left"],function(a,b){p.css(b,function(b,e){var f=parseInt(e,10),g=a?p.to.left:p.to.top;return"auto"===e?g+"px":f+g+"px"})}));a.effects.removeWrapper(p);e()}})}})(jQuery);
(function(a,h){a.effects.effect.shake=function(b,e){var g=a(this),f="position top bottom left right height width".split(" "),l=a.effects.setMode(g,b.mode||"effect"),k=b.direction||"left",h=b.distance||20,m=b.times||3,p=2*m+1,q=Math.round(b.duration/p),r="up"===k||"down"===k?"top":"left",t="up"===k||"left"===k,k={},v={},x={},y=g.queue(),z=y.length;a.effects.save(g,f);g.show();a.effects.createWrapper(g);k[r]=(t?"-=":"+=")+h;v[r]=(t?"+=":"-=")+2*h;x[r]=(t?"-=":"+=")+2*h;g.animate(k,q,b.easing);for(h=
1;h<m;h++)g.animate(v,q,b.easing).animate(x,q,b.easing);g.animate(v,q,b.easing).animate(k,q/2,b.easing).queue(function(){"hide"===l&&g.hide();a.effects.restore(g,f);a.effects.removeWrapper(g);e()});1<z&&y.splice.apply(y,[1,0].concat(y.splice(z,p+1)));g.dequeue()}})(jQuery);
(function(a,h){a.effects.effect.slide=function(b,e){var g=a(this),f="position top bottom left right width height".split(" "),l=a.effects.setMode(g,b.mode||"show"),k="show"===l,h=b.direction||"left",m="up"===h||"down"===h?"top":"left",h="up"===h||"left"===h,p,q={};a.effects.save(g,f);g.show();p=b.distance||g["top"===m?"outerHeight":"outerWidth"](!0);a.effects.createWrapper(g).css({overflow:"hidden"});k&&g.css(m,h?isNaN(p)?"-"+p:-p:p);q[m]=(k?h?"+=":"-=":h?"-=":"+=")+p;g.animate(q,{queue:!1,duration:b.duration,
easing:b.easing,complete:function(){"hide"===l&&g.hide();a.effects.restore(g,f);a.effects.removeWrapper(g);e()}})}})(jQuery);
(function(a,h){a.effects.effect.transfer=function(b,e){var g=a(this),f=a(b.to),l="fixed"===f.css("position"),k=a("body"),h=l?k.scrollTop():0,k=l?k.scrollLeft():0,m=f.offset(),f={top:m.top-h,left:m.left-k,height:f.innerHeight(),width:f.innerWidth()},m=g.offset(),p=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(b.className).css({top:m.top-h,left:m.left-k,height:g.innerHeight(),width:g.innerWidth(),position:l?"fixed":"absolute"}).animate(f,b.duration,b.easing,function(){p.remove();
e()})}})(jQuery);
(function(a,h){a.widget("ui.menu",{version:"1.10.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,
a.proxy(function(a){this.options.disabled&&a.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(b){var e=a(b.target).closest(".ui-menu-item");!this.mouseHandled&&e.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(b),e.has(".ui-menu").length?
this.expand(b):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){var e=a(b.currentTarget);e.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(b,e)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,e){var g=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(a,g)},blur:function(b){this._delay(function(){a.contains(this.element[0],
this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){function e(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var g,f,l,k,h=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);
break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:h=!1,g=this.previousFilter||"",f=String.fromCharCode(b.keyCode),l=!1,clearTimeout(this.filterTimer),f===g?l=!0:f=g+f,k=new RegExp("^"+e(f),"i"),g=this.activeMenu.children(".ui-menu-item").filter(function(){return k.test(a(this).children("a").text())}),g=l&&-1!==g.index(this.active.next())?this.active.nextAll(".ui-menu-item"):g,g.length||(f=String.fromCharCode(b.keyCode),k=new RegExp("^"+e(f),"i"),g=this.activeMenu.children(".ui-menu-item").filter(function(){return k.test(a(this).children("a").text())})),
g.length?(this.focus(b,g),1<g.length?(this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}h&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var b,e=this.options.icons.submenu;b=this.element.find(this.options.menus);b.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,
"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),f=b.prev("a"),l=a("<span>").addClass("ui-menu-icon ui-icon "+e).data("ui-menu-submenu-carat",!0);f.attr("aria-haspopup","true").prepend(l);b.attr("aria-labelledby",f.attr("id"))});b=b.add(this.element);b.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});b.children(":not(.ui-menu-item)").each(function(){var b=
a(this);/[^\-\u2014\u2013\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")});b.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,e){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu);this._super(a,e)},focus:function(a,e){var g;this.blur(a,a&&
"focus"===a.type);this._scrollIntoView(e);this.active=e.first();g=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",g.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);g=e.children(".ui-menu");g.length&&/^mouse/.test(a.type)&&this._startOpening(g);this.activeMenu=e.parent();this._trigger("focus",
a,{item:e})},_scrollIntoView:function(b){var e,g,f,l,k,h;this._hasScroll()&&(e=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,g=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,f=b.offset().top-this.activeMenu.offset().top-e-g,l=this.activeMenu.scrollTop(),k=this.activeMenu.height(),h=b.height(),0>f?this.activeMenu.scrollTop(l+f):f+h>k&&this.activeMenu.scrollTop(l+f-k+h))},blur:function(a,e){e||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),
this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(b){var e=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true");b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(b,
e){clearTimeout(this.timer);this.timer=this._delay(function(){var g=e?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));g.length||(g=this.element);this._close(g);this.blur(b);this.activeMenu=g},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var e=this.active&&this.active.parent().closest(".ui-menu-item",
this.element);e&&e.length&&(this._close(),this.focus(a,e))},expand:function(a){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(a,e)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},
_move:function(a,e,g){var f;this.active&&("first"===a||"last"===a?f=this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):f=this.active[a+"All"](".ui-menu-item").eq(0));f&&f.length&&this.active||(f=this.activeMenu.children(".ui-menu-item")[e]());this.focus(g,f)},nextPage:function(b){var e,g,f;this.active?this.isLastItem()||(this._hasScroll()?(g=this.active.offset().top,f=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return e=a(this),0>e.offset().top-g-f}),
this.focus(b,e)):this.focus(b,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(b)},previousPage:function(b){var e,g,f;this.active?this.isFirstItem()||(this._hasScroll()?(g=this.active.offset().top,f=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return e=a(this),0<e.offset().top-g+f}),this.focus(b,e)):this.focus(b,this.activeMenu.children(".ui-menu-item").first())):this.next(b)},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0);this._trigger("select",b,e)}})})(jQuery);
(function(a,h){a.widget("ui.progressbar",{version:"1.10.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove()},value:function(a){if(a===h)return this.options.value;this.options.value=this._constrainedValue(a);this._refreshValue()},_constrainedValue:function(a){return a===h&&(a=this.options.value),this.indeterminate=!1===a,"number"!=typeof a&&(a=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var e=a.value;delete a.value;this._super(a);this.options.value=this._constrainedValue(e);this._refreshValue()},_setOption:function(a,e){"max"===
a&&(e=Math.max(this.min,e));this._super(a,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var b=this.options.value,e=this._percentage();this.valueDiv.toggle(this.indeterminate||b>this.min).toggleClass("ui-corner-right",b===this.options.max).width(e.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||
(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":b}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==b&&(this.oldValue=b,this._trigger("change"));b===this.options.max&&this._trigger("complete")}})})(jQuery);
(function(a,h){function b(a){return parseInt(a,10)||0}function e(a){return!isNaN(parseInt(a,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var b,e,l,k,h,m=this,p=this.options;this.element.addClass("ui-resizable");
a.extend(this,{_aspectRatio:!!p.aspectRatio,aspectRatio:p.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:p.helper||p.ghost||p.animate?p.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=p.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");
if(this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),this.handles={},e=0;e<b.length;e++)l=a.trim(b[e]),h="ui-resizable-"+l,k=a("<div class='ui-resizable-handle "+h+"'></div>"),k.css({zIndex:p.zIndex}),"se"===l&&k.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[l]=".ui-resizable-"+l,this.element.append(k);this._renderAxis=function(b){var e,f,g,k;b=b||this.element;for(e in this.handles)this.handles[e].constructor===
String&&(this.handles[e]=a(this.handles[e],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(f=a(this.handles[e],this.element),k=/sw|ne|nw|se|n|s/.test(e)?f.outerHeight():f.outerWidth(),g=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),b.css(g,k),this._proportionallyResize()),a(this.handles[e])};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){m.resizing||(this.className&&(k=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),m.axis=k&&k[1]?k[1]:"se")});p.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){p.disabled||(a(this).removeClass("ui-resizable-autohide"),m._handles.show())}).mouseleave(function(){p.disabled||m.resizing||(a(this).addClass("ui-resizable-autohide"),m._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var b,e=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(e(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),
this},_mouseCapture:function(b){var e,l,k=!1;for(e in this.handles)if(l=a(this.handles[e])[0],l===b.target||a.contains(l,b.target))k=!0;return!this.options.disabled&&k},_mouseStart:function(e){var f,l,k,h=this.options,m=this.element.position(),p=this.element;return this.resizing=!0,/absolute/.test(p.css("position"))?p.css({position:"absolute",top:p.css("top"),left:p.css("left")}):p.is(".ui-draggable")&&p.css({position:"absolute",top:m.top,left:m.left}),this._renderProxy(),f=b(this.helper.css("left")),
l=b(this.helper.css("top")),h.containment&&(f+=a(h.containment).scrollLeft()||0,l+=a(h.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:l},this.size=this._helper?{width:p.outerWidth(),height:p.outerHeight()}:{width:p.width(),height:p.height()},this.originalSize=this._helper?{width:p.outerWidth(),height:p.outerHeight()}:{width:p.width(),height:p.height()},this.originalPosition={left:f,top:l},this.sizeDiff={width:p.outerWidth()-p.width(),height:p.outerHeight()-
p.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof h.aspectRatio?h.aspectRatio:this.originalSize.width/this.originalSize.height||1,k=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===k?this.axis+"-resize":k),p.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(b){var e,l=this.helper,k={};e=this.originalMousePosition;var h=this.position.top,m=this.position.left,p=this.size.width,q=this.size.height,
r=this._change[this.axis];if(!r)return!1;e=r.apply(this,[b,b.pageX-e.left||0,b.pageY-e.top||0]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)e=this._updateRatio(e,b);return e=this._respectSize(e,b),this._updateCache(e),this._propagate("resize",b),this.position.top!==h&&(k.top=this.position.top+"px"),this.position.left!==m&&(k.left=this.position.left+"px"),this.size.width!==p&&(k.width=this.size.width+"px"),this.size.height!==q&&(k.height=this.size.height+"px"),l.css(k),
!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(k)||this._trigger("resize",b,this.ui()),!1},_mouseStop:function(b){this.resizing=!1;var e,l,k,h,m,p,q,r=this.options;return this._helper&&(e=this._proportionallyResizeElements,l=e.length&&/textarea/i.test(e[0].nodeName),k=l&&a.ui.hasScroll(e[0],"left")?0:this.sizeDiff.height,h=l?0:this.sizeDiff.width,m={width:this.helper.width()-h,height:this.helper.height()-k},p=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,q=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,r.animate||this.element.css(a.extend(m,{top:q,left:p})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!r.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b,
l,k,h;h=this.options;h={minWidth:e(h.minWidth)?h.minWidth:0,maxWidth:e(h.maxWidth)?h.maxWidth:Infinity,minHeight:e(h.minHeight)?h.minHeight:0,maxHeight:e(h.maxHeight)?h.maxHeight:Infinity};if(this._aspectRatio||a)a=h.minHeight*this.aspectRatio,l=h.minWidth/this.aspectRatio,b=h.maxHeight*this.aspectRatio,k=h.maxWidth/this.aspectRatio,a>h.minWidth&&(h.minWidth=a),l>h.minHeight&&(h.minHeight=l),b<h.maxWidth&&(h.maxWidth=b),k<h.maxHeight&&(h.maxHeight=k);this._vBoundaries=h},_updateCache:function(a){this.offset=
this.helper.offset();e(a.left)&&(this.position.left=a.left);e(a.top)&&(this.position.top=a.top);e(a.height)&&(this.size.height=a.height);e(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,l=this.size,k=this.axis;return e(a.height)?a.width=a.height*this.aspectRatio:e(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===k&&(a.left=b.left+(l.width-a.width),a.top=null),"nw"===k&&(a.top=b.top+(l.height-a.height),a.left=b.left+(l.width-a.width)),a},_respectSize:function(a){var b=
this._vBoundaries,l=this.axis,k=e(a.width)&&b.maxWidth&&b.maxWidth<a.width,h=e(a.height)&&b.maxHeight&&b.maxHeight<a.height,m=e(a.width)&&b.minWidth&&b.minWidth>a.width,p=e(a.height)&&b.minHeight&&b.minHeight>a.height,q=this.originalPosition.left+this.originalSize.width,r=this.position.top+this.size.height,t=/sw|nw|w/.test(l),l=/nw|ne|n/.test(l);return m&&(a.width=b.minWidth),p&&(a.height=b.minHeight),k&&(a.width=b.maxWidth),h&&(a.height=b.maxHeight),m&&t&&(a.left=q-b.minWidth),k&&t&&(a.left=q-b.maxWidth),
p&&l&&(a.top=r-b.minHeight),h&&l&&(a.top=r-b.maxHeight),a.width||a.height||a.left||!a.top?!a.width&&!a.height&&!a.top&&a.left&&(a.left=null):a.top=null,a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,b,e,k,h,m=this.helper||this.element;for(a=0;a<this._proportionallyResizeElements.length;a++){h=this._proportionallyResizeElements[a];if(!this.borderDif)for(this.borderDif=[],e=[h.css("borderTopWidth"),h.css("borderRightWidth"),h.css("borderBottomWidth"),h.css("borderLeftWidth")],
k=[h.css("paddingTop"),h.css("paddingRight"),h.css("paddingBottom"),h.css("paddingLeft")],b=0;b<e.length;b++)this.borderDif[b]=(parseInt(e[b],10)||0)+(parseInt(k[b],10)||0);h.css({height:m.height()-this.borderDif[0]-this.borderDif[2]||0,width:m.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,e){return{top:this.originalPosition.top+e,height:this.originalSize.height-e}},s:function(a,b,e){return{height:this.originalSize.height+
e}},se:function(b,e,l){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,e,l]))},sw:function(b,e,l){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,e,l]))},ne:function(b,e,l){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,e,l]))},nw:function(b,e,l){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,e,l]))}},_propagate:function(b,e){a.ui.plugin.call(this,b,[e,this.ui()]);
"resize"!==b&&this._trigger(b,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable","animate",{stop:function(b){var e=a(this).data("ui-resizable"),l=e.options,k=e._proportionallyResizeElements,h=k.length&&/textarea/i.test(k[0].nodeName),m=h&&a.ui.hasScroll(k[0],"left")?0:e.sizeDiff.height,h=
{width:e.size.width-(h?0:e.sizeDiff.width),height:e.size.height-m},m=parseInt(e.element.css("left"),10)+(e.position.left-e.originalPosition.left)||null,p=parseInt(e.element.css("top"),10)+(e.position.top-e.originalPosition.top)||null;e.element.animate(a.extend(h,p&&m?{top:p,left:m}:{}),{duration:l.animateDuration,easing:l.animateEasing,step:function(){var l={width:parseInt(e.element.css("width"),10),height:parseInt(e.element.css("height"),10),top:parseInt(e.element.css("top"),10),left:parseInt(e.element.css("left"),
10)};k&&k.length&&a(k[0]).css({width:l.width,height:l.height});e._updateCache(l);e._propagate("resize",b)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var e,f,l,k,h,m,p,q=a(this).data("ui-resizable"),r=q.element,t=q.options.containment;if(r=t instanceof a?t.get(0):/parent/.test(t)?r.parent().get(0):t)q.containerElement=a(r),/document/.test(t)||t===document?(q.containerOffset={left:0,top:0},q.containerPosition={left:0,top:0},q.parentData={element:a(document),left:0,top:0,width:a(document).width(),
height:a(document).height()||document.body.parentNode.scrollHeight}):(e=a(r),f=[],a(["Top","Right","Left","Bottom"]).each(function(a,k){f[a]=b(e.css("padding"+k))}),q.containerOffset=e.offset(),q.containerPosition=e.position(),q.containerSize={height:e.innerHeight()-f[3],width:e.innerWidth()-f[1]},l=q.containerOffset,k=q.containerSize.height,h=q.containerSize.width,m=a.ui.hasScroll(r,"left")?r.scrollWidth:h,p=a.ui.hasScroll(r)?r.scrollHeight:k,q.parentData={element:r,left:l.left,top:l.top,width:m,
height:p})},resize:function(b){var e,l,k,h,m=a(this).data("ui-resizable");e=m.options;l=m.containerOffset;k=m.position;b=m._aspectRatio||b.shiftKey;h={top:0,left:0};var p=m.containerElement;p[0]!==document&&/static/.test(p.css("position"))&&(h=l);k.left<(m._helper?l.left:0)&&(m.size.width+=m._helper?m.position.left-l.left:m.position.left-h.left,b&&(m.size.height=m.size.width/m.aspectRatio),m.position.left=e.helper?l.left:0);k.top<(m._helper?l.top:0)&&(m.size.height+=m._helper?m.position.top-l.top:
m.position.top,b&&(m.size.width=m.size.height*m.aspectRatio),m.position.top=m._helper?l.top:0);m.offset.left=m.parentData.left+m.position.left;m.offset.top=m.parentData.top+m.position.top;e=Math.abs(m.offset.left-h.left+m.sizeDiff.width);l=Math.abs((m._helper?m.offset.top-h.top:m.offset.top-l.top)+m.sizeDiff.height);k=m.containerElement.get(0)===m.element.parent().get(0);h=/relative|absolute/.test(m.containerElement.css("position"));k&&h&&(e-=m.parentData.left);e+m.size.width>=m.parentData.width&&
(m.size.width=m.parentData.width-e,b&&(m.size.height=m.size.width/m.aspectRatio));l+m.size.height>=m.parentData.height&&(m.size.height=m.parentData.height-l,b&&(m.size.width=m.size.height*m.aspectRatio))},stop:function(){var b=a(this).data("ui-resizable"),e=b.options,l=b.containerOffset,k=b.containerPosition,h=b.containerElement,m=a(b.helper),p=m.offset(),q=m.outerWidth()-b.sizeDiff.width,m=m.outerHeight()-b.sizeDiff.height;b._helper&&!e.animate&&/relative/.test(h.css("position"))&&a(this).css({left:p.left-
k.left-l.left,width:q,height:m});b._helper&&!e.animate&&/static/.test(h.css("position"))&&a(this).css({left:p.left-k.left-l.left,width:q,height:m})}});a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("ui-resizable").options,e=function(b){a(b).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof b.alsoResize||b.alsoResize.parentNode?
e(b.alsoResize):b.alsoResize.length?(b.alsoResize=b.alsoResize[0],e(b.alsoResize)):a.each(b.alsoResize,function(a){e(a)})},resize:function(b,e){var l=a(this).data("ui-resizable"),k=l.options,h=l.originalSize,m=l.originalPosition,p={height:l.size.height-h.height||0,width:l.size.width-h.width||0,top:l.position.top-m.top||0,left:l.position.left-m.left||0},q=function(b,g){a(b).each(function(){var b=a(this),k=a(this).data("ui-resizable-alsoresize"),l={},h=g&&g.length?g:b.parents(e.originalElement[0]).length?
["width","height"]:["width","height","top","left"];a.each(h,function(a,b){var e=(k[b]||0)+(p[b]||0);e&&0<=e&&(l[b]=e||null)});b.css(l)})};"object"!=typeof k.alsoResize||k.alsoResize.nodeType?q(k.alsoResize):a.each(k.alsoResize,function(a,b){q(a,b)})},stop:function(){a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("ui-resizable"),e=b.options,l=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:.25,display:"block",position:"relative",
height:l.height,width:l.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof e.ghost?e.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("ui-resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("ui-resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("ui-resizable"),
e=b.options,l=b.size,k=b.originalSize,h=b.originalPosition,m=b.axis,p="number"==typeof e.grid?[e.grid,e.grid]:e.grid,q=p[0]||1,r=p[1]||1,t=Math.round((l.width-k.width)/q)*q,l=Math.round((l.height-k.height)/r)*r,v=k.width+t,k=k.height+l,x=e.maxWidth&&e.maxWidth<v,y=e.maxHeight&&e.maxHeight<k,z=e.minWidth&&e.minWidth>v,B=e.minHeight&&e.minHeight>k;e.grid=p;z&&(v+=q);B&&(k+=r);x&&(v-=q);y&&(k-=r);/^(se|s|e)$/.test(m)?(b.size.width=v,b.size.height=k):/^(ne)$/.test(m)?(b.size.width=v,b.size.height=k,b.position.top=
h.top-l):/^(sw)$/.test(m)?(b.size.width=v,b.size.height=k,b.position.left=h.left-t):(b.size.width=v,b.size.height=k,b.position.top=h.top-l,b.position.left=h.left-t)}})})(jQuery);
(function(a,h){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b,e=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){b=a(e.options.filter,e.element[0]);b.addClass("ui-selectee");b.each(function(){var b=a(this),e=b.offset();a.data(this,"selectable-item",{element:this,$element:b,
left:e.left,top:e.top,right:e.left+b.outerWidth(),bottom:e.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})};this.refresh();this.selectees=b.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");
this._mouseDestroy()},_mouseStart:function(b){var e=this,g=this.options;this.opos=[b.pageX,b.pageY];this.options.disabled||(this.selectees=a(g.filter,this.element[0]),this._trigger("start",b),a(g.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),g.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var f=a.data(this,"selectable-item");f.startselected=!0;b.metaKey||b.ctrlKey||(f.$element.removeClass("ui-selected"),f.selected=!1,
f.$element.addClass("ui-unselecting"),f.unselecting=!0,e._trigger("unselecting",b,{unselecting:f.element}))}),a(b.target).parents().addBack().each(function(){var f,g=a.data(this,"selectable-item");if(g)return f=!b.metaKey&&!b.ctrlKey||!g.$element.hasClass("ui-selected"),g.$element.removeClass(f?"ui-unselecting":"ui-selected").addClass(f?"ui-selecting":"ui-unselecting"),g.unselecting=!f,g.selecting=f,g.selected=f,f?e._trigger("selecting",b,{selecting:g.element}):e._trigger("unselecting",b,{unselecting:g.element}),
!1}))},_mouseDrag:function(b){this.dragged=!0;if(!this.options.disabled){var e,g=this,f=this.options,l=this.opos[0],k=this.opos[1],h=b.pageX,m=b.pageY;return l>h&&(e=h,h=l,l=e),k>m&&(e=m,m=k,k=e),this.helper.css({left:l,top:k,width:h-l,height:m-k}),this.selectees.each(function(){var e=a.data(this,"selectable-item"),q=!1;e&&e.element!==g.element[0]&&("touch"===f.tolerance?q=!(e.left>h||e.right<l||e.top>m||e.bottom<k):"fit"===f.tolerance&&(q=e.left>l&&e.right<h&&e.top>k&&e.bottom<m),q?(e.selected&&
(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,g._trigger("selecting",b,{selecting:e.element}))):(e.selecting&&((b.metaKey||b.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),
e.unselecting=!0),g._trigger("unselecting",b,{unselecting:e.element}))),e.selected&&!b.metaKey&&!b.ctrlKey&&!e.startselected&&(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,g._trigger("unselecting",b,{unselecting:e.element}))))}),!1}},_mouseStop:function(b){var e=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var g=a.data(this,"selectable-item");g.$element.removeClass("ui-unselecting");g.unselecting=!1;
g.startselected=!1;e._trigger("unselected",b,{unselected:g.element})}),a(".ui-selecting",this.element[0]).each(function(){var g=a.data(this,"selectable-item");g.$element.removeClass("ui-selecting").addClass("ui-selected");g.selecting=!1;g.selected=!0;g.startselected=!0;e._trigger("selected",b,{selected:g.element})}),this._trigger("stop",b),this.helper.remove(),!1}})})(jQuery);
(function(a,h){a.widget("ui.slider",a.ui.mouse,{version:"1.10.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();
this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var b,e;b=this.options;var g=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f=[];e=b.values&&b.values.length||1;g.length>e&&(g.slice(e).remove(),g=g.slice(0,e));for(b=g.length;b<e;b++)f.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=g.add(a(f.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var b=this.options,e="";b.range?(!0===b.range&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",
bottom:""}):(this.range=a("<div></div>").appendTo(this.element),e="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(e+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))):this.range=a([])},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a);this._on(a,this._handleEvents);this._hoverable(a);this._focusable(a)},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(b){var e,g,f,l,k,h,m,p,q=this,r=this.options;return r.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),e={x:b.pageX,y:b.pageY},g=this._normValueFromMouse(e),f=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var e=Math.abs(g-q.values(b));if(f>e||f===e&&(b===q._lastChangedValue||q.values(b)===r.min))f=e,l=a(this),k=b}),h=this._start(b,k),!1===h?!1:
(this._mouseSliding=!0,this._handleIndex=k,l.addClass("ui-state-active").focus(),m=l.offset(),p=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=p?{left:0,top:0}:{left:b.pageX-m.left-l.width()/2,top:b.pageY-m.top-l.height()/2-(parseInt(l.css("borderTopWidth"),10)||0)-(parseInt(l.css("borderBottomWidth"),10)||0)+(parseInt(l.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,k,g),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var e=
this._normValueFromMouse({x:a.pageX,y:a.pageY});return this._slide(a,this._handleIndex,e),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var e,g,f,l,k;return"horizontal"===
this.orientation?(e=this.elementSize.width,g=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,g=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),f=g/e,1<f&&(f=1),0>f&&(f=0),"vertical"===this.orientation&&(f=1-f),l=this._valueMax()-this._valueMin(),k=this._valueMin()+f*l,this._trimAlignValue(k)},_start:function(a,e){var g={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(g.value=
this.values(e),g.values=this.values()),this._trigger("start",a,g)},_slide:function(a,e,g){var f,l,k;this.options.values&&this.options.values.length?(f=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&g>f||1===e&&g<f)&&(g=f),g!==this.values(e)&&(l=this.values(),l[e]=g,k=this._trigger("slide",a,{handle:this.handles[e],value:g,values:l}),this.values(e?0:1),!1!==k&&this.values(e,g,!0))):g!==this.value()&&(k=this._trigger("slide",a,{handle:this.handles[e],value:g}),!1!==
k&&this.value(g))},_stop:function(a,e){var g={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(g.value=this.values(e),g.values=this.values());this._trigger("stop",a,g)},_change:function(a,e){if(!this._keySliding&&!this._mouseSliding){var g={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(g.value=this.values(e),g.values=this.values());this._lastChangedValue=e;this._trigger("change",a,g)}},value:function(a){if(arguments.length)this.options.value=
this._trimAlignValue(a),this._refreshValue(),this._change(null,0);else return this._value()},values:function(b,e){var g,f,l;if(1<arguments.length)this.options.values[b]=this._trimAlignValue(e),this._refreshValue(),this._change(null,b);else{if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();g=this.options.values;f=arguments[0];for(l=0;l<g.length;l+=1)g[l]=this._trimAlignValue(f[l]),this._change(null,
l);this._refreshValue()}},_setOption:function(b,e){var g,f=0;"range"===b&&!0===this.options.range&&("min"===e?(this.options.value=this._values(0),this.options.values=null):"max"===e&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));a.isArray(this.options.values)&&(f=this.options.values.length);a.Widget.prototype._setOption.apply(this,arguments);switch(b){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(g=0;g<f;g+=1)this._change(null,g);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a),
a},_values:function(a){var e,g;if(arguments.length)return e=this.options.values[a],e=this._trimAlignValue(e),e;if(this.options.values&&this.options.values.length){e=this.options.values.slice();for(g=0;g<e.length;g+=1)e[g]=this._trimAlignValue(e[g]);return e}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var e=0<this.options.step?this.options.step:1,g=(a-this._valueMin())%e;a-=g;return 2*Math.abs(g)>=e&&(a+=0<g?e:
-e),parseFloat(a.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b,e,g,f,l,k=this.options.range,h=this.options,m=this,p=this._animateOff?!1:h.animate,q={};this.options.values&&this.options.values.length?this.handles.each(function(f){e=(m.values(f)-m._valueMin())/(m._valueMax()-m._valueMin())*100;q["horizontal"===m.orientation?"left":"bottom"]=e+"%";a(this).stop(1,1)[p?"animate":"css"](q,h.animate);!0===m.options.range&&
("horizontal"===m.orientation?(0===f&&m.range.stop(1,1)[p?"animate":"css"]({left:e+"%"},h.animate),1===f&&m.range[p?"animate":"css"]({width:e-b+"%"},{queue:!1,duration:h.animate})):(0===f&&m.range.stop(1,1)[p?"animate":"css"]({bottom:e+"%"},h.animate),1===f&&m.range[p?"animate":"css"]({height:e-b+"%"},{queue:!1,duration:h.animate})));b=e}):(g=this.value(),f=this._valueMin(),l=this._valueMax(),e=l!==f?(g-f)/(l-f)*100:0,q["horizontal"===this.orientation?"left":"bottom"]=e+"%",this.handle.stop(1,1)[p?
"animate":"css"](q,h.animate),"min"===k&&"horizontal"===this.orientation&&this.range.stop(1,1)[p?"animate":"css"]({width:e+"%"},h.animate),"max"===k&&"horizontal"===this.orientation&&this.range[p?"animate":"css"]({width:100-e+"%"},{queue:!1,duration:h.animate}),"min"===k&&"vertical"===this.orientation&&this.range.stop(1,1)[p?"animate":"css"]({height:e+"%"},h.animate),"max"===k&&"vertical"===this.orientation&&this.range[p?"animate":"css"]({height:100-e+"%"},{queue:!1,duration:h.animate}))},_handleEvents:{keydown:function(b){var e,
g,f,l=a(b.target).data("ui-slider-handle-index");switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(b.target).addClass("ui-state-active"),e=this._start(b,l),!1===e))return}e=this.options.step;this.options.values&&this.options.values.length?g=f=this.values(l):g=f=this.value();switch(b.keyCode){case a.ui.keyCode.HOME:f=
this._valueMin();break;case a.ui.keyCode.END:f=this._valueMax();break;case a.ui.keyCode.PAGE_UP:f=this._trimAlignValue(g+(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(g-(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(g===this._valueMax())return;f=this._trimAlignValue(g+e);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(g===this._valueMin())return;f=this._trimAlignValue(g-e)}this._slide(b,l,f)},click:function(a){a.preventDefault()},
keyup:function(b){var e=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,e),this._change(b,e),a(b.target).removeClass("ui-state-active"))}}})})(jQuery);
(function(a,h){function b(a,b,f){return a>b&&a<b+f}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,
deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===a.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");
this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,g){"disabled"===b?(this.options[b]=g,this.widget().toggleClass("ui-sortable-disabled",!!g)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,g){var f=null,l=!1,k=this;if(this.reverting||this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(b);a(b.target).parents().each(function(){if(a.data(this,
k.widgetName+"-item")===k)return f=a(this),!1});a.data(b.target,k.widgetName+"-item")===k&&(f=a(b.target));return!f||this.options.handle&&!g&&(a(this.options.handle,f).find("*").addBack().each(function(){this===b.target&&(l=!0)}),!l)?!1:(this.currentItem=f,this._removeCurrentsFromItems(),!0)},_mouseStart:function(b,g,f){g=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(b);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();
this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt);
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();g.containment&&this._setContainment();g.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",g.cursor));g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",g.opacity));g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=
this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex));this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",b,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!f)for(f=this.containers.length-1;0<=f;f--)this.containers[f]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,
b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var g,f,l,k;g=this.options;f=!1;this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=
f=this.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-a(document).scrollTop()<
g.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<g.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)),b.pageX-a(document).scrollLeft()<g.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<g.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed))),!1!==f&&a.ui.ddmanager&&
!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(g=this.items.length-1;0<=g;g--)if(f=this.items[g],l=f.item[0],(k=this._intersectsWithPointer(f))&&f.instance===this.currentContainer&&l!==this.currentItem[0]&&this.placeholder[1===k?"next":"prev"]()[0]!==
l&&!a.contains(this.placeholder[0],l)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],l):1)){this.direction=1===k?"down":"up";if("pointer"!==this.options.tolerance&&!this._intersectsWithSides(f))break;this._rearrange(b,f);this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,g){if(b){a.ui.ddmanager&&!this.options.dropBehaviour&&
a.ui.ddmanager.drop(this,b);if(this.options.revert){var f=this,l=this.placeholder.offset();this.reverting=!0;a(this.helper).animate({left:l.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft),top:l.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){f._clear(b)})}else this._clear(b,g);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});
"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;0<=b;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var g=this._getItemsAsjQuery(b&&b.connected),f=[];return b=b||{},a(g).each(function(){var g=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);g&&f.push((b.key||
g[1]+"[]")+"="+(b.key&&b.expression?g[1]:g[2]))}),!f.length&&b.key&&f.push(b.key+"="),f.join("&")},toArray:function(b){var g=this._getItemsAsjQuery(b&&b.connected),f=[];return b=b||{},g.each(function(){f.push(a(b.item||this).attr(b.attribute||"id")||"")}),f},_intersectsWith:function(a){var b=this.positionAbs.left,f=b+this.helperProportions.width,l=this.positionAbs.top,k=l+this.helperProportions.height,h=a.left,m=h+a.width,p=a.top,q=p+a.height,r=this.offset.click.top,t=this.offset.click.left;return"pointer"===
this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?l+r>p&&l+r<q&&b+t>h&&b+t<m:h<b+this.helperProportions.width/2&&f-this.helperProportions.width/2<m&&p<l+this.helperProportions.height/2&&k-this.helperProportions.height/2<q},_intersectsWithPointer:function(a){var g="x"===this.options.axis||b(this.positionAbs.top+this.offset.click.top,a.top,a.height);a="y"===this.options.axis||
b(this.positionAbs.left+this.offset.click.left,a.left,a.width);g=g&&a;a=this._getDragVerticalDirection();var f=this._getDragHorizontalDirection();return g?this.floating?f&&"right"===f||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(a){var g=b(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=b(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var f=this._getDragVerticalDirection(),l=this._getDragHorizontalDirection();return this.floating&&
l?"right"===l&&a||"left"===l&&!a:f&&("down"===f&&g||"up"===f&&!g)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},
_getItemsAsjQuery:function(b){var g,f,l,k=[],h=[],m=this._connectWith();if(m&&b)for(b=m.length-1;0<=b;b--)for(f=a(m[b]),g=f.length-1;0<=g;g--)(l=a.data(f[g],this.widgetFullName))&&l!==this&&!l.options.disabled&&h.push([a.isFunction(l.options.items)?l.options.items.call(l.element):a(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l]);h.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):
a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=h.length-1;0<=b;b--)h[b][0].each(function(){k.push(this)});return a(k)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var f=0;f<b.length;f++)if(b[f]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[];this.containers=[this];var g,f,l,k,h,m=this.items,p=[[a.isFunction(this.options.items)?
this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]];if((h=this._connectWith())&&this.ready)for(g=h.length-1;0<=g;g--)for(l=a(h[g]),f=l.length-1;0<=f;f--)(k=a.data(l[f],this.widgetFullName))&&k!==this&&!k.options.disabled&&(p.push([a.isFunction(k.options.items)?k.options.items.call(k.element[0],b,{item:this.currentItem}):a(k.options.items,k.element),k]),this.containers.push(k));for(g=p.length-1;0<=g;g--)for(b=p[g][1],l=p[g][0],f=0,h=l.length;f<
h;f++)k=a(l[f]),k.data(this.widgetName+"-item",b),m.push({item:k,instance:b,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var g,f,l;for(g=this.items.length-1;0<=g;g--)f=this.items[g],f.instance!==this.currentContainer&&this.currentContainer&&f.item[0]!==this.currentItem[0]||(l=this.options.toleranceElement?a(this.options.toleranceElement,f.item):f.item,b||(f.width=l.outerWidth(),f.height=l.outerHeight()),
l=l.offset(),f.left=l.left,f.top=l.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(g=this.containers.length-1;0<=g;g--)l=this.containers[g].element.offset(),this.containers[g].containerCache.left=l.left,this.containers[g].containerCache.top=l.top,this.containers[g].containerCache.width=this.containers[g].element.outerWidth(),this.containers[g].containerCache.height=this.containers[g].element.outerHeight();return this},_createPlaceholder:function(b){b=
b||this;var g,f=b.options;f.placeholder&&f.placeholder.constructor!==String||(g=f.placeholder,f.placeholder={element:function(){var f=a(document.createElement(b.currentItem[0].nodeName)).addClass(g||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return g||(f.style.visibility="hidden"),f},update:function(a,k){if(!g||f.forcePlaceholderSize)k.height()||k.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||
0,10)),k.width()||k.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10))}});b.placeholder=a(f.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);f.placeholder.update(b,b.placeholder)},_contactContainers:function(b){var g,f,l,k,h,m,p,q,r=f=null;for(g=this.containers.length-1;0<=g;g--)a.contains(this.currentItem[0],this.containers[g].element[0])||(this._intersectsWith(this.containers[g].containerCache)?
f&&a.contains(this.containers[g].element[0],f.element[0])||(f=this.containers[g],r=g):this.containers[g].containerCache.over&&(this.containers[g]._trigger("out",b,this._uiHash(this)),this.containers[g].containerCache.over=0));if(f)if(1===this.containers.length)this.containers[r]._trigger("over",b,this._uiHash(this)),this.containers[r].containerCache.over=1;else{f=1E4;l=null;k=this.containers[r].floating?"left":"top";h=this.containers[r].floating?"width":"height";m=this.positionAbs[k]+this.offset.click[k];
for(g=this.items.length-1;0<=g;g--)a.contains(this.containers[r].element[0],this.items[g].item[0])&&this.items[g].item[0]!==this.currentItem[0]&&(p=this.items[g].item.offset()[k],q=!1,Math.abs(p-m)>Math.abs(p+this.items[g][h]-m)&&(q=!0,p+=this.items[g][h]),Math.abs(p-m)<f&&(f=Math.abs(p-m),l=this.items[g],this.direction=q?"up":"down"));if(l||this.options.dropOnEmpty)this.currentContainer=this.containers[r],l?this._rearrange(b,l,null,!0):this._rearrange(b,null,this.containers[r].element,!0),this._trigger("change",
b,this._uiHash()),this.containers[r]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[r]._trigger("over",b,this._uiHash(this)),this.containers[r].containerCache.over=1}},_createHelper:function(b){var g=this.options;b=a.isFunction(g.helper)?a(g.helper.apply(this.element[0],[b,this.currentItem])):"clone"===g.helper?this.currentItem.clone():this.currentItem;return b.parents("body").length||a("parent"!==g.appendTo?g.appendTo:
this.currentItem[0].parentNode)[0].appendChild(b[0]),b[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!b[0].style.width||g.forceHelperSize)&&b.width(this.currentItem.width()),(!b[0].style.height||g.forceHelperSize)&&b.height(this.currentItem.height()),b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));
a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==
document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=
this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,
g,f,l=this.options;"parent"===l.containment&&(l.containment=this.helper[0].parentNode);if("document"===l.containment||"window"===l.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===l.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===l.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];
/^(document|window|parent)$/.test(l.containment)||(b=a(l.containment)[0],g=a(l.containment).offset(),f="hidden"!==a(b).css("overflow"),this.containment=[g.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,g.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,g.left+(f?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),
10)||0)-this.helperProportions.width-this.margins.left,g.top+(f?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,g){g||(g=this.position);var f="absolute"===b?1:-1,l="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,k=/(html|body)/i.test(l[0].tagName);
return{top:g.top+this.offset.relative.top*f+this.offset.parent.top*f-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():k?0:l.scrollTop())*f,left:g.left+this.offset.relative.left*f+this.offset.parent.left*f-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():k?0:l.scrollLeft())*f}},_generatePosition:function(b){var g,f,l=this.options,k=b.pageX,h=b.pageY,m="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:
this.offsetParent,p=/(html|body)/i.test(m[0].tagName);return"relative"===this.cssPosition&&(this.scrollParent[0]===document||this.scrollParent[0]===this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(k=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(h=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&
(k=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(h=this.containment[3]+this.offset.click.top)),l.grid&&(g=this.originalPageY+Math.round((h-this.originalPageY)/l.grid[1])*l.grid[1],h=this.containment?g-this.offset.click.top>=this.containment[1]&&g-this.offset.click.top<=this.containment[3]?g:g-this.offset.click.top>=this.containment[1]?g-l.grid[1]:g+l.grid[1]:g,f=this.originalPageX+Math.round((k-this.originalPageX)/l.grid[0])*l.grid[0],k=this.containment?
f-this.offset.click.left>=this.containment[0]&&f-this.offset.click.left<=this.containment[2]?f:f-this.offset.click.left>=this.containment[0]?f-l.grid[0]:f+l.grid[0]:f)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():p?0:m.scrollTop()),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():p?0:m.scrollLeft())}},_rearrange:function(a,
b,f,l){f?f[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling);var k=this.counter=this.counter?++this.counter:1;this._delay(function(){k===this.counter&&this.refreshPositions(!l)})},_clear:function(b,g){this.reverting=!1;var f,l=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(f in this._storedCSS)if("auto"===
this._storedCSS[f]||"static"===this._storedCSS[f])this._storedCSS[f]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!g&&l.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||g||l.push(function(a){this._trigger("update",a,this._uiHash())});this!==this.currentContainer&&
(g||(l.push(function(a){this._trigger("remove",a,this._uiHash())}),l.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),l.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer))));for(f=this.containers.length-1;0<=f;f--)g||l.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over&&
(l.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over=0);this._storedCursor&&a("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!g){this._trigger("beforeStop",b,this._uiHash());for(f=0;f<l.length;f++)l[f].call(this,
b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!1}g||this._trigger("beforeStop",b,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null;if(!g){for(f=0;f<l.length;f++)l[f].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(b){var g=b||this;
return{helper:g.helper,placeholder:g.placeholder||a([]),position:g.position,originalPosition:g.originalPosition,offset:g.positionAbs,item:g.currentItem,sender:b?b.element:null}}})})(jQuery);
(function(a){function h(a){return function(){var e=this.element.val();a.apply(this,arguments);this._refresh();e!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.10.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);
this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b={},e=this.element;return a.each(["min","max","step"],function(a,f){var l=e.attr(f);void 0!==l&&l.length&&(b[f]=l)}),b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",
focus:function(){this.previous=this.element.val()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a))},mousewheel:function(a,e){if(e){if(!this.spinning&&!this._start(a))return!1;this._spin((0<e?1:-1)*this.options.step,a);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100);a.preventDefault()}},"mousedown .ui-spinner-button":function(b){function e(){this.element[0]===
this.document[0].activeElement||(this.element.focus(),this.previous=g,this._delay(function(){this.previous=g}))}var g;g=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();b.preventDefault();e.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;e.call(this)});!1!==this._start(b)&&this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){if(a(b.currentTarget).hasClass("ui-state-active")){if(!1===
this._start(b))return!1;this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(.5*a.height())&&0<a.height()&&
a.height(a.height());this.options.disabled&&this.disable()},_keydown:function(b){var e=this.options,g=a.ui.keyCode;switch(b.keyCode){case g.UP:return this._repeat(null,1,b),!0;case g.DOWN:return this._repeat(null,-1,b),!0;case g.PAGE_UP:return this._repeat(null,e.page,b),!0;case g.PAGE_DOWN:return this._repeat(null,-e.page,b),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+
this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return this.spinning||!1!==this._trigger("start",a)?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,e,g){a=a||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,e,g)},a);this._spin(e*this.options.step,g)},_spin:function(a,e){var g=this.value()||0;this.counter||
(this.counter=1);g=this._adjustValue(g+a*this._increment(this.counter));this.spinning&&!1===this._trigger("spin",e,{value:g})||(this._value(g),this.counter++)},_increment:function(b){var e=this.options.incremental;return e?a.isFunction(e)?e(b):Math.floor(b*b*b/5E4-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){a=a.toString();var e=a.indexOf(".");
return-1===e?0:a.length-e-1},_adjustValue:function(a){var e,g,f=this.options;return e=null!==f.min?f.min:0,g=a-e,g=Math.round(g/f.step)*f.step,a=e+g,a=parseFloat(a.toFixed(this._precision())),null!==f.max&&a>f.max?f.max:null!==f.min&&a<f.min?f.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,e){if("culture"===a||"numberFormat"===a){var g=this._parse(this.element.val());
this.options[a]=e;this.element.val(this._format(g))}else"max"!==a&&"min"!==a&&"step"!==a||"string"!=typeof e||(e=this._parse(e)),"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(a,e),"disabled"===a&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:h(function(a){this._super(a);
this._value(this.element.val())}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},
_value:function(a,e){var g;""!==a&&(g=this._parse(a),null!==g&&(e||(g=this._adjustValue(g)),a=this._format(g)));this.element.val(a);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:h(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),
this._stop())},stepDown:h(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:h(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:h(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){if(!arguments.length)return this._parse(this.element.val());h(this._value).call(this,a)},widget:function(){return this.uiSpinner}})})(jQuery);
(function(a,h){function b(a){return 1<a.hash.length&&decodeURIComponent(a.href.replace(g,""))===decodeURIComponent(location.href.replace(g,""))}var e=0,g=/#.*$/;a.widget("ui.tabs",{version:"1.10.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,e=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",
e.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()});this._processTabs();e.active=this._initialActive();a.isArray(e.disabled)&&(e.disabled=a.unique(e.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort());!1!==this.options.active&&
this.anchors.length?this.active=this._findActive(e.active):this.active=a();this._refresh();this.active.length&&this.load(e.active)},_initialActive:function(){var b=this.options.active,e=this.options.collapsible,g=location.hash.substring(1);null===b&&(g&&this.tabs.each(function(e,l){if(a(l).attr("aria-controls")===g)return b=e,!1}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null===b||-1===b)&&(b=this.tabs.length?0:!1);return!1!==b&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&
(b=e?!1:0)),!e&&!1===b&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var e=a(this.document[0].activeElement).closest("li"),g=this.tabs.index(e),h=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:g++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:h=!1;g--;break;case a.ui.keyCode.END:g=this.anchors.length-1;break;case a.ui.keyCode.HOME:g=
0;break;case a.ui.keyCode.SPACE:b.preventDefault();clearTimeout(this.activating);this._activate(g);return;case a.ui.keyCode.ENTER:b.preventDefault();clearTimeout(this.activating);this._activate(g===this.options.active?!1:g);return;default:return}b.preventDefault();clearTimeout(this.activating);g=this._focusNextTab(g,h);b.ctrlKey||(e.attr("aria-selected","false"),this.tabs.eq(g).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",g)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||
b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(b,e){for(var g=this.tabs.length-1;-1!==a.inArray((b>g&&(b=0),0>b&&(b=g),b),this.options.disabled);)b=e?b+1:b-1;return b},_focusNextTab:function(a,
b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){"active"===a?this._activate(b):"disabled"===a?this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),!b&&!1===this.options.active&&this._activate(0)),"event"===a&&this._setupEvents(b),"heightStyle"===a&&this._setupHeightStyle(b))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+ ++e},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,
"\\$&"):""},refresh:function(){var b=this.options,e=this.tablist.children(":has(a[href])");b.disabled=a.map(e.filter(".ui-state-disabled"),function(a){return e.index(a)});this._processTabs();!1!==b.active&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a());this._refresh()},
_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true",
"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=
a();this.anchors.each(function(g,k){var h,m,p,q=a(k).uniqueId().attr("id"),r=a(k).closest("li"),t=r.attr("aria-controls");b(k)?(h=k.hash,m=e.element.find(e._sanitizeSelector(h))):(p=e._tabId(r),h="#"+p,m=e.element.find(h),m.length||(m=e._createPanel(p),m.insertAfter(e.panels[g-1]||e.tablist)),m.attr("aria-live","polite"));m.length&&(e.panels=e.panels.add(m));t&&r.data("ui-tabs-aria-controls",t);r.attr({"aria-controls":h.substring(1),"aria-labelledby":q});m.attr("aria-labelledby",q)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role",
"tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var e=0,g;g=this.tabs[e];e++)!0===b||-1!==a.inArray(e,b)?a(g).addClass("ui-state-disabled").attr("aria-disabled","true"):a(g).removeClass("ui-state-disabled").removeAttr("aria-disabled");
this.options.disabled=b},_setupEvents:function(b){var e={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){e[b]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,e);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(b){var e,g=this.element.parent();"fill"===b?(e=g.height(),e-=this.element.outerHeight()-this.element.height(),
this.element.siblings(":visible").each(function(){var b=a(this),f=b.css("position");"absolute"!==f&&"fixed"!==f&&(e-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){e-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,e-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(e=0,this.panels.each(function(){e=Math.max(e,a(this).height("").height())}).height(e))},_eventHandler:function(b){var e=this.options,g=this.active,
h=a(b.currentTarget).closest("li"),m=h[0]===g[0],p=m&&e.collapsible,q=p?a():this._getPanelForTab(h),r=g.length?this._getPanelForTab(g):a(),g={oldTab:g,oldPanel:r,newTab:p?a():h,newPanel:q};b.preventDefault();h.hasClass("ui-state-disabled")||h.hasClass("ui-tabs-loading")||this.running||m&&!e.collapsible||!1===this._trigger("beforeActivate",b,g)||(e.active=p?!1:this.tabs.index(h),this.active=m?a():h,this.xhr&&this.xhr.abort(),r.length||q.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),
q.length&&this.load(this.tabs.index(h),b),this._toggle(b,g))},_toggle:function(b,e){function g(){m.running=!1;m._trigger("activate",b,e)}function h(){e.newTab.closest("li").addClass("ui-tabs-active ui-state-active");p.length&&m.options.show?m._show(p,m.options.show,g):(p.show(),g())}var m=this,p=e.newPanel,q=e.oldPanel;this.running=!0;q.length&&this.options.hide?this._hide(q,this.options.hide,function(){e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");h()}):(e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
q.hide(),h());q.attr({"aria-expanded":"false","aria-hidden":"true"});e.oldTab.attr("aria-selected","false");p.length&&q.length?e.oldTab.attr("tabIndex",-1):p.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);p.attr({"aria-expanded":"true","aria-hidden":"false"});e.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){b=this._findActive(b);b[0]!==this.active[0]&&(b.length||(b=this.active),b=b.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,
currentTarget:b,preventDefault:a.noop}))},_findActive:function(b){return!1===b?a():this.tabs.eq(b)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();
this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var b=a(this),e=b.data("ui-tabs-aria-controls");
e?b.attr("aria-controls",e).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var e=this.options.disabled;!1!==e&&(b===h?e=!1:(b=this._getIndex(b),a.isArray(e)?e=a.map(e,function(a){return a!==b?a:null}):e=a.map(this.tabs,function(a,e){return e!==b?e:null})),this._setupDisabled(e))},disable:function(b){var e=this.options.disabled;if(!0!==e){if(b===h)e=!0;else{b=this._getIndex(b);
if(-1!==a.inArray(b,e))return;a.isArray(e)?e=a.merge([b],e).sort():e=[b]}this._setupDisabled(e)}},load:function(e,g){e=this._getIndex(e);var k=this,h=this.tabs.eq(e),m=h.find(".ui-tabs-anchor"),p=this._getPanelForTab(h),q={tab:h,panel:p};b(m[0])||(this.xhr=a.ajax(this._ajaxSettings(m,g,q)))&&"canceled"!==this.xhr.statusText&&(h.addClass("ui-tabs-loading"),p.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){p.html(a);k._trigger("load",g,q)},1)}).complete(function(a,b){setTimeout(function(){"abort"===
b&&k.panels.stop(!1,!0);h.removeClass("ui-tabs-loading");p.removeAttr("aria-busy");a===k.xhr&&delete k.xhr},1)}))},_ajaxSettings:function(b,e,g){var h=this;return{url:b.attr("href"),beforeSend:function(b,f){return h._trigger("beforeLoad",e,a.extend({jqXHR:b,ajaxSettings:f},g))}}},_getPanelForTab:function(b){b=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+b))}})})(jQuery);
(function(a){function h(b,e){var h=(b.attr("aria-describedby")||"").split(/\s+/);h.push(e);b.data("ui-tooltip-id",e).attr("aria-describedby",a.trim(h.join(" ")))}function b(b){var e=b.data("ui-tooltip-id"),h=(b.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(e,h);-1!==e&&h.splice(e,1);b.removeData("ui-tooltip-id");(h=a.trim(h.join(" ")))?b.attr("aria-describedby",h):b.removeAttr("aria-describedby")}var e=0;a.widget("ui.tooltip",{version:"1.10.1",options:{content:function(){var b=a(this).attr("title")||
"";return a("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable()},_setOption:function(b,e){var h=this;"disabled"===b?(this[e?"_disable":"_enable"](),this.options[b]=e):(this._super(b,e),"content"===b&&a.each(this.tooltips,function(a,
b){h._updateContent(b)}))},_disable:function(){var b=this;a.each(this.tooltips,function(e,h){var k=a.Event("blur");k.target=k.currentTarget=h[0];b.close(k,!0)});this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(b){var e=
this,h=a(b?b.target:this.element).closest(this.options.items);h.length&&!h.data("ui-tooltip-id")&&(h.attr("title")&&h.data("ui-tooltip-title",h.attr("title")),h.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&h.parents().each(function(){var b=a(this),g;b.data("ui-tooltip-open")&&(g=a.Event("blur"),g.target=g.currentTarget=this,e.close(g,!0));b.attr("title")&&(b.uniqueId(),e.parents[this.id]={element:this,title:b.attr("title")},b.attr("title",""))}),this._updateContent(h,b))},_updateContent:function(a,
b){var e;e=this.options.content;var k=this,h=b?b.type:null;if("string"==typeof e)return this._open(b,a,e);(e=e.call(a[0],function(e){a.data("ui-tooltip-open")&&k._delay(function(){b&&(b.type=h);this._open(b,a,e)})}))&&this._open(b,a,e)},_open:function(b,e,l){function k(a){p.of=a;n.is(":hidden")||n.position(p)}var n,m,p=a.extend({},this.options.position);l&&(n=this._find(e),n.length?n.find(".ui-tooltip-content").html(l):(e.is("[title]")&&(b&&"mouseover"===b.type?e.attr("title",""):e.removeAttr("title")),
n=this._tooltip(e),h(e,n.attr("id")),n.find(".ui-tooltip-content").html(l),this.options.track&&b&&/^mouse/.test(b.type)?(this._on(this.document,{mousemove:k}),k(b)):n.position(a.extend({of:e},this.options.position)),n.hide(),this._show(n,this.options.show),this.options.show&&this.options.show.delay&&(m=this.delayedShow=setInterval(function(){n.is(":visible")&&(k(p.of),clearInterval(m))},a.fx.interval)),this._trigger("open",b,{tooltip:n}),l={keyup:function(b){b.keyCode===a.ui.keyCode.ESCAPE&&(b=a.Event(b),
b.currentTarget=e[0],this.close(b,!0))},remove:function(){this._removeTooltip(n)}},b&&"mouseover"!==b.type||(l.mouseleave="close"),b&&"focusin"!==b.type||(l.focusout="close"),this._on(!0,e,l)))},close:function(e){var f=this,h=a(e?e.currentTarget:this.element),k=this._find(h);this.closing||(clearInterval(this.delayedShow),h.data("ui-tooltip-title")&&h.attr("title",h.data("ui-tooltip-title")),b(h),k.stop(!0),this._hide(k,this.options.hide,function(){f._removeTooltip(a(this))}),h.removeData("ui-tooltip-open"),
this._off(h,"mouseleave focusout keyup"),h[0]!==this.element[0]&&this._off(h,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&a.each(this.parents,function(b,e){a(e.element).attr("title",e.title);delete f.parents[b]}),this.closing=!0,this._trigger("close",e,{tooltip:k}),this.closing=!1)},_tooltip:function(b){var f="ui-tooltip-"+e++,h=a("<div>").attr({id:f,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return a("<div>").addClass("ui-tooltip-content").appendTo(h),
h.appendTo(this.document[0].body),this.tooltips[f]=b,h},_find:function(b){return(b=b.data("ui-tooltip-id"))?a("#"+b):a()},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_destroy:function(){var b=this;a.each(this.tooltips,function(e,h){var k=a.Event("blur");k.target=k.currentTarget=h[0];b.close(k,!0);a("#"+e).remove();h.data("ui-tooltip-title")&&(h.attr("title",h.data("ui-tooltip-title")),h.removeData("ui-tooltip-title"))})}})})(jQuery);!function(a){"function"==typeof define&&define.amd?define("position-calculator",["jquery"],a):jQuery.PositionCalculator=a(jQuery)}(function(a){function h(a){return"string"==typeof a&&("window"===a?a=r:"document"===a&&(a=t)),a}function b(a){a=a.split(" ");return{y:x.test(a[0])?a[0]:"top",x:y.test(a[1])?a[1]:"left"}}function e(a,b){return a===b?!0:a&&b?a.top===b.top&&a.left===b.left&&a.height===b.height&&a.width===b.width:!1}function g(b){var e=b[0];if(9===e.nodeType)return{width:b.outerWidth(),height:b.outerHeight(),
top:0,left:0};if(a.isWindow(e))return{width:b.outerWidth(),height:b.outerHeight(),top:b.scrollTop(),left:b.scrollLeft()};if(e.preventDefault)return{width:0,height:0,top:e.pageY,left:e.pageX};e=b.offset();return{width:b.outerWidth(),height:b.outerHeight(),top:e.top,left:e.left}}function f(b,e){var f=b[0];if(9!==f.nodeType){if(a.isWindow(f)&&(e.top=b.scrollTop(),e.left=b.scrollLeft()),f.preventDefault)return e.top=f.pageY,void(e.left=f.pageX);f=b.offset();e.top=f.top;e.left=f.left}}function l(a,b){return{y:parseFloat(a.y)*
(z.test(a.y)?b.height/100:1),x:parseFloat(a.x)*(z.test(a.x)?b.width/100:1),mirror:a.mirror}}function k(a,b,e){a={top:0,left:0,middle:.5*a.height,center:.5*a.width,bottom:a.height,right:a.width};return 0!==b.y&&(a.middle+=b.y,b.mirror?(a.top+="top"!==e.y?-1*b.y:b.y,a.bottom+="bottom"!==e.y?-1*b.y:b.y):(a.top+=b.y,a.bottom+=b.y)),0!==b.x&&(a.center+=b.x,b.mirror?(a.left+="left"!==e.x?-1*b.x:b.x,a.right+="right"!==e.x?-1*b.x:b.x):(a.left+=b.x,a.right+=b.x)),a}function n(a){var b=[];return 0<a.top&&b.push("top"),
0<a.left&&b.push("left"),0>a.bottom&&b.push("bottom"),0>a.right&&b.push("right"),a.overflow=b.length?b:null,a}function m(a,b){return n({top:a.top-b.top,left:a.left-b.left,bottom:a.top+a.height-(b.top+b.height),right:a.left+a.width-(b.left+b.width),overflow:[]})}function p(a,b,e){var f,g,k,h,l;return l=e?["top","bottom"]:["left","right"],f=a[l[0]],k=b[l[0]],g=-1*a[l[1]],h=-1*b[l[1]],0>f&&(f=0),0>g&&(g=0),0>k&&(k=0),0>h&&(h=0),0>f&&0>g?!0:0>k&&0>h?!1:k+h>f+g}function q(a){return this instanceof q?(this.options=
this.$itm=this.$trg=this.$bnd=this.itmAt=this.trgAt=this.itmPos=this.trgPos=this.bndPos=this.itmOffset=this.trgOffset=null,void this._init(a)):new q(a)}var r=window,t=document,v=t.documentElement,x=/top|middle|bottom/,y=/left|center|right/,z=/%$/,B={left:"right",center:"center",right:"left",top:"bottom",middle:"middle",bottom:"top"};return q.prototype._init=function(e){e=this.options=a.extend({},q.defaults,e);return e.item?(this.$itm=e.item.jquery?e.item:a(e.item),0===this.$itm.length?null:(this.$trg=
e.target&&e.target.jquery?e.target:a(h(e.target)),this.$bnd=e.boundary&&e.boundary.jquery?e.boundary:a(h(e.boundary)),this.itmAt=b(e.itemAt),this.trgAt=b(e.targetAt),this.resize(),this)):null},q.prototype.resize=function(){var b=this.options,f=g(this.$itm),h=this.$trg.length?g(this.$trg):null,m;if(this.$bnd.length){m=this.$bnd;var r,n=m[0];m=(9===n.nodeType?(n=v,r={top:0,left:0}):a.isWindow(n)?(n=v,r={top:m.scrollTop(),left:m.scrollLeft()}):r=m.offset(),{width:n.clientWidth,height:n.clientHeight,
top:r.top+n.clientTop,left:r.left+n.clientLeft})}else m=null;(this.bndPos=m,this.itmPos&&e(f,this.itmPos))||(this.itmPos=f,r=l(b.itemOffset,f),r.x*=-1,r.y*=-1,this.itmOffset=k(f,r,this.itmAt));return this.trgPos&&e(h,this.trgPos)||(this.trgPos=h,h&&(this.trgOffset=k(h,l(b.targetOffset,h),this.trgAt))),this},q.prototype.calcVariant=function(a,b){var e={moveBy:null,distance:null,itemAt:null,targetAt:null};if(this.trgPos&&a&&b){var f={top:this.trgPos.top+this.trgOffset[b.y]-this.itmOffset[a.y],left:this.trgPos.left+
this.trgOffset[b.x]-this.itmOffset[a.x],height:this.itmPos.height,width:this.itmPos.width};e.moveBy={y:f.top-this.itmPos.top,x:f.left-this.itmPos.left};e.distance=this.bndPos?m(this.bndPos,f):null;e.itemAt=a.y+" "+a.x;e.targetAt=b.y+" "+b.x}else e.moveBy={y:0,x:0},e.distance=this.bndPos?m(this.bndPos,this.itmPos):null;return e},q.prototype.calculate=function(){if(null===this.itmPos)return null;var b=this.options;f(this.$itm,this.itmPos);this.trgPos&&f(this.$trg,this.trgPos);if(this.bndPos){var e=
this.$bnd,g=this.bndPos,k,h=e[0];9===h.nodeType?(h=v,k={top:0,left:0}):a.isWindow(h)?(h=v,k={top:e.scrollTop(),left:e.scrollLeft()}):k=e.offset();g.top=k.top+h.clientTop;g.left=k.left+h.clientLeft}e=this.calcVariant(this.itmAt,this.trgAt);if(!e.distance||!e.distance.overflow)return e;if(b.flip&&"none"!==b.flip&&this.trgPos){var l,m;var g=b.flip,h=this.itmAt,r=this.trgAt;k=e.distance;var q,h={y:h.y,x:h.x},r={y:r.y,x:r.x};if(-1!==k.overflow.indexOf("top")&&(m="top"),-1!==k.overflow.indexOf("bottom")&&
(m=m?null:"bottom"),-1!==k.overflow.indexOf("left")&&(q="left"),-1!==k.overflow.indexOf("right")&&(q=q?null:"right"),m||q){switch(g=!0===g?"both":g,k=0,g){case "item":k=1;break;case "target":k=2;break;case "both":k=3}m=(1&k&&(m&&(h.y=B[h.y]),q&&(h.x=B[h.x])),2&k&&(m&&(r.y=B[r.y]),q&&(r.x=B[r.x])),{item_at:h,tar_at:r})}else m=null;if(m){if(l=this.calcVariant(m.item_at,m.tar_at),!l.distance.overflow)return l;g=q=!1;if(q=p(l.distance,e.distance,!0),g=p(l.distance,e.distance,!1),q!==g){if(e=this.calcVariant({y:q?
m.item_at.y:this.itmAt.y,x:g?m.item_at.x:this.itmAt.x},{y:q?m.tar_at.y:this.trgAt.y,x:g?m.tar_at.x:this.trgAt.x}),!e.distance.overflow)return e}else q&&g&&(e=l)}}var t;if(b.stick&&"none"!==b.stick)if(l=e,b=b.stick,"all"===b&&(b=!0),m=l.distance.overflow,m.length){g=e=!1;for(k=m.length-1;0<=k;k--)switch(q=m[k]){case "top":case "bottom":(!g&&!0===b||-1!==b.indexOf(q))&&(t=l.distance[q],l.moveBy.y+=t,l.distance.top-=t,l.distance.bottom-=t,g=!0);break;case "left":case "right":(!e&&!0===b||-1!==b.indexOf(q))&&
(t=l.distance[q],l.moveBy.x+=t,l.distance.left-=t,l.distance.right-=t,e=!0)}t=(n(l.distance),l)}else t=l;else t=e;return t},q.defaults={item:null,target:null,boundary:window,itemAt:"top left",targetAt:"top left",itemOffset:{y:0,x:0,mirror:!0},targetOffset:{y:0,x:0,mirror:!0},flip:"none",stick:"none"},q});var JSON;JSON||(JSON={});
(function(){function a(b,e){var g,k,t,v,x=f,y,z=e[b];z&&"object"==typeof z&&"function"==typeof z.toJSON&&(z=z.toJSON(b));"function"==typeof n&&(z=n.call(e,b,z));switch(typeof z){case "string":return h(z);case "number":return isFinite(z)?String(z):"null";case "boolean":case "null":return String(z);case "object":if(!z)return"null";f+=l;y=[];if("[object Array]"===Object.prototype.toString.apply(z)){v=z.length;for(g=0;g<v;g+=1)y[g]=a(g,z)||"null";t=0===y.length?"[]":f?"[\n"+f+y.join(",\n"+f)+"\n"+x+"]":
"["+y.join(",")+"]";f=x;return t}if(n&&"object"==typeof n)for(v=n.length,g=0;g<v;g+=1)"string"==typeof n[g]&&(k=n[g],t=a(k,z),t&&y.push(h(k)+(f?": ":":")+t));else for(k in z)Object.prototype.hasOwnProperty.call(z,k)&&(t=a(k,z),t&&y.push(h(k)+(f?": ":":")+t));t=0===y.length?"{}":f?"{\n"+f+y.join(",\n"+f)+"\n"+x+"}":"{"+y.join(",")+"}";f=x;return t}}function h(a){g.lastIndex=0;return g.test(a)?'"'+a.replace(g,function(a){var b=k[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+
'"':'"'+a+'"'}function b(a){return 10>a?"0"+a:a}"use strict";"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,l,k={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;"function"!=typeof JSON.stringify&&(JSON.stringify=function(b,e,g){var k;l=f="";if("number"==typeof g)for(k=0;k<g;k+=1)l+=" ";else"string"==typeof g&&(l=g);n=e;if(!e||"function"==typeof e||"object"==typeof e&&"number"==typeof e.length)return a("",{"":b});throw Error("JSON.stringify");});"function"!=
typeof JSON.parse&&(JSON.parse=function(a,b){function f(a,e){var g,k,h=a[e];if(h&&"object"==typeof h)for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&(k=f(h,g),void 0!==k?h[g]=k:delete h[g]);return b.call(a,e,h)}var g;a=String(a);e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return g=eval("("+a+")"),"function"==typeof b?f({"":g},""):g;throw new SyntaxError("JSON.parse");})})();
SockJS=function(){var a=document,h=window,b={},e=function(){};e.prototype.addEventListener=function(a,e){this._listeners||(this._listeners={});a in this._listeners||(this._listeners[a]=[]);var f=this._listeners[a];-1===b.arrIndexOf(f,e)&&f.push(e)};e.prototype.removeEventListener=function(a,e){if(this._listeners&&a in this._listeners){var f=this._listeners[a],g=b.arrIndexOf(f,e);-1!==g&&(1<f.length?this._listeners[a]=f.slice(0,g).concat(f.slice(g+1)):delete this._listeners[a])}};e.prototype.dispatchEvent=
function(a){var b=a.type,e=Array.prototype.slice.call(arguments,0);this["on"+b]&&this["on"+b].apply(this,e);if(this._listeners&&b in this._listeners)for(var f=0;f<this._listeners[b].length;f++)this._listeners[b][f].apply(this,e)};var g=function(a,b){this.type=a;if("undefined"!=typeof b)for(var e in b)b.hasOwnProperty(e)&&(this[e]=b[e])};g.prototype.toString=function(){var a=[],b;for(b in this)if(this.hasOwnProperty(b)){var e=this[b];"function"==typeof e&&(e="[function]");a.push(b+"="+e)}return"SimpleEvent("+
a.join(", ")+")"};var f=function(a){this._events=a||[];this._listeners={}};f.prototype.emit=function(a){this._verifyType(a);if(!this._nuked){var b=Array.prototype.slice.call(arguments,1);this["on"+a]&&this["on"+a].apply(this,b);if(a in this._listeners)for(var e=0;e<this._listeners[a].length;e++)this._listeners[a][e].apply(this,b)}};f.prototype.on=function(a,b){this._verifyType(a);this._nuked||(a in this._listeners||(this._listeners[a]=[]),this._listeners[a].push(b))};f.prototype._verifyType=function(a){-1===
b.arrIndexOf(this._events,a)&&b.log("Event "+JSON.stringify(a)+" not listed "+JSON.stringify(this._events)+" in "+this)};f.prototype.nuke=function(){this._nuked=!0;for(var a=0;a<this._events.length;a++)delete this[this._events[a]];this._listeners={}};b.random_string=function(a,b){b=b||37;var e,f=[];for(e=0;e<a;e++)f.push("abcdefghijklmnopqrstuvwxyz0123456789_".substr(Math.floor(Math.random()*b),1));return f.join("")};b.random_number=function(a){return Math.floor(Math.random()*a)};b.random_number_string=
function(a){var e=(""+(a-1)).length;return(Array(e+1).join("0")+b.random_number(a)).slice(-e)};b.getOrigin=function(a){return(a+"/").split("/").slice(0,3).join("/")};b.isSameOriginUrl=function(a,b){return b||(b=h.location.href),a.split("/").slice(0,3).join("/")===b.split("/").slice(0,3).join("/")};b.getParentDomain=function(a){return/^[0-9.]*$/.test(a)||/^\[/.test(a)||!/[.]/.test(a)?a:a.split(".").slice(1).join(".")};b.objectExtend=function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);return a};
b.polluteGlobalNamespace=function(){"_jp"in h||(h._jp={})};b.closeFrame=function(a,b){return"c"+JSON.stringify([a,b])};b.userSetCode=function(a){return 1E3===a||3E3<=a&&4999>=a};b.countRTO=function(a){var b;return 100<a?b=3*a:b=a+200,b};b.log=function(){h.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)};b.bind=function(a,b){return a.bind?a.bind(b):function(){return a.apply(b,arguments)}};b.flatUrl=function(a){return-1===a.indexOf("?")&&-1===a.indexOf("#")};b.amendUrl=
function(e){var f=a.location;if(!e)throw Error("Wrong url for SockJS");if(!b.flatUrl(e))throw Error("Only basic urls are supported in SockJS");return 0===e.indexOf("//")&&(e=f.protocol+e),0===e.indexOf("/")&&(e=f.protocol+"//"+f.host+e),e=e.replace(/[/]+$/,""),e};b.arrIndexOf=function(a,b){for(var e=0;e<a.length;e++)if(a[e]===b)return e;return-1};b.arrSkip=function(a,e){var f=b.arrIndexOf(a,e);return-1===f?a.slice():a.slice(0,f).concat(a.slice(f+1))};b.isArray=Array.isArray||function(a){return 0<=
{}.toString.call(a).indexOf("Array")};b.delay=function(a,b){return"function"==typeof a&&(b=a,a=0),setTimeout(b,a)};var l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k={"\x00":"\\u0000","\u0001":"\\u0001","\u0002":"\\u0002","\u0003":"\\u0003","\u0004":"\\u0004","\u0005":"\\u0005","\u0006":"\\u0006","\u0007":"\\u0007","\b":"\\b","\t":"\\t","\n":"\\n","\x0B":"\\u000b","\f":"\\f","\r":"\\r","\u000e":"\\u000e","\u000f":"\\u000f",
"\u0010":"\\u0010","\u0011":"\\u0011","\u0012":"\\u0012","\u0013":"\\u0013","\u0014":"\\u0014","\u0015":"\\u0015","\u0016":"\\u0016","\u0017":"\\u0017","\u0018":"\\u0018","\u0019":"\\u0019","\u001a":"\\u001a","\u001b":"\\u001b","\u001c":"\\u001c","\u001d":"\\u001d","\u001e":"\\u001e","\u001f":"\\u001f",'"':'\\"',"\\":"\\\\","\u007f":"\\u007f","\u0080":"\\u0080","\u0081":"\\u0081","\u0082":"\\u0082","\u0083":"\\u0083","\u0084":"\\u0084","\u0085":"\\u0085","\u0086":"\\u0086","\u0087":"\\u0087","\u0088":"\\u0088",
"\u0089":"\\u0089","\u008a":"\\u008a","\u008b":"\\u008b","\u008c":"\\u008c","\u008d":"\\u008d","\u008e":"\\u008e","\u008f":"\\u008f","\u0090":"\\u0090","\u0091":"\\u0091","\u0092":"\\u0092","\u0093":"\\u0093","\u0094":"\\u0094","\u0095":"\\u0095","\u0096":"\\u0096","\u0097":"\\u0097","\u0098":"\\u0098","\u0099":"\\u0099","\u009a":"\\u009a","\u009b":"\\u009b","\u009c":"\\u009c","\u009d":"\\u009d","\u009e":"\\u009e","\u009f":"\\u009f","\u00ad":"\\u00ad","\u0600":"\\u0600","\u0601":"\\u0601","\u0602":"\\u0602",
"\u0603":"\\u0603","\u0604":"\\u0604","\u070f":"\\u070f","\u17b4":"\\u17b4","\u17b5":"\\u17b5","\u200c":"\\u200c","\u200d":"\\u200d","\u200e":"\\u200e","\u200f":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","\u202a":"\\u202a","\u202b":"\\u202b","\u202c":"\\u202c","\u202d":"\\u202d","\u202e":"\\u202e","\u202f":"\\u202f","\u2060":"\\u2060","\u2061":"\\u2061","\u2062":"\\u2062","\u2063":"\\u2063","\u2064":"\\u2064","\u2065":"\\u2065","\u2066":"\\u2066","\u2067":"\\u2067","\u2068":"\\u2068","\u2069":"\\u2069",
"\u206a":"\\u206a","\u206b":"\\u206b","\u206c":"\\u206c","\u206d":"\\u206d","\u206e":"\\u206e","\u206f":"\\u206f","\ufeff":"\\ufeff","\ufff0":"\\ufff0","\ufff1":"\\ufff1","\ufff2":"\\ufff2","\ufff3":"\\ufff3","\ufff4":"\\ufff4","\ufff5":"\\ufff5","\ufff6":"\\ufff6","\ufff7":"\\ufff7","\ufff8":"\\ufff8","\ufff9":"\\ufff9","\ufffa":"\\ufffa","\ufffb":"\\ufffb","\ufffc":"\\ufffc","\ufffd":"\\ufffd","\ufffe":"\\ufffe","\uffff":"\\uffff"},n=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,
m,p=JSON&&JSON.stringify||function(a){return l.lastIndex=0,l.test(a)&&(a=a.replace(l,function(a){return k[a]})),'"'+a+'"'},q=function(a){var b,e={},f=[];for(b=0;65536>b;b++)f.push(String.fromCharCode(b));return a.lastIndex=0,f.join("").replace(a,function(a){return e[a]="\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4),""}),a.lastIndex=0,e};b.quote=function(a){a=p(a);return n.lastIndex=0,n.test(a)?(m||(m=q(n)),a.replace(n,function(a){return m[a]})):a};var r="websocket xdr-streaming xhr-streaming iframe-eventsource iframe-htmlfile xdr-polling xhr-polling iframe-xhr-polling jsonp-polling".split(" ");
b.probeProtocols=function(){for(var a={},b=0;b<r.length;b++){var e=r[b];a[e]=z[e]&&z[e].enabled()}return a};b.detectProtocols=function(a,b,e){var f={},g=[];b||(b=r);for(var k=0;k<b.length;k++){var h=b[k];f[h]=a[h]}var l=function(a){var b=a.shift();f[b]?g.push(b):0<a.length&&l(a)};return!1!==e.websocket&&l(["websocket"]),f["xhr-streaming"]&&!e.null_origin?g.push("xhr-streaming"):!f["xdr-streaming"]||e.cookie_needed||e.null_origin?l(["iframe-eventsource","iframe-htmlfile"]):g.push("xdr-streaming"),
f["xhr-polling"]&&!e.null_origin?g.push("xhr-polling"):!f["xdr-polling"]||e.cookie_needed||e.null_origin?l(["iframe-xhr-polling","jsonp-polling"]):g.push("xdr-polling"),g};b.createHook=function(){var a="a"+b.random_string(8);if(!("_sockjs_global"in h)){var e={};h._sockjs_global=function(a){return a in e||(e[a]={id:a,del:function(){delete e[a]}}),e[a]}}return h._sockjs_global(a)};b.attachMessage=function(a){b.attachEvent("message",a)};b.attachEvent=function(b,e){"undefined"!=typeof h.addEventListener?
h.addEventListener(b,e,!1):(a.attachEvent("on"+b,e),h.attachEvent("on"+b,e))};b.detachMessage=function(a){b.detachEvent("message",a)};b.detachEvent=function(b,e){"undefined"!=typeof h.addEventListener?h.removeEventListener(b,e,!1):(a.detachEvent("on"+b,e),h.detachEvent("on"+b,e))};var t={},v=!1,x=function(){for(var a in t)t[a](),delete t[a]};b.attachEvent("unload",function(){v||(v=!0,x())});b.unload_add=function(a){var e=b.random_string(8);return t[e]=a,v&&b.delay(x),e};b.unload_del=function(a){a in
t&&delete t[a]};b.createIframe=function(e,f){var g=a.createElement("iframe"),k,h,l=function(){clearTimeout(k);try{g.onload=null}catch(a){}g.onerror=null},m=function(){g&&(l(),setTimeout(function(){g&&g.parentNode.removeChild(g);g=null},0),b.unload_del(h))};return g.src=e,g.style.display="none",g.style.position="absolute",g.onerror=function(){g&&(m(),f("onerror"))},g.onload=function(){clearTimeout(k);k=setTimeout(function(){g&&(m(),f("onload timeout"))},2E3)},a.body.appendChild(g),k=setTimeout(function(){g&&
(m(),f("timeout"))},15E3),h=b.unload_add(m),{post:function(a,b){try{g&&g.contentWindow&&g.contentWindow.postMessage(a,b)}catch(e){}},cleanup:m,loaded:l}};b.createHtmlfile=function(a,e){var f=new ActiveXObject("htmlfile"),g,k,l,m=function(){clearTimeout(g)},r=function(){f&&(m(),b.unload_del(k),l.parentNode.removeChild(l),l=f=null,CollectGarbage())};f.open();f.write('<html><script>document.domain="'+document.domain+'";\x3c/script></html>');f.close();f.parentWindow._jp=h._jp;var n=f.createElement("div");
return f.body.appendChild(n),l=f.createElement("iframe"),n.appendChild(l),l.src=a,g=setTimeout(function(){f&&(r(),e("timeout"))},15E3),k=b.unload_add(r),{post:function(a,b){try{l&&l.contentWindow&&l.contentWindow.postMessage(a,b)}catch(e){}},cleanup:r,loaded:m}};var y=function(){};y.prototype=new f(["chunk","finish"]);y.prototype._start=function(a,e,f,g){var k=this;try{k.xhr=new XMLHttpRequest}catch(l){}if(!k.xhr)try{k.xhr=new h.ActiveXObject("Microsoft.XMLHTTP")}catch(m){}if(h.ActiveXObject||h.XDomainRequest)e+=
(-1===e.indexOf("?")?"?":"&")+"t="+ +new Date;k.unload_ref=b.unload_add(function(){k._cleanup(!0)});try{k.xhr.open(a,e,!0)}catch(r){k.emit("finish",0,"");k._cleanup();return}g&&g.no_credentials||(k.xhr.withCredentials="true");if(g&&g.headers)for(var n in g.headers)k.xhr.setRequestHeader(n,g.headers[n]);k.xhr.onreadystatechange=function(){if(k.xhr){var a=k.xhr;switch(a.readyState){case 3:try{var b=a.status,e=a.responseText}catch(f){}1223===b&&(b=204);e&&0<e.length&&k.emit("chunk",b,e);break;case 4:b=
a.status,1223===b&&(b=204),k.emit("finish",b,a.responseText),k._cleanup(!1)}}};k.xhr.send(f)};y.prototype._cleanup=function(a){if(this.xhr){b.unload_del(this.unload_ref);this.xhr.onreadystatechange=function(){};if(a)try{this.xhr.abort()}catch(e){}this.unload_ref=this.xhr=null}};y.prototype.close=function(){this.nuke();this._cleanup(!0)};(b.XHRCorsObject=function(){var a=this,e=arguments;b.delay(function(){a._start.apply(a,e)})}).prototype=new y;(b.XHRLocalObject=function(a,e,f){var g=this;b.delay(function(){g._start(a,
e,f,{no_credentials:!0})})}).prototype=new y;y=b.XDRObject=function(a,e,f){var g=this;b.delay(function(){g._start(a,e,f)})};y.prototype=new f(["chunk","finish"]);y.prototype._start=function(a,e,f){var g=this,k=new XDomainRequest;e+=(-1===e.indexOf("?")?"?":"&")+"t="+ +new Date;var h=k.ontimeout=k.onerror=function(){g.emit("finish",0,"");g._cleanup(!1)};k.onprogress=function(){g.emit("chunk",200,k.responseText)};k.onload=function(){g.emit("finish",200,k.responseText);g._cleanup(!1)};g.xdr=k;g.unload_ref=
b.unload_add(function(){g._cleanup(!0)});try{g.xdr.open(a,e),g.xdr.send(f)}catch(l){h()}};y.prototype._cleanup=function(a){if(this.xdr){b.unload_del(this.unload_ref);this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null;if(a)try{this.xdr.abort()}catch(e){}this.unload_ref=this.xdr=null}};y.prototype.close=function(){this.nuke();this._cleanup(!0)};b.isXHRCorsCapable=function(){return h.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:h.XDomainRequest&&a.domain?2:G.enabled()?
3:4};var z=function(a,e,f){if(this===h)return new z(a,e,f);var g=this,k;g._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0};f&&b.objectExtend(g._options,f);g._base_url=b.amendUrl(a);g._server=g._options.server||b.random_number_string(1E3);g._options.protocols_whitelist&&g._options.protocols_whitelist.length?k=g._options.protocols_whitelist:("string"==typeof e&&0<e.length?k=[e]:b.isArray(e)?k=e:k=null,k&&g._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.'));
g._protocols=[];g.protocol=null;g.readyState=z.CONNECTING;g._ir=X(g._base_url);g._ir.onfinish=function(a,e){g._ir=null;a?(g._options.info&&(a=b.objectExtend(a,g._options.info)),g._options.rtt&&(e=g._options.rtt),g._applyInfo(a,e,k),g._didClose()):g._didClose(1002,"Can't connect to server",!0)}};z.prototype=new e;z.version="0.3.4";z.CONNECTING=0;z.OPEN=1;z.CLOSING=2;z.CLOSED=3;z.prototype._debug=function(){this._options.debug&&b.log.apply(b,arguments)};z.prototype._dispatchOpen=function(){this.readyState===
z.CONNECTING?(this._transport_tref&&(clearTimeout(this._transport_tref),this._transport_tref=null),this.readyState=z.OPEN,this.dispatchEvent(new g("open"))):this._didClose(1006,"Server lost session")};z.prototype._dispatchMessage=function(a){this.readyState===z.OPEN&&this.dispatchEvent(new g("message",{data:a}))};z.prototype._dispatchHeartbeat=function(a){this.readyState===z.OPEN&&this.dispatchEvent(new g("heartbeat",{}))};z.prototype._didClose=function(a,e,f){var k=this;if(k.readyState!==z.CONNECTING&&
k.readyState!==z.OPEN&&k.readyState!==z.CLOSING)throw Error("INVALID_STATE_ERR");k._ir&&(k._ir.nuke(),k._ir=null);k._transport&&(k._transport.doCleanup(),k._transport=null);var h=new g("close",{code:a,reason:e,wasClean:b.userSetCode(a)});if(!b.userSetCode(a)&&k.readyState===z.CONNECTING&&!f){if(k._try_next_protocol(h))return;h=new g("close",{code:2E3,reason:"All transports failed",wasClean:!1,last_event:h})}k.readyState=z.CLOSED;b.delay(function(){k.dispatchEvent(h)})};z.prototype._didMessage=function(a){switch(a.slice(0,
1)){case "o":this._dispatchOpen();break;case "a":a=JSON.parse(a.slice(1)||"[]");for(var b=0;b<a.length;b++)this._dispatchMessage(a[b]);break;case "m":a=JSON.parse(a.slice(1)||"null");this._dispatchMessage(a);break;case "c":a=JSON.parse(a.slice(1)||"[]");this._didClose(a[0],a[1]);break;case "h":this._dispatchHeartbeat()}};z.prototype._try_next_protocol=function(e){var f=this;f.protocol&&(f._debug("Closed transport:",f.protocol,""+e),f.protocol=null);for(f._transport_tref&&(clearTimeout(f._transport_tref),
f._transport_tref=null);;){e=f.protocol=f._protocols.shift();if(!e)return!1;if(z[e]&&!0===z[e].need_body&&(!a.body||"undefined"!=typeof a.readyState&&"complete"!==a.readyState))return f._protocols.unshift(e),f.protocol="waiting-for-load",b.attachEvent("load",function(){f._try_next_protocol()}),!0;if(z[e]&&z[e].enabled(f._options)){f._transport_tref=b.delay((f._options.rto||0)*(z[e].roundTrips||1)||5E3,function(){f.readyState===z.CONNECTING&&f._didClose(2007,"Transport timeouted")});var g=b.random_string(8),
g=f._base_url+"/"+f._server+"/"+g;return f._debug("Opening transport:",e," url:"+g," RTO:"+f._options.rto),f._transport=new z[e](f,g,f._base_url),!0}f._debug("Skipping transport:",e)}};z.prototype.close=function(a,e){if(a&&!b.userSetCode(a))throw Error("INVALID_ACCESS_ERR");return this.readyState!==z.CONNECTING&&this.readyState!==z.OPEN?!1:(this.readyState=z.CLOSING,this._didClose(a||1E3,e||"Normal closure"),!0)};z.prototype.send=function(a){if(this.readyState===z.CONNECTING)throw Error("INVALID_STATE_ERR");
return this.readyState===z.OPEN&&this._transport.doSend(b.quote(""+a)),!0};z.prototype._applyInfo=function(e,f,g){this._options.info=e;this._options.rtt=f;this._options.rto=b.countRTO(f);this._options.info.null_origin=!a.domain;f=b.probeProtocols();this._protocols=b.detectProtocols(f,g,e)};y=z.websocket=function(a,e){var f=this,g=e+"/websocket";"https"===g.slice(0,5)?g="wss"+g.slice(5):g="ws"+g.slice(4);f.ri=a;f.url=g;f.ws=new (h.WebSocket||h.MozWebSocket)(f.url);f.ws.onmessage=function(a){f.ri._didMessage(a.data)};
f.unload_ref=b.unload_add(function(){f.ws.close()});f.ws.onclose=function(){f.ri._didMessage(b.closeFrame(1006,"WebSocket connection broken"))}};y.prototype.doSend=function(a){this.ws.send("["+a+"]")};y.prototype.doCleanup=function(){var a=this.ws;a&&(a.onmessage=a.onclose=null,a.close(),b.unload_del(this.unload_ref),this.unload_ref=this.ri=this.ws=null)};y.enabled=function(){return!!h.WebSocket||!!h.MozWebSocket};y.roundTrips=2;var B=function(){};B.prototype.send_constructor=function(a){this.send_buffer=
[];this.sender=a};B.prototype.doSend=function(a){this.send_buffer.push(a);this.send_stop||this.send_schedule()};B.prototype.send_schedule_wait=function(){var a=this,e;a.send_stop=function(){a.send_stop=null;clearTimeout(e)};e=b.delay(25,function(){a.send_stop=null;a.send_schedule()})};B.prototype.send_schedule=function(){var a=this;if(0<a.send_buffer.length){var b="["+a.send_buffer.join(",")+"]";a.send_stop=a.sender(a.trans_url,b,function(b,e){a.send_stop=null;!1===b?a.ri._didClose(1006,"Sending error "+
e):a.send_schedule_wait()});a.send_buffer=[]}};B.prototype.send_destructor=function(){this._send_stop&&this._send_stop();this._send_stop=null};var E=function(e,f,g){if(!("_send_form"in this)){var k=this._send_form=a.createElement("form"),h=this._send_area=a.createElement("textarea");h.name="d";k.style.display="none";k.style.position="absolute";k.method="POST";k.enctype="application/x-www-form-urlencoded";k.acceptCharset="UTF-8";k.appendChild(h);a.body.appendChild(k)}var k=this._send_form,h=this._send_area,
l="a"+b.random_string(8);k.target=l;k.action=e+"/jsonp_send?i="+l;var m;try{m=a.createElement('<iframe name="'+l+'">')}catch(r){m=a.createElement("iframe"),m.name=l}m.id=l;k.appendChild(m);m.style.display="none";try{h.value=f}catch(n){b.log("Your browser is seriously broken. Go home! "+n.message)}k.submit();var q=function(a){m.onerror&&(m.onreadystatechange=m.onerror=m.onload=null,b.delay(500,function(){m.parentNode.removeChild(m);m=null}),h.value="",g(!0))};return m.onerror=m.onload=q,m.onreadystatechange=
function(a){"complete"==m.readyState&&q()},q},w=function(a){return function(b,e,f){return(new a("POST",b+"/xhr_send",e)).onfinish=function(a,b){f(200===a||204===a,"http status "+a)},function(a){f(!1,a)}}},A=function(e,f){var g,k=a.createElement("script"),h,l=function(a){h&&(h.parentNode.removeChild(h),h=null);k&&(clearTimeout(g),k.parentNode.removeChild(k),k.onreadystatechange=k.onerror=k.onload=k.onclick=null,k=null,f(a),f=null)},m=!1,r=null;k.id="a"+b.random_string(8);k.src=e;k.type="text/javascript";
k.charset="UTF-8";k.onerror=function(a){r||(r=setTimeout(function(){m||l(b.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1E3))};k.onload=function(a){l(b.closeFrame(1006,"JSONP script loaded abnormally (onload)"))};k.onreadystatechange=function(a){if(/loaded|closed/.test(k.readyState)){if(k&&k.htmlFor&&k.onclick){m=!0;try{k.onclick()}catch(e){}}k&&l(b.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}};if("undefined"==typeof k.async&&a.attachEvent)if(/opera/i.test(navigator.userAgent))h=
a.createElement("script"),h.text="try{var a = document.getElementById('"+k.id+"'); if(a)a.onerror();}catch(x){};",k.async=h.async=!1;else{try{k.htmlFor=k.id,k.event="onclick"}catch(n){}k.async=!0}"undefined"!=typeof k.async&&(k.async=!0);g=setTimeout(function(){l(b.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35E3);var q=a.getElementsByTagName("head")[0];return q.insertBefore(k,q.firstChild),h&&q.insertBefore(h,q.firstChild),l},y=z["jsonp-polling"]=function(a,e){b.polluteGlobalNamespace();
this.ri=a;this.trans_url=e;this.send_constructor(E);this._schedule_recv()};y.prototype=new B;y.prototype._schedule_recv=function(){var a=this;a._recv_stop=D(a.trans_url+"/jsonp",A,function(b){a._recv_stop=null;b&&(a._is_closing||a.ri._didMessage(b));a._is_closing||a._schedule_recv()})};y.enabled=function(){return!0};y.need_body=!0;y.prototype.doCleanup=function(){this._is_closing=!0;this._recv_stop&&this._recv_stop();this.ri=this._recv_stop=null;this.send_destructor()};var D=function(a,e,f){var g=
"a"+b.random_string(6);a=a+"?c="+escape("_jp."+g);var k=0;e=e(a,function(a){switch(k){case 0:delete h._jp[g];f(a);break;case 1:f(a);k=2;break;case 2:delete h._jp[g]}});h._jp[g]=e;return function(){h._jp[g]&&(k=1,h._jp[g](b.closeFrame(1E3,"JSONP user aborted read")))}},y=function(){};y.prototype=new B;y.prototype.run=function(a,b,e,f,g){this.ri=a;this.trans_url=b;this.send_constructor(w(g));this.poll=new T(a,f,b+e,g)};y.prototype.doCleanup=function(){this.poll&&(this.poll.abort(),this.poll=null)};
var F=z["xhr-streaming"]=function(a,e){this.run(a,e,"/xhr_streaming",ga,b.XHRCorsObject)};F.prototype=new y;F.enabled=function(){return h.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)};F.roundTrips=2;F.need_body=!0;B=z["xdr-streaming"]=function(a,e){this.run(a,e,"/xhr_streaming",ga,b.XDRObject)};B.prototype=new y;B.enabled=function(){return!!h.XDomainRequest};B.roundTrips=2;var K=z["xhr-polling"]=function(a,e){this.run(a,e,"/xhr",ga,b.XHRCorsObject)};
K.prototype=new y;K.enabled=F.enabled;K.roundTrips=2;F=z["xdr-polling"]=function(a,e){this.run(a,e,"/xhr",ga,b.XDRObject)};F.prototype=new y;F.enabled=B.enabled;F.roundTrips=2;var G=function(){};G.prototype.i_constructor=function(a,e,f){var g=this;g.ri=a;g.origin=b.getOrigin(f);g.base_url=f;g.trans_url=e;a=f+"/iframe.html";g.ri._options.devel&&(a+="?t="+ +new Date);g.window_id=b.random_string(8);a+="#"+g.window_id;g.iframeObj=b.createIframe(a,function(a){g.ri._didClose(1006,"Unable to load an iframe ("+
a+")")});g.onmessage_cb=b.bind(g.onmessage,g);b.attachMessage(g.onmessage_cb)};G.prototype.doCleanup=function(){if(this.iframeObj){b.detachMessage(this.onmessage_cb);try{this.iframeObj.iframe.contentWindow&&this.postMessage("c")}catch(a){}this.iframeObj.cleanup();this.onmessage_cb=this.iframeObj=this.iframeObj=null}};G.prototype.onmessage=function(a){if(a.origin===this.origin){var b=a.data.slice(0,8),e=a.data.slice(8,9);a=a.data.slice(9);if(b===this.window_id)switch(e){case "s":this.iframeObj.loaded();
this.postMessage("s",JSON.stringify([z.version,this.protocol,this.trans_url,this.base_url]));break;case "t":this.ri._didMessage(a)}}};G.prototype.postMessage=function(a,b){this.iframeObj.post(this.window_id+a+(b||""),this.origin)};G.prototype.doSend=function(a){this.postMessage("m",a)};G.enabled=function(){var a=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof h.postMessage||"object"==typeof h.postMessage)&&!a};var M,J=function(a,e){parent!==
h?parent.postMessage(M+a+(e||""),"*"):b.log("Can't postMessage, no parent window.",a,e)},N=function(){};N.prototype._didClose=function(a,e){J("t",b.closeFrame(a,e))};N.prototype._didMessage=function(a){J("t",a)};N.prototype._doSend=function(a){this._transport.doSend(a)};N.prototype._doCleanup=function(){this._transport.doCleanup()};b.parent_origin=void 0;z.bootstrap_iframe=function(){var e;M=a.location.hash.slice(1);b.attachMessage(function(a){if(a.source===parent&&("undefined"==typeof b.parent_origin&&
(b.parent_origin=a.origin),a.origin===b.parent_origin)){var f=a.data.slice(0,8),g=a.data.slice(8,9);a=a.data.slice(9);if(f===M)switch(g){case "s":var k=JSON.parse(a),f=k[0],g=k[1];a=k[2];k=k[3];f!==z.version&&b.log('Incompatibile SockJS! Main site uses: "'+f+'", the iframe: "'+z.version+'".');if(!b.flatUrl(a)||!b.flatUrl(k)){b.log("Only basic urls are supported in SockJS");break}if(!b.isSameOriginUrl(a)||!b.isSameOriginUrl(k)){b.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([h.location.href,
a,k])+")");break}e=new N;e._transport=new N[g](e,a,k);break;case "m":e._doSend(a);break;case "c":e&&e._doCleanup(),e=null}}});J("s")};var L=function(a,e){var f=this;b.delay(function(){f.doXhr(a,e)})};L.prototype=new f(["finish"]);L.prototype.doXhr=function(a,e){var f=this,g=(new Date).getTime(),k=new e("GET",a+"/info"),h=b.delay(8E3,function(){k.ontimeout()});k.onfinish=function(a,b){clearTimeout(h);h=null;if(200===a){var e=(new Date).getTime()-g,k=JSON.parse(b);"object"!=typeof k&&(k={});f.emit("finish",
k,e)}else f.emit("finish")};k.ontimeout=function(){k.close();f.emit("finish")}};var R=function(e){var f=this,g=function(){var a=new G;a.protocol="w-iframe-info-receiver";var b=function(b){"string"==typeof b&&"m"===b.substr(0,1)?(b=JSON.parse(b.substr(1)),f.emit("finish",b[0],b[1])):f.emit("finish");a.doCleanup();a=null};a.i_constructor({_options:{},_didClose:b,_didMessage:b},e,e)};a.body?g():b.attachEvent("load",g)};R.prototype=new f(["finish"]);var P=function(){var a=this;b.delay(function(){a.emit("finish",
{},2E3)})};P.prototype=new f(["finish"]);var X=function(a){if(b.isSameOriginUrl(a))return new L(a,b.XHRLocalObject);switch(b.isXHRCorsCapable()){case 1:return new L(a,b.XHRLocalObject);case 2:return new L(a,b.XDRObject);case 3:return new R(a);default:return new P}};(N["w-iframe-info-receiver"]=function(a,e,f){(new L(f,b.XHRLocalObject)).onfinish=function(b,e){a._didMessage("m"+JSON.stringify([b,e]));a._didClose()}}).prototype.doCleanup=function(){};f=z["iframe-eventsource"]=function(){this.protocol=
"w-iframe-eventsource";this.i_constructor.apply(this,arguments)};f.prototype=new G;f.enabled=function(){return"EventSource"in h&&G.enabled()};f.need_body=!0;f.roundTrips=3;(N["w-iframe-eventsource"]=function(a,e){this.run(a,e,"/eventsource",da,b.XHRLocalObject)}).prototype=new y;f=z["iframe-xhr-polling"]=function(){this.protocol="w-iframe-xhr-polling";this.i_constructor.apply(this,arguments)};f.prototype=new G;f.enabled=function(){return h.XMLHttpRequest&&G.enabled()};f.need_body=!0;f.roundTrips=
3;(N["w-iframe-xhr-polling"]=function(a,e){this.run(a,e,"/xhr",ga,b.XHRLocalObject)}).prototype=new y;f=z["iframe-htmlfile"]=function(){this.protocol="w-iframe-htmlfile";this.i_constructor.apply(this,arguments)};f.prototype=new G;f.enabled=function(){return G.enabled()};f.need_body=!0;f.roundTrips=3;(N["w-iframe-htmlfile"]=function(a,e){this.run(a,e,"/htmlfile",Z,b.XHRLocalObject)}).prototype=new y;var T=function(a,b,e,f){this.ri=a;this.Receiver=b;this.recv_url=e;this.AjaxObject=f;this._scheduleRecv()};
T.prototype._scheduleRecv=function(){var a=this,b=a.poll=new a.Receiver(a.recv_url,a.AjaxObject);b.onmessage=function(b){a.ri._didMessage(b.data)};b.onclose=function(e){a.poll=b=b.onmessage=b.onclose=null;a.poll_is_closing||("permanent"===e.reason?a.ri._didClose(1006,"Polling error ("+e.reason+")"):a._scheduleRecv())}};T.prototype.abort=function(){this.poll_is_closing=!0;this.poll&&this.poll.abort()};var da=function(a){var e=this,f=new EventSource(a);f.onmessage=function(a){e.dispatchEvent(new g("message",
{data:unescape(a.data)}))};e.es_close=f.onerror=function(a,k){var h=k?"user":2!==f.readyState?"network":"permanent";e.es_close=f.onmessage=f.onerror=null;f.close();f=null;b.delay(200,function(){e.dispatchEvent(new g("close",{reason:h}))})}};da.prototype=new e;da.prototype.abort=function(){this.es_close&&this.es_close({},!0)};var O,Z=function(a){var e=this;b.polluteGlobalNamespace();e.id="a"+b.random_string(6,26);a+=(-1===a.indexOf("?")?"?":"&")+"c="+escape("_jp."+e.id);if(void 0===O)if("ActiveXObject"in
h)try{O=!!new ActiveXObject("htmlfile")}catch(f){}else O=!1;var k=O?b.createHtmlfile:b.createIframe,l;h._jp[e.id]={start:function(){l.loaded()},message:function(a){e.dispatchEvent(new g("message",{data:a}))},stop:function(){e.iframe_close({},"network")}};e.iframe_close=function(a,b){l.cleanup();e.iframe_close=l=null;delete h._jp[e.id];e.dispatchEvent(new g("close",{reason:b}))};l=k(a,function(a){e.iframe_close({},"permanent")})};Z.prototype=new e;Z.prototype.abort=function(){this.iframe_close&&this.iframe_close({},
"user")};var ga=function(a,b){var e=this,f=0;e.xo=new b("POST",a,null);e.xo.onchunk=function(a,b){if(200===a)for(;;){var k=b.slice(f),h=k.indexOf("\n");if(-1===h)break;f+=h+1;k=k.slice(0,h);e.dispatchEvent(new g("message",{data:k}))}};e.xo.onfinish=function(a,b){e.xo.onchunk(a,b);e.xo=null;e.dispatchEvent(new g("close",{reason:200===a?"network":"permanent"}))}};return ga.prototype=new e,ga.prototype.abort=function(){this.xo&&(this.xo.close(),this.dispatchEvent(new g("close",{reason:"user"})),this.xo=
null)},z.getUtils=function(){return b},z.getIframeTransport=function(){return G},z}();"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1);"function"==typeof define&&define.amd&&define("sockjs",[],function(){return SockJS});!function(a,h){"function"==typeof define&&define.amd?define("stackframe",[],h):"object"==typeof exports?module.exports=h():a.StackFrame=h()}(this,function(){function a(a){return!isNaN(parseFloat(a))&&isFinite(a)}function h(a,e,g,f,h,k){void 0!==a&&this.setFunctionName(a);void 0!==e&&this.setArgs(e);void 0!==g&&this.setFileName(g);void 0!==f&&this.setLineNumber(f);void 0!==h&&this.setColumnNumber(h);void 0!==k&&this.setSource(k)}return h.prototype={getFunctionName:function(){return this.functionName},
setFunctionName:function(a){this.functionName=String(a)},getArgs:function(){return this.args},setArgs:function(a){if("[object Array]"!==Object.prototype.toString.call(a))throw new TypeError("Args must be an Array");this.args=a},getFileName:function(){return this.fileName},setFileName:function(a){this.fileName=String(a)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(b){if(!a(b))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(b)},getColumnNumber:function(){return this.columnNumber},
setColumnNumber:function(b){if(!a(b))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(b)},getSource:function(){return this.source},setSource:function(a){this.source=String(a)},toString:function(){var b=this.getFunctionName()||"{anonymous}",e="("+(this.getArgs()||[]).join(",")+")",g=this.getFileName()?"@"+this.getFileName():"",f=a(this.getLineNumber())?":"+this.getLineNumber():"",h=a(this.getColumnNumber())?":"+this.getColumnNumber():"";return b+e+g+f+h}},h});
var SourceMap=function(a){function h(e){if(b[e])return b[e].exports;var g=b[e]={exports:{},id:e,loaded:!1};return a[e].call(g.exports,g,g.exports,h),g.loaded=!0,g.exports}var b={};return h.m=a,h.c=b,h.p="",h(0)}([function(a,h,b){function e(a){var b=a;return"string"==typeof a&&(b=JSON.parse(a.replace(/^\)\]\}'/,""))),null!=b.sections?new l(b):new g(b)}function g(a){var b=a;"string"==typeof a&&(b=JSON.parse(a.replace(/^\)\]\}'/,"")));a=k.getArg(b,"version");var e=k.getArg(b,"sources"),f=k.getArg(b,
"names",[]),g=k.getArg(b,"sourceRoot",null),h=k.getArg(b,"sourcesContent",null),l=k.getArg(b,"mappings"),b=k.getArg(b,"file",null);if(a!=this._version)throw Error("Unsupported version: "+a);e=e.map(k.normalize).map(function(a){return g&&k.isAbsolute(g)&&k.isAbsolute(a)?k.relative(g,a):a});this._names=m.fromArray(f,!0);this._sources=m.fromArray(e,!0);this.sourceRoot=g;this.sourcesContent=h;this._mappings=l;this.file=b}function f(){this.generatedColumn=this.generatedLine=0;this.name=this.originalColumn=
this.originalLine=this.source=null}function l(a){var b=a;"string"==typeof a&&(b=JSON.parse(a.replace(/^\)\]\}'/,"")));a=k.getArg(b,"version");b=k.getArg(b,"sections");if(a!=this._version)throw Error("Unsupported version: "+a);this._sources=new m;this._names=new m;var f={line:-1,column:0};this._sections=b.map(function(a){if(a.url)throw Error("Support for url field in sections not implemented.");var b=k.getArg(a,"offset"),g=k.getArg(b,"line"),h=k.getArg(b,"column");if(g<f.line||g===f.line&&h<f.column)throw Error("Section offsets must be ordered and non-overlapping.");
return f=b,{generatedOffset:{generatedLine:g+1,generatedColumn:h+1},consumer:new e(k.getArg(a,"map"))}})}var k=b(1),n=b(2),m=b(3).ArraySet,p=b(4),q=b(6).quickSort;e.fromSourceMap=function(a){return g.fromSourceMap(a)};e.prototype._version=3;e.prototype.__generatedMappings=null;Object.defineProperty(e.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});e.prototype.__originalMappings=null;Object.defineProperty(e.prototype,
"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});e.prototype._charIsMappingSeparator=function(a,b){var e=a.charAt(b);return";"===e||","===e};e.prototype._parseMappings=function(a,b){throw Error("Subclasses must implement _parseMappings");};e.GENERATED_ORDER=1;e.ORIGINAL_ORDER=2;e.GREATEST_LOWER_BOUND=1;e.LEAST_UPPER_BOUND=2;e.prototype.eachMapping=function(a,b,f){b=b||null;switch(f||e.GENERATED_ORDER){case e.GENERATED_ORDER:f=
this._generatedMappings;break;case e.ORIGINAL_ORDER:f=this._originalMappings;break;default:throw Error("Unknown order of iteration.");}var g=this.sourceRoot;f.map(function(a){var b=null===a.source?null:this._sources.at(a.source);return null!=b&&null!=g&&(b=k.join(g,b)),{source:b,generatedLine:a.generatedLine,generatedColumn:a.generatedColumn,originalLine:a.originalLine,originalColumn:a.originalColumn,name:null===a.name?null:this._names.at(a.name)}},this).forEach(a,b)};e.prototype.allGeneratedPositionsFor=
function(a){var b=k.getArg(a,"line"),e={source:k.getArg(a,"source"),originalLine:b,originalColumn:k.getArg(a,"column",0)};if(null!=this.sourceRoot&&(e.source=k.relative(this.sourceRoot,e.source)),!this._sources.has(e.source))return[];e.source=this._sources.indexOf(e.source);var f=[],e=this._findMapping(e,this._originalMappings,"originalLine","originalColumn",k.compareByOriginalPositions,n.LEAST_UPPER_BOUND);if(0<=e){var g=this._originalMappings[e];if(void 0===a.column)for(b=g.originalLine;g&&g.originalLine===
b;)f.push({line:k.getArg(g,"generatedLine",null),column:k.getArg(g,"generatedColumn",null),lastColumn:k.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++e];else for(a=g.originalColumn;g&&g.originalLine===b&&g.originalColumn==a;)f.push({line:k.getArg(g,"generatedLine",null),column:k.getArg(g,"generatedColumn",null),lastColumn:k.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++e]}return f};h.SourceMapConsumer=e;g.prototype=Object.create(e.prototype);g.prototype.consumer=
e;g.fromSourceMap=function(a){var b=Object.create(g.prototype),e=b._names=m.fromArray(a._names.toArray(),!0),h=b._sources=m.fromArray(a._sources.toArray(),!0);b.sourceRoot=a._sourceRoot;b.sourcesContent=a._generateSourcesContent(b._sources.toArray(),b.sourceRoot);b.file=a._file;a=a._mappings.toArray().slice();for(var l=b.__generatedMappings=[],n=b.__originalMappings=[],p=0,E=a.length;E>p;p++){var w=a[p],A=new f;A.generatedLine=w.generatedLine;A.generatedColumn=w.generatedColumn;w.source&&(A.source=
h.indexOf(w.source),A.originalLine=w.originalLine,A.originalColumn=w.originalColumn,w.name&&(A.name=e.indexOf(w.name)),n.push(A));l.push(A)}return q(b.__originalMappings,k.compareByOriginalPositions),b};g.prototype._version=3;Object.defineProperty(g.prototype,"sources",{get:function(){return this._sources.toArray().map(function(a){return null!=this.sourceRoot?k.join(this.sourceRoot,a):a},this)}});g.prototype._parseMappings=function(a,b){for(var e,g,h,l,m,n=1,w=0,A=0,D=0,F=0,K=0,G=a.length,M=0,J={},
N={},L=[],R=[];G>M;)if(";"===a.charAt(M))n++,M++,w=0;else if(","===a.charAt(M))M++;else{e=new f;e.generatedLine=n;for(l=M;G>l&&!this._charIsMappingSeparator(a,l);l++);if(g=a.slice(M,l),h=J[g])M+=g.length;else{for(h=[];l>M;)p.decode(a,M,N),m=N.value,M=N.rest,h.push(m);if(2===h.length)throw Error("Found a source, but no line and column");if(3===h.length)throw Error("Found a source and line, but no column");J[g]=h}e.generatedColumn=w+h[0];w=e.generatedColumn;1<h.length&&(e.source=F+h[1],F+=h[1],e.originalLine=
A+h[2],A=e.originalLine,e.originalLine+=1,e.originalColumn=D+h[3],D=e.originalColumn,4<h.length&&(e.name=K+h[4],K+=h[4]));R.push(e);"number"==typeof e.originalLine&&L.push(e)}q(R,k.compareByGeneratedPositionsDeflated);this.__generatedMappings=R;q(L,k.compareByOriginalPositions);this.__originalMappings=L};g.prototype._findMapping=function(a,b,e,f,g,k){if(0>=a[e])throw new TypeError("Line must be greater than or equal to 1, got "+a[e]);if(0>a[f])throw new TypeError("Column must be greater than or equal to 0, got "+
a[f]);return n.search(a,b,g,k)};g.prototype.computeColumnSpans=function(){for(var a=0;a<this._generatedMappings.length;++a){var b=this._generatedMappings[a];if(a+1<this._generatedMappings.length){var e=this._generatedMappings[a+1];if(b.generatedLine===e.generatedLine){b.lastGeneratedColumn=e.generatedColumn-1;continue}}b.lastGeneratedColumn=1/0}};g.prototype.originalPositionFor=function(a){var b={generatedLine:k.getArg(a,"line"),generatedColumn:k.getArg(a,"column")};a=this._findMapping(b,this._generatedMappings,
"generatedLine","generatedColumn",k.compareByGeneratedPositionsDeflated,k.getArg(a,"bias",e.GREATEST_LOWER_BOUND));if(0<=a&&(a=this._generatedMappings[a],a.generatedLine===b.generatedLine)){b=k.getArg(a,"source",null);null!==b&&(b=this._sources.at(b),null!=this.sourceRoot&&(b=k.join(this.sourceRoot,b)));var f=k.getArg(a,"name",null);return null!==f&&(f=this._names.at(f)),{source:b,line:k.getArg(a,"originalLine",null),column:k.getArg(a,"originalColumn",null),name:f}}return{source:null,line:null,column:null,
name:null}};g.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(a){return null==a}):!1};g.prototype.sourceContentFor=function(a,b){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(a=k.relative(this.sourceRoot,a)),this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];var e;if(null!=this.sourceRoot&&(e=k.urlParse(this.sourceRoot))){var f=a.replace(/^file:\/\//,
"");if("file"==e.scheme&&this._sources.has(f))return this.sourcesContent[this._sources.indexOf(f)];if((!e.path||"/"==e.path)&&this._sources.has("/"+a))return this.sourcesContent[this._sources.indexOf("/"+a)]}if(b)return null;throw Error('"'+a+'" is not in the SourceMap.');};g.prototype.generatedPositionFor=function(a){var b=k.getArg(a,"source");if(null!=this.sourceRoot&&(b=k.relative(this.sourceRoot,b)),!this._sources.has(b))return{line:null,column:null,lastColumn:null};b=this._sources.indexOf(b);
b={source:b,originalLine:k.getArg(a,"line"),originalColumn:k.getArg(a,"column")};a=this._findMapping(b,this._originalMappings,"originalLine","originalColumn",k.compareByOriginalPositions,k.getArg(a,"bias",e.GREATEST_LOWER_BOUND));return 0<=a&&(a=this._originalMappings[a],a.source===b.source)?{line:k.getArg(a,"generatedLine",null),column:k.getArg(a,"generatedColumn",null),lastColumn:k.getArg(a,"lastGeneratedColumn",null)}:{line:null,column:null,lastColumn:null}};h.BasicSourceMapConsumer=g;l.prototype=
Object.create(e.prototype);l.prototype.constructor=e;l.prototype._version=3;Object.defineProperty(l.prototype,"sources",{get:function(){for(var a=[],b=0;b<this._sections.length;b++)for(var e=0;e<this._sections[b].consumer.sources.length;e++)a.push(this._sections[b].consumer.sources[e]);return a}});l.prototype.originalPositionFor=function(a){var b={generatedLine:k.getArg(a,"line"),generatedColumn:k.getArg(a,"column")},e=n.search(b,this._sections,function(a,b){var e=a.generatedLine-b.generatedOffset.generatedLine;
return e?e:a.generatedColumn-b.generatedOffset.generatedColumn});return(e=this._sections[e])?e.consumer.originalPositionFor({line:b.generatedLine-(e.generatedOffset.generatedLine-1),column:b.generatedColumn-(e.generatedOffset.generatedLine===b.generatedLine?e.generatedOffset.generatedColumn-1:0),bias:a.bias}):{source:null,line:null,column:null,name:null}};l.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(a){return a.consumer.hasContentsOfAllSources()})};l.prototype.sourceContentFor=
function(a,b){for(var e=0;e<this._sections.length;e++){var f=this._sections[e].consumer.sourceContentFor(a,!0);if(f)return f}if(b)return null;throw Error('"'+a+'" is not in the SourceMap.');};l.prototype.generatedPositionFor=function(a){for(var b=0;b<this._sections.length;b++){var e=this._sections[b];if(-1!==e.consumer.sources.indexOf(k.getArg(a,"source"))){var f=e.consumer.generatedPositionFor(a);if(f)return{line:f.line+(e.generatedOffset.generatedLine-1),column:f.column+(e.generatedOffset.generatedLine===
f.line?e.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}};l.prototype._parseMappings=function(a,b){this.__generatedMappings=[];this.__originalMappings=[];for(var e=0;e<this._sections.length;e++)for(var f=this._sections[e],g=f.consumer._generatedMappings,h=0;h<g.length;h++){var l=g[e],m=f.consumer._sources.at(l.source);null!==f.consumer.sourceRoot&&(m=k.join(f.consumer.sourceRoot,m));this._sources.add(m);var m=this._sources.indexOf(m),n=f.consumer._names.at(l.name);this._names.add(n);
n=this._names.indexOf(n);l={source:m,generatedLine:l.generatedLine+(f.generatedOffset.generatedLine-1),generatedColumn:l.column+(f.generatedOffset.generatedLine===l.generatedLine)?f.generatedOffset.generatedColumn-1:0,originalLine:l.originalLine,originalColumn:l.originalColumn,name:n};this.__generatedMappings.push(l);"number"==typeof l.originalLine&&this.__originalMappings.push(l)}q(this.__generatedMappings,k.compareByGeneratedPositionsDeflated);q(this.__originalMappings,k.compareByOriginalPositions)};
h.IndexedSourceMapConsumer=l},function(a,h){function b(a){return(a=a.match(f))?{scheme:a[1],auth:a[2],host:a[3],port:a[4],path:a[5]}:null}function e(a){var b="";return a.scheme&&(b+=a.scheme+":"),b+="//",a.auth&&(b+=a.auth+"@"),a.host&&(b+=a.host),a.port&&(b+=":"+a.port),a.path&&(b+=a.path),b}function g(a){var f=a,g=b(a);if(g){if(!g.path)return a;f=g.path}for(var l=h.isAbsolute(f),q=f.split(/\/+/),r=0,t=q.length-1;0<=t;t--)a=q[t],"."===a?q.splice(t,1):".."===a?r++:0<r&&(""===a?(q.splice(t+1,r),r=
0):(q.splice(t,2),r--));return f=q.join("/"),""===f&&(f=l?"/":"."),g?(g.path=f,e(g)):f}h.getArg=function(a,b,e){if(b in a)return a[b];if(3===arguments.length)return e;throw Error('"'+b+'" is a required argument.');};var f=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,l=/^data:.+\,.+$/;h.urlParse=b;h.urlGenerate=e;h.normalize=g;h.join=function(a,f){""===a&&(a=".");""===f&&(f=".");var h=b(f),p=b(a);if(p&&(a=p.path||"/"),h&&!h.scheme)return p&&(h.scheme=p.scheme),e(h);if(h||f.match(l))return f;
if(p&&!p.host&&!p.path)return p.host=f,e(p);h="/"===f.charAt(0)?f:g(a.replace(/\/+$/,"")+"/"+f);return p?(p.path=h,e(p)):h};h.isAbsolute=function(a){return"/"===a.charAt(0)||!!a.match(f)};h.relative=function(a,b){""===a&&(a=".");a=a.replace(/\/$/,"");for(var e=0;0!==b.indexOf(a+"/");){var f=a.lastIndexOf("/");if(0>f||(a=a.slice(0,f),a.match(/^([^\/]+:\/)?\/*$/)))return b;++e}return Array(e+1).join("../")+b.substr(a.length+1)};h.toSetString=function(a){return"$"+a};h.fromSetString=function(a){return a.substr(1)};
h.compareByOriginalPositions=function(a,b,e){var f=a.source-b.source;return 0!==f?f:(f=a.originalLine-b.originalLine,0!==f?f:(f=a.originalColumn-b.originalColumn,0!==f||e?f:(f=a.generatedColumn-b.generatedColumn,0!==f?f:(f=a.generatedLine-b.generatedLine,0!==f?f:a.name-b.name))))};h.compareByGeneratedPositionsDeflated=function(a,b,e){var f=a.generatedLine-b.generatedLine;return 0!==f?f:(f=a.generatedColumn-b.generatedColumn,0!==f||e?f:(f=a.source-b.source,0!==f?f:(f=a.originalLine-b.originalLine,
0!==f?f:(f=a.originalColumn-b.originalColumn,0!==f?f:a.name-b.name))))};h.compareByGeneratedPositionsInflated=function(a,b){var e=a.generatedLine-b.generatedLine;if(0===e&&(e=a.generatedColumn-b.generatedColumn,0===e)){var e=a.source,f=b.source,e=e===f?0:e>f?1:-1;0===e&&(e=a.originalLine-b.originalLine,0===e&&(e=a.originalColumn-b.originalColumn,0===e&&(e=a.name,f=b.name,e=e===f?0:e>f?1:-1)))}return e}},function(a,h){function b(a,g,f,l,k,n){var m=Math.floor((g-a)/2)+a,p=k(f,l[m],!0);return 0===p?
m:0<p?1<g-m?b(m,g,f,l,k,n):n==h.LEAST_UPPER_BOUND?g<l.length?g:-1:m:1<m-a?b(a,m,f,l,k,n):n==h.LEAST_UPPER_BOUND?m:0>a?-1:a}h.GREATEST_LOWER_BOUND=1;h.LEAST_UPPER_BOUND=2;h.search=function(a,g,f,l){if(0===g.length)return-1;a=b(-1,g.length,a,g,f,l||h.GREATEST_LOWER_BOUND);if(0>a)return-1;for(;0<=a-1&&0===f(g[a],g[a-1],!0);)--a;return a}},function(a,h,b){function e(){this._array=[];this._set={}}var g=b(1);e.fromArray=function(a,b){for(var g=new e,h=0,m=a.length;m>h;h++)g.add(a[h],b);return g};e.prototype.size=
function(){return Object.getOwnPropertyNames(this._set).length};e.prototype.add=function(a,b){var e=g.toSetString(a),h=this._set.hasOwnProperty(e),m=this._array.length;h&&!b||this._array.push(a);h||(this._set[e]=m)};e.prototype.has=function(a){a=g.toSetString(a);return this._set.hasOwnProperty(a)};e.prototype.indexOf=function(a){var b=g.toSetString(a);if(this._set.hasOwnProperty(b))return this._set[b];throw Error('"'+a+'" is not in the set.');};e.prototype.at=function(a){if(0<=a&&a<this._array.length)return this._array[a];
throw Error("No element indexed by "+a);};e.prototype.toArray=function(){return this._array.slice()};h.ArraySet=e},function(a,h,b){var e=b(5);h.encode=function(a){var b="",h=0>a?(-a<<1)+1:(a<<1)+0;do a=h&31,h>>>=5,0<h&&(a|=32),b+=e.encode(a);while(0<h);return b};h.decode=function(a,b,h){var k,n,m=a.length,p=0,q=0;do{if(b>=m)throw Error("Expected more digits in base 64 VLQ value.");if(n=e.decode(a.charCodeAt(b++)),-1===n)throw Error("Invalid base64 digit: "+a.charAt(b-1));k=!!(n&32);n&=31;p+=n<<q;
q+=5}while(k);a=p>>1;h.value=1===(1&p)?-a:a;h.rest=b}},function(a,h){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");h.encode=function(a){if(0<=a&&a<b.length)return b[a];throw new TypeError("Must be between 0 and 63: "+a);};h.decode=function(a){return 65<=a&&90>=a?a-65:97<=a&&122>=a?a-97+26:48<=a&&57>=a?a-48+52:43==a?62:47==a?63:-1}},function(a,h){function b(a,b,e){var k=a[b];a[b]=a[e];a[e]=k}function e(a,f,h,k){if(k>h){var n;n=Math.round(h+Math.random()*(k-h));
var m=h-1;b(a,n,k);n=a[k];for(var p=h;k>p;p++)0>=f(a[p],n)&&(m+=1,b(a,m,p));b(a,m+1,p);m+=1;e(a,f,h,m-1);e(a,f,m+1,k)}}h.quickSort=function(a,b){e(a,b,0,a.length-1)}}]);
!function(a,h){"function"==typeof define&&define.amd?define("stacktrace-gps",["source-map","stackframe"],h):"object"==typeof exports?module.exports=h(require("source-map/lib/source-map-consumer"),require("stackframe")):a.StackTraceGPS=h(a.SourceMap,a.StackFrame)}(this,function(a,h){function b(a){return new Promise(function(b,e){var g=new XMLHttpRequest;g.open("get",a);g.onerror=e;g.onreadystatechange=function(){4===g.readyState&&(200<=g.status&&300>g.status?b(g.responseText):e(Error("HTTP status: "+
g.status+" retrieving "+a)))};g.send()})}function e(a){if("object"!=typeof a)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof a.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof a.lineNumber||0!==a.lineNumber%1||1>a.lineNumber)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof a.columnNumber||0!==a.columnNumber%1||0>a.columnNumber)throw new TypeError("Given column number must be a non-negative integer");
return!0}function g(a){if((a=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)$/.exec(a))&&a[1])return a[1];throw Error("sourceMappingURL not found");}return function l(k){return this instanceof l?(k=k||{},this.sourceCache=k.sourceCache||{},this.ajax=b,this._get=function(a){return new Promise(function(b,e){var g="data:"===a.substr(0,5);this.sourceCache[a]?b(this.sourceCache[a]):k.offline&&!g?e(Error("Cannot make network requests in offline mode")):g?"application/json;base64"!==a.substr(5,23)?e(Error("The encoding of the inline sourcemap is not supported")):
(g=a.substr(29),g=window.atob(g),this.sourceCache[a]=g,b(g)):(g=this.ajax(a,{method:"get"}),this.sourceCache[a]=g,g.then(b,e))}.bind(this))},this.pinpoint=function(a){return new Promise(function(b,e){this.getMappedLocation(a).then(function(a){function e(){b(a)}this.findFunctionName(a).then(b,e)["catch"](e)}.bind(this),e)}.bind(this))},this.findFunctionName=function(a){return new Promise(function(b,g){e(a);this._get(a.fileName).then(function(e){var g;a:{g=a.lineNumber;var k,l,p,y=/function\s+([^(]*?)\s*\(([^)]*)\)/,
z=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,B=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/;e=e.split("\n");for(var E="",w=Math.min(g,20),A=0;w>A;++A)if(k=e[g-A-1],p=k.indexOf("//"),0<=p&&(k=k.substr(0,p)),k){if(E=k+E,l=z.exec(E),l&&l[1]){g=l[1];break a}if(l=y.exec(E),l&&l[1]){g=l[1];break a}if(l=B.exec(E),l&&l[1]){g=l[1];break a}}g=void 0}b(new h(g,a.args,a.fileName,a.lineNumber,a.columnNumber))},g)["catch"](g)}.bind(this))},void(this.getMappedLocation=
function(b){return new Promise(function(k,l){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw Error("Unable to consume source maps in older browsers");e(b);var q=this.sourceCache,r=b.fileName;this._get(r).then(function(e){e=g(e);var v="data:"===e.substr(0,5);"/"===e[0]||v||(e=r.substring(0,r.lastIndexOf("/")+1)+e);this._get(e).then(function(e){var g;g=b.args;var l=b.lineNumber,r=b.columnNumber;e=new a.SourceMapConsumer(e);l=e.originalPositionFor({line:l,column:r});
r=e.sourceContentFor(l.source);g=(r&&(q[l.source]=r),new h(l.name,g,l.source,l.line,l.column));k(g)},l)["catch"](l)}.bind(this),l)["catch"](l)}.bind(this))})):new l(k)}});
(function(a,h){"function"==typeof define&&define.amd?define("stack-generator",["stackframe"],h):"object"==typeof exports?module.exports=h(require("stackframe")):a.StackGenerator=h(a.StackFrame)})(this,function(a){return{backtrace:function(h){var b=[],e=10;"object"==typeof h&&"number"==typeof h.maxStackSize&&(e=h.maxStackSize);for(var g=arguments.callee;g&&b.length<e;){for(var f=Array(g.arguments.length),l=0;l<f.length;++l)f[l]=g.arguments[l];/function(?:\s+([\w$]+))+\s*\(/.test(g.toString())?b.push(new a(RegExp.$1||
void 0,f)):b.push(new a(void 0,f));try{g=g.caller}catch(k){break}}return b}}});
(function(a,h){"function"==typeof define&&define.amd?define("error-stack-parser",["stackframe"],h):"object"==typeof exports?module.exports=h(require("stackframe")):a.ErrorStackParser=h(a.StackFrame)})(this,function(a){var h=/(^|@)\S+\:\d+/,b=/\s+at .*(\S+\:\d+|\(native\))/;return{parse:function(a){if("undefined"!=typeof a.stacktrace||"undefined"!=typeof a["opera#sourceloc"])return this.parseOpera(a);if(a.stack&&a.stack.match(b))return this.parseV8OrIE(a);if(a.stack&&a.stack.match(h))return this.parseFFOrSafari(a);
throw Error("Cannot parse given Error object");},extractLocation:function(a){if(-1===a.indexOf(":"))return[a];a=a.replace(/[\(\)\s]/g,"").split(":");var b=a.pop(),f=a[a.length-1];return!isNaN(parseFloat(f))&&isFinite(f)?(f=a.pop(),[a.join(":"),f,b]):[a.join(":"),b,void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter(function(a){return!!a.match(b)},this).map(function(b){var e=b.replace(/^\s+/,"").split(/\s+/).slice(1),h=this.extractLocation(e.pop());return new a(e[0]&&"Anonymous"!==e[0]?
e[0]:void 0,void 0,h[0],h[1],h[2],b)},this)},parseFFOrSafari:function(b){return b.stack.split("\n").filter(function(a){return!!a.match(h)},this).map(function(b){var e=b.split("@"),h=this.extractLocation(e.pop()),e=e.shift()||void 0;return new a(e,void 0,h[0],h[1],h[2],b)},this)},parseOpera:function(a){return!a.stacktrace||-1<a.message.indexOf("\n")&&a.message.split("\n").length>a.stacktrace.split("\n").length?this.parseOpera9(a):a.stack?this.parseOpera11(a):this.parseOpera10(a)},parseOpera9:function(b){var g=
/Line (\d+).*script (?:in )?(\S+)/i;b=b.message.split("\n");for(var f=[],h=2,k=b.length;k>h;h+=2){var n=g.exec(b[h]);n&&f.push(new a(void 0,void 0,n[2],n[1],void 0,b[h]))}return f},parseOpera10:function(b){var g=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;b=b.stacktrace.split("\n");for(var f=[],h=0,k=b.length;k>h;h+=2){var n=g.exec(b[h]);n&&f.push(new a(n[3]||void 0,void 0,n[2],n[1],void 0,b[h]))}return f},parseOpera11:function(b){return b.stack.split("\n").filter(function(a){return!!a.match(h)&&
!a.match(/^Error created at/)},this).map(function(b){var e,h=b.split("@"),k=this.extractLocation(h.pop()),n=h.shift()||"",h=n.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;n.match(/\(([^\)]*)\)/)&&(e=n.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));e=void 0===e||"[arguments not available]"===e?void 0:e.split(",");return new a(h,e,k[0],k[1],k[2],b)},this)}}});
(function(a,h){"function"==typeof define&&define.amd?define("stacktrace",["error-stack-parser","stack-generator","stacktrace-gps"],h):"object"==typeof exports?module.exports=h(require("error-stack-parser"),require("stack-generator"),require("stacktrace-gps")):a.StackTrace=h(a.ErrorStackParser,a.StackGenerator,a.StackTraceGPS)})(this,function(a,h,b){function e(a,b){var e={};return[a,b].forEach(function(a){for(var b in a)a.hasOwnProperty(b)&&(e[b]=a[b]);return e}),e}var g={filter:function(a){return-1===
(a.functionName||"").indexOf("StackTrace$$")&&-1===(a.functionName||"").indexOf("ErrorStackParser$$")&&-1===(a.functionName||"").indexOf("StackTraceGPS$$")&&-1===(a.functionName||"").indexOf("StackGenerator$$")}};return{get:function(a){try{throw Error();}catch(b){return b.stack||b["opera#sourceloc"]?this.fromError(b,a):this.generateArtificially(a)}},fromError:function(f,h){return h=e(g,h),new Promise(function(e){var g=a.parse(f);"function"==typeof h.filter&&(g=g.filter(h.filter));e(Promise.all(g.map(function(a){return new Promise(function(e){function f(b){e(a)}
(new b(h)).pinpoint(a).then(e,f)["catch"](f)})})))}.bind(this))},generateArtificially:function(a){a=e(g,a);var b=h.backtrace(a);return"function"==typeof a.filter&&(b=b.filter(a.filter)),Promise.resolve(b)},instrument:function(a,b,e,g){if("function"!=typeof a)throw Error("Cannot instrument non-function object");if("function"==typeof a.__stacktraceOriginalFn)return a;var h=function(){try{this.get().then(b,e)["catch"](e),a.apply(g||this,arguments)}catch(h){throw(h.stack||h["opera#sourceloc"])&&this.fromError(h).then(b,
e)["catch"](e),h;}}.bind(this);return h.__stacktraceOriginalFn=a,h},deinstrument:function(a){if("function"!=typeof a)throw Error("Cannot de-instrument non-function object");return"function"==typeof a.__stacktraceOriginalFn?a.__stacktraceOriginalFn:a},report:function(a,b){return new Promise(function(e,g){var h=new XMLHttpRequest;h.onerror=g;h.onreadystatechange=function(){4===h.readyState&&(200<=h.status&&400>h.status?e(h.responseText):g(Error("POST to "+b+" failed with status: "+h.status)))};h.open("post",
b);h.setRequestHeader("Content-Type","application/json");h.send(JSON.stringify({stack:a}))})}}});(function(){var a,h=Object.prototype.hasOwnProperty,b=document.getElementsByTagName("head")[0];a=function(){var a=[document.location.protocol+"//"+document.location.host],b,f;if("undefined"===typeof window.__vogue__){b=document.getElementsByTagName("script");for(var h=0;h<b.length&&(!(f=b[h].getAttribute("src"))||"vogue-client.js"!==f.slice(-15));h++);b=window.location.href.substr(0,location.href.lastIndexOf("/")+1);b=b.replace(/([^:]\/)\/+/g,"$1");(f=f.match(/\bbase=(.*)(&|$)/))&&(a=a.concat(f[1].split(",")));
return{rootUrl:b,bases:a}}window.__vogue__.bases=a;return window.__vogue__}();(function(){function e(a){if(f&&-1!=a.indexOf(".css")){a=a.split("//").join("/");a=a.split("\\").join("/");var e=!1,h;for(h in f){var m=h.split("//").join("/");e||-1==m.indexOf(a)||(a=""+h,e=!0)}null==f[a]&&(f=g());e=!1;if(null==f[a])for(h in f)m=h.split("//").join("/"),!e&&m&&-1!=m.indexOf(a)&&(a=""+h,e=!0);null==f[a]?console.error("coudnt find "+a):(console.info("reload css : "+a),e="",e=f[a].href+(0<=a.indexOf("?")?"&":
"?")+"_vogue_nocache="+(new Date).getTime(),h=null,f[a].setAttribute?f[a].href=e:(h=document.createElement("link"),h.setAttribute("rel","stylesheet"),h.setAttribute("href",e),b.appendChild(h),f[a]=h))}}function g(){function b(e){var f,g=!0;if("stylesheet"!==e.getAttribute("rel"))return!1;e=e.href;for(f=0;f<a.bases.length;f+=1)if(-1<e.indexOf(a.bases[f])){g=!1;break}return!(g&&e.match(/^https?:/))}function f(b){var e,g;for(g=0;g<a.bases.length;g+=1)if(e=a.bases[g],-1<b.indexOf(e))return b.substr(e.length);
return!1}function g(a){return this[a]}window.xappOnStyleSheetChanged=e;var h={},p=/@import\s+url\(["']?([^"'\)]+)["']?\)/g,q=document.getElementsByTagName("link"),r,t,v,x,y;x=0;for(y=q.length;x<y;x+=1)r=q[x],"print"!==r.getAttribute("media")&&b(r)&&(t=f(r.href),!1!==t&&(h[t]=r));q=document.getElementsByTagName("style");x=0;for(y=q.length;x<y;x+=1)if("print"!==q[x].getAttribute("media"))for(v=q[x].text||q[x].textContent;r=p.exec(v);)r={rel:"stylesheet",href:r[1],getAttribute:g},b(r)&&(t=f(r.href),
!1!==t&&(h[t]=r));return h}var f;f=g();(function(){for(var a in f)h.call(f,a)})()})()})();var kCHARSET_RULE_MISSING_SEMICOLON="Missing semicolon at the end of @charset rule",kCHARSET_RULE_CHARSET_IS_STRING="The charset in the @charset rule should be a string",kCHARSET_RULE_MISSING_WS="Missing mandatory whitespace after @charset",kIMPORT_RULE_MISSING_URL="Missing URL in @import rule",kURL_EOF="Unexpected end of stylesheet",kURL_WS_INSIDE="Multiple tokens inside a url() notation",kVARIABLES_RULE_POSITION="@variables rule invalid at this position in the stylesheet",kIMPORT_RULE_POSITION=
"@import rule invalid at this position in the stylesheet",kNAMESPACE_RULE_POSITION="@namespace rule invalid at this position in the stylesheet",kCHARSET_RULE_CHARSET_SOF="@charset rule invalid at this position in the stylesheet",kUNKNOWN_AT_RULE="Unknow @-rule",kENGINES=["presto","trident","generic"],kCSS_VENDOR_VALUES={"-moz-box":{webkit:"-webkit-box",presto:"",trident:"",generic:"box"},"-moz-inline-box":{webkit:"-webkit-inline-box",presto:"",trident:"",generic:"inline-box"},"-moz-initial":{webkit:"",
presto:"",trident:"",generic:"initial"},"-moz-linear-gradient":{webkit20110101:FilterLinearGradientForOutput,webkit:FilterLinearGradientForOutput,presto:"",trident:"",generic:FilterLinearGradientForOutput},"-moz-radial-gradient":{webkit20110101:FilterRadialGradientForOutput,webkit:FilterRadialGradientForOutput,presto:"",trident:"",generic:FilterRadialGradientForOutput},"-moz-repeating-linear-gradient":{webkit20110101:"",webkit:FilterRepeatingGradientForOutput,presto:"",trident:"",generic:FilterRepeatingGradientForOutput},
"-moz-repeating-radial-gradient":{webkit20110101:"",webkit:FilterRepeatingGradientForOutput,presto:"",trident:"",generic:FilterRepeatingGradientForOutput}},kCSS_VENDOR_PREFIXES={lastUpdate:1304175007,properties:[{gecko:"",webkit:"",presto:"",trident:"-ms-accelerator",status:"P"},{gecko:"",webkit:"",presto:"-wap-accesskey",trident:"",status:""},{gecko:"-moz-animation",webkit:"-webkit-animation",presto:"",trident:"",status:"WD"},{gecko:"-moz-animation-delay",webkit:"-webkit-animation-delay",presto:"",
trident:"",status:"WD"},{gecko:"-moz-animation-direction",webkit:"-webkit-animation-direction",presto:"",trident:"",status:"WD"},{gecko:"-moz-animation-duration",webkit:"-webkit-animation-duration",presto:"",trident:"",status:"WD"},{gecko:"-moz-animation-fill-mode",webkit:"-webkit-animation-fill-mode",presto:"",trident:"",status:"ED"},{gecko:"-moz-animation-iteration-count",webkit:"-webkit-animation-iteration-count",presto:"",trident:"",status:"WD"},{gecko:"-moz-animation-name",webkit:"-webkit-animation-name",
presto:"",trident:"",status:"WD"},{gecko:"-moz-animation-play-state",webkit:"-webkit-animation-play-state",presto:"",trident:"",status:"WD"},{gecko:"-moz-animation-timing-function",webkit:"-webkit-animation-timing-function",presto:"",trident:"",status:"WD"},{gecko:"-moz-appearance",webkit:"-webkit-appearance",presto:"",trident:"",status:"CR"},{gecko:"",webkit:"-webkit-backface-visibility",presto:"",trident:"",status:"WD"},{gecko:"background-clip",webkit:"-webkit-background-clip",presto:"background-clip",
trident:"background-clip",status:"WD"},{gecko:"",webkit:"-webkit-background-composite",presto:"",trident:"",status:""},{gecko:"-moz-background-inline-policy",webkit:"",presto:"",trident:"",status:"P"},{gecko:"background-origin",webkit:"-webkit-background-origin",presto:"background-origin",trident:"background-origin",status:"WD"},{gecko:"",webkit:"background-position-x",presto:"",trident:"-ms-background-position-x",status:""},{gecko:"",webkit:"background-position-y",presto:"",trident:"-ms-background-position-y",
status:""},{gecko:"background-size",webkit:"",presto:"background-size",trident:"background-size",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-behavior",status:""},{gecko:"-moz-binding",webkit:"",presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"",trident:"-ms-block-progression",status:""},{gecko:"",webkit:"-webkit-border-after",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-after-color",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-after-style",
presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-after-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-before",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-before-color",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-before-style",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-before-width",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-bottom-colors",webkit:"",presto:"",trident:"",status:"P"},
{gecko:"border-bottom-left-radius",webkit:"-webkit-border-bottom-left-radius",presto:"border-bottom-left-radius",trident:"border-bottom-left-radius",status:"WD"},{gecko:"",webkit:"-webkit-border-bottom-left-radius = border-bottom-left-radius",presto:"",trident:"",status:""},{gecko:"border-bottom-right-radius",webkit:"-webkit-border-bottom-right-radius",presto:"border-bottom-right-radius",trident:"border-bottom-right-radius",status:"WD"},{gecko:"",webkit:"-webkit-border-bottom-right-radius = border-bottom-right-radius",
presto:"",trident:"",status:""},{gecko:"-moz-border-end",webkit:"-webkit-border-end",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-end-color",webkit:"-webkit-border-end-color",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-end-style",webkit:"-webkit-border-end-style",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-end-width",webkit:"-webkit-border-end-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-fit",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-border-horizontal-spacing",
presto:"",trident:"",status:""},{gecko:"-moz-border-image",webkit:"-webkit-border-image",presto:"-o-border-image",trident:"",status:"WD"},{gecko:"-moz-border-left-colors",webkit:"",presto:"",trident:"",status:"P"},{gecko:"border-radius",webkit:"",presto:"border-radius",trident:"border-radius",status:"WD"},{gecko:"-moz-border-right-colors",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-border-start",webkit:"-webkit-border-start",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-start-color",
webkit:"-webkit-border-start-color",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-start-style",webkit:"-webkit-border-start-style",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-start-width",webkit:"-webkit-border-start-width",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-top-colors",webkit:"",presto:"",trident:"",status:"P"},{gecko:"border-top-left-radius",webkit:"-webkit-border-top-left-radius",presto:"border-top-left-radius",trident:"border-top-left-radius",status:"WD"},
{gecko:"",webkit:"-webkit-border-top-left-radius = border-top-left-radius",presto:"",trident:"",status:""},{gecko:"border-top-right-radius",webkit:"-webkit-border-top-right-radius",presto:"border-top-right-radius",trident:"border-top-right-radius",status:"WD"},{gecko:"",webkit:"-webkit-border-top-right-radius = border-top-right-radius",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-border-vertical-spacing",presto:"",trident:"",status:""},{gecko:"-moz-box-align",webkit:"-webkit-box-align",
presto:"",trident:"-ms-box-align",status:"WD"},{gecko:"-moz-box-direction",webkit:"-webkit-box-direction",presto:"",trident:"-ms-box-direction",status:"WD"},{gecko:"-moz-box-flex",webkit:"-webkit-box-flex",presto:"",trident:"-ms-box-flex",status:"WD"},{gecko:"",webkit:"-webkit-box-flex-group",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-box-line-progression",status:""},{gecko:"",webkit:"-webkit-box-lines",presto:"",trident:"-ms-box-lines",status:"WD"},{gecko:"-moz-box-ordinal-group",
webkit:"-webkit-box-ordinal-group",presto:"",trident:"-ms-box-ordinal-group",status:"WD"},{gecko:"-moz-box-orient",webkit:"-webkit-box-orient",presto:"",trident:"-ms-box-orient",status:"WD"},{gecko:"-moz-box-pack",webkit:"-webkit-box-pack",presto:"",trident:"-ms-box-pack",status:"WD"},{gecko:"",webkit:"-webkit-box-reflect",presto:"",trident:"",status:""},{gecko:"box-shadow",webkit:"",presto:"box-shadow",trident:"box-shadow",status:"WD"},{gecko:"-moz-box-sizing",webkit:"box-sizing",presto:"box-sizing",
trident:"",status:"CR"},{gecko:"",webkit:"-webkit-box-sizing = box-sizing",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-caption-side = caption-side",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-color-correction",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-column-break-after",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-column-break-before",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-column-break-inside",presto:"",trident:"",status:""},
{gecko:"-moz-column-count",webkit:"-webkit-column-count",presto:"column-count",trident:"column-count",status:"CR"},{gecko:"-moz-column-gap",webkit:"-webkit-column-gap",presto:"column-gap",trident:"column-gap",status:"CR"},{gecko:"-moz-column-rule",webkit:"-webkit-column-rule",presto:"column-rule",trident:"column-rule",status:"CR"},{gecko:"-moz-column-rule-color",webkit:"-webkit-column-rule-color",presto:"column-rule-color",trident:"column-rule-color",status:"CR"},{gecko:"-moz-column-rule-style",webkit:"-webkit-column-rule-style",
presto:"column-rule-style",trident:"column-rule-style",status:"CR"},{gecko:"-moz-column-rule-width",webkit:"-webkit-column-rule-width",presto:"column-rule-width",trident:"column-rule-width",status:"CR"},{gecko:"",webkit:"-webkit-column-span",presto:"column-span",trident:"column-span",status:"CR"},{gecko:"-moz-column-width",webkit:"-webkit-column-width",presto:"column-width",trident:"column-width",status:"CR"},{gecko:"",webkit:"-webkit-columns",presto:"columns",trident:"columns",status:"CR"},{gecko:"",
webkit:"-webkit-dashboard-region",presto:"-apple-dashboard-region",trident:"",status:""},{gecko:"filter",webkit:"",presto:"filter",trident:"-ms-filter",status:""},{gecko:"-moz-float-edge",webkit:"",presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"-o-focus-opacity",trident:"",status:""},{gecko:"-moz-font-feature-settings",webkit:"",presto:"",trident:"",status:""},{gecko:"-moz-font-language-override",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-font-size-delta",presto:"",
trident:"",status:""},{gecko:"",webkit:"-webkit-font-smoothing",presto:"",trident:"",status:""},{gecko:"-moz-force-broken-image-icon",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-column",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-column-align",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-column-span",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-columns",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-layer",
status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-row",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-row-align",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-row-span",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-rows",status:"WD"},{gecko:"",webkit:"-webkit-highlight",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-hyphenate-character",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-hyphenate-limit-after",presto:"",trident:"",
status:""},{gecko:"",webkit:"-webkit-hyphenate-limit-before",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-hyphens",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-epub-hyphens = -webkit-hyphens",presto:"",trident:"",status:""},{gecko:"-moz-image-region",webkit:"",presto:"",trident:"",status:"P"},{gecko:"ime-mode",webkit:"",presto:"",trident:"-ms-ime-mode",status:""},{gecko:"",webkit:"",presto:"-wap-input-format",trident:"",status:""},{gecko:"",webkit:"",presto:"-wap-input-required",
trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-interpolation-mode",status:""},{gecko:"",webkit:"",presto:"-xv-interpret-as",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-flow",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid-char",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid-line",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid-mode",
status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid-type",status:""},{gecko:"",webkit:"-webkit-line-box-contain",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-line-break",presto:"",trident:"-ms-line-break",status:""},{gecko:"",webkit:"-webkit-line-clamp",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-line-grid-mode",status:""},{gecko:"",webkit:"",presto:"-o-link",trident:"",status:""},{gecko:"",webkit:"",presto:"-o-link-source",trident:"",status:""},
{gecko:"",webkit:"-webkit-locale",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-logical-height",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-logical-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-margin-after",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-margin-after-collapse",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-margin-before",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-margin-before-collapse",presto:"",
trident:"",status:""},{gecko:"",webkit:"-webkit-margin-bottom-collapse",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-margin-collapse",presto:"",trident:"",status:""},{gecko:"-moz-margin-end",webkit:"-webkit-margin-end",presto:"",trident:"",status:"ED"},{gecko:"-moz-margin-start",webkit:"-webkit-margin-start",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-margin-top-collapse",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-marquee",presto:"",trident:"",status:""},
{gecko:"",webkit:"",presto:"-wap-marquee-dir",trident:"",status:""},{gecko:"",webkit:"-webkit-marquee-direction",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-marquee-increment",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"-wap-marquee-loop",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-marquee-repetition",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-marquee-speed",presto:"-wap-marquee-speed",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-marquee-style",
presto:"-wap-marquee-style",trident:"",status:"WD"},{gecko:"mask",webkit:"-webkit-mask",presto:"mask",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-attachment",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-box-image",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-clip",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-composite",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-image",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-origin",
presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-position",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-position-x",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-position-y",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-repeat",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-repeat-x",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-repeat-y",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-size",
presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-match-nearest-mail-blockquote-color",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-max-logical-height",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-max-logical-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-min-logical-height",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-min-logical-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"",presto:"-o-mini-fold",trident:"",status:""},
{gecko:"",webkit:"-webkit-nbsp-mode",presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"-o-object-fit",trident:"",status:"ED"},{gecko:"",webkit:"",presto:"-o-object-position",trident:"",status:"ED"},{gecko:"opacity",webkit:"",presto:"opacity",trident:"opacity",status:"WD"},{gecko:"",webkit:"-webkit-opacity = opacity",presto:"",trident:"",status:""},{gecko:"-moz-outline-radius",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-outline-radius-bottomleft",webkit:"",presto:"",trident:"",
status:"P"},{gecko:"-moz-outline-radius-bottomright",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-outline-radius-topleft",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-outline-radius-topright",webkit:"",presto:"",trident:"",status:"P"},{gecko:"overflow-x",webkit:"overflow-x",presto:"overflow-x",trident:"-ms-overflow-x",status:"WD"},{gecko:"overflow-y",webkit:"overflow-y",presto:"overflow-y",trident:"-ms-overflow-y",status:"WD"},{gecko:"",webkit:"-webkit-padding-after",presto:"",
trident:"",status:"ED"},{gecko:"",webkit:"-webkit-padding-before",presto:"",trident:"",status:"ED"},{gecko:"-moz-padding-end",webkit:"-webkit-padding-end",presto:"",trident:"",status:"ED"},{gecko:"-moz-padding-start",webkit:"-webkit-padding-start",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-perspective",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-perspective-origin",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-perspective-origin-x",presto:"",trident:"",
status:""},{gecko:"",webkit:"-webkit-perspective-origin-y",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-phonemes",trident:"",status:""},{gecko:"",webkit:"-webkit-rtl-ordering",presto:"",trident:"",status:"P"},{gecko:"-moz-script-level",webkit:"",presto:"",trident:"",status:""},{gecko:"-moz-script-min-size",webkit:"",presto:"",trident:"",status:""},{gecko:"-moz-script-size-multiplier",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"scrollbar-3dlight-color",
trident:"-ms-scrollbar-3dlight-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-arrow-color",trident:"-ms-scrollbar-arrow-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-base-color",trident:"-ms-scrollbar-base-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-darkshadow-color",trident:"-ms-scrollbar-darkshadow-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-face-color",trident:"-ms-scrollbar-face-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-highlight-color",
trident:"-ms-scrollbar-highlight-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-shadow-color",trident:"-ms-scrollbar-shadow-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-track-color",trident:"-ms-scrollbar-track-color",status:"P"},{gecko:"-moz-stack-sizing",webkit:"",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-svg-shadow",presto:"",trident:"",status:""},{gecko:"-moz-tab-size",webkit:"",presto:"-o-tab-size",trident:"",status:""},{gecko:"",webkit:"",presto:"-o-table-baseline",
trident:"",status:""},{gecko:"",webkit:"-webkit-tap-highlight-color",presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"",trident:"-ms-text-align-last",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-text-autospace",status:"WD"},{gecko:"-moz-text-blink",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-combine",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-text-combine = -webkit-text-combine",presto:"",trident:"",status:""},{gecko:"-moz-text-decoration-color",
webkit:"",presto:"",trident:"",status:""},{gecko:"-moz-text-decoration-line",webkit:"",presto:"",trident:"",status:""},{gecko:"-moz-text-decoration-style",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-decorations-in-effect",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-emphasis",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-text-emphasis = -webkit-text-emphasis",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-emphasis-color",presto:"",
trident:"",status:""},{gecko:"",webkit:"-epub-text-emphasis-color = -webkit-text-emphasis-color",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-emphasis-position",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-emphasis-style",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-text-emphasis-style = -webkit-text-emphasis-style",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-fill-color",presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"",
trident:"-ms-text-justify",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-text-kashida-space",status:"P"},{gecko:"",webkit:"-webkit-text-orientation",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-text-orientation = -webkit-text-orientation",presto:"",trident:"",status:""},{gecko:"",webkit:"text-overflow",presto:"text-overflow",trident:"-ms-text-overflow",status:"WD"},{gecko:"",webkit:"-webkit-text-security",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-text-size-adjust",
presto:"",trident:"-ms-text-size-adjust",status:""},{gecko:"",webkit:"-webkit-text-stroke",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-text-stroke-color",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-text-stroke-width",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-epub-text-transform = text-transform",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-text-underline-position",status:"P"},{gecko:"",webkit:"-webkit-touch-callout",presto:"",trident:"",
status:"P"},{gecko:"-moz-transform",webkit:"-webkit-transform",presto:"-o-transform",trident:"-ms-transform",status:"WD"},{gecko:"-moz-transform-origin",webkit:"-webkit-transform-origin",presto:"-o-transform-origin",trident:"-ms-transform-origin",status:"WD"},{gecko:"",webkit:"-webkit-transform-origin-x",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-transform-origin-y",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-transform-origin-z",presto:"",trident:"",status:"P"},{gecko:"",
webkit:"-webkit-transform-style",presto:"",trident:"",status:"WD"},{gecko:"-moz-transition",webkit:"-webkit-transition",presto:"-o-transition",trident:"",status:"WD"},{gecko:"-moz-transition-delay",webkit:"-webkit-transition-delay",presto:"-o-transition-delay",trident:"",status:"WD"},{gecko:"-moz-transition-duration",webkit:"-webkit-transition-duration",presto:"-o-transition-duration",trident:"",status:"WD"},{gecko:"-moz-transition-property",webkit:"-webkit-transition-property",presto:"-o-transition-property",
trident:"",status:"WD"},{gecko:"-moz-transition-timing-function",webkit:"-webkit-transition-timing-function",presto:"-o-transition-timing-function",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-user-drag",presto:"",trident:"",status:"P"},{gecko:"-moz-user-focus",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-user-input",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-user-modify",webkit:"-webkit-user-modify",presto:"",trident:"",status:"P"},{gecko:"-moz-user-select",webkit:"-webkit-user-select",
presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"-xv-voice-balance",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-duration",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-pitch",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-pitch-range",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-rate",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-stress",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-volume",trident:"",
status:""},{gecko:"-moz-window-shadow",webkit:"",presto:"",trident:"",status:"P"},{gecko:"",webkit:"word-break",presto:"",trident:"-ms-word-break",status:"WD"},{gecko:"",webkit:"-epub-word-break = word-break",presto:"",trident:"",status:""},{gecko:"word-wrap",webkit:"word-wrap",presto:"word-wrap",trident:"-ms-word-wrap",status:"WD"},{gecko:"",webkit:"-webkit-writing-mode",presto:"writing-mode",trident:"-ms-writing-mode",status:"ED"},{gecko:"",webkit:"-epub-writing-mode = -webkit-writing-mode",presto:"",
trident:"",status:""},{gecko:"",webkit:"zoom",presto:"",trident:"-ms-zoom",status:""}]},kCSS_PREFIXED_VALUE=[{gecko:"-moz-box",webkit:"-moz-box",presto:"",trident:"",generic:"box"}],CssInspector={mVENDOR_PREFIXES:null,kEXPORTS_FOR_GECKO:!0,kEXPORTS_FOR_WEBKIT:!0,kEXPORTS_FOR_PRESTO:!0,kEXPORTS_FOR_TRIDENT:!0,cleanPrefixes:function(){this.mVENDOR_PREFIXES=null},prefixesForProperty:function(a){if(!this.mVENDOR_PREFIXES){this.mVENDOR_PREFIXES={};for(var h=0;h<kCSS_VENDOR_PREFIXES.properties.length;h++){var b=
kCSS_VENDOR_PREFIXES.properties[h];if(b.gecko&&(b.webkit||b.presto||b.trident)){var e={};this.kEXPORTS_FOR_GECKO&&(e[b.gecko]=!0);this.kEXPORTS_FOR_WEBKIT&&b.webkit&&(e[b.webkit]=!0);this.kEXPORTS_FOR_PRESTO&&b.presto&&(e[b.presto]=!0);this.kEXPORTS_FOR_TRIDENT&&b.trident&&(e[b.trident]=!0);this.mVENDOR_PREFIXES[b.gecko]=[];for(var g in e)this.mVENDOR_PREFIXES[b.gecko].push(g)}}}return a in this.mVENDOR_PREFIXES?this.mVENDOR_PREFIXES[a].sort():null},parseColorStop:function(a,h){var b=a.parseColor(h),
e="";if(!b)return null;h=a.getToken(!0,!0);if(h.isPercentage()||h.isDimensionOfUnit("cm")||h.isDimensionOfUnit("mm")||h.isDimensionOfUnit("in")||h.isDimensionOfUnit("pc")||h.isDimensionOfUnit("px")||h.isDimensionOfUnit("em")||h.isDimensionOfUnit("ex")||h.isDimensionOfUnit("pt"))e=h.value,a.getToken(!0,!0);return{color:b,position:e}},parseGradient:function(a,h){var b={isRepeating:!1};if(h.isNotNull()&&(h.isFunction("-moz-linear-gradient(")||h.isFunction("-moz-radial-gradient(")||h.isFunction("-moz-repeating-linear-gradient(")||
h.isFunction("-moz-repeating-radial-gradient("))){if(h.isFunction("-moz-radial-gradient(")||h.isFunction("-moz-repeating-radial-gradient("))b.isRadial=!0;if(h.isFunction("-moz-repeating-linear-gradient(")||h.isFunction("-moz-repeating-radial-gradient("))b.isRepeating=!0;h=a.getToken(!0,!0);var e=!1,g=!1,f=!1;h.isAngle()&&(b.angle=h.value,f=e=!0,h=a.getToken(!0,!0));if(h.isLength()||h.isIdent("top")||h.isIdent("center")||h.isIdent("bottom")||h.isIdent("left")||h.isIdent("right")){e=!0;if(h.isLength()||
h.isIdent("left")||h.isIdent("right"))g=!0;b.position=h.value;h=a.getToken(!0,!0)}if(e){if(!f&&h.isAngle())b.angle=h.value,f=!0,h=a.getToken(!0,!0);else if(h.isLength()||g&&(h.isIdent("top")||h.isIdent("center")||h.isIdent("bottom"))||!g&&(h.isLength()||h.isIdent("top")||h.isIdent("center")||h.isIdent("bottom")||h.isIdent("left")||h.isIdent("right")))b.position="position"in b?b.position+" ":"",b.position+=h.value,h=a.getToken(!0,!0);!f&&h.isAngle()&&(b.angle=h.value,h=a.getToken(!0,!0));if(!h.isSymbol(","))return null;
h=a.getToken(!0,!0)}if(b.isRadial){if(h.isIdent("circle")||h.isIdent("ellipse"))b.shape=h.value,h=a.getToken(!0,!0);if(h.isIdent("closest-side")||h.isIdent("closest-corner")||h.isIdent("farthest-side")||h.isIdent("farthest-corner")||h.isIdent("contain")||h.isIdent("cover"))b.size=h.value,h=a.getToken(!0,!0);"shape"in b||!h.isIdent("circle")&&!h.isIdent("ellipse")||(b.shape=h.value,h=a.getToken(!0,!0));if(("shape"in b||"size"in b)&&!h.isSymbol(","))return null;if("shape"in b||"size"in b)h=a.getToken(!0,
!0)}e=this.parseColorStop(a,h);if(!e)return null;h=a.currentToken();if(!h.isSymbol(","))return null;h=a.getToken(!0,!0);g=this.parseColorStop(a,h);if(!g)return null;h=a.currentToken();h.isSymbol(",")&&(h=a.getToken(!0,!0));for(b.stops=[e,g];!h.isSymbol(")");){e=this.parseColorStop(a,h);if(!e)return null;h=a.currentToken();if(!h.isSymbol(")")&&!h.isSymbol(","))return null;h.isSymbol(",")&&(h=a.getToken(!0,!0));b.stops.push(e)}return b}return null},parseBoxShadows:function(a){var h=new CSSParser;h._init();
h.mPreserveWS=!1;h.mPreserveComments=!1;h.mPreservedTokens=[];h.mScanner.init(a);a=[];for(var b=h.getToken(!0,!0),e="",g="0px",f="0px",l="0px",k="0px",n=!1;b.isNotNull();)if(b.isIdent("none"))a.push({none:!0}),b=h.getToken(!0,!0);else{b.isIdent("inset")&&(n=!0,b=h.getToken(!0,!0));if(b.isPercentage()||b.isDimensionOfUnit("cm")||b.isDimensionOfUnit("mm")||b.isDimensionOfUnit("in")||b.isDimensionOfUnit("pc")||b.isDimensionOfUnit("px")||b.isDimensionOfUnit("em")||b.isDimensionOfUnit("ex")||b.isDimensionOfUnit("pt"))b=
h.getToken(!0,!0);else return[];!n&&b.isIdent("inset")&&(n=!0,b=h.getToken(!0,!0));if(b.isPercentage()||b.isDimensionOfUnit("cm")||b.isDimensionOfUnit("mm")||b.isDimensionOfUnit("in")||b.isDimensionOfUnit("pc")||b.isDimensionOfUnit("px")||b.isDimensionOfUnit("em")||b.isDimensionOfUnit("ex")||b.isDimensionOfUnit("pt"))f=b.value,b=h.getToken(!0,!0);else return[];!n&&b.isIdent("inset")&&(n=!0,b=h.getToken(!0,!0));if(b.isPercentage()||b.isDimensionOfUnit("cm")||b.isDimensionOfUnit("mm")||b.isDimensionOfUnit("in")||
b.isDimensionOfUnit("pc")||b.isDimensionOfUnit("px")||b.isDimensionOfUnit("em")||b.isDimensionOfUnit("ex")||b.isDimensionOfUnit("pt"))g=b.value,b=h.getToken(!0,!0);!n&&b.isIdent("inset")&&(n=!0,b=h.getToken(!0,!0));if(b.isPercentage()||b.isDimensionOfUnit("cm")||b.isDimensionOfUnit("mm")||b.isDimensionOfUnit("in")||b.isDimensionOfUnit("pc")||b.isDimensionOfUnit("px")||b.isDimensionOfUnit("em")||b.isDimensionOfUnit("ex")||b.isDimensionOfUnit("pt"))k=b.value,b=h.getToken(!0,!0);!n&&b.isIdent("inset")&&
(n=!0,b=h.getToken(!0,!0));if(b.isFunction("rgb(")||b.isFunction("rgba(")||b.isFunction("hsl(")||b.isFunction("hsla(")||b.isSymbol("#")||b.isIdent())e=h.parseColor(b),b=h.getToken(!0,!0);!n&&b.isIdent("inset")&&(b=h.getToken(!0,!0));a.push({none:!1,color:e,offsetX:f,offsetY:l,blurRadius:g,spreadRadius:k});if(b.isSymbol(","))n=!1,e="",l=k=g="0px",b=h.getToken(!0,!0);else{if(b.isNotNull())return[];break}}return a},parseTextShadows:function(a){var h=new CSSParser;h._init();h.mPreserveWS=!1;h.mPreserveComments=
!1;h.mPreservedTokens=[];h.mScanner.init(a);a=[];for(var b=h.getToken(!0,!0),e="",g="0px",f="0px",l="0px";b.isNotNull();)if(b.isIdent("none"))a.push({none:!0}),b=h.getToken(!0,!0);else{if(b.isFunction("rgb(")||b.isFunction("rgba(")||b.isFunction("hsl(")||b.isFunction("hsla(")||b.isSymbol("#")||b.isIdent())e=h.parseColor(b),b=h.getToken(!0,!0);if(b.isPercentage()||b.isDimensionOfUnit("cm")||b.isDimensionOfUnit("mm")||b.isDimensionOfUnit("in")||b.isDimensionOfUnit("pc")||b.isDimensionOfUnit("px")||
b.isDimensionOfUnit("em")||b.isDimensionOfUnit("ex")||b.isDimensionOfUnit("pt"))f=b.value,b=h.getToken(!0,!0);else return[];if(b.isPercentage()||b.isDimensionOfUnit("cm")||b.isDimensionOfUnit("mm")||b.isDimensionOfUnit("in")||b.isDimensionOfUnit("pc")||b.isDimensionOfUnit("px")||b.isDimensionOfUnit("em")||b.isDimensionOfUnit("ex")||b.isDimensionOfUnit("pt"))l=b.value,b=h.getToken(!0,!0);else return[];if(b.isPercentage()||b.isDimensionOfUnit("cm")||b.isDimensionOfUnit("mm")||b.isDimensionOfUnit("in")||
b.isDimensionOfUnit("pc")||b.isDimensionOfUnit("px")||b.isDimensionOfUnit("em")||b.isDimensionOfUnit("ex")||b.isDimensionOfUnit("pt"))g=b.value,b=h.getToken(!0,!0);!e&&(b.isFunction("rgb(")||b.isFunction("rgba(")||b.isFunction("hsl(")||b.isFunction("hsla(")||b.isSymbol("#")||b.isIdent())&&(e=h.parseColor(b),b=h.getToken(!0,!0));a.push({none:!1,color:e,offsetX:f,offsetY:l,blurRadius:g});if(b.isSymbol(","))e="",g="0px",b=h.getToken(!0,!0);else{if(b.isNotNull())return[];break}}return a},parseBackgroundImages:function(a){var h=
new CSSParser;h._init();h.mPreserveWS=!1;h.mPreserveComments=!1;h.mPreservedTokens=[];h.mScanner.init(a);a=[];for(var b=h.getToken(!0,!0);b.isNotNull();){if(b.isFunction("url("))b=h.getToken(!0,!0),b=h.parseURL(b),a.push({type:"image",value:"url("+b}),b=h.getToken(!0,!0);else if(b.isFunction("-moz-linear-gradient(")||b.isFunction("-moz-radial-gradient(")||b.isFunction("-moz-repeating-linear-gradient(")||b.isFunction("-moz-repeating-radial-gradient("))b=this.parseGradient(h,b),a.push({type:b.isRadial?
"radial-gradient":"linear-gradient",value:b}),b=h.getToken(!0,!0);else return null;if(b.isSymbol(",")&&(b=h.getToken(!0,!0),!b.isNotNull()))return null}return a},serializeGradient:function(a){var h=a.isRadial?a.isRepeating?"-moz-repeating-radial-gradient(":"-moz-radial-gradient(":a.isRepeating?"-moz-repeating-linear-gradient(":"-moz-linear-gradient(";if(a.angle||a.position)h+=(a.angle?a.angle+" ":"")+(a.position?a.position:"")+", ";a.isRadial&&(a.shape||a.size)&&(h+=(a.shape?a.shape:"")+" "+(a.size?
a.size:"")+", ");for(var b=0;b<a.stops.length;b++){var e=a.stops[b],h=h+(e.color+(e.position?" "+e.position:""));b!=a.stops.length-1&&(h+=", ")}return h+")"},parseBorderImage:function(a){var h=new CSSParser;h._init();h.mPreserveWS=!1;h.mPreserveComments=!1;h.mPreservedTokens=[];h.mScanner.init(a);a={url:"",offsets:[],widths:[],sizes:[]};var b=h.getToken(!0,!0);if(b.isFunction("url("))if(b=h.getToken(!0,!0),b=h.parseURL(b)){if(a.url=b.substr(0,b.length-1).trim(),'"'==a.url[0]&&'"'==a.url[a.url.length-
1]||"'"==a.url[0]&&"'"==a.url[a.url.length-1])a.url=a.url.substr(1,a.url.length-2)}else return null;else return null;b=h.getToken(!0,!0);if(b.isNumber()||b.isPercentage())a.offsets.push(b.value);else return null;var e;for(e=0;3>e;e++)if(b=h.getToken(!0,!0),b.isNumber()||b.isPercentage())a.offsets.push(b.value);else break;3==e&&(b=h.getToken(!0,!0));if(b.isSymbol("/")){b=h.getToken(!0,!0);if(b.isDimension()||b.isNumber("0")||b.isIdent()&&b.value in h.kBORDER_WIDTH_NAMES)a.widths.push(b.value);else return null;
for(e=0;3>e;e++)if(b=h.getToken(!0,!0),b.isDimension()||b.isNumber("0")||b.isIdent()&&b.value in h.kBORDER_WIDTH_NAMES)a.widths.push(b.value);else break;3==e&&(b=h.getToken(!0,!0))}for(e=0;2>e;e++){if(b.isIdent("stretch")||b.isIdent("repeat")||b.isIdent("round"))a.sizes.push(b.value);else break;b=h.getToken(!0,!0)}return b.isNotNull()?null:a},parseMediaQuery:function(a){var h={width:!0,"min-width":!0,"max-width":!0,height:!0,"min-height":!0,"max-height":!0,"device-width":!0,"min-device-width":!0,
"max-device-width":!0,"device-height":!0,"min-device-height":!0,"max-device-height":!0,orientation:!0,"aspect-ratio":!0,"min-aspect-ratio":!0,"max-aspect-ratio":!0,"device-aspect-ratio":!0,"min-device-aspect-ratio":!0,"max-device-aspect-ratio":!0,color:!0,"min-color":!0,"max-color":!0,"color-index":!0,"min-color-index":!0,"max-color-index":!0,monochrome:!0,"min-monochrome":!0,"max-monochrome":!0,resolution:!0,"min-resolution":!0,"max-resolution":!0,scan:!0,grid:!0},b=new CSSParser;b._init();b.mPreserveWS=
!1;b.mPreserveComments=!1;b.mPreservedTokens=[];b.mScanner.init(a);a={amplifier:"",medium:"",constraints:[]};var e=b.getToken(!0,!0);if(e.isIdent("all")||e.isIdent("aural")||e.isIdent("braille")||e.isIdent("handheld")||e.isIdent("print")||e.isIdent("projection")||e.isIdent("screen")||e.isIdent("tty")||e.isIdent("tv"))a.medium=e.value,e=b.getToken(!0,!0);else if(e.isIdent("not")||e.isIdent("only"))if(a.amplifier=e.value,e=b.getToken(!0,!0),e.isIdent("all")||e.isIdent("aural")||e.isIdent("braille")||
e.isIdent("handheld")||e.isIdent("print")||e.isIdent("projection")||e.isIdent("screen")||e.isIdent("tty")||e.isIdent("tv"))a.medium=e.value,e=b.getToken(!0,!0);else return null;if(a.medium){if(!e.isNotNull())return a;if(e.isIdent("and"))e=b.getToken(!0,!0);else return null}for(;e.isSymbol("(");)if(e=b.getToken(!0,!0),e.isIdent()&&e.value in h){var g=e.value,e=b.getToken(!0,!0);if(e.isSymbol(":")){for(var e=b.getToken(!0,!0),f=[];!e.isSymbol(")");)f.push(e.value),e=b.getToken(!0,!0);if(e.isSymbol(")"))if(a.constraints.push({constraint:g,
value:f}),e=b.getToken(!0,!0),e.isNotNull())if(e.isIdent("and"))e=b.getToken(!0,!0);else return null;else break;else return null}else if(e.isSymbol(")"))if(a.constraints.push({constraint:g,value:null}),e=b.getToken(!0,!0),e.isNotNull())if(e.isIdent("and"))e=b.getToken(!0,!0);else return null;else break;else return null}else return null;return a}},CSS_ESCAPE="\\",IS_HEX_DIGIT=1,START_IDENT=2,IS_IDENT=4,IS_WHITESPACE=8,W=IS_WHITESPACE,I=IS_IDENT,S=START_IDENT,SI=IS_IDENT|START_IDENT,XI=IS_IDENT|IS_HEX_DIGIT,
XSI=IS_IDENT|START_IDENT|IS_HEX_DIGIT;function CSSScanner(a){this.init(a)}
CSSScanner.prototype={kLexTable:[0,0,0,0,0,0,0,0,0,W,W,0,W,W,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,W,0,0,0,0,0,0,0,0,0,0,0,0,I,0,0,XI,XI,XI,XI,XI,XI,XI,XI,XI,XI,0,0,0,0,0,0,0,XSI,XSI,XSI,XSI,XSI,XSI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,0,S,0,0,SI,0,XSI,XSI,XSI,XSI,XSI,XSI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,
SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI],kHexValues:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15},mString:"",mPos:0,mPreservedPos:[],init:function(a){this.mString=a;this.mPos=0;this.mPreservedPos=[]},getCurrentPos:function(){return this.mPos},getAlreadyScanned:function(){return this.mString.substr(0,this.mPos)},
preserveState:function(){this.mPreservedPos.push(this.mPos)},restoreState:function(){this.mPreservedPos.length&&(this.mPos=this.mPreservedPos.pop())},forgetState:function(){this.mPreservedPos.length&&this.mPreservedPos.pop()},read:function(){return this.mPos<this.mString.length?this.mString.charAt(this.mPos++):-1},peek:function(){return this.mPos<this.mString.length?this.mString.charAt(this.mPos):-1},isHexDigit:function(a){a=a.charCodeAt(0);return 256>a&&0!=(this.kLexTable[a]&IS_HEX_DIGIT)},isIdentStart:function(a){a=
a.charCodeAt(0);return 256<=a||0!=(this.kLexTable[a]&START_IDENT)},startsWithIdent:function(a,h){a.charCodeAt(0);return this.isIdentStart(a)||"-"==a&&this.isIdentStart(h)},isIdent:function(a){a=a.charCodeAt(0);return 256<=a||0!=(this.kLexTable[a]&IS_IDENT)},pushback:function(){this.mPos--},nextHexValue:function(){var a=this.read();if(-1==a||!this.isHexDigit(a))return new jscsspToken(jscsspToken.NULL_TYPE,null);for(var h=a,a=this.read();-1!=a&&this.isHexDigit(a);)h+=a,a=this.read();-1!=a&&this.pushback();
return new jscsspToken(jscsspToken.HEX_TYPE,h)},gatherEscape:function(){var a=this.peek();if(-1==a)return"";if(this.isHexDigit(a)){for(var h=0,b=0;6>b;b++)if(a=this.read(),this.isHexDigit(a))h=16*h+this.kHexValues[a.toLowerCase()];else{this.isHexDigit(a)||this.isWhiteSpace(a)||this.pushback();break}6==b&&(a=this.peek(),this.isWhiteSpace(a)&&this.read());return String.fromCharCode(h)}a=this.read();return"\n"!=a?a:""},gatherIdent:function(a){var h="",h=a==CSS_ESCAPE?h+this.gatherEscape():h+a;for(a=
this.read();-1!=a&&(this.isIdent(a)||a==CSS_ESCAPE);)h=a==CSS_ESCAPE?h+this.gatherEscape():h+a,a=this.read();-1!=a&&this.pushback();return h},parseIdent:function(a){a=this.gatherIdent(a);return"("==this.peek()?(a+=this.read(),new jscsspToken(jscsspToken.FUNCTION_TYPE,a)):new jscsspToken(jscsspToken.IDENT_TYPE,a)},isDigit:function(a){return"0"<=a&&"9">=a},parseComment:function(a){for(var h=a;-1!=(a=this.read());)if(h+=a,"*"==a){a=this.read();if(-1==a)break;if("/"==a){h+=a;break}this.pushback()}return new jscsspToken(jscsspToken.COMMENT_TYPE,
h)},parseNumber:function(a){for(var h=a,b=!1;-1!=(a=this.read());)if("."==a)if(b)break;else h+=a,b=!0;else if(this.isDigit(a))h+=a;else break;if(-1!=a&&this.startsWithIdent(a,this.peek()))return a=this.gatherIdent(a),new jscsspToken(jscsspToken.DIMENSION_TYPE,h+a,a);if("%"==a)return h+="%",new jscsspToken(jscsspToken.PERCENTAGE_TYPE,h);-1!=a&&this.pushback();return new jscsspToken(jscsspToken.NUMBER_TYPE,h)},parseString:function(a){for(var h=a,b=a,e;-1!=(e=this.read());){if(e==a&&b!=CSS_ESCAPE){h+=
e;break}else if(e==CSS_ESCAPE)if(e=this.peek(),-1==e)break;else"\n"==e||"\r"==e||"\f"==e?(d=e,e=this.read(),"\r"==d&&(e=this.peek(),"\n"==e&&(e=this.read()))):(h+=this.gatherEscape(),e=this.peek());else if("\n"==e||"\r"==e||"\f"==e)break;else h+=e;b=e}return new jscsspToken(jscsspToken.STRING_TYPE,h)},isWhiteSpace:function(a){a=a.charCodeAt(0);return 256>a&&0!=(this.kLexTable[a]&IS_WHITESPACE)},eatWhiteSpace:function(a){for(var h=a;-1!=(a=this.read())&&this.isWhiteSpace(a);)h+=a;-1!=a&&this.pushback();
return h},parseAtKeyword:function(a){return new jscsspToken(jscsspToken.ATRULE_TYPE,this.gatherIdent(a))},nextToken:function(){var a=this.read();if(-1==a)return new jscsspToken(jscsspToken.NULL_TYPE,null);if(this.startsWithIdent(a,this.peek()))return this.parseIdent(a);if("@"==a){var h=this.read();if(-1!=h){var b=this.peek();this.pushback();if(this.startsWithIdent(h,b))return this.parseAtKeyword(a)}}if("."==a||"+"==a||"-"==a)if(h=this.peek(),this.isDigit(h)||"."==h&&"."!=a&&(firstChar=this.read(),
h=this.peek(),this.pushback(),this.isDigit(h)))return this.parseNumber(a);if(this.isDigit(a))return this.parseNumber(a);if("'"==a||'"'==a)return this.parseString(a);if(this.isWhiteSpace(a))return a=this.eatWhiteSpace(a),new jscsspToken(jscsspToken.WHITESPACE_TYPE,a);if("|"==a||"~"==a||"^"==a||"$"==a||"*"==a)if(h=this.read(),"="==h)switch(a){case "~":return new jscsspToken(jscsspToken.INCLUDES_TYPE,"~=");case "|":return new jscsspToken(jscsspToken.DASHMATCH_TYPE,"|=");case "^":return new jscsspToken(jscsspToken.BEGINSMATCH_TYPE,
"^=");case "$":return new jscsspToken(jscsspToken.ENDSMATCH_TYPE,"$=");case "*":return new jscsspToken(jscsspToken.CONTAINSMATCH_TYPE,"*=")}else-1!=h&&this.pushback();return"/"==a&&"*"==this.peek()?this.parseComment(a):new jscsspToken(jscsspToken.SYMBOL_TYPE,a)}};function CSSParser(a){this.mLookAhead=this.mToken=null;this.mScanner=new CSSScanner(a);this.mPreserveComments=this.mPreserveWS=!0;this.mPreservedTokens=[];this.mError=null}
CSSParser.prototype={_init:function(){this.mLookAhead=this.mToken=null},kINHERIT:"inherit",kBORDER_WIDTH_NAMES:{thin:!0,medium:!0,thick:!0},kBORDER_STYLE_NAMES:{none:!0,hidden:!0,dotted:!0,dashed:!0,solid:!0,"double":!0,groove:!0,ridge:!0,inset:!0,outset:!0},kCOLOR_NAMES:{transparent:!0,black:!0,silver:!0,gray:!0,white:!0,maroon:!0,red:!0,purple:!0,fuchsia:!0,green:!0,lime:!0,olive:!0,yellow:!0,navy:!0,blue:!0,teal:!0,aqua:!0,aliceblue:!0,antiquewhite:!0,aqua:!0,aquamarine:!0,azure:!0,beige:!0,bisque:!0,
black:!0,blanchedalmond:!0,blue:!0,blueviolet:!0,brown:!0,burlywood:!0,cadetblue:!0,chartreuse:!0,chocolate:!0,coral:!0,cornflowerblue:!0,cornsilk:!0,crimson:!0,cyan:!0,darkblue:!0,darkcyan:!0,darkgoldenrod:!0,darkgray:!0,darkgreen:!0,darkgrey:!0,darkkhaki:!0,darkmagenta:!0,darkolivegreen:!0,darkorange:!0,darkorchid:!0,darkred:!0,darksalmon:!0,darkseagreen:!0,darkslateblue:!0,darkslategray:!0,darkslategrey:!0,darkturquoise:!0,darkviolet:!0,deeppink:!0,deepskyblue:!0,dimgray:!0,dimgrey:!0,dodgerblue:!0,
firebrick:!0,floralwhite:!0,forestgreen:!0,fuchsia:!0,gainsboro:!0,ghostwhite:!0,gold:!0,goldenrod:!0,gray:!0,green:!0,greenyellow:!0,grey:!0,honeydew:!0,hotpink:!0,indianred:!0,indigo:!0,ivory:!0,khaki:!0,lavender:!0,lavenderblush:!0,lawngreen:!0,lemonchiffon:!0,lightblue:!0,lightcoral:!0,lightcyan:!0,lightgoldenrodyellow:!0,lightgray:!0,lightgreen:!0,lightgrey:!0,lightpink:!0,lightsalmon:!0,lightseagreen:!0,lightskyblue:!0,lightslategray:!0,lightslategrey:!0,lightsteelblue:!0,lightyellow:!0,lime:!0,
limegreen:!0,linen:!0,magenta:!0,maroon:!0,mediumaquamarine:!0,mediumblue:!0,mediumorchid:!0,mediumpurple:!0,mediumseagreen:!0,mediumslateblue:!0,mediumspringgreen:!0,mediumturquoise:!0,mediumvioletred:!0,midnightblue:!0,mintcream:!0,mistyrose:!0,moccasin:!0,navajowhite:!0,navy:!0,oldlace:!0,olive:!0,olivedrab:!0,orange:!0,orangered:!0,orchid:!0,palegoldenrod:!0,palegreen:!0,paleturquoise:!0,palevioletred:!0,papayawhip:!0,peachpuff:!0,peru:!0,pink:!0,plum:!0,powderblue:!0,purple:!0,red:!0,rosybrown:!0,
royalblue:!0,saddlebrown:!0,salmon:!0,sandybrown:!0,seagreen:!0,seashell:!0,sienna:!0,silver:!0,skyblue:!0,slateblue:!0,slategray:!0,slategrey:!0,snow:!0,springgreen:!0,steelblue:!0,tan:!0,teal:!0,thistle:!0,tomato:!0,turquoise:!0,violet:!0,wheat:!0,white:!0,whitesmoke:!0,yellow:!0,yellowgreen:!0,activeborder:!0,activecaption:!0,appworkspace:!0,background:!0,buttonface:!0,buttonhighlight:!0,buttonshadow:!0,buttontext:!0,captiontext:!0,graytext:!0,highlight:!0,highlighttext:!0,inactiveborder:!0,inactivecaption:!0,
inactivecaptiontext:!0,infobackground:!0,infotext:!0,menu:!0,menutext:!0,scrollbar:!0,threeddarkshadow:!0,threedface:!0,threedhighlight:!0,threedlightshadow:!0,threedshadow:!0,window:!0,windowframe:!0,windowtext:!0},kLIST_STYLE_TYPE_NAMES:{decimal:!0,"decimal-leading-zero":!0,"lower-roman":!0,"upper-roman":!0,georgian:!0,armenian:!0,"lower-latin":!0,"lower-alpha":!0,"upper-latin":!0,"upper-alpha":!0,"lower-greek":!0,disc:!0,circle:!0,square:!0,none:!0,box:!0,check:!0,diamond:!0,hyphen:!0,"lower-armenian":!0,
"cjk-ideographic":!0,"ethiopic-numeric":!0,hebrew:!0,"japanese-formal":!0,"japanese-informal":!0,"simp-chinese-formal":!0,"simp-chinese-informal":!0,syriac:!0,tamil:!0,"trad-chinese-formal":!0,"trad-chinese-informal":!0,"upper-armenian":!0,"arabic-indic":!0,binary:!0,bengali:!0,cambodian:!0,khmer:!0,devanagari:!0,gujarati:!0,gurmukhi:!0,kannada:!0,"lower-hexadecimal":!0,lao:!0,malayalam:!0,mongolian:!0,myanmar:!0,octal:!0,oriya:!0,persian:!0,urdu:!0,telugu:!0,tibetan:!0,"upper-hexadecimal":!0,afar:!0,
"ethiopic-halehame-aa-et":!0,"ethiopic-halehame-am-et":!0,"amharic-abegede":!0,"ehiopic-abegede-am-et":!0,"cjk-earthly-branch":!0,"cjk-heavenly-stem":!0,ethiopic:!0,"ethiopic-abegede":!0,"ethiopic-abegede-gez":!0,"hangul-consonant":!0,hangul:!0,"hiragana-iroha":!0,hiragana:!0,"katakana-iroha":!0,katakana:!0,"lower-norwegian":!0,oromo:!0,"ethiopic-halehame-om-et":!0,sidama:!0,"ethiopic-halehame-sid-et":!0,somali:!0,"ethiopic-halehame-so-et":!0,tigre:!0,"ethiopic-halehame-tig":!0,"tigrinya-er-abegede":!0,
"ethiopic-abegede-ti-er":!0,"tigrinya-et":!0,"ethiopic-halehame-ti-et":!0,"upper-greek":!0,asterisks:!0,footnotes:!0,"circled-decimal":!0,"circled-lower-latin":!0,"circled-upper-latin":!0,"dotted-decimal":!0,"double-circled-decimal":!0,"filled-circled-decimal":!0,"parenthesised-decimal":!0,"parenthesised-lower-latin":!0},reportError:function(a){this.mError=a},consumeError:function(){var a=this.mError;this.mError=null;return a},currentToken:function(){return this.mToken},getHexValue:function(){return this.mToken=
this.mScanner.nextHexValue()},getToken:function(a,h){if(this.mLookAhead)return this.mToken=this.mLookAhead,this.mLookAhead=null,this.mToken;for(this.mToken=this.mScanner.nextToken();this.mToken&&(a&&this.mToken.isWhiteSpace()||h&&this.mToken.isComment());)this.mToken=this.mScanner.nextToken();return this.mToken},lookAhead:function(a,h){var b=this.mToken;this.mScanner.preserveState();var e=this.getToken(a,h);this.mScanner.restoreState();this.mToken=b;return e},ungetToken:function(){this.mLookAhead=
this.mToken},addUnknownAtRule:function(a,h){for(var b=CountLF(this.mScanner.getAlreadyScanned()),e=[],g=this.getToken(!1,!1);g.isNotNull();){h+=g.value;if(g.isSymbol(";")&&!e.length)break;else if(g.isSymbol("{")||g.isSymbol("(")||g.isSymbol("[")||"function"==g.type)e.push(g.isFunction()?"(":g.value);else if((g.isSymbol("}")||g.isSymbol(")")||g.isSymbol("]"))&&e.length){var f=e[e.length-1];if(g.isSymbol("}")&&"{"==f||g.isSymbol(")")&&"("==f||g.isSymbol("]")&&"["==f)if(e.pop(),!e.length&&g.isSymbol("}"))break}g=
this.getToken(!1,!1)}this.addUnknownRule(a,h,b)},addUnknownRule:function(a,h,b){var e=this.consumeError(),e=new jscsspErrorRule(e);e.currentLine=b;e.parsedCssText=h;e.parentStyleSheet=a;a.cssRules.push(e)},addWhitespace:function(a,h){var b=new jscsspWhitespace;b.parsedCssText=h;b.parentStyleSheet=a;a.cssRules.push(b)},addComment:function(a,h){var b=new jscsspComment;b.parsedCssText=h;b.parentStyleSheet=a;a.cssRules.push(b)},parseCharsetRule:function(a,h){var b=a.value,e=this.getToken(!1,!1),b=b+e.value;
if(e.isWhiteSpace(" "))if(e=this.getToken(!1,!1),b+=e.value,e.isString()){var g=e.value,e=this.getToken(!1,!1),b=b+e.value;if(e.isSymbol(";"))return e=new jscsspCharsetRule,e.encoding=g,e.parsedCssText=b,e.parentStyleSheet=h,h.cssRules.push(e),!0;this.reportError(kCHARSET_RULE_MISSING_SEMICOLON)}else this.reportError(kCHARSET_RULE_CHARSET_IS_STRING);else this.reportError(kCHARSET_RULE_MISSING_WS);this.addUnknownAtRule(h,b);return!1},parseImportRule:function(a,h){var b=CountLF(this.mScanner.getAlreadyScanned()),
e=a.value;this.preserveState();var g=this.getToken(!0,!0),f=[],l="";if(g.isString())l=g.value,e+=" "+l;else if(g.isFunction("url(")){if(g=this.getToken(!0,!0),g=this.parseURL(g))l="url("+g,e+=" "+l}else this.reportError(kIMPORT_RULE_MISSING_URL);if(l){for(g=this.getToken(!0,!0);g.isIdent();){e+=" "+g.value;f.push(g.value);g=this.getToken(!0,!0);if(!g)break;if(g.isSymbol(","))e+=",";else{g.isSymbol(";");break}g=this.getToken(!0,!0)}f.length||f.push("all");if(g.isSymbol(";"))return e+=";",this.forgetState(),
g=new jscsspImportRule,g.currentLine=b,g.parsedCssText=e,g.href=l,g.media=f,g.parentStyleSheet=h,h.cssRules.push(g),!0}this.restoreState();this.addUnknownAtRule(h,"@import");return!1},parseVariablesRule:function(a,h){var b=CountLF(this.mScanner.getAlreadyScanned()),e=a.value,g=[],f=!1;this.preserveState();a=this.getToken(!0,!0);for(var l=[],k=!1;a.isNotNull();){if(a.isIdent())if(k=!0,e+=" "+a.value,l.push(a.value),a=this.getToken(!0,!0),a.isSymbol(","))e+=",";else if(a.isSymbol("{"))this.ungetToken();
else{a.type=jscsspToken.NULL_TYPE;break}else if(a.isSymbol("{"))break;else if(k){a.type=jscsspToken.NULL_TYPE;break}a=this.getToken(!0,!0)}if(a.isSymbol("{"))for(e+=" {",a=this.getToken(!0,!0);;){if(!a.isNotNull()){f=!0;break}if(a.isSymbol("}")){e+="}";f=!0;break}else f=this.parseDeclaration(a,g,!0,!1,h),e+=(f&&g.length?" ":"")+f;a=this.getToken(!0,!1)}if(f)return this.forgetState(),f=new jscsspVariablesRule,f.currentLine=b,f.parsedCssText=e,f.declarations=g,f.media=l,f.parentStyleSheet=h,h.cssRules.push(f),
!0;this.restoreState();return!1},parseNamespaceRule:function(a,h){var b=CountLF(this.mScanner.getAlreadyScanned()),e=a.value;this.preserveState();var g=this.getToken(!0,!0);if(g.isNotNull()){var f="",l="";g.isIdent()&&(f=g.value,e+=" "+f,g=this.getToken(!0,!0));if(g){var k=!1;g.isString()?(k=!0,l=g.value,e+=" "+l):g.isFunction("url(")&&(g=this.getToken(!0,!0),g=this.parseURL(g))&&(l+="url("+g,k=!0,e+=" "+g)}if(k&&(g=this.getToken(!0,!0),g.isSymbol(";")))return e+=";",this.forgetState(),k=new jscsspNamespaceRule,
k.currentLine=b,k.parsedCssText=e,k.prefix=f,k.url=l,k.parentStyleSheet=h,h.cssRules.push(k),!0}this.restoreState();this.addUnknownAtRule(h,"@namespace");return!1},parseFontFaceRule:function(a,h){var b=CountLF(this.mScanner.getAlreadyScanned()),e=a.value,g=!1,f=[];this.preserveState();var l=this.getToken(!0,!0);if(l.isNotNull()&&l.isSymbol("{"))for(e+=" "+l.value,l=this.getToken(!0,!1);;){if(l.isSymbol("}")){e+="}";g=!0;break}else g=this.parseDeclaration(l,f,!1,!1,h),e+=(g&&f.length?" ":"")+g;l=this.getToken(!0,
!1)}if(g)return this.forgetState(),g=new jscsspFontFaceRule,g.currentLine=b,g.parsedCssText=e,g.descriptors=f,g.parentStyleSheet=h,h.cssRules.push(g),!0;this.restoreState();return!1},parsePageRule:function(a,h){var b=CountLF(this.mScanner.getAlreadyScanned()),e=a.value,g=!1,f=[];this.preserveState();var l=this.getToken(!0,!0),k="";if(l.isSymbol(":")||l.isIdent())l.isSymbol(":")&&(k=":",l=this.getToken(!1,!1)),l.isIdent()&&(k+=l.value,e+=" "+k,l=this.getToken(!0,!0));if(l.isNotNull()&&l.isSymbol("{"))for(e+=
" "+l.value,l=this.getToken(!0,!1);;){if(l.isSymbol("}")){e+="}";g=!0;break}else g=this.parseDeclaration(l,f,!0,!0,h),e+=(g&&f.length?" ":"")+g;l=this.getToken(!0,!1)}if(g)return this.forgetState(),g=new jscsspPageRule,g.currentLine=b,g.parsedCssText=e,g.pageSelector=k,g.declarations=f,g.parentStyleSheet=h,h.cssRules.push(g),!0;this.restoreState();return!1},parseDefaultPropertyValue:function(a,h,b,e,g){b="";for(var f=[],l=[];a.isNotNull();){if((a.isSymbol(";")||a.isSymbol("}")||a.isSymbol("!"))&&
!f.length){a.isSymbol("}")&&this.ungetToken();break}if(a.isIdent(this.kINHERIT)){if(l.length)return"";b=this.kINHERIT;var k=new jscsspVariable(kJscsspINHERIT_VALUE,g);l.push(k);this.getToken(!0,!0);break}else a.isSymbol("{")||a.isSymbol("(")||a.isSymbol("[")?f.push(a.value):(a.isSymbol("}")||a.isSymbol("]"))&&f.length&&(k=f[f.length-1],(a.isSymbol("}")&&"{"==k||a.isSymbol(")")&&"("==k||a.isSymbol("]")&&"["==k)&&f.pop());if(a.isFunction())if(a.isFunction("var("))if(a=this.getToken(!0,!0),a.isIdent()){var n=
a.value;a=this.getToken(!0,!0);if(a.isSymbol(")"))k=new jscsspVariable(kJscsspVARIABLE_VALUE,g),b+="var("+n+")",k.name=n,l.push(k);else return""}else return"";else if(n=a.value,a=this.getToken(!1,!0),a=this.parseFunctionArgument(a))b+=n+a,k=new jscsspVariable(kJscsspPRIMITIVE_VALUE,g),k.value=n+a,l.push(k);else return"";else if(a.isSymbol("#"))if(a=this.parseColor(a))b+=a,k=new jscsspVariable(kJscsspPRIMITIVE_VALUE,g),k.value=a,l.push(k);else return"";else a.isWhiteSpace()||a.isSymbol(",")||(k=new jscsspVariable(kJscsspPRIMITIVE_VALUE,
g),k.value=a.value,l.push(k)),b+=a.value;a=this.getToken(!1,!0)}return l.length&&b?(this.forgetState(),h.push(this._createJscsspDeclarationFromValuesArray(e,l,b)),b):""},parseMarginOrPaddingShorthand:function(a,h,b,e){for(var g=null,f=null,l=null,k=null,n=[];a.isNotNull();){if(a.isSymbol(";")||b&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!n.length&&a.isIdent(this.kINHERIT)){n.push(a.value);this.getToken(!0,!0);break}else if(a.isDimension()||a.isNumber("0")||
a.isPercentage()||a.isIdent("auto"))n.push(a.value);else return"";a=this.getToken(!0,!0)}switch(n.length){case 1:k=l=f=g=n[0];break;case 2:f=g=n[0];k=l=n[1];break;case 3:g=n[0];k=l=n[1];f=n[2];break;case 4:g=n[0];k=n[1];f=n[2];l=n[3];break;default:return""}this.forgetState();h.push(this._createJscsspDeclarationFromValue(e+"-top",g));h.push(this._createJscsspDeclarationFromValue(e+"-right",k));h.push(this._createJscsspDeclarationFromValue(e+"-bottom",f));h.push(this._createJscsspDeclarationFromValue(e+
"-left",l));return g+" "+k+" "+f+" "+l},parseBorderColorShorthand:function(a,h,b){var e=null,g=null,f=null,l=null;for(h=[];a.isNotNull();){if(a.isSymbol(";")||b&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!h.length&&a.isIdent(this.kINHERIT)){h.push(a.value);this.getToken(!0,!0);break}else if(a=this.parseColor(a))h.push(a);else return"";a=this.getToken(!0,!0)}switch(h.length){case 1:l=f=g=e=h[0];break;case 2:g=e=h[0];l=f=h[1];break;case 3:e=h[0];l=f=h[1];g=h[2];
break;case 4:e=h[0];l=h[1];g=h[2];f=h[3];break;default:return""}this.forgetState();return e+" "+l+" "+g+" "+f},parseCueShorthand:function(a,h,b){for(var e=h="",e=[],e=[];a.isNotNull();){if(a.isSymbol(";")||b&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!e.length&&a.isIdent(this.kINHERIT))e.push(a.value);else if(a.isIdent("none"))e.push(a.value);else if(a.isFunction("url("))if(a=this.getToken(!0,!0),a=this.parseURL(a))e.push("url("+a);else return"";else return"";
a=this.getToken(!0,!0)}switch(e.length){case 1:e=h=e[0];break;case 2:h=e[0];e=e[1];break;default:return""}this.forgetState();aDecl.push(this._createJscsspDeclarationFromValue("cue-before",h));aDecl.push(this._createJscsspDeclarationFromValue("cue-after",e));return h+" "+e},parsePauseShorthand:function(a,h,b){for(var e=h="",e=[],e=[];a.isNotNull();){if(a.isSymbol(";")||b&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!e.length&&a.isIdent(this.kINHERIT))e.push(a.value);
else if(a.isDimensionOfUnit("ms")||a.isDimensionOfUnit("s")||a.isPercentage()||a.isNumber("0"))e.push(a.value);else return"";a=this.getToken(!0,!0)}switch(e.length){case 1:e=h=e[0];break;case 2:h=e[0];e=e[1];break;default:return""}this.forgetState();aDecl.push(this._createJscsspDeclarationFromValue("pause-before",h));aDecl.push(this._createJscsspDeclarationFromValue("pause-after",e));return h+" "+e},parseBorderWidthShorthand:function(a,h,b){console.error("parseBorderWidthShorthand");h=null;for(h=
[];a.isNotNull();){if(a.isSymbol(";")||b&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!h.length&&a.isIdent(this.kINHERIT))h.push(a.value);else if(a.isDimension()||a.isNumber("0")||a.isIdent()&&a.value in this.kBORDER_WIDTH_NAMES)h.push(a.value);else return"";a=this.getToken(!0,!0)}switch(h.length){case 1:h=h[0];break;case 2:h=h[0];break;case 3:h=h[0];break;case 4:h=h[0];break;default:return""}this.forgetState();return h},parseBorderStyleShorthand:function(a,
h,b){for(var e=null,g=null,f=null,l=null,k=[];a.isNotNull();){if(a.isSymbol(";")||b&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!k.length&&a.isIdent(this.kINHERIT))k.push(a.value);else if(a.isIdent()&&a.value in this.kBORDER_STYLE_NAMES)k.push(a.value);else return"";a=this.getToken(!0,!0)}switch(k.length){case 1:l=f=g=e=k[0];break;case 2:g=e=k[0];l=f=k[1];break;case 3:e=k[0];l=f=k[1];g=k[2];break;case 4:e=k[0];l=k[1];g=k[2];f=k[3];break;default:return""}this.forgetState();
h.push(this._createJscsspDeclarationFromValue("border-top-style",e));h.push(this._createJscsspDeclarationFromValue("border-right-style",l));h.push(this._createJscsspDeclarationFromValue("border-bottom-style",g));h.push(this._createJscsspDeclarationFromValue("border-left-style",f));return e+" "+l+" "+g+" "+f},parseBorderEdgeOrOutlineShorthand:function(a,h,b,e){function g(a,b,e,f,g,h){b.push(a._createJscsspDeclarationFromValue(e+"-width",f));b.push(a._createJscsspDeclarationFromValue(e+"-style",g));
b.push(a._createJscsspDeclarationFromValue(e+"-color",h))}for(var f=null,l=null,k=null;a.isNotNull();){if(a.isSymbol(";")||b&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(f||l||k||!a.isIdent(this.kINHERIT))if(!f&&(a.isDimension()||a.isIdent()&&a.value in this.kBORDER_WIDTH_NAMES||a.isNumber("0")))f=a.value;else if(!l&&a.isIdent()&&a.value in this.kBORDER_STYLE_NAMES)l=a.value;else if(a="outline"==e&&a.isIdent("invert")?"invert":this.parseColor(a),!k&&a)k=a;else return"";
else k=l=f=this.kINHERIT;a=this.getToken(!0,!0)}this.forgetState();f=f?f:"medium";l=l?l:"none";k=k?k:"-moz-initial";"border"==e?(g(this,h,"border-top",f,l,k),g(this,h,"border-right",f,l,k),g(this,h,"border-bottom",f,l,k),g(this,h,"border-left",f,l,k)):g(this,h,e,f,l,k);return f+" "+l+" "+k},parseBackgroundShorthand:function(a,h,b){for(var e={left:!0,right:!0},g={top:!0,bottom:!0},f={left:!0,right:!0,top:!0,bottom:!0,center:!0},l=null,k=null,n=null,m=null,p=null;a.isNotNull();){if(a.isSymbol(";")||
b&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(l||k||n||m||p||!a.isIdent(this.kINHERIT))if(n||!a.isIdent("scroll")&&!a.isIdent("fixed"))if(!p&&(a.isIdent()&&a.value in f||a.isDimension()||a.isNumber("0")||a.isPercentage()))if(p=a.value,a=this.getToken(!0,!0),a.isDimension()||a.isNumber("0")||a.isPercentage())p+=" "+a.value;else if(a.isIdent()&&a.value in f){if(p in e&&a.value in e||p in g&&a.value in g)return"";p+=" "+a.value}else this.ungetToken(),p+=" center";
else if(!k&&(a.isIdent("repeat")||a.isIdent("repeat-x")||a.isIdent("repeat-y")||a.isIdent("no-repeat")))k=a.value;else if(m||!a.isFunction("url(")&&!a.isIdent("none"))if(!m&&(a.isFunction("-moz-linear-gradient(")||a.isFunction("-moz-radial-gradient(")||a.isFunction("-moz-repeating-linear-gradient(")||a.isFunction("-moz-repeating-radial-gradient(")))if(m=CssInspector.parseGradient(this,a))m=CssInspector.serializeGradient(m);else return"";else if(a=this.parseColor(a),!l&&a)l=a;else return"";else{if(m=
a.value,a.isFunction("url("))if(a=this.getToken(!0,!0),a=this.parseURL(a))m+=a;else return""}else n=a.value;else p=m=n=k=l=this.kINHERIT;a=this.getToken(!0,!0)}this.forgetState();l=l?l:"transparent";m=m?m:"none";k=k?k:"repeat";n=n?n:"scroll";p=p?p:"top left";h.push(this._createJscsspDeclarationFromValue("background-color",l));h.push(this._createJscsspDeclarationFromValue("background-image",m));h.push(this._createJscsspDeclarationFromValue("background-repeat",k));h.push(this._createJscsspDeclarationFromValue("background-attachment",
n));h.push(this._createJscsspDeclarationFromValue("background-position",p));return l+" "+m+" "+k+" "+n+" "+p},parseListStyleShorthand:function(a,h,b){for(var e={inside:!0,outside:!0},g=null,f=null,l=null;a.isNotNull();){if(a.isSymbol(";")||b&&a.isSymbol("!")||a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(!g&&!f&&!l&&a.isIdent(this.kINHERIT))l=f=g=this.kINHERIT;else if(!g&&a.isIdent()&&a.value in this.kLIST_STYLE_TYPE_NAMES)g=a.value;else if(!f&&a.isIdent()&&a.value in e)f=a.value;
else if(!l&&a.isFunction("url"))if(a=this.getToken(!0,!0),a=this.parseURL(a))l="url("+a;else return"";else if(!a.isIdent("none"))return"";a=this.getToken(!0,!0)}this.forgetState();g=g?g:"none";l=l?l:"none";f=f?f:"outside";h.push(this._createJscsspDeclarationFromValue("list-style-type",g));h.push(this._createJscsspDeclarationFromValue("list-style-position",f));h.push(this._createJscsspDeclarationFromValue("list-style-image",l));return g+" "+f+" "+l},parseFontShorthand:function(a,h,b){console.error("parseFontShorthand");
for(var e={italic:!0,oblique:!0},g={"small-caps":!0},f={bold:!0,bolder:!0,lighter:!0,100:!0,200:!0,300:!0,400:!0,500:!0,600:!0,700:!0,800:!0,900:!0},l={"xx-small":!0,"x-small":!0,small:!0,medium:!0,large:!0,"x-large":!0,"xx-large":!0,larger:!0,smaller:!0},k={caption:!0,icon:!0,menu:!0,"message-box":!0,"small-caption":!0,"status-bar":!0},n={serif:!0,"sans-serif":!0,cursive:!0,fantasy:!0,monospace:!0},m=null,p=null,q=null,r=null,t=null,v="",x=null,y=[],z=0;a.isNotNull();){if(a.isSymbol(";")||b&&a.isSymbol("!")||
a.isSymbol("}")){a.isSymbol("}")&&this.ungetToken();break}else if(m||p||q||r||t||v||x||!a.isIdent(this.kINHERIT))if(!x&&a.isIdent()&&a.value in k){x=a.value;break}else if(!m&&a.isIdent()&&a.value in e)m=a.value;else if(!p&&a.isIdent()&&a.value in g)p=a.value;else if(!q&&(a.isIdent()||a.isNumber())&&a.value in f)q=a.value;else if(!r&&(a.isIdent()&&a.value in l||a.isDimension()||a.isPercentage()))if(r=a.value,a=this.getToken(!1,!1),a.isSymbol("/"))if(a=this.getToken(!1,!1),!t&&(a.isDimension()||a.isNumber()||
a.isPercentage()))t=a.value;else return"";else this.ungetToken();else if(a.isIdent("normal")){if(z++,3<z)return""}else{if(v||!a.isString()&&!a.isIdent())return"";for(var B=!1;;){if(a.isNotNull())if(a.isSymbol(";")||b&&a.isSymbol("!")||a.isSymbol("}")){this.ungetToken();break}else if(a.isIdent()&&a.value in n){B=new jscsspVariable(kJscsspPRIMITIVE_VALUE,null);B.value=a.value;y.push(B);v+=a.value;break}else if(a.isString()||a.isIdent())B=new jscsspVariable(kJscsspPRIMITIVE_VALUE,null),B.value=a.value,
y.push(B),v+=a.value,B=!1;else if(!B&&a.isSymbol(","))v+=", ",B=!0;else return"";else break;a=this.getToken(!0,!0)}}else x=v=t=r=q=p=m=this.kINHERIT;a=this.getToken(!0,!0)}this.forgetState();return x?(h.push(this._createJscsspDeclarationFromValue("font",x)),x):(m?m:"normal")+" "+(p?p:"normal")+" "+(q?q:"normal")+" "+(r?r:"medium")+"/"+(t?t:"normal")+" "+(v?v:"-moz-initial")},_createJscsspDeclaration:function(a,h){var b=new jscsspDeclaration;b.property=a;b.value=this.trim11(h);b.parsedCssText=a+": "+
h+";";return b},_createJscsspDeclarationFromValue:function(a,h){var b=new jscsspDeclaration;b.property=a;var e=new jscsspVariable(kJscsspPRIMITIVE_VALUE,null);e.value=h;b.values=[e];b.valueText=h;b.parsedCssText=a+": "+h+";";return b},_createJscsspDeclarationFromValuesArray:function(a,h,b){var e=new jscsspDeclaration;e.property=a;e.values=h;e.valueText=b;e.parsedCssText=a+": "+b+";";return e},parseURL:function(a){var h="";if(a.isString())h+=a.value,a=this.getToken(!0,!0);else for(;;){if(!a.isNotNull())return this.reportError(kURL_EOF),
"";if(a.isWhiteSpace()&&(nextToken=this.lookAhead(!0,!0),!nextToken.isSymbol(")"))){this.reportError(kURL_WS_INSIDE);a=this.currentToken();break}if(a.isSymbol(")"))break;h+=a.value;a=this.getToken(!1,!1)}return a.isSymbol(")")?h+")":""},parseFunctionArgument:function(a){var h="";if(a.isString())h+=a.value,a=this.getToken(!0,!0);else for(var b=1;;){if(!a.isNotNull())return"";(a.isFunction()||a.isSymbol("("))&&b++;if(a.isSymbol(")")&&(b--,!b))break;h+=a.value;a=this.getToken(!1,!1)}return a.isSymbol(")")?
h+")":""},parseColor:function(a){var h="";if(a.isFunction("rgb(")||a.isFunction("rgba(")){var h=a.value,b=a.isFunction("rgba(");a=this.getToken(!0,!0);if(!a.isNumber()&&!a.isPercentage())return"";h+=a.value;a=this.getToken(!0,!0);if(!a.isSymbol(","))return"";h+=", ";a=this.getToken(!0,!0);if(!a.isNumber()&&!a.isPercentage())return"";h+=a.value;a=this.getToken(!0,!0);if(!a.isSymbol(","))return"";h+=", ";a=this.getToken(!0,!0);if(!a.isNumber()&&!a.isPercentage())return"";h+=a.value;if(b){a=this.getToken(!0,
!0);if(!a.isSymbol(","))return"";h+=", ";a=this.getToken(!0,!0);if(!a.isNumber())return"";h+=a.value}a=this.getToken(!0,!0);if(!a.isSymbol(")"))return"";h+=a.value}else if(a.isFunction("hsl(")||a.isFunction("hsla(")){h=a.value;b=a.isFunction("hsla(");a=this.getToken(!0,!0);if(!a.isNumber())return"";h+=a.value;a=this.getToken(!0,!0);if(!a.isSymbol(","))return"";h+=", ";a=this.getToken(!0,!0);if(!a.isPercentage())return"";h+=a.value;a=this.getToken(!0,!0);if(!a.isSymbol(","))return"";h+=", ";a=this.getToken(!0,
!0);if(!a.isPercentage())return"";h+=a.value;if(b){a=this.getToken(!0,!0);if(!a.isSymbol(","))return"";h+=", ";a=this.getToken(!0,!0);if(!a.isNumber())return"";h+=a.value}a=this.getToken(!0,!0);if(!a.isSymbol(")"))return"";h+=a.value}else if(a.isIdent()&&a.value in this.kCOLOR_NAMES)h=a.value;else if(a.isSymbol("#")){a=this.getHexValue();if(!a.isHex())return"";h=a.value.length;if(3!=h&&6!=h||a.value.match(/[a-fA-F0-9]/g).length!=h)return"";h="#"+a.value}return h},parseDeclaration:function(a,h,b,e,
g){this.preserveState();var f=[];e=!1;if(a.isIdent()){if(f=a.value.toLowerCase(),a=this.getToken(!0,!0),a.isSymbol(":")){a=this.getToken(!0,!0);var l="",k=[];if(e)switch(f){case "background":l=this.parseBackgroundShorthand(a,k,b);break;case "margin":case "padding":l=this.parseMarginOrPaddingShorthand(a,k,b,f);break;case "border-color":l=this.parseBorderColorShorthand(a,k,b);break;case "border-style":l=this.parseBorderStyleShorthand(a,k,b);break;case "border-width":l=this.parseBorderWidthShorthand(a,
k,b);break;case "border-top":case "border-right":case "border-bottom":case "border-left":case "border":case "outline":l=this.parseBorderEdgeOrOutlineShorthand(a,k,b,f);break;case "cue":l=this.parseCueShorthand(a,k,b);break;case "pause":l=this.parsePauseShorthand(a,k,b);break;case "font":l=this.parseFontShorthand(a,k,b);break;case "list-style":l=this.parseListStyleShorthand(a,k,b);break;default:l=this.parseDefaultPropertyValue(a,k,b,f,g)}else l=this.parseDefaultPropertyValue(a,k,b,f,g);a=this.currentToken();
if(l){b=!1;if(a.isSymbol("!"))if(a=this.getToken(!0,!0),a.isIdent("important"))if(b=!0,a=this.getToken(!0,!0),a.isSymbol(";")||a.isSymbol("}"))a.isSymbol("}")&&this.ungetToken();else return"";else return"";else if(a.isNotNull()&&!a.isSymbol(";")&&!a.isSymbol("}"))return"";for(a=0;a<k.length;a++)k[a].priority=b,h.push(k[a]);return f+": "+l+";"}}}else if(a.isComment())return this.mPreserveComments&&(this.forgetState(),b=new jscsspComment,b.parsedCssText=a.value,h.push(b)),a.value;this.restoreState();
f=[];for(a=this.getToken(!1,!1);a.isNotNull();){if(!a.isSymbol(";")&&!a.isSymbol("}")||f.length)a.isSymbol("{")||a.isSymbol("(")||a.isSymbol("[")||a.isFunction()?f.push(a.isFunction()?"(":a.value):(a.isSymbol("}")||a.isSymbol(")")||a.isSymbol("]"))&&f.length&&(h=f[f.length-1],(a.isSymbol("}")&&"{"==h||a.isSymbol(")")&&"("==h||a.isSymbol("]")&&"["==h)&&f.pop());else{a.isSymbol("}")&&this.ungetToken();break}a=this.getToken(!1,!1)}return""},parseKeyframesRule:function(a,h){var b=CountLF(this.mScanner.getAlreadyScanned()),
e=a.value,g=!1,f=new jscsspKeyframesRule;f.currentLine=b;this.preserveState();for(var l=this.getToken(!0,!0),k=!1;l.isNotNull();){if(l.isIdent())if(k=!0,e+=" "+l.value,f.name=l.value,l=this.getToken(!0,!0),l.isSymbol("{"))this.ungetToken();else{l.type=jscsspToken.NULL_TYPE;break}else{l.isSymbol("{")?k||(l.type=jscsspToken.NULL_TYPE):l.type=jscsspToken.NULL_TYPE;break}l=this.getToken(!0,!0)}if(l.isSymbol("{")&&f.name)for(e+=" { ",l=this.getToken(!0,!1);l.isNotNull();){if(l.isComment()&&this.mPreserveComments)e+=
" "+l.value,k=new jscsspComment,k.parsedCssText=l.value,f.cssRules.push(k);else if(l.isSymbol("}")){g=!0;break}else(l=this.parseKeyframeRule(l,f,!0))&&(e+=l);l=this.getToken(!0,!1)}if(g)return this.forgetState(),f.currentLine=b,f.parsedCssText=e,h.cssRules.push(f),!0;this.restoreState();return!1},parseKeyframeRule:function(a,h){var b=CountLF(this.mScanner.getAlreadyScanned());this.preserveState();for(var e=a,g="";e.isNotNull();){if(e.isIdent()||e.isPercentage()){if(e.isIdent()&&!e.isIdent("from")&&
!e.isIdent("to")){g="";break}g+=e.value;e=this.getToken(!0,!0);if(e.isSymbol("{")){this.ungetToken();break}else if(e.isSymbol(","))g+=", ";else{g="";break}}else{g="";break}e=this.getToken(!0,!0)}var f=!1,l=[];if(g){var k=g,e=this.getToken(!0,!0);if(e.isSymbol("{"))for(k+=" { ",e=this.getToken(!0,!1);;){if(!e.isNotNull()){f=!0;break}if(e.isSymbol("}")){k+="}";f=!0;break}else e=this.parseDeclaration(e,l,!0,!0,h),k+=(e&&l.length?" ":"")+e;e=this.getToken(!0,!1)}}if(f)return e=new jscsspKeyframeRule,
e.currentLine=b,e.parsedCssText=k,e.declarations=l,e.keyText=g,e.parentRule=h,h.cssRules.push(e),k;this.restoreState();k=this.currentToken().value;this.addUnknownAtRule(h,k);return""},parseMediaRule:function(a,h){var b=CountLF(this.mScanner.getAlreadyScanned()),e=a.value,g=!1,f=new jscsspMediaRule;f.currentLine=b;this.preserveState();for(var b=this.getToken(!0,!0),l=!1;b.isNotNull();){if(b.isIdent())if(l=!0,e+=" "+b.value,f.media.push(b.value),b=this.getToken(!0,!0),b.isSymbol(","))e+=",";else if(b.isSymbol("{"))this.ungetToken();
else{b.type=jscsspToken.NULL_TYPE;break}else if(b.isSymbol("{"))break;else if(l){b.type=jscsspToken.NULL_TYPE;break}b=this.getToken(!0,!0)}if(b.isSymbol("{")&&f.media.length)for(e+=" { ",b=this.getToken(!0,!1);b.isNotNull();){if(b.isComment()&&this.mPreserveComments)e+=" "+b.value,l=new jscsspComment,l.parsedCssText=b.value,f.cssRules.push(l);else if(b.isSymbol("}")){g=!0;break}else(b=this.parseStyleRule(b,f,!0))&&(e+=b);b=this.getToken(!0,!1)}if(g)return this.forgetState(),f.parsedCssText=e,h.cssRules.push(f),
!0;this.restoreState();return!1},trim11:function(a){a=a.replace(/^\s+/,"");for(var h=a.length-1;0<=h;h--)if(/\S/.test(a.charAt(h))){a=a.substring(0,h+1);break}return a},parseStyleRule:function(a,h,b){var e=CountLF(this.mScanner.getAlreadyScanned());this.preserveState();a=this.parseSelector(a,!1);var g=!1,f=[];if(a){var l=a=this.trim11(a.selector),k=this.getToken(!0,!0);if(k.isSymbol("{"))for(l+=" { ",k=this.getToken(!0,!1);;){if(!k.isNotNull()){g=!0;break}if(k.isSymbol("}")){l+="}";g=!0;break}else g=
this.parseDeclaration(k,f,!0,!0,h),l+=(g&&f.length?" ":"")+g;k=this.getToken(!0,!1)}}if(g)return g=new jscsspStyleRule,g.currentLine=e,g.parsedCssText=l,g.declarations=f,g.mSelectorText=a,b?g.parentRule=h:g.parentStyleSheet=h,h.cssRules.push(g),l;this.restoreState();l=this.currentToken().value;this.addUnknownAtRule(h,l);return""},parseSelector:function(a,h){for(var b="",e={a:0,b:0,c:0,d:0},g=!0,f=a,l=!1,k=!1;;){if(!f.isNotNull())return h?{selector:b,specificity:e}:"";if(!h&&f.isSymbol("{")){(l=!k)&&
this.ungetToken();break}if(f.isSymbol(","))b+=f.value,g=!0,k=!1,f=this.getToken(!1,!0);else if(!k&&(f.isWhiteSpace()||f.isSymbol(">")||f.isSymbol("+")||f.isSymbol("~"))){if(f.isWhiteSpace()){b+=" ";g=this.lookAhead(!0,!0);if(!g.isNotNull())return h?{selector:b,specificity:e}:"";if(g.isSymbol(">")||g.isSymbol("+")||g.isSymbol("~"))f=this.getToken(!0,!0),b+=f.value+" ",k=!0}else b+=f.value,k=!0;g=!0;f=this.getToken(!0,!0)}else{k=this.parseSimpleSelector(f,g,!0);if(!k)break;b+=k.selector;e.b+=k.specificity.b;
e.c+=k.specificity.c;e.d+=k.specificity.d;k=g=!1;f=this.getToken(!1,!0)}}return l?{selector:b,specificity:e}:""},isPseudoElement:function(a){switch(a){case "first-letter":case "first-line":case "before":case "after":case "marker":return!0;default:return!1}},parseSimpleSelector:function(a,h,b){var e="",g={a:0,b:0,c:0,d:0};if(h&&(a.isSymbol("*")||a.isSymbol("|")||a.isIdent()))if(a.isSymbol("*")||a.isIdent())if(e+=a.value,h=a.isIdent(),a=this.getToken(!1,!0),a.isSymbol("|"))if(e+=a.value,a=this.getToken(!1,
!0),a.isIdent()||a.isSymbol("*"))e+=a.value,a.isIdent()&&g.d++;else return null;else this.ungetToken(),h&&g.d++;else{if(a.isSymbol("|"))if(e+=a.value,a=this.getToken(!1,!0),a.isIdent()||a.isSymbol("*"))e+=a.value,a.isIdent()&&g.d++;else return null}else if(a.isSymbol(".")||a.isSymbol("#"))if(h=a.isSymbol("."),e+=a.value,a=this.getToken(!1,!0),a.isIdent())e+=a.value,h?g.c++:g.b++;else return null;else if(a.isSymbol(":"))if(e+=a.value,a=this.getToken(!1,!0),a.isSymbol(":")&&(e+=a.value,a=this.getToken(!1,
!0)),a.isIdent())e+=a.value,this.isPseudoElement(a.value)?g.d++:g.c++;else if(a.isFunction()){e+=a.value;if(a.isFunction(":not(")){if(!b)return null;a=this.getToken(!0,!0);if(a=this.parseSimpleSelector(a,h,!1))if(e+=a.selector,a=this.getToken(!0,!0),a.isSymbol(")"))e+=")";else return null;else return null}else for(;;)if(a=this.getToken(!1,!0),a.isSymbol(")")){e+=")";break}else e+=a.value;g.c++}else return null;else if(a.isSymbol("[")){e+="[";a=this.getToken(!0,!0);if(a.isIdent()||a.isSymbol("*"))if(e+=
a.value,this.getToken(!0,!0),a.isSymbol("|"))if(e+="|",a=this.getToken(!0,!0),a.isIdent())e+=a.value;else return null;else this.ungetToken();else if(a.isSymbol("|"))if(e+="|",a=this.getToken(!0,!0),a.isIdent())e+=a.value;else return null;else return null;a=this.getToken(!0,!0);if(a.isIncludes()||a.isDashmatch()||a.isBeginsmatch()||a.isEndsmatch()||a.isContainsmatch()||a.isSymbol("="))if(e+=a.value,a=this.getToken(!0,!0),a.isString()||a.isIdent())e+=a.value,a=this.getToken(!0,!0);else return null;
if(a.isSymbol("]"))e+=a.value,g.c++;else return null}else if(a.isWhiteSpace()&&this.lookAhead(!0,!0).isSymbol("{"))return"";return e?{selector:e,specificity:g}:null},preserveState:function(){this.mPreservedTokens.push(this.currentToken());this.mScanner.preserveState()},restoreState:function(){this.mPreservedTokens.length&&(this.mScanner.restoreState(),this.mToken=this.mPreservedTokens.pop())},forgetState:function(){this.mPreservedTokens.length&&(this.mScanner.forgetState(),this.mPreservedTokens.pop())},
parse:function(a,h,b){if(!a)return null;this.mPreserveWS=h;this.mPreserveComments=b;this.mPreservedTokens=[];this.mScanner.init(a);a=new jscsspStylesheet;b=this.getToken(!1,!1);if(b.isNotNull()){b.isAtRule("@charset")&&(this.parseCharsetRule(b,a),b=this.getToken(!1,!1));for(var e=!1,g=!1,f=!1;b.isNotNull();)b.isWhiteSpace()?h&&this.addWhitespace(a,b.value):b.isComment()?this.mPreserveComments&&this.addComment(a,b.value):b.isAtRule()?b.isAtRule("@variables")?g||e?(this.reportError(kVARIABLES_RULE_POSITION),
this.addUnknownAtRule(a,b.value)):this.parseVariablesRule(b,a):b.isAtRule("@import")?e||f?(this.reportError(kIMPORT_RULE_POSITION),this.addUnknownAtRule(a,b.value)):g=this.parseImportRule(b,a):b.isAtRule("@namespace")?e?(this.reportError(kNAMESPACE_RULE_POSITION),this.addUnknownAtRule(a,b.value)):f=this.parseNamespaceRule(b,a):b.isAtRule("@font-face")?this.parseFontFaceRule(b,a)?e=!0:this.addUnknownAtRule(a,b.value):b.isAtRule("@page")?this.parsePageRule(b,a)?e=!0:this.addUnknownAtRule(a,b.value):
b.isAtRule("@media")?this.parseMediaRule(b,a)?e=!0:this.addUnknownAtRule(a,b.value):b.isAtRule("@keyframes")?this.parseKeyframesRule(b,a)||this.addUnknownAtRule(a,b.value):(b.isAtRule("@charset")?this.reportError(kCHARSET_RULE_CHARSET_SOF):this.reportError(kUNKNOWN_AT_RULE),this.addUnknownAtRule(a,b.value)):this.parseStyleRule(b,a,!1)&&(e=!0),b=this.getToken(!1);return a}}};function jscsspToken(a,h,b){this.type=a;this.value=h;this.unit=b}jscsspToken.NULL_TYPE=0;jscsspToken.WHITESPACE_TYPE=1;
jscsspToken.STRING_TYPE=2;jscsspToken.COMMENT_TYPE=3;jscsspToken.NUMBER_TYPE=4;jscsspToken.IDENT_TYPE=5;jscsspToken.FUNCTION_TYPE=6;jscsspToken.ATRULE_TYPE=7;jscsspToken.INCLUDES_TYPE=8;jscsspToken.DASHMATCH_TYPE=9;jscsspToken.BEGINSMATCH_TYPE=10;jscsspToken.ENDSMATCH_TYPE=11;jscsspToken.CONTAINSMATCH_TYPE=12;jscsspToken.SYMBOL_TYPE=13;jscsspToken.DIMENSION_TYPE=14;jscsspToken.PERCENTAGE_TYPE=15;jscsspToken.HEX_TYPE=16;
jscsspToken.prototype={isNotNull:function(){return this.type},_isOfType:function(a,h){return this.type==a&&(!h||this.value.toLowerCase()==h)},isWhiteSpace:function(a){return this._isOfType(jscsspToken.WHITESPACE_TYPE,a)},isString:function(){return this._isOfType(jscsspToken.STRING_TYPE)},isComment:function(){return this._isOfType(jscsspToken.COMMENT_TYPE)},isNumber:function(a){return this._isOfType(jscsspToken.NUMBER_TYPE,a)},isSymbol:function(a){return this._isOfType(jscsspToken.SYMBOL_TYPE,a)},
isIdent:function(a){return this._isOfType(jscsspToken.IDENT_TYPE,a)},isFunction:function(a){return this._isOfType(jscsspToken.FUNCTION_TYPE,a)},isAtRule:function(a){return this._isOfType(jscsspToken.ATRULE_TYPE,a)},isIncludes:function(){return this._isOfType(jscsspToken.INCLUDES_TYPE)},isDashmatch:function(){return this._isOfType(jscsspToken.DASHMATCH_TYPE)},isBeginsmatch:function(){return this._isOfType(jscsspToken.BEGINSMATCH_TYPE)},isEndsmatch:function(){return this._isOfType(jscsspToken.ENDSMATCH_TYPE)},
isContainsmatch:function(){return this._isOfType(jscsspToken.CONTAINSMATCH_TYPE)},isSymbol:function(a){return this._isOfType(jscsspToken.SYMBOL_TYPE,a)},isDimension:function(){return this._isOfType(jscsspToken.DIMENSION_TYPE)},isPercentage:function(){return this._isOfType(jscsspToken.PERCENTAGE_TYPE)},isHex:function(){return this._isOfType(jscsspToken.HEX_TYPE)},isDimensionOfUnit:function(a){return this.isDimension()&&this.unit==a},isLength:function(){return this.isPercentage()||this.isDimensionOfUnit("cm")||
this.isDimensionOfUnit("mm")||this.isDimensionOfUnit("in")||this.isDimensionOfUnit("pc")||this.isDimensionOfUnit("px")||this.isDimensionOfUnit("em")||this.isDimensionOfUnit("ex")||this.isDimensionOfUnit("pt")},isAngle:function(){return this.isDimensionOfUnit("deg")||this.isDimensionOfUnit("rad")||this.isDimensionOfUnit("grad")}};
var kJscsspUNKNOWN_RULE=0,kJscsspSTYLE_RULE=1,kJscsspCHARSET_RULE=2,kJscsspIMPORT_RULE=3,kJscsspMEDIA_RULE=4,kJscsspFONT_FACE_RULE=5,kJscsspPAGE_RULE=6,kJscsspKEYFRAMES_RULE=7,kJscsspKEYFRAME_RULE=8,kJscsspNAMESPACE_RULE=100,kJscsspCOMMENT=101,kJscsspWHITE_SPACE=102,kJscsspVARIABLES_RULE=200,kJscsspSTYLE_DECLARATION=1E3,gTABS="";function jscsspStylesheet(){this.cssRules=[];this.variables={};this.path=null}
jscsspStylesheet.prototype={path:null,insertRule:function(a,h){try{this.cssRules.splice(h,1,a)}catch(b){}},deleteRule:function(a){try{this.cssRules.splice(a)}catch(h){}},cssText:function(){for(var a="",h=0;h<this.cssRules.length;h++)a+=this.cssRules[h].cssText()+"\n";return a},resolveVariables:function(a){for(var h=0;h<this.cssRules.length;h++){var b=this.cssRules[h];if(b.type==kJscsspSTYLE_RULE||b.type==kJscsspIMPORT_RULE)break;else{var e;if((e=b.type==kJscsspVARIABLES_RULE)&&!(e=!b.media.length))a:{e=
b.media;for(var g=0;g<e.length;g++)if(a==e[g]){e=!0;break a}e=!1}if(e)for(e=0;e<b.declarations.length;e++){for(var g="",f=0;f<b.declarations[e].values.length;f++)g+=(f?" ":"")+b.declarations[e].values[f].value;this.variables[b.declarations[e].property]=g}}}}};function jscsspCharsetRule(){this.type=kJscsspCHARSET_RULE;this.parentRule=this.parentStyleSheet=this.parsedCssText=this.encoding=null}
jscsspCharsetRule.prototype={cssText:function(){return"@charset "+this.encoding+";"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!1,!1);if(b.isAtRule("@charset")&&a.parseCharsetRule(b,h))h=h.cssRules[0],this.encoding=h.encoding,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;}};function jscsspErrorRule(a){this.error=a?a:"INVALID";this.type=kJscsspUNKNOWN_RULE;this.parentRule=this.parentStyleSheet=this.parsedCssText=null}
jscsspErrorRule.prototype={cssText:function(){return this.parsedCssText}};function jscsspComment(){this.type=kJscsspCOMMENT;this.parentRule=this.parentStyleSheet=this.parsedCssText=null}jscsspComment.prototype={cssText:function(){return this.parsedCssText},setCssText:function(a){a=(new CSSParser(a)).getToken(!0,!1);if(a.isComment())this.parsedCssText=a.value;else throw DOMException.SYNTAX_ERR;}};
function jscsspWhitespace(){this.type=kJscsspWHITE_SPACE;this.parentRule=this.parentStyleSheet=this.parsedCssText=null}jscsspWhitespace.prototype={cssText:function(){return this.parsedCssText}};function jscsspImportRule(){this.type=kJscsspIMPORT_RULE;this.href=this.parsedCssText=null;this.media=[];this.parentRule=this.parentStyleSheet=null}
jscsspImportRule.prototype={cssText:function(){var a=this.media.join(", ");return"@import "+this.href+(a&&"all"!=a?a+" ":"")+";"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!0,!0);if(b.isAtRule("@import")&&a.parseImportRule(b,h))h=h.cssRules[0],this.href=h.href,this.media=h.media,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;}};
function jscsspNamespaceRule(){this.type=kJscsspNAMESPACE_RULE;this.parentRule=this.parentStyleSheet=this.url=this.prefix=this.parsedCssText=null}
jscsspNamespaceRule.prototype={cssText:function(){return"@namespace "+(this.prefix?this.prefix+" ":"")+this.url+";"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!0,!0);if(b.isAtRule("@namespace")&&a.parseNamespaceRule(b,h))h=h.cssRules[0],this.url=h.url,this.prefix=h.prefix,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;}};
function jscsspDeclaration(){this.type=kJscsspSTYLE_DECLARATION;this.property=null;this.values=[];this.parentRule=this.parentStyleSheet=this.parsedCssText=this.priority=this.valueText=null}
jscsspDeclaration.prototype={kCOMMA_SEPARATED:{cursor:!0,"font-family":!0,"voice-family":!0,"background-image":!0},kUNMODIFIED_COMMA_SEPARATED_PROPERTIES:{"text-shadow":!0,"box-shadow":!0,"-moz-transition":!0,"-moz-transition-property":!0,"-moz-transition-duration":!0,"-moz-transition-timing-function":!0,"-moz-transition-delay":!0},cssText:function(){var a=CssInspector.prefixesForProperty(this.property);if(this.property in this.kUNMODIFIED_COMMA_SEPARATED_PROPERTIES){if(a){for(var h="",b=0;b<a.length;b++)var e=
a[b],h=h+((b?gTABS:"")+e+": "),h=h+(this.valueText+(this.priority?" !important":"")+";"),h=h+(1<a.length&&b!=a.length-1?"\n":"");return h}return this.property+": "+this.valueText+(this.priority?" !important":"")+";"}if(a){h="";for(b=0;b<a.length;b++){var e=a[b],h=h+((b?gTABS:"")+e+": "),e=e in this.kCOMMA_SEPARATED?", ":" ",g=0;for(;g<this.values.length;g++)if(null!=this.values[g].cssText())h+=(g?e:"")+this.values[g].cssText();else return null;h+=(this.priority?" !important":"")+";"+(1<a.length&&
b!=a.length-1?"\n":"")}return h}h=this.property+": ";e=this.property in this.kCOMMA_SEPARATED?", ":" ";a={webkit:!1,presto:!1,trident:!1,generic:!1};for(g=0;g<this.values.length;g++){var f=this.values[g].cssText();if(null!=f){var l=f.indexOf("("),k=f;-1!=l&&(k=f.substr(0,l));if(k in kCSS_VENDOR_VALUES)for(b in kCSS_VENDOR_VALUES[k])a[b]=a[b]||""!=kCSS_VENDOR_VALUES[k][b];h+=(g?e:"")+f}else return null}h+=(this.priority?" !important":"")+";";for(b in a)if(a[b]){for(var n="\n"+gTABS+this.property+": ",
g=0;g<this.values.length;g++)if(f=this.values[g].cssText(),null!=f){l=f.indexOf("(");k=f;-1!=l&&(k=f.substr(0,l));if(k in kCSS_VENDOR_VALUES&&(functor=kCSS_VENDOR_VALUES[k][b])&&(f="string"==typeof functor?functor:functor(f,b),!f)){n=null;break}n+=(g?e:"")+f}else return null;h=n?h+(n+";"):h+("\n"+gTABS+"/* Impossible to translate property "+this.property+" for "+b+" */")}return h},setCssText:function(a){var h=[];a=new CSSParser(a);var b=a.getToken(!0,!0);if(a.parseDeclaration(b,h,!0,!0,null)&&h.length&&
h[0].type==kJscsspSTYLE_DECLARATION)h=h.cssRules[0],this.property=h.property,this.value=h.value,this.priority=h.priority,this.parsedCssText=newRule.parsedCssText;else throw DOMException.SYNTAX_ERR;}};function jscsspFontFaceRule(){this.type=kJscsspFONT_FACE_RULE;this.parsedCssText=null;this.descriptors=[];this.parentRule=this.parentStyleSheet=null}
jscsspFontFaceRule.prototype={cssText:function(){var a=gTABS+"@font-face {\n",h=gTABS;gTABS+="  ";for(var b=0;b<this.descriptors.length;b++)a+=gTABS+this.descriptors[b].cssText()+"\n";gTABS=h;return a+gTABS+"}"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!0,!0);if(b.isAtRule("@font-face")&&a.parseFontFaceRule(b,h))h=h.cssRules[0],this.descriptors=h.descriptors,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;}};
function jscsspKeyframesRule(){this.type=kJscsspKEYFRAMES_RULE;this.parsedCssText=null;this.cssRules=[];this.parentRule=this.parentStyleSheet=this.name=null}
jscsspKeyframesRule.prototype={cssText:function(){var a=gTABS+"@keyframes "+this.name+" {\n",h=gTABS;gTABS+="  ";for(var b=0;b<this.cssRules.length;b++)a+=gTABS+this.cssRules[b].cssText()+"\n";gTABS=h;return a+=gTABS+"}\n"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!0,!0);if(b.isAtRule("@keyframes")&&a.parseKeyframesRule(b,h))h=h.cssRules[0],this.cssRules=h.cssRules,this.name=h.name,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;}};
function jscsspKeyframeRule(){this.type=kJscsspKEYFRAME_RULE;this.parsedCssText=null;this.declarations=[];this.parentRule=this.parentStyleSheet=this.keyText=null}
jscsspKeyframeRule.prototype={cssText:function(){var a=this.keyText+" {\n",h=gTABS;gTABS+="  ";for(var b=0;b<this.declarations.length;b++)this.declarations[b].cssText()&&(a+=gTABS+this.declarations[b].cssText()+"\n");gTABS=h;return a+gTABS+"}"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!0,!0);if(!b.isNotNull()&&a.parseKeyframeRule(b,h,!1))h=h.cssRules[0],this.keyText=h.keyText,this.declarations=h.declarations,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;
}};function jscsspMediaRule(){this.type=kJscsspMEDIA_RULE;this.parsedCssText=null;this.cssRules=[];this.media=[];this.parentRule=this.parentStyleSheet=null}
jscsspMediaRule.prototype={cssText:function(){var a=gTABS+"@media "+this.media.join(", ")+" {\n",h=gTABS;gTABS+="  ";for(var b=0;b<this.cssRules.length;b++)a+=gTABS+this.cssRules[b].cssText()+"\n";gTABS=h;return a+gTABS+"}"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!0,!0);if(b.isAtRule("@media")&&a.parseMediaRule(b,h))h=h.cssRules[0],this.cssRules=h.cssRules,this.media=h.media,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;}};
function jscsspStyleRule(){this.type=kJscsspSTYLE_RULE;this.parsedCssText=null;this.declarations=[];this.parentRule=this.parentStyleSheet=this.mSelectorText=null}
jscsspStyleRule.prototype={cssText:function(){var a=this.mSelectorText+" {\n",h=gTABS;gTABS+="  ";for(var b=0;b<this.declarations.length;b++)this.declarations[b].cssText()&&(a+=gTABS+this.declarations[b].cssText()+"\n");gTABS=h;return a+gTABS+"}"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!0,!0);if(!b.isNotNull()&&a.parseStyleRule(b,h,!1))h=h.cssRules[0],this.mSelectorText=h.mSelectorText,this.declarations=h.declarations,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;
},selectorText:function(){return this.mSelectorText},setSelectorText:function(a){a=new CSSParser(a);var h=a.getToken(!0,!0);if(!h.isNotNull()&&(a=a.parseSelector(h,!0))){this.mSelectorText=a.selector;return}throw DOMException.SYNTAX_ERR;}};function jscsspPageRule(){this.type=kJscsspPAGE_RULE;this.pageSelector=this.parsedCssText=null;this.declarations=[];this.parentRule=this.parentStyleSheet=null}
jscsspPageRule.prototype={cssText:function(){var a=gTABS+"@page "+(this.pageSelector?this.pageSelector+" ":"")+"{\n",h=gTABS;gTABS+="  ";for(var b=0;b<this.declarations.length;b++)a+=gTABS+this.declarations[b].cssText()+"\n";gTABS=h;return a+gTABS+"}"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!0,!0);if(b.isAtRule("@page")&&a.parsePageRule(b,h))h=h.cssRules[0],this.pageSelector=h.pageSelector,this.declarations=h.declarations,this.parsedCssText=h.parsedCssText;
else throw DOMException.SYNTAX_ERR;}};function jscsspVariablesRule(){this.type=kJscsspVARIABLES_RULE;this.parsedCssText=null;this.declarations=[];this.media=this.parentRule=this.parentStyleSheet=null}
jscsspVariablesRule.prototype={cssText:function(){var a=gTABS+"@variables "+(this.media.length?this.media.join(", ")+" ":"")+"{\n",h=gTABS;gTABS+="  ";for(var b=0;b<this.declarations.length;b++)a+=gTABS+this.declarations[b].cssText()+"\n";gTABS=h;return a+gTABS+"}"},setCssText:function(a){var h={cssRules:[]};a=new CSSParser(a);var b=a.getToken(!0,!0);if(b.isAtRule("@variables")&&a.parseVariablesRule(b,h))h=h.cssRules[0],this.declarations=h.declarations,this.parsedCssText=h.parsedCssText;else throw DOMException.SYNTAX_ERR;
}};var kJscsspINHERIT_VALUE=0,kJscsspPRIMITIVE_VALUE=1,kJscsspVARIABLE_VALUE=4;function jscsspVariable(a,h){this.value="";this.type=a;this.parentRule=this.name=null;this.parentStyleSheet=h}
jscsspVariable.prototype={cssText:function(){return this.type==kJscsspVARIABLE_VALUE?this.resolveVariable(this.name,this.parentRule,this.parentStyleSheet):this.value},setCssText:function(a){if(this.type==kJscsspVARIABLE_VALUE)throw DOMException.SYNTAX_ERR;this.value=a},resolveVariable:function(a,h,b){return a.toLowerCase()in b.variables?b.variables[a.toLowerCase()]:null}};
function ParseURL(a){for(var h={protocol:"",user:"",password:"",host:"",port:"",path:"",query:""},b="PROTOCOL",e=0,g=!1;e<a.length;)if("PROTOCOL"==b)":"==a.charAt(e)?(b="AFTER_PROTOCOL",e++):"/"==a.charAt(e)&&0==h.protocol.length()?b=PATH:h.protocol+=a.charAt(e++);else if("AFTER_PROTOCOL"==b)if("/"==a.charAt(e))g?(g=!1,b="USER"):g=!0,e++;else throw new ParseException("Protocol shell be separated with 2 slashes");else"USER"==b?"/"==a.charAt(e)?(h.host=h.user,h.user="",b="PATH"):"?"==a.charAt(e)?(h.host=
h.user,h.user="",b="QUERY",e++):":"==a.charAt(e)?(b="PASSWORD",e++):"@"==a.charAt(e)?(b="HOST",e++):h.user+=a.charAt(e++):"PASSWORD"==b?"/"==a.charAt(e)?(h.host=h.user,h.port=h.password,h.user="",h.password="",b="PATH"):"?"==a.charAt(e)?(h.host=h.user,h.port=h.password,h.user="",h.password="",b="QUERY",e++):"@"==a.charAt(e)?(b="HOST",e++):h.password+=a.charAt(e++):"HOST"==b?"/"==a.charAt(e)?b="PATH":":"==a.charAt(e)?(b="PORT",e++):"?"==a.charAt(e)?(b="QUERY",e++):h.host+=a.charAt(e++):"PORT"==b?"/"==
a.charAt(e)?b="PATH":"?"==a.charAt(e)?(b="QUERY",e++):h.port+=a.charAt(e++):"PATH"==b?"?"==a.charAt(e)?(b="QUERY",e++):h.path+=a.charAt(e++):"QUERY"==b&&(h.query+=a.charAt(e++));if("PROTOCOL"==b)h.host=h.protocol,h.protocol="http";else{if("AFTER_PROTOCOL"==b)throw new ParseException("Invalid url");"USER"==b?(h.host=h.user,h.user=""):"PASSWORD"==b&&(h.host=h.user,h.port=h.password,h.user="",h.password="")}return h}function ParseException(a){this.description=a}
function CountLF(a){return(a=a.match(/\n/g))?a.length+1:1}
function FilterLinearGradientForOutput(a,h){if("generic"==h)return a.substr(5);if("webkit"==h)return a.replace(/\-moz\-/g,"-webkit-");if("webkit20110101"!=h)return"";var b=CssInspector.parseBackgroundImages(a)[0],e=!1,g="-webkit-gradient(linear, ",f="position"in b.value?b.value.position.toLowerCase():"",l="angle"in b.value?b.value.angle.toLowerCase():"";if(l){var k=l.match(/^([0-9\-\.\\+]+)([a-z]*)/),l=parseFloat(k[1]),k=k[2];switch(k){case "grad":l=90*l/100;break;case "rad":l=180*l/Math.PI}for(;0>
l;)l+=360;for(;360<=l;)l-=360}var n=[],m=[];if(""!=f)if("center"==f&&(f="center center"),n=f.split(" "),""==l&&0!=l){switch(n[0]){case "left":m.push("right");break;case "center":m.push("center");break;case "right":m.push("left");break;default:k=n[0].match(/^([0-9\-\.\\+]+)([a-z]*)/),f=parseFloat(k[0]),k=k[1],"%"==k?m.push(100-f+"%"):e=!0}if(!e)switch(n[1]){case "top":m.push("bottom");break;case "center":m.push("center");break;case "bottom":m.push("top");break;default:k=n[1].match(/^([0-9\-\.\\+]+)([a-z]*)/),
f=parseFloat(k[0]),k=k[1],"%"==k?m.push(100-f+"%"):e=!0}}else switch(l){case 0:m.push("right");m.push(n[1]);break;case 90:m.push(n[0]);m.push("top");break;case 180:m.push("left");m.push(n[1]);break;case 270:m.push(n[0]);m.push("bottom");break;default:e=!0}else switch(""==l&&(l=270),l){case 0:n=["left","center"];m=["right","center"];break;case 90:n=["center","bottom"];m=["center","top"];break;case 180:n=["right","center"];m=["left","center"];break;case 270:n=["center","top"];m=["center","bottom"];
break;default:e=!0}if(e)return"";g+=n.join(" ")+", "+m.join(" ");b.value.stops[0].position||(b.value.stops[0].position="0%");b.value.stops[b.value.stops.length-1].position||(b.value.stops[b.value.stops.length-1].position="100%");for(m=n=0;m<b.value.stops.length&&!e;m++){f=b.value.stops[m];if(f.position){if(-1==f.position.indexOf("%")){e=!0;break}}else{for(l=m+1;l<b.value.stops.length&&!b.value.stops[l].position;)l++;for(var k=parseFloat(b.value.stops[l].position)-n,p=m;p<l;p++)b.value.stops[p].position=
n+k*(p-m+1)/(l-m+1)+"%"}n=parseFloat(f.position);g+=", color-stop("+parseFloat(n)/100+", "+f.color+")"}return e?"":g+")"}
function FilterRadialGradientForOutput(a,h){if("generic"==h)return a.substr(5);if("webkit"==h)return a.replace(/\-moz\-/g,"-webkit-");if("webkit20110101"!=h)return"";var b=CssInspector.parseBackgroundImages(a)[0],e="size"in b.value?b.value.size:"";if("circle"!=("shape"in b.value?b.value.shape:"")||"farthest-corner"!=e&&"cover"!=e||!(!(2>b.value.stops.length)&&"position"in b.value.stops[0]&&b.value.stops[b.value.stops.length-1].position&&"position"in b.value.stops[0]&&b.value.stops[b.value.stops.length-
1].position))return"";for(var g=0;g<b.value.stops.length;g++){var f=b.value.stops[g];if("position"in f&&f.position&&-1==f.position.indexOf("px"))return""}var g="position"in b.value?b.value.position:"center center",e="-webkit-gradient(radial, "+(g+", "+parseFloat(b.value.stops[0].position)+", "),e=e+(g+", "+parseFloat(b.value.stops[b.value.stops.length-1].position)),l=parseFloat(b.value.stops[0].position),g=0;for(;g<b.value.stops.length;g++){f=b.value.stops[g];if(!("position"in f&&f.position)){for(var k=
g+1;k<b.value.stops.length&&!b.value.stops[k].position;)k++;for(var n=parseFloat(b.value.stops[k].position)-l,m=g;m<k;m++)b.value.stops[m].position=l+n*(m-g+1)/(k-g+1)+"px"}l=parseFloat(f.position);k=(l-parseFloat(b.value.stops[0].position))/(parseFloat(b.value.stops[b.value.stops.length-1].position)-parseFloat(b.value.stops[0].position));e+=", color-stop("+k+", "+f.color+")"}return e+")"}
function FilterRepeatingGradientForOutput(a,h){return"generic"==h?a.substr(5):"webkit"==h?a.replace(/\-moz\-/g,"-webkit-"):""};(function(a){function h(a,b,e){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:e;default:throw Error("Implement me");}}function b(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(a){!1===H.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function g(a,b){var f=!0;return p(function(){f&&
(e(a),f=!1);return b.apply(this,arguments)},b)}function f(a,b){return function(e){return t(a.call(this,e),b)}}function l(a,b){return function(e){return this.localeData().ordinal(a.call(this,e),b)}}function k(){}function n(a,b){!1!==b&&N(a);q(this,a);this._d=new Date(+a._d)}function m(a){a=D(a);var b=a.year||0,e=a.quarter||0,f=a.month||0,g=a.week||0,h=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=+h+7*g;this._months=+f+3*e+12*b;this._data=
{};this._locale=H.localeData();this._bubble()}function p(a,b){for(var e in b)xa.call(b,e)&&(a[e]=b[e]);xa.call(b,"toString")&&(a.toString=b.toString);xa.call(b,"valueOf")&&(a.valueOf=b.valueOf);return a}function q(a,b){var e,f,g;"undefined"!==typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject);"undefined"!==typeof b._i&&(a._i=b._i);"undefined"!==typeof b._f&&(a._f=b._f);"undefined"!==typeof b._l&&(a._l=b._l);"undefined"!==typeof b._strict&&(a._strict=b._strict);"undefined"!==typeof b._tzm&&
(a._tzm=b._tzm);"undefined"!==typeof b._isUTC&&(a._isUTC=b._isUTC);"undefined"!==typeof b._offset&&(a._offset=b._offset);"undefined"!==typeof b._pf&&(a._pf=b._pf);"undefined"!==typeof b._locale&&(a._locale=b._locale);if(0<ia.length)for(e in ia)f=ia[e],g=b[f],"undefined"!==typeof g&&(a[f]=g);return a}function r(a){return 0>a?Math.ceil(a):Math.floor(a)}function t(a,b,e){for(var f=""+Math.abs(a);f.length<b;)f="0"+f;return(0<=a?e?"+":"":"-")+f}function v(a,b){var e={milliseconds:0,months:0};e.months=
b.month()-a.month()+12*(b.year()-a.year());a.clone().add(e.months,"M").isAfter(b)&&--e.months;e.milliseconds=+b-+a.clone().add(e.months,"M");return e}function x(a,b){var e;b=X(b,a);a.isBefore(b)?e=v(a,b):(e=v(b,a),e.milliseconds=-e.milliseconds,e.months=-e.months);return e}function y(a,b){return function(f,g){var h;null===g||isNaN(+g)||(ub[b]||(e("moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),ub[b]=!0),h=f,f=g,g=h);h=H.duration("string"===typeof f?+f:f,
g);z(this,h,a);return this}}function z(a,b,e,f){var g=b._milliseconds,h=b._days;b=b._months;f=null==f?!0:f;g&&a._d.setTime(+a._d+g*e);h&&fb(a,"Date",u(a,"Date")+h*e);b&&ba(a,u(a,"Month")+b*e);f&&H.updateOffset(a,h||b)}function B(a){return"[object Array]"===Object.prototype.toString.call(a)}function E(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function w(a,b,e){var f=Math.min(a.length,b.length),g=Math.abs(a.length-b.length),h=0,k;for(k=0;k<f;k++)(e&&a[k]!==b[k]||
!e&&K(a[k])!==K(b[k]))&&h++;return h+g}function A(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=La[a]||vb[b]||b}return a}function D(a){var b={},e,f;for(f in a)xa.call(a,f)&&(e=A(f))&&(b[e]=a[f]);return b}function F(b){var e,f;if(0===b.indexOf("week"))e=7,f="day";else if(0===b.indexOf("month"))e=12,f="month";else return;H[b]=function(g,h){var k,l,m=H._locale[b],r=[];"number"===typeof g&&(h=g,g=a);l=function(a){a=H().utc().set(f,a);return m.call(H._locale,a,g||"")};if(null!=h)return l(h);for(k=
0;k<e;k++)r.push(l(k));return r}}function K(a){a=+a;var b=0;0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a));return b}function G(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function M(a,b,e){return Ta(H([a,11,31+b-e]),b,e).week}function J(a){return 0===a%4&&0!==a%100||0===a%400}function N(a){var b;a._a&&-2===a._pf.overflow&&(b=0>a._a[1]||11<a._a[1]?1:1>a._a[2]||a._a[2]>G(a._a[0],a._a[1])?2:0>a._a[3]||24<a._a[3]||24===a._a[3]&&(0!==a._a[4]||0!==a._a[5]||0!==a._a[6])?3:0>a._a[4]||59<
a._a[4]?4:0>a._a[5]||59<a._a[5]?5:0>a._a[6]||999<a._a[6]?6:-1,a._pf._overflowDayOfYear&&(0>b||2<b)&&(b=2),a._pf.overflow=b)}function L(b){null==b._isValid&&(b._isValid=!isNaN(b._d.getTime())&&0>b._pf.overflow&&!b._pf.empty&&!b._pf.invalidMonth&&!b._pf.nullInput&&!b._pf.invalidFormat&&!b._pf.userInvalidated,b._strict&&(b._isValid=b._isValid&&0===b._pf.charsLeftOver&&0===b._pf.unusedTokens.length&&b._pf.bigHour===a));return b._isValid}function R(a){return a?a.toLowerCase().replace("_","-"):a}function P(a){var b=
null;if(!Qa[a]&&fa)try{b=H.locale(),require("./locale/"+a),H.locale(b)}catch(e){}return Qa[a]}function X(a,b){var e,f;return b._isUTC?(e=b.clone(),f=(H.isMoment(a)||E(a)?+a:+H(a))-+e,e._d.setTime(+e._d+f),H.updateOffset(e,!1),e):H(a).local()}function T(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function da(a){var b=a.match(va),e,f;e=0;for(f=b.length;e<f;e++)b[e]=Ga[b[e]]?Ga[b[e]]:T(b[e]);return function(g){var h="";for(e=0;e<f;e++)h+=b[e]instanceof Function?b[e].call(g,
a):b[e];return h}}function O(a,b){if(!a.isValid())return a.localeData().invalidDate();b=Z(b,a.localeData());ab[b]||(ab[b]=da(b));return ab[b](a)}function Z(a,b){function e(a){return b.longDateFormat(a)||a}var f=5;for(ea.lastIndex=0;0<=f&&ea.test(a);)a=a.replace(ea,e),ea.lastIndex=0,--f;return a}function ga(a,b){var e=b._strict;switch(a){case "Q":return Ha;case "DDDD":return tb;case "YYYY":case "GGGG":case "gggg":return e?Db:$a;case "Y":case "G":case "g":return sa;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return e?
Aa:Ua;case "S":if(e)return Ha;case "SS":if(e)return ma;case "SSS":if(e)return tb;case "DDD":return qa;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return Pa;case "a":case "A":return b._locale._meridiemParse;case "x":return Xa;case "X":return kb;case "Z":case "ZZ":return ua;case "T":return Ra;case "SSSS":return ja;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return e?ma:aa;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return aa;
case "Do":return e?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:var e=RegExp,f;f=ta(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new e(f)}}function V(a){a=(a||"").match(ua)||[];a=((a[a.length-1]||[])+"").match(Ca)||["-",0,0];var b=+(60*a[1])+K(a[2]);return"+"===a[0]?-b:b}function ka(a){var b,e,f=[],g;if(!a._d){g=new Date;g=a._useUTC?[g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()]:[g.getFullYear(),g.getMonth(),g.getDate()];if(a._w&&null==a._a[2]&&null==
a._a[1]){var k,l,m;k=a._w;null!=k.GG||null!=k.W||null!=k.E?(b=1,m=4,e=h(k.GG,a._a[0],Ta(H(),1,4).year),l=h(k.W,1),k=h(k.E,1)):(b=a._locale._week.dow,m=a._locale._week.doy,e=h(k.gg,a._a[0],Ta(H(),b,m).year),l=h(k.w,1),null!=k.d?(k=k.d,k<b&&++l):k=null!=k.e?k.e+b:b);var r=ya(e,0,1).getUTCDay(),r=0===r?7:r;m=7*(l-1)+((null!=k?k:b)-b)+(b-r+(r>m?7:0)-(r<b?7:0))+1;b=0<m?e:e-1;e=0<m?m:(J(e-1)?366:365)+m;a._a[0]=b;a._dayOfYear=e}a._dayOfYear&&(e=h(a._a[0],g[0]),a._dayOfYear>(J(e)?366:365)&&(a._pf._overflowDayOfYear=
!0),e=ya(e,0,a._dayOfYear),a._a[1]=e.getUTCMonth(),a._a[2]=e.getUTCDate());for(e=0;3>e&&null==a._a[e];++e)a._a[e]=f[e]=g[e];for(;7>e;e++)a._a[e]=f[e]=null==a._a[e]?2===e?1:0:a._a[e];24===a._a[3]&&0===a._a[4]&&0===a._a[5]&&0===a._a[6]&&(a._nextDay=!0,a._a[3]=0);a._d=(a._useUTC?ya:Ea).apply(null,f);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+a._tzm);a._nextDay&&(a._a[3]=24)}}function Y(a){var b;a._d||(b=D(a._i),a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ka(a))}
function oa(b){if(b._f===H.ISO_8601)pa(b);else{b._a=[];b._pf.empty=!0;var e=""+b._i,f,g,h,k,l,m=e.length,r=0;h=Z(b._f,b._locale).match(va)||[];for(f=0;f<h.length;f++){k=h[f];if(g=(e.match(ga(k,b))||[])[0])l=e.substr(0,e.indexOf(g)),0<l.length&&b._pf.unusedInput.push(l),e=e.slice(e.indexOf(g)+g.length),r+=g.length;if(Ga[k]){g?b._pf.empty=!1:b._pf.unusedTokens.push(k);l=b;var n=void 0,q=l._a;switch(k){case "Q":null!=g&&(q[1]=3*(K(g)-1));break;case "M":case "MM":null!=g&&(q[1]=K(g)-1);break;case "MMM":case "MMMM":n=
l._locale.monthsParse(g,k,l._strict);null!=n?q[1]=n:l._pf.invalidMonth=g;break;case "D":case "DD":null!=g&&(q[2]=K(g));break;case "Do":null!=g&&(q[2]=K(parseInt(g.match(/\d{1,2}/)[0],10)));break;case "DDD":case "DDDD":null!=g&&(l._dayOfYear=K(g));break;case "YY":q[0]=H.parseTwoDigitYear(g);break;case "YYYY":case "YYYYY":case "YYYYYY":q[0]=K(g);break;case "a":case "A":l._isPm=l._locale.isPM(g);break;case "h":case "hh":l._pf.bigHour=!0;case "H":case "HH":q[3]=K(g);break;case "m":case "mm":q[4]=K(g);
break;case "s":case "ss":q[5]=K(g);break;case "S":case "SS":case "SSS":case "SSSS":q[6]=K(1E3*("0."+g));break;case "x":l._d=new Date(K(g));break;case "X":l._d=new Date(1E3*parseFloat(g));break;case "Z":case "ZZ":l._useUTC=!0;l._tzm=V(g);break;case "dd":case "ddd":case "dddd":n=l._locale.weekdaysParse(g);null!=n?(l._w=l._w||{},l._w.d=n):l._pf.invalidWeekday=g;break;case "w":case "ww":case "W":case "WW":case "d":case "e":case "E":k=k.substr(0,1);case "gggg":case "GGGG":case "GGGGG":k=k.substr(0,2);
g&&(l._w=l._w||{},l._w[k]=K(g));break;case "gg":case "GG":l._w=l._w||{},l._w[k]=H.parseTwoDigitYear(g)}}else b._strict&&!g&&b._pf.unusedTokens.push(k)}b._pf.charsLeftOver=m-r;0<e.length&&b._pf.unusedInput.push(e);!0===b._pf.bigHour&&12>=b._a[3]&&(b._pf.bigHour=a);b._isPm&&12>b._a[3]&&(b._a[3]+=12);!1===b._isPm&&12===b._a[3]&&(b._a[3]=0);ka(b);N(b)}}function ta(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,e,f,g){return b||e||f||g})}function pa(a){var b,e,f=a._i,g=zb.exec(f);
if(g){a._pf.iso=!0;b=0;for(e=Va.length;b<e;b++)if(Va[b][1].exec(f)){a._f=Va[b][0]+(g[6]||" ");break}b=0;for(e=Ma.length;b<e;b++)if(Ma[b][1].exec(f)){a._f+=Ma[b][0];break}f.match(ua)&&(a._f+="Z");oa(a)}else a._isValid=!1}function bb(a){pa(a);!1===a._isValid&&(delete a._isValid,H.createFromInputFallback(a))}function ha(a,b){var e=[],f;for(f=0;f<a.length;++f)e.push(b(a[f],f));return e}function Sa(b){var e=b._i,f;e===a?b._d=new Date:E(e)?b._d=new Date(+e):null!==(f=ca.exec(e))?b._d=new Date(+f[1]):"string"===
typeof e?bb(b):B(e)?(b._a=ha(e.slice(0),function(a){return parseInt(a,10)}),ka(b)):"object"===typeof e?Y(b):"number"===typeof e?b._d=new Date(e):H.createFromInputFallback(b)}function Ea(a,b,e,f,g,h,k){b=new Date(a,b,e,f,g,h,k);1970>a&&b.setFullYear(a);return b}function ya(a){var b=new Date(Date.UTC.apply(null,arguments));1970>a&&b.setUTCFullYear(a);return b}function cb(a,b,e,f,g){return g.relativeTime(b||1,!!e,a,f)}function Ta(a,b,e){b=e-b;e-=a.day();e>b&&(e-=7);e<b-7&&(e+=7);a=H(a).add(e,"d");return{week:Math.ceil(a.dayOfYear()/
7),year:a.year()}}function yb(e){var f=e._i,g=e._f;e._locale=e._locale||H.localeData(e._l);if(null===f||g===a&&""===f)return H.invalid({nullInput:!0});"string"===typeof f&&(e._i=f=e._locale.preparse(f));if(H.isMoment(f))return new n(f,!0);if(g)if(B(g)){var h,k,l;if(0===e._f.length)e._pf.invalidFormat=!0,e._d=new Date(NaN);else{for(f=0;f<e._f.length;f++)if(g=0,h=q({},e),null!=e._useUTC&&(h._useUTC=e._useUTC),h._pf=b(),h._f=e._f[f],oa(h),L(h)&&(g+=h._pf.charsLeftOver,g+=10*h._pf.unusedTokens.length,
h._pf.score=g,null==l||g<l))l=g,k=h;p(e,k||h)}}else oa(e);else Sa(e);e=new n(e);e._nextDay&&(e.add(1,"d"),e._nextDay=a);return e}function ib(a,b){var e,f;1===b.length&&B(b[0])&&(b=b[0]);if(!b.length)return H();e=b[0];for(f=1;f<b.length;++f)b[f][a](e)&&(e=b[f]);return e}function ba(a,b){var e;if("string"===typeof b&&(b=a.localeData().monthsParse(b),"number"!==typeof b))return a;e=Math.min(a.date(),G(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,e);return a}function u(a,b){return a._d["get"+
(a._isUTC?"UTC":"")+b]()}function fb(a,b,e){return"Month"===b?ba(a,e):a._d["set"+(a._isUTC?"UTC":"")+b](e)}function Ka(a,b){return function(e){return null!=e?(fb(this,a,e),H.updateOffset(this,b),this):u(this,a)}}function la(a){H.duration.fn[a]=function(){return this._data[a]}}function jb(a){"undefined"===typeof ender&&(nb=lb.moment,lb.moment=a?g("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",H):H)}for(var H,lb="undefined"!==typeof global?global:
this,nb,Ba=Math.round,xa=Object.prototype.hasOwnProperty,U,Qa={},ia=[],fa="undefined"!==typeof module&&module&&module.exports,ca=/^\/?Date\((\-?\d+)/i,wa=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Q=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,va=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,
ea=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,aa=/\d\d?/,qa=/\d{1,3}/,$a=/\d{1,4}/,Ua=/[+\-]?\d{1,6}/,ja=/\d+/,Pa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ua=/Z|[\+\-]\d\d:?\d\d/gi,Ra=/T/i,Xa=/[\+\-]?\d+/,kb=/[\+\-]?\d+(\.\d{1,3})?/,Ha=/\d/,ma=/\d\d/,tb=/\d{3}/,Db=/\d{4}/,Aa=/[+-]?\d{6}/,sa=/[+-]?\d+/,zb=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
Va=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Ma=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ca=/([\+\-]|\d\d)/gi,mb={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},La={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",
M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},vb={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ab={},Wa={s:45,m:45,h:22,d:26,M:11},Ia="DDD w W M D d".split(" "),Ya="MDHhmswW".split(""),Ga={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},
DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return t(this.year()%100,2)},YYYY:function(){return t(this.year(),4)},YYYYY:function(){return t(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":
"-")+t(Math.abs(a),6)},gg:function(){return t(this.weekYear()%100,2)},gggg:function(){return t(this.weekYear(),4)},ggggg:function(){return t(this.weekYear(),5)},GG:function(){return t(this.isoWeekYear()%100,2)},GGGG:function(){return t(this.isoWeekYear(),4)},GGGGG:function(){return t(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),
this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return K(this.milliseconds()/100)},SS:function(){return t(K(this.milliseconds()/10),2)},SSS:function(){return t(this.milliseconds(),3)},SSSS:function(){return t(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+t(K(a/60),2)+":"+t(K(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";0>
a&&(a=-a,b="-");return b+t(K(a/60),2)+t(K(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ub={},rc=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Ia.length;)U=Ia.pop(),Ga[U+"o"]=l(Ga[U],U);for(;Ya.length;)U=Ya.pop(),Ga[U+U]=f(Ga[U],2);Ga.DDDD=f(Ga.DDD,3);p(k.prototype,{set:function(a){var b,e;for(e in a)b=a[e],"function"===typeof b?this[e]=
b:this["_"+e]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,e){var f,g;this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=
[]);for(f=0;12>f;f++)if(g=H.utc([2E3,f]),e&&!this._longMonthsParse[f]&&(this._longMonthsParse[f]=new RegExp("^"+this.months(g,"").replace(".","")+"$","i"),this._shortMonthsParse[f]=new RegExp("^"+this.monthsShort(g,"").replace(".","")+"$","i")),e||this._monthsParse[f]||(g="^"+this.months(g,"")+"|^"+this.monthsShort(g,""),this._monthsParse[f]=new RegExp(g.replace(".",""),"i")),e&&"MMMM"===b&&this._longMonthsParse[f].test(a)||e&&"MMM"===b&&this._shortMonthsParse[f].test(a)||!e&&this._monthsParse[f].test(a))return f},
_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,e;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(e=H([2E3,1]).day(b),
e="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[b]=new RegExp(e.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),
this._longDateFormat[a]=b);return b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,e){return 11<a?e?"pm":"PM":e?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b,e){a=this._calendar[a];return"function"===typeof a?a.apply(b,[e]):a},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",
m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,e,f){var g=this._relativeTime[e];return"function"===typeof g?g(a,b,e,f):g.replace(/%d/i,a)},pastFuture:function(a,b){var e=this._relativeTime[0<a?"future":"past"];return"function"===typeof e?e(b):e.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},
week:function(a){return Ta(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});H=function(e,f,g,h){var k;"boolean"===typeof g&&(h=g,g=a);k={_isAMomentObject:!0};k._i=e;k._f=f;k._l=g;k._strict=h;k._isUTC=!1;k._pf=b();return yb(k)};H.suppressDeprecationWarnings=!1;H.createFromInputFallback=g("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",
function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});H.min=function(){var a=[].slice.call(arguments,0);return ib("isBefore",a)};H.max=function(){var a=[].slice.call(arguments,0);return ib("isAfter",a)};H.utc=function(e,f,g,h){var k;"boolean"===typeof g&&(h=g,g=a);k={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0};k._l=g;k._i=e;k._f=f;k._strict=h;k._pf=b();return yb(k).utc()};H.unix=function(a){return H(1E3*a)};H.duration=function(a,b){var e=a,f=null,g;H.isDuration(a)?e={ms:a._milliseconds,d:a._days,
M:a._months}:"number"===typeof a?(e={},b?e[b]=a:e.milliseconds=a):(f=wa.exec(a))?(g="-"===f[1]?-1:1,e={y:0,d:K(f[2])*g,h:K(f[3])*g,m:K(f[4])*g,s:K(f[5])*g,ms:K(f[6])*g}):(f=Q.exec(a))?(g="-"===f[1]?-1:1,e=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*g},e={y:e(f[2]),M:e(f[3]),d:e(f[4]),h:e(f[5]),m:e(f[6]),s:e(f[7]),w:e(f[8])}):"object"===typeof e&&("from"in e||"to"in e)&&(f=x(H(e.from),H(e.to)),e={},e.ms=f.milliseconds,e.M=f.months);e=new m(e);H.isDuration(a)&&xa.call(a,"_locale")&&
(e._locale=a._locale);return e};H.version="2.8.4";H.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";H.ISO_8601=function(){};H.momentProperties=ia;H.updateOffset=function(){};H.relativeTimeThreshold=function(b,e){if(Wa[b]===a)return!1;if(e===a)return Wa[b];Wa[b]=e;return!0};H.lang=g("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return H.locale(a,b)});H.locale=function(a,b){var e;a&&(e="undefined"!==typeof b?H.defineLocale(a,b):H.localeData(a))&&(H.duration._locale=H._locale=e);return H._locale._abbr};
H.defineLocale=function(a,b){if(null!==b)return b.abbr=a,Qa[a]||(Qa[a]=new k),Qa[a].set(b),H.locale(a),Qa[a];delete Qa[a];return null};H.langData=g("moment.langData is deprecated. Use moment.localeData instead.",function(a){return H.localeData(a)});H.localeData=function(a){var b;a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr);if(!a)return H._locale;if(!B(a)){if(b=P(a))return b;a=[a]}a:{b=0;for(var e,f,g,h;b<a.length;){h=R(a[b]).split("-");e=h.length;for(f=(f=R(a[b+1]))?f.split("-"):null;0<e;){if(g=
P(h.slice(0,e).join("-"))){a=g;break a}if(f&&f.length>=e&&w(h,f,!0)>=e-1)break;e--}b++}a=null}return a};H.isMoment=function(a){return a instanceof n||null!=a&&xa.call(a,"_isAMomentObject")};H.isDuration=function(a){return a instanceof m};for(U=rc.length-1;0<=U;--U)F(rc[U]);H.normalizeUnits=function(a){return A(a)};H.invalid=function(a){var b=H.utc(NaN);null!=a?p(b._pf,a):b._pf.userInvalidated=!0;return b};H.parseZone=function(){return H.apply(null,arguments).parseZone()};H.parseTwoDigitYear=function(a){return K(a)+
(68<K(a)?1900:2E3)};p(H.fn=n.prototype,{clone:function(){return H(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=H(this).utc();return 0<a.year()&&9999>=a.year()?"function"===typeof Date.prototype.toISOString?this.toDate().toISOString():O(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):
O(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return L(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<w(this._a,(this._isUTC?H.utc(this._a):H(this._a)).toArray()):!1},parsingFlags:function(){return p({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.zone(0,a)},local:function(a){this._isUTC&&(this.zone(0,
a),this._isUTC=!1,a&&this.add(this._dateTzOffset(),"m"));return this},format:function(a){a=O(this,a||H.defaultFormat);return this.localeData().postformat(a)},add:y(1,"add"),subtract:y(-1,"subtract"),diff:function(a,b,e){a=X(a,this);var f=6E4*(this.zone()-a.zone()),g,h;b=A(b);"year"===b||"month"===b?(g=432E5*(this.daysInMonth()+a.daysInMonth()),f=12*(this.year()-a.year())+(this.month()-a.month()),h=this-H(this).startOf("month")-(a-H(a).startOf("month")),h-=6E4*(this.zone()-H(this).startOf("month").zone()-
(a.zone()-H(a).startOf("month").zone())),f+=h/g,"year"===b&&(f/=12)):(g=this-a,f="second"===b?g/1E3:"minute"===b?g/6E4:"hour"===b?g/36E5:"day"===b?(g-f)/864E5:"week"===b?(g-f)/6048E5:g);return e?f:r(f)},from:function(a,b){return H.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(H(),a)},calendar:function(a){a=a||H();var b=X(a,this).startOf("day"),b=this.diff(b,"days",!0),b=-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":
7>b?"nextWeek":"sameElse";return this.format(this.localeData().calendar(b,this,H(a)))},isLeapYear:function(){return J(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a){a:{var e=this.localeData();if("string"===typeof a)if(isNaN(a)){if(a=e.weekdaysParse(a),"number"!==typeof a){a=null;break a}}else a=parseInt(a,10)}return this.add(a-b,"d")}return b},
month:Ka("Month",!0),startOf:function(a){a=A(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1);"quarter"===a&&this.month(3*Math.floor(this.month()/3));return this},endOf:function(b){b=A(b);return b===a||"millisecond"===b?this:this.startOf(b).add(1,"isoWeek"===b?"week":
b).subtract(1,"ms")},isAfter:function(a,b){b=A("undefined"!==typeof b?b:"millisecond");return"millisecond"===b?(a=H.isMoment(a)?a:H(a),+this>+a):(H.isMoment(a)?+a:+H(a))<+this.clone().startOf(b)},isBefore:function(a,b){var e;b=A("undefined"!==typeof b?b:"millisecond");if("millisecond"===b)return a=H.isMoment(a)?a:H(a),+this<+a;e=H.isMoment(a)?+a:+H(a);return+this.clone().endOf(b)<e},isSame:function(a,b){var e;b=A(b||"millisecond");if("millisecond"===b)return a=H.isMoment(a)?a:H(a),+this===+a;e=+H(a);
return+this.clone().startOf(b)<=e&&e<=+this.clone().endOf(b)},min:g("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){a=H.apply(null,arguments);return a<this?this:a}),max:g("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){a=H.apply(null,arguments);return a>this?this:a}),zone:function(a,b){var e=this._offset||0,f;if(null!=a)"string"===typeof a&&(a=V(a)),16>Math.abs(a)&&(a*=60),
!this._isUTC&&b&&(f=this._dateTzOffset()),this._offset=a,this._isUTC=!0,null!=f&&this.subtract(f,"m"),e!==a&&(!b||this._changeInProgress?z(this,H.duration(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,H.updateOffset(this,!0),this._changeInProgress=null));else return this._isUTC?e:this._dateTzOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){this._tzm?this.zone(this._tzm):
"string"===typeof this._i&&this.zone(this._i);return this},hasAlignedHourOffset:function(a){a=a?H(a).zone():0;return 0===(this.zone()-a)%60},daysInMonth:function(){return G(this.year(),this.month())},dayOfYear:function(a){var b=Ba((H(this).startOf("day")-H(this).startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=Ta(this,this.localeData()._week.dow,this.localeData()._week.doy).year;
return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=Ta(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=Ta(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return M(this.year(),
1,4)},weeksInYear:function(){var a=this.localeData()._week;return M(this.year(),a.dow,a.doy)},get:function(a){a=A(a);return this[a]()},set:function(a,b){a=A(a);if("function"===typeof this[a])this[a](b);return this},locale:function(b){if(b===a)return this._locale._abbr;b=H.localeData(b);null!=b&&(this._locale=b);return this},lang:g("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return b===
a?this.localeData():this.locale(b)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}});H.fn.millisecond=H.fn.milliseconds=Ka("Milliseconds",!1);H.fn.second=H.fn.seconds=Ka("Seconds",!1);H.fn.minute=H.fn.minutes=Ka("Minutes",!1);H.fn.hour=H.fn.hours=Ka("Hours",!0);H.fn.date=Ka("Date",!0);H.fn.dates=g("dates accessor is deprecated. Use date instead.",Ka("Date",!0));H.fn.year=Ka("FullYear",!0);H.fn.years=g("years accessor is deprecated. Use year instead.",
Ka("FullYear",!0));H.fn.days=H.fn.day;H.fn.months=H.fn.month;H.fn.weeks=H.fn.week;H.fn.isoWeeks=H.fn.isoWeek;H.fn.quarters=H.fn.quarter;H.fn.toJSON=H.fn.toISOString;p(H.duration.fn=m.prototype,{_bubble:function(){var a=this._milliseconds,b=this._days,e=this._months,f=this._data,g=0;f.milliseconds=a%1E3;a=r(a/1E3);f.seconds=a%60;a=r(a/60);f.minutes=a%60;a=r(a/60);f.hours=a%24;b+=r(a/24);g=r(400*b/146097);b-=r(146097*g/400);e+=r(b/30);b%=30;g+=r(e/12);f.days=b;f.months=e%12;f.years=g},abs:function(){this._milliseconds=
Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this},weeks:function(){return r(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+
this._months%12*2592E6+31536E6*K(this._months/12)},humanize:function(a){var b;b=!a;var e=this.localeData(),f=H.duration(this).abs(),g=Ba(f.as("s")),h=Ba(f.as("m")),k=Ba(f.as("h")),l=Ba(f.as("d")),m=Ba(f.as("M")),f=Ba(f.as("y")),g=g<Wa.s&&["s",g]||1===h&&["m"]||h<Wa.m&&["mm",h]||1===k&&["h"]||k<Wa.h&&["hh",k]||1===l&&["d"]||l<Wa.d&&["dd",l]||1===m&&["M"]||m<Wa.M&&["MM",m]||1===f&&["y"]||["yy",f];g[2]=b;g[3]=0<+this;g[4]=e;b=cb.apply({},g);a&&(b=this.localeData().pastFuture(+this,b));return this.localeData().postformat(b)},
add:function(a,b){var e=H.duration(a,b);this._milliseconds+=e._milliseconds;this._days+=e._days;this._months+=e._months;this._bubble();return this},subtract:function(a,b){var e=H.duration(a,b);this._milliseconds-=e._milliseconds;this._days-=e._days;this._months-=e._months;this._bubble();return this},get:function(a){a=A(a);return this[a.toLowerCase()+"s"]()},as:function(a){var b;a=A(a);if("month"===a||"year"===a)return b=this._days+this._milliseconds/864E5,b=this._months+400*b/146097*12,"month"===
a?b:b/12;b=this._days+Math.round(this._months/12*146097/400);switch(a){case "week":return b/7+this._milliseconds/6048E5;case "day":return b+this._milliseconds/864E5;case "hour":return 24*b+this._milliseconds/36E5;case "minute":return 1440*b+this._milliseconds/6E4;case "second":return 86400*b+this._milliseconds/1E3;case "millisecond":return Math.floor(864E5*b)+this._milliseconds;default:throw Error("Unknown unit "+a);}},lang:H.fn.lang,locale:H.fn.locale,toIsoString:g("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",
function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),e=Math.abs(this.days()),f=Math.abs(this.hours()),g=Math.abs(this.minutes()),h=Math.abs(this.seconds()+this.milliseconds()/1E3);return this.asSeconds()?(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(e?e+"D":"")+(f||g||h?"T":"")+(f?f+"H":"")+(g?g+"M":"")+(h?h+"S":""):"P0D"},localeData:function(){return this._locale}});H.duration.fn.toString=H.duration.fn.toISOString;for(U in mb)xa.call(mb,
U)&&la(U.toLowerCase());H.duration.fn.asMilliseconds=function(){return this.as("ms")};H.duration.fn.asSeconds=function(){return this.as("s")};H.duration.fn.asMinutes=function(){return this.as("m")};H.duration.fn.asHours=function(){return this.as("h")};H.duration.fn.asDays=function(){return this.as("d")};H.duration.fn.asWeeks=function(){return this.as("weeks")};H.duration.fn.asMonths=function(){return this.as("M")};H.duration.fn.asYears=function(){return this.as("y")};H.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,
ordinal:function(a){var b=a%10,b=1===K(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});jb();fa?module.exports=H:"function"===typeof define&&define.amd?(define("moment",function(a,b,e){e.config&&e.config()&&!0===e.config().noGlobal&&(lb.moment=nb);return H}),jb(!0)):jb()}).call(this);(function(){function a(a){var b={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Specify a prefix to generated header ids",type:"string"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",
type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,
describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",
type:"boolean"}};if(!1===a)return JSON.parse(JSON.stringify(b));a={};for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e].defaultValue);return a}function h(a,b){var f=b?"Error in "+b+" extension->":"Error in unnamed extension",g={valid:!0,error:""};e.helper.isArray(a)||(a=[a]);for(var h=0;h<a.length;++h){var k=f+" sub-extension "+h+": ",l=a[h];if("object"!=typeof l)return g.valid=!1,g.error=k+"must be an object, but "+typeof l+" given",g;if(!e.helper.isString(l.type))return g.valid=!1,g.error=k+'property "type" must be a string, but '+
typeof l.type+" given",g;var n=l.type=l.type.toLowerCase();if("language"===n&&(n=l.type="lang"),"html"===n&&(n=l.type="output"),"lang"!==n&&"output"!==n&&"listener"!==n)return g.valid=!1,g.error=k+"type "+n+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',g;if("listener"===n){if(e.helper.isUndefined(l.listeners))return g.valid=!1,g.error=k+'. Extensions of type "listener" must have a property called "listeners"',g}else if(e.helper.isUndefined(l.filter)&&e.helper.isUndefined(l.regex))return g.valid=
!1,g.error=k+n+' extensions must define either a "regex" property or a "filter" method',g;if(l.listeners){if("object"!=typeof l.listeners)return g.valid=!1,g.error=k+'"listeners" property must be an object but '+typeof l.listeners+" given",g;for(var z in l.listeners)if(l.listeners.hasOwnProperty(z)&&"function"!=typeof l.listeners[z])return g.valid=!1,g.error=k+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+z+" must be a function but "+typeof l.listeners[z]+" given",
g}if(l.filter){if("function"!=typeof l.filter)return g.valid=!1,g.error=k+'"filter" must be a function, but '+typeof l.filter+" given",g}else if(l.regex){if(e.helper.isString(l.regex)&&(l.regex=new RegExp(l.regex,"g")),!l.regex instanceof RegExp)return g.valid=!1,g.error=k+'"regex" property must either be a string or a RegExp object, but '+typeof l.regex+" given",g;if(e.helper.isUndefined(l.replace))return g.valid=!1,g.error=k+'"regex" extensions must implement a replace string or function',g}}return g}
function b(a,b){return"~E"+b.charCodeAt(0)+"E"}var e={},g={},f={},l=a(!0),k={github:{omitExtraWLInCodeBlocks:!0,prefixHeaderId:"user-content-",simplifiedAutoLink:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0},vanilla:a(!0)};e.helper={};e.extensions={};e.setOption=function(a,b){return l[a]=b,this};e.getOption=function(a){return l[a]};e.getOptions=function(){return l};e.resetOptions=function(){l=a(!0)};
e.setFlavor=function(a){if(k.hasOwnProperty(a)){a=k[a];for(var b in a)a.hasOwnProperty(b)&&(l[b]=a[b])}};e.getDefaultOptions=function(b){return a(b)};e.subParser=function(a,b){if(e.helper.isString(a)){if("undefined"==typeof b){if(g.hasOwnProperty(a))return g[a];throw Error("SubParser named "+a+" not registered!");}g[a]=b}};e.extension=function(a,b){if(!e.helper.isString(a))throw Error("Extension 'name' must be a string");if(a=e.helper.stdExtName(a),e.helper.isUndefined(b)){if(!f.hasOwnProperty(a))throw Error("Extension named "+
a+" is not registered!");return f[a]}"function"==typeof b&&(b=b());e.helper.isArray(b)||(b=[b]);var g=h(b,a);if(!g.valid)throw Error(g.error);f[a]=b};e.getAllExtensions=function(){return f};e.removeExtension=function(a){delete f[a]};e.resetExtensions=function(){f={}};e.validateExtension=function(a){a=h(a,null);return a.valid?!0:(console.warn(a.error),!1)};e.hasOwnProperty("helper")||(e.helper={});e.helper.isString=function(a){return"string"==typeof a||a instanceof String};e.helper.isFunction=function(a){var b=
{};return a&&"[object Function]"===b.toString.call(a)};e.helper.forEach=function(a,b){if("function"==typeof a.forEach)a.forEach(b);else for(var e=0;e<a.length;e++)b(a[e],e,a)};e.helper.isArray=function(a){return a.constructor===Array};e.helper.isUndefined=function(a){return"undefined"==typeof a};e.helper.stdExtName=function(a){return a.replace(/[_-]||\s/g,"").toLowerCase()};e.helper.escapeCharactersCallback=b;e.helper.escapeCharacters=function(a,e,f){e="(["+e.replace(/([\[\]\\])/g,"\\$1")+"])";f&&
(e="\\\\"+e);return a.replace(new RegExp(e,"g"),b)};var n=function(a,b,e,f){var g,h,k,l;h=f||"";f=-1<h.indexOf("g");e=new RegExp(b+"|"+e,"g"+h.replace(/g/g,""));var n=new RegExp(b,h.replace(/g/g,"")),B=[];do for(b=0;h=e.exec(a);)if(n.test(h[0]))b++||(g=e.lastIndex,k=g-h[0].length);else if(b&&!--b&&(l=h.index+h[0].length,B.push({left:{start:k,end:g},match:{start:g,end:h.index},right:{start:h.index,end:l},wholeMatch:{start:k,end:l}}),!f))return B;while(b&&(e.lastIndex=g));return B};e.helper.matchRecursiveRegExp=
function(a,b,e,f){b=n(a,b,e,f);e=[];for(f=0;f<b.length;++f)e.push([a.slice(b[f].wholeMatch.start,b[f].wholeMatch.end),a.slice(b[f].match.start,b[f].match.end),a.slice(b[f].left.start,b[f].left.end),a.slice(b[f].right.start,b[f].right.end)]);return e};e.helper.replaceRecursiveRegExp=function(a,b,f,g,h){if(!e.helper.isFunction(b)){var k=b;b=function(){return k}}f=n(a,f,g,h);h=a;g=f.length;if(0<g){h=[];0!==f[0].wholeMatch.start&&h.push(a.slice(0,f[0].wholeMatch.start));for(var l=0;g>l;++l)h.push(b(a.slice(f[l].wholeMatch.start,
f[l].wholeMatch.end),a.slice(f[l].match.start,f[l].match.end),a.slice(f[l].left.start,f[l].left.end),a.slice(f[l].right.start,f[l].right.end))),g-1>l&&h.push(a.slice(f[l].wholeMatch.end,f[l+1].wholeMatch.start));f[g-1].wholeMatch.end<a.length&&h.push(a.slice(f[g-1].wholeMatch.end));h=h.join("")}return h};e.helper.isUndefined(console)&&(console={warn:function(a){alert(a)},log:function(a){alert(a)},error:function(a){throw a;}});e.Converter=function(a){function b(a,k){if(k=k||null,e.helper.isString(a)){if(a=
e.helper.stdExtName(a),k=a,e.extensions[a]){console.warn("DEPRECATION WARNING: "+a+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!");var l=e.extensions[a],m=a;"function"==typeof l&&(l=l(new e.Converter));e.helper.isArray(l)||(l=[l]);m=h(l,m);if(!m.valid)throw Error(m.error);for(m=0;m<l.length;++m)switch(l[m].type){case "lang":v.push(l[m]);break;case "output":x.push(l[m]);break;default:throw Error("Extension loader error: Type unrecognized!!!");
}return}if(e.helper.isUndefined(f[a]))throw Error('Extension "'+a+'" could not be loaded. It was either not found or is not a valid extension.');a=f[a]}"function"==typeof a&&(a=a());e.helper.isArray(a)||(a=[a]);m=h(a,k);if(!m.valid)throw Error(m.error);for(m=0;m<a.length;++m){switch(a[m].type){case "lang":v.push(a[m]);break;case "output":x.push(a[m])}if(a[m].hasOwnProperty(y))for(l in a[m].listeners)a[m].listeners.hasOwnProperty(l)&&g(l,a[m].listeners[l])}}function g(a,b){if(!e.helper.isString(a))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+
typeof a+" given");if("function"!=typeof b)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof b+" given");y.hasOwnProperty(a)||(y[a]=[]);y[a].push(b)}function r(a){var b=a.match(/^\s*/)[0].length;return a.replace(new RegExp("^\\s{0,"+b+"}","gm"),"")}var n={},v=[],x=[],y={};(function(){a=a||{};for(var f in l)l.hasOwnProperty(f)&&(n[f]=l[f]);if("object"!=typeof a)throw Error("Converter expects the passed parameter to be an object, but "+typeof a+" was passed instead.");
for(var g in a)a.hasOwnProperty(g)&&(n[g]=a[g]);n.extensions&&e.helper.forEach(n.extensions,b)})();this._dispatch=function(a,b,e,f){if(y.hasOwnProperty(a))for(var g=0;g<y[a].length;++g){var h=y[a][g](a,b,this,e,f);h&&"undefined"!=typeof h&&(b=h)}return b};this.listen=function(a,b){return g(a,b),this};this.makeHtml=function(a){if(!a)return a;var b={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:v,outputModifiers:x,converter:this,
ghCodeBlocks:[]};return a=a.replace(/~/g,"~T"),a=a.replace(/\$/g,"~D"),a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n"),n.smartIndentationFix&&(a=r(a)),a="\n\n"+a+"\n\n",a=e.subParser("detab")(a,n,b),a=e.subParser("stripBlankLines")(a,n,b),e.helper.forEach(v,function(f){a=e.subParser("runExtension")(f,a,n,b)}),a=e.subParser("hashPreCodeTags")(a,n,b),a=e.subParser("githubCodeBlocks")(a,n,b),a=e.subParser("hashHTMLBlocks")(a,n,b),a=e.subParser("hashHTMLSpans")(a,n,b),a=e.subParser("stripLinkDefinitions")(a,
n,b),a=e.subParser("blockGamut")(a,n,b),a=e.subParser("unhashHTMLSpans")(a,n,b),a=e.subParser("unescapeSpecialChars")(a,n,b),a=a.replace(/~D/g,"$$"),a=a.replace(/~T/g,"~"),e.helper.forEach(x,function(f){a=e.subParser("runExtension")(f,a,n,b)}),a};this.setOption=function(a,b){n[a]=b};this.getOption=function(a){return n[a]};this.getOptions=function(){return n};this.addExtension=function(a,e){b(a,e||null)};this.useExtension=function(a){b(a)};this.setFlavor=function(a){if(k.hasOwnProperty(a)){a=k[a];
for(var b in a)a.hasOwnProperty(b)&&(n[b]=a[b])}};this.removeExtension=function(a){e.helper.isArray(a)||(a=[a]);for(var b=0;b<a.length;++b){for(var f=a[b],g=0;g<v.length;++g)v[g]===f&&v[g].splice(g,1);for(;0<x.length;++g)x[0]===f&&x[0].splice(g,1)}};this.getAllExtensions=function(){return{language:v,output:x}}};e.subParser("anchors",function(a,b,f){a=f.converter._dispatch("anchors.before",a,b,f);var g=function(a,b,g,h,k,l,m,r){e.helper.isUndefined(r)&&(r="");a=b;b=h.toLowerCase();if(!k)if(b||(b=g.toLowerCase().replace(/ ?\n/g,
" ")),e.helper.isUndefined(f.gUrls[b])){if(!(-1<a.search(/\(\s*\)$/m)))return a;k=""}else k=f.gUrls[b],e.helper.isUndefined(f.gTitles[b])||(r=f.gTitles[b]);k=e.helper.escapeCharacters(k,"*_",!1);a='<a href="'+k+'"';return""!==r&&null!==r&&(r=r.replace(/"/g,"&quot;"),r=e.helper.escapeCharacters(r,"*_",!1),a+=' title="'+r+'"'),a+(">"+g+"</a>")};return a=a.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)][ ]?(?:\n[ ]*)?\[(.*?)])()()()()/g,g),a=a.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,
g),a=a.replace(/(\[([^\[\]]+)])()()()()()/g,g),a=f.converter._dispatch("anchors.after",a,b,f)});e.subParser("autoLinks",function(a,b,f){function g(a,b){var e=b;return/^www\./i.test(b)&&(b=b.replace(/^www\./i,"http://www.")),'<a href="'+b+'">'+e+"</a>"}function h(a,b){var f=e.subParser("unescapeSpecialChars")(b);return e.subParser("encodeEmailAddress")(f)}a=f.converter._dispatch("autoLinks.before",a,b,f);var k=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+)(?=\s|$)(?!["<>])/gi,l=/(?:^|\s)([A-Za-z0-9!#$%&'*+-\/=?^_`\{|}~\.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?:$|\s)/gi;
return a=a.replace(/<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)>/gi,g),a=a.replace(/<(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,h),b.simplifiedAutoLink&&(a=a.replace(k,g),a=a.replace(l,h)),a=f.converter._dispatch("autoLinks.after",a,b,f)});e.subParser("blockGamut",function(a,b,f){a=f.converter._dispatch("blockGamut.before",a,b,f);a=e.subParser("blockQuotes")(a,b,f);a=e.subParser("headers")(a,b,f);var g=e.subParser("hashBlock")("<hr />",b,f);return a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,
g),a=a.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,g),a=a.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,g),a=e.subParser("lists")(a,b,f),a=e.subParser("codeBlocks")(a,b,f),a=e.subParser("tables")(a,b,f),a=e.subParser("hashHTMLBlocks")(a,b,f),a=e.subParser("paragraphs")(a,b,f),f.converter._dispatch("blockGamut.after",a,b,f)});e.subParser("blockQuotes",function(a,b,f){return a=f.converter._dispatch("blockQuotes.before",a,b,f),a=a.replace(/((^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,g){var h=g;return h=
h.replace(/^[ \t]*>[ \t]?/gm,"~0"),h=h.replace(/~0/g,""),h=h.replace(/^[ \t]+$/gm,""),h=e.subParser("githubCodeBlocks")(h,b,f),h=e.subParser("blockGamut")(h,b,f),h=h.replace(/(^|\n)/g,"$1  "),h=h.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var e=b;return e=e.replace(/^  /gm,"~0"),e.replace(/~0/g,"")}),e.subParser("hashBlock")("<blockquote>\n"+h+"\n</blockquote>",b,f)}),a=f.converter._dispatch("blockQuotes.after",a,b,f)});e.subParser("codeBlocks",function(a,b,f){a=f.converter._dispatch("codeBlocks.before",
a,b,f);a+="~0";return a=a.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(a,g,h){a=g;g="\n";return a=e.subParser("outdent")(a),a=e.subParser("encodeCode")(a),a=e.subParser("detab")(a),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),b.omitExtraWLInCodeBlocks&&(g=""),a="<pre><code>"+a+g+"</code></pre>",e.subParser("hashBlock")(a,b,f)+h}),a=a.replace(/~0/,""),a=f.converter._dispatch("codeBlocks.after",a,b,f)});e.subParser("codeSpans",function(a,b,f){return a=f.converter._dispatch("codeSpans.before",
a,b,f),"undefined"==typeof a&&(a=""),a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,b,f,g){a=g;return a=a.replace(/^([ \t]*)/g,""),a=a.replace(/[ \t]*$/g,""),a=e.subParser("encodeCode")(a),b+"<code>"+a+"</code>"}),a=f.converter._dispatch("codeSpans.after",a,b,f)});e.subParser("detab",function(a){return a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"~A~B"),a=a.replace(/~B(.+?)~A/g,function(a,b){for(var e=b,f=4-e.length%4,g=0;f>g;g++)e+=" ";return e}),a=a.replace(/~A/g,"    "),a=a.replace(/~B/g,
"")});e.subParser("encodeAmpsAndAngles",function(a){return a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a.replace(/<(?![a-z\/?\$!])/gi,"&lt;")});e.subParser("encodeBackslashEscapes",function(a){return a=a.replace(/\\(\\)/g,e.helper.escapeCharactersCallback),a.replace(/\\([`*_{}\[\]()>#+-.!])/g,e.helper.escapeCharactersCallback)});e.subParser("encodeCode",function(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),e.helper.escapeCharacters(a,"*_{}[]\\",
!1)});e.subParser("encodeEmailAddress",function(a){var b=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){return"&#x"+a.charCodeAt(0).toString(16)+";"},function(a){return a}];return a="mailto:"+a,a=a.replace(/./g,function(a){if("@"===a)a=b[Math.floor(2*Math.random())](a);else if(":"!==a){var e=Math.random();a=.9<e?b[2](a):.45<e?b[1](a):b[0](a)}return a}),a='<a href="'+a+'">'+a+"</a>",a=a.replace(/">.+:/g,'">')});e.subParser("escapeSpecialCharsWithinTagAttributes",function(a){return a=a.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi,
function(a){a=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return e.helper.escapeCharacters(a,"\\`*_",!1)})});e.subParser("githubCodeBlocks",function(a,b,f){return b.ghCodeBlocks?(a=f.converter._dispatch("githubCodeBlocks.before",a,b,f),a+="~0",a=a.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(a,g,h){var k=b.omitExtraWLInCodeBlocks?"":"\n";return h=e.subParser("encodeCode")(h),h=e.subParser("detab")(h),h=h.replace(/^\n+/g,""),h=h.replace(/\n+$/g,""),h="<pre><code"+(g?' class="'+g+" language-"+g+'"':
"")+">"+h+k+"</code></pre>",h=e.subParser("hashBlock")(h,b,f),"\n\n~G"+(f.ghCodeBlocks.push({text:a,codeblock:h})-1)+"G\n\n"}),a=a.replace(/~0/,""),f.converter._dispatch("githubCodeBlocks.after",a,b,f)):a});e.subParser("hashBlock",function(a,b,e){return a=a.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(e.gHtmlBlocks.push(a)-1)+"K\n\n"});e.subParser("hashElement",function(a,b,e){return function(a,b){var f=b;return f=f.replace(/\n\n/g,"\n"),f=f.replace(/^\n/,""),f=f.replace(/\n+$/g,""),"\n\n~K"+(e.gHtmlBlocks.push(f)-
1)+"K\n\n"}});e.subParser("hashHTMLBlocks",function(a,b,f){for(var g="pre div h1 h2 h3 h4 h5 h6 blockquote table dl ol ul script noscript form fieldset iframe math style section header footer nav article aside address audio canvas figure hgroup output video p".split(" "),h=function(a,b,e,g){return-1!==e.search(/\bmarkdown\b/)&&(a=e+f.converter.makeHtml(b)+g),"\n\n~K"+(f.gHtmlBlocks.push(a)-1)+"K\n\n"},k=0;k<g.length;++k)a=e.helper.replaceRecursiveRegExp(a,h,"^ {0,3}<"+g[k]+"\\b[^>]*>","</"+g[k]+">",
"gim");return a=a.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,e.subParser("hashElement")(a,b,f)),a=e.helper.replaceRecursiveRegExp(a,function(a){return"\n\n~K"+(f.gHtmlBlocks.push(a)-1)+"K\n\n"},"^ {0,3}\x3c!--","--\x3e","gm"),a=a.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,e.subParser("hashElement")(a,b,f))});e.subParser("hashHTMLSpans",function(a,b,f){b=e.helper.matchRecursiveRegExp(a,"<code\\b[^>]*>","</code>","gi");for(var g=0;g<b.length;++g)a=a.replace(b[g][0],
"~L"+(f.gHtmlSpans.push(b[g][0])-1)+"L");return a});e.subParser("unhashHTMLSpans",function(a,b,e){for(b=0;b<e.gHtmlSpans.length;++b)a=a.replace("~L"+b+"L",e.gHtmlSpans[b]);return a});e.subParser("hashPreCodeTags",function(a,b,f){return a=e.helper.replaceRecursiveRegExp(a,function(a,b,g,h){b=g+e.subParser("encodeCode")(b)+h;return"\n\n~G"+(f.ghCodeBlocks.push({text:a,codeblock:b})-1)+"G\n\n"},"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim")});e.subParser("headers",function(a,
b,f){function g(a){var b;a=a.replace(/[^\w]/g,"").toLowerCase();return f.hashLinkCounts[a]?b=a+"-"+f.hashLinkCounts[a]++:(b=a,f.hashLinkCounts[a]=1),!0===h&&(h="section"),e.helper.isString(h)?h+b:b}a=f.converter._dispatch("headers.before",a,b,f);var h=b.prefixHeaderId,k=isNaN(parseInt(b.headerLevelStart))?1:parseInt(b.headerLevelStart),l=b.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;return a=a.replace(b.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,
function(a,h){var l=e.subParser("spanGamut")(h,b,f),m=b.noHeaderId?"":' id="'+g(h)+'"',l="<h"+k+m+">"+l+"</h"+k+">";return e.subParser("hashBlock")(l,b,f)}),a=a.replace(l,function(a,h){var l=e.subParser("spanGamut")(h,b,f),m=b.noHeaderId?"":' id="'+g(h)+'"',n=k+1,l="<h"+n+m+">"+l+"</h"+n+">";return e.subParser("hashBlock")(l,b,f)}),a=a.replace(/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(a,h,l){a=e.subParser("spanGamut")(l,b,f);l=b.noHeaderId?"":' id="'+g(l)+'"';h=k-1+h.length;h="<h"+h+l+">"+a+"</h"+
h+">";return e.subParser("hashBlock")(h,b,f)}),a=f.converter._dispatch("headers.after",a,b,f)});e.subParser("images",function(a,b,f){function g(a,b,h,k,l,m,n,r){n=f.gUrls;var p=f.gTitles,D=f.gDimensions;if(h=h.toLowerCase(),r||(r=""),""===k||null===k){if((""===h||null===h)&&(h=b.toLowerCase().replace(/ ?\n/g," ")),e.helper.isUndefined(n[h]))return a;k=n[h];e.helper.isUndefined(p[h])||(r=p[h]);e.helper.isUndefined(D[h])||(l=D[h].width,m=D[h].height)}b=b.replace(/"/g,"&quot;");b=e.helper.escapeCharacters(b,
"*_",!1);k=e.helper.escapeCharacters(k,"*_",!1);a='<img src="'+k+'" alt="'+b+'"';return r&&(r=r.replace(/"/g,"&quot;"),r=e.helper.escapeCharacters(r,"*_",!1),a+=' title="'+r+'"'),l&&m&&(l="*"===l?"auto":l,m="*"===m?"auto":m,a+=' width="'+l+'"',a+=' height="'+m+'"'),a+" />"}a=f.converter._dispatch("images.before",a,b,f);return a=a.replace(/!\[([^\]]*?)] ?(?:\n *)?\[(.*?)]()()()()()/g,g),a=a.replace(/!\[(.*?)]\s?\([ \t]*()<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\)/g,
g),a=f.converter._dispatch("images.after",a,b,f)});e.subParser("italicsAndBold",function(a,b,e){return a=e.converter._dispatch("italicsAndBold.before",a,b,e),b.literalMidWordUnderscores?(a=a.replace(/(^|\s|>|\b)__(?=\S)([\s\S]+?)__(?=\b|<|\s|$)/gm,"$1<strong>$2</strong>"),a=a.replace(/(^|\s|>|\b)_(?=\S)([\s\S]+?)_(?=\b|<|\s|$)/gm,"$1<em>$2</em>"),a=a.replace(/(\*\*)(?=\S)([^\r]*?\S[*]*)\1/g,"<strong>$2</strong>"),a=a.replace(/(\*)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")):(a=a.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,
"<strong>$2</strong>"),a=a.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")),e.converter._dispatch("italicsAndBold.after",a,b,e)});e.subParser("lists",function(a,b,f){function g(a,h){f.gListLevel++;a=a.replace(/\n{2,}$/,"\n");a+="~0";var k=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,l=/\n[ \t]*\n(?!~0)/.test(a);return b.disableForced4SpacesIndentedSublists&&(k=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm),
a=a.replace(k,function(a,g,h,k,m,n,r){r=r&&""!==r.trim();a=e.subParser("outdent")(m,b,f);h="";return n&&b.tasklists&&(h=' class="task-list-item" style="list-style-type: none;"',a=a.replace(/^[ \t]*\[(x|X| )?]/m,function(){var a='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return r&&(a+=" checked"),a+">"})),g||-1<a.search(/\n{2,}/)?(a=e.subParser("githubCodeBlocks")(a,b,f),a=e.subParser("blockGamut")(a,b,f)):(a=e.subParser("lists")(a,b,f),a=a.replace(/\n$/,
""),a=l?e.subParser("paragraphs")(a,b,f):e.subParser("spanGamut")(a,b,f)),a="<li"+h+">"+a+"</li>\n"}),a=a.replace(/~0/g,""),f.gListLevel--,h&&(a=a.replace(/\s+$/,"")),a}function h(a,e,f){var k=b.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,l=b.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,m="ul"===e?k:l,n="";return-1!==a.search(m)?!function D(a){var b=a.search(m);-1!==b?(n+="\n<"+e+">\n"+g(a.slice(0,b),!!f)+"</"+e+">\n",e="ul"===e?"ol":
"ul",m="ul"===e?k:l,D(a.slice(b))):n+="\n<"+e+">\n"+g(a,!!f)+"</"+e+">\n"}(a):n="\n<"+e+">\n"+g(a,!!f)+"</"+e+">\n",n}return a=f.converter._dispatch("lists.before",a,b,f),a+="~0",a=f.gListLevel?a.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(a,b,e){a=-1<e.search(/[*+-]/g)?"ul":"ol";return h(b,a,!0)}):a.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(a,b,e,f){a=-1<f.search(/[*+-]/g)?
"ul":"ol";return h(e,a,!1)}),a=a.replace(/~0/,""),a=f.converter._dispatch("lists.after",a,b,f)});e.subParser("outdent",function(a){return a=a.replace(/^(\t|[ ]{1,4})/gm,"~0"),a.replace(/~0/g,"")});e.subParser("paragraphs",function(a,b,f){a=f.converter._dispatch("paragraphs.before",a,b,f);a=a.replace(/^\n+/g,"");a=a.replace(/\n+$/g,"");for(var g=a.split(/\n{2,}/g),h=[],k=g.length,l=0;k>l;l++){var n=g[l];0<=n.search(/~(K|G)(\d+)\1/g)?h.push(n):(n=e.subParser("spanGamut")(n,b,f),n=n.replace(/^([ \t]*)/g,
"<p>"),n+="</p>",h.push(n))}k=h.length;for(l=0;k>l;l++){for(var z="",g=h[l],n=!1;0<=g.search(/~(K|G)(\d+)\1/);)z=RegExp.$2,z="K"===RegExp.$1?f.gHtmlBlocks[z]:n?e.subParser("encodeCode")(f.ghCodeBlocks[z].text):f.ghCodeBlocks[z].codeblock,z=z.replace(/\$/g,"$$$$"),g=g.replace(/(\n\n)?~(K|G)\d+\2(\n\n)?/,z),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(g)&&(n=!0);h[l]=g}return a=h.join("\n"),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),f.converter._dispatch("paragraphs.after",a,b,f)});e.subParser("runExtension",
function(a,b,e,f){a.filter?b=a.filter(b,f.converter,e):a.regex&&(e=a.regex,!e instanceof RegExp&&(e=new RegExp(e,"g")),b=b.replace(e,a.replace));return b});e.subParser("spanGamut",function(a,b,f){return a=f.converter._dispatch("spanGamut.before",a,b,f),a=e.subParser("codeSpans")(a,b,f),a=e.subParser("escapeSpecialCharsWithinTagAttributes")(a,b,f),a=e.subParser("encodeBackslashEscapes")(a,b,f),a=e.subParser("images")(a,b,f),a=e.subParser("anchors")(a,b,f),a=e.subParser("autoLinks")(a,b,f),a=e.subParser("encodeAmpsAndAngles")(a,
b,f),a=e.subParser("italicsAndBold")(a,b,f),a=e.subParser("strikethrough")(a,b,f),a=a.replace(/  +\n/g," <br />\n"),f.converter._dispatch("spanGamut.after",a,b,f)});e.subParser("strikethrough",function(a,b,e){return b.strikethrough&&(a=e.converter._dispatch("strikethrough.before",a,b,e),a=a.replace(/(?:~T){2}([\s\S]+?)(?:~T){2}/g,"<del>$1</del>"),a=e.converter._dispatch("strikethrough.after",a,b,e)),a});e.subParser("stripBlankLines",function(a){return a.replace(/^[ \t]+$/gm,"")});e.subParser("stripLinkDefinitions",
function(a,b,f){return a+="~0",a=a.replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=~0))/gm,function(a,g,h,k,l,m,n){return g=g.toLowerCase(),f.gUrls[g]=e.subParser("encodeAmpsAndAngles")(h),m?m+n:(n&&(f.gTitles[g]=n.replace(/"|'/g,"&quot;")),b.parseImgDimensions&&k&&l&&(f.gDimensions[g]={width:k,height:l}),"")}),a=a.replace(/~0/,"")});e.subParser("tables",function(a,b,f){function g(a){return/^:[ \t]*--*$/.test(a)?
' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(a)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(a)?' style="text-align:center;"':""}function h(a,g){var k="";return a=a.trim(),b.tableHeaderId&&(k=' id="'+a.replace(/ /g,"_").toLowerCase()+'"'),a=e.subParser("spanGamut")(a,b,f),"<th"+k+g+">"+a+"</th>\n"}function k(a,g){var h=e.subParser("spanGamut")(a,b,f);return"<td"+g+">"+h+"</td>\n"}function l(a,b){for(var e="<table>\n<thead>\n<tr>\n",f=a.length,g=0;f>g;++g)e+=a[g];e+="</tr>\n</thead>\n<tbody>\n";
for(g=0;g<b.length;++g){for(var e=e+"<tr>\n",h=0;f>h;++h)e+=b[g][h];e+="</tr>\n"}return e+"</tbody>\n</table>\n"}return b.tables?(a=f.converter._dispatch("tables.before",a,b,f),a=a.replace(/^ {0,3}\|?.+\|.+\n[ \t]{0,3}\|?[ \t]*:?[ \t]*(?:-|=){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:-|=){2,}[\s\S]+?(?:\n\n|~0)/gm,function(a){var b,f=a.split("\n");for(b=0;b<f.length;++b)/^ {0,3}\|/.test(f[b])&&(f[b]=f[b].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(f[b])&&(f[b]=f[b].replace(/\|[ \t]*$/,""));var m=f[0].split("|").map(function(a){return a.trim()}),
n=f[1].split("|").map(function(a){return a.trim()}),q=[],p=[],F=[],K=[];f.shift();f.shift();for(b=0;b<f.length;++b)""!==f[b].trim()&&q.push(f[b].split("|").map(function(a){return a.trim()}));if(m.length<n.length)return a;for(b=0;b<n.length;++b)F.push(g(n[b]));for(b=0;b<m.length;++b)e.helper.isUndefined(F[b])&&(F[b]=""),p.push(h(m[b],F[b]));for(b=0;b<q.length;++b){a=[];for(f=0;f<p.length;++f)e.helper.isUndefined(q[b][f]),a.push(k(q[b][f],F[f]));K.push(a)}return l(p,K)}),a=f.converter._dispatch("tables.after",
a,b,f)):a});e.subParser("unescapeSpecialChars",function(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var e=parseInt(b);return String.fromCharCode(e)})});"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):this.showdown=e}).call(this);+function(a){function h(e){return this.each(function(){var f=a(this),h=f.data("bs.affix"),k="object"==typeof e&&e;h||f.data("bs.affix",h=new b(this,k));if("string"==typeof e)h[e]()})}var b=function(e,f){this.options=a.extend({},b.DEFAULTS,f);this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this));this.$element=a(e);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()};
b.VERSION="3.3.1";b.RESET="affix affix-top affix-bottom";b.DEFAULTS={offset:0,target:window};b.prototype.getState=function(a,b,e,h){var n=this.$target.scrollTop(),m=this.$element.offset(),p=this.$target.height();if(null!=e&&"top"==this.affixed)return n<e?"top":!1;if("bottom"==this.affixed)return null!=e?n+this.unpin<=m.top?!1:"bottom":n+p<=a-h?!1:"bottom";var q=null==this.affixed,n=q?n:m.top;return null!=e&&n<=e?"top":null!=h&&n+(q?p:b)>=a-h?"bottom":!1};b.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;
this.$element.removeClass(b.RESET).addClass("affix");var a=this.$target.scrollTop();return this.pinnedOffset=this.$element.offset().top-a};b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)};b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),f=this.options.offset,h=f.top,k=f.bottom,n=a("body").height();"object"!=typeof f&&(k=h=f);"function"==typeof h&&(h=f.top(this.$element));"function"==typeof k&&(k=f.bottom(this.$element));
f=this.getState(n,e,h,k);if(this.affixed!=f){null!=this.unpin&&this.$element.css("top","");var h="affix"+(f?"-"+f:""),m=a.Event(h+".bs.affix");this.$element.trigger(m);if(m.isDefaultPrevented())return;this.affixed=f;this.unpin="bottom"==f?this.getPinnedOffset():null;this.$element.removeClass(b.RESET).addClass(h).trigger(h.replace("affix","affixed")+".bs.affix")}"bottom"==f&&this.$element.offset({top:n-e-k})}};var e=a.fn.affix;a.fn.affix=h;a.fn.affix.Constructor=b;a.fn.affix.noConflict=function(){a.fn.affix=
e;return this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),e=b.data();e.offset=e.offset||{};null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom);null!=e.offsetTop&&(e.offset.top=e.offsetTop);h.call(b,e)})})}(jQuery);
+function(a){var h=function(b){a(b).on("click",'[data-dismiss="alert"]',this.close)};h.VERSION="3.3.1";h.TRANSITION_DURATION=150;h.prototype.close=function(b){function g(){k.detach().trigger("closed.bs.alert").remove()}var f=a(this),l=f.attr("data-target");l||(l=(l=f.attr("href"))&&l.replace(/.*(?=#[^\s]*$)/,""));var k=a(l);b&&b.preventDefault();k.length||(k=f.closest(".alert"));k.trigger(b=a.Event("close.bs.alert"));b.isDefaultPrevented()||(k.removeClass("in"),a.support.transition&&k.hasClass("fade")?
k.one("bsTransitionEnd",g).emulateTransitionEnd(h.TRANSITION_DURATION):g())};var b=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var g=a(this),f=g.data("bs.alert");f||g.data("bs.alert",f=new h(this));"string"==typeof b&&f[b].call(g)})};a.fn.alert.Constructor=h;a.fn.alert.noConflict=function(){a.fn.alert=b;return this};a(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',h.prototype.close)}(jQuery);
+function(a){function h(e){return this.each(function(){var f=a(this),h=f.data("bs.button"),k="object"==typeof e&&e;h||f.data("bs.button",h=new b(this,k));"toggle"==e?h.toggle():e&&h.setState(e)})}var b=function(e,f){this.$element=a(e);this.options=a.extend({},b.DEFAULTS,f);this.isLoading=!1};b.VERSION="3.3.1";b.DEFAULTS={loadingText:"loading..."};b.prototype.setState=function(b){var e=this.$element,h=e.is("input")?"val":"html",k=e.data();b+="Text";null==k.resetText&&e.data("resetText",e[h]());setTimeout(a.proxy(function(){e[h](null==
k[b]?this.options[b]:k[b]);"loadingText"==b?(this.isLoading=!0,e.addClass("disabled").attr("disabled","disabled")):this.isLoading&&(this.isLoading=!1,e.removeClass("disabled").removeAttr("disabled"))},this),0)};b.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var e=this.$element.find("input");"radio"==e.prop("type")&&(e.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active"));a&&e.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",
!this.$element.hasClass("active"));a&&this.$element.toggleClass("active")};var e=a.fn.button;a.fn.button=h;a.fn.button.Constructor=b;a.fn.button.noConflict=function(){a.fn.button=e;return this};a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(b){var e=a(b.target);e.hasClass("btn")||(e=e.closest(".btn"));h.call(e,"toggle");b.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",
/^focus(in)?$/.test(b.type))})}(jQuery);
+function(a){function h(e){return this.each(function(){var g=a(this),h=g.data("bs.carousel"),n=a.extend({},b.DEFAULTS,g.data(),"object"==typeof e&&e),m="string"==typeof e?e:n.slide;h||g.data("bs.carousel",h=new b(this,n));if("number"==typeof e)h.to(e);else if(m)h[m]();else n.interval&&h.pause().cycle()})}var b=function(b,e){this.$element=a(b);this.$indicators=this.$element.find(".carousel-indicators");this.options=e;this.paused=this.sliding=this.interval=this.$active=this.$items=null;this.options.keyboard&&
this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this));"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};b.VERSION="3.3.1";b.TRANSITION_DURATION=600;b.DEFAULTS={interval:5E3,pause:"hover",wrap:!0,keyboard:!0};b.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();
break;default:return}a.preventDefault()}};b.prototype.cycle=function(b){b||(this.paused=!1);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval));return this};b.prototype.getItemIndex=function(a){this.$items=a.parent().children(".item");return this.$items.index(a||this.$active)};b.prototype.getItemForDirection=function(a,b){var e="prev"==a?-1:1,e=(this.getItemIndex(b)+e)%this.$items.length;return this.$items.eq(e)};
b.prototype.to=function(a){var b=this,e=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||0>a))return this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):e==a?this.pause().cycle():this.slide(a>e?"next":"prev",this.$items.eq(a))};b.prototype.pause=function(b){b||(this.paused=!0);this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0));this.interval=clearInterval(this.interval);
return this};b.prototype.next=function(){if(!this.sliding)return this.slide("next")};b.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};b.prototype.slide=function(e,g){var h=this.$element.find(".item.active"),n=g||this.getItemForDirection(e,h),m=this.interval,p="next"==e?"left":"right",q="next"==e?"first":"last",r=this;if(!n.length){if(!this.options.wrap)return;n=this.$element.find(".item")[q]()}if(n.hasClass("active"))return this.sliding=!1;var q=n[0],t=a.Event("slide.bs.carousel",
{relatedTarget:q,direction:p});this.$element.trigger(t);if(!t.isDefaultPrevented()){this.sliding=!0;m&&this.pause();this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),(t=a(this.$indicators.children()[this.getItemIndex(n)]))&&t.addClass("active"));var v=a.Event("slid.bs.carousel",{relatedTarget:q,direction:p});a.support.transition&&this.$element.hasClass("slide")?(n.addClass(e),n[0].offsetWidth,h.addClass(p),n.addClass(p),h.one("bsTransitionEnd",function(){n.removeClass([e,
p].join(" ")).addClass("active");h.removeClass(["active",p].join(" "));r.sliding=!1;setTimeout(function(){r.$element.trigger(v)},0)}).emulateTransitionEnd(b.TRANSITION_DURATION)):(h.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger(v));m&&this.cycle();return this}};var e=a.fn.carousel;a.fn.carousel=h;a.fn.carousel.Constructor=b;a.fn.carousel.noConflict=function(){a.fn.carousel=e;return this};var g=function(b){var e,g=a(this),n=a(g.attr("data-target")||(e=g.attr("href"))&&
e.replace(/.*(?=#[^\s]+$)/,""));if(n.hasClass("carousel")){e=a.extend({},n.data(),g.data());if(g=g.attr("data-slide-to"))e.interval=!1;h.call(n,e);g&&n.data("bs.carousel").to(g);b.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",g).on("click.bs.carousel.data-api","[data-slide-to]",g);a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);h.call(b,b.data())})})}(jQuery);
+function(a){function h(b){var e;b=b.attr("data-target")||(e=b.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(b)}function b(b){return this.each(function(){var g=a(this),h=g.data("bs.collapse"),n=a.extend({},e.DEFAULTS,g.data(),"object"==typeof b&&b);!h&&n.toggle&&"show"==b&&(n.toggle=!1);h||g.data("bs.collapse",h=new e(this,n));if("string"==typeof b)h[b]()})}var e=function(b,g){this.$element=a(b);this.options=a.extend({},e.DEFAULTS,g);this.$trigger=a(this.options.trigger).filter('[href="#'+
b.id+'"], [data-target="#'+b.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()};e.VERSION="3.3.1";e.TRANSITION_DURATION=350;e.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'};e.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var f,g=this.$parent&&
this.$parent.find("> .panel").children(".in, .collapsing");if(g&&g.length&&(f=g.data("bs.collapse"))&&f.transitioning)return;var h=a.Event("show.bs.collapse");this.$element.trigger(h);if(!h.isDefaultPrevented()){g&&g.length&&(b.call(g,"hide"),f||g.data("bs.collapse",null));var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0).attr("aria-expanded",!0);this.$trigger.removeClass("collapsed").attr("aria-expanded",!0);this.transitioning=1;f=function(){this.$element.removeClass("collapsing").addClass("collapse in")[n]("");
this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);g=a.camelCase(["scroll",n].join("-"));this.$element.one("bsTransitionEnd",a.proxy(f,this)).emulateTransitionEnd(e.TRANSITION_DURATION)[n](this.$element[0][g])}}};e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");this.$element.trigger(b);if(!b.isDefaultPrevented()){b=this.dimension();this.$element[b](this.$element[b]())[0].offsetHeight;
this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1);this.$trigger.addClass("collapsed").attr("aria-expanded",!1);this.transitioning=1;var g=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return g.call(this);this.$element[b](0).one("bsTransitionEnd",a.proxy(g,this)).emulateTransitionEnd(e.TRANSITION_DURATION)}}};e.prototype.toggle=function(){this[this.$element.hasClass("in")?
"hide":"show"]()};e.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(b,e){var g=a(e);this.addAriaAndCollapsedClass(h(g),g)},this)).end()};e.prototype.addAriaAndCollapsedClass=function(a,b){var e=a.hasClass("in");a.attr("aria-expanded",e);b.toggleClass("collapsed",!e).attr("aria-expanded",e)};var g=a.fn.collapse;a.fn.collapse=b;a.fn.collapse.Constructor=e;a.fn.collapse.noConflict=function(){a.fn.collapse=
g;return this};a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var g=a(this);g.attr("data-target")||e.preventDefault();e=h(g);g=e.data("bs.collapse")?"toggle":a.extend({},g.data(),{trigger:this});b.call(e,g)})}(jQuery);
+function(a){function h(e){e&&3===e.which||(a(".dropdown-backdrop").remove(),a('[data-toggle="dropdown"]').each(function(){var g=a(this),h=b(g),n={relatedTarget:this};h.hasClass("open")&&(h.trigger(e=a.Event("hide.bs.dropdown",n)),e.isDefaultPrevented()||(g.attr("aria-expanded","false"),h.removeClass("open").trigger("hidden.bs.dropdown",n),h.focus()))}))}function b(b){var e=b.attr("data-target");e||(e=(e=b.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));return(e=e&&a(e))&&e.length?
e:b.parent()}var e=function(b){a(b).on("click.bs.dropdown",this.toggle)};e.VERSION="3.3.1";e.prototype.toggle=function(e){var g=a(this);if(!g.is(".disabled, :disabled")){var k=b(g);e=k.hasClass("open");h();if(!e){if("ontouchstart"in document.documentElement&&!k.closest(".navbar-nav").length)a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",h);var n={relatedTarget:this};k.trigger(e=a.Event("show.bs.dropdown",n));if(e.isDefaultPrevented())return;g.trigger("focus").attr("aria-expanded",
"true");k.toggleClass("open").trigger("shown.bs.dropdown",n)}return!1}};e.prototype.keydown=function(a){!/(38|40|27|32)/.test(a.which)||/input|textarea/i.test(a.target.tagName)};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var g=a(this),h=g.data("bs.dropdown");h||g.data("bs.dropdown",h=new e(this));"string"==typeof b&&h[b].call(g)})};a.fn.dropdown.Constructor=e;a.fn.dropdown.noConflict=function(){a.fn.dropdown=g;return this};a(document).on("click.bs.dropdown.data-api",
h).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',e.prototype.toggle).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',e.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',e.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',e.prototype.keydown)}(jQuery);
+function(a){function h(e){return this.each(function(){var g=a(this),h=g.data("bs.tab");h||g.data("bs.tab",h=new b(this));if("string"==typeof e)h[e]()})}var b=function(b){this.element=a(b)};b.VERSION="3.3.1";b.TRANSITION_DURATION=150;b.prototype.show=function(){var b=this.element,e=b.closest("ul:not(.dropdown-menu)"),g=b.data("target");g||(g=(g=b.attr("href"))&&g.replace(/.*(?=#[^\s]*$)/,""));if(!b.parent("li").hasClass("active")){var h=e.find(".active:last a"),m=a.Event("hide.bs.tab",{relatedTarget:b[0]}),
p=a.Event("show.bs.tab",{relatedTarget:h[0]});h.trigger(m);b.trigger(p);p.isDefaultPrevented()||m.isDefaultPrevented()||(g=a(g),this.activate(b.closest("li"),e),this.activate(g,g.parent(),function(){h.trigger({type:"hidden.bs.tab",relatedTarget:b[0]});b.trigger({type:"shown.bs.tab",relatedTarget:h[0]})}))}};b.prototype.activate=function(e,g,h){function n(){m.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",
!0);p?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade");e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);h&&h()}var m=g.find("> .active"),p=h&&a.support.transition&&(m.length&&m.hasClass("fade")||!!g.find("> .fade").length);m.length&&p?m.one("bsTransitionEnd",n).emulateTransitionEnd(b.TRANSITION_DURATION):n();m.removeClass("in")};var e=a.fn.tab;a.fn.tab=h;a.fn.tab.Constructor=b;a.fn.tab.noConflict=function(){a.fn.tab=
e;return this};var g=function(b){b.preventDefault();h.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',g).on("click.bs.tab.data-api",'[data-toggle="pill"]',g)}(jQuery);
+function(a){function h(){var a=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},g;for(g in e)if(void 0!==a.style[g])return{end:e[g]};return!1}a.fn.emulateTransitionEnd=function(b){var e=!1,g=this;a(this).one("bsTransitionEnd",function(){e=!0});setTimeout(function(){e||a(g).trigger(a.support.transition.end)},b);return this};a(function(){a.support.transition=h();a.support.transition&&
(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery);
+function(a){function h(b,e){var l=a.proxy(this.process,this);this.$body=a("body");this.$scrollElement=a(b).is("body")?a(window):a(b);this.options=a.extend({},h.DEFAULTS,e);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",l);this.refresh();this.process()}function b(b){return this.each(function(){var e=a(this),l=e.data("bs.scrollspy"),k="object"==typeof b&&b;l||e.data("bs.scrollspy",
l=new h(this,k));if("string"==typeof b)l[b]()})}h.VERSION="3.3.1";h.DEFAULTS={offset:10};h.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};h.prototype.refresh=function(){var b="offset",e=0;a.isWindow(this.$scrollElement[0])||(b="position",e=this.$scrollElement.scrollTop());this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();var h=this;this.$body.find(this.selector).map(function(){var h=
a(this),h=h.data("target")||h.attr("href"),l=/^#./.test(h)&&a(h);return l&&l.length&&l.is(":visible")&&[[l[b]().top+e,h]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){h.offsets.push(this[0]);h.targets.push(this[1])})};h.prototype.process=function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=this.getScrollHeight(),e=this.options.offset+b-this.$scrollElement.height(),h=this.offsets,n=this.targets,m=this.activeTarget,p;this.scrollHeight!=b&&this.refresh();if(a>=e)return m!=
(p=n[n.length-1])&&this.activate(p);if(m&&a<h[0])return this.activeTarget=null,this.clear();for(p=h.length;p--;)m!=n[p]&&a>=h[p]&&(!h[p+1]||a<=h[p+1])&&this.activate(n[p])};h.prototype.activate=function(b){this.activeTarget=b;this.clear();b=a(this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]').parents("li").addClass("active");b.parent(".dropdown-menu").length&&(b=b.closest("li.dropdown").addClass("active"));b.trigger("activate.bs.scrollspy")};h.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,
".active").removeClass("active")};var e=a.fn.scrollspy;a.fn.scrollspy=b;a.fn.scrollspy.Constructor=h;a.fn.scrollspy.noConflict=function(){a.fn.scrollspy=e;return this};a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var e=a(this);b.call(e,e.data())})})}(jQuery);
+function(a){function h(e,f){return this.each(function(){var h=a(this),k=h.data("bs.modal"),n=a.extend({},b.DEFAULTS,h.data(),"object"==typeof e&&e);k||h.data("bs.modal",k=new b(this,n));if("string"==typeof e)k[e](f);else n.show&&k.show(f)})}var b=function(b,e){this.options=e;this.$body=a(document.body);this.$element=a(b);this.$backdrop=this.isShown=null;this.scrollbarWidth=0;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},
this))};b.VERSION="3.3.1";b.TRANSITION_DURATION=300;b.BACKDROP_TRANSITION_DURATION=150;b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};b.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)};b.prototype.show=function(e){var f=this,h=a.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(h);this.isShown||h.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",
'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var h=a.support.transition&&f.$element.hasClass("fade");f.$element.parent().length||f.$element.appendTo(f.$body);f.$element.show().scrollTop(0);f.options.backdrop&&f.adjustBackdrop();f.adjustDialog();h&&f.$element[0].offsetWidth;f.$element.addClass("in").attr("aria-hidden",!1);f.enforceFocus();var l=a.Event("shown.bs.modal",{relatedTarget:e});h?f.$element.find(".modal-dialog").one("bsTransitionEnd",function(){f.$element.trigger("focus").trigger(l)}).emulateTransitionEnd(b.TRANSITION_DURATION):
f.$element.trigger("focus").trigger(l)}))};b.prototype.hide=function(e){e&&e.preventDefault();e=a.Event("hide.bs.modal");this.$element.trigger(e);this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(b.TRANSITION_DURATION):
this.hideModal())};b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))};b.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this));else this.isShown||this.$element.off("keydown.dismiss.bs.modal")};b.prototype.resize=function(){if(this.isShown)a(window).on("resize.bs.modal",
a.proxy(this.handleUpdate,this));else a(window).off("resize.bs.modal")};b.prototype.hideModal=function(){var a=this;this.$element.hide();this.backdrop(function(){a.$body.removeClass("modal-open");a.resetAdjustments();a.resetScrollbar();a.$element.trigger("hidden.bs.modal")})};b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};b.prototype.backdrop=function(e){var f=this,h=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var k=
a.support.transition&&h;this.$backdrop=a('<div class="modal-backdrop '+h+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this));k&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");e&&(k?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(b.BACKDROP_TRANSITION_DURATION):e())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),
h=function(){f.removeBackdrop();e&&e()},a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",h).emulateTransitionEnd(b.BACKDROP_TRANSITION_DURATION):h()):e&&e()};b.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop();this.adjustDialog()};b.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)};b.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;
this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})};b.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};b.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight;this.scrollbarWidth=this.measureScrollbar()};b.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);
this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)};b.prototype.resetScrollbar=function(){this.$body.css("padding-right","")};b.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure";this.$body.append(a);var b=a.offsetWidth-a.clientWidth;this.$body[0].removeChild(a);return b};var e=a.fn.modal;a.fn.modal=h;a.fn.modal.Constructor=b;a.fn.modal.noConflict=function(){a.fn.modal=e;return this};a(document).on("click.bs.modal.data-api",
'[data-toggle="modal"]',function(b){var e=a(this),l=e.attr("href"),k=a(e.attr("data-target")||l&&l.replace(/.*(?=#[^\s]+$)/,"")),l=k.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(l)&&l},k.data(),e.data());e.is("a")&&b.preventDefault();k.one("show.bs.modal",function(a){if(!a.isDefaultPrevented())k.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})});h.call(k,l,this)})}(jQuery);
+function(a){var h=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",a,b)};h.VERSION="3.3.1";h.TRANSITION_DURATION=150;h.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};h.prototype.init=function(b,g,f){this.enabled=
!0;this.type=b;this.$element=a(g);this.options=this.getOptions(f);this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);b=this.options.trigger.split(" ");for(g=b.length;g--;)if(f=b[g],"click"==f)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=f){var h="hover"==f?"mouseleave":"focusout";this.$element.on(("hover"==f?"mouseenter":"focusin")+"."+this.type,this.options.selector,a.proxy(this.enter,this));this.$element.on(h+
"."+this.type,this.options.selector,a.proxy(this.leave,this))}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};h.prototype.getDefaults=function(){return h.DEFAULTS};h.prototype.getOptions=function(b){b=a.extend({},this.getDefaults(),this.$element.data(),b);b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay});return b};h.prototype.getDelegateOptions=function(){var b={},g=this.getDefaults();this._options&&a.each(this._options,
function(a,h){g[a]!=h&&(b[a]=h)});return b};h.prototype.enter=function(b){var g=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(g&&g.$tip&&g.$tip.is(":visible"))g.hoverState="in";else{g||(g=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,g));clearTimeout(g.timeout);g.hoverState="in";if(!g.options.delay||!g.options.delay.show)return g.show();g.timeout=setTimeout(function(){"in"==g.hoverState&&g.show()},g.options.delay.show)}};
h.prototype.leave=function(b){var g=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);g||(g=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,g));clearTimeout(g.timeout);g.hoverState="out";if(!g.options.delay||!g.options.delay.hide)return g.hide();g.timeout=setTimeout(function(){"out"==g.hoverState&&g.hide()},g.options.delay.hide)};h.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);
var g=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(!b.isDefaultPrevented()&&g){var f=this,b=this.tip(),g=this.getUID(this.type);this.setContent();b.attr("id",g);this.$element.attr("aria-describedby",g);this.options.animation&&b.addClass("fade");var g="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,k=l.test(g);k&&(g=g.replace(l,"")||"top");b.detach().css({top:0,left:0,display:"block"}).addClass(g).data("bs."+
this.type,this);this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element);var l=this.getPosition(),n=b[0].offsetWidth,m=b[0].offsetHeight;if(k){var k=g,p=this.options.container?a(this.options.container):this.$element.parent(),p=this.getPosition(p),g="bottom"==g&&l.bottom+m>p.bottom?"top":"top"==g&&l.top-m<p.top?"bottom":"right"==g&&l.right+n>p.width?"left":"left"==g&&l.left-n<p.left?"right":g;b.removeClass(k).addClass(g)}l=this.getCalculatedOffset(g,l,n,m);this.applyPlacement(l,
g);g=function(){var a=f.hoverState;f.$element.trigger("shown.bs."+f.type);f.hoverState=null;"out"==a&&f.leave(f)};a.support.transition&&this.$tip.hasClass("fade")?b.one("bsTransitionEnd",g).emulateTransitionEnd(h.TRANSITION_DURATION):g()}}};h.prototype.applyPlacement=function(b,g){var f=this.tip(),h=f[0].offsetWidth,k=f[0].offsetHeight,n=parseInt(f.css("margin-top"),10),m=parseInt(f.css("margin-left"),10);isNaN(n)&&(n=0);isNaN(m)&&(m=0);b.top+=n;b.left+=m;a.offset.setOffset(f[0],a.extend({using:function(a){f.css({top:Math.round(a.top),
left:Math.round(a.left)})}},b),0);f.addClass("in");var m=f[0].offsetWidth,p=f[0].offsetHeight;"top"==g&&p!=k&&(b.top=b.top+k-p);var q=this.getViewportAdjustedDelta(g,b,m,p);q.left?b.left+=q.left:b.top+=q.top;h=(n=/top|bottom/.test(g))?2*q.left-h+m:2*q.top-k+p;k=n?"offsetWidth":"offsetHeight";f.offset(b);this.replaceArrow(h,f[0][k],n)};h.prototype.replaceArrow=function(a,b,f){this.arrow().css(f?"left":"top",50*(1-a/b)+"%").css(f?"top":"left","")};h.prototype.setContent=function(){var a=this.tip(),
b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")};h.prototype.hide=function(b){function g(){"in"!=f.hoverState&&l.detach();f.$element.removeAttr("aria-describedby").trigger("hidden.bs."+f.type);b&&b()}var f=this,l=this.tip(),k=a.Event("hide.bs."+this.type);this.$element.trigger(k);if(!k.isDefaultPrevented())return l.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?l.one("bsTransitionEnd",g).emulateTransitionEnd(h.TRANSITION_DURATION):
g(),this.hoverState=null,this};h.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")};h.prototype.hasContent=function(){return this.getTitle()};h.prototype.getPosition=function(b){b=b||this.$element;var g=b[0],f="BODY"==g.tagName,g=g.getBoundingClientRect();null==g.width&&(g=a.extend({},g,{width:g.right-g.left,height:g.bottom-g.top}));var h=f?{top:0,left:0}:b.offset();
b={scroll:f?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()};f=f?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},g,b,f,h)};h.prototype.getCalculatedOffset=function(a,b,f,h){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-f/2}:"top"==a?{top:b.top-h,left:b.left+b.width/2-f/2}:"left"==a?{top:b.top+b.height/2-h/2,left:b.left-f}:{top:b.top+b.height/2-h/2,left:b.left+b.width}};h.prototype.getViewportAdjustedDelta=function(a,b,f,h){var k=
{top:0,left:0};if(!this.$viewport)return k;var n=this.options.viewport&&this.options.viewport.padding||0,m=this.getPosition(this.$viewport);/right|left/.test(a)?(f=b.top-n-m.scroll,b=b.top+n-m.scroll+h,f<m.top?k.top=m.top-f:b>m.top+m.height&&(k.top=m.top+m.height-b)):(h=b.left-n,b=b.left+n+f,h<m.left?k.left=m.left-h:b>m.width&&(k.left=m.left+m.width-b));return k};h.prototype.getTitle=function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):
b.title)};h.prototype.getUID=function(a){do a+=~~(1E6*Math.random());while(document.getElementById(a));return a};h.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)};h.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};h.prototype.enable=function(){this.enabled=!0};h.prototype.disable=function(){this.enabled=!1};h.prototype.toggleEnabled=function(){this.enabled=!this.enabled};h.prototype.toggle=function(b){var g=this;b&&(g=a(b.currentTarget).data("bs."+
this.type),g||(g=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,g)));g.tip().hasClass("in")?g.leave(g):g.enter(g)};h.prototype.destroy=function(){var a=this;clearTimeout(this.timeout);this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type)})};var b=a.fn.tooltip;a.fn.tooltip=function(b){return this.each(function(){var g=a(this),f=g.data("bs.tooltip"),l="object"==typeof b&&b,k=l&&l.selector;if(f||"destroy"!=b)if(k?(f||g.data("bs.tooltip",
f={}),f[k]||(f[k]=new h(this,l))):f||g.data("bs.tooltip",f=new h(this,l)),"string"==typeof b)f[b]()})};a.fn.tooltip.Constructor=h;a.fn.tooltip.noConflict=function(){a.fn.tooltip=b;return this}}(jQuery);
+function(a){var h=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw Error("Popover requires tooltip.js");h.VERSION="3.3.1";h.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});h.prototype=a.extend({},a.fn.tooltip.Constructor.prototype);h.prototype.constructor=h;h.prototype.getDefaults=function(){return h.DEFAULTS};
h.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),f=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b);a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof f?"html":"append":"text"](f);a.removeClass("fade top bottom left right in");a.find(".popover-title").html()||a.find(".popover-title").hide()};h.prototype.hasContent=function(){return this.getTitle()||this.getContent()};h.prototype.getContent=function(){var a=this.$element,
b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)};h.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};h.prototype.tip=function(){this.$tip||(this.$tip=a(this.options.template));return this.$tip};var b=a.fn.popover;a.fn.popover=function(b){return this.each(function(){var g=a(this),f=g.data("bs.popover"),l="object"==typeof b&&b,k=l&&l.selector;if(f||"destroy"!=b)if(k?(f||g.data("bs.popover",f={}),f[k]||(f[k]=
new h(this,l))):f||g.data("bs.popover",f=new h(this,l)),"string"==typeof b)f[b]()})};a.fn.popover.Constructor=h;a.fn.popover.noConflict=function(){a.fn.popover=b;return this}}(jQuery);(function(a,h){"function"===typeof define&&define.amd?define(["jquery"],function(a){return h(a)}):"object"===typeof exports?module.exports=h(require("jquery")):h(jQuery)})(this,function(a){(function(a){function b(b){a.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,
ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){b=b.replace(this.re,this.ch)});return b}function e(b,e){var f=arguments,g=b,k=e;[].shift.apply(f);var l,m=this.each(function(){var b=a(this);if(b.is("select")){var e=b.data("selectpicker"),m="object"==typeof g&&g;if(!e)e=a.extend({},p.DEFAULTS,a.fn.selectpicker.defaults||{},b.data(),m),e.template=a.extend({},p.DEFAULTS.template,a.fn.selectpicker.defaults?a.fn.selectpicker.defaults.template:{},b.data().template,m.template),b.data("selectpicker",
e=new p(this,e,k));else if(m)for(var n in m)m.hasOwnProperty(n)&&(e.options[n]=m[n]);"string"==typeof g&&(l=e[g]instanceof Function?e[g].apply(e,f):e.options[g])}});return"undefined"!==typeof l?l:m}String.prototype.includes||function(){var a={}.toString,b=function(){try{var a={},b=Object.defineProperty,e=b(a,a,a)&&b}catch(f){}return e}(),e="".indexOf,f=function(b){if(null==this)throw new TypeError;var f=String(this);if(b&&"[object RegExp]"==a.call(b))throw new TypeError;var g=f.length,h=String(b),
k=h.length,l=1<arguments.length?arguments[1]:void 0,l=l?Number(l):0;l!=l&&(l=0);var m=Math.min(Math.max(l,0),g);return k+m>g?!1:-1!=e.call(f,h,l)};b?b(String.prototype,"includes",{value:f,configurable:!0,writable:!0}):String.prototype.includes=f}();String.prototype.startsWith||function(){var a=function(){try{var a={},b=Object.defineProperty,e=b(a,a,a)&&b}catch(f){}return e}(),b={}.toString,e=function(a){if(null==this)throw new TypeError;var e=String(this);if(a&&"[object RegExp]"==b.call(a))throw new TypeError;
var f=e.length,g=String(a),h=g.length,k=1<arguments.length?arguments[1]:void 0,k=k?Number(k):0;k!=k&&(k=0);k=Math.min(Math.max(k,0),f);if(h+k>f)return!1;for(f=-1;++f<h;)if(e.charCodeAt(k+f)!=g.charCodeAt(f))return!1;return!0};a?a(String.prototype,"startsWith",{value:e,configurable:!0,writable:!0}):String.prototype.startsWith=e}();Object.keys||(Object.keys=function(a,b,e){e=[];for(b in a)e.hasOwnProperty.call(a,b)&&e.push(b);return e});var g=!1,f=a.valHooks.select.set;a.valHooks.select.set=function(b,
e){e&&!g&&a(b).data("selected",!0);return f.apply(this,arguments)};var l=null;a.fn.triggerNative=function(a){var b=this[0],e;b.dispatchEvent?("function"===typeof Event?e=new Event(a,{bubbles:!0}):(e=document.createEvent("Event"),e.initEvent(a,!0,!1)),b.dispatchEvent(e)):b.fireEvent?(e=document.createEventObject(),e.eventType=a,b.fireEvent("on"+a,e)):this.trigger(a)};a.expr.pseudos.icontains=function(b,e,f){b=a(b);return(b.data("tokens")||b.text()).toString().toUpperCase().includes(f[3].toUpperCase())};
a.expr.pseudos.ibegins=function(b,e,f){b=a(b);return(b.data("tokens")||b.text()).toString().toUpperCase().startsWith(f[3].toUpperCase())};a.expr.pseudos.aicontains=function(b,e,f){b=a(b);return(b.data("tokens")||b.data("normalizedText")||b.text()).toString().toUpperCase().includes(f[3].toUpperCase())};a.expr.pseudos.aibegins=function(b,e,f){b=a(b);return(b.data("tokens")||b.data("normalizedText")||b.text()).toString().toUpperCase().startsWith(f[3].toUpperCase())};var k=function(a){var b=function(b){return a[b]},
e="(?:"+Object.keys(a).join("|")+")",f=RegExp(e),g=RegExp(e,"g");return function(a){a=null==a?"":""+a;return f.test(a)?a.replace(g,b):a}},n=k({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),m=k({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"}),p=function(b,e,k){g||(a.valHooks.select.set=f,g=!0);k&&(k.stopPropagation(),k.preventDefault());this.$element=a(b);this.$lis=this.$menu=this.$button=this.$newElement=null;this.options=e;null===this.options.title&&
(this.options.title=this.$element.attr("title"));b=this.options.windowPadding;"number"===typeof b&&(this.options.windowPadding=[b,b,b,b]);this.val=p.prototype.val;this.render=p.prototype.render;this.refresh=p.prototype.refresh;this.setStyle=p.prototype.setStyle;this.selectAll=p.prototype.selectAll;this.deselectAll=p.prototype.deselectAll;this.destroy=p.prototype.destroy;this.remove=p.prototype.remove;this.show=p.prototype.show;this.hide=p.prototype.hide;this.init()};p.VERSION="1.11.2";p.DEFAULTS=
{noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(a,b){return 1==a?"{0} item selected":"{0} items selected"},maxOptionsText:function(a,b){return[1==a?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==b?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",
size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0};p.prototype={constructor:p,init:function(){var b=this,e=this.$element.attr("id");
this.$element.addClass("bs-select-hidden");this.liObj={};this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement).appendTo(this.$newElement);this.$button=this.$newElement.children("button");this.$menu=this.$newElement.children(".dropdown-menu");this.$menuInner=this.$menu.children(".inner");this.$searchbox=this.$menu.find("input");this.$element.removeClass("bs-select-hidden");!0===this.options.dropdownAlignRight&&
this.$menu.addClass("dropdown-menu-right");"undefined"!==typeof e&&(this.$button.attr("data-id",e),a('label[for="'+e+'"]').click(function(a){a.preventDefault();b.$button.focus()}));this.checkDisabled();this.clickListener();this.options.liveSearch&&this.liveSearchListener();this.render();this.setStyle();this.setWidth();this.options.container&&this.selectPosition();this.$menu.data("this",this);this.$newElement.data("this",this);this.options.mobile&&this.mobile();this.$newElement.on({"hide.bs.dropdown":function(a){b.$menuInner.attr("aria-expanded",
!1);b.$element.trigger("hide.bs.select",a)},"hidden.bs.dropdown":function(a){b.$element.trigger("hidden.bs.select",a)},"show.bs.dropdown":function(a){b.$menuInner.attr("aria-expanded",!0);b.$element.trigger("show.bs.select",a)},"shown.bs.dropdown":function(a){b.$element.trigger("shown.bs.select",a)}});if(b.$element[0].hasAttribute("required"))this.$element.on("invalid",function(){b.$button.addClass("bs-invalid").focus();b.$element.on({"focus.bs.select":function(){b.$button.focus();b.$element.off("focus.bs.select")},
"shown.bs.select":function(){b.$element.val(b.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&b.$button.removeClass("bs-invalid");b.$element.off("rendered.bs.select")}})});setTimeout(function(){b.$element.trigger("loaded.bs.select")})},createDropdown:function(){var b=this.multiple||this.options.showTick?" show-tick":"",e=this.$element.parent().hasClass("input-group")?" input-group-btn":"",f=this.autofocus?" autofocus":"",g=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+
this.options.header+"</div>":"",k=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+n(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"";return a('<div class="btn-group bootstrap-select'+b+e+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+f+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+
this.options.template.caret+'</span></button><div class="dropdown-menu open" role="combobox">'+g+k+(this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"")+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+
(this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"")+"</div></div>")},createView:function(){var a=this.createDropdown(),b=this.createLi();a.find("ul")[0].innerHTML=b;return a},reloadLi:function(){this.destroyLi();var a=this.createLi();this.$menuInner[0].innerHTML=a},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var e=
this,f=[],g=0,k=document.createElement("option"),l=-1,m=function(a,b,e,f){return"<li"+("undefined"!==typeof e&""!==e?' class="'+e+'"':"")+("undefined"!==typeof b&null!==b?' data-original-index="'+b+'"':"")+("undefined"!==typeof f&null!==f?'data-optgroup="'+f+'"':"")+">"+a+"</li>"},q=function(f,g,k,l){return'<a tabindex="0"'+("undefined"!==typeof g?' class="'+g+'"':"")+(k?' style="'+k+'"':"")+(e.options.liveSearchNormalize?' data-normalized-text="'+b(n(a(f).html()))+'"':"")+("undefined"!==typeof l||
null!==l?' data-tokens="'+l+'"':"")+' role="option">'+f+'<span class="'+e.options.iconBase+" "+e.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(l--,!this.$element.find(".bs-title-option").length)){var p=this.$element[0];k.className="bs-title-option";k.innerHTML=this.options.title;k.value="";p.insertBefore(k,p.firstChild);void 0===a(p.options[p.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")&&(k.selected=!0)}this.$element.find("option").each(function(b){var k=
a(this);l++;if(!k.hasClass("bs-title-option")){var p=this.className||"",F=this.style.cssText,x=k.data("content")?k.data("content"):k.html(),E=k.data("tokens")?k.data("tokens"):null,M="undefined"!==typeof k.data("subtext")?'<small class="text-muted">'+k.data("subtext")+"</small>":"",J="undefined"!==typeof k.data("icon")?'<span class="'+e.options.iconBase+" "+k.data("icon")+'"></span> ':"",N=k.parent(),L="OPTGROUP"===N[0].tagName,R=L&&N[0].disabled,P=this.disabled||R;""!==J&&P&&(J="<span>"+J+"</span>");
if(e.options.hideDisabled&&(P&&!L||R))l--;else{k.data("content")||(x=J+'<span class="text">'+x+M+"</span>");if(L&&!0!==k.data("divider")){if(e.options.hideDisabled&&P&&(void 0===N.data("allOptionsDisabled")&&(M=N.children(),N.data("allOptionsDisabled",M.filter(":disabled").length===M.length)),N.data("allOptionsDisabled"))){l--;return}M=" "+N[0].className||"";0===k.index()&&(g+=1,k=N[0].label,J="undefined"!==typeof N.data("subtext")?'<small class="text-muted">'+N.data("subtext")+"</small>":"",k=(N.data("icon")?
'<span class="'+e.options.iconBase+" "+N.data("icon")+'"></span> ':"")+'<span class="text">'+n(k)+J+"</span>",0!==b&&0<f.length&&(l++,f.push(m("",null,"divider",g+"div"))),l++,f.push(m(k,null,"dropdown-header"+M,g)));if(e.options.hideDisabled&&P){l--;return}f.push(m(q(x,"opt "+p+M,F,E),b,"",g))}else if(!0===k.data("divider"))f.push(m("",b,"divider"));else if(!0===k.data("hidden"))f.push(m(q(x,p,F,E),b,"hidden is-hidden"));else{N=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName;
if(!N&&e.options.hideDisabled)for(P=a(this).prevAll(),k=0;k<P.length;k++)if("OPTGROUP"===P[k].tagName){for(J=M=0;J<k;J++)L=P[J],(L.disabled||!0===a(L).data("hidden"))&&M++;M===k&&(N=!0);break}N&&(l++,f.push(m("",null,"divider",g+"div")));f.push(m(q(x,p,F,E),b))}e.liObj[b]=l}}});this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected");return f.join("")},findLis:function(){null==this.$lis&&
(this.$lis=this.$menu.find("li"));return this.$lis},render:function(b){var e=this,f;!1!==b&&this.$element.find("option").each(function(a){var b=e.findLis().eq(e.liObj[a]);e.setDisabled(a,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,b);e.setSelected(a,this.selected,b)});this.togglePlaceholder();this.tabIndex();b=this.$element.find("option").map(function(){if(this.selected&&(!e.options.hideDisabled||!(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))){var b=
a(this),f=b.data("icon")&&e.options.showIcon?'<i class="'+e.options.iconBase+" "+b.data("icon")+'"></i> ':"",g;g=e.options.showSubtext&&b.data("subtext")&&!e.multiple?' <small class="text-muted">'+b.data("subtext")+"</small>":"";return"undefined"!==typeof b.attr("title")?b.attr("title"):b.data("content")&&e.options.showContent?b.data("content").toString():f+b.html()+g}}).toArray();f=this.multiple?b.join(this.options.multipleSeparator):b[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var g=
this.options.selectedTextFormat.split(">");if(1<g.length&&b.length>g[1]||1==g.length&&2<=b.length)f=this.options.hideDisabled?", [disabled]":"",f=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+f).length,f=("function"===typeof this.options.countSelectedText?this.options.countSelectedText(b.length,f):this.options.countSelectedText).replace("{0}",b.length.toString()).replace("{1}",f.toString())}void 0==this.options.title&&(this.options.title=this.$element.attr("title"));
"static"==this.options.selectedTextFormat&&(f=this.options.title);f||(f="undefined"!==typeof this.options.title?this.options.title:this.options.noneSelectedText);this.$button.attr("title",m(a.trim(f.replace(/<[^>]*>?/g,""))));this.$button.children(".filter-option").html(f);this.$element.trigger("rendered.bs.select")},setStyle:function(a,b){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));
var e=a?a:this.options.style;"add"==b?this.$button.addClass(e):"remove"==b?this.$button.removeClass(e):(this.$button.removeClass(this.options.style),this.$button.addClass(e))},liHeight:function(b){if(b||!1!==this.options.size&&!this.sizeInfo){b=document.createElement("div");var e=document.createElement("div"),f=document.createElement("ul"),g=document.createElement("li"),k=document.createElement("li"),l=document.createElement("a"),m=document.createElement("span"),n=this.options.header&&0<this.$menu.find(".popover-title").length?
this.$menu.find(".popover-title")[0].cloneNode(!0):null,q=this.options.liveSearch?document.createElement("div"):null,p=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,D=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;m.className="text";b.className=this.$menu[0].parentNode.className+" open";e.className="dropdown-menu open";
f.className="dropdown-menu inner";g.className="divider";m.appendChild(document.createTextNode("Inner text"));l.appendChild(m);k.appendChild(l);f.appendChild(k);f.appendChild(g);n&&e.appendChild(n);q&&(k=document.createElement("span"),q.className="bs-searchbox",k.className="form-control",q.appendChild(k),e.appendChild(q));p&&e.appendChild(p);e.appendChild(f);D&&e.appendChild(D);b.appendChild(e);document.body.appendChild(b);f=l.offsetHeight;n=n?n.offsetHeight:0;q=q?q.offsetHeight:0;p=p?p.offsetHeight:
0;D=D?D.offsetHeight:0;g=a(g).outerHeight(!0);k=(l="function"===typeof getComputedStyle?getComputedStyle(e):!1)?null:a(e);e={vert:parseInt(l?l.paddingTop:k.css("paddingTop"))+parseInt(l?l.paddingBottom:k.css("paddingBottom"))+parseInt(l?l.borderTopWidth:k.css("borderTopWidth"))+parseInt(l?l.borderBottomWidth:k.css("borderBottomWidth")),horiz:parseInt(l?l.paddingLeft:k.css("paddingLeft"))+parseInt(l?l.paddingRight:k.css("paddingRight"))+parseInt(l?l.borderLeftWidth:k.css("borderLeftWidth"))+parseInt(l?
l.borderRightWidth:k.css("borderRightWidth"))};l={vert:e.vert+parseInt(l?l.marginTop:k.css("marginTop"))+parseInt(l?l.marginBottom:k.css("marginBottom"))+2,horiz:e.horiz+parseInt(l?l.marginLeft:k.css("marginLeft"))+parseInt(l?l.marginRight:k.css("marginRight"))+2};document.body.removeChild(b);this.sizeInfo={liHeight:f,headerHeight:n,searchHeight:q,actionsHeight:p,doneButtonHeight:D,dividerHeight:g,menuPadding:e,menuExtras:l}}},setSize:function(){this.findLis();this.liHeight();this.options.header&&
this.$menu.css("padding-top",0);if(!1!==this.options.size){var b=this,e=this.$menu,f=this.$menuInner,g=a(window),k=this.$newElement[0].offsetHeight,l=this.$newElement[0].offsetWidth,m=this.sizeInfo.liHeight,n=this.sizeInfo.headerHeight,q=this.sizeInfo.searchHeight,p=this.sizeInfo.actionsHeight,D=this.sizeInfo.doneButtonHeight,F=this.sizeInfo.dividerHeight,K=this.sizeInfo.menuPadding,G=this.sizeInfo.menuExtras,M=this.options.hideDisabled?".disabled":"",J,N,L,R,P,X,T,da,O=function(){var e=b.$newElement.offset(),
f=a(b.options.container),m;b.options.container&&!f.is("body")?(m=f.offset(),m.top+=parseInt(f.css("borderTopWidth")),m.left+=parseInt(f.css("borderLeftWidth"))):m={top:0,left:0};f=b.options.windowPadding;P=e.top-m.top-g.scrollTop();X=g.height()-P-k-m.top-f[2];T=e.left-m.left-g.scrollLeft();da=g.width()-T-l-m.left-f[1];P-=f[0];T-=f[3]};O();"auto"===this.options.size?(F=function(){var g;g=function(b,e){return function(f){return e?f.classList?f.classList.contains(b):a(f).hasClass(b):!(f.classList?f.classList.contains(b):
a(f).hasClass(b))}};var k=b.$menuInner[0].getElementsByTagName("li"),k=Array.prototype.filter?Array.prototype.filter.call(k,g("hidden",!1)):b.$lis.not(".hidden");g=Array.prototype.filter?Array.prototype.filter.call(k,g("dropdown-header",!0)):k.filter(".dropdown-header");O();J=X-G.vert;N=da-G.horiz;b.options.container?(e.data("height")||e.data("height",e.height()),L=e.data("height"),e.data("width")||e.data("width",e.width()),R=e.data("width")):(L=e.height(),R=e.width());b.options.dropupAuto&&b.$newElement.toggleClass("dropup",
P>X&&J-G.vert<L);b.$newElement.hasClass("dropup")&&(J=P-G.vert);"auto"===b.options.dropdownAlignRight&&e.toggleClass("dropdown-menu-right",T>da&&N-G.horiz<R-l);g=3<k.length+g.length?3*m+G.vert-2:0;e.css({"max-height":J+"px",overflow:"hidden","min-height":g+n+q+p+D+"px"});f.css({"max-height":J-n-q-p-D-K.vert+"px","overflow-y":"auto","min-height":Math.max(g-K.vert,0)+"px"})},F(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",F),g.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",
F)):this.options.size&&"auto"!=this.options.size&&this.$lis.not(M).length>this.options.size&&(M=this.$lis.not(".divider").not(M).children().slice(0,this.options.size).last().parent().index(),M=this.$lis.slice(0,M+1).filter(".divider").length,J=m*this.options.size+M*F+K.vert,b.options.container?(e.data("height")||e.data("height",e.height()),L=e.data("height")):L=e.height(),b.options.dropupAuto&&this.$newElement.toggleClass("dropup",P>X&&J-G.vert<L),e.css({"max-height":J+n+q+p+D+"px",overflow:"hidden",
"min-height":""}),f.css({"max-height":J-K.vert+"px","overflow-y":"auto","min-height":""}))}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var a=this.$menu.parent().clone().appendTo("body"),b=this.options.container?this.$newElement.clone().appendTo("body"):a,e=a.children(".dropdown-menu").outerWidth(),f=b.css("width","auto").children("button").outerWidth();a.remove();b.remove();this.$newElement.css("width",Math.max(e,f)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",
""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=a('<div class="bs-container" />');var b=this,e=a(this.options.container),f,g,k,l=function(a){b.$bsContainer.addClass(a.attr("class").replace(/form-control|fit-width/gi,
"")).toggleClass("dropup",a.hasClass("dropup"));f=a.offset();e.is("body")?g={top:0,left:0}:(g=e.offset(),g.top+=parseInt(e.css("borderTopWidth"))-e.scrollTop(),g.left+=parseInt(e.css("borderLeftWidth"))-e.scrollLeft());k=a.hasClass("dropup")?0:a[0].offsetHeight;b.$bsContainer.css({top:f.top-g.top+k,left:f.left-g.left,width:a[0].offsetWidth})};this.$button.on("click",function(){var e=a(this);b.isDisabled()||(l(b.$newElement),b.$bsContainer.appendTo(b.options.container).toggleClass("open",!e.hasClass("open")).append(b.$menu))});
a(window).on("resize scroll",function(){l(b.$newElement)});this.$element.on("hide.bs.select",function(){b.$menu.data("height",b.$menu.height());b.$bsContainer.detach()})},setSelected:function(a,b,e){e||(this.togglePlaceholder(),e=this.findLis().eq(this.liObj[a]));e.toggleClass("selected",b).find("a").attr("aria-selected",b)},setDisabled:function(a,b,e){e||(e=this.findLis().eq(this.liObj[a]));b?e.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):e.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",
0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var a=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled").attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex"));
this.$button.click(function(){return!a.isDisabled()})},togglePlaceholder:function(){var a=this.$element.val();this.$button.toggleClass("bs-placeholder",null===a||""===a||a.constructor===Array&&0===a.length)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")));this.$element.attr("tabindex",
-98)},clickListener:function(){var b=this,e=a(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(a){a.stopPropagation()});e.data("spaceSelect",!1);this.$button.on("keyup",function(a){/(32)/.test(a.keyCode.toString(10))&&e.data("spaceSelect")&&(a.preventDefault(),e.data("spaceSelect",!1))});this.$button.on("click",function(){b.setSize()});this.$element.on("shown.bs.select",function(){if(!b.options.liveSearch&&!b.multiple)b.$menuInner.find(".selected a").focus();else if(!b.multiple){var a=
b.liObj[b.$element[0].selectedIndex];"number"===typeof a&&!1!==b.options.size&&(a=b.$lis.eq(a)[0].offsetTop-b.$menuInner[0].offsetTop,a=a-b.$menuInner[0].offsetHeight/2+b.sizeInfo.liHeight/2,b.$menuInner[0].scrollTop=a)}});this.$menuInner.on("click","li a",function(e){var f=a(this),g=f.parent().data("originalIndex"),k=b.$element.val(),m=b.$element.prop("selectedIndex"),n=!0;b.multiple&&1!==b.options.maxOptions&&e.stopPropagation();e.preventDefault();if(!b.isDisabled()&&!f.parent().hasClass("disabled")){var q=
b.$element.find("option");e=q.eq(g);var p=e.prop("selected"),D=e.parent("optgroup"),F=b.options.maxOptions,t=D.data("maxOptions")||!1;if(b.multiple){if(e.prop("selected",!p),b.setSelected(g,!p),f.blur(),!1!==F||!1!==t){var G=F<q.filter(":selected").length,M=t<D.find("option:selected").length;if(F&&G||t&&M)if(F&&1==F)q.prop("selected",!1),e.prop("selected",!0),b.$menuInner.find(".selected").removeClass("selected"),b.setSelected(g,!0);else if(t&&1==t)D.find("option:selected").prop("selected",!1),e.prop("selected",
!0),F=f.parent().data("optgroup"),b.$menuInner.find('[data-optgroup="'+F+'"]').removeClass("selected"),b.setSelected(g,!0);else{var f="string"===typeof b.options.maxOptionsText?[b.options.maxOptionsText,b.options.maxOptionsText]:b.options.maxOptionsText,f="function"===typeof f?f(F,t):f,q=f[0].replace("{n}",F),D=f[1].replace("{n}",t),J=a('<div class="notify"></div>');f[2]&&(q=q.replace("{var}",f[2][1<F?0:1]),D=D.replace("{var}",f[2][1<t?0:1]));e.prop("selected",!1);b.$menu.append(J);F&&G&&(J.append(a("<div>"+
q+"</div>")),n=!1,b.$element.trigger("maxReached.bs.select"));t&&M&&(J.append(a("<div>"+D+"</div>")),n=!1,b.$element.trigger("maxReachedGrp.bs.select"));setTimeout(function(){b.setSelected(g,!1)},10);J.delay(750).fadeOut(300,function(){a(this).remove()})}}}else q.prop("selected",!1),e.prop("selected",!0),b.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),b.setSelected(g,!0);!b.multiple||b.multiple&&1===b.options.maxOptions?b.$button.focus():b.options.liveSearch&&
b.$searchbox.focus();n&&(k!=b.$element.val()&&b.multiple||m!=b.$element.prop("selectedIndex")&&!b.multiple)&&(l=[g,e.prop("selected"),p],b.$element.triggerNative("change"))}});this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),b.options.liveSearch&&!a(e.target).hasClass("close")?b.$searchbox.focus():b.$button.focus())});this.$menuInner.on("click",".divider, .dropdown-header",function(a){a.preventDefault();
a.stopPropagation();b.options.liveSearch?b.$searchbox.focus():b.$button.focus()});this.$menu.on("click",".popover-title .close",function(){b.$button.click()});this.$searchbox.on("click",function(a){a.stopPropagation()});this.$menu.on("click",".actions-btn",function(e){b.options.liveSearch?b.$searchbox.focus():b.$button.focus();e.preventDefault();e.stopPropagation();a(this).hasClass("bs-select-all")?b.selectAll():b.deselectAll()});this.$element.change(function(){b.render(!1);b.$element.trigger("changed.bs.select",
l);l=null})},liveSearchListener:function(){var e=this,f=a('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){e.$menuInner.find(".active").removeClass("active");e.$searchbox.val()&&(e.$searchbox.val(""),e.$lis.not(".is-hidden").removeClass("hidden"),f.parent().length&&f.remove());e.multiple||e.$menuInner.find(".selected").addClass("active");setTimeout(function(){e.$searchbox.focus()},10)});this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",
function(a){a.stopPropagation()});this.$searchbox.on("input propertychange",function(){e.$lis.not(".is-hidden").removeClass("hidden");e.$lis.filter(".active").removeClass("active");f.remove();if(e.$searchbox.val()){var g=e.$lis.not(".is-hidden, .divider, .dropdown-header"),k;k=e.options.liveSearchNormalize?g.not(":a"+e._searchStyle()+'("'+b(e.$searchbox.val())+'")'):g.not(":"+e._searchStyle()+'("'+e.$searchbox.val()+'")');if(k.length===g.length)f.html(e.options.noneResultsText.replace("{0}",'"'+n(e.$searchbox.val())+
'"')),e.$menuInner.append(f),e.$lis.addClass("hidden");else{k.addClass("hidden");var l=e.$lis.not(".hidden"),m;l.each(function(b){var e=a(this);e.hasClass("divider")?void 0===m?e.addClass("hidden"):(m&&m.addClass("hidden"),m=e):e.hasClass("dropdown-header")&&l.eq(b+1).data("optgroup")!==e.data("optgroup")?e.addClass("hidden"):m=null});m&&m.addClass("hidden");g.not(".hidden").first().addClass("active")}}})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||
"icontains"},val:function(a){return"undefined"!==typeof a?(this.$element.val(a),this.render(),this.$element):this.$element.val()},changeAll:function(b){if(this.multiple){"undefined"===typeof b&&(b=!0);this.findLis();var e=this.$element.find("option"),f=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),g=f.length,k=[];if(b){if(f.filter(".selected").length===f.length)return}else if(0===f.filter(".selected").length)return;f.toggleClass("selected",b);for(var l=0;l<g;l++){var m=f[l].getAttribute("data-original-index");
k[k.length]=e.eq(m)[0]}a(k).prop("selected",b);this.render(!1);this.togglePlaceholder();this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(a){(a=a||window.event)&&a.stopPropagation();this.$button.trigger("click")},keydown:function(e){var f=a(this),g=f.is("input")?f.parent().parent():f.parent(),k,l=g.data("this"),m,n,q,p,A,D,F,K={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",
57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};l.options.liveSearch&&(g=f.parent().parent());l.options.container&&(g=l.$menu);k=a('[role="listbox"] li',g);F=l.$newElement.hasClass("open");if(!F&&(48<=e.keyCode&&57>=e.keyCode||96<=e.keyCode&&105>=e.keyCode||65<=e.keyCode&&90>=
e.keyCode))l.options.container?l.$button.trigger("click"):(l.setSize(),l.$menu.parent().addClass("open"),F=!0),l.$searchbox.focus();else if(l.options.liveSearch&&(/(^9$|27)/.test(e.keyCode.toString(10))&&F&&(e.preventDefault(),e.stopPropagation(),l.$menuInner.click(),l.$button.focus()),k=a('[role="listbox"] li:not(.disabled, .hidden, .dropdown-header, .divider)',g),f.val()||/(38|40)/.test(e.keyCode.toString(10))||0!==k.filter(".active").length||(k=l.$menuInner.find("li"),k=l.options.liveSearchNormalize?
k.filter(":a"+l._searchStyle()+"("+b(K[e.keyCode])+")"):k.filter(":"+l._searchStyle()+"("+K[e.keyCode]+")"))),k.length){if(/(38|40)/.test(e.keyCode.toString(10)))g=k.index(k.find("a").filter(":focus").parent()),n=k.filter(":not(.disabled, .hidden, .dropdown-header, .divider)").first().index(),q=k.filter(":not(.disabled, .hidden, .dropdown-header, .divider)").last().index(),m=k.eq(g).nextAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),p=k.eq(g).prevAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),
A=k.eq(m).prevAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),l.options.liveSearch&&(k.each(function(b){a(this).hasClass("disabled")||a(this).data("index",b)}),g=k.index(k.filter(".active")),n=k.first().data("index"),q=k.last().data("index"),m=k.eq(g).nextAll().eq(0).data("index"),p=k.eq(g).prevAll().eq(0).data("index"),A=k.eq(m).prevAll().eq(0).data("index")),D=f.data("prevIndex"),38==e.keyCode?(l.options.liveSearch&&g--,g!=A&&g>p&&(g=p),g<n&&(g=n),g==D&&(g=q)):40==e.keyCode&&
(l.options.liveSearch&&g++,-1==g&&(g=0),g!=A&&g<m&&(g=m),g>q&&(g=q),g==D&&(g=n)),f.data("prevIndex",g),l.options.liveSearch?(e.preventDefault(),f.hasClass("dropdown-toggle")||(k.removeClass("active").eq(g).addClass("active").children("a").focus(),f.focus())):k.eq(g).children("a").focus();else if(!f.is("input")){var G=[];k.each(function(){a(this).hasClass("disabled")||a.trim(a(this).children("a").text().toLowerCase()).substring(0,1)==K[e.keyCode]&&G.push(a(this).index())});g=a(document).data("keycount");
g++;a(document).data("keycount",g);a.trim(a(":focus").text().toLowerCase()).substring(0,1)!=K[e.keyCode]?(g=1,a(document).data("keycount",g)):g>=G.length&&(a(document).data("keycount",0),g>G.length&&(g=1));k.eq(G[g-1]).children("a").focus()}(/(13|32)/.test(e.keyCode.toString(10))||/(^9$)/.test(e.keyCode.toString(10))&&l.options.selectOnTab)&&F&&(/(32)/.test(e.keyCode.toString(10))||e.preventDefault(),l.options.liveSearch?/(32)/.test(e.keyCode.toString(10))||(l.$menuInner.find(".active a").click(),
f.focus()):(f=a(":focus"),f.click(),f.focus(),e.preventDefault(),a(document).data("spaceSelect",!0)),a(document).data("keycount",0));if(/(^9$|27)/.test(e.keyCode.toString(10))&&F&&(l.multiple||l.options.liveSearch)||/(27)/.test(e.keyCode.toString(10))&&!F)l.$menu.parent().removeClass("open"),l.options.container&&l.$newElement.removeClass("open"),l.$button.focus()}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null;this.liObj={};this.reloadLi();this.render();
this.checkDisabled();this.liHeight(!0);this.setStyle();this.setWidth();this.$lis&&this.$searchbox.trigger("propertychange");this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove();this.$bsContainer?this.$bsContainer.remove():this.$menu.remove();this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};
var q=a.fn.selectpicker;a.fn.selectpicker=e;a.fn.selectpicker.Constructor=p;a.fn.selectpicker.noConflict=function(){a.fn.selectpicker=q;return this};a(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',p.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(a){a.stopPropagation()});a(window).on("load.bs.select.data-api",
function(){a(".selectpicker").each(function(){var b=a(this);e.call(b,b.data())})})})(a)});(function(a,h){"undefined"!==typeof module&&module.exports?"undefined"!==typeof process&&"electron"in process.versions?a.BootstrapDialog=h(a.jQuery):module.exports=h(require("jquery"),require("bootstrap")):"function"===typeof define&&define.amd?define("bootstrap-dialog",["jquery","bootstrap"],function(a){return h(a)}):a.BootstrapDialog=h(a.jQuery)})(this,function(a){var h=a.fn.modal.Constructor,b=function(a,b){h.call(this,a,b)};b.getModalVersion=function(){var b=null;return b="undefined"===typeof a.fn.modal.Constructor.VERSION?
"v3.1":/3\.2\.\d+/.test(a.fn.modal.Constructor.VERSION)?"v3.2":/3\.3\.[1,2]/.test(a.fn.modal.Constructor.VERSION)?"v3.3":"v3.3.4"};b.ORIGINAL_BODY_PADDING=parseInt(a("body").css("padding-right")||0,10);b.METHODS_TO_OVERRIDE={};b.METHODS_TO_OVERRIDE["v3.1"]={};b.METHODS_TO_OVERRIDE["v3.2"]={hide:function(b){b&&b.preventDefault();b=a.Event("hide.bs.modal");this.$element.trigger(b);this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,0===this.getGlobalOpenedDialogs().length&&this.$body.removeClass("modal-open"),
this.resetScrollbar(),this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())}};b.METHODS_TO_OVERRIDE["v3.3"]={setScrollbar:function(){var a=b.ORIGINAL_BODY_PADDING;this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},resetScrollbar:function(){0===
this.getGlobalOpenedDialogs().length&&this.$body.css("padding-right",b.ORIGINAL_BODY_PADDING)},hideModal:function(){this.$element.hide();this.backdrop(a.proxy(function(){0===this.getGlobalOpenedDialogs().length&&this.$body.removeClass("modal-open");this.resetAdjustments();this.resetScrollbar();this.$element.trigger("hidden.bs.modal")},this))}};b.METHODS_TO_OVERRIDE["v3.3.4"]=a.extend({},b.METHODS_TO_OVERRIDE["v3.3"]);b.prototype={constructor:b,getGlobalOpenedDialogs:function(){var b=[];a.each(e.dialogs,
function(a,e){e.isRealized()&&e.isOpened()&&b.push(e)});return b}};b.prototype=a.extend(b.prototype,h.prototype,b.METHODS_TO_OVERRIDE[b.getModalVersion()]);var e=function(b){this.defaultOptions=a.extend(!0,{id:e.newGuid(),buttons:[],data:{},onshow:null,onshown:null,onhide:null,onhidden:null},e.defaultOptions);this.indexedButtons={};this.registeredButtonHotkeys={};this.draggableData={isMouseDown:!1,mouseOffset:{}};this.opened=this.realized=!1;this.initOptions(b);this.holdThisInstance()};e.BootstrapDialogModal=
b;e.NAMESPACE="bootstrap-dialog";e.TYPE_DEFAULT="type-default";e.TYPE_INFO="type-info";e.TYPE_PRIMARY="type-primary";e.TYPE_SUCCESS="type-success";e.TYPE_WARNING="type-warning";e.TYPE_DANGER="type-danger";e.DEFAULT_TEXTS={};e.DEFAULT_TEXTS[e.TYPE_DEFAULT]="Information";e.DEFAULT_TEXTS[e.TYPE_INFO]="Information";e.DEFAULT_TEXTS[e.TYPE_PRIMARY]="Information";e.DEFAULT_TEXTS[e.TYPE_SUCCESS]="Success";e.DEFAULT_TEXTS[e.TYPE_WARNING]="Warning";e.DEFAULT_TEXTS[e.TYPE_DANGER]="Danger";e.DEFAULT_TEXTS.OK=
"OK";e.DEFAULT_TEXTS.CANCEL="Cancel";e.DEFAULT_TEXTS.CONFIRM="Confirmation";e.SIZE_NORMAL="size-normal";e.SIZE_SMALL="size-small";e.SIZE_WIDE="size-wide";e.SIZE_LARGE="size-large";e.BUTTON_SIZES={};e.BUTTON_SIZES[e.SIZE_NORMAL]="";e.BUTTON_SIZES[e.SIZE_SMALL]="";e.BUTTON_SIZES[e.SIZE_WIDE]="";e.BUTTON_SIZES[e.SIZE_LARGE]="btn-lg";e.ICON_SPINNER="glyphicon glyphicon-asterisk";e.defaultOptions={type:e.TYPE_PRIMARY,size:e.SIZE_NORMAL,cssClass:"",title:null,message:null,nl2br:!0,closable:!0,closeByBackdrop:!0,
closeByKeyboard:!0,spinicon:e.ICON_SPINNER,autodestroy:!0,draggable:!1,animate:!1,description:"",tabindex:-1};e.configDefaultOptions=function(b){e.defaultOptions=a.extend(!0,e.defaultOptions,b)};e.dialogs={};e.openAll=function(){a.each(e.dialogs,function(a,b){b.open()})};e.closeAll=function(){a.each(e.dialogs,function(a,b){b.close()})};e.getDialog=function(a){var b=null;"undefined"!==typeof e.dialogs[a]&&(b=e.dialogs[a]);return b};e.setDialog=function(a){return e.dialogs[a.getId()]=a};e.addDialog=
function(a){return e.setDialog(a)};e.moveFocus=function(){var b=null;a.each(e.dialogs,function(a,e){b=e});null!==b&&b.isRealized()&&b.getModal().focus()};e.METHODS_TO_OVERRIDE={};e.METHODS_TO_OVERRIDE["v3.1"]={handleModalBackdropEvent:function(){this.getModal().on("click",{dialog:this},function(a){a.target===this&&a.data.dialog.isClosable()&&a.data.dialog.canCloseByBackdrop()&&a.data.dialog.close()});return this},updateZIndex:function(){var b=0;a.each(e.dialogs,function(a,e){b++});var f=this.getModal(),
h=f.data("bs.modal").$backdrop;f.css("z-index",1050+20*(b-1));h.css("z-index",1040+20*(b-1));return this},open:function(){!this.isRealized()&&this.realize();this.getModal().modal("show");this.updateZIndex();return this}};e.METHODS_TO_OVERRIDE["v3.2"]={handleModalBackdropEvent:e.METHODS_TO_OVERRIDE["v3.1"].handleModalBackdropEvent,updateZIndex:e.METHODS_TO_OVERRIDE["v3.1"].updateZIndex,open:e.METHODS_TO_OVERRIDE["v3.1"].open};e.METHODS_TO_OVERRIDE["v3.3"]={};e.METHODS_TO_OVERRIDE["v3.3.4"]=a.extend({},
e.METHODS_TO_OVERRIDE["v3.1"]);e.prototype={constructor:e,initOptions:function(b){this.options=a.extend(!0,this.defaultOptions,b);return this},holdThisInstance:function(){e.addDialog(this);return this},initModalStuff:function(){this.setModal(this.createModal()).setModalDialog(this.createModalDialog()).setModalContent(this.createModalContent()).setModalHeader(this.createModalHeader()).setModalBody(this.createModalBody()).setModalFooter(this.createModalFooter());this.getModal().append(this.getModalDialog());
this.getModalDialog().append(this.getModalContent());this.getModalContent().append(this.getModalHeader()).append(this.getModalBody()).append(this.getModalFooter());return this},createModal:function(){var b=a('<div class="modal" role="dialog" aria-hidden="true"></div>');b.prop("id",this.getId());b.attr("aria-labelledby",this.getId()+"_title");return b},getModal:function(){return this.$modal},setModal:function(a){this.$modal=a;return this},createModalDialog:function(){return a('<div class="modal-dialog"></div>')},
getModalDialog:function(){return this.$modalDialog},setModalDialog:function(a){this.$modalDialog=a;return this},createModalContent:function(){return a('<div class="modal-content"></div>')},getModalContent:function(){return this.$modalContent},setModalContent:function(a){this.$modalContent=a;return this},createModalHeader:function(){return a('<div class="modal-header"></div>')},getModalHeader:function(){return this.$modalHeader},setModalHeader:function(a){this.$modalHeader=a;return this},createModalBody:function(){return a('<div class="modal-body"></div>')},
getModalBody:function(){return this.$modalBody},setModalBody:function(a){this.$modalBody=a;return this},createModalFooter:function(){return a('<div class="modal-footer"></div>')},getModalFooter:function(){return this.$modalFooter},setModalFooter:function(a){this.$modalFooter=a;return this},createDynamicContent:function(a){var b=null,b="function"===typeof a?a.call(a,this):a;"string"===typeof b&&(b=this.formatStringContent(b));return b},formatStringContent:function(a){return this.options.nl2br?a.replace(/\r\n/g,
"<br />").replace(/[\r\n]/g,"<br />"):a},setData:function(a,b){this.options.data[a]=b;return this},getData:function(a){return this.options.data[a]},setId:function(a){this.options.id=a;return this},getId:function(){return this.options.id},getType:function(){return this.options.type},setType:function(a){this.options.type=a;this.updateType();return this},updateType:function(){if(this.isRealized()){var a=[e.TYPE_DEFAULT,e.TYPE_INFO,e.TYPE_PRIMARY,e.TYPE_SUCCESS,e.TYPE_WARNING,e.TYPE_DANGER];this.getModal().removeClass(a.join(" ")).addClass(this.getType())}return this},
getSize:function(){return this.options.size},setSize:function(a){this.options.size=a;this.updateSize();return this},updateSize:function(){if(this.isRealized()){var b=this;this.getModal().removeClass(e.SIZE_NORMAL).removeClass(e.SIZE_SMALL).removeClass(e.SIZE_WIDE).removeClass(e.SIZE_LARGE);this.getModal().addClass(this.getSize());this.getModalDialog().removeClass("modal-sm");this.getSize()===e.SIZE_SMALL&&this.getModalDialog().addClass("modal-sm");this.getModalDialog().removeClass("modal-lg");this.getSize()===
e.SIZE_WIDE&&this.getModalDialog().addClass("modal-lg");a.each(this.options.buttons,function(e,h){var k=b.getButton(h.id),n=["btn-lg","btn-sm","btn-xs"],m=!1;if("string"===typeof h.cssClass){var p=h.cssClass.split(" ");a.each(p,function(b,e){-1!==a.inArray(e,n)&&(m=!0)})}m||(k.removeClass(n.join(" ")),k.addClass(b.getButtonSize()))})}return this},getCssClass:function(){return this.options.cssClass},setCssClass:function(a){this.options.cssClass=a;return this},getTitle:function(){return this.options.title},
setTitle:function(a){this.options.title=a;this.updateTitle();return this},updateTitle:function(){if(this.isRealized()){var a=null!==this.getTitle()?this.createDynamicContent(this.getTitle()):this.getDefaultText();this.getModalHeader().find("."+this.getNamespace("title")).html("").append(a).prop("id",this.getId()+"_title")}return this},getMessage:function(){return this.options.message},setMessage:function(a){this.options.message=a;this.updateMessage();return this},updateMessage:function(){if(this.isRealized()){var a=
this.createDynamicContent(this.getMessage());this.getModalBody().find("."+this.getNamespace("message")).html("").append(a)}return this},isClosable:function(){return this.options.closable},setClosable:function(a){this.options.closable=a;this.updateClosable();return this},setCloseByBackdrop:function(a){this.options.closeByBackdrop=a;return this},canCloseByBackdrop:function(){return this.options.closeByBackdrop},setCloseByKeyboard:function(a){this.options.closeByKeyboard=a;return this},canCloseByKeyboard:function(){return this.options.closeByKeyboard},
isAnimate:function(){return this.options.animate},setAnimate:function(a){this.options.animate=a;return this},updateAnimate:function(){this.isRealized()&&this.getModal().toggleClass("fade",this.isAnimate());return this},getSpinicon:function(){return this.options.spinicon},setSpinicon:function(a){this.options.spinicon=a;return this},addButton:function(a){this.options.buttons.push(a);return this},addButtons:function(b){var e=this;a.each(b,function(a,b){e.addButton(b)});return this},getButtons:function(){return this.options.buttons},
setButtons:function(a){this.options.buttons=a;this.updateButtons();return this},getButton:function(a){return"undefined"!==typeof this.indexedButtons[a]?this.indexedButtons[a]:null},getButtonSize:function(){return"undefined"!==typeof e.BUTTON_SIZES[this.getSize()]?e.BUTTON_SIZES[this.getSize()]:""},updateButtons:function(){this.isRealized()&&(0===this.getButtons().length?this.getModalFooter().hide():this.getModalFooter().show().find("."+this.getNamespace("footer")).html("").append(this.createFooterButtons()));
return this},isAutodestroy:function(){return this.options.autodestroy},setAutodestroy:function(a){this.options.autodestroy=a},getDescription:function(){return this.options.description},setDescription:function(a){this.options.description=a;return this},setTabindex:function(a){this.options.tabindex=a;return this},getTabindex:function(){return this.options.tabindex},updateTabindex:function(){this.isRealized()&&this.getModal().attr("tabindex",this.getTabindex());return this},getDefaultText:function(){return e.DEFAULT_TEXTS[this.getType()]},
getNamespace:function(a){return e.NAMESPACE+"-"+a},createHeaderContent:function(){var b=a("<div></div>");b.addClass(this.getNamespace("header"));b.append(this.createTitleContent());b.prepend(this.createCloseButton());return b},createTitleContent:function(){var b=a("<div></div>");b.addClass(this.getNamespace("title"));return b},createCloseButton:function(){var b=a("<div></div>");b.addClass(this.getNamespace("close-button"));var e=a('<button class="close">&times;</button>');b.append(e);b.on("click",
{dialog:this},function(a){a.data.dialog.close()});return b},createBodyContent:function(){var b=a("<div></div>");b.addClass(this.getNamespace("body"));b.append(this.createMessageContent());return b},createMessageContent:function(){var b=a("<div></div>");b.addClass(this.getNamespace("message"));return b},createFooterContent:function(){var b=a("<div></div>");b.addClass(this.getNamespace("footer"));return b},createFooterButtons:function(){var b=this,f=a("<div></div>");f.addClass(this.getNamespace("footer-buttons"));
this.indexedButtons={};a.each(this.options.buttons,function(a,h){h.id||(h.id=e.newGuid());var n=b.createButton(h);b.indexedButtons[h.id]=n;f.append(n)});return f},createButton:function(b){var e=a('<button class="btn"></button>');e.prop("id",b.id);e.data("button",b);"undefined"!==typeof b.icon&&""!==a.trim(b.icon)&&e.append(this.createButtonIcon(b.icon));"undefined"!==typeof b.label&&e.append(b.label);"undefined"!==typeof b.cssClass&&""!==a.trim(b.cssClass)?e.addClass(b.cssClass):e.addClass("btn-default");
"undefined"!==typeof b.hotkey&&(this.registeredButtonHotkeys[b.hotkey]=e);e.on("click",{dialog:this,$button:e,button:b},function(a){var b=a.data.dialog,e=a.data.$button,f=e.data("button");"function"===typeof f.action&&f.action.call(e,b,a);f.autospin&&e.toggleSpin(!0)});this.enhanceButton(e);"undefined"!==typeof b.enabled&&e.toggleEnable(b.enabled);return e},enhanceButton:function(a){a.dialog=this;a.toggleEnable=function(a){"undefined"!==typeof a?this.prop("disabled",!a).toggleClass("disabled",!a):
this.prop("disabled",!this.prop("disabled"));return this};a.enable=function(){this.toggleEnable(!0);return this};a.disable=function(){this.toggleEnable(!1);return this};a.toggleSpin=function(b){var e=this.dialog,h=this.find("."+e.getNamespace("button-icon"));"undefined"===typeof b&&(b=!(0<a.find(".icon-spin").length));b?(h.hide(),a.prepend(e.createButtonIcon(e.getSpinicon()).addClass("icon-spin"))):(h.show(),a.find(".icon-spin").remove());return this};a.spin=function(){this.toggleSpin(!0);return this};
a.stopSpin=function(){this.toggleSpin(!1);return this};return this},createButtonIcon:function(b){var e=a("<span></span>");e.addClass(this.getNamespace("button-icon")).addClass(b);return e},enableButtons:function(b){a.each(this.indexedButtons,function(a,e){e.toggleEnable(b)});return this},updateClosable:function(){this.isRealized()&&this.getModalHeader().find("."+this.getNamespace("close-button")).toggle(this.isClosable());return this},onShow:function(a){this.options.onshow=a;return this},onShown:function(a){this.options.onshown=
a;return this},onHide:function(a){this.options.onhide=a;return this},onHidden:function(a){this.options.onhidden=a;return this},isRealized:function(){return this.realized},setRealized:function(a){this.realized=a;return this},isOpened:function(){return this.opened},setOpened:function(a){this.opened=a;return this},handleModalEvents:function(){this.getModal().on("show.bs.modal",{dialog:this},function(a){var b=a.data.dialog;b.setOpened(!0);if(b.isModalEvent(a)&&"function"===typeof b.options.onshow)return a=
b.options.onshow(b),!1===a&&b.setOpened(!1),a});this.getModal().on("shown.bs.modal",{dialog:this},function(a){var b=a.data.dialog;b.isModalEvent(a)&&"function"===typeof b.options.onshown&&b.options.onshown(b)});this.getModal().on("hide.bs.modal",{dialog:this},function(a){var b=a.data.dialog;b.setOpened(!1);if(b.isModalEvent(a)&&"function"===typeof b.options.onhide)return a=b.options.onhide(b),!1===a&&b.setOpened(!0),a});this.getModal().on("hidden.bs.modal",{dialog:this},function(b){var f=b.data.dialog;
f.isModalEvent(b)&&"function"===typeof f.options.onhidden&&f.options.onhidden(f);f.isAutodestroy()&&(f.setRealized(!1),delete e.dialogs[f.getId()],a(this).remove());e.moveFocus()});this.handleModalBackdropEvent();this.getModal().on("keyup",{dialog:this},function(a){27===a.which&&a.data.dialog.isClosable()&&a.data.dialog.canCloseByKeyboard()&&a.data.dialog.close()});this.getModal().on("keyup",{dialog:this},function(b){var e=b.data.dialog;"undefined"!==typeof e.registeredButtonHotkeys[b.which]&&(b=
a(e.registeredButtonHotkeys[b.which]),!b.prop("disabled")&&b.focus().trigger("click"))});return this},handleModalBackdropEvent:function(){this.getModal().on("click",{dialog:this},function(b){a(b.target).hasClass("modal-backdrop")&&b.data.dialog.isClosable()&&b.data.dialog.canCloseByBackdrop()&&b.data.dialog.close()});return this},isModalEvent:function(a){return"undefined"!==typeof a.namespace&&"bs.modal"===a.namespace},makeModalDraggable:function(){this.options.draggable&&(this.getModalHeader().addClass(this.getNamespace("draggable")).on("mousedown",
{dialog:this},function(a){var b=a.data.dialog;b.draggableData.isMouseDown=!0;var e=b.getModalDialog().offset();b.draggableData.mouseOffset={top:a.clientY-e.top,left:a.clientX-e.left}}),this.getModal().on("mouseup mouseleave",{dialog:this},function(a){a.data.dialog.draggableData.isMouseDown=!1}),a("body").on("mousemove",{dialog:this},function(a){var b=a.data.dialog;b.draggableData.isMouseDown&&b.getModalDialog().offset({top:a.clientY-b.draggableData.mouseOffset.top,left:a.clientX-b.draggableData.mouseOffset.left})}));
return this},realize:function(){this.initModalStuff();this.getModal().addClass(e.NAMESPACE).addClass(this.getCssClass());this.updateSize();this.getDescription()&&this.getModal().attr("aria-describedby",this.getDescription());this.getModalFooter().append(this.createFooterContent());this.getModalHeader().append(this.createHeaderContent());this.getModalBody().append(this.createBodyContent());this.getModal().data("bs.modal",new b(this.getModal(),{backdrop:"static",keyboard:!1,show:!1}));this.makeModalDraggable();
this.handleModalEvents();this.setRealized(!0);this.updateButtons();this.updateType();this.updateTitle();this.updateMessage();this.updateClosable();this.updateAnimate();this.updateSize();this.updateTabindex();return this},open:function(){!this.isRealized()&&this.realize();this.getModal().modal("show");return this},close:function(a){!this.isRealized()&&this.realize();this.getModal().modal("hide");!1!==a&&this.owner&&this.owner.onCancel();return this}};e.prototype=a.extend(e.prototype,e.METHODS_TO_OVERRIDE[b.getModalVersion()]);
e.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)})};e.show=function(a){return(new e(a)).open()};e.alert=function(b,f){var h={},h={type:e.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,buttonLabel:e.DEFAULT_TEXTS.OK,callback:null},h="object"===typeof b&&b.constructor==={}.constructor?a.extend(!0,h,b):a.extend(!0,h,{message:b,callback:"undefined"!==typeof f?f:null});return(new e({type:h.type,
title:h.title,message:h.message,closable:h.closable,draggable:h.draggable,data:{callback:h.callback},onhide:function(a){!a.getData("btnClicked")&&a.isClosable()&&"function"===typeof a.getData("callback")&&a.getData("callback")(!1)},buttons:[{label:h.buttonLabel,action:function(a){a.setData("btnClicked",!0);"function"===typeof a.getData("callback")&&a.getData("callback")(!0);a.close()}}]})).open()};e.confirm=function(b,f){var h={},h={type:e.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,
btnCancelLabel:e.DEFAULT_TEXTS.CANCEL,btnOKLabel:e.DEFAULT_TEXTS.OK,btnOKClass:null,callback:null},h="object"===typeof b&&b.constructor==={}.constructor?a.extend(!0,h,b):a.extend(!0,h,{message:b,closable:!1,buttonLabel:e.DEFAULT_TEXTS.OK,callback:"undefined"!==typeof f?f:null});null===h.btnOKClass&&(h.btnOKClass=["btn",h.type.split("-")[1]].join("-"));return(new e({type:h.type,title:h.title,message:h.message,closable:h.closable,draggable:h.draggable,data:{callback:h.callback},buttons:[{label:h.btnCancelLabel,
action:function(a){"function"===typeof a.getData("callback")&&a.getData("callback")(!1);a.close()}},{label:h.btnOKLabel,cssClass:h.btnOKClass,action:function(a){"function"===typeof a.getData("callback")&&a.getData("callback")(!0);a.close()}}]})).open()};e.warning=function(a,b){return(new e({type:e.TYPE_WARNING,message:a})).open()};e.danger=function(a,b){return(new e({type:e.TYPE_DANGER,message:a})).open()};e.success=function(a,b){return(new e({type:e.TYPE_SUCCESS,message:a})).open()};return e});(function(a,h){function b(a,b,e){return[parseFloat(a[0])*(r.test(a[0])?b/100:1),parseFloat(a[1])*(r.test(a[1])?e/100:1)]}function e(b){var e=b[0];return 9===e.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(e)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var g,f=Math.max,l=Math.abs,k=
Math.round,n=/left|center|right/,m=/top|center|bottom/,p=/[\+\-]\d+(\.[\d]+)?%?/,q=/^\w+/,r=/%$/,t=a.fn.pos;a.pos={scrollbarWidth:function(){if(g!==h)return g;var b,e,f=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");e=f.children()[0];a("body").append(f);b=e.offsetWidth;f.css("overflow","scroll");e=e.offsetWidth;b===e&&(e=f[0].clientWidth);f.remove();return g=b-e},getScrollInfo:function(b){var e=b.isWindow||
b.isDocument?"":b.element.css("overflow-x"),f=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),e="scroll"===e||"auto"===e&&b.width<b.element[0].scrollWidth;return{width:"scroll"===f||"auto"===f&&b.height<b.element[0].scrollHeight?a.pos.scrollbarWidth():0,height:e?a.pos.scrollbarWidth():0}},getWithinInfo:function(b){b=a(b||window);var e=a.isWindow(b[0]);return{element:b,isWindow:e,isDocument:!!b[0]&&9===b[0].nodeType,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),
width:e?b.width():b.outerWidth(),height:e?b.height():b.outerHeight()}}};a.fn.pos=function(g){if(!g||!g.of)return t.apply(this,arguments);g=a.extend({},g);var h,r,z,B,E,w,A=a(g.of),D=a.pos.getWithinInfo(g.within),F=a.pos.getScrollInfo(D),K=(g.collision||"flip").split(" "),G={};w=e(A);A[0].preventDefault&&(g.at="left top");r=w.width;z=w.height;B=w.offset;E=a.extend({},B);a.each(["my","at"],function(){var a=(g[this]||"").split(" "),b,e;1===a.length&&(a=n.test(a[0])?a.concat(["center"]):m.test(a[0])?
["center"].concat(a):["center","center"]);a[0]=n.test(a[0])?a[0]:"center";a[1]=m.test(a[1])?a[1]:"center";b=p.exec(a[0]);e=p.exec(a[1]);G[this]=[b?b[0]:0,e?e[0]:0];g[this]=[q.exec(a[0])[0],q.exec(a[1])[0]]});1===K.length&&(K[1]=K[0]);"right"===g.at[0]?E.left+=r:"center"===g.at[0]&&(E.left+=r/2);"bottom"===g.at[1]?E.top+=z:"center"===g.at[1]&&(E.top+=z/2);h=b(G.at,r,z);E.left+=h[0];E.top+=h[1];return this.each(function(){var e,m,n=a(this),q=n.outerWidth(),p=n.outerHeight(),w=parseInt(a.css(this,"marginLeft"),
10)||0,t=parseInt(a.css(this,"marginTop"),10)||0,T=q+w+(parseInt(a.css(this,"marginRight"),10)||0)+F.width,da=p+t+(parseInt(a.css(this,"marginBottom"),10)||0)+F.height,O=a.extend({},E),Z=b(G.my,n.outerWidth(),n.outerHeight());"right"===g.my[0]?O.left-=q:"center"===g.my[0]&&(O.left-=q/2);"bottom"===g.my[1]?O.top-=p:"center"===g.my[1]&&(O.top-=p/2);O.left+=Z[0];O.top+=Z[1];a.support.offsetFractions||(O.left=k(O.left),O.top=k(O.top));e={marginLeft:w,marginTop:t};a.each(["left","top"],function(b,f){if(a.ui.pos[K[b]])a.ui.pos[K[b]][f](O,
{targetWidth:r,targetHeight:z,elemWidth:q,elemHeight:p,collisionPosition:e,collisionWidth:T,collisionHeight:da,offset:[h[0]+Z[0],h[1]+Z[1]],my:g.my,at:g.at,within:D,elem:n})});g.using&&(m=function(a){var b=B.left-O.left,e=b+r-q,h=B.top-O.top,k=h+z-p,m={target:{element:A,left:B.left,top:B.top,width:r,height:z},element:{element:n,left:O.left,top:O.top,width:q,height:p},horizontal:0>e?"left":0<b?"right":"center",vertical:0>k?"top":0<h?"bottom":"middle"};r<q&&l(b+e)<r&&(m.horizontal="center");z<p&&l(h+
k)<z&&(m.vertical="middle");f(l(b),l(e))>f(l(h),l(k))?m.important="horizontal":m.important="vertical";g.using.call(this,a,m)});n.offset(a.extend(O,{using:m}))})};a.ui.pos={_trigger:function(a,b,e,f){b.elem&&b.elem.trigger({type:e,position:a,positionData:b,triggered:f})},fit:{left:function(b,e){a.ui.pos._trigger(b,e,"posCollide","fitLeft");var g=e.within,h=g.isWindow?g.scrollLeft:g.offset.left,k=g.width,l=b.left-e.collisionPosition.marginLeft,g=h-l,m=l+e.collisionWidth-k-h;e.collisionWidth>k?0<g&&
0>=m?(h=b.left+g+e.collisionWidth-k-h,b.left+=g-h):b.left=0<m&&0>=g?h:g>m?h+k-e.collisionWidth:h:b.left=0<g?b.left+g:0<m?b.left-m:f(b.left-l,b.left);a.ui.pos._trigger(b,e,"posCollided","fitLeft")},top:function(b,e){a.ui.pos._trigger(b,e,"posCollide","fitTop");var g=e.within,h=g.isWindow?g.scrollTop:g.offset.top,k=e.within.height,l=b.top-e.collisionPosition.marginTop,g=h-l,m=l+e.collisionHeight-k-h;e.collisionHeight>k?0<g&&0>=m?(h=b.top+g+e.collisionHeight-k-h,b.top+=g-h):b.top=0<m&&0>=g?h:g>m?h+k-
e.collisionHeight:h:b.top=0<g?b.top+g:0<m?b.top-m:f(b.top-l,b.top);a.ui.pos._trigger(b,e,"posCollided","fitTop")}},flip:{left:function(b,e){a.ui.pos._trigger(b,e,"posCollide","flipLeft");var f=e.within,g=f.offset.left+f.scrollLeft,h=f.width,k=f.isWindow?f.scrollLeft:f.offset.left,m=b.left-e.collisionPosition.marginLeft,f=m-k,n=m+e.collisionWidth-h-k,m="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,r="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,q=-2*e.offset[0];
if(0>f){if(g=b.left+m+r+q+e.collisionWidth-h-g,0>g||g<l(f))b.left+=m+r+q}else 0<n&&(g=b.left-e.collisionPosition.marginLeft+m+r+q-k,0<g||l(g)<n)&&(b.left+=m+r+q);a.ui.pos._trigger(b,e,"posCollided","flipLeft")},top:function(b,e){a.ui.pos._trigger(b,e,"posCollide","flipTop");var f=e.within,g=f.offset.top+f.scrollTop,h=f.height,k=f.isWindow?f.scrollTop:f.offset.top,m=b.top-e.collisionPosition.marginTop,f=m-k,n=m+e.collisionHeight-h-k,m="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,
r="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,q=-2*e.offset[1];0>f?(g=b.top+m+r+q+e.collisionHeight-h-g,b.top+m+r+q>f&&(0>g||g<l(f))&&(b.top+=m+r+q)):0<n&&(g=b.top-e.collisionPosition.marginTop+m+r+q-k,b.top+m+r+q>n&&(0<g||l(g)<n)&&(b.top+=m+r+q));a.ui.pos._trigger(b,e,"posCollided","flipTop")}},flipfit:{left:function(){a.ui.pos.flip.left.apply(this,arguments);a.ui.pos.fit.left.apply(this,arguments)},top:function(){a.ui.pos.flip.top.apply(this,arguments);a.ui.pos.fit.top.apply(this,
arguments)}}};(function(){var b,e,f,g,h=document.getElementsByTagName("body")[0];f=document.createElement("div");b=document.createElement(h?"div":"body");e={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};h&&a.extend(e,{position:"absolute",left:"-1000px",top:"-1000px"});for(g in e)b.style[g]=e[g];b.appendChild(f);e=h||document.documentElement;e.insertBefore(b,e.firstChild);f.style.cssText="position: absolute; left: 10.7432222px;";f=a(f).offset().left;a.support.offsetFractions=
10<f&&11>f;b.innerHTML="";e.removeChild(b)})()})(jQuery);(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):window.jQuery&&!window.jQuery.fn.iconpicker&&a(window.jQuery)})(function(a){var h={isEmpty:function(a){return!1===a||""===a||null===a||void 0===a},isEmptyObject:function(a){return!0===this.isEmpty(a)||0===a.length},isElement:function(b){return 0<a(b).length},isString:function(a){return"string"===typeof a||a instanceof String},isArray:function(b){return a.isArray(b)},inArray:function(b,g){return-1!==a.inArray(b,g)},throwError:function(a){throw"Font Awesome Icon Picker Exception: "+
a;}},b=function(e,g){this._id=b._idCounter++;this.element=a(e).addClass("iconpicker-element");this._trigger("iconpickerCreate");this.options=a.extend({},b.defaultOptions,this.element.data(),g);this.options.templates=a.extend({},b.defaultOptions.templates,this.options.templates);this.options.originalPlacement=this.options.placement;this.container=h.isElement(this.options.container)?a(this.options.container):!1;!1===this.container&&(this.element.is(".dropdown-toggle")?this.container=a("~ .dropdown-menu:first",
this.element):this.container=this.element.is("input,textarea,button,.btn")?this.element.parent():this.element);this.container.addClass("iconpicker-container");this.isDropdownMenu()&&(this.options.templates.search=!1,this.options.templates.buttons=!1,this.options.placement="inline");this.input=this.element.is("input,textarea")?this.element.addClass("iconpicker-input"):!1;!1===this.input&&(this.input=this.container.find(this.options.input),this.input.is("input,textarea")||(this.input=!1));this.component=
this.isDropdownMenu()?this.container.parent().find(this.options.component):this.container.find(this.options.component);0===this.component.length?this.component=!1:this.component.find("i").addClass("iconpicker-component");this._createPopover();this._createIconpicker();0===this.getAcceptButton().length&&(this.options.mustAccept=!1);this.isInputGroup()?this.container.parent().append(this.popover):this.container.append(this.popover);this._bindElementEvents();this._bindWindowEvents();this.update(this.options.selected);
this.isInline()&&this.show();this._trigger("iconpickerCreated")};b._idCounter=0;b.defaultOptions={title:!1,selected:!1,defaultValue:!1,placement:"bottom",collision:"none",animation:!0,hideOnSelect:!1,showFooter:!1,searchInFooter:!1,mustAccept:!1,selectedCustomClass:"bg-primary",icons:[],fullClassFormatter:function(a){return"fa "+a},input:"input,.iconpicker-input",inputSearch:!1,container:!1,component:".input-group-addon,.iconpicker-component",templates:{popover:'<div class="iconpicker-popover popover"><div class="arrow"></div><div class="popover-title"></div><div class="popover-content"></div></div>',
footer:'<div class="popover-footer"></div>',buttons:'<button class="iconpicker-btn iconpicker-btn-cancel btn btn-default btn-sm">Cancel</button> <button class="iconpicker-btn iconpicker-btn-accept btn btn-primary btn-sm">Accept</button>',search:'<input type="search" class="form-control iconpicker-search" placeholder="Type to filter" />',iconpicker:'<div class="iconpicker"><div class="iconpicker-items"></div></div>',iconpickerItem:'<a role="button" href="#" class="iconpicker-item"><i></i></a>'}};b.batch=
function(b,g){var f=Array.prototype.slice.call(arguments,2);return a(b).each(function(){var b=a(this).data("iconpicker");b&&b[g].apply(b,f)})};b.prototype={constructor:b,options:{},_id:0,_trigger:function(b,g){g=g||{};this.element.trigger(a.extend({type:b,iconpickerInstance:this},g))},_createPopover:function(){this.popover=a(this.options.templates.popover);var b=this.popover.find(".popover-title");this.options.title&&b.append(a('<div class="popover-title-text">'+this.options.title+"</div>"));this.hasSeparatedSearchInput()&&
!this.options.searchInFooter?b.append(this.options.templates.search):this.options.title||b.remove();this.options.showFooter&&!h.isEmpty(this.options.templates.footer)&&(b=a(this.options.templates.footer),this.hasSeparatedSearchInput()&&this.options.searchInFooter&&b.append(a(this.options.templates.search)),h.isEmpty(this.options.templates.buttons)||b.append(a(this.options.templates.buttons)),this.popover.append(b));!0===this.options.animation&&this.popover.addClass("fade");return this.popover},_createIconpicker:function(){var b=
this;this.iconpicker=a(this.options.templates.iconpicker);var g=function(f){var g=a(this);g.is("i")&&(g=g.parent());b._trigger("iconpickerSelect",{iconpickerItem:g,iconpickerValue:b.iconpickerValue});!1===b.options.mustAccept?(b.update(g.data("iconpickerValue")),b._trigger("iconpickerSelected",{iconpickerItem:this,iconpickerValue:b.iconpickerValue})):b.update(g.data("iconpickerValue"),!0);b.options.hideOnSelect&&!1===b.options.mustAccept&&b.hide();f.preventDefault();return!1},f;for(f in this.options.icons){var h=
a(this.options.templates.iconpickerItem);h.find("i").addClass(this.options.fullClassFormatter(this.options.icons[f]));h.data("iconpickerValue",this.options.icons[f]).on("click.iconpicker",g);this.iconpicker.find(".iconpicker-items").append(h.attr("title","."+this.options.icons[f]))}this.popover.find(".popover-content").append(this.iconpicker);return this.iconpicker},_isEventInsideIconpicker:function(b){b=a(b.target);return b.hasClass("iconpicker-element")&&(!b.hasClass("iconpicker-element")||b.is(this.element))||
0!==b.parents(".iconpicker-popover").length?!0:!1},_bindElementEvents:function(){var b=this;this.getSearchInput().on("keyup.iconpicker",function(){b.filter(a(this).val().toLowerCase())});this.getAcceptButton().on("click.iconpicker",function(){var a=b.iconpicker.find(".iconpicker-selected").get(0);b.update(b.iconpickerValue);b._trigger("iconpickerSelected",{iconpickerItem:a,iconpickerValue:b.iconpickerValue});b.isInline()||b.hide()});this.getCancelButton().on("click.iconpicker",function(){b.isInline()||
b.hide()});this.element.on("focus.iconpicker",function(a){b.show();a.stopPropagation()});if(this.hasComponent())this.component.on("click.iconpicker",function(){b.toggle()});if(this.hasInput())this.input.on("keyup.iconpicker",function(g){h.inArray(g.keyCode,[38,40,37,39,16,17,18,9,8,91,93,20,46,186,190,46,78,188,44,86])?b._updateFormGroupStatus(!1!==b.getValid(this.value)):b.update();!0===b.options.inputSearch&&b.filter(a(this).val().toLowerCase())})},_bindWindowEvents:function(){var b=a(window.document),
g=this,f=".iconpicker.inst"+this._id;a(window).on("resize.iconpicker"+f+" orientationchange.iconpicker"+f,function(a){g.popover.hasClass("in")&&g.updatePlacement()});if(!g.isInline())b.on("mouseup"+f,function(a){g._isEventInsideIconpicker(a)||g.isInline()||g.hide();a.stopPropagation();a.preventDefault();return!1});return!1},_unbindElementEvents:function(){this.popover.off(".iconpicker");this.element.off(".iconpicker");this.hasInput()&&this.input.off(".iconpicker");this.hasComponent()&&this.component.off(".iconpicker");
this.hasContainer()&&this.container.off(".iconpicker")},_unbindWindowEvents:function(){a(window).off(".iconpicker.inst"+this._id);a(window.document).off(".iconpicker.inst"+this._id)},updatePlacement:function(b,g){b=b||this.options.placement;this.options.placement=b;g=g||this.options.collision;g=!0===g?"flip":g;var f={at:"right bottom",my:"right top",of:this.hasInput()&&!this.isInputGroup()?this.input:this.container,collision:!0===g?"flip":g,within:window};this.popover.removeClass("inline topLeftCorner topLeft top topRight topRightCorner rightTop right rightBottom bottomRight bottomRightCorner bottom bottomLeft bottomLeftCorner leftBottom left leftTop");
if("object"===typeof b)return this.popover.pos(a.extend({},f,b));switch(b){case "inline":f=!1;break;case "topLeftCorner":f.my="right bottom";f.at="left top";break;case "topLeft":f.my="left bottom";f.at="left top";break;case "top":f.my="center bottom";f.at="center top";break;case "topRight":f.my="right bottom";f.at="right top";break;case "topRightCorner":f.my="left bottom";f.at="right top";break;case "rightTop":f.my="left bottom";f.at="right center";break;case "right":f.my="left center";f.at="right center";
break;case "rightBottom":f.my="left top";f.at="right center";break;case "bottomRightCorner":f.my="left top";f.at="right bottom";break;case "bottomRight":f.my="right top";f.at="right bottom";break;case "bottom":f.my="center top";f.at="center bottom";break;case "bottomLeft":f.my="left top";f.at="left bottom";break;case "bottomLeftCorner":f.my="right top";f.at="left bottom";break;case "leftBottom":f.my="right top";f.at="left center";break;case "left":f.my="right center";f.at="left center";break;case "leftTop":f.my=
"right bottom";f.at="left center";break;default:return!1}this.popover.css({display:"inline"===this.options.placement?"":"block"});!1!==f?this.popover.pos(f).css("maxWidth",a(window).width()-this.container.offset().left-5):this.popover.css({top:"auto",right:"auto",bottom:"auto",left:"auto",maxWidth:"none"});this.popover.addClass(this.options.placement);return!0},_updateComponents:function(){this.iconpicker.find(".iconpicker-item.iconpicker-selected").removeClass("iconpicker-selected "+this.options.selectedCustomClass);
this.iconpickerValue&&this.iconpicker.find("."+this.options.fullClassFormatter(this.iconpickerValue).replace(/ /g,".")).parent().addClass("iconpicker-selected "+this.options.selectedCustomClass);if(this.hasComponent()){var a=this.component.find("i");0<a.length?a.attr("class",this.options.fullClassFormatter(this.iconpickerValue)):this.component.html(this.getHtml())}},_updateFormGroupStatus:function(a){return this.hasInput()?(!1!==a?this.input.parents(".form-group:first").removeClass("has-error"):this.input.parents(".form-group:first").addClass("has-error"),
!0):!1},getValid:function(b){h.isString(b)||(b="");var g=""===b;b=a.trim(b);return h.inArray(b,this.options.icons)||g?b:!1},setValue:function(a){var b=this.getValid(a);if(!1!==b)return this.iconpickerValue=b,this._trigger("iconpickerSetValue",{iconpickerValue:b}),this.iconpickerValue;this._trigger("iconpickerInvalid",{iconpickerValue:a});return!1},getHtml:function(){return'<i class="'+this.options.fullClassFormatter(this.iconpickerValue)+'"></i>'},setSourceValue:function(a){a=this.setValue(a);!1!==
a&&""!==a&&(this.hasInput()?this.input.val(this.iconpickerValue):this.element.data("iconpickerValue",this.iconpickerValue),this._trigger("iconpickerSetSourceValue",{iconpickerValue:a}));return a},getSourceValue:function(a){var b=a=a||this.options.defaultValue,b=this.hasInput()?this.input.val():this.element.data("iconpickerValue");if(void 0===b||""===b||null===b||!1===b)b=a;return b},hasInput:function(){return!1!==this.input},isInputSearch:function(){return this.hasInput()&&!0===this.options.inputSearch},
isInputGroup:function(){return this.container.is(".input-group")},isDropdownMenu:function(){return this.container.is(".dropdown-menu")},hasSeparatedSearchInput:function(){return!1!==this.options.templates.search&&!this.isInputSearch()},hasComponent:function(){return!1!==this.component},hasContainer:function(){return!1!==this.container},getAcceptButton:function(){return this.popover.find(".iconpicker-btn-accept")},getCancelButton:function(){return this.popover.find(".iconpicker-btn-cancel")},getSearchInput:function(){return this.popover.find(".iconpicker-search")},
filter:function(b){if(h.isEmpty(b))return this.iconpicker.find(".iconpicker-item").show(),a(!1);var g=[];this.iconpicker.find(".iconpicker-item").each(function(){var f=a(this),h=f.attr("title").toLowerCase(),k=!1;try{k=new RegExp(b,"g")}catch(n){k=!1}!1!==k&&h.match(k)?(g.push(f),f.show()):f.hide()});return g},show:function(){if(this.popover.hasClass("in"))return!1;a.iconpicker.batch(a(".iconpicker-popover.in:not(.inline)").not(this.popover),"hide");this._trigger("iconpickerShow");this.updatePlacement();
this.popover.addClass("in");setTimeout(a.proxy(function(){this.popover.css("display",this.isInline()?"":"block");this._trigger("iconpickerShown")},this),this.options.animation?300:1)},hide:function(){if(!this.popover.hasClass("in"))return!1;this._trigger("iconpickerHide");this.popover.removeClass("in");setTimeout(a.proxy(function(){this.popover.css("display","none");this.getSearchInput().val("");this.filter("");this._trigger("iconpickerHidden")},this),this.options.animation?300:1)},toggle:function(){this.popover.is(":visible")?
this.hide():this.show(!0)},update:function(a,b){a=a?a:this.getSourceValue(this.iconpickerValue);this._trigger("iconpickerUpdate");!0===b?a=this.setValue(a):(a=this.setSourceValue(a),this._updateFormGroupStatus(!1!==a));!1!==a&&this._updateComponents();this._trigger("iconpickerUpdated");return a},destroy:function(){this._trigger("iconpickerDestroy");this.element.removeData("iconpicker").removeData("iconpickerValue").removeClass("iconpicker-element");this._unbindElementEvents();this._unbindWindowEvents();
a(this.popover).remove();this._trigger("iconpickerDestroyed")},disable:function(){return this.hasInput()?(this.input.prop("disabled",!0),!0):!1},enable:function(){return this.hasInput()?(this.input.prop("disabled",!1),!0):!1},isDisabled:function(){return this.hasInput()?!0===this.input.prop("disabled"):!1},isInline:function(){return"inline"===this.options.placement||this.popover.hasClass("inline")}};a.iconpicker=b;a.fn.iconpicker=function(e){return this.each(function(){var g=a(this);g.data("iconpicker")||
g.data("iconpicker",new b(this,"object"===typeof e?e:{}))})};b.defaultOptions.icons="fa-500px fa-adjust fa-adn fa-align-center fa-align-justify fa-align-left fa-align-right fa-amazon fa-ambulance fa-anchor fa-android fa-angellist fa-angle-double-down fa-angle-double-left fa-angle-double-right fa-angle-double-up fa-angle-down fa-angle-left fa-angle-right fa-angle-up fa-apple fa-archive fa-area-chart fa-arrow-circle-down fa-arrow-circle-left fa-arrow-circle-o-down fa-arrow-circle-o-left fa-arrow-circle-o-right fa-arrow-circle-o-up fa-arrow-circle-right fa-arrow-circle-up fa-arrow-down fa-arrow-left fa-arrow-right fa-arrow-up fa-arrows fa-arrows-alt fa-arrows-h fa-arrows-v fa-asterisk fa-at fa-automobile fa-backward fa-balance-scale fa-ban fa-bank fa-bar-chart fa-bar-chart-o fa-barcode fa-bars fa-battery-0 fa-battery-1 fa-battery-2 fa-battery-3 fa-battery-4 fa-battery-empty fa-battery-full fa-battery-half fa-battery-quarter fa-battery-three-quarters fa-bed fa-beer fa-behance fa-behance-square fa-bell fa-bell-o fa-bell-slash fa-bell-slash-o fa-bicycle fa-binoculars fa-birthday-cake fa-bitbucket fa-bitbucket-square fa-bitcoin fa-black-tie fa-bold fa-bolt fa-bomb fa-book fa-bookmark fa-bookmark-o fa-briefcase fa-btc fa-bug fa-building fa-building-o fa-bullhorn fa-bullseye fa-bus fa-buysellads fa-cab fa-calculator fa-calendar fa-calendar-check-o fa-calendar-minus-o fa-calendar-o fa-calendar-plus-o fa-calendar-times-o fa-camera fa-camera-retro fa-car fa-caret-down fa-caret-left fa-caret-right fa-caret-square-o-down fa-caret-square-o-left fa-caret-square-o-right fa-caret-square-o-up fa-caret-up fa-cart-arrow-down fa-cart-plus fa-cc fa-cc-amex fa-cc-diners-club fa-cc-discover fa-cc-jcb fa-cc-mastercard fa-cc-paypal fa-cc-stripe fa-cc-visa fa-certificate fa-chain fa-chain-broken fa-check fa-check-circle fa-check-circle-o fa-check-square fa-check-square-o fa-chevron-circle-down fa-chevron-circle-left fa-chevron-circle-right fa-chevron-circle-up fa-chevron-down fa-chevron-left fa-chevron-right fa-chevron-up fa-child fa-chrome fa-circle fa-circle-o fa-circle-o-notch fa-circle-thin fa-clipboard fa-clock-o fa-clone fa-close fa-cloud fa-cloud-download fa-cloud-upload fa-cny fa-code fa-code-fork fa-codepen fa-coffee fa-cog fa-cogs fa-columns fa-comment fa-comment-o fa-commenting fa-commenting-o fa-comments fa-comments-o fa-compass fa-compress fa-connectdevelop fa-contao fa-copy fa-copyright fa-creative-commons fa-credit-card fa-crop fa-crosshairs fa-css3 fa-cube fa-cubes fa-cut fa-cutlery fa-dashboard fa-dashcube fa-database fa-dedent fa-delicious fa-desktop fa-deviantart fa-diamond fa-digg fa-dollar fa-dot-circle-o fa-download fa-dribbble fa-dropbox fa-drupal fa-edit fa-eject fa-ellipsis-h fa-ellipsis-v fa-empire fa-envelope fa-envelope-o fa-envelope-square fa-eraser fa-eur fa-euro fa-exchange fa-exclamation fa-exclamation-circle fa-exclamation-triangle fa-expand fa-expeditedssl fa-external-link fa-external-link-square fa-eye fa-eye-slash fa-eyedropper fa-facebook fa-facebook-f fa-facebook-official fa-facebook-square fa-fast-backward fa-fast-forward fa-fax fa-feed fa-female fa-fighter-jet fa-file fa-file-archive-o fa-file-audio-o fa-file-code-o fa-file-excel-o fa-file-image-o fa-file-movie-o fa-file-o fa-file-pdf-o fa-file-photo-o fa-file-picture-o fa-file-powerpoint-o fa-file-sound-o fa-file-text fa-file-text-o fa-file-video-o fa-file-word-o fa-file-zip-o fa-files-o fa-film fa-filter fa-fire fa-fire-extinguisher fa-firefox fa-flag fa-flag-checkered fa-flag-o fa-flash fa-flask fa-flickr fa-floppy-o fa-folder fa-folder-o fa-folder-open fa-folder-open-o fa-font fa-fonticons fa-forumbee fa-forward fa-foursquare fa-frown-o fa-futbol-o fa-gamepad fa-gavel fa-gbp fa-ge fa-gear fa-gears fa-genderless fa-get-pocket fa-gg fa-gg-circle fa-gift fa-git fa-git-square fa-github fa-github-alt fa-github-square fa-gittip fa-glass fa-globe fa-google fa-google-plus fa-google-plus-square fa-google-wallet fa-graduation-cap fa-gratipay fa-group fa-h-square fa-hacker-news fa-hand-grab-o fa-hand-lizard-o fa-hand-o-down fa-hand-o-left fa-hand-o-right fa-hand-o-up fa-hand-paper-o fa-hand-peace-o fa-hand-pointer-o fa-hand-scissors-o fa-hand-spock-o fa-hand-stop-o fa-hdd-o fa-header fa-headphones fa-heart fa-heart-o fa-heartbeat fa-history fa-home fa-hospital-o fa-hotel fa-hourglass fa-hourglass-1 fa-hourglass-2 fa-hourglass-3 fa-hourglass-end fa-hourglass-half fa-hourglass-o fa-hourglass-start fa-houzz fa-html5 fa-i-cursor fa-ils fa-image fa-inbox fa-indent fa-industry fa-info fa-info-circle fa-inr fa-instagram fa-institution fa-internet-explorer fa-intersex fa-ioxhost fa-italic fa-joomla fa-jpy fa-jsfiddle fa-key fa-keyboard-o fa-krw fa-language fa-laptop fa-lastfm fa-lastfm-square fa-leaf fa-leanpub fa-legal fa-lemon-o fa-level-down fa-level-up fa-life-bouy fa-life-buoy fa-life-ring fa-life-saver fa-lightbulb-o fa-line-chart fa-link fa-linkedin fa-linkedin-square fa-linux fa-list fa-list-alt fa-list-ol fa-list-ul fa-location-arrow fa-lock fa-long-arrow-down fa-long-arrow-left fa-long-arrow-right fa-long-arrow-up fa-magic fa-magnet fa-mail-forward fa-mail-reply fa-mail-reply-all fa-male fa-map fa-map-marker fa-map-o fa-map-pin fa-map-signs fa-mars-double fa-mars-stroke fa-mars-stroke-h fa-mars-stroke-v fa-maxcdn fa-meanpath fa-medium fa-medkit fa-mercury fa-microphone fa-microphone-slash fa-minus fa-minus-circle fa-minus-square fa-minus-square-o fa-mobile fa-mobile-phone fa-money fa-moon-o fa-mortar-board fa-motorcycle fa-mouse-pointer fa-music fa-navicon fa-neuter fa-newspaper-o fa-object-group fa-object-ungroup fa-odnoklassniki fa-odnoklassniki-square fa-opencart fa-openid fa-opera fa-optin-monster fa-outdent fa-pagelines fa-paint-brush fa-paper-plane fa-paper-plane-o fa-paperclip fa-paragraph fa-paste fa-pause fa-paw fa-paypal fa-pencil fa-pencil-square fa-pencil-square-o fa-phone fa-phone-square fa-photo fa-picture-o fa-pie-chart fa-pied-piper fa-pied-piper-alt fa-pinterest fa-pinterest-p fa-pinterest-square fa-plane fa-play fa-play-circle fa-play-circle-o fa-plug fa-plus fa-plus-circle fa-plus-square fa-plus-square-o fa-power-off fa-print fa-puzzle-piece fa-qq fa-qrcode fa-question fa-question-circle fa-quote-left fa-quote-right fa-ra fa-random fa-rebel fa-recycle fa-reddit fa-reddit-square fa-refresh fa-registered fa-remove fa-renren fa-reorder fa-repeat fa-reply fa-reply-all fa-retweet fa-rmb fa-road fa-rocket fa-rotate-left fa-rotate-right fa-rouble fa-rss fa-rss-square fa-rub fa-ruble fa-rupee fa-safari fa-save fa-scissors fa-search fa-search-minus fa-search-plus fa-sellsy fa-send fa-send-o fa-server fa-share fa-share-alt fa-share-alt-square fa-share-square fa-share-square-o fa-shekel fa-sheqel fa-shield fa-ship fa-shirtsinbulk fa-shopping-cart fa-sign-in fa-sign-out fa-signal fa-simplybuilt fa-sitemap fa-skyatlas fa-skype fa-slack fa-sliders fa-slideshare fa-smile-o fa-soccer-ball-o fa-sort fa-sort-alpha-asc fa-sort-alpha-desc fa-sort-amount-asc fa-sort-amount-desc fa-sort-asc fa-sort-desc fa-sort-down fa-sort-numeric-asc fa-sort-numeric-desc fa-sort-up fa-soundcloud fa-space-shuttle fa-spinner fa-spoon fa-spotify fa-square fa-square-o fa-stack-exchange fa-stack-overflow fa-steam fa-steam-square fa-star fa-star-half fa-star-half-empty fa-star-half-full fa-star-half-o fa-star-o fa-step-backward fa-step-forward fa-stethoscope fa-sticky-note fa-sticky-note-o fa-stop fa-street-view fa-strikethrough fa-stumbleupon fa-stumbleupon-circle fa-subscript fa-subway fa-suitcase fa-sun-o fa-superscript fa-support fa-table fa-tablet fa-tachometer fa-tag fa-tags fa-tasks fa-taxi fa-television fa-tencent-weibo fa-terminal fa-text-height fa-text-width fa-th fa-th-large fa-th-list fa-thumb-tack fa-thumbs-down fa-thumbs-o-down fa-thumbs-o-up fa-thumbs-up fa-ticket fa-times fa-times-circle fa-times-circle-o fa-tint fa-toggle-down fa-toggle-left fa-toggle-off fa-toggle-on fa-toggle-right fa-toggle-up fa-trademark fa-train fa-transgender fa-transgender-alt fa-trash fa-trash-o fa-tree fa-trello fa-tripadvisor fa-trophy fa-truck fa-try fa-tty fa-tumblr fa-tumblr-square fa-turkish-lira fa-tv fa-twitch fa-twitter fa-twitter-square fa-umbrella fa-underline fa-university fa-unlink fa-unlock fa-unlock-alt fa-unsorted fa-upload fa-usd fa-user fa-user-md fa-user-plus fa-user-secret fa-user-times fa-users fa-venus fa-venus-double fa-venus-mars fa-viacoin fa-video-camera fa-vimeo fa-vimeo-square fa-vine fa-vk fa-volume-down fa-volume-off fa-volume-up fa-warning fa-wechat fa-weibo fa-weixin fa-whatsapp fa-wheelchair fa-wifi fa-wikipedia-w fa-windows fa-won fa-wordpress fa-wrench fa-xing fa-xing-square fa-y-combinator fa-y-combinator-square fa-yahoo fa-yc fa-yc-square fa-yelp fa-yen fa-youtube fa-youtube-play fa-youtube-square".split(" ")});/*
 wysihtml v0.5.5
 https://github.com/Voog/wysihtml

 Author: Christopher Blum (https://github.com/tiff)
 Secondary author of extended features: Oliver Pulges (https://github.com/pulges)

 Copyright (C) 2012 XING AG
 Licensed under the MIT license (MIT)

*/
var wysihtml5={version:"0.5.5",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",INVISIBLE_SPACE_REG_EXP:/\uFEFF/g,VOID_ELEMENTS:"area, base, br, col, embed, hr, img, input, keygen, link, meta, param, source, track, wbr",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,TAB_KEY:9,DELETE_KEY:46,polyfills:function(a,h){String.prototype.trim||function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
String.prototype.trim=function(){return this.replace(a,"")}}();(function(){h.addEventListener||(a.Element.prototype.addEventListener=a.addEventListener=h.addEventListener=function(b,e,f){return(f=this).attachEvent("on"+b,function(b){b=b||a.event;b.target=b.target||b.srcElement;b.preventDefault=b.preventDefault||function(){b.returnValue=!1};b.stopPropagation=b.stopPropagation||function(){b.cancelBubble=!0};b.which=b.button?2===b.button?3:4===b.button?2:b.button:b.keyCode;e.call(f,b)})},a.Element.prototype.removeEventListener=
a.removeEventListener=h.removeEventListener=function(a,b){return this.detachEvent("on"+a,b)})})();Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(a.Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(a.Element.prototype,"textContent").get&&function(){var b=Object.getOwnPropertyDescriptor(a.Element.prototype,"innerText");Object.defineProperty(a.Element.prototype,"textContent",{get:function(){return b.get.call(this)},set:function(a){return b.set.call(this,
a)}})}();Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var e=this.length,f=-1,g=b>>>0;~(e-g);f=this[--e]===a?e:f);return f});Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),e=this,f=function(){},g=
function(){return e.apply(this instanceof f&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};f.prototype=this.prototype;g.prototype=new f;return g});(function(a){a.matches=a.matches||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var b=0;a[b]&&a[b]!==this;)++b;return a[b]?!0:!1};a.closest=a.closest||function(a){for(var b=this;b&&!b.matches(a);)b=b.parentElement;return b}})(Element.prototype);
"document"in a&&("classList"in h.createElement("_")?"DOMTokenList"in a&&function(){var b=h.createElement("_");b.classList.add("c1","c2");if(!b.classList.contains("c2")){var e=function(b){var e=a.DOMTokenList.prototype[b];a.DOMTokenList.prototype[b]=function(a){var b,f=arguments.length;for(b=0;b<f;b++)a=arguments[b],e.call(this,a)}};e("add");e("remove")}b.classList.toggle("c3",!1);if(b.classList.contains("c3")){var f=a.DOMTokenList.prototype.toggle;a.DOMTokenList.prototype.toggle=function(a,b){return 1 in
arguments&&!this.contains(a)===!b?b:f.call(this,a)}}b=null}():function(a){if("Element"in a){a=a.Element.prototype;var b=Object,e=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},f=Array.prototype.indexOf||function(a){for(var b=0,e=this.length;b<e;b++)if(b in this&&this[b]===a)return b;return-1},g=function(a,b){this.name=a;this.code=DOMException[a];this.message=b},h=function(a,b){if(""===b)throw new g("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new g("INVALID_CHARACTER_ERR",
"String contains an invalid character");return f.call(a,b)},r=function(a){for(var b=e.call(a.getAttribute("class")||""),b=b?b.split(/\s+/):[],f=0,g=b.length;f<g;f++)this.push(b[f]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},t=r.prototype=[],v=function(){return new r(this)};g.prototype=Error.prototype;t.item=function(a){return this[a]||null};t.contains=function(a){return-1!==h(this,a+"")};t.add=function(){var a=arguments,b=0,e=a.length,f,g=!1;do f=a[b]+"",-1===h(this,
f)&&(this.push(f),g=!0);while(++b<e);g&&this._updateClassName()};t.remove=function(){var a=arguments,b=0,e=a.length,f,g=!1,k;do for(f=a[b]+"",k=h(this,f);-1!==k;)this.splice(k,1),g=!0,k=h(this,f);while(++b<e);g&&this._updateClassName()};t.toggle=function(a,b){a+="";var e=this.contains(a),f=e?!0!==b&&"remove":!1!==b&&"add";if(f)this[f](a);return!0===b||!1===b?b:!e};t.toString=function(){return this.join(" ")};if(b.defineProperty){t={get:v,enumerable:!0,configurable:!0};try{b.defineProperty(a,"classList",
t)}catch(x){-2146823252===x.number&&(t.enumerable=!1,b.defineProperty(a,"classList",t))}}else b.prototype.__defineGetter__&&a.__defineGetter__("classList",v)}}(a));var b=function(a){var e=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?e.push(a):e=e.concat(b(a));return e},e=function(){Node.prototype.normalize=function(){var a=b(this),e=this.ownerDocument.defaultView.getSelection(),f=e.anchorNode,g=e.anchorOffset,h=f&&1===f.nodeType&&0<f.childNodes.length?f.childNodes[g]:void 0,q=e.focusNode,
r=e.focusOffset,t=q&&1===q.nodeType&&0<r?q.childNodes[r-1]:void 0,v=this.ownerDocument.createRange(),x=a.shift(),y=x?a.shift():null;t&&3===t.nodeType&&(q=t,r=t.nodeValue.length,t=void 0);h&&3===h.nodeType&&(f=h,g=0,h=void 0);if(f===q&&r<g||f!==q&&f.compareDocumentPosition(q)&Node.DOCUMENT_POSITION_PRECEDING&&!(f.compareDocumentPosition(q)&Node.DOCUMENT_POSITION_CONTAINS))q=[f,f=q][0],r=[g,g=r][0];for(;x&&y;)y.previousSibling&&y.previousSibling===x?(f===y&&(f=x,g=x.nodeValue.length+g),q===y&&(q=x,
r=x.nodeValue.length+r),x.nodeValue+=y.nodeValue,y.parentNode.removeChild(y)):x=y,y=a.shift();t&&(r=Array.prototype.indexOf.call(t.parentNode.childNodes,t)+1);h&&(g=Array.prototype.indexOf.call(h.parentNode.childNodes,h));a:{a=this.ownerDocument;h=this;do{if(h===a){a=!0;break a}h=h.parentNode}while(h);a=!1}a&&f&&f.parentNode&&q&&q.parentNode&&(v.setStart(f,g),v.setEnd(q,r),e.removeAllRanges(),e.addRange(v))}},g=function(){window.removeEventListener("load",g);var a;if(a="Node"in window&&"normalize"in
Node.prototype)if("createRange"in document&&"getSelection"in window){a=document.createElement("div");var b=document.createTextNode("a"),f=document.createTextNode("a"),h=document.createTextNode("a"),p=document.createRange();a.setAttribute("contenteditable","true");a.appendChild(b);a.appendChild(f);a.appendChild(h);document.body.appendChild(a);p.setStart(f,1);p.setEnd(f,1);b=window.getSelection();b.removeAllRanges();b.addRange(p);a.normalize();b=window.getSelection();p=1!==a.childNodes.length||b.anchorNode!==
a.firstChild||2!==b.anchorOffset;a.parentNode.removeChild(a);b.removeAllRanges();a=p}else a=void 0;a&&e()};"complete"!==h.readyState?window.addEventListener("load",g):g();var f=function(){try{var a=new CustomEvent("cat",{detail:{foo:"bar"}});return"cat"===a.type&&"bar"===a.detail.foo}catch(b){}return!1}();(function(){if(!f&&"CustomEvent"in window){var b=function(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var e=h.createEvent("CustomEvent");e.initCustomEvent(a,b.bubbles,b.cancelable,b.detail);
return e};b.prototype=a.Event.prototype;a.CustomEvent=b;f=!0}})()}};wysihtml5.polyfills(window,document);
(function(a,h){"function"==typeof define&&define.amd?define(a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a():h.rangy=a()})(function(){function a(a,b){var e=typeof a[b];return"function"==e||!("object"!=e||!a[b])||"unknown"==e}function h(a,b){return!("object"!=typeof a[b]||!a[b])}function b(a,b){return"undefined"!=typeof a[b]}function e(a){return function(b,e){for(var f=e.length;f--;)if(!a(b,e[f]))return!1;return!0}}function g(a){return a&&E(a,B)&&A(a,z)}function f(a){return h(a,
"body")?a.body:a.getElementsByTagName("body")[0]}function l(b){"undefined"!=typeof console&&a(console,"log")&&console.log(b)}function k(a){G.initialized=!0;G.supported=!1;a="Rangy is not supported in this environment. Reason: "+a;F&&G.config.alertOnFail?alert(a):l(a)}function n(){if(F&&!G.initialized){var b,e=!1,h=!1;a(document,"createRange")&&(b=document.createRange(),E(b,y)&&A(b,x)&&(e=!0));if((b=f(document))&&"body"==b.nodeName.toLowerCase())if(b&&a(b,"createTextRange")&&(b=b.createTextRange(),
g(b)&&(h=!0)),e||h){G.initialized=!0;G.features={implementsDomRange:e,implementsTextRange:h};var m,n;for(n in D)(m=D[n])instanceof r&&m.init(m,G);h=0;for(m=N.length;h<m;++h)try{N[h](G)}catch(q){e="Rangy init listener threw an exception. Continuing. Detail: "+(q.message||q.description||String(q)),l(e)}}else k("Neither Range nor TextRange are available");else k("No body element found")}}function m(a,b,e){e&&(a+=" in module "+e.name);G.warn("DEPRECATED: "+a+" is deprecated. Please use "+b+" instead.")}
function p(a,b,e,f){a[b]=function(){m(b,e,f);return a[e].apply(a,K.toArray(arguments))}}function q(a){a=a||window;n();for(var b=0,e=L.length;b<e;++b)L[b](a)}function r(a,b,e){this.name=a;this.dependencies=b;this.supported=this.initialized=!1;this.initializer=e}function t(a,b,e){b=new r(a,b,function(b){if(!b.initialized){b.initialized=!0;try{e(G,b),b.supported=!0}catch(f){l("Module '"+a+"' failed to load: "+(f.message||f.description||String(f))),f.stack&&l(f.stack)}}});return D[a]=b}function v(){}
var x="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" "),y="setStart setStartBefore setStartAfter setEnd setEndBefore setEndAfter collapse selectNode selectNodeContents compareBoundaryPoints deleteContents extractContents cloneContents insertNode surroundContents cloneRange toString detach".split(" "),z="boundingHeight boundingLeft boundingTop boundingWidth htmlText text".split(" "),B="collapse compareEndPoints duplicate moveToElementText parentElement select setEndPoint getBoundingClientRect".split(" "),
E=e(a),w=e(h),A=e(b),D={},F="undefined"!=typeof window&&"undefined"!=typeof document,K={isHostMethod:a,isHostObject:h,isHostProperty:b,areHostMethods:E,areHostObjects:w,areHostProperties:A,isTextRange:g,getBody:f,forEach:[].forEach?function(a,b){a.forEach(b)}:function(a,b){for(var e=0,f=a.length;e<f;++e)b(a[e],e)}},G={version:"1.3.0",initialized:!1,isBrowser:F,supported:!0,util:K,features:{},modules:D,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:"undefined"==typeof rangyAutoInitialize?
!0:rangyAutoInitialize}};G.fail=k;G.warn=function(a){a="Rangy warning: "+a;F&&G.config.alertOnWarn?alert(a):l(a)};var M;({}).hasOwnProperty?(K.extend=M=function(a,b,e){var f,g,h;for(h in b)b.hasOwnProperty(h)&&(f=a[h],g=b[h],e&&null!==f&&"object"==typeof f&&null!==g&&"object"==typeof g&&M(f,g,!0),a[h]=g);b.hasOwnProperty("toString")&&(a.toString=b.toString);return a},K.createOptions=function(a,b){var e={};M(e,b);a&&M(e,a);return e}):k("hasOwnProperty not supported");F||k("Rangy can only run in a browser");
(function(){var a;if(F){var b=document.createElement("div");b.appendChild(document.createElement("span"));var e=[].slice;try{1==e.call(b.childNodes,0)[0].nodeType&&(a=function(a){return e.call(a,0)})}catch(f){}}a||(a=function(a){for(var b=[],e=0,f=a.length;e<f;++e)b[e]=a[e];return b});K.toArray=a})();var J;F&&(a(document,"addEventListener")?J=function(a,b,e){a.addEventListener(b,e,!1)}:a(document,"attachEvent")?J=function(a,b,e){a.attachEvent("on"+b,e)}:k("Document does not have required addEventListener or attachEvent method"),
K.addListener=J);var N=[];K.deprecationNotice=m;K.createAliasForDeprecatedMethod=p;G.init=n;G.addInitListener=function(a){G.initialized?a(G):N.push(a)};var L=[];G.addShimListener=function(a){L.push(a)};F&&(G.shim=G.createMissingNativeApi=q,p(G,"createMissingNativeApi","shim"));r.prototype={init:function(){for(var a=this.dependencies||[],b=0,e=a.length,f,g;b<e;++b){g=a[b];f=D[g];if(!(f&&f instanceof r))throw Error("required module '"+g+"' not found");f.init();if(!f.supported)throw Error("required module '"+
g+"' not supported");}this.initializer(this)},fail:function(a){this.initialized=!0;this.supported=!1;throw Error(a);},warn:function(a){G.warn("Module "+this.name+": "+a)},deprecationNotice:function(a,b){G.warn("DEPRECATED: "+a+" in module "+this.name+" is deprecated. Please use "+b+" instead")},createError:function(a){return Error("Error in Rangy "+this.name+" module: "+a)}};G.createModule=function(a){var b,e;2==arguments.length?(b=arguments[1],e=[]):(b=arguments[2],e=arguments[1]);b=t(a,e,b);G.initialized&&
G.supported&&b.init()};G.createCoreModule=function(a,b,e){t(a,b,e)};G.RangePrototype=v;G.rangePrototype=new v;G.selectionPrototype=new function(){};G.createCoreModule("DomUtil",[],function(a,b){function e(a){for(var b=0;a=a.previousSibling;)++b;return b}function f(a,b){var e=[],g;for(g=a;g;g=g.parentNode)e.push(g);for(g=b;g;g=g.parentNode)if(K(e,g))return g;return null}function g(a,b,e){for(b=e?b:b.parentNode;b;){if(b===a)return!0;b=b.parentNode}return!1}function h(a,b,e){for(e=e?a:a.parentNode;e;){a=
e.parentNode;if(a===b)return e;e=a}return null}function k(a){a=a.nodeType;return 3==a||4==a||8==a}function l(a,b){var e=b.nextSibling,f=b.parentNode;e?f.insertBefore(a,e):f.appendChild(a);return a}function m(a){if(9==a.nodeType)return a;if("undefined"!=typeof a.ownerDocument)return a.ownerDocument;if("undefined"!=typeof a.document)return a.document;if(a.parentNode)return m(a.parentNode);throw b.createError("getDocument: no document found for node");}function n(a){a=m(a);if("undefined"!=typeof a.defaultView)return a.defaultView;
if("undefined"!=typeof a.parentWindow)return a.parentWindow;throw b.createError("Cannot get a window object for node");}function r(a){if("undefined"!=typeof a.contentDocument)return a.contentDocument;if("undefined"!=typeof a.contentWindow)return a.contentWindow.document;throw b.createError("getIframeDocument: No Document object found for iframe element");}function q(a){return a&&D.isHostMethod(a,"setTimeout")&&D.isHostObject(a,"document")}function p(a){return a?k(a)?'"'+a.data+'"':1==a.nodeType?"<"+
a.nodeName+(a.id?' id="'+a.id+'"':"")+">[index:"+e(a)+",length:"+a.childNodes.length+"]["+(a.innerHTML||"[innerHTML not supported]").slice(0,25)+"]":a.nodeName:"[No node]"}function w(a){this._next=this.root=a}function A(a,b){this.node=a;this.offset=b}function F(a){this.code=this[a];this.codeName=a;this.message="DOMException: "+this.codeName}var D=a.util,t=D.getBody;D.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||b.fail("document missing a Node creation method");
D.isHostMethod(document,"getElementsByTagName")||b.fail("document missing getElementsByTagName method");var v=document.createElement("div");D.areHostMethods(v,["insertBefore","appendChild","cloneNode"])||b.fail("Incomplete Element implementation");D.isHostProperty(v,"innerHTML")||b.fail("Element is missing innerHTML property");v=document.createTextNode("test");D.areHostMethods(v,["splitText","deleteData","insertData","appendData","cloneNode"])||b.fail("Incomplete Text Node implementation");var K=
function(a,b){for(var e=a.length;e--;)if(a[e]===b)return!0;return!1},y=!1;(function(){var b=document.createElement("b");b.innerHTML="1";b.innerHTML="<br />";y=!1;a.features.crashyTextNodes=y})();var z;"undefined"!=typeof window.getComputedStyle?z=function(a,b){return n(a).getComputedStyle(a,null)[b]}:"undefined"!=typeof document.documentElement.currentStyle?z=function(a,b){return a.currentStyle?a.currentStyle[b]:""}:b.fail("No means of obtaining computed style properties found");w.prototype={_current:null,
hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next,b;if(this._current){b=a.firstChild;if(!b)for(b=null;a!==this.root&&!(b=a.nextSibling);)a=a.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=null}};A.prototype={equals:function(a){return!!a&&this.node===a.node&&this.offset==a.offset},inspect:function(){return"[DomPosition("+p(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}};F.prototype=
{INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24};F.prototype.toString=function(){return this.message};a.dom={arrayContains:K,isHtmlNamespace:function(a){var b;return"undefined"==typeof a.namespaceURI||null===(b=a.namespaceURI)||"http://www.w3.org/1999/xhtml"==b},parentElement:function(a){a=a.parentNode;return 1==a.nodeType?a:null},getNodeIndex:e,getNodeLength:function(a){switch(a.nodeType){case 7:case 10:return 0;
case 3:case 8:return a.length;default:return a.childNodes.length}},getCommonAncestor:f,isAncestorOf:g,isOrIsAncestorOf:function(a,b){return g(a,b,!0)},getClosestAncestorIn:h,isCharacterDataNode:k,isTextOrCommentNode:function(a){if(!a)return!1;a=a.nodeType;return 3==a||8==a},insertAfter:l,splitDataNode:function(a,b,f){var g=a.cloneNode(!1);g.deleteData(0,b);a.deleteData(b,a.length-b);l(g,a);if(f)for(var h=0,k;k=f[h++];)k.node==a&&k.offset>b?(k.node=g,k.offset-=b):k.node==a.parentNode&&k.offset>e(a)&&
++k.offset;return g},getDocument:m,getWindow:n,getIframeWindow:function(a){if("undefined"!=typeof a.contentWindow)return a.contentWindow;if("undefined"!=typeof a.contentDocument)return a.contentDocument.defaultView;throw b.createError("getIframeWindow: No Window object found for iframe element");},getIframeDocument:r,getBody:t,isWindow:q,getContentDocument:function(a,b,e){var f;a?D.isHostProperty(a,"nodeType")?f=1==a.nodeType&&"iframe"==a.tagName.toLowerCase()?r(a):m(a):q(a)&&(f=a.document):f=document;
if(!f)throw b.createError(e+"(): Parameter must be a Window object or DOM node");return f},getRootContainer:function(a){for(var b;b=a.parentNode;)a=b;return a},comparePoints:function(a,g,k,l){var m;if(a==k)return g===l?0:g<l?-1:1;if(m=h(k,a,!0))return g<=e(m)?-1:1;if(m=h(a,k,!0))return e(m)<l?-1:1;g=f(a,k);if(!g)throw Error("comparePoints error: nodes have no common ancestor");a=a===g?g:h(a,g,!0);k=k===g?g:h(k,g,!0);if(a===k)throw b.createError("comparePoints got to case 4 and childA and childB are the same!");
for(g=g.firstChild;g;){if(g===a)return-1;if(g===k)return 1;g=g.nextSibling}},isBrokenNode:function(a){return!1},inspectNode:p,getComputedStyleProperty:z,createTestElement:function(a,b,e){var f=t(a);a=a.createElement("div");a.contentEditable=""+!!e;b&&(a.innerHTML=b);(b=f.firstChild)?f.insertBefore(a,b):f.appendChild(a);return a},removeNode:function(a){return a.parentNode.removeChild(a)},fragmentFromNodeChildren:function(a){for(var b=m(a).createDocumentFragment(),e;e=a.firstChild;)b.appendChild(e);
return b},createIterator:function(a){return new w(a)},DomPosition:A};a.DOMException=F});G.createCoreModule("DomRange",["DomUtil"],function(a,b){function e(a,b){return 3!=a.nodeType&&(Q(a,b.startContainer)||Q(a,b.endContainer))}function f(a){return a.document||va(a.startContainer)}function g(a){return new ia(a.parentNode,wa(a))}function h(a){return new ia(a.parentNode,wa(a)+1)}function k(a,b,e){var f=11==a.nodeType?a.firstChild:a;ca(b)?e==b.length?U.insertAfter(a,b):b.parentNode.insertBefore(a,0==
e?b:aa(b,e)):e>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[e]);return f}function l(a,b,e){G(a);G(b);if(f(b)!=f(a))throw new fa("WRONG_DOCUMENT_ERR");var g=ea(a.startContainer,a.startOffset,b.endContainer,b.endOffset);a=ea(a.endContainer,a.endOffset,b.startContainer,b.startOffset);return e?0>=g&&0<=a:0>g&&0<a}function m(a){for(var b,e,g=f(a.range).createDocumentFragment();e=a.next();){b=a.isPartiallySelectedSubtree();e=e.cloneNode(!b);b&&(b=a.getSubtreeIterator(),e.appendChild(m(b)),
b.detach());if(10==e.nodeType)throw new fa("HIERARCHY_REQUEST_ERR");g.appendChild(e)}return g}function n(a,b,e){var f,g;for(e=e||{stop:!1};f=a.next();)if(a.isPartiallySelectedSubtree())if(!1===b(f)){e.stop=!0;break}else{if(f=a.getSubtreeIterator(),n(f,b,e),f.detach(),e.stop)break}else for(f=U.createIterator(f);g=f.next();)if(!1===b(g)){e.stop=!0;return}}function r(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),r(b),b.detach()):a.remove()}function q(a){for(var b,e=
f(a.range).createDocumentFragment(),g;b=a.next();){a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),g=a.getSubtreeIterator(),b.appendChild(q(g)),g.detach()):a.remove();if(10==b.nodeType)throw new fa("HIERARCHY_REQUEST_ERR");e.appendChild(b)}return e}function p(a,b,e){var f=!(!b||!b.length),g,h=!!e;f&&(g=new RegExp("^("+b.join("|")+")$"));var k=[];n(new A(a,!1),function(b){if(!f||g.test(b.nodeType))if(!h||e(b)){var l=a.startContainer;b==l&&ca(l)&&a.startOffset==l.length||(l=a.endContainer,b==l&&ca(l)&&
0==a.endOffset||k.push(b))}});return k}function w(a){return"["+("undefined"==typeof a.getName?"Range":a.getName())+"("+U.inspectNode(a.startContainer)+":"+a.startOffset+", "+U.inspectNode(a.endContainer)+":"+a.endOffset+")]"}function A(a,b){this.range=a;this.clonePartiallySelectedTextNodes=b;if(!a.collapsed){this.sc=a.startContainer;this.so=a.startOffset;this.ec=a.endContainer;this.eo=a.endOffset;var e=a.commonAncestorContainer;this.sc===this.ec&&ca(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=
this._last=this._next=this.sc):(this._first=this._next=this.sc!==e||ca(this.sc)?qa(this.sc,e,!0):this.sc.childNodes[this.so],this._last=this.ec!==e||ca(this.ec)?qa(this.ec,e,!0):this.ec.childNodes[this.eo-1])}}function F(a){return function(b,e){for(var f,g=e?b:b.parentNode;g;){f=g.nodeType;if(Ua(a,f))return g;g=g.parentNode}return null}}function D(a,b){if(Db(a,b))throw new fa("INVALID_NODE_TYPE_ERR");}function t(a,b){if(!Ua(b,a.nodeType))throw new fa("INVALID_NODE_TYPE_ERR");}function v(a,b){if(0>
b||b>(ca(a)?a.length:a.childNodes.length))throw new fa("INDEX_SIZE_ERR");}function K(a,b){if(ma(a,!0)!==ma(b,!0))throw new fa("WRONG_DOCUMENT_ERR");}function y(a){if(tb(a,!0))throw new fa("NO_MODIFICATION_ALLOWED_ERR");}function z(a,b){return b<=(ca(a)?a.length:a.childNodes.length)}function E(a){return!!a.startContainer&&!!a.endContainer&&!(Pa&&(U.isBrokenNode(a.startContainer)||U.isBrokenNode(a.endContainer)))&&ja(a.startContainer)==ja(a.endContainer)&&z(a.startContainer,a.startOffset)&&z(a.endContainer,
a.endOffset)}function G(a){if(!E(a))throw Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+a.inspect()+")");}function x(a,b){G(a);var e=a.startContainer,f=a.startOffset,g=a.endContainer,h=a.endOffset,k=e===g;ca(g)&&0<h&&h<g.length&&aa(g,h,b);ca(e)&&0<f&&f<e.length&&(e=aa(e,f,b),k?(h-=f,g=e):g==e.parentNode&&h>=wa(e)&&h++,f=0);a.setStartAndEnd(e,f,g,h)}function B(a){G(a);var b=a.commonAncestorContainer.parentNode.cloneNode(!1);b.appendChild(a.cloneContents());
return b.innerHTML}function la(a){a.START_TO_START=0;a.START_TO_END=1;a.END_TO_END=2;a.END_TO_START=3;a.NODE_BEFORE=0;a.NODE_AFTER=1;a.NODE_BEFORE_AND_AFTER=2;a.NODE_INSIDE=3}function M(a){la(a);la(a.prototype)}function H(a,b){return function(){G(this);var e=this.startContainer,f=this.startOffset,g=this.commonAncestorContainer,k=new A(this,!0);e!==g&&(e=qa(e,g,!0),f=h(e),e=f.node,f=f.offset);n(k,y);k.reset();g=a(k);k.detach();b(this,e,f,e,f);return g}}function J(b,f){function k(a,b){return function(e){t(e,
Ra);t(ja(e),Xa);e=(a?g:h)(e);(b?l:m)(this,e.node,e.offset)}}function l(a,b,e){var g=a.endContainer,h=a.endOffset;if(b!==a.startContainer||e!==a.startOffset){if(ja(b)!=ja(g)||1==ea(b,e,g,h))g=b,h=e;f(a,b,e,g,h)}}function m(a,b,e){var g=a.startContainer,h=a.startOffset;if(b!==a.endContainer||e!==a.endOffset){if(ja(b)!=ja(g)||-1==ea(b,e,g,h))g=b,h=e;f(a,g,h,b,e)}}var n=function(){};n.prototype=a.rangePrototype;b.prototype=new n;R.extend(b.prototype,{setStart:function(a,b){D(a,!0);v(a,b);l(this,a,b)},
setEnd:function(a,b){D(a,!0);v(a,b);m(this,a,b)},setStartAndEnd:function(){var a=arguments,b=a[0],e=a[1],g=b,h=e;switch(a.length){case 3:h=a[2];break;case 4:g=a[2],h=a[3]}f(this,b,e,g,h)},setBoundary:function(a,b,e){this["set"+(e?"Start":"End")](a,b)},setStartBefore:k(!0,!0),setStartAfter:k(!1,!0),setEndBefore:k(!0,!1),setEndAfter:k(!1,!1),collapse:function(a){G(this);a?f(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):f(this,this.endContainer,this.endOffset,this.endContainer,
this.endOffset)},selectNodeContents:function(a){D(a,!0);f(this,a,0,a,$a(a))},selectNode:function(a){D(a,!1);t(a,Ra);var b=g(a);a=h(a);f(this,b.node,b.offset,a.node,a.offset)},extractContents:H(q,f),deleteContents:H(r,f),canSurroundContents:function(){G(this);y(this.startContainer);y(this.endContainer);var a=new A(this,!0),b=a._first&&e(a._first,this)||a._last&&e(a._last,this);a.detach();return!b},splitBoundaries:function(){x(this)},splitBoundariesPreservingPositions:function(a){x(this,a)},normalizeBoundaries:function(){G(this);
var a=this.startContainer,b=this.startOffset,e=this.endContainer,g=this.endOffset,h=function(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(e=a,g=a.length,a.appendData(b.data),ua(b))},k=function(f){var h=f.previousSibling;if(h&&h.nodeType==f.nodeType){a=f;var k=f.length;b=h.length;f.insertData(0,h.data);ua(h);a==e?(g+=b,e=a):e==f.parentNode&&(h=wa(f),g==h?(e=f,g=k):g>h&&g--)}},l=!0;ca(e)?g==e.length?h(e):0==g&&(h=e.previousSibling)&&h.nodeType==e.nodeType&&(g=h.length,a==e&&(l=!1),h.appendData(e.data),
ua(e),e=h):(0<g&&(l=e.childNodes[g-1])&&ca(l)&&h(l),l=!this.collapsed);l?ca(a)?0==b?k(a):b==a.length&&(h=a.nextSibling)&&h.nodeType==a.nodeType&&(e==h&&(e=a,g+=a.length),a.appendData(h.data),ua(h)):b<a.childNodes.length&&(h=a.childNodes[b])&&ca(h)&&k(h):(a=e,b=g);f(this,a,b,e,g)},collapseToPoint:function(a,b){D(a,!0);v(a,b);this.setStartAndEnd(a,b)}});M(b)}function N(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset;a.commonAncestorContainer=a.collapsed?a.startContainer:
U.getCommonAncestor(a.startContainer,a.endContainer)}function Ba(a,b,e,f,g){a.startContainer=b;a.startOffset=e;a.endContainer=f;a.endOffset=g;a.document=U.getDocument(b);N(a)}function L(a){this.startContainer=a;this.startOffset=0;this.endContainer=a;this.endOffset=0;this.document=a;N(this)}var U=a.dom,R=a.util,ia=U.DomPosition,fa=a.DOMException,ca=U.isCharacterDataNode,wa=U.getNodeIndex,Q=U.isOrIsAncestorOf,va=U.getDocument,ea=U.comparePoints,aa=U.splitDataNode,qa=U.getClosestAncestorIn,$a=U.getNodeLength,
Ua=U.arrayContains,ja=U.getRootContainer,Pa=a.features.crashyTextNodes,ua=U.removeNode;A.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null;this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;a&&(this._next=a!==this._last?a.nextSibling:null,ca(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===
this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so)));return a},remove:function(){var a=this._current,b,e;!ca(a)||a!==this.sc&&a!==this.ec?a.parentNode&&ua(a):(b=a===this.sc?this.so:0,e=a===this.ec?this.eo:a.length,b!=e&&a.deleteData(b,e-b))},isPartiallySelectedSubtree:function(){return e(this._current,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse(!1);else{a=new L(f(this.range));var b=this._current,e=b,g=0,h=b,k=$a(b);Q(b,this.sc)&&
(e=this.sc,g=this.so);Q(b,this.ec)&&(h=this.ec,k=this.eo);Ba(a,e,g,h,k)}return new A(a,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Ra=[1,3,4,5,7,8,10],Xa=[2,9,11],kb=[1,3,4,5,7,8,10,11],Ha=[1,3,4,5,7,8],ma=F([9,11]),tb=F([5,6,10,12]),Db=F([6,10,12]),Aa=document.createElement("style"),sa=!1;try{Aa.innerHTML="<b>x</b>",sa=3==Aa.firstChild.nodeType}catch(zb){}a.features.htmlParsingConforms=
sa;var Va="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" ");R.extend(a.rangePrototype,{compareBoundaryPoints:function(a,b){G(this);K(this.startContainer,b.startContainer);var e=3==a||0==a?"start":"end",f=1==a||0==a?"start":"end";return ea(this[e+"Container"],this[e+"Offset"],b[f+"Container"],b[f+"Offset"])},insertNode:function(a){G(this);t(a,kb);y(this.startContainer);if(Q(a,this.startContainer))throw new fa("HIERARCHY_REQUEST_ERR");a=k(a,this.startContainer,
this.startOffset);this.setStartBefore(a)},cloneContents:function(){G(this);var a,b;if(this.collapsed)return f(this).createDocumentFragment();if(this.startContainer===this.endContainer&&ca(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=f(this).createDocumentFragment(),b.appendChild(a),b;b=new A(this,!0);a=m(b);b.detach();return a},canSurroundContents:function(){G(this);y(this.startContainer);y(this.endContainer);var a=new A(this,
!0),b=a._first&&e(a._first,this)||a._last&&e(a._last,this);a.detach();return!b},surroundContents:function(a){t(a,Ha);if(!this.canSurroundContents())throw new fa("INVALID_STATE_ERR");var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);k(a,this.startContainer,this.startOffset);a.appendChild(b);this.selectNode(a)},cloneRange:function(){G(this);for(var a=new L(f(this)),b=Va.length,e;b--;)e=Va[b],a[e]=this[e];return a},toString:function(){G(this);var a=this.startContainer;
if(a===this.endContainer&&ca(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):"";var b=[],a=new A(this,!0);n(a,function(a){3!=a.nodeType&&4!=a.nodeType||b.push(a.data)});a.detach();return b.join("")},compareNode:function(a){G(this);var b=a.parentNode,e=wa(a);if(!b)throw new fa("NOT_FOUND_ERR");a=this.comparePoint(b,e);b=this.comparePoint(b,e+1);return 0>a?0<b?2:0:0<b?1:3},comparePoint:function(a,b){G(this);if(!a)throw new fa("HIERARCHY_REQUEST_ERR");K(a,this.startContainer);
return 0>ea(a,b,this.startContainer,this.startOffset)?-1:0<ea(a,b,this.endContainer,this.endOffset)?1:0},createContextualFragment:sa?function(a){var b=this.startContainer,e=va(b);if(!b)throw new fa("INVALID_STATE_ERR");var f=null;1==b.nodeType?f=b:ca(b)&&(f=U.parentElement(b));f=null===f||"HTML"==f.nodeName&&U.isHtmlNamespace(va(f).documentElement)&&U.isHtmlNamespace(f)?e.createElement("body"):f.cloneNode(!1);f.innerHTML=a;return U.fragmentFromNodeChildren(f)}:function(a){var b=f(this).createElement("body");
b.innerHTML=a;return U.fragmentFromNodeChildren(b)},toHtml:function(){return B(this)},intersectsNode:function(a,b){G(this);if(ja(a)!=ja(this.startContainer))return!1;var e=a.parentNode,f=wa(a);if(!e)return!0;var g=ea(e,f,this.endContainer,this.endOffset),e=ea(e,f+1,this.startContainer,this.startOffset);return b?0>=g&&0<=e:0>g&&0<e},isPointInRange:function(a,b){G(this);if(!a)throw new fa("HIERARCHY_REQUEST_ERR");K(a,this.startContainer);return 0<=ea(a,b,this.startContainer,this.startOffset)&&0>=ea(a,
b,this.endContainer,this.endOffset)},intersectsRange:function(a){return l(this,a,!1)},intersectsOrTouchesRange:function(a){return l(this,a,!0)},intersection:function(a){if(this.intersectsRange(a)){var b=ea(this.startContainer,this.startOffset,a.startContainer,a.startOffset),e=ea(this.endContainer,this.endOffset,a.endContainer,a.endOffset),f=this.cloneRange();-1==b&&f.setStart(a.startContainer,a.startOffset);1==e&&f.setEnd(a.endContainer,a.endOffset);return f}return null},union:function(a){if(this.intersectsOrTouchesRange(a)){var b=
this.cloneRange();-1==ea(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset);1==ea(a.endContainer,a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset);return b}throw new fa("Ranges do not intersect");},containsNode:function(a,b){return b?this.intersectsNode(a,!1):3==this.compareNode(a)},containsNodeContents:function(a){return 0<=this.comparePoint(a,0)&&0>=this.comparePoint(a,$a(a))},containsRange:function(a){var b=
this.intersection(a);return null!==b&&a.equals(b)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var e=b.getNodes([3]);return 0<e.length?(b.setStart(e[0],0),a=e.pop(),b.setEnd(a,a.length),this.containsRange(b)):this.containsNodeContents(a)},getNodes:function(a,b){G(this);return p(this,a,b)},getDocument:function(){return f(this)},collapseBefore:function(a){this.setEndBefore(a);this.collapse(!1)},collapseAfter:function(a){this.setStartAfter(a);this.collapse(!0)},getBookmark:function(b){var e=
f(this),g=a.createRange(e);b=b||U.getBody(e);g.selectNodeContents(b);var e=this.intersection(g),h=0,k=0;e&&(g.setEnd(e.startContainer,e.startOffset),h=g.toString().length,k=h+e.toString().length);return{start:h,end:k,containerNode:b}},moveToBookmark:function(a){var b=a.containerNode,e=0;this.setStart(b,0);this.collapse(!0);for(var b=[b],f,g=!1,h=!1,k,l;!h&&(f=b.pop());)if(3==f.nodeType)k=e+f.length,!g&&a.start>=e&&a.start<=k&&(this.setStart(f,a.start-e),g=!0),g&&a.end>=e&&a.end<=k&&(this.setEnd(f,
a.end-e),h=!0),e=k;else for(l=f.childNodes,k=l.length;k--;)b.push(l[k])},getName:function(){return"DomRange"},equals:function(a){return L.rangesEqual(this,a)},isValid:function(){return E(this)},inspect:function(){return w(this)},detach:function(){}});J(L,Ba);R.extend(L,{rangeProperties:Va,RangeIterator:A,copyComparisonConstants:M,createPrototypeRange:J,inspect:w,toHtml:B,getRangeDocument:f,rangesEqual:function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===
b.endContainer&&a.endOffset===b.endOffset}});a.DomRange=L});G.createCoreModule("WrappedRange",["DomRange"],function(a,b){var e,f,g=a.dom,h=a.util,k=g.DomPosition,l=a.DomRange,m=g.getBody,n=g.getContentDocument,r=g.isCharacterDataNode;a.features.implementsDomRange&&function(){function f(a){for(var b=r.length,e;b--;)e=r[b],a[e]=a.nativeRange[e];a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset}var k,r=l.rangeProperties,q;e=function(a){if(!a)throw b.createError("WrappedRange: Range must be specified");
this.nativeRange=a;f(this)};l.createPrototypeRange(e,function(a,b,e,f,g){var h=a.startContainer!==b||a.startOffset!=e,k=a.endContainer!==f||a.endOffset!=g,l=!a.equals(a.nativeRange);if(h||k||l)a.setEnd(f,g),a.setStart(b,e)});k=e.prototype;k.selectNode=function(a){this.nativeRange.selectNode(a);f(this)};k.cloneContents=function(){return this.nativeRange.cloneContents()};k.surroundContents=function(a){this.nativeRange.surroundContents(a);f(this)};k.collapse=function(a){this.nativeRange.collapse(a);
f(this)};k.cloneRange=function(){return new e(this.nativeRange.cloneRange())};k.refresh=function(){f(this)};k.toString=function(){return this.nativeRange.toString()};var p=document.createTextNode("test");m(document).appendChild(p);var w=document.createRange();w.setStart(p,0);w.setEnd(p,0);try{w.setStart(p,1),k.setStart=function(a,b){this.nativeRange.setStart(a,b);f(this)},k.setEnd=function(a,b){this.nativeRange.setEnd(a,b);f(this)},q=function(a){return function(b){this.nativeRange[a](b);f(this)}}}catch(A){k.setStart=
function(a,b){try{this.nativeRange.setStart(a,b)}catch(e){this.nativeRange.setEnd(a,b),this.nativeRange.setStart(a,b)}f(this)},k.setEnd=function(a,b){try{this.nativeRange.setEnd(a,b)}catch(e){this.nativeRange.setStart(a,b),this.nativeRange.setEnd(a,b)}f(this)},q=function(a,b){return function(e){try{this.nativeRange[a](e)}catch(g){this.nativeRange[b](e),this.nativeRange[a](e)}f(this)}}}k.setStartBefore=q("setStartBefore","setEndBefore");k.setStartAfter=q("setStartAfter","setEndAfter");k.setEndBefore=
q("setEndBefore","setStartBefore");k.setEndAfter=q("setEndAfter","setStartAfter");k.selectNodeContents=function(a){this.setStartAndEnd(a,0,g.getNodeLength(a))};w.selectNodeContents(p);w.setEnd(p,3);q=document.createRange();q.selectNodeContents(p);q.setEnd(p,4);q.setStart(p,2);-1==w.compareBoundaryPoints(w.START_TO_END,q)&&1==w.compareBoundaryPoints(w.END_TO_START,q)?k.compareBoundaryPoints=function(a,b){b=b.nativeRange||b;a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END);return this.nativeRange.compareBoundaryPoints(a,
b)}:k.compareBoundaryPoints=function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)};q=document.createElement("div");q.innerHTML="123";var F=q.firstChild,D=m(document);D.appendChild(q);w.setStart(F,1);w.setEnd(F,2);w.deleteContents();"13"==F.data&&(k.deleteContents=function(){this.nativeRange.deleteContents();f(this)},k.extractContents=function(){var a=this.nativeRange.extractContents();f(this);return a});D.removeChild(q);D=null;h.isHostMethod(w,"createContextualFragment")&&
(k.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)});m(document).removeChild(p);k.getName=function(){return"WrappedRange"};a.WrappedRange=e;a.createNativeRange=function(a){a=n(a,b,"createNativeRange");return a.createRange()}}();if(a.features.implementsTextRange){var q=function(a,b,e,f,h){var l=a.duplicate();l.collapse(e);var m=l.parentElement();g.isOrIsAncestorOf(b,m)||(m=b);if(!m.canHaveHTML)return m=new k(m.parentNode,g.getNodeIndex(m)),{boundaryPosition:m,
nodeInfo:{nodeIndex:m.offset,containerElement:m.node}};b=g.getDocument(m).createElement("span");b.parentNode&&g.removeNode(b);var n,q=e?"StartToStart":"StartToEnd",p=h&&h.containerElement==m?h.nodeIndex:0,w=m.childNodes.length,A=w;for(h=A;;){h==w?m.appendChild(b):m.insertBefore(b,m.childNodes[h]);l.moveToElementText(b);n=l.compareEndPoints(q,a);if(0==n||p==A)break;else if(-1==n)if(A==p+1)break;else p=h;else A=A==p+1?p:h;h=Math.floor((p+A)/2);m.removeChild(b)}q=b.nextSibling;if(-1==n&&q&&r(q)){l.setEndPoint(e?
"EndToStart":"EndToEnd",a);if(/[\r\n]/.test(q.data))for(e=l.duplicate(),f=e.text.replace(/\r\n/g,"\r").length,f=e.moveStart("character",f);-1==e.compareEndPoints("StartToEnd",e);)f++,e.moveStart("character",1);else f=l.text.length;e=new k(q,f)}else a=(f||!e)&&b.previousSibling,e=(e=(f||e)&&b.nextSibling)&&r(e)?new k(e,0):a&&r(a)?new k(a,a.data.length):new k(m,g.getNodeIndex(b));g.removeNode(b);return{boundaryPosition:e,nodeInfo:{nodeIndex:h,containerElement:m}}},p=function(a,b){var e,f,h=a.offset,
k=g.getDocument(a.node),l=m(k).createTextRange(),n=r(a.node);n?(e=a.node,f=e.parentNode):(e=a.node.childNodes,e=h<e.length?e[h]:null,f=a.node);k=k.createElement("span");k.innerHTML="&#feff;";e?f.insertBefore(k,e):f.appendChild(k);l.moveToElementText(k);l.collapse(!b);f.removeChild(k);if(n)l[b?"moveStart":"moveEnd"]("character",h);return l};f=function(a){this.textRange=a;this.refresh()};f.prototype=new l(document);f.prototype.refresh=function(){var a,b,e;e=this.textRange;a=e.parentElement();var f=
e.duplicate();f.collapse(!0);b=f.parentElement();f=e.duplicate();f.collapse(!1);e=f.parentElement();b=b==e?b:g.getCommonAncestor(b,e);b=b==a?b:g.getCommonAncestor(a,b);a=this.textRange;0==a.compareEndPoints("StartToEnd",a)?b=a=q(this.textRange,b,!0,!0).boundaryPosition:(e=q(this.textRange,b,!0,!1),a=e.boundaryPosition,b=q(this.textRange,b,!1,!1,e.nodeInfo).boundaryPosition);this.setStart(a.node,a.offset);this.setEnd(b.node,b.offset)};f.prototype.getName=function(){return"WrappedTextRange"};l.copyComparisonConstants(f);
var w=function(a){if(a.collapsed)return p(new k(a.startContainer,a.startOffset),!0);var b=p(new k(a.startContainer,a.startOffset),!0),e=p(new k(a.endContainer,a.endOffset),!1);a=m(l.getRangeDocument(a)).createTextRange();a.setEndPoint("StartToStart",b);a.setEndPoint("EndToEnd",e);return a};f.rangeToTextRange=w;f.prototype.toTextRange=function(){return w(this)};a.WrappedTextRange=f;if(!a.features.implementsDomRange||a.config.preferTextRange){var A=Function("return this;")();"undefined"==typeof A.Range&&
(A.Range=f);a.createNativeRange=function(a){a=n(a,b,"createNativeRange");return m(a).createTextRange()};a.WrappedRange=f}}a.createRange=function(e){e=n(e,b,"createRange");return new a.WrappedRange(a.createNativeRange(e))};a.createRangyRange=function(a){a=n(a,b,"createRangyRange");return new l(a)};h.createAliasForDeprecatedMethod(a,"createIframeRange","createRange");h.createAliasForDeprecatedMethod(a,"createIframeRangyRange","createRangyRange");a.addShimListener(function(b){var e=b.document;"undefined"==
typeof e.createRange&&(e.createRange=function(){return a.createRange(e)});e=b=null})});G.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(a,b){function e(a){return"string"==typeof a?/^backward(s)?$/i.test(a):!!a}function f(a,e){if(a){if(E.isWindow(a))return a;if(a instanceof F)return a.win;var g=E.getContentDocument(a,b,e);return E.getWindow(g)}return window}function g(a){return f(a,"getWinSelection").getSelection()}function h(a){return f(a,"getDocSelection").document.selection}
function k(a){var b=!1;a.anchorNode&&(b=1==E.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset));return b}function l(a,b,e){var f=e?"end":"start";e=e?"start":"end";a.anchorNode=b[f+"Container"];a.anchorOffset=b[f+"Offset"];a.focusNode=b[e+"Container"];a.focusOffset=b[e+"Offset"]}function m(a){a.anchorNode=a.focusNode=null;a.anchorOffset=a.focusOffset=0;a.rangeCount=0;a.isCollapsed=!0;a._ranges.length=0}function n(b){var e;b instanceof B?(e=a.createNativeRange(b.getDocument()),e.setEnd(b.endContainer,
b.endOffset),e.setStart(b.startContainer,b.startOffset)):b instanceof la?e=b.nativeRange:Ba.implementsDomRange&&b instanceof E.getWindow(b.startContainer).Range&&(e=b);return e}function r(a){var e=a.getNodes(),f;a:if(e.length&&1==e[0].nodeType){f=1;for(var g=e.length;f<g;++f)if(!E.isAncestorOf(e[0],e[f])){f=!1;break a}f=!0}else f=!1;if(!f)throw b.createError("getSingleElementFromRange: range "+a.inspect()+" did not consist of a single element");return e[0]}function q(a){return!!a&&"undefined"!=typeof a.text}
function p(a,b){var e=new la(b);a._ranges=[e];l(a,e,!1);a.rangeCount=1;a.isCollapsed=e.collapsed}function w(b){b._ranges.length=0;if("None"==b.docSelection.type)m(b);else{var e=b.docSelection.createRange();if(q(e))p(b,e);else{b.rangeCount=e.length;for(var f,g=L(e.item(0)),h=0;h<b.rangeCount;++h)f=a.createRange(g),f.selectNode(e.item(h)),b._ranges.push(f);b.isCollapsed=1==b.rangeCount&&b._ranges[0].collapsed;l(b,b._ranges[b.rangeCount-1],!1)}}}function A(a,e){for(var f=a.docSelection.createRange(),
g=r(e),h=L(f.item(0)),h=R(h).createControlRange(),k=0,l=f.length;k<l;++k)h.add(f.item(k));try{h.add(g)}catch(m){throw b.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)");}h.select();w(a)}function F(a,b,e){this.nativeSelection=a;this.docSelection=b;this._ranges=[];this.win=e;this.refresh()}function D(a){a.win=a.anchorNode=a.focusNode=a._ranges=null;a.rangeCount=a.anchorOffset=a.focusOffset=0;a.detached=!0}function t(a,b){for(var e=
ua.length,f,g;e--;)if(f=ua[e],g=f.selection,"deleteAll"==b)D(g);else if(f.win==a)return"delete"==b?(ua.splice(e,1),!0):g;"deleteAll"==b&&(ua.length=0);return null}function v(a,e){for(var f=L(e[0].startContainer),f=R(f).createControlRange(),g=0,h,k=e.length;g<k;++g){h=r(e[g]);try{f.add(h)}catch(l){throw b.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)");}}f.select();w(a)}function K(a,b){if(a.win.document!=L(b))throw new M("WRONG_DOCUMENT_ERR");
}function y(b){return function(e,f){var g;this.rangeCount?(g=this.getRangeAt(0),g["set"+(b?"Start":"End")](e,f)):(g=a.createRange(this.win.document),g.setStartAndEnd(e,f));this.setSingleRange(g,this.isBackward())}}function z(a){var b=[],e=new H(a.anchorNode,a.anchorOffset),f=new H(a.focusNode,a.focusOffset),g="function"==typeof a.getName?a.getName():"Selection";if("undefined"!=typeof a.rangeCount)for(var h=0,k=a.rangeCount;h<k;++h)b[h]=B.inspect(a.getRangeAt(h));return"["+g+"(Ranges: "+b.join(", ")+
")(anchor: "+e.inspect()+", focus: "+f.inspect()+"]"}a.config.checkSelectionRanges=!0;var E=a.dom,G=a.util,x=G.isHostMethod,B=a.DomRange,la=a.WrappedRange,M=a.DOMException,H=E.DomPosition,J,N,Ba=a.features,L=E.getDocument,R=E.getBody,Qa=B.rangesEqual,ia=x(window,"getSelection"),fa=G.isHostObject(document,"selection");Ba.implementsWinGetSelection=ia;var ca=(Ba.implementsDocSelection=fa)&&(!ia||a.config.preferTextRange);if(ca)J=h,a.isSelectionValid=function(a){a=f(a,"isSelectionValid").document;var b=
a.selection;return"None"!=b.type||L(b.createRange().parentElement())==a};else if(ia)J=g,a.isSelectionValid=function(){return!0};else return b.fail("Neither document.selection or window.getSelection() detected."),!1;a.getNativeSelection=J;ia=J();if(!ia)return b.fail("Native selection was null (possibly issue 138?)"),!1;var wa=a.createNativeRange(document),Q=R(document),va=G.areHostProperties(ia,["anchorNode","focusNode","anchorOffset","focusOffset"]);Ba.selectionHasAnchorAndFocus=va;var ea=x(ia,"extend");
Ba.selectionHasExtend=ea;var aa="number"==typeof ia.rangeCount;Ba.selectionHasRangeCount=aa;var qa=!1,$a=!0,Ua=ea?function(b,e){var f=B.getRangeDocument(e),f=a.createRange(f);f.collapseToPoint(e.endContainer,e.endOffset);b.addRange(n(f));b.extend(e.startContainer,e.startOffset)}:null;G.areHostMethods(ia,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof ia.rangeCount&&Ba.implementsDomRange&&function(){var b=window.getSelection();if(b){for(var e=b.rangeCount,f=1<e,g=[],h=k(b),l=0;l<e;++l)g[l]=
b.getRangeAt(l);var l=E.createTestElement(document,"",!1),m=l.appendChild(document.createTextNode("\u00a0\u00a0\u00a0")),n=document.createRange();n.setStart(m,1);n.collapse(!0);b.removeAllRanges();b.addRange(n);$a=1==b.rangeCount;b.removeAllRanges();f||((f=window.navigator.appVersion.match(/Chrome\/(.*?) /))&&36<=parseInt(f[1])?qa=!1:(f=n.cloneRange(),n.setStart(m,0),f.setEnd(m,3),f.setStart(m,2),b.addRange(n),b.addRange(f),qa=2==b.rangeCount));E.removeNode(l);b.removeAllRanges();for(l=0;l<e;++l)0==
l&&h?Ua?Ua(b,g[l]):(a.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),b.addRange(g[l])):b.addRange(g[l])}}();Ba.selectionSupportsMultipleRanges=qa;Ba.collapsedNonEditableSelectionsSupported=$a;var ja=!1;Q&&x(Q,"createControlRange")&&(Q=Q.createControlRange(),G.areHostProperties(Q,["item","add"])&&(ja=!0));Ba.implementsControlRange=ja;N=va?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===
a.focusOffset}:function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:!1};var Pa;x(ia,"getRangeAt")?Pa=function(a,b){try{return a.getRangeAt(b)}catch(e){return null}}:va&&(Pa=function(b){var e=L(b.anchorNode),e=a.createRange(e);e.setStartAndEnd(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset);e.collapsed!==this.isCollapsed&&e.setStartAndEnd(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset);return e});F.prototype=a.selectionPrototype;var ua=[],Ra=function(a){if(a&&a instanceof
F)return a.refresh(),a;a=f(a,"getNativeSelection");var b=t(a),e=J(a),g=fa?h(a):null;b?(b.nativeSelection=e,b.docSelection=g,b.refresh()):(b=new F(e,g,a),ua.push({win:a,selection:b}));return b};a.getSelection=Ra;G.createAliasForDeprecatedMethod(a,"getIframeSelection","getSelection");Q=F.prototype;if(!ca&&va&&G.areHostMethods(ia,["removeAllRanges","addRange"]))Q.removeAllRanges=function(){this.nativeSelection.removeAllRanges();m(this)},Q.addRange=aa?function(b,f){if(ja&&fa&&"Control"==this.docSelection.type)A(this,
b);else if(e(f)&&ea)Ua(this.nativeSelection,b),this.refresh();else{var g;qa?g=this.rangeCount:(this.removeAllRanges(),g=0);var h=n(b).cloneRange();try{this.nativeSelection.addRange(h)}catch(k){}this.rangeCount=this.nativeSelection.rangeCount;this.rangeCount==g+1?(a.config.checkSelectionRanges&&(g=Pa(this.nativeSelection,this.rangeCount-1))&&!Qa(g,b)&&(b=new la(g)),this._ranges[this.rangeCount-1]=b,l(this,b,Ha(this.nativeSelection)),this.isCollapsed=N(this)):this.refresh()}}:function(a,b){e(b)&&ea?
Ua(this.nativeSelection,a):this.nativeSelection.addRange(n(a));this.refresh()},Q.setRanges=function(a){if(ja&&fa&&1<a.length)v(this,a);else{this.removeAllRanges();for(var b=0,e=a.length;b<e;++b)this.addRange(a[b])}};else if(x(ia,"empty")&&x(wa,"select")&&ja&&ca)Q.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var a;if(this.anchorNode)a=L(this.anchorNode);else if("Control"==this.docSelection.type){var b=this.docSelection.createRange();b.length&&(a=L(b.item(0)))}a&&
(R(a).createTextRange().select(),this.docSelection.empty())}}catch(e){}m(this)},Q.addRange=function(b){"Control"==this.docSelection.type?A(this,b):(a.WrappedTextRange.rangeToTextRange(b).select(),this._ranges[0]=b,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,l(this,b,!1))},Q.setRanges=function(a){this.removeAllRanges();var b=a.length;1<b?v(this,a):b&&this.addRange(a[0])};else return b.fail("No means of selecting a Range or TextRange was found"),!1;Q.getRangeAt=function(a){if(0>a||
a>=this.rangeCount)throw new M("INDEX_SIZE_ERR");return this._ranges[a].cloneRange()};var Xa;if(ca)Xa=function(b){var e;a.isSelectionValid(b.win)?e=b.docSelection.createRange():(e=R(b.win.document).createTextRange(),e.collapse(!0));"Control"==b.docSelection.type?w(b):q(e)?p(b,e):m(b)};else if(x(ia,"getRangeAt")&&"number"==typeof ia.rangeCount)Xa=function(b){if(ja&&fa&&"Control"==b.docSelection.type)w(b);else if(b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount,b.rangeCount){for(var e=0,f=
b.rangeCount;e<f;++e)b._ranges[e]=new a.WrappedRange(b.nativeSelection.getRangeAt(e));l(b,b._ranges[b.rangeCount-1],Ha(b.nativeSelection));b.isCollapsed=N(b)}else m(b)};else if(va&&"boolean"==typeof ia.isCollapsed&&"boolean"==typeof wa.collapsed&&Ba.implementsDomRange)Xa=function(a){var b;b=a.nativeSelection;b.anchorNode?(b=Pa(b,0),a._ranges=[b],a.rangeCount=1,b=a.nativeSelection,a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset,a.isCollapsed=
N(a)):m(a)};else return b.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;Q.refresh=function(a){var b=a?this._ranges.slice(0):null,e=this.anchorNode,f=this.anchorOffset;Xa(this);if(a){a=b.length;if(a!=this._ranges.length||this.anchorNode!=e||this.anchorOffset!=f)return!0;for(;a--;)if(!Qa(b[a],this._ranges[a]))return!0;return!1}};var kb=function(a,b){var e=a.getAllRanges();a.removeAllRanges();for(var f=0,g=e.length;f<g;++f)Qa(b,e[f])||a.addRange(e[f]);a.rangeCount||
m(a)};Q.removeRange=ja&&fa?function(a){if("Control"==this.docSelection.type){var b=this.docSelection.createRange();a=r(a);for(var e=L(b.item(0)),e=R(e).createControlRange(),f,g=!1,h=0,k=b.length;h<k;++h)f=b.item(h),f!==a||g?e.add(b.item(h)):g=!0;e.select();w(this)}else kb(this,a)}:function(a){kb(this,a)};var Ha;!ca&&va&&Ba.implementsDomRange?(Ha=k,Q.isBackward=function(){return Ha(this)}):Ha=Q.isBackward=function(){return!1};Q.isBackwards=Q.isBackward;Q.toString=function(){for(var a=[],b=0,e=this.rangeCount;b<
e;++b)a[b]=""+this._ranges[b];return a.join("")};Q.collapse=function(b,e){K(this,b);var f=a.createRange(b);f.collapseToPoint(b,e);this.setSingleRange(f);this.isCollapsed=!0};Q.collapseToStart=function(){if(this.rangeCount){var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)}else throw new M("INVALID_STATE_ERR");};Q.collapseToEnd=function(){if(this.rangeCount){var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)}else throw new M("INVALID_STATE_ERR");};Q.selectAllChildren=
function(b){K(this,b);var e=a.createRange(b);e.selectNodeContents(b);this.setSingleRange(e)};Q.deleteFromDocument=function(){if(ja&&fa&&"Control"==this.docSelection.type){for(var a=this.docSelection.createRange(),b;a.length;)b=a.item(0),a.remove(b),E.removeNode(b);this.refresh()}else if(this.rangeCount&&(a=this.getAllRanges(),a.length)){this.removeAllRanges();b=0;for(var e=a.length;b<e;++b)a[b].deleteContents();this.addRange(a[e-1])}};Q.eachRange=function(a,b){for(var e=0,f=this._ranges.length;e<
f;++e)if(a(this.getRangeAt(e)))return b};Q.getAllRanges=function(){var a=[];this.eachRange(function(b){a.push(b)});return a};Q.setSingleRange=function(a,b){this.removeAllRanges();this.addRange(a,b)};Q.callMethodOnEachRange=function(a,b){var e=[];this.eachRange(function(f){e.push(f[a].apply(f,b||[]))});return e};Q.setStart=y(!0);Q.setEnd=y(!1);a.rangePrototype.select=function(a){Ra(this.getDocument()).setSingleRange(this,a)};Q.changeEachRange=function(a){var b=[],e=this.isBackward();this.eachRange(function(e){a(e);
b.push(e)});this.removeAllRanges();e&&1==b.length?this.addRange(b[0],"backward"):this.setRanges(b)};Q.containsNode=function(a,b){return this.eachRange(function(e){return e.containsNode(a,b)},!0)||!1};Q.getBookmark=function(a){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[a])}};Q.moveToBookmark=function(b){for(var e=[],f=0,g,h;g=b.rangeBookmarks[f++];)h=a.createRange(this.win),h.moveToBookmark(g),e.push(h);b.backward?this.setSingleRange(e[0],"backward"):
this.setRanges(e)};Q.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}};Q.restoreRanges=function(a){this.removeAllRanges();for(var b=0,e;e=a.ranges[b];++b)this.addRange(e,a.backward&&0==b)};Q.toHtml=function(){var a=[];this.eachRange(function(b){a.push(B.toHtml(b))});return a.join("")};Ba.implementsTextRange&&(Q.getNativeTextRange=function(){var e;if(e=this.docSelection){e=e.createRange();if(q(e))return e;throw b.createError("getNativeTextRange: selection is a control selection");
}if(0<this.rangeCount)return a.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw b.createError("getNativeTextRange: selection contains no range");});Q.getName=function(){return"WrappedSelection"};Q.inspect=function(){return z(this)};Q.detach=function(){t(this.win,"delete");D(this)};F.detachAll=function(){t(null,"deleteAll")};F.inspect=z;F.isDirectionBackward=e;a.Selection=F;a.selectionPrototype=Q;a.addShimListener(function(a){"undefined"==typeof a.getSelection&&(a.getSelection=function(){return Ra(a)});
a=null})});var R=!1,w=function(a){R||(R=!0,!G.initialized&&G.config.autoInitialize&&n())};F&&("complete"==document.readyState?w():(a(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",w,!1),J(window,"load",w)));return G},this);
(function(a,h){"function"==typeof define&&define.amd?define(["./rangy-core"],a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a(require("rangy")):a(h.rangy)})(function(a){a.createModule("TextRange",["WrappedSelection"],function(a,b){function e(a,b){for(var e=a.slice(b.start,b.end),f={isWord:b.isWord,chars:e,toString:function(){return e.join("")}},g=0,h=e.length;g<h;++g)e[g].token=f;return f}function g(a,b,f){b=f(a,b);f=[];for(var g=0,h;h=b[g++];)f.push(e(a,h));return f}function f(a){a=
a||"";a="string"==typeof a?a.split(""):a;a.sort(function(a,b){return a.charCodeAt(0)-b.charCodeAt(0)});return a.join("").replace(/(.)\1+/g,"$1")}function l(a,b){var e=X(a,b);if(b.hasOwnProperty("wordOptions")){var f;f=e.wordOptions;var g,h;f?(g=f.language||"en",h={},P(h,pa[g]||pa.en),P(h,f),f=h):f=pa.en;e.wordOptions=f}b.hasOwnProperty("characterOptions")&&(e.characterOptions=X(e.characterOptions,oa));return e}function k(a,b){var e=ya(a,"display",b),f=a.tagName.toLowerCase();return"block"==e&&cb&&
Ta.hasOwnProperty(f)?Ta[f]:e}function n(a){for(var b=a,e=[];b.parentNode;)e.unshift(b.parentNode),b=b.parentNode;a=e.concat([a]);b=0;for(e=a.length;b<e;++b)if(1==a[b].nodeType&&"none"==k(a[b]))return!0;return!1}function m(a,b){if(!b&&a.hasChildNodes())return a.firstChild;var e;for(e=a;e&&!e.nextSibling;)e=e.parentNode;e=e?e.nextSibling:null;return e}function p(a){var b=a.previousSibling;if(b){for(a=b;a.hasChildNodes();)a=a.lastChild;return a}return(a=a.parentNode)&&1==a.nodeType?a:null}function q(a){if(!a||
3!=a.nodeType)return!1;var b=a.data;if(""===b)return!0;var e=a.parentNode;if(!e||1!=e.nodeType)return!1;a=ya(a.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(b)&&/^(normal|nowrap)$/.test(a)||/^[\t\r ]+$/.test(b)&&"pre-line"==a}function r(a){return""===a.data?!0:q(a)?!a.parentNode||n(a)?!0:!1:!1}function t(a){var b=a.nodeType;if(!(b=7==b||8==b||n(a)||/^(script|style)$/i.test(a.nodeName)))var e,b=3==a.nodeType&&(e=a.parentNode)&&"hidden"==ya(e,"visibility");return b||r(a)}function v(a,b){var e=
a.nodeType;return 7==e||8==e||1==e&&"none"==k(a,b)}function x(){this.store={}}function y(a,b,e){return function(f){var g=this.cache;if(g.hasOwnProperty(a))return yb++,g[a];ib++;f=b.call(this,e?this[e]:this,f);return g[a]=f}}function z(a,b){this.node=a;this.session=b;this.cache=new x;this.positions=new x}function B(a,b){this.offset=b;this.nodeWrapper=a;this.node=a.node;this.session=a.session;this.cache=new x}function E(){w();return u=new fb}function w(){u&&u.detach();u=null}function A(a,e,f,g){function h(){var a=
null;e?(a=k,l||(k=k.previousVisible(),l=!k||f&&k.equals(f))):l||(a=k=k.nextVisible(),l=!k||f&&k.equals(f));l&&(k=null);return a}f&&(e?t(f.node)&&(f=a.previousVisible()):t(f.node)&&(f=f.nextVisible()));var k=a,l=!1,m,n=!1;return{next:function(){if(n)return n=!1,m;for(var a,b;a=h();)if(b=a.getCharacter(g))return m=a;return null},rewind:function(){if(m)n=!0;else throw b.createError("createCharacterIterator: cannot rewind. Only one position can be rewound.");},dispose:function(){a=f=null}}}function D(a,
b,e){function f(a){for(var b,e=[],g=a?h:k,l=!1,m=!1;a=g.next();){b=a.character;if(Z.test(b))m&&(m=!1,l=!0);else if(l){g.rewind();break}else m=!0;e.push(a)}return e}var h=A(a,!1,null,b),k=A(a,!0,null,b),l=e.tokenizer;a=f(!0);b=f(!1).reverse();var m=g(b.concat(a),e,l),n=a.length?m.slice(Ka(m,a[0].token)):[],r=b.length?m.slice(0,Ka(m,b.pop().token)+1):[];return{nextEndToken:function(){for(var a,b;1==n.length&&!(a=n[0]).isWord&&0<(b=f(!0)).length;)n=g(a.chars.concat(b),e,l);return n.shift()},previousStartToken:function(){for(var a,
b;1==r.length&&!(a=r[0]).isWord&&0<(b=f(!1)).length;)r=g(b.reverse().concat(a.chars),e,l);return r.pop()},dispose:function(){h.dispose();k.dispose();n=r=null}}}function F(a,b,e,f){var g=a.getRangeBoundaryPosition(b,!0);a=a.getRangeBoundaryPosition(b,!1);return A(f?a:g,!!f,f?g:a,e)}function K(b,e,f,g,k){function l(b,e){var f=n[b].previousVisible(),g=n[e-1],m;if(!(m=!k.wholeWordsOnly)){m=k.wordOptions;var r=a.createRange(f.node);r.setStartAndEnd(f.node,f.offset,g.node,g.offset);m=!r.expand("word",{wordOptions:m})}return{startPos:f,
endPos:g,valid:m}}var m=V(k.direction);b=A(b,m,b.session.getRangeBoundaryPosition(g,m),k.characterOptions);g="";for(var n=[],r,q,p,w,F,D=null;r=b.next();)if(q=r.character,f||k.caseSensitive||(q=q.toLowerCase()),m?(n.unshift(r),g=q+g):(n.push(r),g+=q),f){if(r=e.exec(g))if(p=r.index,w=p+r[0].length,F){if(!m&&w<g.length||m&&0<p){D=l(p,w);break}}else F=!0}else if(-1!=(p=g.indexOf(e))){D=l(p,p+e.length);break}F&&(D=l(p,w));b.dispose();return D}function G(a){return function(){var b=!!u,e=[u||E()].concat(R.toArray(arguments)),
e=a.apply(this,e);b||w();return e}}function M(a,b){return G(function(e,f,g,h){var k;"undefined"==typeof g&&(g=f,f="character");h=l(h,ha);var m=a;b&&(m=0<=g,this.collapse(!m));e=e.getRangeBoundaryPosition(this,m);var n=g;g=h.characterOptions;var r=h.wordOptions;h=0;var q=e,p=Math.abs(n);if(0!==n){n=0>n;switch(f){case "character":for(r=A(e,n,null,g);(k=r.next())&&h<p;)++h,q=k;r.dispose();break;case "word":for(var r=D(e,g,r),w=n?r.previousStartToken:r.nextEndToken;(r=w())&&h<p;)r.isWord&&(++h,q=n?r.chars[0]:
r.chars[r.chars.length-1]);break;default:throw Error("movePositionBy: unit '"+f+"' not implemented");}n?(q=q.previousVisible(),h=-h):q&&q.isLeadingSpace&&!q.isTrailingSpace&&("word"==f&&(r=A(e,!1,null,g),k=r.next(),r.dispose()),k&&(q=k.previousVisible()))}e=q;k=h;this[m?"setStart":"setEnd"](e.node,e.offset);return k})}function J(a){return G(function(b,e){e=X(e,oa);for(var f,g=F(b,this,e,!a),h=0;(f=g.next())&&Z.test(f.character);)++h;g.dispose();if(f=0<h)this[a?"moveStart":"moveEnd"]("character",a?
h:-h,{characterOptions:e});return f})}function N(a){return G(function(b,e){var f=!1;this.changeEachRange(function(b){f=b[a](e)||f});return f})}var L=a.dom,R=a.util,P=R.extend,X=R.createOptions,T=L.getBody,da=/^[ \t\f\r\n]+$/,O=/^[ \t\f\r]+$/,Z=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/,ga=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/,V=a.Selection.isDirectionBackward,ka=!1,Y=!1;(function(){var b=L.createTestElement(document,"<p>1 </p><p></p>",!0),
e=b.firstChild,f=a.getSelection();f.collapse(e.lastChild,2);f.setStart(e.firstChild,0);b.innerHTML="1 <br />";f.collapse(b,2);f.setStart(b.firstChild,0);ka=1==(""+f).length;b.innerHTML="1 <p>1</p>";f.collapse(b,2);f.setStart(b.firstChild,0);Y=1==(""+f).length;L.removeNode(b);f.removeAllRanges()})();var oa={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:""},ta={includeBlockContentTrailingSpace:!1,includeSpaceBeforeBr:!ka,
includeSpaceBeforeBlock:!Y,includePreLineTrailingSpace:!0},pa={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:function(a,b){function e(a,b,f){h.push({start:a,end:b,isWord:f})}for(var f=a.join(""),g,h=[],k=0,l;g=b.wordRegex.exec(f);){l=g.index;g=l+g[0].length;l>k&&e(k,l,!1);if(b.includeTrailingSpace)for(;ga.test(a[g]);)++g;e(l,g,!0);k=g}k<a.length&&e(k,a.length,!1);return h}}},bb={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:"forward",wordOptions:null,
characterOptions:null},ha={wordOptions:null,characterOptions:null},Sa={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},Ea={wordOptions:null,characterOptions:null,direction:"forward"},ya=L.getComputedStyleProperty,cb;(function(){var a=document.createElement("table"),b=T(document);b.appendChild(a);cb="block"==ya(a,"display");b.removeChild(a)})();var Ta={table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",
tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell"};x.prototype={get:function(a){return this.store.hasOwnProperty(a)?this.store[a]:null},set:function(a,b){return this.store[a]=b}};var yb=0,ib=0,ba={getPosition:function(a){var b=this.positions;return b.get(a)||b.set(a,new B(this,a))},toString:function(){return"[NodeWrapper("+L.inspectNode(this.node)+")]"}};z.prototype=ba;P(ba,{isCharacterDataNode:y("isCharacterDataNode",L.isCharacterDataNode,"node"),getNodeIndex:y("nodeIndex",
L.getNodeIndex,"node"),getLength:y("nodeLength",L.getNodeLength,"node"),containsPositions:y("containsPositions",function(a){return L.isCharacterDataNode(a)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(a.nodeName)},"node"),isWhitespace:y("isWhitespace",q,"node"),isCollapsedWhitespace:y("isCollapsedWhitespace",r,"node"),getComputedDisplay:y("computedDisplay",k,"node"),isCollapsed:y("collapsed",t,"node"),isIgnored:y("ignored",v,"node"),next:y("nextPos",m,"node"),
previous:y("previous",p,"node"),getTextNodeInfo:y("textNodeInfo",function(a){var b=null,e=!1,f=ya(a.parentNode,"whiteSpace"),g="pre-line"==f;if(g)b=O,e=!0;else if("normal"==f||"nowrap"==f)b=da,e=!0;return{node:a,text:a.data,spaceRegex:b,collapseSpaces:e,preLine:g}},"node"),hasInnerText:y("hasInnerText",function(a,b){for(var e=this.session,f=e.getPosition(a.parentNode,this.getNodeIndex()+1),g=e.getPosition(a,0),e=b?f:g,f=b?g:f;e!==f;){e.prepopulateChar();if(e.isDefinitelyNonEmpty())return!0;e=b?e.previousVisible():
e.nextVisible()}return!1},"node"),isRenderedBlock:y("isRenderedBlock",function(a){a=a.getElementsByTagName("br");for(var b=0,e=a.length;b<e;++b)if(!t(a[b]))return!0;return this.hasInnerText()},"node"),getTrailingSpace:y("trailingSpace",function(a){if("br"!=a.tagName.toLowerCase())switch(this.getComputedDisplay()){case "inline":for(a=a.lastChild;a;){if(!v(a))return 1==a.nodeType?this.session.getNodeWrapper(a).getTrailingSpace():"";a=a.previousSibling}break;case "inline-block":case "inline-table":case "none":case "table-column":case "table-column-group":break;
case "table-cell":return"\t";default:return this.isRenderedBlock(!0)?"\n":""}return""},"node"),getLeadingSpace:y("leadingSpace",function(a){switch(this.getComputedDisplay()){case "inline":case "inline-block":case "inline-table":case "none":case "table-column":case "table-column-group":case "table-cell":break;default:return this.isRenderedBlock(!1)?"\n":""}return""},"node")});ba={character:"",characterType:"EMPTY",isBr:!1,prepopulateChar:function(){if(!this.prepopulatedChar){var a=this.node,b=this.offset,
e="",f="EMPTY",g=!1;if(0<b)if(3==a.nodeType){var a=a.data,h=a.charAt(b-1),k=this.nodeWrapper.getTextNodeInfo(),l=k.spaceRegex;k.collapseSpaces?l.test(h)?1<b&&l.test(a.charAt(b-2))||(k.preLine&&"\n"===a.charAt(b)?(e=" ",f="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"):(e=" ",f="COLLAPSIBLE_SPACE")):(e=h,f="NON_SPACE",g=!0):(e=h,f="UNCOLLAPSIBLE_SPACE",g=!0)}else(h=a.childNodes[b-1])&&1==h.nodeType&&!t(h)&&("br"==h.tagName.toLowerCase()?(e="\n",this.isBr=!0,f="COLLAPSIBLE_SPACE",g=!1):this.checkForTrailingSpace=
!0),e||(b=a.childNodes[b])&&1==b.nodeType&&!t(b)&&(this.checkForLeadingSpace=!0);this.prepopulatedChar=!0;this.character=e;this.characterType=f;this.isCharInvariant=g}},isDefinitelyNonEmpty:function(){var a=this.characterType;return"NON_SPACE"==a||"UNCOLLAPSIBLE_SPACE"==a},resolveLeadingAndTrailingSpaces:function(){this.prepopulatedChar||this.prepopulateChar();if(this.checkForTrailingSpace){var a=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();a&&(this.isTrailingSpace=
!0,this.character=a,this.characterType="COLLAPSIBLE_SPACE");this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){if(a=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace())this.isLeadingSpace=!0,this.character=a,this.characterType="COLLAPSIBLE_SPACE";this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(a){for(var b=this,e;b=b.previousVisible();)if(e=b.getCharacter(a),""!==e)return b;return null},getCharacter:function(a){function b(){n||(m=r.getPrecedingUncollapsedPosition(a),
n=!0);return m}this.resolveLeadingAndTrailingSpaces();var e=this.character,g=f(a.ignoreCharacters),h=""!==e&&-1<g.indexOf(e);if(this.isCharInvariant)return h?"":e;var h=["character",a.includeSpaceBeforeBr,a.includeBlockContentTrailingSpace,a.includePreLineTrailingSpace,g].join("_"),k=this.cache.get(h);if(null!==k)return k;var k="",l,m,n=!1,r=this;if("COLLAPSIBLE_SPACE"==this.characterType)if("INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"==this.type)k="\n";else if(" "!=e||b()&&!m.isTrailingSpace&&"\n"!=m.character&&
(" "!=m.character||"COLLAPSIBLE_SPACE"!=m.characterType))if("\n"==e&&this.isLeadingSpace)b()&&"\n"!=m.character&&(k="\n");else if(l=this.nextUncollapsed())if(l.isBr?this.type="TRAILING_SPACE_BEFORE_BR":l.isTrailingSpace&&"\n"==l.character?this.type="TRAILING_SPACE_IN_BLOCK":l.isLeadingSpace&&"\n"==l.character&&(this.type="TRAILING_SPACE_BEFORE_BLOCK"),"\n"==l.character){if("TRAILING_SPACE_BEFORE_BR"!=this.type||a.includeSpaceBeforeBr)if("TRAILING_SPACE_BEFORE_BLOCK"!=this.type||a.includeSpaceBeforeBlock)if("TRAILING_SPACE_IN_BLOCK"!=
this.type||!l.isTrailingSpace||a.includeBlockContentTrailingSpace)if("PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"!=this.type||"NON_SPACE"!=l.type||a.includePreLineTrailingSpace)"\n"==e?l.isTrailingSpace?!this.isTrailingSpace&&this.isBr&&(l.type="TRAILING_LINE_BREAK_AFTER_BR",b()&&m.isLeadingSpace&&!m.isTrailingSpace&&"\n"==m.character?l.character="":l.type="INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"):k="\n":" "==e&&(k=" ")}else k=e;-1<g.indexOf(k)&&(k="");this.cache.set(h,k);return k},equals:function(a){return!!a&&
this.node===a.node&&this.offset===a.offset},inspect:function(){return"[Position("+L.inspectNode(this.node)+":"+this.offset+")]"},toString:function(){return this.character}};B.prototype=ba;P(ba,{next:y("nextPos",function(a){var b=a.nodeWrapper,e=a.node,f=a.offset;a=b.session;if(!e)return null;f==b.getLength()?b=(e=e.parentNode)?b.getNodeIndex()+1:0:b.isCharacterDataNode()?b=f+1:(b=e.childNodes[f],a.getNodeWrapper(b).containsPositions()?(e=b,b=0):b=f+1);return e?a.getPosition(e,b):null}),previous:y("previous",
function(a){var b=a.nodeWrapper,e=a.node,f=a.offset;a=b.session;0==f?b=(e=e.parentNode)?b.getNodeIndex():0:b.isCharacterDataNode()?b=f-1:(b=e.childNodes[f-1],a.getNodeWrapper(b).containsPositions()?(e=b,b=L.getNodeLength(b)):b=f-1);return e?a.getPosition(e,b):null}),nextVisible:y("nextVisible",function(a){var b=a.next();if(!b)return null;a=b.nodeWrapper;var e=b.node;a.isCollapsed()&&(b=a.session.getPosition(e.parentNode,a.getNodeIndex()+1));return b}),nextUncollapsed:y("nextUncollapsed",function(a){for(;a=
a.nextVisible();)if(a.resolveLeadingAndTrailingSpaces(),""!==a.character)return a;return null}),previousVisible:y("previousVisible",function(a){var b=a.previous();if(!b)return null;a=b.nodeWrapper;var e=b.node;a.isCollapsed()&&(b=a.session.getPosition(e.parentNode,a.getNodeIndex()));return b})});var u=null,fb=function(){function a(b){var e=new x;return{get:function(a){var f=e.get(a[b]);if(f)for(var g=0,h;h=f[g++];)if(h.node===a)return h;return null},set:function(a){var f=a.node[b];(e.get(f)||e.set(f,
[])).push(a)}}}function b(){this.initCaches()}var e=R.isHostProperty(document.documentElement,"uniqueID");b.prototype={initCaches:function(){this.elementCache=e?function(){var a=new x;return{get:function(b){return a.get(b.uniqueID)},set:function(b){a.set(b.node.uniqueID,b)}}}():a("tagName");this.textNodeCache=a("data");this.otherNodeCache=a("nodeName")},getNodeWrapper:function(a){var b;switch(a.nodeType){case 1:b=this.elementCache;break;case 3:b=this.textNodeCache;break;default:b=this.otherNodeCache}var e=
b.get(a);e||(e=new z(a,this),b.set(e));return e},getPosition:function(a,b){return this.getNodeWrapper(a).getPosition(b)},getRangeBoundaryPosition:function(a,b){var e=b?"start":"end";return this.getPosition(a[e+"Container"],a[e+"Offset"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}};return b}();P(L,{nextNode:m,previousNode:p});var Ka=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var e=0,f=a.length;e<f;++e)if(a[e]===b)return e;return-1};
P(a.rangePrototype,{moveStart:M(!0,!1),moveEnd:M(!1,!1),move:M(!0,!0),trimStart:J(!0),trimEnd:J(!1),trim:G(function(a,b){var e=this.trimStart(b),f=this.trimEnd(b);return e||f}),expand:G(function(a,b,e){var f=!1;e=l(e,Sa);var g=e.characterOptions;b||(b="character");if("word"==b){var h=e.wordOptions;b=a.getRangeBoundaryPosition(this,!0);a=a.getRangeBoundaryPosition(this,!1);var k=D(b,g,h).nextEndToken(),m=k.chars[0].previousVisible(),h=this.collapsed?k:D(a,g,h).previousStartToken(),h=h.chars[h.chars.length-
1];m.equals(b)||(this.setStart(m.node,m.offset),f=!0);h&&!h.equals(a)&&(this.setEnd(h.node,h.offset),f=!0);e.trim&&(e.trimStart&&(f=this.trimStart(g)||f),e.trimEnd&&(f=this.trimEnd(g)||f));return f}return this.moveEnd("character",1,e)}),text:G(function(a,b){var e;if(this.collapsed)e="";else{var f=X(b,oa);e=[];for(var f=F(a,this,f),g;g=f.next();)e.push(g);f.dispose();e=e.join("")}return e}),selectCharacters:G(function(a,b,e,f,g){a={characterOptions:g};b||(b=T(this.getDocument()));this.selectNodeContents(b);
this.collapse(!0);this.moveStart("character",e,a);this.collapse(!0);this.moveEnd("character",f-e,a)}),toCharacterRange:G(function(a,b,e){b||(b=T(this.getDocument()));a=b.parentNode;b=L.getNodeIndex(b);var f=-1==L.comparePoints(this.startContainer,this.endContainer,a,b),g=this.cloneRange();f?(g.setStartAndEnd(this.startContainer,this.startOffset,a,b),a=-g.text(e).length):(g.setStartAndEnd(a,b,this.startContainer,this.startOffset),a=g.text(e).length);e=a+this.text(e).length;return{start:a,end:e}}),
findText:G(function(b,e,f){f=l(f,bb);f.wholeWordsOnly&&(f.wordOptions.includeTrailingSpace=!1);var g=V(f.direction),k=f.withinRange;k||(k=a.createRange(),k.selectNodeContents(this.getDocument()));var m=!1;"string"==typeof e?f.caseSensitive||(e=e.toLowerCase()):m=!0;var n=b.getRangeBoundaryPosition(this,!g),r=k.comparePoint(n.node,n.offset);-1===r?n=b.getRangeBoundaryPosition(k,!0):1===r&&(n=b.getRangeBoundaryPosition(k,!1));for(var q=n,r=!1;;)if(q=K(q,e,m,k,f)){if(q.valid)return this.setStartAndEnd(q.startPos.node,
q.startPos.offset,q.endPos.node,q.endPos.offset),!0;q=g?q.startPos:q.endPos}else if(f.wrap&&!r)k=k.cloneRange(),q=b.getRangeBoundaryPosition(k,!g),k.setBoundary(n.node,n.offset,g),r=!0;else return!1}),pasteHtml:function(a){this.deleteContents();if(a){a=this.createContextualFragment(a);var b=a.lastChild;this.insertNode(a);this.collapseAfter(b)}}});P(a.selectionPrototype,{expand:G(function(a,b,e){this.changeEachRange(function(a){a.expand(b,e)})}),move:G(function(a,b,e,f){a=0;if(this.focusNode){this.collapse(this.focusNode,
this.focusOffset);var g=this.getRangeAt(0);f||(f={});f.characterOptions=X(f.characterOptions,ta);a=g.move(b,e,f);this.setSingleRange(g)}return a}),trimStart:N("trimStart"),trimEnd:N("trimEnd"),trim:N("trim"),selectCharacters:G(function(b,e,f,g,k,l){b=a.createRange(e);b.selectCharacters(e,f,g,l);this.setSingleRange(b,k)}),saveCharacterRanges:G(function(a,b,e){a=this.getAllRanges();for(var f=[],g=1==a.length&&this.isBackward(),h=0,k=a.length;h<k;++h)f[h]={characterRange:a[h].toCharacterRange(b,e),backward:g,
characterOptions:e};return f}),restoreCharacterRanges:G(function(b,e,f){this.removeAllRanges();b=0;for(var g=f.length,k,l,m;b<g;++b)l=f[b],m=l.characterRange,k=a.createRange(e),k.selectCharacters(e,m.start,m.end,l.characterOptions),this.addRange(k,l.backward)}),text:G(function(a,b){for(var e=[],f=0,g=this.rangeCount;f<g;++f)e[f]=this.getRangeAt(f).text(b);return e.join("")})});a.innerText=function(b,e){var f=a.createRange(b);f.selectNodeContents(b);return f.text(e)};a.createWordIterator=function(a,
b,e){var f=u||E();e=l(e,Ea);a=f.getPosition(a,b);var g=D(a,e.characterOptions,e.wordOptions),h=V(e.direction);return{next:function(){return h?g.previousStartToken():g.nextEndToken()},dispose:function(){g.dispose();this.next=function(){}}}};a.noMutation=function(a){var b=u||E();a(b);w()};a.noMutation.createEntryPointFunction=G;a.textRange={isBlockNode:function(a){return a&&(1==a.nodeType&&!/^(inline(-block|-table)?|none)$/.test(k(a))||9==a.nodeType||11==a.nodeType)},isCollapsedWhitespaceNode:r,createPosition:G(function(a,
b,e){return a.getPosition(b,e)})}});return a},this);
(function(a,h){"function"==typeof define&&define.amd?define(["./rangy-core"],a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a(require("rangy")):a(h.rangy)})(function(a){a.createModule("SaveRestore",["WrappedRange"],function(a,b){function e(a,b){var e="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),f,g=q.getDocument(a.startContainer),h=a.cloneRange();h.collapse(b);f=g.createElement("span");f.id=e;f.style.lineHeight="0";f.style.display="none";f.className="rangySelectionBoundary";
f.appendChild(g.createTextNode("\ufeff"));h.insertNode(f);return f}function g(a,e,f,g){(a=(a||document).getElementById(f))?(e[g?"setStartBefore":"setEndBefore"](a),r(a)):b.warn("Marker element has been removed. Cannot restore selection.")}function f(a,b){return b.compareBoundaryPoints(a.START_TO_START,a)}function l(b,f){var g,k,l=a.DomRange.getRangeDocument(b),m=b.toString(),n=t(f);if(b.collapsed)return k=e(b,!1),{document:l,markerId:k.id,collapsed:!0};k=e(b,!1);g=e(b,!0);return{document:l,startMarkerId:g.id,
endMarkerId:k.id,collapsed:!1,backward:n,toString:function(){return"original text: '"+m+"', new text: '"+b.toString()+"'"}}}function k(e,f){var k=e.document;"undefined"==typeof f&&(f=!0);var l=a.createRange(k);if(e.collapsed)if(k=(k||document).getElementById(e.markerId)){k.style.display="inline";var m=k.previousSibling;m&&3==m.nodeType?(r(k),l.collapseToPoint(m,m.length)):(l.collapseBefore(k),r(k))}else b.warn("Marker element has been removed. Cannot restore selection.");else g(k,l,e.startMarkerId,
!0),g(k,l,e.endMarkerId,!1);f&&l.normalizeBoundaries();return l}function n(b,e){var g=[],k,m;k=t(e);b=b.slice(0);b.sort(f);var n=0;for(m=b.length;n<m;++n)g[n]=l(b[n],k);for(n=m-1;0<=n;--n)k=b[n],m=a.DomRange.getRangeDocument(k),k.collapsed?k.collapseAfter((m||document).getElementById(g[n].markerId)):(k.setEndBefore((m||document).getElementById(g[n].endMarkerId)),k.setStartAfter((m||document).getElementById(g[n].startMarkerId)));return g}function m(a){for(var b=[],e=a.length-1;0<=e;e--)b[e]=k(a[e],
!0);return b}function p(a,b){var e=(a||document).getElementById(b);e&&r(e)}var q=a.dom,r=q.removeNode,t=a.Selection.isDirectionBackward;a.util.extend(a,{saveRange:l,restoreRange:k,saveRanges:n,restoreRanges:m,saveSelection:function(e){if(!a.isSelectionValid(e))return b.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var f=a.getSelection(e),g=f.getAllRanges(),k=1==g.length&&f.isBackward(),l=n(g,k);k?f.setSingleRange(g[0],
k):f.setRanges(g);return{win:e,rangeInfos:l,restored:!1}},restoreSelection:function(b,e){if(!b.restored){var f=b.rangeInfos,g=a.getSelection(b.win),k=m(f);1==f.length&&e&&a.features.selectionHasExtend&&f[0].backward?(g.removeAllRanges(),g.addRange(k[0],!0)):g.setRanges(k);b.restored=!0}},removeMarkerElement:p,removeMarkers:function(a){for(var b=a.rangeInfos,e=0,f=b.length,g;e<f;++e)g=b[e],g.collapsed?p(a.doc,g.markerId):(p(a.doc,g.startMarkerId),p(a.doc,g.endMarkerId))}})});return a},this);
var Base=function(){};
Base.extend=function(a,h){var b=Base.prototype.extend;Base._prototyping=!0;var e=new this;b.call(e,a);e.base=function(){};delete Base._prototyping;var g=e.constructor,f=e.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==f)this._constructing=!0,g.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||b).call(arguments[0],e)};f.ancestor=this;f.extend=this.extend;f.forEach=this.forEach;f.implement=this.implement;f.prototype=
e;f.toString=this.toString;f.valueOf=function(a){return"object"==a?f:g.valueOf()};b.call(f,h);"function"==typeof f.init&&f.init();return f};
Base.prototype={extend:function(a,h){if(1<arguments.length){var b=this[a];if(b&&"function"==typeof h&&(!b.valueOf||b.valueOf()!=h.valueOf())&&/\bbase\b/.test(h)){var e=h.valueOf();h=function(){var a=this.base||Base.prototype.base;this.base=b;var f=e.apply(this,arguments);this.base=a;return f};h.valueOf=function(a){return"object"==a?h:e};h.toString=Base.toString}this[a]=h}else if(a){var g=Base.prototype.extend;Base._prototyping||"function"==typeof this||(g=this.extend||g);for(var f={toSource:null},
l=["constructor","toString","valueOf"],k=Base._prototyping?0:1;n=l[k++];)a[n]!=f[n]&&g.call(this,n,a[n]);for(var n in a)f[n]||g.call(this,n,a[n])}return this}};
Base=Base.extend({constructor:function(a){this.extend(a)}},{ancestor:Object,version:"1.1",forEach:function(a,h,b){for(var e in a)void 0===this.prototype[e]&&h.call(b,a[e],e,a)},implement:function(){for(var a=0;a<arguments.length;a++)if("function"==typeof arguments[a])arguments[a](this.prototype);else this.prototype.extend(arguments[a]);return this},toString:function(){return String(this.valueOf())}});
wysihtml5.browser=function(){function a(a,b){var e=-1,f;"Microsoft Internet Explorer"==navigator.appName?f=/MSIE ([0-9]{1,}[.0-9]{0,})/:"Netscape"==navigator.appName&&(-1<navigator.userAgent.indexOf("Trident")?f=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/:/Edge\/(\d+)./i.test(navigator.userAgent)&&(f=/Edge\/(\d+)./i));f&&null!=f.exec(navigator.userAgent)&&(e=parseFloat(RegExp.$1));if(-1===e)return!1;if(!a)return!0;if(!b)return a===e;if("<"===b)return a<e;if(">"===b)return a>e;if("<="===b)return a<=e;if(">="===
b)return a>=e}var h=navigator.userAgent,b=document.createElement("div"),e=-1!==h.indexOf("Gecko")&&-1===h.indexOf("KHTML")&&!a(),g=-1!==h.indexOf("AppleWebKit/")&&!a(),f=-1!==h.indexOf("Chrome/")&&!a(),l=-1!==h.indexOf("Opera/")&&!a();return{USER_AGENT:h,supported:function(){var a=this.USER_AGENT.toLowerCase(),e="contentEditable"in b,f=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,g=document.querySelector&&document.querySelectorAll,h;if(h=this.isIos())h=5>+(/ipad|iphone|ipod/.test(a)&&
a.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1];a=h||this.isAndroid()&&4>+(a.match(/android (\d+)/)||[void 0,0])[1]||-1!==a.indexOf("opera mobi")||-1!==a.indexOf("hpwos/");return e&&f&&g&&!a},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function(){return a()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in
document)},displaysCaretInEmptyContentEditableCorrectly:function(){return a(12,">")},hasCurrentStyleProperty:function(){return"currentStyle"in b},insertsLineBreaksOnReturn:function(){return e},supportsPlaceholderAttributeOn:function(a){return"placeholder"in a},supportsEvent:function(a){var e;(e="on"+a in b)||(b.setAttribute("on"+a,"return;"),e="function"===typeof b["on"+a]);return e},supportsEventsInIframeCorrectly:function(){return!l},supportsHTML5Tags:function(a){a=a.createElement("div");a.innerHTML=
"<article>foo</article>";return"<article>foo</article>"===a.innerHTML.toLowerCase()},supportsCommand:function(){var b={formatBlock:a(10,"<="),insertUnorderedList:a(),insertOrderedList:a()},f={insertHTML:e};return function(a,e){if(!b[e]){try{return a.queryCommandSupported(e)}catch(g){}try{return a.queryCommandEnabled(e)}catch(h){return!!f[e]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return a()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},
clearsContentEditableCorrectly:function(){return e||l||g},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return e||a()||l},autoScrollsToCaret:function(){return!g},autoClosesUnclosedTags:function(){var a=b.cloneNode(!1),e;a.innerHTML="<p><div></div>";a=a.innerHTML.toLowerCase();e="<p></p><div></div>"===a||"<p><div></div></p>"===a;this.autoClosesUnclosedTags=function(){return e};return e},supportsNativeGetElementsByClassName:function(){return-1!==
String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return l},supportsSpeechApiOn:function(a){return 11<=(h.match(/Chrome\/(\d+)/)||[void 0,0])[1]&&("onwebkitspeechchange"in a||"speech"in a)},crashesWhenDefineProperty:function(b){return a(9)&&("XMLHttpRequest"===b||"XDomainRequest"===b)},doesAsyncFocus:function(){return a(12,">")},hasProblemsSettingCaretAfterImg:function(){return a()},
hasLiDeletingProblem:function(){return a()},hasUndoInContextMenu:function(){return e||f||l},hasInsertNodeIssue:function(){return l},hasIframeFocusIssue:function(){return a()},createsNestedInvalidMarkupAfterPaste:function(){return g},hasCaretBlockElementIssue:function(){return g},supportsMutationEvents:function(){return"MutationEvent"in window},supportsModernPaste:function(){return!a()},fixStyleKey:function(a){return"cssFloat"===a?"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat":
a},usesControlRanges:function(){return document.body&&"createControlRange"in document.body}}}();
wysihtml5.lang.array=function(a){return{contains:function(h){if(Array.isArray(h)){for(var b=h.length;b--;)if(-1!==wysihtml5.lang.array(a).indexOf(h[b]))return!0;return!1}return-1!==wysihtml5.lang.array(a).indexOf(h)},indexOf:function(h){if(a.indexOf)return a.indexOf(h);for(var b=0,e=a.length;b<e;b++)if(a[b]===h)return b;return-1},without:function(h){h=wysihtml5.lang.array(h);for(var b=[],e=0,g=a.length;e<g;e++)h.contains(a[e])||b.push(a[e]);return b},get:function(){for(var h=0,b=a.length,e=[];h<b;h++)e.push(a[h]);
return e},map:function(h,b){if(Array.prototype.map)return a.map(h,b);for(var e=a.length>>>0,g=Array(e),f=0;f<e;f++)g[f]=h.call(b,a[f],f,a);return g},unique:function(){for(var h=[],b=a.length,e=0;e<b;)wysihtml5.lang.array(h).contains(a[e])||h.push(a[e]),e++;return h}}};
wysihtml5.lang.Dispatcher=Base.extend({on:function(a,h){this.events=this.events||{};this.events[a]=this.events[a]||[];this.events[a].push(h);return this},off:function(a,h){this.events=this.events||{};var b=0,e,g;if(a){e=this.events[a]||[];for(g=[];b<e.length;b++)e[b]!==h&&h&&g.push(e[b]);this.events[a]=g}else this.events={};return this},fire:function(a,h){this.events=this.events||{};for(var b=this.events[a]||[],e=0;e<b.length;e++)b[e].call(this,h);return this},observe:function(){return this.on.apply(this,
arguments)},stopObserving:function(){return this.off.apply(this,arguments)}});
wysihtml5.lang.object=function(a){return{merge:function(h,b){for(var e in h)b&&wysihtml5.lang.object(h[e]).isPlainObject()&&("undefined"===typeof a[e]||wysihtml5.lang.object(a[e]).isPlainObject())?"undefined"===typeof a[e]?a[e]=wysihtml5.lang.object(h[e]).clone(!0):wysihtml5.lang.object(a[e]).merge(wysihtml5.lang.object(h[e]).clone(!0)):a[e]=wysihtml5.lang.object(h[e]).isPlainObject()?wysihtml5.lang.object(h[e]).clone(!0):h[e];return this},difference:function(h){var b={},e;for(e in a)a.hasOwnProperty(e)&&
(h.hasOwnProperty(e)||(b[e]=a[e]));for(var g in h)h.hasOwnProperty(g)&&(a.hasOwnProperty(g)&&a[g]===h[g]||(b[0]=a[0]));return b},get:function(){return a},clone:function(h){var b={},e;if(null===a||!wysihtml5.lang.object(a).isPlainObject())return a;for(e in a)a.hasOwnProperty(e)&&(b[e]=h?wysihtml5.lang.object(a[e]).clone(h):a[e]);return b},isArray:function(){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(){return"[object Function]"===Object.prototype.toString.call(a)},
isPlainObject:function(){return a&&"[object Object]"===Object.prototype.toString.call(a)&&!("Node"in window?a instanceof Node:a instanceof Element||a instanceof Text)},isEmpty:function(){for(var h in a)if(a.hasOwnProperty(h))return!1;return!0}}};
(function(){var a=/^\s+/,h=/\s+$/,b=/[&<>\t"]/g,e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","\t":"&nbsp; "};wysihtml5.lang.string=function(g){g=String(g);return{trim:function(){return g.replace(a,"").replace(h,"")},interpolate:function(a){for(var b in a)g=this.replace("#{"+b+"}").by(a[b]);return g},replace:function(a){return{by:function(b){return g.split(a).join(b)}}},escapeHTML:function(a,h){var k=g.replace(b,function(a){return e[a]});a&&(k=k.replace(/(?:\r\n|\r|\n)/g,"<br />"));h&&(k=k.replace(/  /gi,
"&nbsp; "));return k}}}})();
(function(a){function h(a){return a.replace(g,function(a,b){var e=(b.match(f)||[])[1]||"",g=l[e];b=b.replace(f,"");b.split(g).length>b.split(e).length&&(b+=e,e="");var h=g=b;100<b.length&&(h=h.substr(0,100)+"...");"www."===g.substr(0,4)&&(g="http://"+g);return'<a href="'+g+'">'+h+"</a>"+e})}function b(f,l){if(!(e.contains(f.nodeName)||f.className&&a.lang.array(f.className.split(" ")).contains(l)))if(f.nodeType===a.TEXT_NODE&&f.data.match(g)){var m=f.parentNode,p=a.lang.string(f.data).escapeHTML(),q;
q=m.ownerDocument;var r=q._wysihtml5_tempElement;r||(r=q._wysihtml5_tempElement=q.createElement("div"));q=r;q.innerHTML="<span></span>"+h(p);for(q.removeChild(q.firstChild);q.firstChild;)m.insertBefore(q.firstChild,f);m.removeChild(f)}else{m=a.lang.array(f.childNodes).get();p=m.length;for(q=0;q<p;q++)b(m[q],l);return f}}var e=a.lang.array("CODE PRE A SCRIPT HEAD TITLE STYLE".split(" ")),g=/((https?:\/\/|www\.)[^\s<]{3,})/gi,f=/([^\w\/\-](,?))$/i,l={")":"(","]":"[","}":"{"};a.dom.autoLink=function(f,
g){var h;a:{h=f;for(var l;h.parentNode;){h=h.parentNode;l=h.nodeName;if(h.className&&a.lang.array(h.className.split(" ")).contains(g)||e.contains(l)){h=!0;break a}if("body"===l)break}h=!1}if(h)return f;f===f.ownerDocument.documentElement&&(f=f.ownerDocument.body);return b(f,g)};a.dom.autoLink.URL_REG_EXP=g})(wysihtml5);
(function(a){var h=a.dom;h.addClass=function(a,e){var g=a.classList;if(g)return g.add(e);h.hasClass(a,e)||(a.className+=" "+e)};h.removeClass=function(a,e){var g=a.classList;if(g)return g.remove(e);a.className=a.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ")};h.hasClass=function(a,e){var g=a.classList;if(g)return g.contains(e);g=a.className;return 0<g.length&&(g==e||(new RegExp("(^|\\s)"+e+"(\\s|$)")).test(g))}})(wysihtml5);
wysihtml5.dom.contains=function(){var a=document.documentElement;if(a.contains)return function(a,b){if(b.nodeType!==wysihtml5.ELEMENT_NODE){if(b.parentNode===a)return!0;b=b.parentNode}return a!==b&&a.contains(b)};if(a.compareDocumentPosition)return function(a,b){return!!(a.compareDocumentPosition(b)&16)}}();
wysihtml5.dom.convertToList=function(){function a(a,b){var e=a.createElement("li");b.appendChild(e);return e}return function(h,b,e){if("UL"===h.nodeName||"OL"===h.nodeName||"MENU"===h.nodeName)return h;var g=h.ownerDocument;b=g.createElement(b);var f=h.querySelectorAll("br"),l=f.length,k,n,m,p,q;for(q=0;q<l;q++)for(n=f[q];(k=n.parentNode)&&k!==h&&k.lastChild===n;){if("block"===wysihtml5.dom.getStyle("display").from(k)){k.removeChild(n);break}wysihtml5.dom.insert(n).after(n.parentNode)}k=wysihtml5.lang.array(h.childNodes).get();
f=k.length;for(q=0;q<f;q++)p=p||a(g,b),l=k[q],n="block"===wysihtml5.dom.getStyle("display").from(l),m="BR"===l.nodeName,!n||e&&wysihtml5.dom.hasClass(l,e)?m?p=p.firstChild?null:p:p.appendChild(l):(p=p.firstChild?a(g,b):p,p.appendChild(l),p=null);0===k.length&&a(g,b);h.parentNode.replaceChild(b,h);return b}}();wysihtml5.dom.copyAttributes=function(a){return{from:function(h){return{to:function(b){for(var e,g=0,f=a.length;g<f;g++)e=a[g],"undefined"!==typeof h[e]&&""!==h[e]&&(b[e]=h[e]);return{andTo:arguments.callee}}}}}};
(function(a){var h=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],b=function(b){var g;a:{g=0;for(var f=h.length;g<f;g++)if("border-box"===a.getStyle(h[g]).from(b)){g=h[g];break a}g=void 0}return g?parseInt(a.getStyle("width").from(b),10)<b.offsetWidth:!1};a.copyStyles=function(e){return{from:function(g){b(g)&&(e=wysihtml5.lang.array(e).without(h));for(var f="",l=e.length,k=0,n;k<l;k++)n=e[k],f+=n+":"+a.getStyle(n).from(g)+";";return{to:function(b){a.setStyles(f).on(b);return{andTo:arguments.callee}}}}}}})(wysihtml5.dom);
(function(a){a.dom.delegate=function(a,b,e,g){var f=function(e){for(var f=e.target,f=3===f.nodeType?f.parentNode:f,n=a.querySelectorAll(b),m=0,p=n.length;m<p;m++)n[m].contains(f)&&g.call(n[m],e)};a.addEventListener(e,f,!1);return{stop:function(){a.removeEventListener(e,f,!1)}}}})(wysihtml5);
(function(a){function h(a,e){for(var g=[a],f=a;e&&f&&f!==e||!e&&f;)g.unshift(f),f=f.parentNode;return g}a.dom.domNode=function(b){var e=[a.ELEMENT_NODE,a.TEXT_NODE];return{is:{emptyTextNode:function(e){e=e?/^\s*$/g:/^[\r\n]*$/g;return b&&b.nodeType===a.TEXT_NODE&&e.test(b.data)},rangyBookmark:function(){return b&&1===b.nodeType&&b.classList.contains("rangySelectionBoundary")},visible:function(){var e=!/^\s*$/g.test(a.dom.getTextContent(b));e||1===b.nodeType&&b.querySelector("img, br, hr, object, embed, canvas, input, textarea")&&
(e=!0);return e},lineBreak:function(){return b&&1===b.nodeType&&"BR"===b.nodeName},block:function(){return b&&1===b.nodeType&&"block"===b.ownerDocument.defaultView.getComputedStyle(b).display},voidElement:function(){return a.dom.domNode(b).test({query:a.VOID_ELEMENTS})}},prev:function(g){var f=b.previousSibling,h=g&&g.nodeTypes?g.nodeTypes:e;return f?a.dom.domNode(f).is.rangyBookmark()||!a.lang.array(h).contains(f.nodeType)||g&&g.ignoreBlankTexts&&a.dom.domNode(f).is.emptyTextNode(!0)?a.dom.domNode(f).prev(g):
f:null},next:function(g){var f=b.nextSibling,h=g&&g.nodeTypes?g.nodeTypes:e;return f?a.dom.domNode(f).is.rangyBookmark()||!a.lang.array(h).contains(f.nodeType)||g&&g.ignoreBlankTexts&&a.dom.domNode(f).is.emptyTextNode(!0)?a.dom.domNode(f).next(g):f:null},commonAncestor:function(a,e){var l=h(b,e),k=h(a,e);if(l[0]!=k[0])return null;for(var n=0;n<l.length;n++)if(l[n]!=k[n])return l[n-1];return null},lastLeafNode:function(e){var f;if(1!==b.nodeType)return b;f=b.lastChild;if(!f)return b;if(e&&e.leafClasses)for(var h=
e.leafClasses.length;h--;)if(a.dom.hasClass(b,e.leafClasses[h]))return b;return a.dom.domNode(f).lastLeafNode(e)},escapeParent:function(e,f){var h,k,n,m=b;if(!a.dom.contains(e,b))throw Error("Child is not a descendant of node.");do{h=m.parentNode;for(k=h.cloneNode(!1);h.lastChild&&h.lastChild!==m;)k.insertBefore(h.lastChild,k.firstChild);h!==e&&(n=h.cloneNode(!1),n.appendChild(m),m=n);h.parentNode.insertBefore(m,h.nextSibling);if(""!==k.innerHTML)if(/^\s+$/.test(k.innerHTML))for(;k.lastChild;)h.parentNode.insertBefore(k.lastChild,
m.nextSibling);else h.parentNode.insertBefore(k,m.nextSibling);if(""===h.innerHTML)h.parentNode.removeChild(h);else if(/^\s+$/.test(h.innerHTML)){for(;h.firstChild;)h.parentNode.insertBefore(h.firstChild,h);h.parentNode.removeChild(h)}}while(h&&h!==e);f&&m&&(m.parentNode.insertBefore(f,m),f.appendChild(m))},transferContentTo:function(e,f){if(1===b.nodeType){if(a.dom.domNode(e).is.voidElement()||3===e.nodeType)for(;b.lastChild;)e.parentNode.insertBefore(b.lastChild,e.nextSibling);else for(;b.firstChild;)e.appendChild(b.firstChild);
f&&b.parentNode.removeChild(b)}else if(3===b.nodeType||8===b.nodeType)a.dom.domNode(e).is.voidElement()?e.parentNode.insertBefore(b,e.nextSibling):e.appendChild(b)},test:function(e){var f;if(!e||1!==b.nodeType||e.query&&!b.matches(e.query)||e.nodeName&&b.nodeName.toLowerCase()!==e.nodeName.toLowerCase()||e.className&&!b.classList.contains(e.className)||e.classRegExp&&0===((b.className||"").match(e.classRegExp)||[]).length)return!1;if(e.styleProperty&&0<e.styleProperty.length){f=Array.isArray(e.styleProperty)?
e.styleProperty:[e.styleProperty];for(var h=f.length;0<h;){f=a.browser.fixStyleKey(f[0]);if(b.style[f])if(e.styleValue)if(e.styleValue instanceof RegExp){if(0<b.style[f].trim().match(e.styleValue).length)break}else if(Array.isArray(e.styleValue)){if(e.styleValue.indexOf(b.style[f].trim()))break}else{if(e.styleValue===b.style[f].trim().replace(/, /g,","))break}else break;return!1}}if(e.attribute){f=a.dom.getAttributes(b);var h=[],k=!1;Array.isArray(e.attribute)?h=e.attribute:h[e.attribute]=e.attributeValue;
for(var n in h)if(h.hasOwnProperty(n))if("undefined"===typeof h[n]){if("undefined"!==typeof f[n]){k=!0;break}}else if(f[n]===h[n]){k=!0;break}if(!k)return!1}return!0}}}})(wysihtml5);
wysihtml5.dom.getAsDom=function(){var a="abbr article aside audio bdi canvas command datalist details figcaption figure footer header hgroup keygen mark meter nav output progress rp rt ruby svg section source summary time track video wbr".split(" ");return function(h,b){b=b||document;var e;if("object"===typeof h&&h.nodeType)e=b.createElement("div"),e.appendChild(h);else if(wysihtml5.browser.supportsHTML5Tags(b))e=b.createElement("div"),e.innerHTML=h;else{e=b;if(!e._wysihtml5_supportsHTML5Tags){for(var g=
0,f=a.length;g<f;g++)e.createElement(a[g]);e._wysihtml5_supportsHTML5Tags=!0}e=b;g=e.createElement("div");g.style.display="none";e.body.appendChild(g);try{g.innerHTML=h}catch(l){}e.body.removeChild(g);e=g}return e}}();wysihtml5.dom.getParentElement=function(){return function(a,h,b,e){for(b=b||50;b--&&a&&"BODY"!==a.nodeName&&(!e||a!==e);){if(wysihtml5.dom.domNode(a).test(h))return a;a=a.parentNode}return null}}();
wysihtml5.dom.getStyle=function(){function a(a){return a.replace(b,function(a){return a.charAt(1).toUpperCase()})}var h={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},b=/\-[a-z]/g;return function(b){return{from:function(g){if(g.nodeType===wysihtml5.ELEMENT_NODE){var f=g.ownerDocument,l=h[b]||a(b),k=g.style,n=g.currentStyle,m=k[l];if(m)return m;if(n)try{return n[l]}catch(p){}var l=f.defaultView||f.parentWindow,f=("height"===b||"width"===b)&&"TEXTAREA"===g.nodeName,
q;if(l.getComputedStyle)return f&&(q=k.overflow,k.overflow="hidden"),g=l.getComputedStyle(g,null).getPropertyValue(b),f&&(k.overflow=q||""),g}}}}}();wysihtml5.dom.getTextNodes=function(a,h){var b=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?h&&/^\s*$/.test(a.innerText||a.textContent)||b.push(a):b=b.concat(wysihtml5.dom.getTextNodes(a,h));return b};
wysihtml5.dom.hasElementWithTagName=function(){var a={},h=1;return function(b,e){var g=(b._wysihtml5_identifier||(b._wysihtml5_identifier=h++))+":"+e,f=a[g];f||(f=a[g]=b.getElementsByTagName(e));return 0<f.length}}();(function(a){var h={},b=1;a.dom.hasElementWithClassName=function(e,g){if(!a.browser.supportsNativeGetElementsByClassName())return!!e.querySelector("."+g);var f=(e._wysihtml5_identifier||(e._wysihtml5_identifier=b++))+":"+g,l=h[f];l||(l=h[f]=e.getElementsByClassName(g));return 0<l.length}})(wysihtml5);
wysihtml5.dom.insert=function(a){return{after:function(h){h.parentNode.insertBefore(a,h.nextSibling)},before:function(h){h.parentNode.insertBefore(a,h)},into:function(h){h.appendChild(a)}}};wysihtml5.dom.insertCSS=function(a){a=a.join("\n");return{into:function(h){var b=h.createElement("style");b.type="text/css";b.styleSheet?b.styleSheet.cssText=a:b.appendChild(h.createTextNode(a));var e=h.querySelector("head link");e?e.parentNode.insertBefore(b,e):(h=h.querySelector("head"))&&h.appendChild(b)}}};
(function(a){a.dom.lineBreaks=function(h){function b(b){return"BR"===b.nodeName||"block"===a.dom.getStyle("display").from(b)?!0:!1}return{add:function(e){e=h.ownerDocument;var g=a.dom.domNode(h).next({ignoreBlankTexts:!0}),f=a.dom.domNode(h).prev({ignoreBlankTexts:!0});g&&!b(g)&&a.dom.insert(e.createElement("br")).after(h);f&&!b(f)&&a.dom.insert(e.createElement("br")).before(h)},remove:function(b){b=a.dom.domNode(h).next({ignoreBlankTexts:!0});var g=a.dom.domNode(h).prev({ignoreBlankTexts:!0});b&&
"BR"===b.nodeName&&b.parentNode.removeChild(b);g&&"BR"===g.nodeName&&g.parentNode.removeChild(g)}}}})(wysihtml5);
wysihtml5.dom.observe=function(a,h,b){h="string"===typeof h?[h]:h;for(var e,g,f=0,l=h.length;f<l;f++)g=h[f],a.addEventListener?a.addEventListener(g,b,!1):(e=function(e){"target"in e||(e.target=e.srcElement);e.preventDefault=e.preventDefault||function(){this.returnValue=!1};e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0};b.call(a,e)},a.attachEvent("on"+g,e));return{stop:function(){for(var f,g=0,l=h.length;g<l;g++)f=h[g],a.removeEventListener?a.removeEventListener(f,b,!1):a.detachEvent("on"+
f,e)}}};
wysihtml5.dom.parse=function(a,h){function b(a,e,f,g){var h=a.nodeType,m=a.childNodes,n=m.length,r=l[h],p=0,t;if(g&&1===h&&wysihtml5.dom.hasClass(a,g))return a;r=r&&r(a,f);if(!r){if(!1===r){h=a.ownerDocument.createDocumentFragment();for(p=n;p--;)m[p]&&(t=b(m[p],e,f,g))&&(m[p]===t&&p--,h.insertBefore(t,h.firstChild));e=wysihtml5.dom.getStyle("display").from(a);""===e&&(e=wysihtml5.lang.array(q).contains(a.tagName)?"block":"");wysihtml5.lang.array(["block","flex","table"]).contains(e)&&h.appendChild(a.ownerDocument.createElement("br"));wysihtml5.lang.array("div pre p table td th ul ol li dd dl footer header section h1 h2 h3 h4 h5 h6".split(" ")).contains(a.nodeName.toLowerCase())&&
a.parentNode.lastChild!==a&&(a.nextSibling&&3===a.nextSibling.nodeType&&/^\s/.test(a.nextSibling.nodeValue)||h.appendChild(a.ownerDocument.createTextNode(" ")));h.normalize&&h.normalize();return h}return null}for(p=0;p<n;p++)m[p]&&(t=b(m[p],e,f,g))&&(m[p]===t&&p--,r.appendChild(t));if(e&&r.nodeName.toLowerCase()===k&&(!r.childNodes.length||/^\s*$/gi.test(r.innerHTML)&&(f||"_wysihtml5-temp-placeholder"!==a.className&&"rangySelectionBoundary"!==a.className)||!r.attributes.length)){for(h=r.ownerDocument.createDocumentFragment();r.firstChild;)h.appendChild(r.firstChild);
h.normalize&&h.normalize();return h}r.normalize&&r.normalize();return r}function e(a,b){var e=a.getAttribute("class"),f=a.getAttribute("style"),g,h,k;if(b.methods)for(g in b.methods)if(b.methods.hasOwnProperty(g)&&x[g]&&x[g](a))return!0;if(e&&b.classes){e=e.replace(/^\s+/g,"").replace(/\s+$/g,"").split(n);g=e.length;for(var l=0;l<g;l++)if(b.classes[e[l]])return!0}if(f&&b.styles)for(h in f=f.split(";"),b.styles)if(b.styles.hasOwnProperty(h))for(g=f.length;g--;)if(e=f[g].split(":"),e[0].replace(/\s/g,
"").toLowerCase()===h&&(!0===b.styles[h]||1===b.styles[h]||wysihtml5.lang.array(b.styles[h]).contains(e[1].replace(/\s/g,"").toLowerCase())))return!0;if(b.attrs)for(k in b.attrs)if(b.attrs.hasOwnProperty(k)&&(f=wysihtml5.dom.getAttribute(a,k),"string"===typeof f&&-1<f.search(b.attrs[k])))return!0;return!1}function g(a,b,e,f){if(a=wysihtml5.lang.object(e).isFunction()?e:r[e])if(b=a(b,f),"string"===typeof b)return b;return!1}function f(a,b){var e=wysihtml5.lang.object(p.attributes||{}).clone(),e=wysihtml5.lang.object(e).merge(wysihtml5.lang.object(b||
{}).clone()).get(),f={},h=wysihtml5.dom.getAttributes(a),k,l,m;for(k in e)if(/\*$/.test(k)){l=k.slice(0,-1);m=h;var n=[],r=void 0;for(r in m)m.hasOwnProperty(r)&&0===r.indexOf(l)&&n.push(r);m=n;n=0;for(r=m.length;n<r;n++)l=g(m[n],h[m[n]],e[k],a.nodeName),!1!==l&&(f[m[n]]=l)}else l=g(k,h[k],e[k],a.nodeName),!1!==l&&(f[k]=l);return f}var l={1:function(a,b){var g,h;g=p.tags;h=a.nodeName.toLowerCase();var l=a.scopeName,m;if(a._wysihtml5)return null;a._wysihtml5=1;if("wysihtml5-temp"===a.className)return null;
l&&"HTML"!=l&&(h=l+":"+h);"outerHTML"in a&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==a.nodeName||"</p>"===a.outerHTML.slice(-4).toLowerCase()||(h="div"));if(h in g){g=g[h];if(!g||g.remove)return null;if(g.unwrap)return!1;g="string"===typeof g?{rename_tag:g}:g}else if(a.firstChild)g={rename_tag:k};else return null;if(l=g.one_of_type){var r;a:{var l=p,q=g.one_of_type,y;if("SPAN"!==a.nodeName||b||"_wysihtml5-temp-placeholder"!==a.className&&"rangySelectionBoundary"!==a.className){for(r in q)if(q.hasOwnProperty(r)&&
l.type_definitions&&l.type_definitions[r]&&(y=l.type_definitions[r],e(a,y))){r=!0;break a}r=!1}else r=!0}l=!r}if(l)if(g.remove_action){if("unwrap"===g.remove_action)return!1;if("rename"===g.remove_action)m=g.remove_action_rename_to||k;else return null}else return null;h=a.ownerDocument.createElement(m||g.rename_tag||h);var x=g;m={};var J=x.set_class,N=x.add_class,L=x.add_style,R=x.set_attributes;r=p.classes;l=0;q=[];y=[];var P=[],X=[],T;R&&(m=wysihtml5.lang.object(R).clone());m=wysihtml5.lang.object(m).merge(f(a,
x.check_attributes)).get();J&&q.push(J);if(N)for(T in N)if(x=v[N[T]])x=x(wysihtml5.dom.getAttribute(a,T)),"string"===typeof x&&q.push(x);if(L)for(T in L)if(x=t[L[T]])newStyle=x(wysihtml5.dom.getAttribute(a,T)),"string"===typeof newStyle&&y.push(newStyle);if("string"===typeof r&&"any"===r)if(a.getAttribute("class"))if(p.classes_blacklist){(X=a.getAttribute("class"))&&(q=q.concat(X.split(n)));for(N=q.length;l<N;l++)L=q[l],p.classes_blacklist[L]||P.push(L);P.length&&(m["class"]=wysihtml5.lang.array(P).unique().join(" "))}else m["class"]=
a.getAttribute("class");else q&&0<q.length&&(m["class"]=wysihtml5.lang.array(q).unique().join(" "));else{b||(r["_wysihtml5-temp-placeholder"]=1,r._rangySelectionBoundary=1,r["wysiwyg-tmp-selected-cell"]=1);(X=a.getAttribute("class"))&&(q=q.concat(X.split(n)));for(N=q.length;l<N;l++)L=q[l],r[L]&&P.push(L);P.length&&(m["class"]=wysihtml5.lang.array(P).unique().join(" "))}m["class"]&&b&&(m["class"]=m["class"].replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(m["class"])&&delete m["class"]);y.length&&
(m.style=wysihtml5.lang.array(y).unique().join(" "));for(T in m)try{h.setAttribute(T,m[T])}catch(da){}m.src&&("undefined"!==typeof m.width&&h.setAttribute("width",m.width),"undefined"!==typeof m.height&&h.setAttribute("height",m.height));T=g;var O;if(T&&T.keep_styles)for(O in T.keep_styles)T.keep_styles.hasOwnProperty(O)&&(g="float"===O?a.style.styleFloat||a.style.cssFloat:a.style[O],T.keep_styles[O]instanceof RegExp&&!T.keep_styles[O].test(g)||("float"===O?h.style[a.style.styleFloat?"styleFloat":
"cssFloat"]=g:a.style[O]&&(h.style[O]=g)));h.normalize&&h.normalize();return h},3:function(a){var b=a.nextSibling;if(b&&b.nodeType===wysihtml5.TEXT_NODE)b.data=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")+b.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"");else return b=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,""),a.ownerDocument.createTextNode(b)},8:function(a){if(p.comments)return a.ownerDocument.createComment(a.nodeValue)}},k="span",n=/\s+/,m={tags:{},classes:{}},p={},q="ADDRESS BLOCKQUOTE CENTER DIR DIV DL FIELDSET FORM H1 H2 H3 H4 H5 H6 ISINDEX MENU NOFRAMES NOSCRIPT OL P PRE TABLE UL".split(" "),
r={url:function(){var a=/^https?:\/\//i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),src:function(){var a=/^(\/|https?:\/\/)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),href:function(){var a=/^(#|\/|https?:\/\/|mailto:|tel:)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),alt:function(){var a=/[^ a-z0-9_\-]/gi;return function(b,e){return b?
b.replace(a,""):"IMG"===e?"":null}}(),numbers:function(){var a=/\D/g;return function(b){return(b=(b||"").replace(a,""))||null}}(),dimension:function(){var a=/\D*(\d+)(\.\d+)?\s?(%)?\D*/;return function(b){return(b=(b||"").replace(a,"$1$2$3"))||null}}(),any:function(){return function(a){return a?a:null}}()},t={align_text:function(){var a={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"};return function(b){return a[String(b).toLowerCase()]}}()},v={align_img:function(){var a=
{left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(b){return a[String(b).toLowerCase()]}}(),align_text:function(){var a={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(b){return a[String(b).toLowerCase()]}}(),clear_br:function(){var a={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(b){return a[String(b).toLowerCase()]}}(),
size_font:function(){var a={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(b){return a[String(b).charAt(0)]}}()},x={has_visible_contet:function(){var a,b="img video picture br script noscript style table iframe object embed audio svg input button select textarea canvas".split(" ");
return function(e){if((a=(e.innerText||e.textContent).replace(/\s/g,""))&&0<a.length)return!0;for(var f=b.length;f--;)if(e.querySelector(b[f]))return!0;return e.offsetWidth&&0<e.offsetWidth&&e.offsetHeight&&0<e.offsetHeight?!0:!1}}()},y={unwrap:function(a){wysihtml5.dom.unwrap(a)},remove:function(a){a.parentNode.removeChild(a)}};return function(a,e){wysihtml5.lang.object(p).merge(m).merge(e.rules).get();var f=e.context||a.ownerDocument||document,g=f.createDocumentFragment(),h="string"===typeof a,
k=!1,l,n;!0===e.clearInternals&&(k=!0);f=h?wysihtml5.dom.getAsDom(a,f):a;if(p.selectors){var r=p.selectors,q;for(l in r)if(r.hasOwnProperty(l)){wysihtml5.lang.object(r[l]).isFunction()?n=r[l]:"string"===typeof r[l]&&y[r[l]]&&(n=y[r[l]]);q=f.querySelectorAll(l);for(var t=q.length;t--;)n(q[t])}}for(;f.firstChild;)n=f.firstChild,(l=b(n,e.cleanUp,k,e.uneditableClass))&&g.appendChild(l),n!==l&&f.removeChild(n);if(e.unjoinNbsps)for(k=wysihtml5.dom.getTextNodes(g),l=k.length;l--;)k[l].nodeValue=k[l].nodeValue.replace(/([\S\u00A0])\u00A0/gi,
"$1 ");f.innerHTML="";f.appendChild(g);return h?wysihtml5.quirks.getCorrectInnerHTML(f):f}(a,h)};wysihtml5.dom.removeEmptyTextNodes=function(a){for(var h=wysihtml5.lang.array(a.childNodes).get(),b=h.length,e=0;e<b;e++)a=h[e],a.nodeType===wysihtml5.TEXT_NODE&&/^[\n\r]*$/.test(a.data)&&a.parentNode.removeChild(a)};
wysihtml5.dom.renameElement=function(a,h){for(var b=a.ownerDocument.createElement(h),e;e=a.firstChild;)b.appendChild(e);wysihtml5.dom.copyAttributes(["align","className"]).from(a).to(b);a.parentNode&&a.parentNode.replaceChild(b,a);return b};wysihtml5.dom.replaceWithChildNodes=function(a){if(a.parentNode){for(;a.firstChild;)a.parentNode.insertBefore(a.firstChild,a);a.parentNode.removeChild(a)}};
(function(a){function h(b){return"block"===a.getStyle("display").from(b)}function b(a){var b=a.ownerDocument.createElement("br");a.appendChild(b)}a.resolveList=function(a,g){if(a.nodeName.match(/^(MENU|UL|OL)$/)){var f=a.ownerDocument,l=f.createDocumentFragment(),k=wysihtml5.dom.domNode(a).prev({ignoreBlankTexts:!0}),n=wysihtml5.dom.domNode(a).next({ignoreBlankTexts:!0}),m,p,q=a.lastElementChild||a.lastChild,r;if(g)for(k&&!h(k)&&"BR"!==k.nodeName&&b(l);p=a.firstElementChild||a.firstChild;){f=p.lastChild;
for(r=p===q;k=p.firstChild;)m=k===f,m=(!r||n&&!h(n))&&m&&!h(k)&&"BR"!==k.nodeName,l.appendChild(k),m&&b(l);p.parentNode.removeChild(p)}else for(;p=a.firstElementChild||a.firstChild;){if(p.querySelector&&p.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;k=p.firstChild;)l.appendChild(k);else{for(n=f.createElement("p");k=p.firstChild;)n.appendChild(k);l.appendChild(n)}p.parentNode.removeChild(p)}a.parentNode.replaceChild(l,a)}}})(wysihtml5.dom);
(function(a){var h=document,b="parent top opener frameElement frames localStorage globalStorage sessionStorage indexedDB".split(" "),e="open close openDialog showModalDialog alert confirm prompt openDatabase postMessage XMLHttpRequest XDomainRequest".split(" "),g=["referrer","write","open","close"];a.dom.Sandbox=Base.extend({constructor:function(b,e){this.callback=b||a.EMPTY_FUNCTION;this.config=a.lang.object({}).merge(e).get();this.config.className||(this.config.className="wysihtml5-sandbox");this.editableArea=
this._createIframe()},insertInto:function(a){"string"===typeof a&&(a=h.getElementById(a));a.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var a=this.getIframe();a.parentNode.removeChild(a)},_readyError:function(){throw Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet");},_createIframe:function(){var b=this,e=h.createElement("iframe");e.className=this.config.className;
a.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(e);a.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(e.src="javascript:'<html></html>'");e.onload=function(){e.onreadystatechange=e.onload=null;b._onLoadIframe(e)};e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&(e.onreadystatechange=e.onload=null,b._onLoadIframe(e))};return e},_onLoadIframe:function(f){if(a.dom.contains(h.documentElement,
f)){var l=this,k=f.contentWindow,n=f.contentWindow.document,m=this._getHtml({charset:h.characterSet||h.charset||"utf-8",stylesheets:this.config.stylesheets});n.open("text/html","replace");n.write(m);n.close();this.getWindow=function(){return f.contentWindow};this.getDocument=function(){return f.contentWindow.document};k.onerror=function(a,b,e){throw Error("wysihtml5.Sandbox: "+a,b,e);};if(!a.browser.supportsSandboxedIframes()){var p,m=0;for(p=b.length;m<p;m++)this._unset(k,b[m]);m=0;for(p=e.length;m<
p;m++)this._unset(k,e[m],a.EMPTY_FUNCTION);m=0;for(p=g.length;m<p;m++)this._unset(n,g[m]);this._unset(n,"cookie","",!0)}a.polyfills&&a.polyfills(k,n);this.loaded=!0;setTimeout(function(){l.callback(l)},0)}},_getHtml:function(b){var e=b.stylesheets,g="",h=0,m;if(e="string"===typeof e?[e]:e)for(m=e.length;h<m;h++)g+='<link rel="stylesheet" href="'+e[h]+'">';b.stylesheets=g;return a.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(b)},
_unset:function(b,e,g,h){try{b[e]=g}catch(m){}try{b.__defineGetter__(e,function(){return g})}catch(p){}if(h)try{b.__defineSetter__(e,function(){})}catch(q){}if(!a.browser.crashesWhenDefineProperty(e))try{var r={get:function(){return g}};h&&(r.set=function(){});Object.defineProperty(b,e,r)}catch(t){}}})})(wysihtml5);
(function(a){var h=document;a.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView||this.element.ownerDocument.parentWindow},getDocument:function(){return this.element.ownerDocument},constructor:function(b,e,g){this.callback=b||a.EMPTY_FUNCTION;this.config=a.lang.object({}).merge(e).get();this.config.className||(this.config.className="wysihtml5-sandbox");this.element=g?this._bindElement(g):this._createElement()},
destroy:function(){},_createElement:function(){var a=h.createElement("div");a.className=this.config.className;this._loadElement(a);return a},_bindElement:function(a){a.className=a.className?a.className+" wysihtml5-sandbox":"wysihtml5-sandbox";this._loadElement(a,!0);return a},_loadElement:function(a,e){var g=this;if(!e){var f=this._getHtml();a.innerHTML=f}this.loaded=!0;setTimeout(function(){g.callback(g)},0)},_getHtml:function(a){return""}})})(wysihtml5);
(function(){var a={className:"class"};wysihtml5.dom.setAttributes=function(h){return{on:function(b){for(var e in h)b.setAttribute(a[e]||e,h[e])}}}})();wysihtml5.dom.setStyles=function(a){return{on:function(h){h=h.style;if("string"===typeof a)h.cssText+=";"+a;else for(var b in a)"float"===b?(h.cssFloat=a[b],h.styleFloat=a[b]):h[b]=a[b]}}};
(function(a){a.simulatePlaceholder=function(h,b,e,g){var f=g||"wysihtml5-placeholder";g=function(){var e=0<b.element.offsetWidth&&0<b.element.offsetHeight;b.hasPlaceholderSet()&&(b.clear(),b.element.focus(),e&&setTimeout(function(){var a=b.selection.getSelection();a.focusNode&&a.anchorNode||b.selection.selectNode(b.element.firstChild||b.element)},0));b.placeholderSet=!1;a.removeClass(b.element,f)};var l=function(){b.isEmpty()&&!b.placeholderSet&&(b.placeholderSet=!0,b.setValue(e,!1),a.addClass(b.element,
f))};h.on("set_placeholder",l).on("unset_placeholder",g).on("focus:composer",g).on("paste:composer",g).on("blur:composer",l);l()}})(wysihtml5.dom);(function(a){var h=document.documentElement;"textContent"in h?(a.setTextContent=function(a,e){a.textContent=e},a.getTextContent=function(a){return a.textContent}):"innerText"in h?(a.setTextContent=function(a,e){a.innerText=e},a.getTextContent=function(a){return a.innerText}):(a.setTextContent=function(a,e){a.nodeValue=e},a.getTextContent=function(a){return a.nodeValue})})(wysihtml5.dom);
wysihtml5.dom.getAttribute=function(a,h){var b=!wysihtml5.browser.supportsGetAttributeCorrectly();h=h.toLowerCase();return"IMG"==a.nodeName&&"src"==h&&!0===wysihtml5.dom.isLoadedImage(a)?a.src:b&&"outerHTML"in a?-1!=a.outerHTML.toLowerCase().indexOf(" "+h+"=")?a.getAttribute(h):null:a.getAttribute(h)};
wysihtml5.dom.getAttributes=function(a){var h=!wysihtml5.browser.supportsGetAttributeCorrectly(),b=a.nodeName,e=[],g;for(g in a.attributes)(a.attributes.hasOwnProperty&&a.attributes.hasOwnProperty(g)||!a.attributes.hasOwnProperty&&Object.prototype.hasOwnProperty.call(a.attributes,g))&&a.attributes[g].specified&&("IMG"==b&&"src"==a.attributes[g].name.toLowerCase()&&!0===wysihtml5.dom.isLoadedImage(a)?e.src=a.src:wysihtml5.lang.array(["rowspan","colspan"]).contains(a.attributes[g].name.toLowerCase())&&
h?1!==a.attributes[g].value&&(e[a.attributes[g].name]=a.attributes[g].value):e[a.attributes[g].name]=a.attributes[g].value);return e};wysihtml5.dom.isLoadedImage=function(a){try{return a.complete&&!a.mozMatchesSelector(":-moz-broken")}catch(h){if(a.complete&&"complete"===a.readyState)return!0}};
(function(a){function h(a,b){for(var e=[],f,g=0,h=a.length;g<h;g++)if(f=a[g].querySelectorAll(b))for(var l=f.length;l--;e.unshift(f[l]));return e}function b(a){a.parentNode.removeChild(a)}function e(a,b){a.parentNode.insertBefore(b,a.nextSibling)}var g=a.dom,f=function(a){this.el=a;this.isRowspan=this.isColspan=!1;this.isReal=this.lastRow=this.firstRow=this.lastCol=this.firstCol=!0;this.spanCollection=[];this.modified=!1},l=function(a,b){a?(this.cell=a,this.table=g.getParentElement(a,{query:"table"})):
b&&(this.table=b,this.cell=this.table.querySelectorAll("th, td")[0])};l.prototype={addSpannedCellToMap:function(a,b,e,g,h,l){for(var t=[],v=e+(l?parseInt(l,10)-1:0),x=g+(h?parseInt(h,10)-1:0),y=e;y<=v;y++){"undefined"==typeof b[y]&&(b[y]=[]);for(var z=g;z<=x;z++)b[y][z]=new f(a),b[y][z].isColspan=h&&1<parseInt(h,10),b[y][z].isRowspan=l&&1<parseInt(l,10),b[y][z].firstCol=z==g,b[y][z].lastCol=z==x,b[y][z].firstRow=y==e,b[y][z].lastRow=y==v,b[y][z].isReal=z==g&&y==e,b[y][z].spanCollection=t,t.push(b[y][z])}},
setCellAsModified:function(a){a.modified=!0;if(0<a.spanCollection.length)for(var b=0,e=a.spanCollection.length;b<e;b++)a.spanCollection[b].modified=!0},setTableMap:function(){var a=[],b=this.getTableRows(),e,h,l,r,t,v,x;for(e=0;e<b.length;e++)for(h=b[e],h=this.getRowCells(h),t=0,"undefined"==typeof a[e]&&(a[e]=[]),l=0;l<h.length;l++){for(r=h[l];"undefined"!=typeof a[e][t];)t++;v=g.getAttribute(r,"colspan");x=g.getAttribute(r,"rowspan");v||x?(this.addSpannedCellToMap(r,a,e,t,v,x),t+=v?parseInt(v,10):
1):(a[e][t]=new f(r),t++)}return this.map=a},getRowCells:function(b){var e=this.table.querySelectorAll("table"),e=e?h(e,"th, td"):[];b=b.querySelectorAll("th, td");return 0<e.length?a.lang.array(b).without(e):b},getTableRows:function(){var b=this.table.querySelectorAll("table"),b=b?h(b,"tr"):[],e=this.table.querySelectorAll("tr");return 0<b.length?a.lang.array(e).without(b):e},getMapIndex:function(a){for(var b=this.map.length,e=this.map&&this.map[0]?this.map[0].length:0,f=0;f<b;f++)for(var g=0;g<
e;g++)if(this.map[f][g].el===a)return{row:f,col:g};return!1},getElementAtIndex:function(a){this.setTableMap();return this.map[a.row]&&this.map[a.row][a.col]&&this.map[a.row][a.col].el?this.map[a.row][a.col].el:null},getMapElsTo:function(a){var b=[];this.setTableMap();this.idx_start=this.getMapIndex(this.cell);this.idx_end=this.getMapIndex(a);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col)a=this.idx_start,this.idx_start=this.idx_end,
this.idx_end=a;this.idx_start.col>this.idx_end.col&&(a=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=a);if(null!=this.idx_start&&null!=this.idx_end){a=this.idx_start.row;for(var e=this.idx_end.row;a<=e;a++)for(var f=this.idx_start.col,g=this.idx_end.col;f<=g;f++)b.push(this.map[a][f].el)}return b},orderSelectionEnds:function(a){this.setTableMap();this.idx_start=this.getMapIndex(this.cell);this.idx_end=this.getMapIndex(a);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==
this.idx_end.row&&this.idx_start.col>this.idx_end.col)a=this.idx_start,this.idx_start=this.idx_end,this.idx_end=a;this.idx_start.col>this.idx_end.col&&(a=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=a);return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(a,b,e){for(var f=this.table.ownerDocument,g=f.createDocumentFragment(),h,l=0;l<b;l++){h=f.createElement(a);if(e)for(var v in e)e.hasOwnProperty(v)&&
h.setAttribute(v,e[v]);h.appendChild(document.createTextNode("\u00a0"));g.appendChild(h)}return g},correctColIndexForUnreals:function(a,b){for(var e=this.map[b],f=-1,g=0;g<a;g++)e[g].isReal&&f++;return f},getLastNewCellOnRow:function(a,b){for(var e=this.getRowCells(a),f,g,h=0,l=e.length;h<l;h++)if(f=e[h],g=this.getMapIndex(f),!1===g||"undefined"!=typeof b&&g.row!=b)return f;return null},removeEmptyTable:function(){var a=this.table.querySelectorAll("td, th");if(a&&0!=a.length)return!1;b(this.table);
return!0},splitRowToCells:function(a){if(a.isColspan){var b=parseInt(g.getAttribute(a.el,"colspan")||1,10),f=a.el.tagName.toLowerCase();1<b&&(b=this.createCells(f,b-1),e(a.el,b));a.el.removeAttribute("colspan")}},getRealRowEl:function(a,b){var e=null,f=null;b=b||this.idx;for(var h=0,l=this.map[b.row].length;h<l;h++)if(f=this.map[b.row][h],f.isReal&&(e=g.getParentElement(f.el,{query:"tr"})))return e;null===e&&a&&(e=g.getParentElement(this.map[b.row][b.col].el,{query:"tr"})||null);return e},injectRowAt:function(a,
b,f,h,l){var r=this.getRealRowEl(!1,{row:a,col:b});f=this.createCells(h,f);r?(l=this.correctColIndexForUnreals(b,a),0<=l?e(this.getRowCells(r)[l],f):r.insertBefore(f,r.firstChild)):(r=this.table.ownerDocument.createElement("tr"),r.appendChild(f),e(g.getParentElement(l.el,{query:"tr"}),r))},canMerge:function(a){this.to=a;this.setTableMap();this.idx_start=this.getMapIndex(this.cell);this.idx_end=this.getMapIndex(this.to);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&
this.idx_start.col>this.idx_end.col)a=this.idx_start,this.idx_start=this.idx_end,this.idx_end=a;this.idx_start.col>this.idx_end.col&&(a=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=a);a=this.idx_start.row;for(var b=this.idx_end.row;a<=b;a++)for(var e=this.idx_start.col,f=this.idx_end.col;e<=f;e++)if(this.map[a][e].isColspan||this.map[a][e].isRowspan)return!1;return!0},decreaseCellSpan:function(a,b){var e=parseInt(g.getAttribute(a.el,b),10)-1;1<=e?a.el.setAttribute(b,e):
(a.el.removeAttribute(b),"colspan"==b&&(a.isColspan=!1),"rowspan"==b&&(a.isRowspan=!1),a.firstCol=!0,a.lastCol=!0,a.firstRow=!0,a.lastRow=!0,a.isReal=!0)},removeSurplusLines:function(){var a,e,f,h,l,r,t;this.setTableMap();if(this.map){f=0;for(h=this.map.length;f<h;f++){a=this.map[f];t=!0;l=0;for(r=a.length;l<r;l++)if(e=a[l],!(g.getAttribute(e.el,"rowspan")&&1<parseInt(g.getAttribute(e.el,"rowspan"),10)&&!0!==e.firstRow)){t=!1;break}if(t)for(l=0;l<r;l++)this.decreaseCellSpan(a[l],"rowspan")}e=this.getTableRows();
f=0;for(h=e.length;f<h;f++)a=e[f],0==a.childNodes.length&&/^\s*$/.test(a.textContent||a.innerText)&&b(a)}},fillMissingCells:function(){var a=0,b=0,g=null;this.setTableMap();if(this.map){a=this.map.length;for(g=0;g<a;g++)this.map[g].length>b&&(b=this.map[g].length);for(var h=0;h<a;h++)for(var l=0;l<b;l++)this.map[h]&&!this.map[h][l]&&0<l&&(this.map[h][l]=new f(this.createCells("td",1)),(g=this.map[h][l-1])&&g.el&&g.el.parent&&e(this.map[h][l-1].el,this.map[h][l].el))}},rectify:function(){if(this.removeEmptyTable())return!1;
this.removeSurplusLines();this.fillMissingCells();return!0},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell))){var a=this.map[this.idx.row][this.idx.col],b=g.getAttribute(a.el,"colspan")?parseInt(g.getAttribute(a.el,"colspan"),10):1,e=a.el.tagName.toLowerCase();if(a.isRowspan){var f=parseInt(g.getAttribute(a.el,"rowspan"),10);if(1<f)for(var h=1,f=f-1;h<=f;h++)this.injectRowAt(this.idx.row+h,this.idx.col,b,e,a);a.el.removeAttribute("rowspan")}this.splitRowToCells(a)}},
merge:function(a){if(this.rectify())if(this.canMerge(a)){a=this.idx_end.row-this.idx_start.row+1;for(var e=this.idx_end.col-this.idx_start.col+1,f=this.idx_start.row,g=this.idx_end.row;f<=g;f++)for(var h=this.idx_start.col,l=this.idx_end.col;h<=l;h++)f==this.idx_start.row&&h==this.idx_start.col?(1<a&&this.map[f][h].el.setAttribute("rowspan",a),1<e&&this.map[f][h].el.setAttribute("colspan",e)):(/^\s*<br\/?>\s*$/.test(this.map[f][h].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=
" "+this.map[f][h].el.innerHTML),b(this.map[f][h].el));this.rectify()}else window.console&&console.log("Do not know how to merge allready merged cells.")},collapseCellToNextRow:function(a){var b=this.getMapIndex(a.el),f=b.row+1,h={row:f,col:b.col};f<this.map.length&&(b=this.getRealRowEl(!1,h),null!==b&&(h=this.correctColIndexForUnreals(h.col,h.row),0<=h?e(this.getRowCells(b)[h],a.el):(f=this.getLastNewCellOnRow(b,f),null!==f?e(f,a.el):b.insertBefore(a.el,b.firstChild)),2<parseInt(g.getAttribute(a.el,
"rowspan"),10)?a.el.setAttribute("rowspan",parseInt(g.getAttribute(a.el,"rowspan"),10)-1):a.el.removeAttribute("rowspan")))},removeRowCell:function(a){a.isReal?a.isRowspan?this.collapseCellToNextRow(a):b(a.el):2<parseInt(g.getAttribute(a.el,"rowspan"),10)?a.el.setAttribute("rowspan",parseInt(g.getAttribute(a.el,"rowspan"),10)-1):a.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var a=[];this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var b=this.map[this.idx.row],
e=0,f=b.length;e<f;e++)b[e].isReal&&a.push(b[e].el);return a},getColumnElementsByCell:function(){var a=[];this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var b=0,e=this.map.length;b<e;b++)this.map[b][this.idx.col]&&this.map[b][this.idx.col].isReal&&a.push(this.map[b][this.idx.col].el);return a},removeRow:function(){var a=g.getParentElement(this.cell,{query:"tr"});if(a){this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var e=this.map[this.idx.row],
f=0,h=e.length;f<h;f++)e[f].modified||(this.setCellAsModified(e[f]),this.removeRowCell(e[f]));b(a)}},removeColCell:function(a){a.isColspan?2<parseInt(g.getAttribute(a.el,"colspan"),10)?a.el.setAttribute("colspan",parseInt(g.getAttribute(a.el,"colspan"),10)-1):a.el.removeAttribute("colspan"):a.isReal&&b(a.el)},removeColumn:function(){this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var a=0,b=this.map.length;a<b;a++)this.map[a][this.idx.col].modified||(this.setCellAsModified(this.map[a][this.idx.col]),
this.removeColCell(this.map[a][this.idx.col]))},remove:function(a){if(this.rectify()){switch(a){case "row":this.removeRow();break;case "column":this.removeColumn()}this.rectify()}},addRow:function(a){var b=this.table.ownerDocument;this.setTableMap();this.idx=this.getMapIndex(this.cell);"below"==a&&g.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(g.getAttribute(this.cell,"rowspan"),10)-1);if(!1!==this.idx){for(var f=this.map[this.idx.row],b=b.createElement("tr"),h=0,l=f.length;h<
l;h++)f[h].modified||(this.setCellAsModified(f[h]),this.addRowCell(f[h],b,a));switch(a){case "below":e(this.getRealRowEl(!0),b);break;case "above":(a=g.getParentElement(this.map[this.idx.row][this.idx.col].el,{query:"tr"}))&&a.parentNode.insertBefore(b,a)}}},addRowCell:function(a,b,e){var f=a.isColspan?{colspan:g.getAttribute(a.el,"colspan")}:null;a.isReal?"above"!=e&&a.isRowspan?a.el.setAttribute("rowspan",parseInt(g.getAttribute(a.el,"rowspan"),10)+1):b.appendChild(this.createCells("td",1,f)):"above"!=
e&&a.isRowspan&&a.lastRow?b.appendChild(this.createCells("td",1,f)):c.isRowspan&&a.el.attr("rowspan",parseInt(g.getAttribute(a.el,"rowspan"),10)+1)},add:function(a){this.rectify()&&("below"!=a&&"above"!=a||this.addRow(a),"before"!=a&&"after"!=a||this.addColumn(a))},addColCell:function(a,b,f){var h,l=a.el.tagName.toLowerCase();switch(f){case "before":h=!a.isColspan||a.firstCol;break;case "after":h=!a.isColspan||a.lastCol||a.isColspan&&c.el==this.cell}if(h){switch(f){case "before":a.el.parentNode.insertBefore(this.createCells(l,
1),a.el);break;case "after":e(a.el,this.createCells(l,1))}a.isRowspan&&this.handleCellAddWithRowspan(a,b+1,f)}else a.el.setAttribute("colspan",parseInt(g.getAttribute(a.el,"colspan"),10)+1)},addColumn:function(a){var b;this.setTableMap();this.idx=this.getMapIndex(this.cell);"after"==a&&g.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(g.getAttribute(this.cell,"colspan"),10)-1);if(!1!==this.idx)for(var e=0,f=this.map.length;e<f;e++)b=this.map[e],b[this.idx.col]&&(b=b[this.idx.col],
b.modified||(this.setCellAsModified(b),this.addColCell(b,e,a)))},handleCellAddWithRowspan:function(a,b,f){var h=parseInt(g.getAttribute(this.cell,"rowspan"),10)-1,l=g.getParentElement(a.el,{query:"tr"});a=a.el.tagName.toLowerCase();for(var r,t,v=this.table.ownerDocument,x=0;x<h;x++){r=this.correctColIndexForUnreals(this.idx.col,b+x);a:{for(l=l.nextSibling;1!=l.nodeType;)if(l=l.nextSibling,"tr"==l.tagName.toLowerCase())break a;l=null}if(l)if(0<r)switch(f){case "before":t=this.getRowCells(l);0<r&&this.map[b+
x][this.idx.col].el!=t[r]&&r==t.length-1?e(t[r],this.createCells(a,1)):t[r].parentNode.insertBefore(this.createCells(a,1),t[r]);break;case "after":e(this.getRowCells(l)[r],this.createCells(a,1))}else l.insertBefore(this.createCells(a,1),l.firstChild);else r=v.createElement("tr"),r.appendChild(this.createCells(a,1)),this.table.appendChild(r)}}};g.table={getCellsBetween:function(a,b){return(new l(a)).getMapElsTo(b)},addCells:function(a,b){(new l(a)).add(b)},removeCells:function(a,b){(new l(a)).remove(b)},
mergeCellsBetween:function(a,b){(new l(a)).merge(b)},unmergeCell:function(a){(new l(a)).unmerge()},orderSelectionEnds:function(a,b){return(new l(a)).orderSelectionEnds(b)},indexOf:function(a){var b=new l(a);b.setTableMap();return b.getMapIndex(a)},findCell:function(a,b){return(new l(null,a)).getElementAtIndex(b)},findRowByCell:function(a){return(new l(a)).getRowElementsByCell()},findColumnByCell:function(a){return(new l(a)).getColumnElementsByCell()},canMerge:function(a,b){return(new l(a)).canMerge(b)}}})(wysihtml5);
wysihtml5.dom.query=function(a,h){var b=[],e;a.nodeType&&(a=[a]);for(var g=0,f=a.length;g<f;g++)if(e=a[g].querySelectorAll(h))for(var l=e.length;l--;b.unshift(e[l]));return b};
wysihtml5.dom.compareDocumentPosition=function(){return document.documentElement.compareDocumentPosition?function(a,h){return a.compareDocumentPosition(h)}:function(a,h){if(a===h)return 0;if(a===h.ownerDocument)return 20;if(a.ownerDocument===h)return 10;if((9===a.nodeType?a:a.ownerDocument)!==(9===h.nodeType?h:h.ownerDocument))return 1;if(2===a.nodeType&&a.childNodes&&-1!==wysihtml5.lang.array(a.childNodes).indexOf(h))return 20;if(2===h.nodeType&&h.childNodes&&-1!==wysihtml5.lang.array(h.childNodes).indexOf(a))return 10;
for(var b=a,e=[],g=null;b;){if(b==h)return 10;e.push(b);b=b.parentNode}b=h;for(g=null;b;){if(b==a)return 20;var f=wysihtml5.lang.array(e).indexOf(b);if(-1!==f)return b=e[f],e=wysihtml5.lang.array(b.childNodes).indexOf(e[f-1]),g=wysihtml5.lang.array(b.childNodes).indexOf(g),e>g?2:4;g=b;b=b.parentNode}return 1}}();wysihtml5.dom.unwrap=function(a){var h=[];if(a.parentNode){for(;a.lastChild;)h.unshift(a.lastChild),wysihtml5.dom.insert(a.lastChild).after(a);a.parentNode.removeChild(a)}return h};
wysihtml5.dom.getPastedHtml=function(a){var h;wysihtml5.browser.supportsModernPaste()&&a.clipboardData&&(wysihtml5.lang.array(a.clipboardData.types).contains("text/html")?h=a.clipboardData.getData("text/html"):wysihtml5.lang.array(a.clipboardData.types).contains("text/plain")&&(h=wysihtml5.lang.string(a.clipboardData.getData("text/plain")).escapeHTML(!0,!0)));return h};
wysihtml5.dom.getPastedHtmlWithDiv=function(a,h){var b=a.selection.getBookmark(),e=a.element.ownerDocument,g=e.createElement("DIV"),f=a.getScrollPos();e.body.appendChild(g);g.style.width="1px";g.style.height="1px";g.style.overflow="hidden";g.style.position="absolute";g.style.top=f.y+"px";g.style.left=f.x+"px";g.setAttribute("contenteditable","true");g.focus();setTimeout(function(){var e;a.selection.setBookmark(b);(e=g.innerHTML)&&/^<br\/?>$/i.test(e.trim())&&(e=!1);h(e);g.parentNode.removeChild(g)},
0)};wysihtml5.dom.removeInvisibleSpaces=function(a){a=wysihtml5.dom.getTextNodes(a);for(var h=a.length;h--;)a[h].nodeValue=a[h].nodeValue.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")};
wysihtml5.quirks.cleanPastedHTML=function(){return function(a,h){var b={color:wysihtml5.dom.getStyle("color").from(h.referenceNode),fontSize:wysihtml5.dom.getStyle("font-size").from(h.referenceNode)},e;a:{e=h.rules;var g;if(e){for(var f=0,l=e.length;f<l;f++)if(e[f].condition||(g=e[f].set),e[f].condition&&e[f].condition.test(a)){e=e[f].set;break a}e=g}else e=null}e=wysihtml5.lang.object(e||{}).clone(!0);var k,n;for(k in e.tags)if(e.tags.hasOwnProperty(k)&&e.tags[k].keep_styles)for(n in e.tags[k].keep_styles)e.tags[k].keep_styles.hasOwnProperty(n)&&
b[n]&&(g=e.tags[k].keep_styles,f=n,l=wysihtml5.lang.string(b[n]).trim().replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),g[f]=new RegExp("^((?!^"+l+"$).)*$","i"));return wysihtml5.dom.parse(a,{rules:e,cleanUp:!0,context:h.referenceNode.ownerDocument,uneditableClass:h.uneditableClass,clearInternals:!0,unjoinNbsps:!0})}}();
wysihtml5.quirks.ensureProperClearing=function(){var a=function(){var a=this;setTimeout(function(){var b=a.innerHTML.toLowerCase();if("<p>&nbsp;</p>"==b||"<p>&nbsp;</p><p>&nbsp;</p>"==b)a.innerHTML=""},0)};return function(h){wysihtml5.dom.observe(h.element,["cut","keydown"],a)}}();
(function(a){a.quirks.getCorrectInnerHTML=function(h){var b=h.innerHTML;if(-1===b.indexOf("%7E"))return b;h=h.querySelectorAll("[href*='~'], [src*='~']");var e,g,f,l;l=0;for(f=h.length;l<f;l++)e=h[l].href||h[l].src,g=a.lang.string(e).replace("~").by("%7E"),b=a.lang.string(b).replace(g).by(e);return b}})(wysihtml5);
(function(a){a.quirks.redraw=function(h){a.dom.addClass(h,"wysihtml5-quirks-redraw");a.dom.removeClass(h,"wysihtml5-quirks-redraw");try{var b=h.ownerDocument;b.execCommand("italic",!1,null);b.execCommand("italic",!1,null)}catch(e){}}})(wysihtml5);
wysihtml5.quirks.tableCellsSelection=function(a,h){function b(){if(a){var b=a.querySelectorAll("."+n);if(0<b.length)for(var e=0;e<b.length;e++)l.removeClass(b[e],n)}}function e(a){for(var b=0;b<a.length;b++)l.addClass(a[b],n)}function g(f){var g=null;(f=l.getParentElement(f.target,{query:"td, th"},!1,a))&&k.table&&k.start&&(g=l.getParentElement(f,{query:"table"},!1,a))&&g===k.table&&(b(),g=k.end,k.end=f,k.cells=l.table.getCellsBetween(k.start,f),1<k.cells.length&&h.composer.selection.deselect(),e(k.cells),
k.end!==g&&h.fire("tableselectchange").fire("tableselectchange:composer"))}function f(b){a.removeEventListener("mousemove",g);a.removeEventListener("mouseup",f);h.fire("tableselect").fire("tableselect:composer");setTimeout(function(){a.ownerDocument.addEventListener("click",m)},0)}var l=wysihtml5.dom,k={table:null,start:null,end:null,cells:null,select:function(b,f){k.start=b;k.end=f;k.table=l.getParentElement(k.start,{query:"table"},!1,a);selectedCells=l.table.getCellsBetween(k.start,k.end);e(selectedCells);
a.ownerDocument.addEventListener("click",m);h.fire("tableselect").fire("tableselect:composer")}},n="wysiwyg-tmp-selected-cell",m=function(e){a.ownerDocument.removeEventListener("click",m);l.getParentElement(e.target,{query:"table"},!1,a)!=k.table&&(b(),k.table=null,k.start=null,k.end=null,h.fire("tableunselect").fire("tableunselect:composer"))};a.addEventListener("mousedown",function(e){if(e=wysihtml5.dom.getParentElement(e.target,{query:"td, th"},!1,a))k.start=e,k.end=e,k.cells=[e],k.table=l.getParentElement(k.start,
{query:"table"},!1,a),k.table&&(b(),l.addClass(e,n),a.addEventListener("mousemove",g),a.addEventListener("mouseup",f),h.fire("tableselectstart").fire("tableselectstart:composer"))});return k};
(function(a){function h(a){var e,h;for(e in b)if(b.hasOwnProperty(e)&&(h=b[e],h.regex.test(a)))return h}var b={rgba:{regex:/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,name:"rgba"},rgb:{regex:/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,name:"rgb"},hex6:{regex:/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,name:"hex",radix:16},hex3:{regex:/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,name:"hex",radix:16}},e=function(a){return new RegExp("(^|\\s|;)"+
a+"\\s*:\\s*[^;$]+","gi")};a.quirks.styleParser={getColorParseMethod:h,getColorFormat:function(a){return(a=h(a))?a.name:void 0},parseColor:function(g,f){var l,k,n,m;l=g;if(f){l=e(f);if(!(l=g.match(l)))return!1;l=l.pop().split(":")[1];l=a.lang.string(l).trim()}if(!(k=h(l))||!(n=l.match(k.regex)))return!1;m=k.radix||10;if(k===b.hex3)return n.shift(),n.push(1),a.lang.array(n).map(function(a,b){return 3>b?parseInt(a,m)*m+parseInt(a,m):parseFloat(a)});n.shift();n[3]||n.push(1);return a.lang.array(n).map(function(a,
b){return 3>b?parseInt(a,m):parseFloat(a)})},unparseColor:function(a,b){return"hex"===b?(a[0].toString(16)+a[1].toString(16)+a[2].toString(16)).toUpperCase():"hash"===b?"#"+(a[0].toString(16)+a[1].toString(16)+a[2].toString(16)).toUpperCase():"rgb"===b?"rgb("+a[0]+","+a[1]+","+a[2]+")":"rgba"===b?"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")":"csv"===b?a[0]+","+a[1]+","+a[2]+","+a[3]:a[3]&&1!==a[3]?"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")":"rgb("+a[0]+","+a[1]+","+a[2]+")"},parseFontSize:function(b){return(b=
b.match(e("font-size")))?a.lang.string(b[b.length-1].split(":")[1]).trim():!1}}})(wysihtml5);
(function(a){function h(a,b){for(var e=0;b!==a;)if(e++,b=b.parentNode,!b)throw Error("not a descendant of ancestor!");return e}function b(a,b){return 3===a.nodeType?a:a.childNodes[b]||a}function e(b){var e=document.createElement("span"),g=function(a){b.removeEventListener("mouseup",g);b.removeEventListener("keydown",g);b.removeEventListener("touchstart",g);b.removeEventListener("focus",g);b.removeEventListener("blur",g);b.removeEventListener("paste",h);b.removeEventListener("drop",h);b.removeEventListener("beforepaste",
h);e&&e.parentNode&&e.parentNode.removeChild(e)},h=function(a){e&&e.parentNode&&setTimeout(g,0)};e.appendChild(b.ownerDocument.createTextNode(a.INVISIBLE_SPACE));e.className="_wysihtml5-temp-caret-fix";e.style.display="block";e.style.minWidth="1px";e.style.height="0px";b.addEventListener("mouseup",g);b.addEventListener("keydown",g);b.addEventListener("touchstart",g);b.addEventListener("focus",g);b.addEventListener("blur",g);b.addEventListener("paste",h);b.addEventListener("drop",h);b.addEventListener("beforepaste",
h);return e}var g=a.dom;a.Selection=Base.extend({constructor:function(a,b,e){rangy.init();this.editor=a;this.composer=a.composer;this.doc=this.composer.doc;this.win=this.composer.win;this.contain=b;this.unselectableClass=e||!1},getBookmark:function(){var a=this.getRange();return a&&a.cloneRange()},setBookmark:function(a){a&&this.setSelection(a)},setBefore:function(a){var b=rangy.createRange(this.doc);b.setStartBefore(a);b.setEndBefore(a);return this.setSelection(b)},createTemporaryCaretSpaceAfter:function(b){var e=
this.doc.createElement("span"),g=this.doc.createTextNode(a.INVISIBLE_SPACE),h=function(b){this.contain.removeEventListener("mouseup",h);this.contain.removeEventListener("keydown",p);this.contain.removeEventListener("touchstart",h);this.contain.removeEventListener("focus",h);this.contain.removeEventListener("blur",h);this.contain.removeEventListener("paste",m);this.contain.removeEventListener("drop",m);this.contain.removeEventListener("beforepaste",m);e&&e.parentNode&&(e.innerHTML=e.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,
""),/[^\s]+/.test(e.innerHTML)?(b=e.lastChild,a.dom.unwrap(e),this.setAfter(b)):e.parentNode.removeChild(e))}.bind(this),m=function(a){e&&e.parentNode&&setTimeout(h,0)},p=function(a){8===a.which||91===a.which||17===a.which||86===a.which&&(a.ctrlKey||a.metaKey)||h()};e.className="_wysihtml5-temp-caret-fix";e.style.position="absolute";e.style.display="block";e.style.minWidth="1px";e.style.zIndex="99999";e.appendChild(g);b.parentNode.insertBefore(e,b.nextSibling);this.setBefore(g);this.contain.addEventListener("mouseup",
h);this.contain.addEventListener("keydown",p);this.contain.addEventListener("touchstart",h);this.contain.addEventListener("focus",h);this.contain.addEventListener("blur",h);this.contain.addEventListener("paste",m);this.contain.addEventListener("drop",m);this.contain.addEventListener("beforepaste",m);return e},setAfter:function(b,e,g){var h=this.win,m=rangy.createRange(this.doc),p=function(){var g=b.parentNode,g=g?g.childNodes[g.childNodes.length-1]:null;if(!q||g===b&&1===b.nodeType&&"block"===h.getComputedStyle(b).display)if(e){var k=
this.doc.createTextNode(a.INVISIBLE_SPACE);b.parentNode.insertBefore(k,b.nextSibling);this.selectNode(k);setTimeout(function(){k&&k.parentNode&&k.parentNode.removeChild(k)},0)}else this.createTemporaryCaretSpaceAfter(b)}.bind(this),q;m.setStartAfter(b);m.setEndAfter(b);if(document.activeElement&&document.activeElement===this.composer.element)q=this.setSelection(m),p(),g&&g(q);else{var r=this.composer.getScrollPos();this.composer.element.focus();this.composer.setScrollPos(r);setTimeout(function(){q=
this.setSelection(m);p();g&&g(q)}.bind(this),0)}},selectNode:function(b,e){var h=rangy.createRange(this.doc),n=b.nodeType===a.ELEMENT_NODE,m="canHaveHTML"in b?b.canHaveHTML:"IMG"!==b.nodeName,p=n?b.innerHTML:b.data,p=""===p||p===a.INVISIBLE_SPACE,q=g.getStyle("display").from(b),q="block"===q||"list-item"===q;if(p&&n&&m&&!e)try{b.innerHTML=a.INVISIBLE_SPACE}catch(r){}m?h.selectNodeContents(b):h.selectNode(b);m&&p&&n?h.collapse(q):m&&p&&(h.setStartAfter(b),h.setEndAfter(b));this.setSelection(h)},getSelectedNode:function(a){if(a&&
this.doc.selection&&"Control"===this.doc.selection.type&&(a=this.doc.selection.createRange())&&a.length)return a.item(0);a=this.getSelection(this.doc);return a.focusNode===a.anchorNode?a.focusNode:(a=this.getRange(this.doc))?a.commonAncestorContainer:this.doc.body},fixSelBorders:function(){var a=this.getRange();if(!a.canSurroundContents())for(var b=a.commonAncestorContainer,e=h(b,a.startContainer),g=h(b,a.endContainer);!a.canSurroundContents();)e>g?(a.setStartBefore(a.startContainer),e=h(b,a.startContainer)):
(a.setEndAfter(a.endContainer),g=h(b,a.endContainer));this.setSelection(a)},getSelectedOwnNodes:function(a){a=this.getOwnRanges();for(var b=[],e=0,g=a.length;e<g;e++)b.push(a[e].commonAncestorContainer||this.doc.body);return b},findNodesInSelection:function(b){for(var e=this.getOwnRanges(),g=[],h,m=0,p=e.length;m<p;m++)h=e[m].getNodes([1],function(e){return a.lang.array(b).contains(e.nodeName)}),g=g.concat(h);return g},filterElements:function(a){for(var b=this.getOwnRanges(),e=[],g,h=0,p=b.length;h<
p;h++)g=b[h].getNodes([1],function(e){return a(e,b[h])}),e=e.concat(g);return e},containsUneditable:function(){for(var a=this.getOwnUneditables(),b=this.getSelection(),e=0,g=a.length;e<g;e++)if(b.containsNode(a[e]))return!0;return!1},deleteContents:function(){var a=this.getRange();this.deleteRangeContents(a);this.setSelection(a)},deleteRangeContents:function(b){var e,g,h;if(this.unselectableClass)for((e=a.dom.getParentElement(b.startContainer,{query:"."+this.unselectableClass},!1,this.contain))&&
b.setStartBefore(e),(g=a.dom.getParentElement(b.endContainer,{query:"."+this.unselectableClass},!1,this.contain))&&b.setEndAfter(g),e=b.getNodes([1],function(b){return a.dom.hasClass(b,this.unselectableClass)}.bind(this)),g=e.length;g--;)try{h=new CustomEvent("wysihtml5:uneditable:delete"),e[g].dispatchEvent(h)}catch(m){}b.deleteContents()},getCaretNode:function(){var a=this.getSelection();return a&&a.anchorNode?b(a.anchorNode,a.anchorOffset):null},getPreviousNode:function(e,g){var h;if(!e){var n=
this.getSelection();e=n&&n.anchorNode?b(n.anchorNode,n.anchorOffset):null}if(e===this.contain)return!1;n=e.previousSibling;if(n===this.contain)return!1;n&&3!==n.nodeType&&1!==n.nodeType?n=this.getPreviousNode(n,g):n&&3===n.nodeType&&/^\s*$/.test(n.textContent)?n=this.getPreviousNode(n,g):g&&n&&1===n.nodeType?(h=a.dom.getStyle("display").from(n),a.lang.array(["BR","HR","IMG"]).contains(n.nodeName)||a.lang.array(["block","inline-block","flex","list-item","table"]).contains(h)||!/^[\s]*$/.test(n.innerHTML)||
(n=this.getPreviousNode(n,g))):n||e===this.contain||(h=e.parentNode,h!==this.contain&&(n=this.getPreviousNode(h,g)));return n!==this.contain?n:!1},getNodesNearCaret:function(){if(!this.isCollapsed())throw"Selection must be caret when using selection.getNodesNearCaret()";var a=this.getOwnRanges(),b,e,g,h;return a&&0<a.length?(1===a[0].startContainer.nodeType?(b=a[0].startContainer.childNodes[a[0].startOffset-1],b||0!==a[0].startOffset)?b&&(e=b.previousSibling,g=b.nextSibling):g=a[0].startContainer.childNodes[0]:
(0===a[0].startOffset&&a[0].startContainer.previousSibling?(b=a[0].startContainer.previousSibling,3===b.nodeType&&(h=b.data.length)):(b=a[0].startContainer,h=a[0].startOffset),e=b.previousSibling,g=b.nextSibling),{caretNode:b,prevNode:e,nextNode:g,textOffset:h}):null},getSelectionParentsByTag:function(b){b=this.getSelectedOwnNodes();for(var e,g=[],h=0,m=b.length;h<m;h++)(e=b[h].nodeName&&"LI"===b[h].nodeName?b[h]:a.dom.getParentElement(b[h],{query:"li"},!1,this.contain))&&g.push(e);return g.length?
g:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var a=this.getRange(),b=a.startContainer,a=a.startOffset,e=rangy.createRange(this.doc);e.selectNodeContents(b);e.setStart(b,a);return e}},caretIsLastInSelection:function(){rangy.createRange(this.doc);this.getSelection();var a=this.getRangeToNodeEnd().cloneContents().textContent;return/^\s*$/.test(a)},caretIsFirstInSelection:function(e){var g=rangy.createRange(this.doc),h=this.getSelection(),n=this.getRange(),m=b(n.startContainer,n.startOffset);
if(m){if(m.nodeType===a.TEXT_NODE){if(!m.parentNode||!this.isCollapsed()||m.parentNode.firstChild!==m&&!a.dom.domNode(m.previousSibling).is.block())return!1;e=this.win.getComputedStyle(m.parentNode).whiteSpace;return"pre"===e||"pre-wrap"===e?0===n.startOffset:/^\s*$/.test(m.data.substr(0,n.startOffset))}if(e&&a.dom.domNode(m).is.lineBreak())return!0;g.selectNodeContents(this.getRange().commonAncestorContainer);g.collapse(!0);return this.isCollapsed()&&(g.startContainer===h.anchorNode||g.endContainer===
h.anchorNode)&&g.startOffset===h.anchorOffset}},caretIsInTheBeginnig:function(b){var e=this.getSelection(),g=e.anchorNode,e=e.anchorOffset;if(b&&g)return 0===e&&(g.nodeName&&g.nodeName===b.toUpperCase()||a.dom.getParentElement(g.parentNode,{query:b},1));if(g)return 0===e&&!this.getPreviousNode(g,!0)},getBeforeSelection:function(b){var e=this.getSelection(),g=e.isBackwards()?e.focusNode:e.anchorNode,e=e.isBackwards()?e.focusOffset:e.anchorOffset,h=this.createRange(),m;g&&3===g.nodeType&&/^\s*$/.test(g.data.slice(0,
e))&&(e=0);if(m=a.dom.getParentElement(g,{query:"._wysihtml5-temp-caret-fix"},1))g=m.parentNode,e=Array.prototype.indexOf.call(g.childNodes,m);if(g){if(0<e){if(3===g.nodeType)return h.setStart(g,0),h.setEnd(g,e),{type:"text",range:h,offset:e,node:g};h.setStartBefore(g.childNodes[0]);g=g.childNodes[e-1];h.setEndAfter(g);return{type:"element",range:h,offset:e,node:g}}h.setStartAndEnd(g,0);return b&&(b=this.getPreviousNode(g,!0),m=null,b&&(m=1===b.nodeType&&a.dom.hasClass(b,this.unselectableClass)?b:
a.dom.domNode(b).lastLeafNode()),m)?{type:"leafnode",range:h,offset:e,node:m}:{type:"none",range:h,offset:e,node:g}}return null},executeAndRestoreRangy:function(a,b){var e=rangy.saveSelection(this.win);if(e)try{a()}catch(g){setTimeout(function(){throw g;},0)}else a();rangy.restoreSelection(e)},executeAndRestore:function(b,e){var h=this.doc.body,n=e&&h.scrollTop,m=e&&h.scrollLeft,p='<span class="_wysihtml5-temp-placeholder">'+a.INVISIBLE_SPACE+"</span>",q=this.getRange(!0),r,t,v;if(q){q.collapsed||
(v=q.cloneRange(),r=v.createContextualFragment(p),v.collapse(!1),v.insertNode(r),v.detach());p=q.createContextualFragment(p);q.insertNode(p);r&&(r=this.contain.querySelectorAll("._wysihtml5-temp-placeholder"),q.setStartBefore(r[0]),q.setEndAfter(r[r.length-1]));this.setSelection(q);try{b(q.startContainer,q.endContainer)}catch(x){setTimeout(function(){throw x;},0)}if((r=this.contain.querySelectorAll("._wysihtml5-temp-placeholder"))&&r.length)for(q=rangy.createRange(this.doc),p=r[0].nextSibling,1<r.length&&
(t=r[r.length-1].previousSibling),t&&p?q.setStartBefore(p):(t=this.doc.createTextNode(a.INVISIBLE_SPACE),g.insert(t).after(r[0]),q.setStartBefore(t)),q.setEndAfter(t),this.setSelection(q),t=r.length;t--;)r[t].parentNode.removeChild(r[t]);else this.contain.focus();e&&(h.scrollTop=n,h.scrollLeft=m);try{r.parentNode.removeChild(r)}catch(y){}}else b(h,h)},set:function(a,b){var e=rangy.createRange(this.doc);e.setStart(a,b||0);this.setSelection(e)},insertHTML:function(a){var b=this.getRange(),e=this.doc.createElement("DIV"),
g=this.doc.createDocumentFragment();if(b){b.deleteContents();e.innerHTML=a;for(a=e.lastChild;e.firstChild;)g.appendChild(e.firstChild);b.insertNode(g);for(b=this.contain.lastChild;b&&3===b.nodeType&&b.previousSibling&&/^\s*$/.test(b.data);)b=b.previousSibling;a&&(b&&a===b&&1===a.nodeType&&this.contain.appendChild(this.doc.createElement("br")),this.setAfter(a))}},insertNode:function(a){var b=this.getRange();b&&b.insertNode(a)},canAppendChild:function(a){var b,e=this.getRange();(a=a||e.startContainer)&&
(b=(a.tagName||a.nodeName).toLowerCase());return-1==="area base br col command embed hr img input keygen link meta param source track wbr".split(" ").indexOf(b)},splitElementAtCaret:function(b,e){var g=this.getSelection(),h,m;if(0<g.rangeCount){g=g.getRangeAt(0).cloneRange();g.setEndAfter(b);h=g.extractContents();m=h.childNodes;for(var p=m.length;p--;)a.dom.domNode(m[p]).is.visible()||h.removeChild(m[p]);b.parentNode.insertBefore(h,b.nextSibling);e?(h=e.firstChild||e,m=e.lastChild||e,b.parentNode.insertBefore(e,
b.nextSibling),h&&m&&(g.setStartBefore(h),g.setEndAfter(m),this.setSelection(g))):(g.setStartAfter(b),g.setEndAfter(b));a.dom.domNode(b).is.visible()||(""===a.dom.getTextContent(b)?b.parentNode.removeChild(b):b.parentNode.replaceChild(this.doc.createTextNode(" "),b))}},surround:function(a){var b=this.getOwnRanges(),e,g=[];if(0==b.length)return g;for(var h=b.length;h--;){e=this.doc.createElement(a.nodeName);g.push(e);a.className&&(e.className=a.className);a.cssStyle&&e.setAttribute("style",a.cssStyle);
try{b[h].surroundContents(e),this.selectNode(e)}catch(p){e.appendChild(b[h].extractContents()),b[h].insertNode(e)}}return g},scrollIntoView:function(){var b=this.doc,e=b.documentElement.scrollHeight>b.documentElement.offsetHeight,g;(g=b._wysihtml5ScrollIntoViewElement)||(g=b.createElement("span"),g.innerHTML=a.INVISIBLE_SPACE);g=b._wysihtml5ScrollIntoViewElement=g;if(e){this.insertNode(g);var e=g,h=0;if(e.parentNode){do h+=e.offsetTop||0,e=e.offsetParent;while(e)}e=h;g.parentNode.removeChild(g);e>=
b.body.scrollTop+b.documentElement.offsetHeight-5&&(b.body.scrollTop=e)}},selectLine:function(){var b=rangy.createRange();a.browser.supportsSelectionModify()?this._selectLine_W3C():b.nativeRange&&b.nativeRange.getBoundingClientRect&&this._selectLineUniversal()},includeRangyRangeHelpers:function(){var a=this.getSelection(),b=a.getRangeAt(0),e=function(a){return a&&1===a.nodeType&&a.classList.contains("rangySelectionBoundary")},g=1===a.anchorNode.nodeType?a.anchorNode.childNodes[a.anchorOffset]:a.anchorNode,
h=1===a.focusNode.nodeType?a.focusNode.childNodes[a.focusOffset]:a.focusNode,p;if(p=h){p=a.focusOffset;var q;q=1===h.nodeType?h.childNodes&&h.childNodes.length||0:h.data&&h.data.length||0;p=p===q}p&&h.nextSibling&&e(h.nextSibling)&&b.setEndAfter(h.nextSibling);g&&0===a.anchorOffset&&g.previousSibling&&e(g.previousSibling)&&b.setStartBefore(g.previousSibling);b.select()},_selectLine_W3C:function(){var a=this.win.getSelection(),b=[a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset];a.modify("move",
"left","lineboundary");a.modify("extend","right","lineboundary");a.anchorNode===b[0]&&a.anchorOffset===b[1]&&a.focusNode===b[2]&&a.focusOffset===b[3]?this._selectLineUniversal():this.includeRangyRangeHelpers()},toLineBoundary:function(b,e){e="undefined"===typeof e?!1:e;if(a.browser.supportsSelectionModify()){var g=this.win.getSelection();g.modify("extend",b,"lineboundary");e&&("left"===b?g.collapseToStart():"right"===b&&g.collapseToEnd())}},getRangeRect:function(a){this.doc.createTextNode("i");var b=
this.doc.createTextNode("i");a.collapsed?(a.insertNode(b),a.selectNode(b),b=a.nativeRange.getBoundingClientRect(),a.deleteContents()):b=a.nativeRange.getBoundingClientRect();return b},_selectLineUniversal:function(){var b=this.getSelection().getRangeAt(0),e,g=0,h,m,p,q=this;e=function(b){return b&&1===b.nodeType&&("block"===q.win.getComputedStyle(b).display||a.lang.array(["BR","HR"]).contains(b.nodeName))};h=function(a){if(a)for(;a&&(1===a.nodeType&&a.classList.contains("rangySelectionBoundary")||
3===a.nodeType&&/^\s*$/.test(a.data));)a=a.previousSibling;return a};b.cloneRange();b.cloneRange();b.collapsed&&(3===b.startContainer.nodeType&&b.startOffset<b.startContainer.data.length?b.moveEnd("character",1):1===b.startContainer.nodeType&&b.startContainer.childNodes[b.startOffset]&&3===b.startContainer.childNodes[b.startOffset].nodeType&&0<b.startContainer.childNodes[b.startOffset].data.length?b.moveEnd("character",1):0<b.startOffset&&(3===b.startContainer.nodeType||1===b.startContainer.nodeType&&
!e(h(b.startContainer.childNodes[b.startOffset-1])))&&b.moveStart("character",-1));b.collapsed||b.insertNode(this.doc.createTextNode(a.INVISIBLE_SPACE));e=b.nativeRange.getBoundingClientRect();do h=b.moveStart("character",-1),m=b.nativeRange.getBoundingClientRect(),m&&Math.floor(m.top)===Math.floor(e.top)||(b.moveStart("character",1),p=!0),g++;while(0!==h&&!p&&2E3>g);g=0;p=!1;e=b.nativeRange.getBoundingClientRect();if(b.endContainer!==this.contain||this.contain.lastChild&&this.contain.childNodes[b.endOffset]!==
this.contain.lastChild){do h=b.moveEnd("character",1),m=b.nativeRange.getBoundingClientRect(),m&&Math.floor(m.bottom)===Math.floor(e.bottom)||(b.moveEnd("character",-1),b.endContainer&&1===b.endContainer.nodeType&&b.endContainer.childNodes[b.endOffset]&&1===b.endContainer.childNodes[b.endOffset].nodeType&&"BR"===b.endContainer.childNodes[b.endOffset].nodeName&&b.endContainer.childNodes[b.endOffset].previousSibling&&(1===b.endContainer.childNodes[b.endOffset].previousSibling.nodeType?b.setEnd(b.endContainer.childNodes[b.endOffset].previousSibling,
b.endContainer.childNodes[b.endOffset].previousSibling.childNodes.length):3===b.endContainer.childNodes[b.endOffset].previousSibling.nodeType&&b.setEnd(b.endContainer.childNodes[b.endOffset].previousSibling,b.endContainer.childNodes[b.endOffset].previousSibling.data.length)),p=!0),g++;while(0!==h&&!p&&2E3>g)}b.select();this.includeRangyRangeHelpers()},getText:function(){var a=this.getSelection();return a?a.toString():""},getNodes:function(a,b){var e=this.getRange();return e?e.getNodes(Array.isArray(a)?
a:[a],b):[]},getOwnNodes:function(a,b,e){for(var g=this.getOwnRanges(),h=[],p=0,q=g.length;p<q;p++)g[p]&&(e&&g[p].splitBoundaries(),h=h.concat(g[p].getNodes(Array.isArray(a)?a:[a],b)));return h},fixRangeOverflow:function(a){if(this.contain&&this.contain.firstChild&&a){var b=a.compareNode(this.contain);2!==b?(1===b&&a.setStartBefore(this.contain.firstChild),0===b&&a.setEndAfter(this.contain.lastChild),3===b&&(a.setStartBefore(this.contain.firstChild),a.setEndAfter(this.contain.lastChild))):this._detectInlineRangeProblems(a)&&
(b=a.endContainer.previousElementSibling)&&a.setEnd(b,this._endOffsetForNode(b))}},_endOffsetForNode:function(a){var b=document.createRange();b.selectNodeContents(a);return b.endOffset},_detectInlineRangeProblems:function(a){var b=g.compareDocumentPosition(a.startContainer,a.endContainer);return 0==a.endOffset&&b&4},getRange:function(a){var b=this.getSelection(),b=b&&b.rangeCount&&b.getRangeAt(0);!0!==a&&this.fixRangeOverflow(b);return b},getOwnUneditables:function(){var b=g.query(this.contain,"."+
this.unselectableClass),e=g.query(b,"."+this.unselectableClass);return a.lang.array(b).without(e)},getOwnRanges:function(){var a=[],b=this.getRange();b&&a.push(b);if(this.unselectableClass&&this.contain&&b){var e=this.getOwnUneditables(),g;if(0<e.length)for(var h=0,p=e.length;h<p;h++)for(var b=[],q=0,r=a.length;q<r;q++){if(a[q])switch(a[q].compareNode(e[h])){case 2:break;case 3:g=a[q].cloneRange();g.setEndBefore(e[h]);b.push(g);g=a[q].cloneRange();g.setStartAfter(e[h]);b.push(g);break;default:b.push(a[q])}a=
b}}return a},getSelection:function(){return rangy.getSelection(this.win)},setSelection:function(a){var b=rangy.getSelection(this.win);b.setSingleRange(a);return b&&b.anchorNode&&b.focusNode?b:null},selectAll:function(){var b=this.createRange(),g=this.composer,h=this,n=e(this.composer.element),m=e(this.composer.element),p,q=function(){b.setStart(g.element,0);b.setEnd(g.element,g.element.childNodes.length);p=h.setSelection(b)},r=function(){return!p||p.nativeSelection&&p.nativeSelection.type&&("Caret"===
p.nativeSelection.type||"None"===p.nativeSelection.type)};a.dom.removeInvisibleSpaces(this.composer.element);q();this.composer.element.firstChild&&r()&&(this.composer.element.appendChild(n),q(),r()&&(n.parentNode.removeChild(n),this.composer.element.insertBefore(m,this.composer.element.firstChild),q(),r()&&(this.composer.element.appendChild(n),q())))},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},getHtml:function(){return this.getSelection().toHtml()},
getPlainText:function(){return this.getSelection().toString()},isEndToEndInNode:function(b){var e=this.getRange(),g=e.commonAncestorContainer,h=e.startContainer,m=e.endContainer;g.nodeType===a.TEXT_NODE&&(g=g.parentNode);if(h.nodeType===a.TEXT_NODE&&!/^\s*$/.test(h.data.substr(e.startOffset))||m.nodeType===a.TEXT_NODE&&!/^\s*$/.test(m.data.substr(e.endOffset)))return!1;for(;h&&h!==g;){if(h.nodeType!==a.TEXT_NODE&&!a.dom.contains(g,h)||a.dom.domNode(h).prev({ignoreBlankTexts:!0}))return!1;h=h.parentNode}for(;m&&
m!==g;){if(m.nodeType!==a.TEXT_NODE&&!a.dom.contains(g,m)||a.dom.domNode(m).next({ignoreBlankTexts:!0}))return!1;m=m.parentNode}return a.lang.array(b).contains(g.nodeName)?g:!1},isInThisEditable:function(){var b=this.getSelection(),e=b.focusNode,b=b.anchorNode;e&&1!==e.nodeType&&(e=e.parentNode);b&&1!==b.nodeType&&(b=b.parentNode);return b&&e&&(a.dom.contains(this.composer.element,e)||this.composer.element===e)&&(a.dom.contains(this.composer.element,b)||this.composer.element===b)},deselect:function(){var a=
this.getSelection();a&&a.removeAllRanges()}})})(wysihtml5);
(function(a,h){function b(a,b,f){a.getAttribute("style")?(e(a,f),a.getAttribute("style")&&!/^\s*$/.test(a.getAttribute("style"))?a.setAttribute("style",b+";"+a.getAttribute("style")):a.setAttribute("style",b)):a.setAttribute("style",b)}function e(a,b){var e,f=[];if(a.getAttribute("style")){e=a.getAttribute("style").split(";");for(var g=e.length;g--;)e[g].match(b)||/^\s*$/.test(e[g])||f.push(e[g]);f.length?a.setAttribute("style",f.join(";")):a.removeAttribute("style")}}function g(a,b){var e=[],f=b.split(";"),
g=a.getAttribute("style");if(g){g=g.replace(/\s/gi,"").toLowerCase();e.push(new RegExp("(^|\\s|;)"+b.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var h=f.length;0<h--;)/^\s*$/.test(f[h])||e.push(new RegExp("(^|\\s|;)"+f[h].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));
f=0;for(h=e.length;f<h;f++)if(g.match(e[f]))return e[f]}return!1}function f(b,e,f,k){for(var l=b.length;l--;){var m;m=b[l];var n=e,p=k;m=f?g(m,f):p?a.dom.hasClass(m,p):h.dom.arrayContains(n,m.tagName.toLowerCase());if(!m)return!1}return b.length?!0:!1}function l(a,b){return h.dom.isCharacterDataNode(a)?0==b?!!a.previousSibling:b==a.length?!!a.nextSibling:!0:0<b&&b<a.childNodes.length}function k(a,b,e,f){var g;h.dom.isCharacterDataNode(b)&&(0==e?(e=h.dom.getNodeIndex(b),b=b.parentNode):e==b.length?
(e=h.dom.getNodeIndex(b)+1,b=b.parentNode):g=h.dom.splitDataNode(b,e));if(!(g||f&&b===f)){g=b.cloneNode(!1);g.id&&g.removeAttribute("id");for(var l;l=b.childNodes[e];)g.appendChild(l);h.dom.insertAfter(g,b)}return b==a?g:k(a,g.parentNode,h.dom.getNodeIndex(g),f)}function n(b){this.firstTextNode=(this.isElementMerge=b.nodeType==a.ELEMENT_NODE)?b.lastChild:b;this.textNodes=[this.firstTextNode]}function m(a,b,e,f,g,h,k){this.tagNames=a||["span"];this.cssClass=b||(!1===b?!1:"");this.similarClassRegExp=
e;this.cssStyle=g||"";this.similarStyleRegExp=h;this.normalize=f;this.applyToAnyTagName=!1;this.container=k}var p=/\s+/g;n.prototype={doMerge:function(){for(var a=[],b,e,f=0,g=this.textNodes.length;f<g;++f)b=this.textNodes[f],e=b.parentNode,a[f]=b.data,f&&(e.removeChild(b),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=a=a.join("")},getLength:function(){for(var a=this.textNodes.length,b=0;a--;)b+=this.textNodes[a].length;return b},toString:function(){for(var a=[],b=
0,e=this.textNodes.length;b<e;++b)a[b]="'"+this.textNodes[b].data+"'";return"[Merge("+a.join(",")+")]"}};m.prototype={getAncestorWithClass:function(b){for(var e;b;){if(this.cssClass)if(e=this.cssClass,b.className){var f=b.className.match(this.similarClassRegExp)||[];e=f[f.length-1]===e}else e=!1;else e=""!==this.cssStyle?!1:!0;if(b.nodeType==a.ELEMENT_NODE&&"false"!=b.getAttribute("contenteditable")&&h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&e)return b;b=b.parentNode}return!1},getAncestorWithStyle:function(b){for(var e;b;){if(this.cssStyle){e=
b;var f=this.similarStyleRegExp;e.getAttribute&&e.getAttribute("style")?(e.getAttribute("style").match(f),e=e.getAttribute("style").match(f)?!0:!1):e=!1}else e=!1;if(b.nodeType==a.ELEMENT_NODE&&"false"!=b.getAttribute("contenteditable")&&h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&e)return b;b=b.parentNode}return!1},getMatchingAncestor:function(a){var b=this.getAncestorWithClass(a),e=!1;b?this.cssStyle&&(e="class"):(b=this.getAncestorWithStyle(a))&&(e="style");return{element:b,type:e}},
postApply:function(a,b){for(var e=a[0],f=a[a.length-1],g=[],h,k=e,l=f,m=0,p=f.length,A,D,F=0,K=a.length;F<K;++F)A=a[F],D=null,A&&A.parentNode&&(D=this.getAdjacentMergeableTextNode(A.parentNode,!1)),D?(h||(h=new n(D),g.push(h)),h.textNodes.push(A),A===e&&(k=h.firstTextNode,m=k.length),A===f&&(l=h.firstTextNode,p=h.getLength())):h=null;f&&f.parentNode&&(e=this.getAdjacentMergeableTextNode(f.parentNode,!0))&&(h||(h=new n(f),g.push(h)),h.textNodes.push(e));if(g.length){F=0;for(K=g.length;F<K;++F)g[F].doMerge();
b.setStart(k,m);b.setEnd(l,p)}},getAdjacentMergeableTextNode:function(b,e){var f=b.nodeType==a.TEXT_NODE,g=f?b.parentNode:b,h=e?"nextSibling":"previousSibling";if(f){if((f=b[h])&&f.nodeType==a.TEXT_NODE)return f}else if((f=g[h])&&this.areElementsMergeable(b,f))return f[e?"firstChild":"lastChild"];return null},areElementsMergeable:function(a,b){var e;if(e=h.dom.arrayContains(this.tagNames,(a.tagName||"").toLowerCase())&&h.dom.arrayContains(this.tagNames,(b.tagName||"").toLowerCase()))e=a.className.replace(p,
" ")==b.className.replace(p," ");if(e)a:if(a.attributes.length!=b.attributes.length)e=!1;else{e=0;for(var f=a.attributes.length,g,k;e<f;++e)if(g=a.attributes[e],k=g.name,"class"!=k&&(k=b.attributes.getNamedItem(k),g.specified!=k.specified||g.specified&&g.nodeValue!==k.nodeValue)){e=!1;break a}e=!0}return e},createContainer:function(a){a=a.createElement(this.tagNames[0]);this.cssClass&&(a.className=this.cssClass);this.cssStyle&&a.setAttribute("style",this.cssStyle);return a},applyToTextNode:function(a){var e=
a.parentNode;1==e.childNodes.length&&h.dom.arrayContains(this.tagNames,e.tagName.toLowerCase())?(this.cssClass&&(a=this.cssClass,e.className?(e.className&&(e.className=e.className.replace(this.similarClassRegExp,"")),e.className+=" "+a):e.className=a),this.cssStyle&&b(e,this.cssStyle,this.similarStyleRegExp)):(e=this.createContainer(h.dom.getDocument(a)),a.parentNode.insertBefore(e,a),e.appendChild(a))},isRemovable:function(b){return h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&""===
a.lang.string(b.className).trim()&&(!b.getAttribute("style")||""===a.lang.string(b.getAttribute("style")).trim())},undoToTextNode:function(a,f,h,m){a=h?!1:!0;h=h||m;m=!1;if(!f.containsNode(h)){var n=f.cloneRange();n.selectNode(h);n.isPointInRange(f.endContainer,f.endOffset)&&l(f.endContainer,f.endOffset)&&(k(h,f.endContainer,f.endOffset,this.container),f.setEndAfter(h));n.isPointInRange(f.startContainer,f.startOffset)&&l(f.startContainer,f.startOffset)&&(h=k(h,f.startContainer,f.startOffset,this.container))}!a&&
this.similarClassRegExp&&h.className&&(h.className=h.className.replace(this.similarClassRegExp,""));a&&this.similarStyleRegExp&&(f=h,a=this.cssStyle,m=this.similarStyleRegExp,(n=g(f,a))?(e(f,n),f="remove"):(b(f,a,m),f="change"),m="change"===f);if(this.isRemovable(h)&&!m){for(f=h.parentNode;h.firstChild;)f.insertBefore(h.firstChild,h);f.removeChild(h)}},applyToRange:function(b){for(var e,f=b.length;f--;){e=b[f].getNodes([a.TEXT_NODE]);if(!e.length)try{var g=this.createContainer(b[f].endContainer.ownerDocument);
b[f].surroundContents(g);this.selectNode(b[f],g);break}catch(h){}b[f].splitBoundaries();e=b[f].getNodes([a.TEXT_NODE]);if(e.length){for(var k,l=0,m=e.length;l<m;++l)k=e[l],this.getMatchingAncestor(k).element||this.applyToTextNode(k);b[f].setStart(e[0],0);k=e[e.length-1];b[f].setEnd(k,k.length);this.normalize&&this.postApply(e,b[f])}}},undoToRange:function(b){for(var e,f,g,h=b.length;h--;){e=b[h].getNodes([a.TEXT_NODE]);e.length?(b[h].splitBoundaries(),e=b[h].getNodes([a.TEXT_NODE])):(e=b[h].endContainer.ownerDocument.createTextNode(a.INVISIBLE_SPACE),
b[h].insertNode(e),b[h].selectNode(e),e=[e]);for(var k=0,l=e.length;k<l;++k)b[h].isValid()&&(f=e[k],g=this.getMatchingAncestor(f),"style"===g.type?this.undoToTextNode(f,b[h],!1,g.element):g.element&&this.undoToTextNode(f,b[h],g.element));1==l?this.selectNode(b[h],e[0]):(b[h].setStart(e[0],0),f=e[e.length-1],b[h].setEnd(f,f.length),this.normalize&&this.postApply(e,b[h]))}},selectNode:function(b,e){var f=e.nodeType===a.ELEMENT_NODE,g="canHaveHTML"in e?e.canHaveHTML:!0,h=f?e.innerHTML:e.data;if((h=""===
h||h===a.INVISIBLE_SPACE)&&f&&g)try{e.innerHTML=a.INVISIBLE_SPACE}catch(k){}b.selectNodeContents(e);h&&f?b.collapse(!1):h&&(b.setStartAfter(e),b.setEndAfter(e))},getTextSelectedByRange:function(a,b){var e=b.cloneRange();e.selectNodeContents(a);var f=e.intersection(b),f=f?f.toString():"";e.detach();return f},isAppliedToRange:function(b){for(var e=[],f="full",g,h,k=b.length;k--;){h=b[k].getNodes([a.TEXT_NODE]);if(!h.length)return(g=this.getMatchingAncestor(b[k].startContainer).element)?{elements:[g],
coverage:f}:!1;for(var l=0,m=h.length,n;l<m;++l)n=this.getTextSelectedByRange(h[l],b[k]),(g=this.getMatchingAncestor(h[l]).element)&&""!=n?(e.push(g),1===a.dom.getTextNodes(g,!0).length?f="full":"full"===f&&(f="inline")):g||(f="partial")}return e.length?{elements:e,coverage:f}:!1},toggleRange:function(a){var b=this.isAppliedToRange(a);b?"full"===b.coverage?this.undoToRange(a):"inline"===b.coverage?(b=f(b.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(a),b||this.applyToRange(a)):
(f(b.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(a),this.applyToRange(a)):this.applyToRange(a)}};a.selection.HTMLApplier=m})(wysihtml5,rangy);
wysihtml5.Commands=Base.extend({constructor:function(a){this.editor=a;this.composer=a.composer;this.doc=this.composer.doc},support:function(a){return wysihtml5.browser.supportsCommand(this.doc,a)},exec:function(a,h){var b=wysihtml5.commands[a],e=wysihtml5.lang.array(arguments).get(),g=b&&b.exec,f=null;this.composer.hasPlaceholderSet()&&!wysihtml5.lang.array(["styleWithCSS","enableObjectResizing","enableInlineTableEditing"]).contains(a)&&(this.composer.element.innerHTML="",this.composer.selection.selectNode(this.composer.element));
this.editor.fire("beforecommand:composer");if(g)e.unshift(this.composer),f=g.apply(b,e);else try{f=this.doc.execCommand(a,!1,h)}catch(l){}this.editor.fire("aftercommand:composer");return f},remove:function(a,h){var b=wysihtml5.commands[a],e=wysihtml5.lang.array(arguments).get(),g=b&&b.remove;if(g)return e.unshift(this.composer),g.apply(b,e)},state:function(a,h){var b=wysihtml5.commands[a],e=wysihtml5.lang.array(arguments).get(),g=b&&b.state;if(g)return e.unshift(this.composer),g.apply(b,e);try{return this.doc.queryCommandState(a)}catch(f){return!1}},
stateValue:function(a){var h=wysihtml5.commands[a],b=wysihtml5.lang.array(arguments).get(),e=h&&h.stateValue;return e?(b.unshift(this.composer),e.apply(h,b)):!1}});(function(a){var h={nodeName:"B",toggle:!0};a.commands.bold={exec:function(b,e){a.commands.formatInline.exec(b,e,h)},state:function(b,e){return a.commands.formatInline.state(b,e,h)}}})(wysihtml5);
(function(a){var h={nodeName:"A",toggle:!1};a.commands.createLink={exec:function(b,e,g){g=a.lang.object({}).merge(h).merge({attribute:g}).get();if(b.selection.isCollapsed()&&!this.state(b,e)){var f=b.doc.createTextNode(g.attribute.href);b.selection.insertNode(f);b.selection.selectNode(f)}a.commands.formatInline.exec(b,e,g)},state:function(b,e){return a.commands.formatInline.state(b,e,h)}}})(wysihtml5);
(function(a){var h={nodeName:"A"};a.commands.removeLink={exec:function(b,e){a.commands.formatInline.remove(b,e,h)},state:function(b,e){return a.commands.formatInline.state(b,e,h)}}})(wysihtml5);(function(a){var h=/wysiwyg-font-size-[0-9a-z\-]+/g;a.commands.fontSize={exec:function(b,e,g){a.commands.formatInline.exec(b,e,{className:"wysiwyg-font-size-"+g,classRegExp:h,toggle:!0})},state:function(b,e,g){return a.commands.formatInline.state(b,e,{className:"wysiwyg-font-size-"+g})}}})(wysihtml5);
(function(a){a.commands.fontSizeStyle={exec:function(h,b,e){e=e.size||e;/^\s*$/.test(e)||a.commands.formatInline.exec(h,b,{styleProperty:"fontSize",styleValue:e,toggle:!1})},state:function(h,b,e){return a.commands.formatInline.state(h,b,{styleProperty:"fontSize",styleValue:e||void 0})},remove:function(h,b){return a.commands.formatInline.remove(h,b,{styleProperty:"fontSize"})},stateValue:function(h,b){var e;(e=this.state(h,b))&&a.lang.object(e).isArray()&&(e=e[0]);return e&&(e=e.getAttribute("style"))?
a.quirks.styleParser.parseFontSize(e):!1}}})(wysihtml5);(function(a){var h=/wysiwyg-color-[0-9a-z]+/g;a.commands.foreColor={exec:function(b,e,g){a.commands.formatInline.exec(b,e,{className:"wysiwyg-color-"+g,classRegExp:h,toggle:!0})},state:function(b,e,g){return a.commands.formatInline.state(b,e,{className:"wysiwyg-color-"+g})}}})(wysihtml5);
(function(a){a.commands.foreColorStyle={exec:function(h,b,e){e&&(e=a.quirks.styleParser.parseColor("color:"+(e.color||e),"color"))&&(e=(1===e[3]?"rgb("+[e[0],e[1],e[2]].join(", "):"rgba("+e.join(", "))+")",a.commands.formatInline.exec(h,b,{styleProperty:"color",styleValue:e}))},state:function(h,b,e){e=e?a.quirks.styleParser.parseColor("color:"+(e.color||e),"color"):null;var g;e&&(g=(1===e[3]?"rgb("+[e[0],e[1],e[2]].join(", "):"rgba("+e.join(", "))+")");return a.commands.formatInline.state(h,b,{styleProperty:"color",
styleValue:g})},remove:function(h,b){return a.commands.formatInline.remove(h,b,{styleProperty:"color"})},stateValue:function(h,b,e){h=this.state(h,b);b=!1;h&&a.lang.object(h).isArray()&&(h=h[0]);return h&&(h=h.getAttribute("style"))?(b=a.quirks.styleParser.parseColor(h,"color"),a.quirks.styleParser.unparseColor(b,e)):!1}}})(wysihtml5);
(function(a){a.commands.bgColorStyle={exec:function(h,b,e){if(e=a.quirks.styleParser.parseColor("background-color:"+(e.color||e),"background-color"))e=(1===e[3]?"rgb("+[e[0],e[1],e[2]].join(", "):"rgba("+e.join(", "))+")",a.commands.formatInline.exec(h,b,{styleProperty:"backgroundColor",styleValue:e})},state:function(h,b,e){e=e?a.quirks.styleParser.parseColor("background-color:"+(e.color||e),"background-color"):null;var g;e&&(g=(1===e[3]?"rgb("+[e[0],e[1],e[2]].join(", "):"rgba("+e.join(", "))+")");
return a.commands.formatInline.state(h,b,{styleProperty:"backgroundColor",styleValue:g})},remove:function(h,b){return a.commands.formatInline.remove(h,b,{styleProperty:"backgroundColor"})},stateValue:function(h,b,e){h=this.state(h,b);b=!1;h&&a.lang.object(h).isArray()&&(h=h[0]);return h&&(h=h.getAttribute("style"))?(b=a.quirks.styleParser.parseColor(h,"background-color"),a.quirks.styleParser.unparseColor(b,e)):!1}}})(wysihtml5);
(function(a){function h(a,b){return 3===a.nodeType?a:a.childNodes[b]||a}function b(a){return a&&1===a.nodeType&&"BR"===a.nodeName}function e(a){return a&&1===a.nodeType&&a.classList.contains("rangySelectionBoundary")}function g(a,e){return b(a)||a&&1===a.nodeType&&"block"===e.win.getComputedStyle(a).display}function f(b,e){a.dom.removeInvisibleSpaces(b.element);for(var f=b.element,g=f.querySelectorAll("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"),h=b.config.classNames.uneditableContainer+[""].concat("h1; h2; h3; h4; h5; h6; p; pre; div; blockquote".split(";")).join(", "+
b.config.classNames.uneditableContainer+" "),f=f.querySelectorAll(h),g=a.lang.array(g).without(f),h=g.length;h--;)""!==g[h].innerHTML.replace(/[\uFEFF]/g,"")||0!==e.length&&g[h]===e[e.length-1]||(f=a.lang.array(e).indexOf(g[h]),-1<f&&e.splice(f,1),g[h].parentNode.removeChild(g[h]));return e}function l(a,b,e){for(var f=null;a&&b&&a!==b;)1===a.nodeType&&a.matches(e?"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote":"h1, h2, h3, h4, h5, h6, p, pre")&&(f=a),a=a.parentNode;return f}function k(b,e,f){b||
(b=f.doc.createElement(e.nodeName||(f.config.useLineBreaks?"DIV":"P")),b.appendChild(f.doc.createTextNode(a.INVISIBLE_SPACE)));e.nodeName&&b.nodeName!==e.nodeName&&(b=z.renameElement(b,e.nodeName));e.classRegExp&&(b.className=b.className.replace(e.classRegExp,""));e.className&&b.classList.add(e.className);e.styleProperty&&"undefined"!==typeof e.styleValue&&(b.style[a.browser.fixStyleKey(e.styleProperty)]=e.styleValue);return b}function n(b){b=b.querySelectorAll("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote")||
[];for(var e,f=b.length;f--;)e=a.dom.domNode(b[f]).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),a.dom.domNode(b[f]).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),e&&1!==e.nodeType&&"BR"!==e.nodeName&&""!==(b[f].innerHTML||b[f].nodeValue||"").trim()&&b[f].parentNode.insertBefore(b[f].ownerDocument.createElement("BR"),e),e&&1!==e.nodeType&&"BR"!==e.nodeName&&""!==(b[f].innerHTML||b[f].nodeValue||"").trim()&&b[f].parentNode.insertBefore(b[f].ownerDocument.createElement("BR"),e),a.dom.unwrap(b[f])}function m(b){for(var e=
[],f,g,h,k,l,m,n=0,r=b.length;n<r;n++){1===b[n].startContainer.nodeType&&b[n].startContainer.matches("ul, ol")&&b[n].setStart(b[n].startContainer.childNodes[b[n].startOffset],0);1===b[n].endContainer.nodeType&&b[n].endContainer.matches("ul, ol")&&(m=b[n].endContainer.childNodes[Math.max(b[n].endOffset-1,0)],m.childNodes&&b[n].setEnd(m,m.childNodes.length));f=b[n].getNodes([1],function(a){return"LI"===a.nodeName});if(0<f.length)for(g=0,h=f.length;g<h;g++){l=b[n].compareNode(f[g]);if(l===b[n].NODE_AFTER||
l===b[n].NODE_INSIDE)k=b[n].cloneRange(),(m=a.dom.domNode(f[g]).prev({nodeTypes:[1]}))?k.setEnd(m,m.childNodes.length):f[g].closest("ul, ol")?k.setEndBefore(f[g].closest("ul, ol")):k.setEndBefore(f[g]),e.push(k),b[n].setStart(f[g],0);if(l===b[n].NODE_BEFORE||l===b[n].NODE_INSIDE)k=b[n].cloneRange(),k.setEnd(f[g],f[g].childNodes.length),e.push(k),(m=a.dom.domNode(f[g]).next({nodeTypes:[1]}))?b[n].setStart(m,0):f[g].closest("ul, ol")?b[n].setStartAfter(f[g].closest("ul, ol")):b[n].setStartAfter(f[g])}e.push(b[n])}return e}
function p(b,e,f,h){var k,m,n=e.startContainer;if(h=h||l(n,f.element,!0))e=b.firstChild,m=b.lastChild,f.selection.splitElementAtCaret(h,b),k=a.dom.domNode(m).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),b=a.dom.domNode(e).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),e&&!g(e,f)&&b&&!g(b,f)&&e.parentNode.insertBefore(f.doc.createElement("br"),e),m&&!g(m,f)&&k&&!g(k,f)&&k.parentNode.insertBefore(f.doc.createElement("br"),k);else{h=f.element;for(var r=n,n=null,p;r&&h&&r!==h;)1===r.nodeType&&r.matches("b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u")&&
(k=r,null===n?m=n=r.cloneNode(!1):(p=r.cloneNode(!1),p.appendChild(n),n=p)),r=r.parentNode;if((h=n)&&m&&k){if(1===b.childNodes.length){for(;b.firstChild.firstChild;)m.appendChild(b.firstChild.firstChild);b.firstChild.appendChild(h)}f.selection.splitElementAtCaret(k,b)}else f=b.firstChild,m=b.lastChild,e.insertNode(b),e.setStartBefore(f),e.setEndAfter(m)}}function q(b,e,f){b=b.cloneRange();var k=h(b.startContainer,b.startOffset).previousSibling,l=h(b.endContainer,b.endOffset).nextSibling,m=b.extractContents();
e=f.doc.createDocumentFragment();for(var r;m.firstChild;)if(1===m.firstChild.nodeType&&m.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote")){n(m.firstChild);r=a.dom.unwrap(m.firstChild);0<r.length&&(e.lastChild&&(1!==e.lastChild.nodeType||!g(e.lastChild,f))||!e.lastChild&&k&&(1!==k.nodeType||g(k,f)))&&e.appendChild(f.doc.createElement("BR"));for(var q=0,t=r.length;q<t;q++)e.appendChild(r[q]);0<r.length&&(1===e.lastChild.nodeType&&g(e.lastChild,f)||(l||e.lastChild!==m.lastChild)&&
e.appendChild(f.doc.createElement("BR")))}else e.appendChild(m.firstChild);k=a.lang.array(e.childNodes).get();p(e,b,f);return k}function r(e,f,g,m){var r=f?{nodeName:f.nodeName||null,className:f.classRegExp?null:f.className||null,classRegExp:f.classRegExp||null,styleProperty:f.styleProperty||null}:null;e=e.cloneRange();var q=e.startContainer,t=h(e.startContainer,e.startOffset),v=h(e.endContainer,e.endOffset),y;if(y=e.startContainer===t&&3===t.nodeType)y=t.data?t.data.slice(0,e.startOffset):"",y=!/^\s*$/.test(y);
var t=y?t:a.dom.domNode(t).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),v=1===e.endContainer.nodeType&&e.endContainer.childNodes[e.endOffset]===v&&(1===v.nodeType||!B(v,e.endOffset)&&!a.dom.domNode(v).is.rangyBookmark())||e.endContainer===v&&3===v.nodeType&&!B(v,e.endOffset)?v:a.dom.domNode(v).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),x=e.extractContents();y=m.doc.createDocumentFragment();var r=r?a.dom.getParentElement(q,r,null,m.element):null,z=!g||!f||"BLOCKQUOTE"===f.nodeName&&"BLOCKQUOTE"===
g,q=r||l(q,m.element,z);a.dom.domNode(v).is.rangyBookmark()&&(v=v.nextSibling);if(x){for(;x.firstChild&&3===x.firstChild.nodeType&&/^\s*$/.test(x.firstChild.data)&&x.lastChild!==x.firstChild;)x.removeChild(x.firstChild);for(;x.lastChild&&3===x.lastChild.nodeType&&/^\s*$/.test(x.lastChild.data)&&x.lastChild!==x.firstChild;)x.removeChild(x.lastChild);x.firstChild&&1===x.firstChild.nodeType&&"BR"===x.firstChild.nodeName&&x.lastChild!==x.firstChild&&x.removeChild(x.firstChild);x.lastChild&&1===x.lastChild.nodeType&&
"BR"===x.lastChild.nodeName&&x.lastChild!==x.firstChild&&x.removeChild(x.lastChild)}if(f&&"BLOCKQUOTE"===f.nodeName)f=k(null,f,m),f.appendChild(x),y.appendChild(f),f=[f];else{if(x.firstChild)for(;x.firstChild;)if(1==x.firstChild.nodeType&&x.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"))k(x.firstChild,f,m),x.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre")&&n(x.firstChild),y.appendChild(x.firstChild);else{var r=g,z=m,R=f?a.lang.object(f).clone(!0):null;R&&(R.nodeName=R.nodeName||
r||(z.config.useLineBreaks?"DIV":"P"));for(r=k(null,R,m);x.firstChild&&(1!==x.firstChild.nodeType||!x.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"));)1==x.firstChild.nodeType&&r.matches("h1, h2, h3, h4, h5, h6, p, pre")&&n(x.firstChild),r.appendChild(x.firstChild);y.appendChild(r)}else y.appendChild(k(null,f,m));f=a.lang.array(y.childNodes).get()}p(y,e,m,q);e=v;g=t&&a.dom.domNode(t).prev({nodeTypes:[1,3],ignoreBlankTexts:!0});b(e)&&e.parentNode.removeChild(e);!b(t)||g&&1===
g.nodeType&&"block"===m.win.getComputedStyle(g).display||t.parentNode.removeChild(t);0<f.length&&("undefined"===typeof f[f.length-1].lastChild||a.dom.domNode(f[f.length-1].lastChild).is.rangyBookmark())&&f[f.length-1].appendChild(m.doc.createElement("br"));return f}function t(b,e){var f=a.dom.getParentElement(b.selection.getOwnRanges()[0].startContainer,{query:"h1, h2, h3, h4, h5, h6, p, pre, "+(e?e.toLowerCase():"div")},null,b.element),g;f?(g=b.selection.createRange(),g.selectNode(f),b.selection.setSelection(g)):
b.isEmpty()||b.selection.selectLine()}function v(a,b){var e=b.selection.createRange(),f=a[a.length-1],g=1===f.nodeType&&f.childNodes?f.childNodes.length|0:f.length||0;e.setStart(a[0],0);e.setEnd(f,g);e.select()}function x(b,e,f){for(var g=e.selection.getOwnRanges(),h=[],k,g=m(g),l=g.length;l--;){k=g[l];var n=e,p=void 0,p=k.startContainer,t=k.endContainer;p&&1===p.nodeType&&p===t?p.firstChild===p.lastChild&&1===k.endOffset&&p!==n.element&&"LI"!==p.nodeName&&"TD"!==p.nodeName&&(k.setStartBefore(p),
k.setEndAfter(t)):p&&1===p.nodeType&&3===t.nodeType?p.firstChild===t&&k.endOffset===t.data.length&&p!==n.element&&"LI"!==p.nodeName&&"TD"!==p.nodeName&&k.setEndAfter(p):t&&1===t.nodeType&&3===p.nodeType?t.firstChild===p&&0===k.startOffset&&t!==n.element&&"LI"!==t.nodeName&&"TD"!==t.nodeName&&k.setStartBefore(t):p&&3===p.nodeType&&p===t&&1===p.parentNode.childNodes.length&&k.endOffset==t.data.length&&0===k.startOffset&&(p=p.parentNode,p!==n.element&&"LI"!==p.nodeName&&"TD"!==p.nodeName&&(k.setStartBefore(p),
k.setEndAfter(p)));k=(k=a.dom.getParentElement(g[l].startContainer,{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},null,e.element))?k.nodeName:null;h="remove"===b?h.concat(q(g[l],k,e)):h.concat(r(g[l],f,k,e))}return h}function y(a){"string"===typeof a&&(a={nodeName:a.toUpperCase()});return a}var z=a.dom,B=function(a,b){var e=a.data?a.data.slice(b):"";return/^\s*$/.test(e)};a.commands.formatBlock={exec:function(g,h,k){k=y(k);var l=[],m,n;k&&k.toggle&&(n=this.state(g,h,k));if(n){m=rangy.saveSelection(g.win);
h=0;for(var r=n.length;h<r;h++){var p=n[h],q=k,B=g,L=void 0,R=p.previousSibling,P=p.nextSibling,X=!1;q.styleProperty&&(p.style[a.browser.fixStyleKey(q.styleProperty)]="");q.className&&p.classList.remove(q.className);q.classRegExp&&(p.className=p.className.replace(q.classRegExp,""));null!==p.getAttribute("class")&&""===p.getAttribute("class").trim()&&p.removeAttribute("class");q.nodeName&&p.nodeName.toLowerCase()===q.nodeName.toLowerCase()&&((L=p.getAttribute("style"))&&""!==L.trim()?p=z.renameElement(p,
B.config.useLineBreaks?"DIV":"P"):(z.unwrap(p),X=!0));null!==p.getAttribute("style")&&""===p.getAttribute("style").trim()&&p.removeAttribute("style");X&&((p=R)&&e(p)&&(p=p.previousSibling),P&&e(P)&&(P=P.nextSibling),p&&(1!==p.nodeType||"block"!==B.win.getComputedStyle(p).display&&!b(p))&&p.parentNode&&p.parentNode.insertBefore(B.doc.createElement("br"),p.nextSibling),P&&(1!==P.nodeType||"block"!==B.win.getComputedStyle(P).display)&&P.parentNode&&P.parentNode.insertBefore(B.doc.createElement("br"),
P))}}else{if(g.selection.isCollapsed()){m=rangy.saveSelection(g.win);a:{if(g.selection.isCollapsed()&&(l=g.selection.getNodesNearCaret())&&l.caretNode&&(a.dom.domNode(l.caretNode).is.lineBreak()||3===l.caretNode.nodeType&&0===l.textOffset&&(!l.prevNode||a.dom.domNode(l.prevNode).is.lineBreak())||1===l.caretNode.nodeType&&l.caretNode.classList.contains("rangySelectionBoundary")&&(!l.prevNode||a.dom.domNode(l.prevNode).is.lineBreak()||a.dom.domNode(l.prevNode).is.block())&&(!l.nextNode||a.dom.domNode(l.nextNode).is.lineBreak()||
a.dom.domNode(l.nextNode).is.block()))){l=!0;break a}l=!1}l?g.selection.selectLine():t(g,k&&k.nodeName?k.nodeName.toUpperCase():void 0)}l=k?x("apply",g,k):x("remove",g)}l=f(g,l);m?rangy.restoreSelection(m):v(l,g)},remove:function(a,b,e){e=y(e);var g;a.selection.isCollapsed()&&(g=rangy.saveSelection(a.win),t(a,e&&e.nodeName?e.nodeName.toUpperCase():void 0));b=x("remove",a);b=f(a,b);g?rangy.restoreSelection(g):v(b,a)},state:function(b,e,f){f=y(f);e=b.selection.filterElements(function(b){return a.dom.domNode(b).test(f||
{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"})}.bind(this));for(var g=b.selection.getSelectedOwnNodes(),h,k=0,l=g.length;k<l;k++)(h=z.getParentElement(g[k],f||{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},null,b.element))&&-1===e.indexOf(h)&&e.push(h);return 0===e.length?!1:e}}})(wysihtml5);
(function(a){a.commands.formatCode={exec:function(h,b,e){var g=this.state(h)[0],f,l;g?h.selection.executeAndRestore(function(){f=g.querySelector("code");a.dom.replaceWithChildNodes(g);f&&a.dom.replaceWithChildNodes(f)}):(b=h.selection.getRange(),l=b.extractContents(),g=h.doc.createElement("pre"),f=h.doc.createElement("code"),e&&(f.className=e),g.appendChild(f),f.appendChild(l),b.insertNode(g),h.selection.selectNode(g))},state:function(h){return(h=h.selection.getSelectedNode())&&h.nodeName&&"PRE"==
h.nodeName&&h.firstChild&&h.firstChild.nodeName&&"CODE"==h.firstChild.nodeName?[h]:(h=a.dom.getParentElement(h,{query:"pre code"}))?[h.parentNode]:!1}}})(wysihtml5);
(function(a){function h(a){return!a.getAttribute("style")||/^\s*$/.test(a.getAttribute("style"))}function b(b,e){var f,g;if(1!==b.nodeType||1!==e.nodeType||b.nodeName!==e.nodeName)return!1;f=b.className.trim().replace(/\s+/g," ").split(" ");g=e.className.trim().replace(/\s+/g," ").split(" ");if(0<a.lang.array(f).without(g).length)return!1;f=a.dom.getAttributes(b);g=a.dom.getAttributes(e);return f.length===g.length&&a.lang.object(a.lang.object(f).difference(g)).isEmpty()?!0:!1}function e(b,e){var f=
b.ownerDocument.createElement(e&&e.nodeName||"SPAN");e.classRegExp&&(f.className=f.className.replace(e.classRegExp,""));e.className&&f.classList.add(e.className);e.styleProperty&&"undefined"!==typeof e.styleValue&&(f.style[a.browser.fixStyleKey(e.styleProperty)]=e.styleValue);if(e.attribute)if("object"===typeof e.attribute)for(var g in e.attribute)e.attribute.hasOwnProperty(g)&&f.setAttribute(g,e.attribute[g]);else"undefined"!==typeof e.attributeValue&&f.setAttribute(e.attribute,e.attributeValue);
return f}function g(b,e){var f,g;e.className&&(!1!==e.toggle&&b.classList.contains(e.className)?b.classList.remove(e.className):(e.classRegExp&&(b.className=b.className.replace(e.classRegExp,"")),b.classList.add(e.className)),/^\s*$/.test(b.className)&&b.removeAttribute("class"));e.styleProperty&&(!1!==e.toggle&&b.style[a.browser.fixStyleKey(e.styleProperty)].trim().replace(/, /g,",")===e.styleValue?b.style[a.browser.fixStyleKey(e.styleProperty)]="":b.style[a.browser.fixStyleKey(e.styleProperty)]=
e.styleValue);h(b)&&b.removeAttribute("style");if(e.attribute){"object"===typeof e.attribute?f=e.attribute:(f={},f[e.attribute]=e.attributeValue||"");var k=e.toggle,l=a.dom.getAttributes(b),m;a:{for(m in f)if(f.hasOwnProperty(m)&&(void 0===typeof l[m]||l[m]!==f[m])){m=!1;break a}m=!0}a.lang.object(l).difference(f);if(m&&!1!==k)for(g in f)f.hasOwnProperty(g)&&b.removeAttribute(g);else for(g in f)f.hasOwnProperty(g)&&b.setAttribute(g,f[g])}g=(g=e.nodeName?E[e.nodeName.toLowerCase()]||e.nodeName.toLowerCase():
null)?a.dom.domNode(b).test({query:g}):!1;if(!e.nodeName||"SPAN"===e.nodeName||g){if(g=(!1!==e.toggle&&g||!e.nodeName&&"SPAN"===b.nodeName)&&/^\s*$/.test(b.className)&&h(b))g=a.dom.getAttributes(b),g=a.lang.object(g).isEmpty();g&&a.dom.unwrap(b)}}function f(b,e){var f=[];b.isCollapsed()||(f=f.concat(b.getOwnNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()},e)));return f}function l(b,e,f,g){e=g?e:{nodeName:e.nodeName||null,className:e.classRegExp?null:e.className||null,classRegExp:e.classRegExp||
null,styleProperty:e.styleProperty||null};do{if(g=1===b.nodeType){g=b;var h=e,k=void 0;h.nodeName?(h=E[h.nodeName.toLowerCase()]||h.nodeName.toLowerCase(),g=a.dom.domNode(g).test({query:h})):(k=a.lang.object(h).clone(),k.query="b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u",g=a.dom.domNode(g).test(k))}if(g)return b;b=b.parentNode}while(b&&b!==f);return null}function k(b,e){var f=document.documentElement||
document.body,g=f.scrollTop,h=f.scrollLeft;rangy.getSelection(b.win);rangy.getSelection(b.win).removeAllRanges();try{rangy.getSelection(b.win).addRange(e)}catch(k){}b.doc.activeElement&&a.dom.contains(b.element,b.doc.activeElement)||(b.element.focus(),f.scrollTop=g,f.scrollLeft=h,rangy.getSelection(b.win).addRange(e))}function n(a,b){var e=rangy.createRange(b.doc),f=a[a.length-1];a[0]&&f&&(e.setStart(a[0],0),e.setEnd(f,f.length),k(b,e))}function m(a,b,e,f){var g=rangy.createRange(a.doc);b&&(g.setStart(b,
e),g.setEnd(b,"undefined"!==typeof f?f:e),k(a,g))}function p(a,b,e){var g=f(a.selection),h=[],k=!1,m;if(a.selection.isInThisEditable()){if(0===g.length&&a.selection.isCollapsed()){m=a.selection.getSelection().anchorNode;if(!m)return{nodes:[],partial:!1};3===m.nodeType&&(g=[m])}g.length||(m=a.selection.getOwnRanges()[0])&&(g=[m.endContainer]);for(var n=0,r=g.length;n<r;n++)(m=l(g[n],b,a.element,e))?h.push(m):k=!0}return{nodes:h,partial:k}}function q(a){var b,e;return a&&(b=a.anchorNode,e=a.anchorOffset,
b&&3===b.nodeType&&0<e&&e<b.data.length)?(a=b.data[e-1],b=b.data[e],/\w/.test(a)&&/\w/.test(b)):!1}function r(b){var e,f,g,h;e=[];if(b&&(e=b.anchorNode,b=g=h=b.anchorOffset,f=e.ownerDocument,f=rangy.createRange(f),e&&3===e.nodeType)){for(;0<g&&/\w/.test(e.data[g-1]);)g--;for(;h<e.data.length&&/\w/.test(e.data[h]);)h++;f.setStartAndEnd(e,g,h);f.splitBoundaries();e=f.getNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()});return{wordOffset:b-g,range:f,textNode:e[0]}}return!1}function t(a){for(var e=
a.length;e--;)if(a[e]&&a[e].parentNode){if(a[e].nextSibling&&b(a[e],a[e].nextSibling)){for(var f=a[e],g=a[e].nextSibling;g.firstChild;)f.appendChild(g.firstChild);g.parentNode.removeChild(g)}if(a[e].previousSibling&&b(a[e],a[e].previousSibling)){f=a[e].previousSibling;for(g=a[e];g.firstChild;)f.appendChild(g.firstChild);g.parentNode.removeChild(g)}}}function v(a,b,e){0<b.length&&n(b,a);t(p(a,e).nodes);0<b.length&&n(b,a)}function x(a,b,e,f){m(a,b,e);t(p(a,f).nodes);m(a,b,e)}function y(a,b){var f=e(a,
b);a.parentNode.insertBefore(f,a);f.appendChild(a)}function z(b,e,f){e=l(b,f,e.element);var h;e&&(h=e.cloneNode(!1),a.dom.domNode(b).escapeParent(e,h),g(h,f))}function B(a){a="string"===typeof a?{nodeName:a}:a;a.nodeName&&(a.nodeName=a.nodeName.toUpperCase());return a}var E={b:"b, strong",strong:"b, strong",em:"em, i",i:"em, i"};a.commands.formatInline={exec:function(b,h,k){k=B(k);b.element.normalize();h=f(b.selection,!0);var m=p(b,k);if(0<m.nodes.length){var n=p(b,k,!0),t=b.selection.getSelection();
if(h.length){if(n.partial||!1===k.toggle)for(n=h.length;n--;)l(h[n],k,b.element)&&z(h[n],b,k),l(h[n],k,b.element)||y(h[n],k);else for(n=h.length;n--;)z(h[n],b,k);v(b,h,k)}else if(!1!==k.toggle)if(q(t))h=r(t),z(h.textNode,b,k),x(b,h.textNode,h.wordOffset,k);else{if(h=b.doc.createTextNode(a.INVISIBLE_SPACE),n=m.nodes[0].cloneNode(!1),n.appendChild(h),b.selection.splitElementAtCaret(m.nodes[0],n),g(n,k),v(b,[h],k),h=b.selection.getSelection(),h.anchorNode&&h.focusNode)try{h.collapseToEnd()}catch(E){}}else for(n=
m.nodes.length;n--;)g(m.nodes[n],k)}else if(m=k,k=b.selection.getSelection(),h.length){for(k=h.length;k--;)y(h[k],m);v(b,h,m)}else if(q(k))h=r(k),y(h.textNode,m),x(b,h.textNode,h.wordOffset,m);else if(h=b.selection.getOwnRanges()[0])m=e(h.endContainer,m),h.surroundContents(m),b.selection.selectNode(m);b.element.normalize()},remove:function(b,e,g){g=B(g);b.element.normalize();e=f(b.selection,!0);var h=p(b,g);if(0<h.nodes.length){var k,m;m=b.selection.getSelection();if(e.length){for(m=e.length;m--;)h=
e[m],(k=l(h,g,b.element))&&a.dom.domNode(h).escapeParent(k);v(b,e,g)}else{e=m.anchorNode;k=m.anchorOffset;for(m=h.nodes.length;m--;)a.dom.unwrap(h.nodes[m]);x(b,e,k,g)}}b.element.normalize()},state:function(a,b,e){e=B(e);a=p(a,e,!0).nodes;return 0===a.length?!1:a}}})(wysihtml5);
(function(a){var h={nodeName:"BLOCKQUOTE",toggle:!0};a.commands.insertBlockQuote={exec:function(b,e){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,e){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);(function(a){a.commands.insertHTML={exec:function(a,b,e){a.selection.insertHTML(e)},state:function(){return!1}}})(wysihtml5);
(function(a){a.commands.insertImage={exec:function(h,b,e){e="object"===typeof e?e:{src:e};var g=h.doc;if((b=this.state(h))&&!e.src)h.selection.setBefore(b),e=b.parentNode,e.removeChild(b),a.dom.removeEmptyTextNodes(e),"A"!==e.nodeName||e.firstChild||(h.selection.setAfter(e),e.parentNode.removeChild(e)),a.quirks.redraw(h.element);else if(b)for(var f in e)e.hasOwnProperty(f)&&b.setAttribute("className"===f?"class":f,e[f]);else{b=g.createElement("IMG");for(var l in e)b.setAttribute("className"===l?"class":
l,e[l]);h.selection.insertNode(b);a.browser.hasProblemsSettingCaretAfterImg()?(e=g.createTextNode(a.INVISIBLE_SPACE),h.selection.insertNode(e),h.selection.setAfter(e)):h.selection.setAfter(b)}},state:function(h){var b;if(!a.dom.hasElementWithTagName(h.doc,"IMG"))return!1;b=h.selection.getSelectedNode();if(!b)return!1;if("IMG"===b.nodeName)return b;if(b.nodeType!==a.ELEMENT_NODE)return!1;b=h.selection.getText();if(b=a.lang.string(b).trim())return!1;h=h.selection.getNodes(a.ELEMENT_NODE,function(a){return"IMG"===
a.nodeName});return 1!==h.length?!1:h[0]}}})(wysihtml5);(function(a){var h="<br>"+(a.browser.needsSpaceAfterLineBreak()?" ":"");a.commands.insertLineBreak={exec:function(a,e){a.selection.insertHTML(h)},state:function(){return!1}}})(wysihtml5);(function(a){a.commands.insertOrderedList={exec:function(h,b){a.commands.insertList.exec(h,b,"OL")},state:function(h,b){return a.commands.insertList.state(h,b,"OL")}}})(wysihtml5);
(function(a){a.commands.insertUnorderedList={exec:function(h,b){a.commands.insertList.exec(h,b,"UL")},state:function(h,b){return a.commands.insertList.state(h,b,"UL")}}})(wysihtml5);
wysihtml5.commands.insertList=function(a){var h=function(a,b){if(a&&a.nodeName){"string"===typeof b&&(b=[b]);for(var e=b.length;e--;)if(a.nodeName===b[e])return!0}return!1},b=function(b,e,f){var g={el:null,other:!1};if(b){var p=a.dom.getParentElement(b,{query:"li"},!1,f.element),q="UL"===e?"OL":"UL";h(b,e)?g.el=b:h(b,q)?g={el:b,other:!0}:p&&(h(p.parentNode,e)?g.el=p.parentNode:h(p.parentNode,q)&&(g={el:p.parentNode,other:!0}))}g.el&&!f.element.contains(g.el)&&(g.el=null);return g},e=function(b,e,
g){var h="UL"===e?"OL":"UL",p,q;g.selection.executeAndRestoreRangy(function(){p=f(h,g);if(p.length)for(var r=p.length;r--;)a.dom.renameElement(p[r],e.toLowerCase());else{q=f(["OL","UL"],g);for(r=q.length;r--;)a.dom.resolveList(q[r],g.config.useLineBreaks);0===q.length&&a.dom.resolveList(b,g.config.useLineBreaks)}})},g=function(b,e,g){var h="UL"===e?"OL":"UL";g.selection.executeAndRestoreRangy(function(){for(var p=[b].concat(f(h,g)),q=p.length;q--;)a.dom.renameElement(p[q],e.toLowerCase())})},f=function(a,
b){for(var e=b.selection.getOwnRanges(),f=[],g=e.length;g--;)f=f.concat(e[g].getNodes([1],function(b){return h(b,a)}));return f};return{exec:function(f,h,n){h=f.doc;var m="OL"===n?"insertOrderedList":"insertUnorderedList",p=f.selection.getSelection(),q=1===p.anchorNode.nodeType&&p.anchorNode.firstChild?p.anchorNode.childNodes[p.anchorOffset]:p.anchorNode,r=1===p.focusNode.nodeType&&p.focusNode.firstChild?p.focusNode.childNodes[p.focusOffset]||p.focusNode.lastChild:p.focusNode;p.isBackwards()&&(q=
[r,r=q][0]);a.dom.domNode(r).is.emptyTextNode(!0)&&r&&(r=a.dom.domNode(r).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}));a.dom.domNode(q).is.emptyTextNode(!0)&&q&&(q=a.dom.domNode(q).next({nodeTypes:[1,3],ignoreBlankTexts:!0}));p=q&&r?q===r?q:a.dom.domNode(q).commonAncestor(r,f.element):f.selection.getSelectedNode();p=b(p,n,f);p.el?p.other?g(p.el,n,f):e(p.el,n,f):f.commands.support(m)?h.execCommand(m,!1,null):(h=rangy.saveSelection(f.win),m="_wysihtml5-temp-"+(new Date).getTime(),f.commands.exec("formatBlock",
{nodeName:"div",className:m}),p=f.element.querySelector("."+m),p.innerHTML=p.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,""),p&&(m=/^(\s|(<br>))+$/i.test(p.innerHTML),n=a.dom.convertToList(p,n.toLowerCase(),f.parent.config.classNames.uneditableContainer),h&&rangy.restoreSelection(h),m&&f.selection.selectNode(n.querySelector("li"),!0)))},state:function(a,e,f){e=a.selection.getSelectedNode();a=b(e,f,a);return a.el&&!a.other?a.el:!1}}}(wysihtml5);
(function(a){var h={nodeName:"I",toggle:!0};a.commands.italic={exec:function(b,e){a.commands.formatInline.exec(b,e,h)},state:function(b,e){return a.commands.formatInline.state(b,e,h)}}})(wysihtml5);(function(a){var h={className:"wysiwyg-text-align-center",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyCenter={exec:function(b,e){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,e){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={className:"wysiwyg-text-align-left",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyLeft={exec:function(b,e){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,e){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={className:"wysiwyg-text-align-right",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyRight={exec:function(b,e){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,e){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={className:"wysiwyg-text-align-justify",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyFull={exec:function(b,e){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,e){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"right",toggle:!0};a.commands.alignRightStyle={exec:function(b,e){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,e){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"left",toggle:!0};a.commands.alignLeftStyle={exec:function(b,e){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,e){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"center",toggle:!0};a.commands.alignCenterStyle={exec:function(b,e){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,e){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"justify",toggle:!0};a.commands.alignJustifyStyle={exec:function(b,e){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,e){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);(function(a){a.commands.redo={exec:function(a){return a.undoManager.redo()},state:function(a){return!1}}})(wysihtml5);
(function(a){var h={nodeName:"U",toggle:!0};a.commands.underline={exec:function(b,e){a.commands.formatInline.exec(b,e,h)},state:function(b,e){return a.commands.formatInline.state(b,e,h)}}})(wysihtml5);(function(a){a.commands.undo={exec:function(a){return a.undoManager.undo()},state:function(a){return!1}}})(wysihtml5);
(function(a){a.commands.createTable={exec:function(a,b,e){var g,f;if(e&&e.cols&&e.rows&&0<parseInt(e.cols,10)&&0<parseInt(e.rows,10)){f=e.tableStyle?'<table style="'+e.tableStyle+'">':"<table>";f+="<tbody>";for(g=0;g<e.rows;g++){f+="<tr>";for(b=0;b<e.cols;b++)f+="<td><br></td>";f+="</tr>"}a.commands.exec("insertHTML",f+"</tbody></table>")}},state:function(a,b){return!1}}})(wysihtml5);
(function(a){a.commands.mergeTableCells={exec:function(h,b){h.tableSelection&&h.tableSelection.start&&h.tableSelection.end&&(this.state(h,b)?a.dom.table.unmergeCell(h.tableSelection.start):a.dom.table.mergeCellsBetween(h.tableSelection.start,h.tableSelection.end))},state:function(h,b){if(h.tableSelection){var e=h.tableSelection.start,g=h.tableSelection.end;if(e&&g&&e==g&&(a.dom.getAttribute(e,"colspan")&&1<parseInt(a.dom.getAttribute(e,"colspan"),10)||a.dom.getAttribute(e,"rowspan")&&1<parseInt(a.dom.getAttribute(e,
"rowspan"),10)))return[e]}return!1}}})(wysihtml5);(function(a){a.commands.addTableCells={exec:function(h,b,e){if(h.tableSelection&&h.tableSelection.start&&h.tableSelection.end){var g=a.dom.table.orderSelectionEnds(h.tableSelection.start,h.tableSelection.end);"before"==e||"above"==e?a.dom.table.addCells(g.start,e):"after"!=e&&"below"!=e||a.dom.table.addCells(g.end,e);setTimeout(function(){h.tableSelection.select(g.start,g.end)},0)}},state:function(a,b){return!1}}})(wysihtml5);
(function(a){a.commands.deleteTableCells={exec:function(h,b,e){if(h.tableSelection&&h.tableSelection.start&&h.tableSelection.end){b=a.dom.table.orderSelectionEnds(h.tableSelection.start,h.tableSelection.end);var g=a.dom.table.indexOf(b.start),f,l=h.tableSelection.table;a.dom.table.removeCells(b.start,e);setTimeout(function(){f=a.dom.table.findCell(l,g);f||("row"==e&&(f=a.dom.table.findCell(l,{row:g.row-1,col:g.col})),"column"==e&&(f=a.dom.table.findCell(l,{row:g.row,col:g.col-1})));f&&h.tableSelection.select(f,
f)},0)}},state:function(a,b){return!1}}})(wysihtml5);
(function(a){a.commands.indentList={exec:function(a,b,e){return(b=a.selection.getSelectionParentsByTag("LI"))?this.tryToPushLiLevel(b,a.selection):!1},state:function(a,b){return!1},tryToPushLiLevel:function(h,b){var e,g,f,l,k,n=!1;b.executeAndRestoreRangy(function(){for(var b=h.length;b--;)l=h[b],e="OL"===l.parentNode.nodeName?"OL":"UL",g=l.ownerDocument.createElement(e),k=(f=a.dom.domNode(l).prev({nodeTypes:[a.ELEMENT_NODE]}))?f.querySelector("ul, ol"):null,f&&(k?k.appendChild(l):(g.appendChild(l),
f.appendChild(g)),n=!0)});return n}}})(wysihtml5);
(function(a){a.commands.outdentList={exec:function(a,b,e){return(b=a.selection.getSelectionParentsByTag("LI"))?this.tryToPullLiLevel(b,a):!1},state:function(a,b){return!1},tryToPullLiLevel:function(h,b){var e,g,f,l,k,n=!1,m=this;b.selection.executeAndRestoreRangy(function(){for(var p=h.length;p--;)if(l=h[p],l.parentNode&&(e=l.parentNode,"OL"===e.tagName||"UL"===e.tagName)){n=!0;g=a.dom.getParentElement(e.parentNode,{query:"ol, ul"},!1,b.element);f=a.dom.getParentElement(e.parentNode,{query:"li"},
!1,b.element);if(g&&f)l.nextSibling&&(k=m.getAfterList(e,l),l.appendChild(k)),g.insertBefore(l,f.nextSibling);else{l.nextSibling&&(k=m.getAfterList(e,l),l.appendChild(k));for(var q=l.childNodes.length;q--;)e.parentNode.insertBefore(l.childNodes[q],e.nextSibling);e.parentNode.insertBefore(document.createElement("br"),e.nextSibling);l.parentNode.removeChild(l)}0===e.childNodes.length&&e.parentNode.removeChild(e)}});return n},getAfterList:function(a,b){for(var e=document.createElement(a.nodeName);b.nextSibling;)e.appendChild(b.nextSibling);
return e}}})(wysihtml5);(function(a){var h={nodeName:"SUB",toggle:!0};a.commands.subscript={exec:function(b,e){a.commands.formatInline.exec(b,e,h)},state:function(b,e){return a.commands.formatInline.state(b,e,h)}}})(wysihtml5);(function(a){var h={nodeName:"SUP",toggle:!0};a.commands.superscript={exec:function(b,e){a.commands.formatInline.exec(b,e,h)},state:function(b,e){return a.commands.formatInline.state(b,e,h)}}})(wysihtml5);
(function(a){var h=a.dom;a.UndoManager=a.lang.Dispatcher.extend({constructor:function(a){this.editor=a;this.composer=a.composer;this.element=this.composer.element;this.position=0;this.historyStr=[];this.historyDom=[];this.transact();this._observe()},_observe:function(){var a=this;this.composer.sandbox.getDocument();var e;h.observe(this.element,"keydown",function(e){if(!e.altKey&&(e.ctrlKey||e.metaKey)){var f=e.keyCode,h=90===f&&e.shiftKey||89===f;90!==f||e.shiftKey?h&&(a.redo(),e.preventDefault()):
(a.undo(),e.preventDefault())}});h.observe(this.element,"keydown",function(g){g=g.keyCode;g!==e&&(e=g,8!==g&&46!==g||a.transact())});this.editor.on("newword:composer",function(){a.transact()}).on("beforecommand:composer",function(){a.transact()})},transact:function(){var b=this.historyStr[this.position-1],e=this.composer.getValue(!1,!1),g=0<this.element.offsetWidth&&0<this.element.offsetHeight,f,h;e!==b&&(25<(this.historyStr.length=this.historyDom.length=this.position)&&(this.historyStr.shift(),this.historyDom.shift(),
this.position--),this.position++,g&&(b=(f=this.composer.selection.getRange())&&f.startContainer?f.startContainer:this.element,g=f&&f.startOffset?f.startOffset:0,b.nodeType===a.ELEMENT_NODE?f=b:(f=b.parentNode,h=this.getChildNodeIndex(f,b)),f.setAttribute("data-wysihtml5-selection-offset",g),"undefined"!==typeof h&&f.setAttribute("data-wysihtml5-selection-node",h)),h=this.element.cloneNode(!!e),this.historyDom.push(h),this.historyStr.push(e),f&&(f.removeAttribute("data-wysihtml5-selection-offset"),
f.removeAttribute("data-wysihtml5-selection-node")))},undo:function(){this.transact();this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return 1<this.position},redoPossible:function(){return this.position<this.historyStr.length},set:function(a){this.element.innerHTML="";for(var e=0,g=a.childNodes,f=a.childNodes.length;e<
f;e++)this.element.appendChild(g[e].cloneNode(!0));a.hasAttribute("data-wysihtml5-selection-offset")?(e=a.getAttribute("data-wysihtml5-selection-offset"),g=a.getAttribute("data-wysihtml5-selection-node"),a=this.element):(a=this.element.querySelector("[data-wysihtml5-selection-offset]")||this.element,e=a.getAttribute("data-wysihtml5-selection-offset"),g=a.getAttribute("data-wysihtml5-selection-node"),a.removeAttribute("data-wysihtml5-selection-offset"),a.removeAttribute("data-wysihtml5-selection-node"));
null!==g&&(a=this.getChildNodeByIndex(a,+g));this.composer.selection.set(a,e)},getChildNodeIndex:function(a,e){for(var g=0,f=a.childNodes,h=f.length;g<h;g++)if(f[g]===e)return g},getChildNodeByIndex:function(a,e){return a.childNodes[e]}})})(wysihtml5);
wysihtml5.views.View=Base.extend({constructor:function(a,h,b){this.parent=a;this.element=h;this.config=b;this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var a=this;this.parent.on("beforeload",function(){a.parent.on("change_view",function(h){h===a.name?(a.parent.currentView=a,a.show(),setTimeout(function(){a.focus()},0)):a.hide()})})},focus:function(){if(!this.element||!this.element.ownerDocument||this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element&&
this.element.focus()}catch(a){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}});
(function(a){var h=a.dom,b=a.browser;a.views.Composer=a.views.View.extend({name:"composer",constructor:function(a,b,f){this.base(a,b,f);this.config.noTextarea?this.editableArea=b:this.textarea=this.parent.textarea;this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=b.displaysCaretInEmptyContentEditableCorrectly()?"":"<br>"},getValue:function(b,g){var f=this.isEmpty()?"":a.quirks.getCorrectInnerHTML(this.element);!1!==b&&(f=this.parent.parse(f,
!1===g?!1:!0));return f},setValue:function(a,b){!1!==b&&(a=this.parent.parse(a));try{this.element.innerHTML=a}catch(f){this.element.innerText=a}},cleanUp:function(a){var b;this.selection&&this.selection.isInThisEditable()&&(b=rangy.saveSelection(this.win));this.parent.parse(this.element,void 0,a);b&&rangy.restoreSelection(b)},show:function(){this.editableArea.style.display=this._displayStyle||"";this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=
h.getStyle("display").from(this.editableArea);"none"===this._displayStyle&&(this._displayStyle=null);this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer");this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer");this.element.setAttribute("contentEditable","true")},focus:function(b){a.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear();this.base();var g=this.element.lastChild;b&&g&&this.selection&&
("BR"===g.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getScrollPos:function(){if(this.doc&&this.win){var a={};a.y="undefined"!==typeof this.win.pageYOffset?this.win.pageYOffset:(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollTop;a.x="undefined"!==typeof this.win.pageXOffset?this.win.pageXOffset:(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollLeft;return a}},setScrollPos:function(a){a&&
"undefined"!==typeof a.x&&"undefined"!==typeof a.y&&this.win.scrollTo(a.x,a.y)},getTextContent:function(){return h.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var a=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(a)||""===a||"<br>"===a||"<p></p>"===a||"<p><br></p>"===
a||this.hasPlaceholderSet()},_initContentEditableArea:function(){var a=this;this.config.noTextarea?this.sandbox=new h.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox},this.editableArea):(this.sandbox=new h.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox}),this.editableArea=this.sandbox.getContentEditable(),h.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var a=
this;this.sandbox=new h.Sandbox(function(){a._create()},{stylesheets:this.config.stylesheets,className:this.config.classNames.sandbox});this.editableArea=this.sandbox.getIframe();var b=this.textarea.element;h.insert(this.editableArea).after(b);this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var a=document.createElement("input");a.type="hidden";a.name="_wysihtml5_mode";a.value=1;h.insert(a).after(this.textarea.element)}},_create:function(){var e=this;
this.doc=this.sandbox.getDocument();this.win=this.sandbox.getWindow();this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body;this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1));this.selection=new a.Selection(this.parent,this.element,this.config.classNames.uneditableContainer);this.commands=new a.Commands(this.parent);this.config.noTextarea||h.copyAttributes("className spellcheck title lang dir accessKey".split(" ")).from(this.textarea.element).to(this.element);
this._initAutoLinking();h.addClass(this.element,this.config.classNames.composer);this.config.style&&!this.config.contentEditableMode&&this.style();this.observe();var g=this.config.name;g&&(h.addClass(this.element,g),this.config.contentEditableMode||h.addClass(this.editableArea,g));this.enable();!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();(g="string"===typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):
this.textarea.element.getAttribute("placeholder"))&&h.simulatePlaceholder(this.parent,this,g,this.config.classNames.placeholder);this.commands.exec("styleWithCSS",!1);this._initObjectResizing();this._initUndoManager();this._initLineBreaking();this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||b.isIos()||setTimeout(function(){e.focus(!0)},100);b.clearsContentEditableCorrectly()||a.quirks.ensureProperClearing(this);this.initSync&&
this.config.sync&&this.initSync();this.config.noTextarea||this.textarea.hide();this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var e=this,g=b.canDisableAutoLinking(),f=b.doesAutoLinkingInContentEditable();g&&this.commands.exec("AutoUrlDetect",!1,!1);if(this.config.autoLink){if(!f||f&&g)this.parent.on("newword:composer",function(){if(h.getTextContent(e.element).match(h.autoLink.URL_REG_EXP)){for(var b=e.selection.getSelectedNode(),f=e.element.querySelectorAll("."+e.config.classNames.uneditableContainer),
g=!1,k=f.length;k--;)a.dom.contains(f[k],b)&&(g=!0);g||h.autoLink(b,[e.config.classNames.uneditableContainer])}}),h.observe(this.element,"blur",function(){h.autoLink(e.element,[e.config.classNames.uneditableContainer])});var l=this.sandbox.getDocument().getElementsByTagName("a"),k=h.autoLink.URL_REG_EXP,n=function(b){b=a.lang.string(h.getTextContent(b)).trim();"www."===b.substr(0,4)&&(b="http://"+b);return b};h.observe(this.element,"keydown",function(a){if(l.length){a=e.selection.getSelectedNode(a.target.ownerDocument);
var b=h.getParentElement(a,{query:"a"},4),f;b&&(f=n(b),setTimeout(function(){var a=n(b);a!==f&&a.match(k)&&b.setAttribute("href",a)},0))}})}},_initObjectResizing:function(){this.commands.exec("enableObjectResizing",!0);if(b.supportsEvent("resizeend")){var e=["width","height"],g=e.length,f=this.element;h.observe(f,"resizeend",function(b){b=b.target||b.srcElement;var h=b.style,n=0,m;if("IMG"===b.nodeName){for(;n<g;n++)m=e[n],h[m]&&(b.setAttribute(m,parseInt(h[m],10)),h[m]="");a.quirks.redraw(f)}})}},
_initUndoManager:function(){this.undoManager=new a.UndoManager(this.parent)},_initLineBreaking:function(){function e(a){var b=h.getParentElement(a,{query:"p, div"},2);b&&h.contains(g.element,b)&&g.selection.executeAndRestoreRangy(function(){g.config.useLineBreaks?((!b.firstChild||b.firstChild===b.lastChild&&1===b.firstChild.nodeType&&b.firstChild.classList.contains("rangySelectionBoundary"))&&b.appendChild(g.doc.createElement("br")),h.replaceWithChildNodes(b)):"P"!==b.nodeName&&h.renameElement(b,
"p")})}var g=this;this.config.useLineBreaks||h.observe(this.element,["focus"],function(){g.isEmpty()&&setTimeout(function(){var a=g.doc.createElement("P");g.element.innerHTML="";g.element.appendChild(a);b.displaysCaretInEmptyContentEditableCorrectly()?g.selection.selectNode(a,!0):(a.innerHTML="<br>",g.selection.setBefore(a.firstChild))},0)});h.observe(this.element,"keydown",function(b){var l=b.keyCode;if(!(b.shiftKey||b.ctrlKey||b.defaultPrevented||l!==a.ENTER_KEY&&l!==a.BACKSPACE_KEY)){var k=h.getParentElement(g.selection.getSelectedNode(),
{query:"li, p, h1, h2, h3, h4, h5, h6"},4);k?setTimeout(function(){var b=g.selection.getSelectedNode(),f;if("LI"===k.nodeName){if(!b)return;(f=h.getParentElement(b,{query:"ul, ol, menu"},2))||e(b)}l===a.ENTER_KEY&&k.nodeName.match(/^H[1-6]$/)&&e(b)},0):g.config.useLineBreaks&&l===a.ENTER_KEY&&!a.browser.insertsLineBreaksOnReturn()&&(b.preventDefault(),g.commands.exec("insertLineBreak"))}})}})})(wysihtml5);
(function(a){var h=a.dom,b=document,e=window,g=b.createElement("div"),f="background-color color cursor font-family font-size font-style font-variant font-weight line-height letter-spacing text-align text-decoration text-indent text-rendering word-break word-wrap word-spacing".split(" "),l="background-color border-collapse border-bottom-color border-bottom-style border-bottom-width border-left-color border-left-style border-left-width border-right-color border-right-style border-right-width border-top-color border-top-style border-top-width clear display float margin-bottom margin-left margin-right margin-top outline-color outline-offset outline-width outline-style padding-left padding-right padding-top padding-bottom position top left right bottom z-index vertical-align text-align -webkit-box-sizing -moz-box-sizing -ms-box-sizing box-sizing -webkit-box-shadow -moz-box-shadow -ms-box-shadow box-shadow -webkit-border-top-right-radius -moz-border-radius-topright border-top-right-radius -webkit-border-bottom-right-radius -moz-border-radius-bottomright border-bottom-right-radius -webkit-border-bottom-left-radius -moz-border-radius-bottomleft border-bottom-left-radius -webkit-border-top-left-radius -moz-border-radius-topleft border-top-left-radius width height".split(" "),
k=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",a.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],n=function(a){if(a.setActive)try{a.setActive()}catch(f){}else{var g=a.style,k=b.documentElement.scrollTop||
b.body.scrollTop,l=b.documentElement.scrollLeft||b.body.scrollLeft,g={position:g.position,top:g.top,left:g.left,WebkitUserSelect:g.WebkitUserSelect};h.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(a);a.focus();h.setStyles(g).on(a);e.scrollTo&&e.scrollTo(l,k)}};a.views.Composer.prototype.style=function(){var e=this,p=b.querySelector(":focus"),q=this.textarea.element,r=q.hasAttribute("placeholder"),t=r&&q.getAttribute("placeholder"),v=q.style.display,x=q.disabled,
y;this.focusStylesHost=g.cloneNode(!1);this.blurStylesHost=g.cloneNode(!1);this.disabledStylesHost=g.cloneNode(!1);r&&q.removeAttribute("placeholder");q===p&&q.blur();q.disabled=!1;q.style.display=y="none";if(q.getAttribute("rows")&&"auto"===h.getStyle("height").from(q)||q.getAttribute("cols")&&"auto"===h.getStyle("width").from(q))q.style.display=y=v;h.copyStyles(l).from(q).to(this.editableArea).andTo(this.blurStylesHost);h.copyStyles(f).from(q).to(this.element).andTo(this.blurStylesHost);h.insertCSS(k).into(this.element.ownerDocument);
q.disabled=!0;h.copyStyles(l).from(q).to(this.disabledStylesHost);h.copyStyles(f).from(q).to(this.disabledStylesHost);q.disabled=x;q.style.display=v;n(q);q.style.display=y;h.copyStyles(l).from(q).to(this.focusStylesHost);h.copyStyles(f).from(q).to(this.focusStylesHost);q.style.display=v;h.copyStyles(["display"]).from(q).to(this.editableArea);var z=a.lang.array(l).without(["display"]);p?p.focus():q.blur();r&&q.setAttribute("placeholder",t);this.parent.on("focus:composer",function(){h.copyStyles(z).from(e.focusStylesHost).to(e.editableArea);
h.copyStyles(f).from(e.focusStylesHost).to(e.element)});this.parent.on("blur:composer",function(){h.copyStyles(z).from(e.blurStylesHost).to(e.editableArea);h.copyStyles(f).from(e.blurStylesHost).to(e.element)});this.parent.observe("disable:composer",function(){h.copyStyles(z).from(e.disabledStylesHost).to(e.editableArea);h.copyStyles(f).from(e.disabledStylesHost).to(e.element)});this.parent.observe("enable:composer",function(){h.copyStyles(z).from(e.blurStylesHost).to(e.editableArea);h.copyStyles(f).from(e.blurStylesHost).to(e.element)});
return this}})(wysihtml5);
(function(a){var h=a.dom,b=h.domNode,e=a.browser,g={66:"bold",73:"italic",85:"underline"},f={addListeners:function(a,b,e){for(var f=0,g=b.length;f<g;f++)a.addEventListener(b[f],e,!1)},removeListeners:function(a,b,e){for(var f=0,g=b.length;f<g;f++)a.removeEventListener(b[f],e,!1)},fixLastBrDeletionInTable:function(b,e){if(b.selection.caretIsLastInSelection()){var f=b.selection.getSelection(),g=f.anchorNode;if(g&&1===g.nodeType&&(a.dom.getParentElement(g,{query:"td, th"},!1,b.element)||e)&&(f=g.childNodes[f.anchorOffset])&&
1===f.nodeType&"BR"===f.nodeName)return f.parentNode.removeChild(f),!0}return!1},handleUneditableDeletion:function(a){var b=a.selection.getBeforeSelection(!0);if(b&&("element"===b.type||"leafnode"===b.type)&&1===b.node.nodeType&&b.node.classList.contains(a.config.classNames.uneditableContainer)){if(f.fixLastBrDeletionInTable(a,!0))return!0;try{var e=new CustomEvent("wysihtml5:uneditable:delete",{bubbles:!0,cancelable:!1});b.node.dispatchEvent(e)}catch(g){}b.node.parentNode.removeChild(b.node);return!0}return!1},
fixDeleteInTheBeginningOfBlock:function(e){var f=e.selection,g=f.getPreviousNode();if(f.caretIsFirstInSelection(a.browser.usesControlRanges())&&g&&1===g.nodeType&&a.dom.domNode(g).is.block()&&!b(g).test({query:"ol, ul, table, tr, dl"})){if(/^\s*$/.test(g.textContent||g.innerText))return g.parentNode.removeChild(g),!0;if(g.lastChild){var h=g.lastChild,k=f.getSelectedNode(),l=b(g).commonAncestor(k,e.element);if(e=a.dom.getParentElement(k,{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},!1,
l||e.element))return b(e).transferContentTo(g,!0),f.setAfter(h),!0;if(a.browser.usesControlRanges())return k=f.getCaretNode(),b(k).transferContentTo(g,!0),f.setAfter(h),!0}}return!1},fixDeleteInTheBeginningOfLi:function(e){if(a.browser.hasLiDeletingProblem()){var f=e.selection.getSelection(),g=f.anchorNode,h;h=e.selection.caretIsFirstInSelection();3===g.nodeType&&0===f.anchorOffset&&g===g.parentNode.firstChild&&(g=g.parentNode,h=!0);if(h&&g&&1===g.nodeType&&"LI"===g.nodeName&&((f=b(g).prev({nodeTypes:[1,
3],ignoreBlankTexts:!0}))||!g.parentNode||"UL"!==g.parentNode.nodeName&&"OL"!==g.parentNode.nodeName||(f=b(g.parentNode).prev({nodeTypes:[1,3],ignoreBlankTexts:!0})),f))return h=g.firstChild,b(g).transferContentTo(f,!0),h?e.selection.setBefore(h):f&&(1===f.nodeType?f.lastChild?e.selection.setAfter(f.lastChild):e.selection.selectNode(f):e.selection.setAfter(f)),!0}return!1},fixDeleteInTheBeginningOfControlSelection:function(a){var e=a.selection,f=e.getPreviousNode(),g=e.getSelectedNode();return e.caretIsFirstInSelection()?
(3===g.nodeType&&(g=g.parentNode),e=g.firstChild,b(g).transferContentTo(f,!0),e&&a.selection.setBefore(e),!0):!1},initTableHandling:function(){var b=function(){window.removeEventListener("load",b);this.doc.execCommand("enableObjectResizing",!1,"false");this.doc.execCommand("enableInlineTableEditing",!1,"false")}.bind(this),e=function(){b.call(this);f.removeListeners(this.sandbox.getIframe(),["focus","mouseup","mouseover"],e)}.bind(this);this.doc.execCommand&&a.browser.supportsCommand(this.doc,"enableObjectResizing")&&
a.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?f.addListeners(this.sandbox.getIframe(),["focus","mouseup","mouseover"],e):window.addEventListener("load",b));this.tableSelection=a.quirks.tableCellsSelection(this.element,this.parent)},doLineBreaksModeEnterWithCaret:function(e){var f,g,k=!1;if(f=e.selection.getNodesNearCaret()){if(f.caretNode||f.nextNode)g=h.getParentElement(f.caretNode||f.nextNode,{query:"p, pre, div, blockquote"},2),g===e.element&&(g=void 0);
if(g&&f.caretNode)if(b(f.caretNode).is.lineBreak()){if(e.config.doubleLineBreakEscapesBlock){k=!0;f.caretNode.parentNode.removeChild(f.caretNode);b(f.nextNode).is.lineBreak()&&f.nextNode.parentNode.removeChild(f.nextNode);var l=e.doc.createElement("br");b(f.nextNode).is.lineBreak()&&f.nextNode===g.lastChild?g.parentNode.insertBefore(l,g.nextSibling):e.selection.splitElementAtCaret(g,l);f.nextNode&&3===f.nextNode.nodeType&&(f.nextNode.data=f.nextNode.data.replace(/^ *[\r\n]+/,""));e.selection.setBefore(l)}}else 3===
f.caretNode.nodeType&&a.browser.hasCaretBlockElementIssue()&&f.textOffset===f.caretNode.data.length&&!f.nextNode&&(k=!0,f=e.doc.createElement("br"),g=e.doc.createElement("br"),l=e.doc.createDocumentFragment(),l.appendChild(f),l.appendChild(g),e.selection.insertNode(l),e.selection.setBefore(g))}return k}},l=function(b,e){var g=e.selection;g.isCollapsed()?f.handleUneditableDeletion(e)?b.preventDefault():f.fixDeleteInTheBeginningOfLi(e)?b.preventDefault():f.fixDeleteInTheBeginningOfBlock(e)?b.preventDefault():
f.fixLastBrDeletionInTable(e)?b.preventDefault():a.browser.usesControlRanges()&&f.fixDeleteInTheBeginningOfControlSelection(e)&&b.preventDefault():g.containsUneditable()&&(b.preventDefault(),g.deleteContents())},k=function(a,b){!b.config.useLineBreaks||a.shiftKey||a.ctrlKey||b.selection.isCollapsed()&&f.doLineBreaksModeEnterWithCaret(b)&&a.preventDefault()},n=function(a,b,e){if(!a.selection.isCollapsed())a.selection.deleteContents();else if(a.selection.caretIsInTheBeginnig("li"))if(e){if(a.commands.exec("outdentList"))return}else if(a.commands.exec("indentList"))return;
a.commands.exec("insertHTML","&emsp;")},m=function(a){this.domNodeRemovedInterval&&clearInterval(domNodeRemovedInterval);this.parent.fire("destroy:composer")},p=function(a){this.parent.fire("beforeinteraction",a).fire("beforeinteraction:composer",a);setTimeout(function(){this.parent.fire("interaction",a).fire("interaction:composer",a)}.bind(this),0)},q=function(a){this.parent.fire("focus",a).fire("focus:composer",a);setTimeout(function(){this.focusState=this.getValue(!1,!1)}.bind(this),0)},r=function(a){if(this.focusState!==
this.getValue(!1,!1)){var b=a;"function"==typeof Object.create&&(b=Object.create(a,{type:{value:"change"}}));this.parent.fire("change",b).fire("change:composer",b)}this.parent.fire("blur",a).fire("blur:composer",a)},t=function(a){this.parent.fire(a.type,a).fire(a.type+":composer",a);"paste"===a.type&&setTimeout(function(){this.parent.fire("newword:composer")}.bind(this),0)},v=function(b){this.config.copyedFromMarking&&(a.browser.supportsModernPaste()&&(b.clipboardData.setData("text/html",this.config.copyedFromMarking+
this.selection.getHtml()),b.clipboardData.setData("text/plain",this.selection.getPlainText()),b.preventDefault()),this.parent.fire(b.type,b).fire(b.type+":composer",b))},x=function(b){b=b.keyCode;b!==a.SPACE_KEY&&b!==a.ENTER_KEY||this.parent.fire("newword:composer")},y=function(b){if(!e.canSelectImagesInContentEditable()){var f=b.target,g=this.element.querySelectorAll("img"),h=this.element.querySelectorAll("."+this.config.classNames.uneditableContainer+" img"),g=a.lang.array(g).without(h);"IMG"===
f.nodeName&&a.lang.array(g).contains(f)&&this.selection.selectNode(f)}a.browser.usesControlRanges()&&(this.selection.lastMouseDownPos={x:b.clientX,y:b.clientY},setTimeout(function(){delete this.selection.lastMouseDownPos}.bind(this),0))},z=function(a){var b=this.selection.lastMouseDownPos;if(b){var e=document.body.createTextRange();setTimeout(function(){try{e.moveToPoint(b.x,b.y),e.select()}catch(a){}}.bind(this),0)}},B=function(b){this.config.classNames.uneditableContainer&&(b=a.dom.getParentElement(b.target,
{query:"."+this.config.classNames.uneditableContainer},!1,this.element))&&this.selection.setAfter(b)},E=function(a){e.canSelectImagesInContentEditable()||setTimeout(function(){this.selection.getSelection().removeAllRanges()}.bind(this),0)},w=function(b){var e=b.keyCode,f=g[e],h;!b.ctrlKey&&!b.metaKey||b.altKey||65!==e?((b.ctrlKey||b.metaKey)&&!b.altKey&&f&&(this.commands.exec(f),b.preventDefault()),e===a.BACKSPACE_KEY&&l(b,this),(e===a.BACKSPACE_KEY||e===a.DELETE_KEY)&&(f=this.selection.getSelectedNode(!0))&&
"IMG"===f.nodeName&&(b.preventDefault(),h=f.parentNode,h.removeChild(f),"A"!==h.nodeName||h.firstChild||h.parentNode.removeChild(h),setTimeout(function(){a.quirks.redraw(this.element)}.bind(this),0)),this.config.handleTabKey&&e===a.TAB_KEY&&(b.preventDefault(),n(this,this.element,b.shiftKey)),e===a.ENTER_KEY&&k(b,this)):(this.selection.selectAll(),b.preventDefault())};a.views.Composer.prototype.observeActions=f;a.views.Composer.prototype.observe=function(){var b=this.sandbox.getIframe?this.sandbox.getIframe():
this.sandbox.getContentEditable(),g=e.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?this.element:this.sandbox.getWindow();this.focusState=this.getValue(!1,!1);b.addEventListener(["DOMNodeRemoved"],m.bind(this),!1);e.supportsMutationEvents()||(this.domNodeRemovedInterval=setInterval(function(){h.contains(document.documentElement,b)||m.call(this)},250));this.config.handleTables&&f.initTableHandling.call(this);f.addListeners(g,["drop","paste","mouseup","focus","keyup"],p.bind(this));
g.addEventListener("focus",q.bind(this),!1);g.addEventListener("blur",r.bind(this),!1);f.addListeners(this.element,["drop","paste","beforepaste"],t.bind(this),!1);this.element.addEventListener("copy",v.bind(this),!1);this.element.addEventListener("mousedown",y.bind(this),!1);this.element.addEventListener("click",B.bind(this),!1);this.element.addEventListener("drop",E.bind(this),!1);this.element.addEventListener("keyup",x.bind(this),!1);this.element.addEventListener("keydown",w.bind(this),!1);a.browser.usesControlRanges()&&
this.element.addEventListener("mscontrolselect",z.bind(this),!1);this.element.addEventListener("dragenter",function(){this.parent.fire("unset_placeholder")}.bind(this),!1)}})(wysihtml5);
(function(a){a.views.Synchronizer=Base.extend({constructor:function(a,b,e){this.editor=a;this.textarea=b;this.composer=e;this._observe()},fromComposerToTextarea:function(h){this.textarea.setValue(a.lang.string(this.composer.getValue(!1,!1)).trim(),h)},fromTextareaToComposer:function(a){var b=this.textarea.getValue(!1,!1);b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(a){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(a):
this.fromComposerToTextarea(a)},_observe:function(){var h,b=this,e=this.textarea.element.form,g=function(){h=setInterval(function(){b.fromComposerToTextarea()},400)},f=function(){clearInterval(h);h=null};g();e&&(a.dom.observe(e,"submit",function(){b.sync(!0)}),a.dom.observe(e,"reset",function(){setTimeout(function(){b.fromTextareaToComposer()},0)}));this.editor.on("change_view",function(a){"composer"!==a||h?"textarea"===a&&(b.fromComposerToTextarea(!0),f()):(b.fromTextareaToComposer(!0),g())});this.editor.on("destroy:composer",
f)}})})(wysihtml5);
(function(a){a.views.SourceView=Base.extend({constructor:function(a,b){this.editor=a;this.composer=b;this._observe()},switchToTextarea:function(a){var b=this.composer.win.getComputedStyle(this.composer.element),e=parseFloat(b.width),b=Math.max(parseFloat(b.height),100);this.textarea||(this.textarea=this.composer.doc.createElement("textarea"),this.textarea.className="wysihtml5-source-view");this.textarea.style.width=e+"px";this.textarea.style.height=b+"px";this.textarea.value=this.editor.getValue(a,!0);
this.composer.element.parentNode.insertBefore(this.textarea,this.composer.element);this.editor.currentView="source";this.composer.element.style.display="none"},switchToComposer:function(a){var b=this.textarea.value;b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire("set_placeholder"));this.textarea.parentNode.removeChild(this.textarea);this.editor.currentView=this.composer;this.composer.element.style.display=""},_observe:function(){this.editor.on("change_view",function(a){"composer"===
a?this.switchToComposer(!0):"textarea"===a&&this.switchToTextarea(!0)}.bind(this))}})})(wysihtml5);
wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(a,h,b){this.base(a,h,b);this._observe()},clear:function(){this.element.value=""},getValue:function(a){var h=this.isEmpty()?"":this.element.value;!1!==a&&(h=this.parent.parse(h));return h},setValue:function(a,h){!1!==h&&(a=this.parent.parse(a));this.element.value=a},cleanUp:function(a){a=this.parent.parse(this.element.value,void 0,a);this.element.value=a},hasPlaceholderSet:function(){var a=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),
h=this.element.getAttribute("placeholder")||null,b=this.element.value;return a&&!b||b===h},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var a=this.element,h=this.parent,b={focusin:"focus",focusout:"blur"},e=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];h.on("beforeload",function(){wysihtml5.dom.observe(a,e,function(a){a=b[a.type]||a.type;h.fire(a).fire(a+":textarea")});
wysihtml5.dom.observe(a,["paste","drop"],function(){setTimeout(function(){h.fire("paste").fire("paste:textarea")},0)})})}});
(function(a){var h={name:void 0,style:!0,toolbar:void 0,showToolbarAfterInit:!0,showToolbarDialogsOnSelection:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{},b:{},i:{},u:{}},classes:{}},pasteParserRulesets:null,parser:a.dom.parse,useLineBreaks:!0,doubleLineBreakEscapesBlock:!0,stylesheets:[],placeholderText:void 0,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,classNames:{composer:"wysihtml5-editor",body:"wysihtml5-supported",sandbox:"wysihtml5-sandbox",
placeholder:"wysihtml5-placeholder",uneditableContainer:"wysihtml5-uneditable-container"},copyedFromMarking:'<meta name="copied-from" content="wysihtml5">'};a.Editor=a.lang.Dispatcher.extend({constructor:function(b,e){this.editableElement="string"===typeof b?document.getElementById(b):b;this.config=a.lang.object({}).merge(h).merge(e).get();this._isCompatible=a.browser.supported();e&&e.classNames&&a.lang.object(this.config.classNames).merge(e.classNames);"textarea"!=this.editableElement.nodeName.toLowerCase()&&
(this.config.contentEditableMode=!0,this.config.noTextarea=!0);this.config.noTextarea||(this.currentView=this.textarea=new a.views.Textarea(this,this.editableElement,this.config));if(!this._isCompatible||!this.config.supportTouchDevices&&a.browser.isTouchDevice()){var g=this;setTimeout(function(){g.fire("beforeload").fire("load")},0)}else a.dom.addClass(document.body,this.config.classNames.body),this.currentView=this.composer=new a.views.Composer(this,this.editableElement,this.config),"function"===
typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea?this.sourceView=new a.views.SourceView(this,this.composer):this.synchronizer=new a.views.Synchronizer(this,this.textarea,this.composer);this.config.toolbar&&(this.toolbar=new a.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){this.currentView.clear();return this},
getValue:function(a,e){return this.currentView.getValue(a,e)},setValue:function(a,e){this.fire("unset_placeholder");if(!a)return this.clear();this.currentView.setValue(a,e);return this},cleanUp:function(a){this.currentView.cleanUp(a)},focus:function(a){this.currentView.focus(a);return this},disable:function(){this.currentView.disable();return this},enable:function(){this.currentView.enable();return this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},
destroy:function(){this.composer&&this.composer.sandbox&&this.composer.sandbox.destroy();this.toolbar&&this.toolbar.destroy();this.off()},parse:function(b,e,g){var f=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null;e=this.config.parser(b,{rules:g||this.config.parserRules,cleanUp:this.config.cleanUp,context:f,uneditableClass:this.config.classNames.uneditableContainer,clearInternals:e});"object"===typeof b&&a.quirks.redraw(b);return e},_initParser:function(){var b;
if(a.browser.supportsModernPaste())this.on("paste:composer",function(e){e.preventDefault();(b=a.dom.getPastedHtml(e))&&this._cleanAndPaste(b)}.bind(this));else this.on("beforepaste:composer",function(b){b.preventDefault();var g=this.composer.getScrollPos();a.dom.getPastedHtmlWithDiv(this.composer,function(a){a&&this._cleanAndPaste(a);this.composer.setScrollPos(g)}.bind(this))}.bind(this))},_cleanAndPaste:function(b){b=a.quirks.cleanPastedHTML(b,{referenceNode:this.composer.element,rules:this.config.pasteParserRulesets||
[{set:this.config.parserRules}],uneditableClass:this.config.classNames.uneditableContainer});this.composer.selection.deleteContents();this.composer.selection.insertHTML(b)}})})(wysihtml5);/*
 wysihtml v0.5.5
 https://github.com/Voog/wysihtml

 Author: Christopher Blum (https://github.com/tiff)
 Secondary author of extended features: Oliver Pulges (https://github.com/pulges)

 Copyright (C) 2012 XING AG
 Licensed under the MIT license (MIT)

*/
wysihtml5={version:"0.5.5",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",INVISIBLE_SPACE_REG_EXP:/\uFEFF/g,VOID_ELEMENTS:"area, base, br, col, embed, hr, img, input, keygen, link, meta, param, source, track, wbr",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,TAB_KEY:9,DELETE_KEY:46,polyfills:function(a,h){String.prototype.trim||function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=
function(){return this.replace(a,"")}}();(function(){h.addEventListener||(a.Element.prototype.addEventListener=a.addEventListener=h.addEventListener=function(b,e,f){return(f=this).attachEvent("on"+b,function(b){b=b||a.event;b.target=b.target||b.srcElement;b.preventDefault=b.preventDefault||function(){b.returnValue=!1};b.stopPropagation=b.stopPropagation||function(){b.cancelBubble=!0};b.which=b.button?2===b.button?3:4===b.button?2:b.button:b.keyCode;e.call(f,b)})},a.Element.prototype.removeEventListener=
a.removeEventListener=h.removeEventListener=function(a,b){return this.detachEvent("on"+a,b)})})();Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(a.Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(a.Element.prototype,"textContent").get&&function(){var b=Object.getOwnPropertyDescriptor(a.Element.prototype,"innerText");Object.defineProperty(a.Element.prototype,"textContent",{get:function(){return b.get.call(this)},set:function(a){return b.set.call(this,
a)}})}();Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var e=this.length,f=-1,g=b>>>0;~(e-g);f=this[--e]===a?e:f);return f});Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),e=this,f=function(){},g=
function(){return e.apply(this instanceof f&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};f.prototype=this.prototype;g.prototype=new f;return g});(function(a){a.matches=a.matches||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var b=0;a[b]&&a[b]!==this;)++b;return a[b]?!0:!1};a.closest=a.closest||function(a){for(var b=this;b&&!b.matches(a);)b=b.parentElement;return b}})(Element.prototype);
"document"in a&&("classList"in h.createElement("_")?"DOMTokenList"in a&&function(){var b=h.createElement("_");b.classList.add("c1","c2");if(!b.classList.contains("c2")){var e=function(b){var e=a.DOMTokenList.prototype[b];a.DOMTokenList.prototype[b]=function(a){var b,f=arguments.length;for(b=0;b<f;b++)a=arguments[b],e.call(this,a)}};e("add");e("remove")}b.classList.toggle("c3",!1);if(b.classList.contains("c3")){var f=a.DOMTokenList.prototype.toggle;a.DOMTokenList.prototype.toggle=function(a,b){return 1 in
arguments&&!this.contains(a)===!b?b:f.call(this,a)}}b=null}():function(a){if("Element"in a){a=a.Element.prototype;var b=Object,e=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},f=Array.prototype.indexOf||function(a){for(var b=0,e=this.length;b<e;b++)if(b in this&&this[b]===a)return b;return-1},g=function(a,b){this.name=a;this.code=DOMException[a];this.message=b},h=function(a,b){if(""===b)throw new g("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new g("INVALID_CHARACTER_ERR",
"String contains an invalid character");return f.call(a,b)},r=function(a){for(var b=e.call(a.getAttribute("class")||""),b=b?b.split(/\s+/):[],f=0,g=b.length;f<g;f++)this.push(b[f]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},t=r.prototype=[],v=function(){return new r(this)};g.prototype=Error.prototype;t.item=function(a){return this[a]||null};t.contains=function(a){return-1!==h(this,a+"")};t.add=function(){var a=arguments,b=0,e=a.length,f,g=!1;do f=a[b]+"",-1===h(this,
f)&&(this.push(f),g=!0);while(++b<e);g&&this._updateClassName()};t.remove=function(){var a=arguments,b=0,e=a.length,f,g=!1,k;do for(f=a[b]+"",k=h(this,f);-1!==k;)this.splice(k,1),g=!0,k=h(this,f);while(++b<e);g&&this._updateClassName()};t.toggle=function(a,b){a+="";var e=this.contains(a),f=e?!0!==b&&"remove":!1!==b&&"add";if(f)this[f](a);return!0===b||!1===b?b:!e};t.toString=function(){return this.join(" ")};if(b.defineProperty){t={get:v,enumerable:!0,configurable:!0};try{b.defineProperty(a,"classList",
t)}catch(x){-2146823252===x.number&&(t.enumerable=!1,b.defineProperty(a,"classList",t))}}else b.prototype.__defineGetter__&&a.__defineGetter__("classList",v)}}(a));var b=function(a){var e=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?e.push(a):e=e.concat(b(a));return e},e=function(){Node.prototype.normalize=function(){var a=b(this),e=this.ownerDocument.defaultView.getSelection(),f=e.anchorNode,g=e.anchorOffset,h=f&&1===f.nodeType&&0<f.childNodes.length?f.childNodes[g]:void 0,q=e.focusNode,
r=e.focusOffset,t=q&&1===q.nodeType&&0<r?q.childNodes[r-1]:void 0,v=this.ownerDocument.createRange(),x=a.shift(),y=x?a.shift():null;t&&3===t.nodeType&&(q=t,r=t.nodeValue.length,t=void 0);h&&3===h.nodeType&&(f=h,g=0,h=void 0);if(f===q&&r<g||f!==q&&f.compareDocumentPosition(q)&Node.DOCUMENT_POSITION_PRECEDING&&!(f.compareDocumentPosition(q)&Node.DOCUMENT_POSITION_CONTAINS))q=[f,f=q][0],r=[g,g=r][0];for(;x&&y;)y.previousSibling&&y.previousSibling===x?(f===y&&(f=x,g=x.nodeValue.length+g),q===y&&(q=x,
r=x.nodeValue.length+r),x.nodeValue+=y.nodeValue,y.parentNode.removeChild(y)):x=y,y=a.shift();t&&(r=Array.prototype.indexOf.call(t.parentNode.childNodes,t)+1);h&&(g=Array.prototype.indexOf.call(h.parentNode.childNodes,h));a:{a=this.ownerDocument;h=this;do{if(h===a){a=!0;break a}h=h.parentNode}while(h);a=!1}a&&f&&f.parentNode&&q&&q.parentNode&&(v.setStart(f,g),v.setEnd(q,r),e.removeAllRanges(),e.addRange(v))}},g=function(){window.removeEventListener("load",g);var a;if(a="Node"in window&&"normalize"in
Node.prototype)if("createRange"in document&&"getSelection"in window){a=document.createElement("div");var b=document.createTextNode("a"),f=document.createTextNode("a"),h=document.createTextNode("a"),p=document.createRange();a.setAttribute("contenteditable","true");a.appendChild(b);a.appendChild(f);a.appendChild(h);document.body.appendChild(a);p.setStart(f,1);p.setEnd(f,1);b=window.getSelection();b.removeAllRanges();b.addRange(p);a.normalize();b=window.getSelection();p=1!==a.childNodes.length||b.anchorNode!==
a.firstChild||2!==b.anchorOffset;a.parentNode.removeChild(a);b.removeAllRanges();a=p}else a=void 0;a&&e()};"complete"!==h.readyState?window.addEventListener("load",g):g();var f=function(){try{var a=new CustomEvent("cat",{detail:{foo:"bar"}});return"cat"===a.type&&"bar"===a.detail.foo}catch(b){}return!1}();(function(){if(!f&&"CustomEvent"in window){var b=function(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var e=h.createEvent("CustomEvent");e.initCustomEvent(a,b.bubbles,b.cancelable,b.detail);
return e};b.prototype=a.Event.prototype;a.CustomEvent=b;f=!0}})()}};wysihtml5.polyfills(window,document);
(function(a,h){"function"==typeof define&&define.amd?define(a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a():h.rangy=a()})(function(){function a(a,b){var e=typeof a[b];return"function"==e||!("object"!=e||!a[b])||"unknown"==e}function h(a,b){return!("object"!=typeof a[b]||!a[b])}function b(a,b){return"undefined"!=typeof a[b]}function e(a){return function(b,e){for(var f=e.length;f--;)if(!a(b,e[f]))return!1;return!0}}function g(a){return a&&E(a,B)&&A(a,z)}function f(a){return h(a,
"body")?a.body:a.getElementsByTagName("body")[0]}function l(b){"undefined"!=typeof console&&a(console,"log")&&console.log(b)}function k(a){G.initialized=!0;G.supported=!1;a="Rangy is not supported in this environment. Reason: "+a;F&&G.config.alertOnFail?alert(a):l(a)}function n(){if(F&&!G.initialized){var b,e=!1,h=!1;a(document,"createRange")&&(b=document.createRange(),E(b,y)&&A(b,x)&&(e=!0));if((b=f(document))&&"body"==b.nodeName.toLowerCase())if(b&&a(b,"createTextRange")&&(b=b.createTextRange(),
g(b)&&(h=!0)),e||h){G.initialized=!0;G.features={implementsDomRange:e,implementsTextRange:h};var m,n;for(n in D)(m=D[n])instanceof r&&m.init(m,G);h=0;for(m=N.length;h<m;++h)try{N[h](G)}catch(p){e="Rangy init listener threw an exception. Continuing. Detail: "+(p.message||p.description||String(p)),l(e)}}else k("Neither Range nor TextRange are available");else k("No body element found")}}function m(a,b,e){e&&(a+=" in module "+e.name);G.warn("DEPRECATED: "+a+" is deprecated. Please use "+b+" instead.")}
function p(a,b,e,f){a[b]=function(){m(b,e,f);return a[e].apply(a,K.toArray(arguments))}}function q(a){a=a||window;n();for(var b=0,e=L.length;b<e;++b)L[b](a)}function r(a,b,e){this.name=a;this.dependencies=b;this.supported=this.initialized=!1;this.initializer=e}function t(a,b,e){b=new r(a,b,function(b){if(!b.initialized){b.initialized=!0;try{e(G,b),b.supported=!0}catch(f){l("Module '"+a+"' failed to load: "+(f.message||f.description||String(f))),f.stack&&l(f.stack)}}});return D[a]=b}function v(){}
var x="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" "),y="setStart setStartBefore setStartAfter setEnd setEndBefore setEndAfter collapse selectNode selectNodeContents compareBoundaryPoints deleteContents extractContents cloneContents insertNode surroundContents cloneRange toString detach".split(" "),z="boundingHeight boundingLeft boundingTop boundingWidth htmlText text".split(" "),B="collapse compareEndPoints duplicate moveToElementText parentElement select setEndPoint getBoundingClientRect".split(" "),
E=e(a),w=e(h),A=e(b),D={},F="undefined"!=typeof window&&"undefined"!=typeof document,K={isHostMethod:a,isHostObject:h,isHostProperty:b,areHostMethods:E,areHostObjects:w,areHostProperties:A,isTextRange:g,getBody:f,forEach:[].forEach?function(a,b){a.forEach(b)}:function(a,b){for(var e=0,f=a.length;e<f;++e)b(a[e],e)}},G={version:"1.3.0",initialized:!1,isBrowser:F,supported:!0,util:K,features:{},modules:D,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:"undefined"==typeof rangyAutoInitialize?
!0:rangyAutoInitialize}};G.fail=k;G.warn=function(a){a="Rangy warning: "+a;F&&G.config.alertOnWarn?alert(a):l(a)};var M;({}).hasOwnProperty?(K.extend=M=function(a,b,e){var f,g,h;for(h in b)b.hasOwnProperty(h)&&(f=a[h],g=b[h],e&&null!==f&&"object"==typeof f&&null!==g&&"object"==typeof g&&M(f,g,!0),a[h]=g);b.hasOwnProperty("toString")&&(a.toString=b.toString);return a},K.createOptions=function(a,b){var e={};M(e,b);a&&M(e,a);return e}):k("hasOwnProperty not supported");F||k("Rangy can only run in a browser");
(function(){var a;if(F){var b=document.createElement("div");b.appendChild(document.createElement("span"));var e=[].slice;try{1==e.call(b.childNodes,0)[0].nodeType&&(a=function(a){return e.call(a,0)})}catch(f){}}a||(a=function(a){for(var b=[],e=0,f=a.length;e<f;++e)b[e]=a[e];return b});K.toArray=a})();var J;F&&(a(document,"addEventListener")?J=function(a,b,e){a.addEventListener(b,e,!1)}:a(document,"attachEvent")?J=function(a,b,e){a.attachEvent("on"+b,e)}:k("Document does not have required addEventListener or attachEvent method"),
K.addListener=J);var N=[];K.deprecationNotice=m;K.createAliasForDeprecatedMethod=p;G.init=n;G.addInitListener=function(a){G.initialized?a(G):N.push(a)};var L=[];G.addShimListener=function(a){L.push(a)};F&&(G.shim=G.createMissingNativeApi=q,p(G,"createMissingNativeApi","shim"));r.prototype={init:function(){for(var a=this.dependencies||[],b=0,e=a.length,f,g;b<e;++b){g=a[b];f=D[g];if(!(f&&f instanceof r))throw Error("required module '"+g+"' not found");f.init();if(!f.supported)throw Error("required module '"+
g+"' not supported");}this.initializer(this)},fail:function(a){this.initialized=!0;this.supported=!1;throw Error(a);},warn:function(a){G.warn("Module "+this.name+": "+a)},deprecationNotice:function(a,b){G.warn("DEPRECATED: "+a+" in module "+this.name+" is deprecated. Please use "+b+" instead")},createError:function(a){return Error("Error in Rangy "+this.name+" module: "+a)}};G.createModule=function(a){var b,e;2==arguments.length?(b=arguments[1],e=[]):(b=arguments[2],e=arguments[1]);b=t(a,e,b);G.initialized&&
G.supported&&b.init()};G.createCoreModule=function(a,b,e){t(a,b,e)};G.RangePrototype=v;G.rangePrototype=new v;G.selectionPrototype=new function(){};G.createCoreModule("DomUtil",[],function(a,b){function e(a){for(var b=0;a=a.previousSibling;)++b;return b}function f(a,b){var e=[],g;for(g=a;g;g=g.parentNode)e.push(g);for(g=b;g;g=g.parentNode)if(y(e,g))return g;return null}function g(a,b,e){for(b=e?b:b.parentNode;b;){if(b===a)return!0;b=b.parentNode}return!1}function h(a,b,e){for(e=e?a:a.parentNode;e;){a=
e.parentNode;if(a===b)return e;e=a}return null}function k(a){a=a.nodeType;return 3==a||4==a||8==a}function l(a,b){var e=b.nextSibling,f=b.parentNode;e?f.insertBefore(a,e):f.appendChild(a);return a}function m(a){if(9==a.nodeType)return a;if("undefined"!=typeof a.ownerDocument)return a.ownerDocument;if("undefined"!=typeof a.document)return a.document;if(a.parentNode)return m(a.parentNode);throw b.createError("getDocument: no document found for node");}function n(a){a=m(a);if("undefined"!=typeof a.defaultView)return a.defaultView;
if("undefined"!=typeof a.parentWindow)return a.parentWindow;throw b.createError("Cannot get a window object for node");}function r(a){if("undefined"!=typeof a.contentDocument)return a.contentDocument;if("undefined"!=typeof a.contentWindow)return a.contentWindow.document;throw b.createError("getIframeDocument: No Document object found for iframe element");}function p(a){return a&&t.isHostMethod(a,"setTimeout")&&t.isHostObject(a,"document")}function q(a){return a?k(a)?'"'+a.data+'"':1==a.nodeType?"<"+
a.nodeName+(a.id?' id="'+a.id+'"':"")+">[index:"+e(a)+",length:"+a.childNodes.length+"]["+(a.innerHTML||"[innerHTML not supported]").slice(0,25)+"]":a.nodeName:"[No node]"}function w(a){this._next=this.root=a}function A(a,b){this.node=a;this.offset=b}function F(a){this.code=this[a];this.codeName=a;this.message="DOMException: "+this.codeName}var t=a.util,v=t.getBody;t.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||b.fail("document missing a Node creation method");
t.isHostMethod(document,"getElementsByTagName")||b.fail("document missing getElementsByTagName method");var D=document.createElement("div");t.areHostMethods(D,["insertBefore","appendChild","cloneNode"])||b.fail("Incomplete Element implementation");t.isHostProperty(D,"innerHTML")||b.fail("Element is missing innerHTML property");D=document.createTextNode("test");t.areHostMethods(D,["splitText","deleteData","insertData","appendData","cloneNode"])||b.fail("Incomplete Text Node implementation");var y=
function(a,b){for(var e=a.length;e--;)if(a[e]===b)return!0;return!1},x=!1;(function(){var b=document.createElement("b");b.innerHTML="1";b.innerHTML="<br />";x=!1;a.features.crashyTextNodes=x})();var G;"undefined"!=typeof window.getComputedStyle?G=function(a,b){return n(a).getComputedStyle(a,null)[b]}:"undefined"!=typeof document.documentElement.currentStyle?G=function(a,b){return a.currentStyle?a.currentStyle[b]:""}:b.fail("No means of obtaining computed style properties found");w.prototype={_current:null,
hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next,b;if(this._current){b=a.firstChild;if(!b)for(b=null;a!==this.root&&!(b=a.nextSibling);)a=a.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=null}};A.prototype={equals:function(a){return!!a&&this.node===a.node&&this.offset==a.offset},inspect:function(){return"[DomPosition("+q(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}};F.prototype=
{INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24};F.prototype.toString=function(){return this.message};a.dom={arrayContains:y,isHtmlNamespace:function(a){var b;return"undefined"==typeof a.namespaceURI||null===(b=a.namespaceURI)||"http://www.w3.org/1999/xhtml"==b},parentElement:function(a){a=a.parentNode;return 1==a.nodeType?a:null},getNodeIndex:e,getNodeLength:function(a){switch(a.nodeType){case 7:case 10:return 0;
case 3:case 8:return a.length;default:return a.childNodes.length}},getCommonAncestor:f,isAncestorOf:g,isOrIsAncestorOf:function(a,b){return g(a,b,!0)},getClosestAncestorIn:h,isCharacterDataNode:k,isTextOrCommentNode:function(a){if(!a)return!1;a=a.nodeType;return 3==a||8==a},insertAfter:l,splitDataNode:function(a,b,f){var g=a.cloneNode(!1);g.deleteData(0,b);a.deleteData(b,a.length-b);l(g,a);if(f)for(var h=0,k;k=f[h++];)k.node==a&&k.offset>b?(k.node=g,k.offset-=b):k.node==a.parentNode&&k.offset>e(a)&&
++k.offset;return g},getDocument:m,getWindow:n,getIframeWindow:function(a){if("undefined"!=typeof a.contentWindow)return a.contentWindow;if("undefined"!=typeof a.contentDocument)return a.contentDocument.defaultView;throw b.createError("getIframeWindow: No Window object found for iframe element");},getIframeDocument:r,getBody:v,isWindow:p,getContentDocument:function(a,b,e){var f;a?t.isHostProperty(a,"nodeType")?f=1==a.nodeType&&"iframe"==a.tagName.toLowerCase()?r(a):m(a):p(a)&&(f=a.document):f=document;
if(!f)throw b.createError(e+"(): Parameter must be a Window object or DOM node");return f},getRootContainer:function(a){for(var b;b=a.parentNode;)a=b;return a},comparePoints:function(a,g,k,l){var m;if(a==k)return g===l?0:g<l?-1:1;if(m=h(k,a,!0))return g<=e(m)?-1:1;if(m=h(a,k,!0))return e(m)<l?-1:1;g=f(a,k);if(!g)throw Error("comparePoints error: nodes have no common ancestor");a=a===g?g:h(a,g,!0);k=k===g?g:h(k,g,!0);if(a===k)throw b.createError("comparePoints got to case 4 and childA and childB are the same!");
for(g=g.firstChild;g;){if(g===a)return-1;if(g===k)return 1;g=g.nextSibling}},isBrokenNode:function(a){return!1},inspectNode:q,getComputedStyleProperty:G,createTestElement:function(a,b,e){var f=v(a);a=a.createElement("div");a.contentEditable=""+!!e;b&&(a.innerHTML=b);(b=f.firstChild)?f.insertBefore(a,b):f.appendChild(a);return a},removeNode:function(a){return a.parentNode.removeChild(a)},fragmentFromNodeChildren:function(a){for(var b=m(a).createDocumentFragment(),e;e=a.firstChild;)b.appendChild(e);
return b},createIterator:function(a){return new w(a)},DomPosition:A};a.DOMException=F});G.createCoreModule("DomRange",["DomUtil"],function(a,b){function e(a,b){return 3!=a.nodeType&&(Q(a,b.startContainer)||Q(a,b.endContainer))}function f(a){return a.document||va(a.startContainer)}function g(a){return new ia(a.parentNode,wa(a))}function h(a){return new ia(a.parentNode,wa(a)+1)}function k(a,b,e){var f=11==a.nodeType?a.firstChild:a;ca(b)?e==b.length?U.insertAfter(a,b):b.parentNode.insertBefore(a,0==
e?b:aa(b,e)):e>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[e]);return f}function l(a,b,e){z(a);z(b);if(f(b)!=f(a))throw new fa("WRONG_DOCUMENT_ERR");var g=ea(a.startContainer,a.startOffset,b.endContainer,b.endOffset);a=ea(a.endContainer,a.endOffset,b.startContainer,b.startOffset);return e?0>=g&&0<=a:0>g&&0<a}function m(a){for(var b,e,g=f(a.range).createDocumentFragment();e=a.next();){b=a.isPartiallySelectedSubtree();e=e.cloneNode(!b);b&&(b=a.getSubtreeIterator(),e.appendChild(m(b)),
b.detach());if(10==e.nodeType)throw new fa("HIERARCHY_REQUEST_ERR");g.appendChild(e)}return g}function n(a,b,e){var f,g;for(e=e||{stop:!1};f=a.next();)if(a.isPartiallySelectedSubtree())if(!1===b(f)){e.stop=!0;break}else{if(f=a.getSubtreeIterator(),n(f,b,e),f.detach(),e.stop)break}else for(f=U.createIterator(f);g=f.next();)if(!1===b(g)){e.stop=!0;return}}function r(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),r(b),b.detach()):a.remove()}function p(a){for(var b,e=
f(a.range).createDocumentFragment(),g;b=a.next();){a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),g=a.getSubtreeIterator(),b.appendChild(p(g)),g.detach()):a.remove();if(10==b.nodeType)throw new fa("HIERARCHY_REQUEST_ERR");e.appendChild(b)}return e}function q(a,b,e){var f=!(!b||!b.length),g,h=!!e;f&&(g=new RegExp("^("+b.join("|")+")$"));var k=[];n(new A(a,!1),function(b){if(!f||g.test(b.nodeType))if(!h||e(b)){var l=a.startContainer;b==l&&ca(l)&&a.startOffset==l.length||(l=a.endContainer,b==l&&ca(l)&&
0==a.endOffset||k.push(b))}});return k}function w(a){return"["+("undefined"==typeof a.getName?"Range":a.getName())+"("+U.inspectNode(a.startContainer)+":"+a.startOffset+", "+U.inspectNode(a.endContainer)+":"+a.endOffset+")]"}function A(a,b){this.range=a;this.clonePartiallySelectedTextNodes=b;if(!a.collapsed){this.sc=a.startContainer;this.so=a.startOffset;this.ec=a.endContainer;this.eo=a.endOffset;var e=a.commonAncestorContainer;this.sc===this.ec&&ca(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=
this._last=this._next=this.sc):(this._first=this._next=this.sc!==e||ca(this.sc)?qa(this.sc,e,!0):this.sc.childNodes[this.so],this._last=this.ec!==e||ca(this.ec)?qa(this.ec,e,!0):this.ec.childNodes[this.eo-1])}}function F(a){return function(b,e){for(var f,g=e?b:b.parentNode;g;){f=g.nodeType;if(Ua(a,f))return g;g=g.parentNode}return null}}function t(a,b){if(Db(a,b))throw new fa("INVALID_NODE_TYPE_ERR");}function v(a,b){if(!Ua(b,a.nodeType))throw new fa("INVALID_NODE_TYPE_ERR");}function D(a,b){if(0>
b||b>(ca(a)?a.length:a.childNodes.length))throw new fa("INDEX_SIZE_ERR");}function y(a,b){if(ma(a,!0)!==ma(b,!0))throw new fa("WRONG_DOCUMENT_ERR");}function x(a){if(tb(a,!0))throw new fa("NO_MODIFICATION_ALLOWED_ERR");}function G(a,b){return b<=(ca(a)?a.length:a.childNodes.length)}function K(a){return!!a.startContainer&&!!a.endContainer&&!(Pa&&(U.isBrokenNode(a.startContainer)||U.isBrokenNode(a.endContainer)))&&ja(a.startContainer)==ja(a.endContainer)&&G(a.startContainer,a.startOffset)&&G(a.endContainer,
a.endOffset)}function z(a){if(!K(a))throw Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+a.inspect()+")");}function E(a,b){z(a);var e=a.startContainer,f=a.startOffset,g=a.endContainer,h=a.endOffset,k=e===g;ca(g)&&0<h&&h<g.length&&aa(g,h,b);ca(e)&&0<f&&f<e.length&&(e=aa(e,f,b),k?(h-=f,g=e):g==e.parentNode&&h>=wa(e)&&h++,f=0);a.setStartAndEnd(e,f,g,h)}function B(a){z(a);var b=a.commonAncestorContainer.parentNode.cloneNode(!1);b.appendChild(a.cloneContents());
return b.innerHTML}function M(a){a.START_TO_START=0;a.START_TO_END=1;a.END_TO_END=2;a.END_TO_START=3;a.NODE_BEFORE=0;a.NODE_AFTER=1;a.NODE_BEFORE_AND_AFTER=2;a.NODE_INSIDE=3}function J(a){M(a);M(a.prototype)}function H(a,b){return function(){z(this);var e=this.startContainer,f=this.startOffset,g=this.commonAncestorContainer,k=new A(this,!0);e!==g&&(e=qa(e,g,!0),f=h(e),e=f.node,f=f.offset);n(k,x);k.reset();g=a(k);k.detach();b(this,e,f,e,f);return g}}function N(b,f){function k(a,b){return function(e){v(e,
Ra);v(ja(e),Xa);e=(a?g:h)(e);(b?l:m)(this,e.node,e.offset)}}function l(a,b,e){var g=a.endContainer,h=a.endOffset;if(b!==a.startContainer||e!==a.startOffset){if(ja(b)!=ja(g)||1==ea(b,e,g,h))g=b,h=e;f(a,b,e,g,h)}}function m(a,b,e){var g=a.startContainer,h=a.startOffset;if(b!==a.endContainer||e!==a.endOffset){if(ja(b)!=ja(g)||-1==ea(b,e,g,h))g=b,h=e;f(a,g,h,b,e)}}var n=function(){};n.prototype=a.rangePrototype;b.prototype=new n;Qa.extend(b.prototype,{setStart:function(a,b){t(a,!0);D(a,b);l(this,a,b)},
setEnd:function(a,b){t(a,!0);D(a,b);m(this,a,b)},setStartAndEnd:function(){var a=arguments,b=a[0],e=a[1],g=b,h=e;switch(a.length){case 3:h=a[2];break;case 4:g=a[2],h=a[3]}f(this,b,e,g,h)},setBoundary:function(a,b,e){this["set"+(e?"Start":"End")](a,b)},setStartBefore:k(!0,!0),setStartAfter:k(!1,!0),setEndBefore:k(!0,!1),setEndAfter:k(!1,!1),collapse:function(a){z(this);a?f(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):f(this,this.endContainer,this.endOffset,this.endContainer,
this.endOffset)},selectNodeContents:function(a){t(a,!0);f(this,a,0,a,$a(a))},selectNode:function(a){t(a,!1);v(a,Ra);var b=g(a);a=h(a);f(this,b.node,b.offset,a.node,a.offset)},extractContents:H(p,f),deleteContents:H(r,f),canSurroundContents:function(){z(this);x(this.startContainer);x(this.endContainer);var a=new A(this,!0),b=a._first&&e(a._first,this)||a._last&&e(a._last,this);a.detach();return!b},splitBoundaries:function(){E(this)},splitBoundariesPreservingPositions:function(a){E(this,a)},normalizeBoundaries:function(){z(this);
var a=this.startContainer,b=this.startOffset,e=this.endContainer,g=this.endOffset,h=function(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(e=a,g=a.length,a.appendData(b.data),ua(b))},k=function(f){var h=f.previousSibling;if(h&&h.nodeType==f.nodeType){a=f;var k=f.length;b=h.length;f.insertData(0,h.data);ua(h);a==e?(g+=b,e=a):e==f.parentNode&&(h=wa(f),g==h?(e=f,g=k):g>h&&g--)}},l=!0;ca(e)?g==e.length?h(e):0==g&&(h=e.previousSibling)&&h.nodeType==e.nodeType&&(g=h.length,a==e&&(l=!1),h.appendData(e.data),
ua(e),e=h):(0<g&&(l=e.childNodes[g-1])&&ca(l)&&h(l),l=!this.collapsed);l?ca(a)?0==b?k(a):b==a.length&&(h=a.nextSibling)&&h.nodeType==a.nodeType&&(e==h&&(e=a,g+=a.length),a.appendData(h.data),ua(h)):b<a.childNodes.length&&(h=a.childNodes[b])&&ca(h)&&k(h):(a=e,b=g);f(this,a,b,e,g)},collapseToPoint:function(a,b){t(a,!0);D(a,b);this.setStartAndEnd(a,b)}});J(b)}function L(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset;a.commonAncestorContainer=a.collapsed?a.startContainer:
U.getCommonAncestor(a.startContainer,a.endContainer)}function R(a,b,e,f,g){a.startContainer=b;a.startOffset=e;a.endContainer=f;a.endOffset=g;a.document=U.getDocument(b);L(a)}function xa(a){this.startContainer=a;this.startOffset=0;this.endContainer=a;this.endOffset=0;this.document=a;L(this)}var U=a.dom,Qa=a.util,ia=U.DomPosition,fa=a.DOMException,ca=U.isCharacterDataNode,wa=U.getNodeIndex,Q=U.isOrIsAncestorOf,va=U.getDocument,ea=U.comparePoints,aa=U.splitDataNode,qa=U.getClosestAncestorIn,$a=U.getNodeLength,
Ua=U.arrayContains,ja=U.getRootContainer,Pa=a.features.crashyTextNodes,ua=U.removeNode;A.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null;this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;a&&(this._next=a!==this._last?a.nextSibling:null,ca(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===
this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so)));return a},remove:function(){var a=this._current,b,e;!ca(a)||a!==this.sc&&a!==this.ec?a.parentNode&&ua(a):(b=a===this.sc?this.so:0,e=a===this.ec?this.eo:a.length,b!=e&&a.deleteData(b,e-b))},isPartiallySelectedSubtree:function(){return e(this._current,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse(!1);else{a=new xa(f(this.range));var b=this._current,e=b,g=0,h=b,k=$a(b);Q(b,this.sc)&&
(e=this.sc,g=this.so);Q(b,this.ec)&&(h=this.ec,k=this.eo);R(a,e,g,h,k)}return new A(a,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Ra=[1,3,4,5,7,8,10],Xa=[2,9,11],kb=[1,3,4,5,7,8,10,11],Ha=[1,3,4,5,7,8],ma=F([9,11]),tb=F([5,6,10,12]),Db=F([6,10,12]),Aa=document.createElement("style"),sa=!1;try{Aa.innerHTML="<b>x</b>",sa=3==Aa.firstChild.nodeType}catch(zb){}a.features.htmlParsingConforms=
sa;var Va="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" ");Qa.extend(a.rangePrototype,{compareBoundaryPoints:function(a,b){z(this);y(this.startContainer,b.startContainer);var e=3==a||0==a?"start":"end",f=1==a||0==a?"start":"end";return ea(this[e+"Container"],this[e+"Offset"],b[f+"Container"],b[f+"Offset"])},insertNode:function(a){z(this);v(a,kb);x(this.startContainer);if(Q(a,this.startContainer))throw new fa("HIERARCHY_REQUEST_ERR");a=k(a,this.startContainer,
this.startOffset);this.setStartBefore(a)},cloneContents:function(){z(this);var a,b;if(this.collapsed)return f(this).createDocumentFragment();if(this.startContainer===this.endContainer&&ca(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=f(this).createDocumentFragment(),b.appendChild(a),b;b=new A(this,!0);a=m(b);b.detach();return a},canSurroundContents:function(){z(this);x(this.startContainer);x(this.endContainer);var a=new A(this,
!0),b=a._first&&e(a._first,this)||a._last&&e(a._last,this);a.detach();return!b},surroundContents:function(a){v(a,Ha);if(!this.canSurroundContents())throw new fa("INVALID_STATE_ERR");var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);k(a,this.startContainer,this.startOffset);a.appendChild(b);this.selectNode(a)},cloneRange:function(){z(this);for(var a=new xa(f(this)),b=Va.length,e;b--;)e=Va[b],a[e]=this[e];return a},toString:function(){z(this);var a=this.startContainer;
if(a===this.endContainer&&ca(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):"";var b=[],a=new A(this,!0);n(a,function(a){3!=a.nodeType&&4!=a.nodeType||b.push(a.data)});a.detach();return b.join("")},compareNode:function(a){z(this);var b=a.parentNode,e=wa(a);if(!b)throw new fa("NOT_FOUND_ERR");a=this.comparePoint(b,e);b=this.comparePoint(b,e+1);return 0>a?0<b?2:0:0<b?1:3},comparePoint:function(a,b){z(this);if(!a)throw new fa("HIERARCHY_REQUEST_ERR");y(a,this.startContainer);
return 0>ea(a,b,this.startContainer,this.startOffset)?-1:0<ea(a,b,this.endContainer,this.endOffset)?1:0},createContextualFragment:sa?function(a){var b=this.startContainer,e=va(b);if(!b)throw new fa("INVALID_STATE_ERR");var f=null;1==b.nodeType?f=b:ca(b)&&(f=U.parentElement(b));f=null===f||"HTML"==f.nodeName&&U.isHtmlNamespace(va(f).documentElement)&&U.isHtmlNamespace(f)?e.createElement("body"):f.cloneNode(!1);f.innerHTML=a;return U.fragmentFromNodeChildren(f)}:function(a){var b=f(this).createElement("body");
b.innerHTML=a;return U.fragmentFromNodeChildren(b)},toHtml:function(){return B(this)},intersectsNode:function(a,b){z(this);if(ja(a)!=ja(this.startContainer))return!1;var e=a.parentNode,f=wa(a);if(!e)return!0;var g=ea(e,f,this.endContainer,this.endOffset),e=ea(e,f+1,this.startContainer,this.startOffset);return b?0>=g&&0<=e:0>g&&0<e},isPointInRange:function(a,b){z(this);if(!a)throw new fa("HIERARCHY_REQUEST_ERR");y(a,this.startContainer);return 0<=ea(a,b,this.startContainer,this.startOffset)&&0>=ea(a,
b,this.endContainer,this.endOffset)},intersectsRange:function(a){return l(this,a,!1)},intersectsOrTouchesRange:function(a){return l(this,a,!0)},intersection:function(a){if(this.intersectsRange(a)){var b=ea(this.startContainer,this.startOffset,a.startContainer,a.startOffset),e=ea(this.endContainer,this.endOffset,a.endContainer,a.endOffset),f=this.cloneRange();-1==b&&f.setStart(a.startContainer,a.startOffset);1==e&&f.setEnd(a.endContainer,a.endOffset);return f}return null},union:function(a){if(this.intersectsOrTouchesRange(a)){var b=
this.cloneRange();-1==ea(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset);1==ea(a.endContainer,a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset);return b}throw new fa("Ranges do not intersect");},containsNode:function(a,b){return b?this.intersectsNode(a,!1):3==this.compareNode(a)},containsNodeContents:function(a){return 0<=this.comparePoint(a,0)&&0>=this.comparePoint(a,$a(a))},containsRange:function(a){var b=
this.intersection(a);return null!==b&&a.equals(b)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var e=b.getNodes([3]);return 0<e.length?(b.setStart(e[0],0),a=e.pop(),b.setEnd(a,a.length),this.containsRange(b)):this.containsNodeContents(a)},getNodes:function(a,b){z(this);return q(this,a,b)},getDocument:function(){return f(this)},collapseBefore:function(a){this.setEndBefore(a);this.collapse(!1)},collapseAfter:function(a){this.setStartAfter(a);this.collapse(!0)},getBookmark:function(b){var e=
f(this),g=a.createRange(e);b=b||U.getBody(e);g.selectNodeContents(b);var e=this.intersection(g),h=0,k=0;e&&(g.setEnd(e.startContainer,e.startOffset),h=g.toString().length,k=h+e.toString().length);return{start:h,end:k,containerNode:b}},moveToBookmark:function(a){var b=a.containerNode,e=0;this.setStart(b,0);this.collapse(!0);for(var b=[b],f,g=!1,h=!1,k,l;!h&&(f=b.pop());)if(3==f.nodeType)k=e+f.length,!g&&a.start>=e&&a.start<=k&&(this.setStart(f,a.start-e),g=!0),g&&a.end>=e&&a.end<=k&&(this.setEnd(f,
a.end-e),h=!0),e=k;else for(l=f.childNodes,k=l.length;k--;)b.push(l[k])},getName:function(){return"DomRange"},equals:function(a){return xa.rangesEqual(this,a)},isValid:function(){return K(this)},inspect:function(){return w(this)},detach:function(){}});N(xa,R);Qa.extend(xa,{rangeProperties:Va,RangeIterator:A,copyComparisonConstants:J,createPrototypeRange:N,inspect:w,toHtml:B,getRangeDocument:f,rangesEqual:function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===
b.endContainer&&a.endOffset===b.endOffset}});a.DomRange=xa});G.createCoreModule("WrappedRange",["DomRange"],function(a,b){var e,f,g=a.dom,h=a.util,k=g.DomPosition,l=a.DomRange,m=g.getBody,n=g.getContentDocument,r=g.isCharacterDataNode;a.features.implementsDomRange&&function(){function f(a){for(var b=r.length,e;b--;)e=r[b],a[e]=a.nativeRange[e];a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset}var k,r=l.rangeProperties,p;e=function(a){if(!a)throw b.createError("WrappedRange: Range must be specified");
this.nativeRange=a;f(this)};l.createPrototypeRange(e,function(a,b,e,f,g){var h=a.startContainer!==b||a.startOffset!=e,k=a.endContainer!==f||a.endOffset!=g,l=!a.equals(a.nativeRange);if(h||k||l)a.setEnd(f,g),a.setStart(b,e)});k=e.prototype;k.selectNode=function(a){this.nativeRange.selectNode(a);f(this)};k.cloneContents=function(){return this.nativeRange.cloneContents()};k.surroundContents=function(a){this.nativeRange.surroundContents(a);f(this)};k.collapse=function(a){this.nativeRange.collapse(a);
f(this)};k.cloneRange=function(){return new e(this.nativeRange.cloneRange())};k.refresh=function(){f(this)};k.toString=function(){return this.nativeRange.toString()};var q=document.createTextNode("test");m(document).appendChild(q);var w=document.createRange();w.setStart(q,0);w.setEnd(q,0);try{w.setStart(q,1),k.setStart=function(a,b){this.nativeRange.setStart(a,b);f(this)},k.setEnd=function(a,b){this.nativeRange.setEnd(a,b);f(this)},p=function(a){return function(b){this.nativeRange[a](b);f(this)}}}catch(A){k.setStart=
function(a,b){try{this.nativeRange.setStart(a,b)}catch(e){this.nativeRange.setEnd(a,b),this.nativeRange.setStart(a,b)}f(this)},k.setEnd=function(a,b){try{this.nativeRange.setEnd(a,b)}catch(e){this.nativeRange.setStart(a,b),this.nativeRange.setEnd(a,b)}f(this)},p=function(a,b){return function(e){try{this.nativeRange[a](e)}catch(g){this.nativeRange[b](e),this.nativeRange[a](e)}f(this)}}}k.setStartBefore=p("setStartBefore","setEndBefore");k.setStartAfter=p("setStartAfter","setEndAfter");k.setEndBefore=
p("setEndBefore","setStartBefore");k.setEndAfter=p("setEndAfter","setStartAfter");k.selectNodeContents=function(a){this.setStartAndEnd(a,0,g.getNodeLength(a))};w.selectNodeContents(q);w.setEnd(q,3);p=document.createRange();p.selectNodeContents(q);p.setEnd(q,4);p.setStart(q,2);-1==w.compareBoundaryPoints(w.START_TO_END,p)&&1==w.compareBoundaryPoints(w.END_TO_START,p)?k.compareBoundaryPoints=function(a,b){b=b.nativeRange||b;a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END);return this.nativeRange.compareBoundaryPoints(a,
b)}:k.compareBoundaryPoints=function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)};p=document.createElement("div");p.innerHTML="123";var F=p.firstChild,t=m(document);t.appendChild(p);w.setStart(F,1);w.setEnd(F,2);w.deleteContents();"13"==F.data&&(k.deleteContents=function(){this.nativeRange.deleteContents();f(this)},k.extractContents=function(){var a=this.nativeRange.extractContents();f(this);return a});t.removeChild(p);t=null;h.isHostMethod(w,"createContextualFragment")&&
(k.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)});m(document).removeChild(q);k.getName=function(){return"WrappedRange"};a.WrappedRange=e;a.createNativeRange=function(a){a=n(a,b,"createNativeRange");return a.createRange()}}();if(a.features.implementsTextRange){var p=function(a,b,e,f,h){var l=a.duplicate();l.collapse(e);var m=l.parentElement();g.isOrIsAncestorOf(b,m)||(m=b);if(!m.canHaveHTML)return m=new k(m.parentNode,g.getNodeIndex(m)),{boundaryPosition:m,
nodeInfo:{nodeIndex:m.offset,containerElement:m.node}};b=g.getDocument(m).createElement("span");b.parentNode&&g.removeNode(b);var n,p=e?"StartToStart":"StartToEnd",q=h&&h.containerElement==m?h.nodeIndex:0,w=m.childNodes.length,A=w;for(h=A;;){h==w?m.appendChild(b):m.insertBefore(b,m.childNodes[h]);l.moveToElementText(b);n=l.compareEndPoints(p,a);if(0==n||q==A)break;else if(-1==n)if(A==q+1)break;else q=h;else A=A==q+1?q:h;h=Math.floor((q+A)/2);m.removeChild(b)}p=b.nextSibling;if(-1==n&&p&&r(p)){l.setEndPoint(e?
"EndToStart":"EndToEnd",a);if(/[\r\n]/.test(p.data))for(e=l.duplicate(),f=e.text.replace(/\r\n/g,"\r").length,f=e.moveStart("character",f);-1==e.compareEndPoints("StartToEnd",e);)f++,e.moveStart("character",1);else f=l.text.length;e=new k(p,f)}else a=(f||!e)&&b.previousSibling,e=(e=(f||e)&&b.nextSibling)&&r(e)?new k(e,0):a&&r(a)?new k(a,a.data.length):new k(m,g.getNodeIndex(b));g.removeNode(b);return{boundaryPosition:e,nodeInfo:{nodeIndex:h,containerElement:m}}},q=function(a,b){var e,f,h=a.offset,
k=g.getDocument(a.node),l=m(k).createTextRange(),n=r(a.node);n?(e=a.node,f=e.parentNode):(e=a.node.childNodes,e=h<e.length?e[h]:null,f=a.node);k=k.createElement("span");k.innerHTML="&#feff;";e?f.insertBefore(k,e):f.appendChild(k);l.moveToElementText(k);l.collapse(!b);f.removeChild(k);if(n)l[b?"moveStart":"moveEnd"]("character",h);return l};f=function(a){this.textRange=a;this.refresh()};f.prototype=new l(document);f.prototype.refresh=function(){var a,b,e;e=this.textRange;a=e.parentElement();var f=
e.duplicate();f.collapse(!0);b=f.parentElement();f=e.duplicate();f.collapse(!1);e=f.parentElement();b=b==e?b:g.getCommonAncestor(b,e);b=b==a?b:g.getCommonAncestor(a,b);a=this.textRange;0==a.compareEndPoints("StartToEnd",a)?b=a=p(this.textRange,b,!0,!0).boundaryPosition:(e=p(this.textRange,b,!0,!1),a=e.boundaryPosition,b=p(this.textRange,b,!1,!1,e.nodeInfo).boundaryPosition);this.setStart(a.node,a.offset);this.setEnd(b.node,b.offset)};f.prototype.getName=function(){return"WrappedTextRange"};l.copyComparisonConstants(f);
var w=function(a){if(a.collapsed)return q(new k(a.startContainer,a.startOffset),!0);var b=q(new k(a.startContainer,a.startOffset),!0),e=q(new k(a.endContainer,a.endOffset),!1);a=m(l.getRangeDocument(a)).createTextRange();a.setEndPoint("StartToStart",b);a.setEndPoint("EndToEnd",e);return a};f.rangeToTextRange=w;f.prototype.toTextRange=function(){return w(this)};a.WrappedTextRange=f;if(!a.features.implementsDomRange||a.config.preferTextRange){var A=Function("return this;")();"undefined"==typeof A.Range&&
(A.Range=f);a.createNativeRange=function(a){a=n(a,b,"createNativeRange");return m(a).createTextRange()};a.WrappedRange=f}}a.createRange=function(e){e=n(e,b,"createRange");return new a.WrappedRange(a.createNativeRange(e))};a.createRangyRange=function(a){a=n(a,b,"createRangyRange");return new l(a)};h.createAliasForDeprecatedMethod(a,"createIframeRange","createRange");h.createAliasForDeprecatedMethod(a,"createIframeRangyRange","createRangyRange");a.addShimListener(function(b){var e=b.document;"undefined"==
typeof e.createRange&&(e.createRange=function(){return a.createRange(e)});e=b=null})});G.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(a,b){function e(a){return"string"==typeof a?/^backward(s)?$/i.test(a):!!a}function f(a,e){if(a){if(K.isWindow(a))return a;if(a instanceof F)return a.win;var g=K.getContentDocument(a,b,e);return K.getWindow(g)}return window}function g(a){return f(a,"getWinSelection").getSelection()}function h(a){return f(a,"getDocSelection").document.selection}
function k(a){var b=!1;a.anchorNode&&(b=1==K.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset));return b}function l(a,b,e){var f=e?"end":"start";e=e?"start":"end";a.anchorNode=b[f+"Container"];a.anchorOffset=b[f+"Offset"];a.focusNode=b[e+"Container"];a.focusOffset=b[e+"Offset"]}function m(a){a.anchorNode=a.focusNode=null;a.anchorOffset=a.focusOffset=0;a.rangeCount=0;a.isCollapsed=!0;a._ranges.length=0}function n(b){var e;b instanceof B?(e=a.createNativeRange(b.getDocument()),e.setEnd(b.endContainer,
b.endOffset),e.setStart(b.startContainer,b.startOffset)):b instanceof M?e=b.nativeRange:R.implementsDomRange&&b instanceof K.getWindow(b.startContainer).Range&&(e=b);return e}function r(a){var e=a.getNodes(),f;a:if(e.length&&1==e[0].nodeType){f=1;for(var g=e.length;f<g;++f)if(!K.isAncestorOf(e[0],e[f])){f=!1;break a}f=!0}else f=!1;if(!f)throw b.createError("getSingleElementFromRange: range "+a.inspect()+" did not consist of a single element");return e[0]}function p(a){return!!a&&"undefined"!=typeof a.text}
function q(a,b){var e=new M(b);a._ranges=[e];l(a,e,!1);a.rangeCount=1;a.isCollapsed=e.collapsed}function w(b){b._ranges.length=0;if("None"==b.docSelection.type)m(b);else{var e=b.docSelection.createRange();if(p(e))q(b,e);else{b.rangeCount=e.length;for(var f,g=xa(e.item(0)),h=0;h<b.rangeCount;++h)f=a.createRange(g),f.selectNode(e.item(h)),b._ranges.push(f);b.isCollapsed=1==b.rangeCount&&b._ranges[0].collapsed;l(b,b._ranges[b.rangeCount-1],!1)}}}function A(a,e){for(var f=a.docSelection.createRange(),
g=r(e),h=xa(f.item(0)),h=U(h).createControlRange(),k=0,l=f.length;k<l;++k)h.add(f.item(k));try{h.add(g)}catch(m){throw b.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)");}h.select();w(a)}function F(a,b,e){this.nativeSelection=a;this.docSelection=b;this._ranges=[];this.win=e;this.refresh()}function t(a){a.win=a.anchorNode=a.focusNode=a._ranges=null;a.rangeCount=a.anchorOffset=a.focusOffset=0;a.detached=!0}function v(a,b){for(var e=
ua.length,f,g;e--;)if(f=ua[e],g=f.selection,"deleteAll"==b)t(g);else if(f.win==a)return"delete"==b?(ua.splice(e,1),!0):g;"deleteAll"==b&&(ua.length=0);return null}function D(a,e){for(var f=xa(e[0].startContainer),f=U(f).createControlRange(),g=0,h,k=e.length;g<k;++g){h=r(e[g]);try{f.add(h)}catch(l){throw b.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)");}}f.select();w(a)}function y(a,b){if(a.win.document!=xa(b))throw new J("WRONG_DOCUMENT_ERR");
}function x(b){return function(e,f){var g;this.rangeCount?(g=this.getRangeAt(0),g["set"+(b?"Start":"End")](e,f)):(g=a.createRange(this.win.document),g.setStartAndEnd(e,f));this.setSingleRange(g,this.isBackward())}}function G(a){var b=[],e=new H(a.anchorNode,a.anchorOffset),f=new H(a.focusNode,a.focusOffset),g="function"==typeof a.getName?a.getName():"Selection";if("undefined"!=typeof a.rangeCount)for(var h=0,k=a.rangeCount;h<k;++h)b[h]=B.inspect(a.getRangeAt(h));return"["+g+"(Ranges: "+b.join(", ")+
")(anchor: "+e.inspect()+", focus: "+f.inspect()+"]"}a.config.checkSelectionRanges=!0;var K=a.dom,z=a.util,E=z.isHostMethod,B=a.DomRange,M=a.WrappedRange,J=a.DOMException,H=K.DomPosition,N,L,R=a.features,xa=K.getDocument,U=K.getBody,Qa=B.rangesEqual,ia=E(window,"getSelection"),fa=z.isHostObject(document,"selection");R.implementsWinGetSelection=ia;var ca=(R.implementsDocSelection=fa)&&(!ia||a.config.preferTextRange);if(ca)N=h,a.isSelectionValid=function(a){a=f(a,"isSelectionValid").document;var b=
a.selection;return"None"!=b.type||xa(b.createRange().parentElement())==a};else if(ia)N=g,a.isSelectionValid=function(){return!0};else return b.fail("Neither document.selection or window.getSelection() detected."),!1;a.getNativeSelection=N;ia=N();if(!ia)return b.fail("Native selection was null (possibly issue 138?)"),!1;var wa=a.createNativeRange(document),Q=U(document),va=z.areHostProperties(ia,["anchorNode","focusNode","anchorOffset","focusOffset"]);R.selectionHasAnchorAndFocus=va;var ea=E(ia,"extend");
R.selectionHasExtend=ea;var aa="number"==typeof ia.rangeCount;R.selectionHasRangeCount=aa;var qa=!1,$a=!0,Ua=ea?function(b,e){var f=B.getRangeDocument(e),f=a.createRange(f);f.collapseToPoint(e.endContainer,e.endOffset);b.addRange(n(f));b.extend(e.startContainer,e.startOffset)}:null;z.areHostMethods(ia,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof ia.rangeCount&&R.implementsDomRange&&function(){var b=window.getSelection();if(b){for(var e=b.rangeCount,f=1<e,g=[],h=k(b),l=0;l<e;++l)g[l]=
b.getRangeAt(l);var l=K.createTestElement(document,"",!1),m=l.appendChild(document.createTextNode("\u00a0\u00a0\u00a0")),n=document.createRange();n.setStart(m,1);n.collapse(!0);b.removeAllRanges();b.addRange(n);$a=1==b.rangeCount;b.removeAllRanges();f||((f=window.navigator.appVersion.match(/Chrome\/(.*?) /))&&36<=parseInt(f[1])?qa=!1:(f=n.cloneRange(),n.setStart(m,0),f.setEnd(m,3),f.setStart(m,2),b.addRange(n),b.addRange(f),qa=2==b.rangeCount));K.removeNode(l);b.removeAllRanges();for(l=0;l<e;++l)0==
l&&h?Ua?Ua(b,g[l]):(a.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),b.addRange(g[l])):b.addRange(g[l])}}();R.selectionSupportsMultipleRanges=qa;R.collapsedNonEditableSelectionsSupported=$a;var ja=!1;Q&&E(Q,"createControlRange")&&(Q=Q.createControlRange(),z.areHostProperties(Q,["item","add"])&&(ja=!0));R.implementsControlRange=ja;L=va?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===
a.focusOffset}:function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:!1};var Pa;E(ia,"getRangeAt")?Pa=function(a,b){try{return a.getRangeAt(b)}catch(e){return null}}:va&&(Pa=function(b){var e=xa(b.anchorNode),e=a.createRange(e);e.setStartAndEnd(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset);e.collapsed!==this.isCollapsed&&e.setStartAndEnd(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset);return e});F.prototype=a.selectionPrototype;var ua=[],Ra=function(a){if(a&&a instanceof
F)return a.refresh(),a;a=f(a,"getNativeSelection");var b=v(a),e=N(a),g=fa?h(a):null;b?(b.nativeSelection=e,b.docSelection=g,b.refresh()):(b=new F(e,g,a),ua.push({win:a,selection:b}));return b};a.getSelection=Ra;z.createAliasForDeprecatedMethod(a,"getIframeSelection","getSelection");Q=F.prototype;if(!ca&&va&&z.areHostMethods(ia,["removeAllRanges","addRange"]))Q.removeAllRanges=function(){this.nativeSelection.removeAllRanges();m(this)},Q.addRange=aa?function(b,f){if(ja&&fa&&"Control"==this.docSelection.type)A(this,
b);else if(e(f)&&ea)Ua(this.nativeSelection,b),this.refresh();else{var g;qa?g=this.rangeCount:(this.removeAllRanges(),g=0);var h=n(b).cloneRange();try{this.nativeSelection.addRange(h)}catch(k){}this.rangeCount=this.nativeSelection.rangeCount;this.rangeCount==g+1?(a.config.checkSelectionRanges&&(g=Pa(this.nativeSelection,this.rangeCount-1))&&!Qa(g,b)&&(b=new M(g)),this._ranges[this.rangeCount-1]=b,l(this,b,Ha(this.nativeSelection)),this.isCollapsed=L(this)):this.refresh()}}:function(a,b){e(b)&&ea?
Ua(this.nativeSelection,a):this.nativeSelection.addRange(n(a));this.refresh()},Q.setRanges=function(a){if(ja&&fa&&1<a.length)D(this,a);else{this.removeAllRanges();for(var b=0,e=a.length;b<e;++b)this.addRange(a[b])}};else if(E(ia,"empty")&&E(wa,"select")&&ja&&ca)Q.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var a;if(this.anchorNode)a=xa(this.anchorNode);else if("Control"==this.docSelection.type){var b=this.docSelection.createRange();b.length&&(a=xa(b.item(0)))}a&&
(U(a).createTextRange().select(),this.docSelection.empty())}}catch(e){}m(this)},Q.addRange=function(b){"Control"==this.docSelection.type?A(this,b):(a.WrappedTextRange.rangeToTextRange(b).select(),this._ranges[0]=b,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,l(this,b,!1))},Q.setRanges=function(a){this.removeAllRanges();var b=a.length;1<b?D(this,a):b&&this.addRange(a[0])};else return b.fail("No means of selecting a Range or TextRange was found"),!1;Q.getRangeAt=function(a){if(0>a||
a>=this.rangeCount)throw new J("INDEX_SIZE_ERR");return this._ranges[a].cloneRange()};var Xa;if(ca)Xa=function(b){var e;a.isSelectionValid(b.win)?e=b.docSelection.createRange():(e=U(b.win.document).createTextRange(),e.collapse(!0));"Control"==b.docSelection.type?w(b):p(e)?q(b,e):m(b)};else if(E(ia,"getRangeAt")&&"number"==typeof ia.rangeCount)Xa=function(b){if(ja&&fa&&"Control"==b.docSelection.type)w(b);else if(b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount,b.rangeCount){for(var e=0,f=
b.rangeCount;e<f;++e)b._ranges[e]=new a.WrappedRange(b.nativeSelection.getRangeAt(e));l(b,b._ranges[b.rangeCount-1],Ha(b.nativeSelection));b.isCollapsed=L(b)}else m(b)};else if(va&&"boolean"==typeof ia.isCollapsed&&"boolean"==typeof wa.collapsed&&R.implementsDomRange)Xa=function(a){var b;b=a.nativeSelection;b.anchorNode?(b=Pa(b,0),a._ranges=[b],a.rangeCount=1,b=a.nativeSelection,a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset,a.isCollapsed=
L(a)):m(a)};else return b.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;Q.refresh=function(a){var b=a?this._ranges.slice(0):null,e=this.anchorNode,f=this.anchorOffset;Xa(this);if(a){a=b.length;if(a!=this._ranges.length||this.anchorNode!=e||this.anchorOffset!=f)return!0;for(;a--;)if(!Qa(b[a],this._ranges[a]))return!0;return!1}};var kb=function(a,b){var e=a.getAllRanges();a.removeAllRanges();for(var f=0,g=e.length;f<g;++f)Qa(b,e[f])||a.addRange(e[f]);a.rangeCount||
m(a)};Q.removeRange=ja&&fa?function(a){if("Control"==this.docSelection.type){var b=this.docSelection.createRange();a=r(a);for(var e=xa(b.item(0)),e=U(e).createControlRange(),f,g=!1,h=0,k=b.length;h<k;++h)f=b.item(h),f!==a||g?e.add(b.item(h)):g=!0;e.select();w(this)}else kb(this,a)}:function(a){kb(this,a)};var Ha;!ca&&va&&R.implementsDomRange?(Ha=k,Q.isBackward=function(){return Ha(this)}):Ha=Q.isBackward=function(){return!1};Q.isBackwards=Q.isBackward;Q.toString=function(){for(var a=[],b=0,e=this.rangeCount;b<
e;++b)a[b]=""+this._ranges[b];return a.join("")};Q.collapse=function(b,e){y(this,b);var f=a.createRange(b);f.collapseToPoint(b,e);this.setSingleRange(f);this.isCollapsed=!0};Q.collapseToStart=function(){if(this.rangeCount){var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)}else throw new J("INVALID_STATE_ERR");};Q.collapseToEnd=function(){if(this.rangeCount){var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)}else throw new J("INVALID_STATE_ERR");};Q.selectAllChildren=
function(b){y(this,b);var e=a.createRange(b);e.selectNodeContents(b);this.setSingleRange(e)};Q.deleteFromDocument=function(){if(ja&&fa&&"Control"==this.docSelection.type){for(var a=this.docSelection.createRange(),b;a.length;)b=a.item(0),a.remove(b),K.removeNode(b);this.refresh()}else if(this.rangeCount&&(a=this.getAllRanges(),a.length)){this.removeAllRanges();b=0;for(var e=a.length;b<e;++b)a[b].deleteContents();this.addRange(a[e-1])}};Q.eachRange=function(a,b){for(var e=0,f=this._ranges.length;e<
f;++e)if(a(this.getRangeAt(e)))return b};Q.getAllRanges=function(){var a=[];this.eachRange(function(b){a.push(b)});return a};Q.setSingleRange=function(a,b){this.removeAllRanges();this.addRange(a,b)};Q.callMethodOnEachRange=function(a,b){var e=[];this.eachRange(function(f){e.push(f[a].apply(f,b||[]))});return e};Q.setStart=x(!0);Q.setEnd=x(!1);a.rangePrototype.select=function(a){Ra(this.getDocument()).setSingleRange(this,a)};Q.changeEachRange=function(a){var b=[],e=this.isBackward();this.eachRange(function(e){a(e);
b.push(e)});this.removeAllRanges();e&&1==b.length?this.addRange(b[0],"backward"):this.setRanges(b)};Q.containsNode=function(a,b){return this.eachRange(function(e){return e.containsNode(a,b)},!0)||!1};Q.getBookmark=function(a){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[a])}};Q.moveToBookmark=function(b){for(var e=[],f=0,g,h;g=b.rangeBookmarks[f++];)h=a.createRange(this.win),h.moveToBookmark(g),e.push(h);b.backward?this.setSingleRange(e[0],"backward"):
this.setRanges(e)};Q.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}};Q.restoreRanges=function(a){this.removeAllRanges();for(var b=0,e;e=a.ranges[b];++b)this.addRange(e,a.backward&&0==b)};Q.toHtml=function(){var a=[];this.eachRange(function(b){a.push(B.toHtml(b))});return a.join("")};R.implementsTextRange&&(Q.getNativeTextRange=function(){var e;if(e=this.docSelection){e=e.createRange();if(p(e))return e;throw b.createError("getNativeTextRange: selection is a control selection");
}if(0<this.rangeCount)return a.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw b.createError("getNativeTextRange: selection contains no range");});Q.getName=function(){return"WrappedSelection"};Q.inspect=function(){return G(this)};Q.detach=function(){v(this.win,"delete");t(this)};F.detachAll=function(){v(null,"deleteAll")};F.inspect=G;F.isDirectionBackward=e;a.Selection=F;a.selectionPrototype=Q;a.addShimListener(function(a){"undefined"==typeof a.getSelection&&(a.getSelection=function(){return Ra(a)});
a=null})});var R=!1,w=function(a){R||(R=!0,!G.initialized&&G.config.autoInitialize&&n())};F&&("complete"==document.readyState?w():(a(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",w,!1),J(window,"load",w)));return G},this);
(function(a,h){"function"==typeof define&&define.amd?define(["./rangy-core"],a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a(require("rangy")):a(h.rangy)})(function(a){a.createModule("TextRange",["WrappedSelection"],function(a,b){function e(a,b){for(var e=a.slice(b.start,b.end),f={isWord:b.isWord,chars:e,toString:function(){return e.join("")}},g=0,h=e.length;g<h;++g)e[g].token=f;return f}function g(a,b,f){b=f(a,b);f=[];for(var g=0,h;h=b[g++];)f.push(e(a,h));return f}function f(a){a=
a||"";a="string"==typeof a?a.split(""):a;a.sort(function(a,b){return a.charCodeAt(0)-b.charCodeAt(0)});return a.join("").replace(/(.)\1+/g,"$1")}function l(a,b){var e=X(a,b);if(b.hasOwnProperty("wordOptions")){var f;f=e.wordOptions;var g,h;f?(g=f.language||"en",h={},P(h,pa[g]||pa.en),P(h,f),f=h):f=pa.en;e.wordOptions=f}b.hasOwnProperty("characterOptions")&&(e.characterOptions=X(e.characterOptions,oa));return e}function k(a,b){var e=ya(a,"display",b),f=a.tagName.toLowerCase();return"block"==e&&cb&&
Ta.hasOwnProperty(f)?Ta[f]:e}function n(a){for(var b=a,e=[];b.parentNode;)e.unshift(b.parentNode),b=b.parentNode;a=e.concat([a]);b=0;for(e=a.length;b<e;++b)if(1==a[b].nodeType&&"none"==k(a[b]))return!0;return!1}function m(a,b){if(!b&&a.hasChildNodes())return a.firstChild;var e;for(e=a;e&&!e.nextSibling;)e=e.parentNode;e=e?e.nextSibling:null;return e}function p(a){var b=a.previousSibling;if(b){for(a=b;a.hasChildNodes();)a=a.lastChild;return a}return(a=a.parentNode)&&1==a.nodeType?a:null}function q(a){if(!a||
3!=a.nodeType)return!1;var b=a.data;if(""===b)return!0;var e=a.parentNode;if(!e||1!=e.nodeType)return!1;a=ya(a.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(b)&&/^(normal|nowrap)$/.test(a)||/^[\t\r ]+$/.test(b)&&"pre-line"==a}function r(a){return""===a.data?!0:q(a)?!a.parentNode||n(a)?!0:!1:!1}function t(a){var b=a.nodeType;if(!(b=7==b||8==b||n(a)||/^(script|style)$/i.test(a.nodeName)))var e,b=3==a.nodeType&&(e=a.parentNode)&&"hidden"==ya(e,"visibility");return b||r(a)}function v(a,b){var e=
a.nodeType;return 7==e||8==e||1==e&&"none"==k(a,b)}function x(){this.store={}}function y(a,b,e){return function(f){var g=this.cache;if(g.hasOwnProperty(a))return yb++,g[a];ib++;f=b.call(this,e?this[e]:this,f);return g[a]=f}}function z(a,b){this.node=a;this.session=b;this.cache=new x;this.positions=new x}function B(a,b){this.offset=b;this.nodeWrapper=a;this.node=a.node;this.session=a.session;this.cache=new x}function E(){w();return u=new fb}function w(){u&&u.detach();u=null}function A(a,e,f,g){function h(){var a=
null;e?(a=k,l||(k=k.previousVisible(),l=!k||f&&k.equals(f))):l||(a=k=k.nextVisible(),l=!k||f&&k.equals(f));l&&(k=null);return a}f&&(e?t(f.node)&&(f=a.previousVisible()):t(f.node)&&(f=f.nextVisible()));var k=a,l=!1,m,n=!1;return{next:function(){if(n)return n=!1,m;for(var a,b;a=h();)if(b=a.getCharacter(g))return m=a;return null},rewind:function(){if(m)n=!0;else throw b.createError("createCharacterIterator: cannot rewind. Only one position can be rewound.");},dispose:function(){a=f=null}}}function D(a,
b,e){function f(a){for(var b,e=[],g=a?h:k,l=!1,m=!1;a=g.next();){b=a.character;if(Z.test(b))m&&(m=!1,l=!0);else if(l){g.rewind();break}else m=!0;e.push(a)}return e}var h=A(a,!1,null,b),k=A(a,!0,null,b),l=e.tokenizer;a=f(!0);b=f(!1).reverse();var m=g(b.concat(a),e,l),n=a.length?m.slice(Ka(m,a[0].token)):[],r=b.length?m.slice(0,Ka(m,b.pop().token)+1):[];return{nextEndToken:function(){for(var a,b;1==n.length&&!(a=n[0]).isWord&&0<(b=f(!0)).length;)n=g(a.chars.concat(b),e,l);return n.shift()},previousStartToken:function(){for(var a,
b;1==r.length&&!(a=r[0]).isWord&&0<(b=f(!1)).length;)r=g(b.reverse().concat(a.chars),e,l);return r.pop()},dispose:function(){h.dispose();k.dispose();n=r=null}}}function F(a,b,e,f){var g=a.getRangeBoundaryPosition(b,!0);a=a.getRangeBoundaryPosition(b,!1);return A(f?a:g,!!f,f?g:a,e)}function K(b,e,f,g,k){function l(b,e){var f=n[b].previousVisible(),g=n[e-1],m;if(!(m=!k.wholeWordsOnly)){m=k.wordOptions;var r=a.createRange(f.node);r.setStartAndEnd(f.node,f.offset,g.node,g.offset);m=!r.expand("word",{wordOptions:m})}return{startPos:f,
endPos:g,valid:m}}var m=V(k.direction);b=A(b,m,b.session.getRangeBoundaryPosition(g,m),k.characterOptions);g="";for(var n=[],r,p,q,w,F,t=null;r=b.next();)if(p=r.character,f||k.caseSensitive||(p=p.toLowerCase()),m?(n.unshift(r),g=p+g):(n.push(r),g+=p),f){if(r=e.exec(g))if(q=r.index,w=q+r[0].length,F){if(!m&&w<g.length||m&&0<q){t=l(q,w);break}}else F=!0}else if(-1!=(q=g.indexOf(e))){t=l(q,q+e.length);break}F&&(t=l(q,w));b.dispose();return t}function G(a){return function(){var b=!!u,e=[u||E()].concat(R.toArray(arguments)),
e=a.apply(this,e);b||w();return e}}function M(a,b){return G(function(e,f,g,h){var k;"undefined"==typeof g&&(g=f,f="character");h=l(h,ha);var m=a;b&&(m=0<=g,this.collapse(!m));e=e.getRangeBoundaryPosition(this,m);var n=g;g=h.characterOptions;var r=h.wordOptions;h=0;var p=e,q=Math.abs(n);if(0!==n){n=0>n;switch(f){case "character":for(r=A(e,n,null,g);(k=r.next())&&h<q;)++h,p=k;r.dispose();break;case "word":for(var r=D(e,g,r),w=n?r.previousStartToken:r.nextEndToken;(r=w())&&h<q;)r.isWord&&(++h,p=n?r.chars[0]:
r.chars[r.chars.length-1]);break;default:throw Error("movePositionBy: unit '"+f+"' not implemented");}n?(p=p.previousVisible(),h=-h):p&&p.isLeadingSpace&&!p.isTrailingSpace&&("word"==f&&(r=A(e,!1,null,g),k=r.next(),r.dispose()),k&&(p=k.previousVisible()))}e=p;k=h;this[m?"setStart":"setEnd"](e.node,e.offset);return k})}function J(a){return G(function(b,e){e=X(e,oa);for(var f,g=F(b,this,e,!a),h=0;(f=g.next())&&Z.test(f.character);)++h;g.dispose();if(f=0<h)this[a?"moveStart":"moveEnd"]("character",a?
h:-h,{characterOptions:e});return f})}function N(a){return G(function(b,e){var f=!1;this.changeEachRange(function(b){f=b[a](e)||f});return f})}var L=a.dom,R=a.util,P=R.extend,X=R.createOptions,T=L.getBody,da=/^[ \t\f\r\n]+$/,O=/^[ \t\f\r]+$/,Z=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/,ga=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/,V=a.Selection.isDirectionBackward,ka=!1,Y=!1;(function(){var b=L.createTestElement(document,"<p>1 </p><p></p>",!0),
e=b.firstChild,f=a.getSelection();f.collapse(e.lastChild,2);f.setStart(e.firstChild,0);b.innerHTML="1 <br />";f.collapse(b,2);f.setStart(b.firstChild,0);ka=1==(""+f).length;b.innerHTML="1 <p>1</p>";f.collapse(b,2);f.setStart(b.firstChild,0);Y=1==(""+f).length;L.removeNode(b);f.removeAllRanges()})();var oa={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:""},ta={includeBlockContentTrailingSpace:!1,includeSpaceBeforeBr:!ka,
includeSpaceBeforeBlock:!Y,includePreLineTrailingSpace:!0},pa={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:function(a,b){function e(a,b,f){h.push({start:a,end:b,isWord:f})}for(var f=a.join(""),g,h=[],k=0,l;g=b.wordRegex.exec(f);){l=g.index;g=l+g[0].length;l>k&&e(k,l,!1);if(b.includeTrailingSpace)for(;ga.test(a[g]);)++g;e(l,g,!0);k=g}k<a.length&&e(k,a.length,!1);return h}}},bb={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:"forward",wordOptions:null,
characterOptions:null},ha={wordOptions:null,characterOptions:null},Sa={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},Ea={wordOptions:null,characterOptions:null,direction:"forward"},ya=L.getComputedStyleProperty,cb;(function(){var a=document.createElement("table"),b=T(document);b.appendChild(a);cb="block"==ya(a,"display");b.removeChild(a)})();var Ta={table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",
tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell"};x.prototype={get:function(a){return this.store.hasOwnProperty(a)?this.store[a]:null},set:function(a,b){return this.store[a]=b}};var yb=0,ib=0,ba={getPosition:function(a){var b=this.positions;return b.get(a)||b.set(a,new B(this,a))},toString:function(){return"[NodeWrapper("+L.inspectNode(this.node)+")]"}};z.prototype=ba;P(ba,{isCharacterDataNode:y("isCharacterDataNode",L.isCharacterDataNode,"node"),getNodeIndex:y("nodeIndex",
L.getNodeIndex,"node"),getLength:y("nodeLength",L.getNodeLength,"node"),containsPositions:y("containsPositions",function(a){return L.isCharacterDataNode(a)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(a.nodeName)},"node"),isWhitespace:y("isWhitespace",q,"node"),isCollapsedWhitespace:y("isCollapsedWhitespace",r,"node"),getComputedDisplay:y("computedDisplay",k,"node"),isCollapsed:y("collapsed",t,"node"),isIgnored:y("ignored",v,"node"),next:y("nextPos",m,"node"),
previous:y("previous",p,"node"),getTextNodeInfo:y("textNodeInfo",function(a){var b=null,e=!1,f=ya(a.parentNode,"whiteSpace"),g="pre-line"==f;if(g)b=O,e=!0;else if("normal"==f||"nowrap"==f)b=da,e=!0;return{node:a,text:a.data,spaceRegex:b,collapseSpaces:e,preLine:g}},"node"),hasInnerText:y("hasInnerText",function(a,b){for(var e=this.session,f=e.getPosition(a.parentNode,this.getNodeIndex()+1),g=e.getPosition(a,0),e=b?f:g,f=b?g:f;e!==f;){e.prepopulateChar();if(e.isDefinitelyNonEmpty())return!0;e=b?e.previousVisible():
e.nextVisible()}return!1},"node"),isRenderedBlock:y("isRenderedBlock",function(a){a=a.getElementsByTagName("br");for(var b=0,e=a.length;b<e;++b)if(!t(a[b]))return!0;return this.hasInnerText()},"node"),getTrailingSpace:y("trailingSpace",function(a){if("br"!=a.tagName.toLowerCase())switch(this.getComputedDisplay()){case "inline":for(a=a.lastChild;a;){if(!v(a))return 1==a.nodeType?this.session.getNodeWrapper(a).getTrailingSpace():"";a=a.previousSibling}break;case "inline-block":case "inline-table":case "none":case "table-column":case "table-column-group":break;
case "table-cell":return"\t";default:return this.isRenderedBlock(!0)?"\n":""}return""},"node"),getLeadingSpace:y("leadingSpace",function(a){switch(this.getComputedDisplay()){case "inline":case "inline-block":case "inline-table":case "none":case "table-column":case "table-column-group":case "table-cell":break;default:return this.isRenderedBlock(!1)?"\n":""}return""},"node")});ba={character:"",characterType:"EMPTY",isBr:!1,prepopulateChar:function(){if(!this.prepopulatedChar){var a=this.node,b=this.offset,
e="",f="EMPTY",g=!1;if(0<b)if(3==a.nodeType){var a=a.data,h=a.charAt(b-1),k=this.nodeWrapper.getTextNodeInfo(),l=k.spaceRegex;k.collapseSpaces?l.test(h)?1<b&&l.test(a.charAt(b-2))||(k.preLine&&"\n"===a.charAt(b)?(e=" ",f="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"):(e=" ",f="COLLAPSIBLE_SPACE")):(e=h,f="NON_SPACE",g=!0):(e=h,f="UNCOLLAPSIBLE_SPACE",g=!0)}else(h=a.childNodes[b-1])&&1==h.nodeType&&!t(h)&&("br"==h.tagName.toLowerCase()?(e="\n",this.isBr=!0,f="COLLAPSIBLE_SPACE",g=!1):this.checkForTrailingSpace=
!0),e||(b=a.childNodes[b])&&1==b.nodeType&&!t(b)&&(this.checkForLeadingSpace=!0);this.prepopulatedChar=!0;this.character=e;this.characterType=f;this.isCharInvariant=g}},isDefinitelyNonEmpty:function(){var a=this.characterType;return"NON_SPACE"==a||"UNCOLLAPSIBLE_SPACE"==a},resolveLeadingAndTrailingSpaces:function(){this.prepopulatedChar||this.prepopulateChar();if(this.checkForTrailingSpace){var a=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();a&&(this.isTrailingSpace=
!0,this.character=a,this.characterType="COLLAPSIBLE_SPACE");this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){if(a=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace())this.isLeadingSpace=!0,this.character=a,this.characterType="COLLAPSIBLE_SPACE";this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(a){for(var b=this,e;b=b.previousVisible();)if(e=b.getCharacter(a),""!==e)return b;return null},getCharacter:function(a){function b(){n||(m=r.getPrecedingUncollapsedPosition(a),
n=!0);return m}this.resolveLeadingAndTrailingSpaces();var e=this.character,g=f(a.ignoreCharacters),h=""!==e&&-1<g.indexOf(e);if(this.isCharInvariant)return h?"":e;var h=["character",a.includeSpaceBeforeBr,a.includeBlockContentTrailingSpace,a.includePreLineTrailingSpace,g].join("_"),k=this.cache.get(h);if(null!==k)return k;var k="",l,m,n=!1,r=this;if("COLLAPSIBLE_SPACE"==this.characterType)if("INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"==this.type)k="\n";else if(" "!=e||b()&&!m.isTrailingSpace&&"\n"!=m.character&&
(" "!=m.character||"COLLAPSIBLE_SPACE"!=m.characterType))if("\n"==e&&this.isLeadingSpace)b()&&"\n"!=m.character&&(k="\n");else if(l=this.nextUncollapsed())if(l.isBr?this.type="TRAILING_SPACE_BEFORE_BR":l.isTrailingSpace&&"\n"==l.character?this.type="TRAILING_SPACE_IN_BLOCK":l.isLeadingSpace&&"\n"==l.character&&(this.type="TRAILING_SPACE_BEFORE_BLOCK"),"\n"==l.character){if("TRAILING_SPACE_BEFORE_BR"!=this.type||a.includeSpaceBeforeBr)if("TRAILING_SPACE_BEFORE_BLOCK"!=this.type||a.includeSpaceBeforeBlock)if("TRAILING_SPACE_IN_BLOCK"!=
this.type||!l.isTrailingSpace||a.includeBlockContentTrailingSpace)if("PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"!=this.type||"NON_SPACE"!=l.type||a.includePreLineTrailingSpace)"\n"==e?l.isTrailingSpace?!this.isTrailingSpace&&this.isBr&&(l.type="TRAILING_LINE_BREAK_AFTER_BR",b()&&m.isLeadingSpace&&!m.isTrailingSpace&&"\n"==m.character?l.character="":l.type="INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"):k="\n":" "==e&&(k=" ")}else k=e;-1<g.indexOf(k)&&(k="");this.cache.set(h,k);return k},equals:function(a){return!!a&&
this.node===a.node&&this.offset===a.offset},inspect:function(){return"[Position("+L.inspectNode(this.node)+":"+this.offset+")]"},toString:function(){return this.character}};B.prototype=ba;P(ba,{next:y("nextPos",function(a){var b=a.nodeWrapper,e=a.node,f=a.offset;a=b.session;if(!e)return null;f==b.getLength()?b=(e=e.parentNode)?b.getNodeIndex()+1:0:b.isCharacterDataNode()?b=f+1:(b=e.childNodes[f],a.getNodeWrapper(b).containsPositions()?(e=b,b=0):b=f+1);return e?a.getPosition(e,b):null}),previous:y("previous",
function(a){var b=a.nodeWrapper,e=a.node,f=a.offset;a=b.session;0==f?b=(e=e.parentNode)?b.getNodeIndex():0:b.isCharacterDataNode()?b=f-1:(b=e.childNodes[f-1],a.getNodeWrapper(b).containsPositions()?(e=b,b=L.getNodeLength(b)):b=f-1);return e?a.getPosition(e,b):null}),nextVisible:y("nextVisible",function(a){var b=a.next();if(!b)return null;a=b.nodeWrapper;var e=b.node;a.isCollapsed()&&(b=a.session.getPosition(e.parentNode,a.getNodeIndex()+1));return b}),nextUncollapsed:y("nextUncollapsed",function(a){for(;a=
a.nextVisible();)if(a.resolveLeadingAndTrailingSpaces(),""!==a.character)return a;return null}),previousVisible:y("previousVisible",function(a){var b=a.previous();if(!b)return null;a=b.nodeWrapper;var e=b.node;a.isCollapsed()&&(b=a.session.getPosition(e.parentNode,a.getNodeIndex()));return b})});var u=null,fb=function(){function a(b){var e=new x;return{get:function(a){var f=e.get(a[b]);if(f)for(var g=0,h;h=f[g++];)if(h.node===a)return h;return null},set:function(a){var f=a.node[b];(e.get(f)||e.set(f,
[])).push(a)}}}function b(){this.initCaches()}var e=R.isHostProperty(document.documentElement,"uniqueID");b.prototype={initCaches:function(){this.elementCache=e?function(){var a=new x;return{get:function(b){return a.get(b.uniqueID)},set:function(b){a.set(b.node.uniqueID,b)}}}():a("tagName");this.textNodeCache=a("data");this.otherNodeCache=a("nodeName")},getNodeWrapper:function(a){var b;switch(a.nodeType){case 1:b=this.elementCache;break;case 3:b=this.textNodeCache;break;default:b=this.otherNodeCache}var e=
b.get(a);e||(e=new z(a,this),b.set(e));return e},getPosition:function(a,b){return this.getNodeWrapper(a).getPosition(b)},getRangeBoundaryPosition:function(a,b){var e=b?"start":"end";return this.getPosition(a[e+"Container"],a[e+"Offset"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}};return b}();P(L,{nextNode:m,previousNode:p});var Ka=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var e=0,f=a.length;e<f;++e)if(a[e]===b)return e;return-1};
P(a.rangePrototype,{moveStart:M(!0,!1),moveEnd:M(!1,!1),move:M(!0,!0),trimStart:J(!0),trimEnd:J(!1),trim:G(function(a,b){var e=this.trimStart(b),f=this.trimEnd(b);return e||f}),expand:G(function(a,b,e){var f=!1;e=l(e,Sa);var g=e.characterOptions;b||(b="character");if("word"==b){var h=e.wordOptions;b=a.getRangeBoundaryPosition(this,!0);a=a.getRangeBoundaryPosition(this,!1);var k=D(b,g,h).nextEndToken(),m=k.chars[0].previousVisible(),h=this.collapsed?k:D(a,g,h).previousStartToken(),h=h.chars[h.chars.length-
1];m.equals(b)||(this.setStart(m.node,m.offset),f=!0);h&&!h.equals(a)&&(this.setEnd(h.node,h.offset),f=!0);e.trim&&(e.trimStart&&(f=this.trimStart(g)||f),e.trimEnd&&(f=this.trimEnd(g)||f));return f}return this.moveEnd("character",1,e)}),text:G(function(a,b){var e;if(this.collapsed)e="";else{var f=X(b,oa);e=[];for(var f=F(a,this,f),g;g=f.next();)e.push(g);f.dispose();e=e.join("")}return e}),selectCharacters:G(function(a,b,e,f,g){a={characterOptions:g};b||(b=T(this.getDocument()));this.selectNodeContents(b);
this.collapse(!0);this.moveStart("character",e,a);this.collapse(!0);this.moveEnd("character",f-e,a)}),toCharacterRange:G(function(a,b,e){b||(b=T(this.getDocument()));a=b.parentNode;b=L.getNodeIndex(b);var f=-1==L.comparePoints(this.startContainer,this.endContainer,a,b),g=this.cloneRange();f?(g.setStartAndEnd(this.startContainer,this.startOffset,a,b),a=-g.text(e).length):(g.setStartAndEnd(a,b,this.startContainer,this.startOffset),a=g.text(e).length);e=a+this.text(e).length;return{start:a,end:e}}),
findText:G(function(b,e,f){f=l(f,bb);f.wholeWordsOnly&&(f.wordOptions.includeTrailingSpace=!1);var g=V(f.direction),k=f.withinRange;k||(k=a.createRange(),k.selectNodeContents(this.getDocument()));var m=!1;"string"==typeof e?f.caseSensitive||(e=e.toLowerCase()):m=!0;var n=b.getRangeBoundaryPosition(this,!g),r=k.comparePoint(n.node,n.offset);-1===r?n=b.getRangeBoundaryPosition(k,!0):1===r&&(n=b.getRangeBoundaryPosition(k,!1));for(var p=n,r=!1;;)if(p=K(p,e,m,k,f)){if(p.valid)return this.setStartAndEnd(p.startPos.node,
p.startPos.offset,p.endPos.node,p.endPos.offset),!0;p=g?p.startPos:p.endPos}else if(f.wrap&&!r)k=k.cloneRange(),p=b.getRangeBoundaryPosition(k,!g),k.setBoundary(n.node,n.offset,g),r=!0;else return!1}),pasteHtml:function(a){this.deleteContents();if(a){a=this.createContextualFragment(a);var b=a.lastChild;this.insertNode(a);this.collapseAfter(b)}}});P(a.selectionPrototype,{expand:G(function(a,b,e){this.changeEachRange(function(a){a.expand(b,e)})}),move:G(function(a,b,e,f){a=0;if(this.focusNode){this.collapse(this.focusNode,
this.focusOffset);var g=this.getRangeAt(0);f||(f={});f.characterOptions=X(f.characterOptions,ta);a=g.move(b,e,f);this.setSingleRange(g)}return a}),trimStart:N("trimStart"),trimEnd:N("trimEnd"),trim:N("trim"),selectCharacters:G(function(b,e,f,g,k,l){b=a.createRange(e);b.selectCharacters(e,f,g,l);this.setSingleRange(b,k)}),saveCharacterRanges:G(function(a,b,e){a=this.getAllRanges();for(var f=[],g=1==a.length&&this.isBackward(),h=0,k=a.length;h<k;++h)f[h]={characterRange:a[h].toCharacterRange(b,e),backward:g,
characterOptions:e};return f}),restoreCharacterRanges:G(function(b,e,f){this.removeAllRanges();b=0;for(var g=f.length,k,l,m;b<g;++b)l=f[b],m=l.characterRange,k=a.createRange(e),k.selectCharacters(e,m.start,m.end,l.characterOptions),this.addRange(k,l.backward)}),text:G(function(a,b){for(var e=[],f=0,g=this.rangeCount;f<g;++f)e[f]=this.getRangeAt(f).text(b);return e.join("")})});a.innerText=function(b,e){var f=a.createRange(b);f.selectNodeContents(b);return f.text(e)};a.createWordIterator=function(a,
b,e){var f=u||E();e=l(e,Ea);a=f.getPosition(a,b);var g=D(a,e.characterOptions,e.wordOptions),h=V(e.direction);return{next:function(){return h?g.previousStartToken():g.nextEndToken()},dispose:function(){g.dispose();this.next=function(){}}}};a.noMutation=function(a){var b=u||E();a(b);w()};a.noMutation.createEntryPointFunction=G;a.textRange={isBlockNode:function(a){return a&&(1==a.nodeType&&!/^(inline(-block|-table)?|none)$/.test(k(a))||9==a.nodeType||11==a.nodeType)},isCollapsedWhitespaceNode:r,createPosition:G(function(a,
b,e){return a.getPosition(b,e)})}});return a},this);
(function(a,h){"function"==typeof define&&define.amd?define(["./rangy-core"],a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a(require("rangy")):a(h.rangy)})(function(a){a.createModule("SaveRestore",["WrappedRange"],function(a,b){function e(a,b){var e="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),f,g=q.getDocument(a.startContainer),h=a.cloneRange();h.collapse(b);f=g.createElement("span");f.id=e;f.style.lineHeight="0";f.style.display="none";f.className="rangySelectionBoundary";
f.appendChild(g.createTextNode("\ufeff"));h.insertNode(f);return f}function g(a,e,f,g){(a=(a||document).getElementById(f))?(e[g?"setStartBefore":"setEndBefore"](a),r(a)):b.warn("Marker element has been removed. Cannot restore selection.")}function f(a,b){return b.compareBoundaryPoints(a.START_TO_START,a)}function l(b,f){var g,k,l=a.DomRange.getRangeDocument(b),m=b.toString(),n=t(f);if(b.collapsed)return k=e(b,!1),{document:l,markerId:k.id,collapsed:!0};k=e(b,!1);g=e(b,!0);return{document:l,startMarkerId:g.id,
endMarkerId:k.id,collapsed:!1,backward:n,toString:function(){return"original text: '"+m+"', new text: '"+b.toString()+"'"}}}function k(e,f){var k=e.document;"undefined"==typeof f&&(f=!0);var l=a.createRange(k);if(e.collapsed)if(k=(k||document).getElementById(e.markerId)){k.style.display="inline";var m=k.previousSibling;m&&3==m.nodeType?(r(k),l.collapseToPoint(m,m.length)):(l.collapseBefore(k),r(k))}else b.warn("Marker element has been removed. Cannot restore selection.");else g(k,l,e.startMarkerId,
!0),g(k,l,e.endMarkerId,!1);f&&l.normalizeBoundaries();return l}function n(b,e){var g=[],k,m;k=t(e);b=b.slice(0);b.sort(f);var n=0;for(m=b.length;n<m;++n)g[n]=l(b[n],k);for(n=m-1;0<=n;--n)k=b[n],m=a.DomRange.getRangeDocument(k),k.collapsed?k.collapseAfter((m||document).getElementById(g[n].markerId)):(k.setEndBefore((m||document).getElementById(g[n].endMarkerId)),k.setStartAfter((m||document).getElementById(g[n].startMarkerId)));return g}function m(a){for(var b=[],e=a.length-1;0<=e;e--)b[e]=k(a[e],
!0);return b}function p(a,b){var e=(a||document).getElementById(b);e&&r(e)}var q=a.dom,r=q.removeNode,t=a.Selection.isDirectionBackward;a.util.extend(a,{saveRange:l,restoreRange:k,saveRanges:n,restoreRanges:m,saveSelection:function(e){if(!a.isSelectionValid(e))return b.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var f=a.getSelection(e),g=f.getAllRanges(),k=1==g.length&&f.isBackward(),l=n(g,k);k?f.setSingleRange(g[0],
k):f.setRanges(g);return{win:e,rangeInfos:l,restored:!1}},restoreSelection:function(b,e){if(!b.restored){var f=b.rangeInfos,g=a.getSelection(b.win),k=m(f);1==f.length&&e&&a.features.selectionHasExtend&&f[0].backward?(g.removeAllRanges(),g.addRange(k[0],!0)):g.setRanges(k);b.restored=!0}},removeMarkerElement:p,removeMarkers:function(a){for(var b=a.rangeInfos,e=0,f=b.length,g;e<f;++e)g=b[e],g.collapsed?p(a.doc,g.markerId):(p(a.doc,g.startMarkerId),p(a.doc,g.endMarkerId))}})});return a},this);Base=function(){};
Base.extend=function(a,h){var b=Base.prototype.extend;Base._prototyping=!0;var e=new this;b.call(e,a);e.base=function(){};delete Base._prototyping;var g=e.constructor,f=e.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==f)this._constructing=!0,g.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||b).call(arguments[0],e)};f.ancestor=this;f.extend=this.extend;f.forEach=this.forEach;f.implement=this.implement;f.prototype=
e;f.toString=this.toString;f.valueOf=function(a){return"object"==a?f:g.valueOf()};b.call(f,h);"function"==typeof f.init&&f.init();return f};
Base.prototype={extend:function(a,h){if(1<arguments.length){var b=this[a];if(b&&"function"==typeof h&&(!b.valueOf||b.valueOf()!=h.valueOf())&&/\bbase\b/.test(h)){var e=h.valueOf();h=function(){var a=this.base||Base.prototype.base;this.base=b;var f=e.apply(this,arguments);this.base=a;return f};h.valueOf=function(a){return"object"==a?h:e};h.toString=Base.toString}this[a]=h}else if(a){var g=Base.prototype.extend;Base._prototyping||"function"==typeof this||(g=this.extend||g);for(var f={toSource:null},
l=["constructor","toString","valueOf"],k=Base._prototyping?0:1;n=l[k++];)a[n]!=f[n]&&g.call(this,n,a[n]);for(var n in a)f[n]||g.call(this,n,a[n])}return this}};
Base=Base.extend({constructor:function(a){this.extend(a)}},{ancestor:Object,version:"1.1",forEach:function(a,h,b){for(var e in a)void 0===this.prototype[e]&&h.call(b,a[e],e,a)},implement:function(){for(var a=0;a<arguments.length;a++)if("function"==typeof arguments[a])arguments[a](this.prototype);else this.prototype.extend(arguments[a]);return this},toString:function(){return String(this.valueOf())}});
wysihtml5.browser=function(){function a(a,b){var e=-1,f;"Microsoft Internet Explorer"==navigator.appName?f=/MSIE ([0-9]{1,}[.0-9]{0,})/:"Netscape"==navigator.appName&&(-1<navigator.userAgent.indexOf("Trident")?f=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/:/Edge\/(\d+)./i.test(navigator.userAgent)&&(f=/Edge\/(\d+)./i));f&&null!=f.exec(navigator.userAgent)&&(e=parseFloat(RegExp.$1));if(-1===e)return!1;if(!a)return!0;if(!b)return a===e;if("<"===b)return a<e;if(">"===b)return a>e;if("<="===b)return a<=e;if(">="===
b)return a>=e}var h=navigator.userAgent,b=document.createElement("div"),e=-1!==h.indexOf("Gecko")&&-1===h.indexOf("KHTML")&&!a(),g=-1!==h.indexOf("AppleWebKit/")&&!a(),f=-1!==h.indexOf("Chrome/")&&!a(),l=-1!==h.indexOf("Opera/")&&!a();return{USER_AGENT:h,supported:function(){var a=this.USER_AGENT.toLowerCase(),e="contentEditable"in b,f=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,g=document.querySelector&&document.querySelectorAll,h;if(h=this.isIos())h=5>+(/ipad|iphone|ipod/.test(a)&&
a.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1];a=h||this.isAndroid()&&4>+(a.match(/android (\d+)/)||[void 0,0])[1]||-1!==a.indexOf("opera mobi")||-1!==a.indexOf("hpwos/");return e&&f&&g&&!a},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function(){return a()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in
document)},displaysCaretInEmptyContentEditableCorrectly:function(){return a(12,">")},hasCurrentStyleProperty:function(){return"currentStyle"in b},insertsLineBreaksOnReturn:function(){return e},supportsPlaceholderAttributeOn:function(a){return"placeholder"in a},supportsEvent:function(a){var e;(e="on"+a in b)||(b.setAttribute("on"+a,"return;"),e="function"===typeof b["on"+a]);return e},supportsEventsInIframeCorrectly:function(){return!l},supportsHTML5Tags:function(a){a=a.createElement("div");a.innerHTML=
"<article>foo</article>";return"<article>foo</article>"===a.innerHTML.toLowerCase()},supportsCommand:function(){var b={formatBlock:a(10,"<="),insertUnorderedList:a(),insertOrderedList:a()},f={insertHTML:e};return function(a,e){if(!b[e]){try{return a.queryCommandSupported(e)}catch(g){}try{return a.queryCommandEnabled(e)}catch(h){return!!f[e]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return a()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},
clearsContentEditableCorrectly:function(){return e||l||g},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return e||a()||l},autoScrollsToCaret:function(){return!g},autoClosesUnclosedTags:function(){var a=b.cloneNode(!1),e;a.innerHTML="<p><div></div>";a=a.innerHTML.toLowerCase();e="<p></p><div></div>"===a||"<p><div></div></p>"===a;this.autoClosesUnclosedTags=function(){return e};return e},supportsNativeGetElementsByClassName:function(){return-1!==
String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return l},supportsSpeechApiOn:function(a){return 11<=(h.match(/Chrome\/(\d+)/)||[void 0,0])[1]&&("onwebkitspeechchange"in a||"speech"in a)},crashesWhenDefineProperty:function(b){return a(9)&&("XMLHttpRequest"===b||"XDomainRequest"===b)},doesAsyncFocus:function(){return a(12,">")},hasProblemsSettingCaretAfterImg:function(){return a()},
hasLiDeletingProblem:function(){return a()},hasUndoInContextMenu:function(){return e||f||l},hasInsertNodeIssue:function(){return l},hasIframeFocusIssue:function(){return a()},createsNestedInvalidMarkupAfterPaste:function(){return g},hasCaretBlockElementIssue:function(){return g},supportsMutationEvents:function(){return"MutationEvent"in window},supportsModernPaste:function(){return!a()},fixStyleKey:function(a){return"cssFloat"===a?"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat":
a},usesControlRanges:function(){return document.body&&"createControlRange"in document.body}}}();
wysihtml5.lang.array=function(a){return{contains:function(h){if(Array.isArray(h)){for(var b=h.length;b--;)if(-1!==wysihtml5.lang.array(a).indexOf(h[b]))return!0;return!1}return-1!==wysihtml5.lang.array(a).indexOf(h)},indexOf:function(h){if(a.indexOf)return a.indexOf(h);for(var b=0,e=a.length;b<e;b++)if(a[b]===h)return b;return-1},without:function(h){h=wysihtml5.lang.array(h);for(var b=[],e=0,g=a.length;e<g;e++)h.contains(a[e])||b.push(a[e]);return b},get:function(){for(var h=0,b=a.length,e=[];h<b;h++)e.push(a[h]);
return e},map:function(h,b){if(Array.prototype.map)return a.map(h,b);for(var e=a.length>>>0,g=Array(e),f=0;f<e;f++)g[f]=h.call(b,a[f],f,a);return g},unique:function(){for(var h=[],b=a.length,e=0;e<b;)wysihtml5.lang.array(h).contains(a[e])||h.push(a[e]),e++;return h}}};
wysihtml5.lang.Dispatcher=Base.extend({on:function(a,h){this.events=this.events||{};this.events[a]=this.events[a]||[];this.events[a].push(h);return this},off:function(a,h){this.events=this.events||{};var b=0,e,g;if(a){e=this.events[a]||[];for(g=[];b<e.length;b++)e[b]!==h&&h&&g.push(e[b]);this.events[a]=g}else this.events={};return this},fire:function(a,h){this.events=this.events||{};for(var b=this.events[a]||[],e=0;e<b.length;e++)b[e].call(this,h);return this},observe:function(){return this.on.apply(this,
arguments)},stopObserving:function(){return this.off.apply(this,arguments)}});
wysihtml5.lang.object=function(a){return{merge:function(h,b){for(var e in h)b&&wysihtml5.lang.object(h[e]).isPlainObject()&&("undefined"===typeof a[e]||wysihtml5.lang.object(a[e]).isPlainObject())?"undefined"===typeof a[e]?a[e]=wysihtml5.lang.object(h[e]).clone(!0):wysihtml5.lang.object(a[e]).merge(wysihtml5.lang.object(h[e]).clone(!0)):a[e]=wysihtml5.lang.object(h[e]).isPlainObject()?wysihtml5.lang.object(h[e]).clone(!0):h[e];return this},difference:function(h){var b={},e;for(e in a)a.hasOwnProperty(e)&&
(h.hasOwnProperty(e)||(b[e]=a[e]));for(var g in h)h.hasOwnProperty(g)&&(a.hasOwnProperty(g)&&a[g]===h[g]||(b[0]=a[0]));return b},get:function(){return a},clone:function(h){var b={},e;if(null===a||!wysihtml5.lang.object(a).isPlainObject())return a;for(e in a)a.hasOwnProperty(e)&&(b[e]=h?wysihtml5.lang.object(a[e]).clone(h):a[e]);return b},isArray:function(){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(){return"[object Function]"===Object.prototype.toString.call(a)},
isPlainObject:function(){return a&&"[object Object]"===Object.prototype.toString.call(a)&&!("Node"in window?a instanceof Node:a instanceof Element||a instanceof Text)},isEmpty:function(){for(var h in a)if(a.hasOwnProperty(h))return!1;return!0}}};
(function(){var a=/^\s+/,h=/\s+$/,b=/[&<>\t"]/g,e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","\t":"&nbsp; "};wysihtml5.lang.string=function(g){g=String(g);return{trim:function(){return g.replace(a,"").replace(h,"")},interpolate:function(a){for(var b in a)g=this.replace("#{"+b+"}").by(a[b]);return g},replace:function(a){return{by:function(b){return g.split(a).join(b)}}},escapeHTML:function(a,h){var k=g.replace(b,function(a){return e[a]});a&&(k=k.replace(/(?:\r\n|\r|\n)/g,"<br />"));h&&(k=k.replace(/  /gi,
"&nbsp; "));return k}}}})();
(function(a){function h(a){return a.replace(g,function(a,b){var e=(b.match(f)||[])[1]||"",g=l[e];b=b.replace(f,"");b.split(g).length>b.split(e).length&&(b+=e,e="");var h=g=b;100<b.length&&(h=h.substr(0,100)+"...");"www."===g.substr(0,4)&&(g="http://"+g);return'<a href="'+g+'">'+h+"</a>"+e})}function b(f,l){if(!(e.contains(f.nodeName)||f.className&&a.lang.array(f.className.split(" ")).contains(l)))if(f.nodeType===a.TEXT_NODE&&f.data.match(g)){var m=f.parentNode,p=a.lang.string(f.data).escapeHTML(),q;
q=m.ownerDocument;var r=q._wysihtml5_tempElement;r||(r=q._wysihtml5_tempElement=q.createElement("div"));q=r;q.innerHTML="<span></span>"+h(p);for(q.removeChild(q.firstChild);q.firstChild;)m.insertBefore(q.firstChild,f);m.removeChild(f)}else{m=a.lang.array(f.childNodes).get();p=m.length;for(q=0;q<p;q++)b(m[q],l);return f}}var e=a.lang.array("CODE PRE A SCRIPT HEAD TITLE STYLE".split(" ")),g=/((https?:\/\/|www\.)[^\s<]{3,})/gi,f=/([^\w\/\-](,?))$/i,l={")":"(","]":"[","}":"{"};a.dom.autoLink=function(f,
g){var h;a:{h=f;for(var l;h.parentNode;){h=h.parentNode;l=h.nodeName;if(h.className&&a.lang.array(h.className.split(" ")).contains(g)||e.contains(l)){h=!0;break a}if("body"===l)break}h=!1}if(h)return f;f===f.ownerDocument.documentElement&&(f=f.ownerDocument.body);return b(f,g)};a.dom.autoLink.URL_REG_EXP=g})(wysihtml5);
(function(a){var h=a.dom;h.addClass=function(a,e){var g=a.classList;if(g)return g.add(e);h.hasClass(a,e)||(a.className+=" "+e)};h.removeClass=function(a,e){var g=a.classList;if(g)return g.remove(e);a.className=a.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ")};h.hasClass=function(a,e){var g=a.classList;if(g)return g.contains(e);g=a.className;return 0<g.length&&(g==e||(new RegExp("(^|\\s)"+e+"(\\s|$)")).test(g))}})(wysihtml5);
wysihtml5.dom.contains=function(){var a=document.documentElement;if(a.contains)return function(a,b){if(b.nodeType!==wysihtml5.ELEMENT_NODE){if(b.parentNode===a)return!0;b=b.parentNode}return a!==b&&a.contains(b)};if(a.compareDocumentPosition)return function(a,b){return!!(a.compareDocumentPosition(b)&16)}}();
wysihtml5.dom.convertToList=function(){function a(a,b){var e=a.createElement("li");b.appendChild(e);return e}return function(h,b,e){if("UL"===h.nodeName||"OL"===h.nodeName||"MENU"===h.nodeName)return h;var g=h.ownerDocument;b=g.createElement(b);var f=h.querySelectorAll("br"),l=f.length,k,n,m,p,q;for(q=0;q<l;q++)for(n=f[q];(k=n.parentNode)&&k!==h&&k.lastChild===n;){if("block"===wysihtml5.dom.getStyle("display").from(k)){k.removeChild(n);break}wysihtml5.dom.insert(n).after(n.parentNode)}k=wysihtml5.lang.array(h.childNodes).get();
f=k.length;for(q=0;q<f;q++)p=p||a(g,b),l=k[q],n="block"===wysihtml5.dom.getStyle("display").from(l),m="BR"===l.nodeName,!n||e&&wysihtml5.dom.hasClass(l,e)?m?p=p.firstChild?null:p:p.appendChild(l):(p=p.firstChild?a(g,b):p,p.appendChild(l),p=null);0===k.length&&a(g,b);h.parentNode.replaceChild(b,h);return b}}();wysihtml5.dom.copyAttributes=function(a){return{from:function(h){return{to:function(b){for(var e,g=0,f=a.length;g<f;g++)e=a[g],"undefined"!==typeof h[e]&&""!==h[e]&&(b[e]=h[e]);return{andTo:arguments.callee}}}}}};
(function(a){var h=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],b=function(b){var g;a:{g=0;for(var f=h.length;g<f;g++)if("border-box"===a.getStyle(h[g]).from(b)){g=h[g];break a}g=void 0}return g?parseInt(a.getStyle("width").from(b),10)<b.offsetWidth:!1};a.copyStyles=function(e){return{from:function(g){b(g)&&(e=wysihtml5.lang.array(e).without(h));for(var f="",l=e.length,k=0,n;k<l;k++)n=e[k],f+=n+":"+a.getStyle(n).from(g)+";";return{to:function(b){a.setStyles(f).on(b);return{andTo:arguments.callee}}}}}}})(wysihtml5.dom);
(function(a){a.dom.delegate=function(a,b,e,g){var f=function(e){for(var f=e.target,f=3===f.nodeType?f.parentNode:f,n=a.querySelectorAll(b),m=0,p=n.length;m<p;m++)n[m].contains(f)&&g.call(n[m],e)};a.addEventListener(e,f,!1);return{stop:function(){a.removeEventListener(e,f,!1)}}}})(wysihtml5);
(function(a){function h(a,e){for(var g=[a],f=a;e&&f&&f!==e||!e&&f;)g.unshift(f),f=f.parentNode;return g}a.dom.domNode=function(b){var e=[a.ELEMENT_NODE,a.TEXT_NODE];return{is:{emptyTextNode:function(e){e=e?/^\s*$/g:/^[\r\n]*$/g;return b&&b.nodeType===a.TEXT_NODE&&e.test(b.data)},rangyBookmark:function(){return b&&1===b.nodeType&&b.classList.contains("rangySelectionBoundary")},visible:function(){var e=!/^\s*$/g.test(a.dom.getTextContent(b));e||1===b.nodeType&&b.querySelector("img, br, hr, object, embed, canvas, input, textarea")&&
(e=!0);return e},lineBreak:function(){return b&&1===b.nodeType&&"BR"===b.nodeName},block:function(){return b&&1===b.nodeType&&"block"===b.ownerDocument.defaultView.getComputedStyle(b).display},voidElement:function(){return a.dom.domNode(b).test({query:a.VOID_ELEMENTS})}},prev:function(g){var f=b.previousSibling,h=g&&g.nodeTypes?g.nodeTypes:e;return f?a.dom.domNode(f).is.rangyBookmark()||!a.lang.array(h).contains(f.nodeType)||g&&g.ignoreBlankTexts&&a.dom.domNode(f).is.emptyTextNode(!0)?a.dom.domNode(f).prev(g):
f:null},next:function(g){var f=b.nextSibling,h=g&&g.nodeTypes?g.nodeTypes:e;return f?a.dom.domNode(f).is.rangyBookmark()||!a.lang.array(h).contains(f.nodeType)||g&&g.ignoreBlankTexts&&a.dom.domNode(f).is.emptyTextNode(!0)?a.dom.domNode(f).next(g):f:null},commonAncestor:function(a,e){var l=h(b,e),k=h(a,e);if(l[0]!=k[0])return null;for(var n=0;n<l.length;n++)if(l[n]!=k[n])return l[n-1];return null},lastLeafNode:function(e){var f;if(1!==b.nodeType)return b;f=b.lastChild;if(!f)return b;if(e&&e.leafClasses)for(var h=
e.leafClasses.length;h--;)if(a.dom.hasClass(b,e.leafClasses[h]))return b;return a.dom.domNode(f).lastLeafNode(e)},escapeParent:function(e,f){var h,k,n,m=b;if(!a.dom.contains(e,b))throw Error("Child is not a descendant of node.");do{h=m.parentNode;for(k=h.cloneNode(!1);h.lastChild&&h.lastChild!==m;)k.insertBefore(h.lastChild,k.firstChild);h!==e&&(n=h.cloneNode(!1),n.appendChild(m),m=n);h.parentNode.insertBefore(m,h.nextSibling);if(""!==k.innerHTML)if(/^\s+$/.test(k.innerHTML))for(;k.lastChild;)h.parentNode.insertBefore(k.lastChild,
m.nextSibling);else h.parentNode.insertBefore(k,m.nextSibling);if(""===h.innerHTML)h.parentNode.removeChild(h);else if(/^\s+$/.test(h.innerHTML)){for(;h.firstChild;)h.parentNode.insertBefore(h.firstChild,h);h.parentNode.removeChild(h)}}while(h&&h!==e);f&&m&&(m.parentNode.insertBefore(f,m),f.appendChild(m))},transferContentTo:function(e,f){if(1===b.nodeType){if(a.dom.domNode(e).is.voidElement()||3===e.nodeType)for(;b.lastChild;)e.parentNode.insertBefore(b.lastChild,e.nextSibling);else for(;b.firstChild;)e.appendChild(b.firstChild);
f&&b.parentNode.removeChild(b)}else if(3===b.nodeType||8===b.nodeType)a.dom.domNode(e).is.voidElement()?e.parentNode.insertBefore(b,e.nextSibling):e.appendChild(b)},test:function(e){var f;if(!e||1!==b.nodeType||e.query&&!b.matches(e.query)||e.nodeName&&b.nodeName.toLowerCase()!==e.nodeName.toLowerCase()||e.className&&!b.classList.contains(e.className)||e.classRegExp&&0===((b.className||"").match(e.classRegExp)||[]).length)return!1;if(e.styleProperty&&0<e.styleProperty.length){f=Array.isArray(e.styleProperty)?
e.styleProperty:[e.styleProperty];for(var h=f.length;0<h;){f=a.browser.fixStyleKey(f[0]);if(b.style[f])if(e.styleValue)if(e.styleValue instanceof RegExp){if(0<b.style[f].trim().match(e.styleValue).length)break}else if(Array.isArray(e.styleValue)){if(e.styleValue.indexOf(b.style[f].trim()))break}else{if(e.styleValue===b.style[f].trim().replace(/, /g,","))break}else break;return!1}}if(e.attribute){f=a.dom.getAttributes(b);var h=[],k=!1;Array.isArray(e.attribute)?h=e.attribute:h[e.attribute]=e.attributeValue;
for(var n in h)if(h.hasOwnProperty(n))if("undefined"===typeof h[n]){if("undefined"!==typeof f[n]){k=!0;break}}else if(f[n]===h[n]){k=!0;break}if(!k)return!1}return!0}}}})(wysihtml5);
wysihtml5.dom.getAsDom=function(){var a="abbr article aside audio bdi canvas command datalist details figcaption figure footer header hgroup keygen mark meter nav output progress rp rt ruby svg section source summary time track video wbr".split(" ");return function(h,b){b=b||document;var e;if("object"===typeof h&&h.nodeType)e=b.createElement("div"),e.appendChild(h);else if(wysihtml5.browser.supportsHTML5Tags(b))e=b.createElement("div"),e.innerHTML=h;else{e=b;if(!e._wysihtml5_supportsHTML5Tags){for(var g=
0,f=a.length;g<f;g++)e.createElement(a[g]);e._wysihtml5_supportsHTML5Tags=!0}e=b;g=e.createElement("div");g.style.display="none";e.body.appendChild(g);try{g.innerHTML=h}catch(l){}e.body.removeChild(g);e=g}return e}}();wysihtml5.dom.getParentElement=function(){return function(a,h,b,e){for(b=b||50;b--&&a&&"BODY"!==a.nodeName&&(!e||a!==e);){if(wysihtml5.dom.domNode(a).test(h))return a;a=a.parentNode}return null}}();
wysihtml5.dom.getStyle=function(){function a(a){return a.replace(b,function(a){return a.charAt(1).toUpperCase()})}var h={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},b=/\-[a-z]/g;return function(b){return{from:function(g){if(g.nodeType===wysihtml5.ELEMENT_NODE){var f=g.ownerDocument,l=h[b]||a(b),k=g.style,n=g.currentStyle,m=k[l];if(m)return m;if(n)try{return n[l]}catch(p){}var l=f.defaultView||f.parentWindow,f=("height"===b||"width"===b)&&"TEXTAREA"===g.nodeName,
q;if(l.getComputedStyle)return f&&(q=k.overflow,k.overflow="hidden"),g=l.getComputedStyle(g,null).getPropertyValue(b),f&&(k.overflow=q||""),g}}}}}();wysihtml5.dom.getTextNodes=function(a,h){var b=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?h&&/^\s*$/.test(a.innerText||a.textContent)||b.push(a):b=b.concat(wysihtml5.dom.getTextNodes(a,h));return b};
wysihtml5.dom.hasElementWithTagName=function(){var a={},h=1;return function(b,e){var g=(b._wysihtml5_identifier||(b._wysihtml5_identifier=h++))+":"+e,f=a[g];f||(f=a[g]=b.getElementsByTagName(e));return 0<f.length}}();(function(a){var h={},b=1;a.dom.hasElementWithClassName=function(e,g){if(!a.browser.supportsNativeGetElementsByClassName())return!!e.querySelector("."+g);var f=(e._wysihtml5_identifier||(e._wysihtml5_identifier=b++))+":"+g,l=h[f];l||(l=h[f]=e.getElementsByClassName(g));return 0<l.length}})(wysihtml5);
wysihtml5.dom.insert=function(a){return{after:function(h){h.parentNode.insertBefore(a,h.nextSibling)},before:function(h){h.parentNode.insertBefore(a,h)},into:function(h){h.appendChild(a)}}};wysihtml5.dom.insertCSS=function(a){a=a.join("\n");return{into:function(h){var b=h.createElement("style");b.type="text/css";b.styleSheet?b.styleSheet.cssText=a:b.appendChild(h.createTextNode(a));var e=h.querySelector("head link");e?e.parentNode.insertBefore(b,e):(h=h.querySelector("head"))&&h.appendChild(b)}}};
(function(a){a.dom.lineBreaks=function(h){function b(b){return"BR"===b.nodeName||"block"===a.dom.getStyle("display").from(b)?!0:!1}return{add:function(e){e=h.ownerDocument;var g=a.dom.domNode(h).next({ignoreBlankTexts:!0}),f=a.dom.domNode(h).prev({ignoreBlankTexts:!0});g&&!b(g)&&a.dom.insert(e.createElement("br")).after(h);f&&!b(f)&&a.dom.insert(e.createElement("br")).before(h)},remove:function(b){b=a.dom.domNode(h).next({ignoreBlankTexts:!0});var g=a.dom.domNode(h).prev({ignoreBlankTexts:!0});b&&
"BR"===b.nodeName&&b.parentNode.removeChild(b);g&&"BR"===g.nodeName&&g.parentNode.removeChild(g)}}}})(wysihtml5);
wysihtml5.dom.observe=function(a,h,b){h="string"===typeof h?[h]:h;for(var e,g,f=0,l=h.length;f<l;f++)g=h[f],a.addEventListener?a.addEventListener(g,b,!1):(e=function(e){"target"in e||(e.target=e.srcElement);e.preventDefault=e.preventDefault||function(){this.returnValue=!1};e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0};b.call(a,e)},a.attachEvent("on"+g,e));return{stop:function(){for(var f,g=0,l=h.length;g<l;g++)f=h[g],a.removeEventListener?a.removeEventListener(f,b,!1):a.detachEvent("on"+
f,e)}}};
wysihtml5.dom.parse=function(a,h){function b(a,e,f,g){var h=a.nodeType,m=a.childNodes,n=m.length,r=l[h],p=0,t;if(g&&1===h&&wysihtml5.dom.hasClass(a,g))return a;r=r&&r(a,f);if(!r){if(!1===r){h=a.ownerDocument.createDocumentFragment();for(p=n;p--;)m[p]&&(t=b(m[p],e,f,g))&&(m[p]===t&&p--,h.insertBefore(t,h.firstChild));e=wysihtml5.dom.getStyle("display").from(a);""===e&&(e=wysihtml5.lang.array(q).contains(a.tagName)?"block":"");wysihtml5.lang.array(["block","flex","table"]).contains(e)&&h.appendChild(a.ownerDocument.createElement("br"));wysihtml5.lang.array("div pre p table td th ul ol li dd dl footer header section h1 h2 h3 h4 h5 h6".split(" ")).contains(a.nodeName.toLowerCase())&&
a.parentNode.lastChild!==a&&(a.nextSibling&&3===a.nextSibling.nodeType&&/^\s/.test(a.nextSibling.nodeValue)||h.appendChild(a.ownerDocument.createTextNode(" ")));h.normalize&&h.normalize();return h}return null}for(p=0;p<n;p++)m[p]&&(t=b(m[p],e,f,g))&&(m[p]===t&&p--,r.appendChild(t));if(e&&r.nodeName.toLowerCase()===k&&(!r.childNodes.length||/^\s*$/gi.test(r.innerHTML)&&(f||"_wysihtml5-temp-placeholder"!==a.className&&"rangySelectionBoundary"!==a.className)||!r.attributes.length)){for(h=r.ownerDocument.createDocumentFragment();r.firstChild;)h.appendChild(r.firstChild);
h.normalize&&h.normalize();return h}r.normalize&&r.normalize();return r}function e(a,b){var e=a.getAttribute("class"),f=a.getAttribute("style"),g,h,k;if(b.methods)for(g in b.methods)if(b.methods.hasOwnProperty(g)&&x[g]&&x[g](a))return!0;if(e&&b.classes){e=e.replace(/^\s+/g,"").replace(/\s+$/g,"").split(n);g=e.length;for(var l=0;l<g;l++)if(b.classes[e[l]])return!0}if(f&&b.styles)for(h in f=f.split(";"),b.styles)if(b.styles.hasOwnProperty(h))for(g=f.length;g--;)if(e=f[g].split(":"),e[0].replace(/\s/g,
"").toLowerCase()===h&&(!0===b.styles[h]||1===b.styles[h]||wysihtml5.lang.array(b.styles[h]).contains(e[1].replace(/\s/g,"").toLowerCase())))return!0;if(b.attrs)for(k in b.attrs)if(b.attrs.hasOwnProperty(k)&&(f=wysihtml5.dom.getAttribute(a,k),"string"===typeof f&&-1<f.search(b.attrs[k])))return!0;return!1}function g(a,b,e,f){if(a=wysihtml5.lang.object(e).isFunction()?e:r[e])if(b=a(b,f),"string"===typeof b)return b;return!1}function f(a,b){var e=wysihtml5.lang.object(p.attributes||{}).clone(),e=wysihtml5.lang.object(e).merge(wysihtml5.lang.object(b||
{}).clone()).get(),f={},h=wysihtml5.dom.getAttributes(a),k,l,m;for(k in e)if(/\*$/.test(k)){l=k.slice(0,-1);m=h;var n=[],r=void 0;for(r in m)m.hasOwnProperty(r)&&0===r.indexOf(l)&&n.push(r);m=n;n=0;for(r=m.length;n<r;n++)l=g(m[n],h[m[n]],e[k],a.nodeName),!1!==l&&(f[m[n]]=l)}else l=g(k,h[k],e[k],a.nodeName),!1!==l&&(f[k]=l);return f}var l={1:function(a,b){var g,h;g=p.tags;h=a.nodeName.toLowerCase();var l=a.scopeName,m;if(a._wysihtml5)return null;a._wysihtml5=1;if("wysihtml5-temp"===a.className)return null;
l&&"HTML"!=l&&(h=l+":"+h);"outerHTML"in a&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==a.nodeName||"</p>"===a.outerHTML.slice(-4).toLowerCase()||(h="div"));if(h in g){g=g[h];if(!g||g.remove)return null;if(g.unwrap)return!1;g="string"===typeof g?{rename_tag:g}:g}else if(a.firstChild)g={rename_tag:k};else return null;if(l=g.one_of_type){var r;a:{var l=p,q=g.one_of_type,x;if("SPAN"!==a.nodeName||b||"_wysihtml5-temp-placeholder"!==a.className&&"rangySelectionBoundary"!==a.className){for(r in q)if(q.hasOwnProperty(r)&&
l.type_definitions&&l.type_definitions[r]&&(x=l.type_definitions[r],e(a,x))){r=!0;break a}r=!1}else r=!0}l=!r}if(l)if(g.remove_action){if("unwrap"===g.remove_action)return!1;if("rename"===g.remove_action)m=g.remove_action_rename_to||k;else return null}else return null;h=a.ownerDocument.createElement(m||g.rename_tag||h);var y=g;m={};var J=y.set_class,N=y.add_class,L=y.add_style,R=y.set_attributes;r=p.classes;l=0;q=[];x=[];var P=[],X=[],T;R&&(m=wysihtml5.lang.object(R).clone());m=wysihtml5.lang.object(m).merge(f(a,
y.check_attributes)).get();J&&q.push(J);if(N)for(T in N)if(y=v[N[T]])y=y(wysihtml5.dom.getAttribute(a,T)),"string"===typeof y&&q.push(y);if(L)for(T in L)if(y=t[L[T]])newStyle=y(wysihtml5.dom.getAttribute(a,T)),"string"===typeof newStyle&&x.push(newStyle);if("string"===typeof r&&"any"===r)if(a.getAttribute("class"))if(p.classes_blacklist){(X=a.getAttribute("class"))&&(q=q.concat(X.split(n)));for(N=q.length;l<N;l++)L=q[l],p.classes_blacklist[L]||P.push(L);P.length&&(m["class"]=wysihtml5.lang.array(P).unique().join(" "))}else m["class"]=
a.getAttribute("class");else q&&0<q.length&&(m["class"]=wysihtml5.lang.array(q).unique().join(" "));else{b||(r["_wysihtml5-temp-placeholder"]=1,r._rangySelectionBoundary=1,r["wysiwyg-tmp-selected-cell"]=1);(X=a.getAttribute("class"))&&(q=q.concat(X.split(n)));for(N=q.length;l<N;l++)L=q[l],r[L]&&P.push(L);P.length&&(m["class"]=wysihtml5.lang.array(P).unique().join(" "))}m["class"]&&b&&(m["class"]=m["class"].replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(m["class"])&&delete m["class"]);x.length&&
(m.style=wysihtml5.lang.array(x).unique().join(" "));for(T in m)try{h.setAttribute(T,m[T])}catch(da){}m.src&&("undefined"!==typeof m.width&&h.setAttribute("width",m.width),"undefined"!==typeof m.height&&h.setAttribute("height",m.height));T=g;var O;if(T&&T.keep_styles)for(O in T.keep_styles)T.keep_styles.hasOwnProperty(O)&&(g="float"===O?a.style.styleFloat||a.style.cssFloat:a.style[O],T.keep_styles[O]instanceof RegExp&&!T.keep_styles[O].test(g)||("float"===O?h.style[a.style.styleFloat?"styleFloat":
"cssFloat"]=g:a.style[O]&&(h.style[O]=g)));h.normalize&&h.normalize();return h},3:function(a){var b=a.nextSibling;if(b&&b.nodeType===wysihtml5.TEXT_NODE)b.data=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")+b.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"");else return b=a.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,""),a.ownerDocument.createTextNode(b)},8:function(a){if(p.comments)return a.ownerDocument.createComment(a.nodeValue)}},k="span",n=/\s+/,m={tags:{},classes:{}},p={},q="ADDRESS BLOCKQUOTE CENTER DIR DIV DL FIELDSET FORM H1 H2 H3 H4 H5 H6 ISINDEX MENU NOFRAMES NOSCRIPT OL P PRE TABLE UL".split(" "),
r={url:function(){var a=/^https?:\/\//i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),src:function(){var a=/^(\/|https?:\/\/)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),href:function(){var a=/^(#|\/|https?:\/\/|mailto:|tel:)/i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),alt:function(){var a=/[^ a-z0-9_\-]/gi;return function(b,e){return b?
b.replace(a,""):"IMG"===e?"":null}}(),numbers:function(){var a=/\D/g;return function(b){return(b=(b||"").replace(a,""))||null}}(),dimension:function(){var a=/\D*(\d+)(\.\d+)?\s?(%)?\D*/;return function(b){return(b=(b||"").replace(a,"$1$2$3"))||null}}(),any:function(){return function(a){return a?a:null}}()},t={align_text:function(){var a={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"};return function(b){return a[String(b).toLowerCase()]}}()},v={align_img:function(){var a=
{left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(b){return a[String(b).toLowerCase()]}}(),align_text:function(){var a={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(b){return a[String(b).toLowerCase()]}}(),clear_br:function(){var a={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(b){return a[String(b).toLowerCase()]}}(),
size_font:function(){var a={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(b){return a[String(b).charAt(0)]}}()},x={has_visible_contet:function(){var a,b="img video picture br script noscript style table iframe object embed audio svg input button select textarea canvas".split(" ");
return function(e){if((a=(e.innerText||e.textContent).replace(/\s/g,""))&&0<a.length)return!0;for(var f=b.length;f--;)if(e.querySelector(b[f]))return!0;return e.offsetWidth&&0<e.offsetWidth&&e.offsetHeight&&0<e.offsetHeight?!0:!1}}()},y={unwrap:function(a){wysihtml5.dom.unwrap(a)},remove:function(a){a.parentNode.removeChild(a)}};return function(a,e){wysihtml5.lang.object(p).merge(m).merge(e.rules).get();var f=e.context||a.ownerDocument||document,g=f.createDocumentFragment(),h="string"===typeof a,
k=!1,l,n;!0===e.clearInternals&&(k=!0);f=h?wysihtml5.dom.getAsDom(a,f):a;if(p.selectors){var r=p.selectors,q;for(l in r)if(r.hasOwnProperty(l)){wysihtml5.lang.object(r[l]).isFunction()?n=r[l]:"string"===typeof r[l]&&y[r[l]]&&(n=y[r[l]]);q=f.querySelectorAll(l);for(var t=q.length;t--;)n(q[t])}}for(;f.firstChild;)n=f.firstChild,(l=b(n,e.cleanUp,k,e.uneditableClass))&&g.appendChild(l),n!==l&&f.removeChild(n);if(e.unjoinNbsps)for(k=wysihtml5.dom.getTextNodes(g),l=k.length;l--;)k[l].nodeValue=k[l].nodeValue.replace(/([\S\u00A0])\u00A0/gi,
"$1 ");f.innerHTML="";f.appendChild(g);return h?wysihtml5.quirks.getCorrectInnerHTML(f):f}(a,h)};wysihtml5.dom.removeEmptyTextNodes=function(a){for(var h=wysihtml5.lang.array(a.childNodes).get(),b=h.length,e=0;e<b;e++)a=h[e],a.nodeType===wysihtml5.TEXT_NODE&&/^[\n\r]*$/.test(a.data)&&a.parentNode.removeChild(a)};
wysihtml5.dom.renameElement=function(a,h){for(var b=a.ownerDocument.createElement(h),e;e=a.firstChild;)b.appendChild(e);wysihtml5.dom.copyAttributes(["align","className"]).from(a).to(b);a.parentNode&&a.parentNode.replaceChild(b,a);return b};wysihtml5.dom.replaceWithChildNodes=function(a){if(a.parentNode){for(;a.firstChild;)a.parentNode.insertBefore(a.firstChild,a);a.parentNode.removeChild(a)}};
(function(a){function h(b){return"block"===a.getStyle("display").from(b)}function b(a){var b=a.ownerDocument.createElement("br");a.appendChild(b)}a.resolveList=function(a,g){if(a.nodeName.match(/^(MENU|UL|OL)$/)){var f=a.ownerDocument,l=f.createDocumentFragment(),k=wysihtml5.dom.domNode(a).prev({ignoreBlankTexts:!0}),n=wysihtml5.dom.domNode(a).next({ignoreBlankTexts:!0}),m,p,q=a.lastElementChild||a.lastChild,r;if(g)for(k&&!h(k)&&"BR"!==k.nodeName&&b(l);p=a.firstElementChild||a.firstChild;){f=p.lastChild;
for(r=p===q;k=p.firstChild;)m=k===f,m=(!r||n&&!h(n))&&m&&!h(k)&&"BR"!==k.nodeName,l.appendChild(k),m&&b(l);p.parentNode.removeChild(p)}else for(;p=a.firstElementChild||a.firstChild;){if(p.querySelector&&p.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;k=p.firstChild;)l.appendChild(k);else{for(n=f.createElement("p");k=p.firstChild;)n.appendChild(k);l.appendChild(n)}p.parentNode.removeChild(p)}a.parentNode.replaceChild(l,a)}}})(wysihtml5.dom);
(function(a){var h=document,b="parent top opener frameElement frames localStorage globalStorage sessionStorage indexedDB".split(" "),e="open close openDialog showModalDialog alert confirm prompt openDatabase postMessage XMLHttpRequest XDomainRequest".split(" "),g=["referrer","write","open","close"];a.dom.Sandbox=Base.extend({constructor:function(b,e){this.callback=b||a.EMPTY_FUNCTION;this.config=a.lang.object({}).merge(e).get();this.config.className||(this.config.className="wysihtml5-sandbox");this.editableArea=
this._createIframe()},insertInto:function(a){"string"===typeof a&&(a=h.getElementById(a));a.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var a=this.getIframe();a.parentNode.removeChild(a)},_readyError:function(){throw Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet");},_createIframe:function(){var b=this,e=h.createElement("iframe");e.className=this.config.className;
a.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(e);a.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(e.src="javascript:'<html></html>'");e.onload=function(){e.onreadystatechange=e.onload=null;b._onLoadIframe(e)};e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&(e.onreadystatechange=e.onload=null,b._onLoadIframe(e))};return e},_onLoadIframe:function(f){if(a.dom.contains(h.documentElement,
f)){var l=this,k=f.contentWindow,n=f.contentWindow.document,m=this._getHtml({charset:h.characterSet||h.charset||"utf-8",stylesheets:this.config.stylesheets});n.open("text/html","replace");n.write(m);n.close();this.getWindow=function(){return f.contentWindow};this.getDocument=function(){return f.contentWindow.document};k.onerror=function(a,b,e){throw Error("wysihtml5.Sandbox: "+a,b,e);};if(!a.browser.supportsSandboxedIframes()){var p,m=0;for(p=b.length;m<p;m++)this._unset(k,b[m]);m=0;for(p=e.length;m<
p;m++)this._unset(k,e[m],a.EMPTY_FUNCTION);m=0;for(p=g.length;m<p;m++)this._unset(n,g[m]);this._unset(n,"cookie","",!0)}a.polyfills&&a.polyfills(k,n);this.loaded=!0;setTimeout(function(){l.callback(l)},0)}},_getHtml:function(b){var e=b.stylesheets,g="",h=0,m;if(e="string"===typeof e?[e]:e)for(m=e.length;h<m;h++)g+='<link rel="stylesheet" href="'+e[h]+'">';b.stylesheets=g;return a.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(b)},
_unset:function(b,e,g,h){try{b[e]=g}catch(m){}try{b.__defineGetter__(e,function(){return g})}catch(p){}if(h)try{b.__defineSetter__(e,function(){})}catch(q){}if(!a.browser.crashesWhenDefineProperty(e))try{var r={get:function(){return g}};h&&(r.set=function(){});Object.defineProperty(b,e,r)}catch(t){}}})})(wysihtml5);
(function(a){var h=document;a.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView||this.element.ownerDocument.parentWindow},getDocument:function(){return this.element.ownerDocument},constructor:function(b,e,g){this.callback=b||a.EMPTY_FUNCTION;this.config=a.lang.object({}).merge(e).get();this.config.className||(this.config.className="wysihtml5-sandbox");this.element=g?this._bindElement(g):this._createElement()},
destroy:function(){},_createElement:function(){var a=h.createElement("div");a.className=this.config.className;this._loadElement(a);return a},_bindElement:function(a){a.className=a.className?a.className+" wysihtml5-sandbox":"wysihtml5-sandbox";this._loadElement(a,!0);return a},_loadElement:function(a,e){var g=this;if(!e){var f=this._getHtml();a.innerHTML=f}this.loaded=!0;setTimeout(function(){g.callback(g)},0)},_getHtml:function(a){return""}})})(wysihtml5);
(function(){var a={className:"class"};wysihtml5.dom.setAttributes=function(h){return{on:function(b){for(var e in h)b.setAttribute(a[e]||e,h[e])}}}})();wysihtml5.dom.setStyles=function(a){return{on:function(h){h=h.style;if("string"===typeof a)h.cssText+=";"+a;else for(var b in a)"float"===b?(h.cssFloat=a[b],h.styleFloat=a[b]):h[b]=a[b]}}};
(function(a){a.simulatePlaceholder=function(h,b,e,g){var f=g||"wysihtml5-placeholder";g=function(){var e=0<b.element.offsetWidth&&0<b.element.offsetHeight;b.hasPlaceholderSet()&&(b.clear(),b.element.focus(),e&&setTimeout(function(){var a=b.selection.getSelection();a.focusNode&&a.anchorNode||b.selection.selectNode(b.element.firstChild||b.element)},0));b.placeholderSet=!1;a.removeClass(b.element,f)};var l=function(){b.isEmpty()&&!b.placeholderSet&&(b.placeholderSet=!0,b.setValue(e,!1),a.addClass(b.element,
f))};h.on("set_placeholder",l).on("unset_placeholder",g).on("focus:composer",g).on("paste:composer",g).on("blur:composer",l);l()}})(wysihtml5.dom);(function(a){var h=document.documentElement;"textContent"in h?(a.setTextContent=function(a,e){a.textContent=e},a.getTextContent=function(a){return a.textContent}):"innerText"in h?(a.setTextContent=function(a,e){a.innerText=e},a.getTextContent=function(a){return a.innerText}):(a.setTextContent=function(a,e){a.nodeValue=e},a.getTextContent=function(a){return a.nodeValue})})(wysihtml5.dom);
wysihtml5.dom.getAttribute=function(a,h){var b=!wysihtml5.browser.supportsGetAttributeCorrectly();h=h.toLowerCase();return"IMG"==a.nodeName&&"src"==h&&!0===wysihtml5.dom.isLoadedImage(a)?a.src:b&&"outerHTML"in a?-1!=a.outerHTML.toLowerCase().indexOf(" "+h+"=")?a.getAttribute(h):null:a.getAttribute(h)};
wysihtml5.dom.getAttributes=function(a){var h=!wysihtml5.browser.supportsGetAttributeCorrectly(),b=a.nodeName,e=[],g;for(g in a.attributes)(a.attributes.hasOwnProperty&&a.attributes.hasOwnProperty(g)||!a.attributes.hasOwnProperty&&Object.prototype.hasOwnProperty.call(a.attributes,g))&&a.attributes[g].specified&&("IMG"==b&&"src"==a.attributes[g].name.toLowerCase()&&!0===wysihtml5.dom.isLoadedImage(a)?e.src=a.src:wysihtml5.lang.array(["rowspan","colspan"]).contains(a.attributes[g].name.toLowerCase())&&
h?1!==a.attributes[g].value&&(e[a.attributes[g].name]=a.attributes[g].value):e[a.attributes[g].name]=a.attributes[g].value);return e};wysihtml5.dom.isLoadedImage=function(a){try{return a.complete&&!a.mozMatchesSelector(":-moz-broken")}catch(h){if(a.complete&&"complete"===a.readyState)return!0}};
(function(a){function h(a,b){for(var e=[],f,g=0,h=a.length;g<h;g++)if(f=a[g].querySelectorAll(b))for(var l=f.length;l--;e.unshift(f[l]));return e}function b(a){a.parentNode.removeChild(a)}function e(a,b){a.parentNode.insertBefore(b,a.nextSibling)}var g=a.dom,f=function(a){this.el=a;this.isRowspan=this.isColspan=!1;this.isReal=this.lastRow=this.firstRow=this.lastCol=this.firstCol=!0;this.spanCollection=[];this.modified=!1},l=function(a,b){a?(this.cell=a,this.table=g.getParentElement(a,{query:"table"})):
b&&(this.table=b,this.cell=this.table.querySelectorAll("th, td")[0])};l.prototype={addSpannedCellToMap:function(a,b,e,g,h,l){for(var t=[],v=e+(l?parseInt(l,10)-1:0),x=g+(h?parseInt(h,10)-1:0),y=e;y<=v;y++){"undefined"==typeof b[y]&&(b[y]=[]);for(var z=g;z<=x;z++)b[y][z]=new f(a),b[y][z].isColspan=h&&1<parseInt(h,10),b[y][z].isRowspan=l&&1<parseInt(l,10),b[y][z].firstCol=z==g,b[y][z].lastCol=z==x,b[y][z].firstRow=y==e,b[y][z].lastRow=y==v,b[y][z].isReal=z==g&&y==e,b[y][z].spanCollection=t,t.push(b[y][z])}},
setCellAsModified:function(a){a.modified=!0;if(0<a.spanCollection.length)for(var b=0,e=a.spanCollection.length;b<e;b++)a.spanCollection[b].modified=!0},setTableMap:function(){var a=[],b=this.getTableRows(),e,h,l,r,t,v,x;for(e=0;e<b.length;e++)for(h=b[e],h=this.getRowCells(h),t=0,"undefined"==typeof a[e]&&(a[e]=[]),l=0;l<h.length;l++){for(r=h[l];"undefined"!=typeof a[e][t];)t++;v=g.getAttribute(r,"colspan");x=g.getAttribute(r,"rowspan");v||x?(this.addSpannedCellToMap(r,a,e,t,v,x),t+=v?parseInt(v,10):
1):(a[e][t]=new f(r),t++)}return this.map=a},getRowCells:function(b){var e=this.table.querySelectorAll("table"),e=e?h(e,"th, td"):[];b=b.querySelectorAll("th, td");return 0<e.length?a.lang.array(b).without(e):b},getTableRows:function(){var b=this.table.querySelectorAll("table"),b=b?h(b,"tr"):[],e=this.table.querySelectorAll("tr");return 0<b.length?a.lang.array(e).without(b):e},getMapIndex:function(a){for(var b=this.map.length,e=this.map&&this.map[0]?this.map[0].length:0,f=0;f<b;f++)for(var g=0;g<
e;g++)if(this.map[f][g].el===a)return{row:f,col:g};return!1},getElementAtIndex:function(a){this.setTableMap();return this.map[a.row]&&this.map[a.row][a.col]&&this.map[a.row][a.col].el?this.map[a.row][a.col].el:null},getMapElsTo:function(a){var b=[];this.setTableMap();this.idx_start=this.getMapIndex(this.cell);this.idx_end=this.getMapIndex(a);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col)a=this.idx_start,this.idx_start=this.idx_end,
this.idx_end=a;this.idx_start.col>this.idx_end.col&&(a=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=a);if(null!=this.idx_start&&null!=this.idx_end){a=this.idx_start.row;for(var e=this.idx_end.row;a<=e;a++)for(var f=this.idx_start.col,g=this.idx_end.col;f<=g;f++)b.push(this.map[a][f].el)}return b},orderSelectionEnds:function(a){this.setTableMap();this.idx_start=this.getMapIndex(this.cell);this.idx_end=this.getMapIndex(a);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==
this.idx_end.row&&this.idx_start.col>this.idx_end.col)a=this.idx_start,this.idx_start=this.idx_end,this.idx_end=a;this.idx_start.col>this.idx_end.col&&(a=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=a);return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(a,b,e){for(var f=this.table.ownerDocument,g=f.createDocumentFragment(),h,l=0;l<b;l++){h=f.createElement(a);if(e)for(var v in e)e.hasOwnProperty(v)&&
h.setAttribute(v,e[v]);h.appendChild(document.createTextNode("\u00a0"));g.appendChild(h)}return g},correctColIndexForUnreals:function(a,b){for(var e=this.map[b],f=-1,g=0;g<a;g++)e[g].isReal&&f++;return f},getLastNewCellOnRow:function(a,b){for(var e=this.getRowCells(a),f,g,h=0,l=e.length;h<l;h++)if(f=e[h],g=this.getMapIndex(f),!1===g||"undefined"!=typeof b&&g.row!=b)return f;return null},removeEmptyTable:function(){var a=this.table.querySelectorAll("td, th");if(a&&0!=a.length)return!1;b(this.table);
return!0},splitRowToCells:function(a){if(a.isColspan){var b=parseInt(g.getAttribute(a.el,"colspan")||1,10),f=a.el.tagName.toLowerCase();1<b&&(b=this.createCells(f,b-1),e(a.el,b));a.el.removeAttribute("colspan")}},getRealRowEl:function(a,b){var e=null,f=null;b=b||this.idx;for(var h=0,l=this.map[b.row].length;h<l;h++)if(f=this.map[b.row][h],f.isReal&&(e=g.getParentElement(f.el,{query:"tr"})))return e;null===e&&a&&(e=g.getParentElement(this.map[b.row][b.col].el,{query:"tr"})||null);return e},injectRowAt:function(a,
b,f,h,l){var r=this.getRealRowEl(!1,{row:a,col:b});f=this.createCells(h,f);r?(l=this.correctColIndexForUnreals(b,a),0<=l?e(this.getRowCells(r)[l],f):r.insertBefore(f,r.firstChild)):(r=this.table.ownerDocument.createElement("tr"),r.appendChild(f),e(g.getParentElement(l.el,{query:"tr"}),r))},canMerge:function(a){this.to=a;this.setTableMap();this.idx_start=this.getMapIndex(this.cell);this.idx_end=this.getMapIndex(this.to);if(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&
this.idx_start.col>this.idx_end.col)a=this.idx_start,this.idx_start=this.idx_end,this.idx_end=a;this.idx_start.col>this.idx_end.col&&(a=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=a);a=this.idx_start.row;for(var b=this.idx_end.row;a<=b;a++)for(var e=this.idx_start.col,f=this.idx_end.col;e<=f;e++)if(this.map[a][e].isColspan||this.map[a][e].isRowspan)return!1;return!0},decreaseCellSpan:function(a,b){var e=parseInt(g.getAttribute(a.el,b),10)-1;1<=e?a.el.setAttribute(b,e):
(a.el.removeAttribute(b),"colspan"==b&&(a.isColspan=!1),"rowspan"==b&&(a.isRowspan=!1),a.firstCol=!0,a.lastCol=!0,a.firstRow=!0,a.lastRow=!0,a.isReal=!0)},removeSurplusLines:function(){var a,e,f,h,l,r,t;this.setTableMap();if(this.map){f=0;for(h=this.map.length;f<h;f++){a=this.map[f];t=!0;l=0;for(r=a.length;l<r;l++)if(e=a[l],!(g.getAttribute(e.el,"rowspan")&&1<parseInt(g.getAttribute(e.el,"rowspan"),10)&&!0!==e.firstRow)){t=!1;break}if(t)for(l=0;l<r;l++)this.decreaseCellSpan(a[l],"rowspan")}e=this.getTableRows();
f=0;for(h=e.length;f<h;f++)a=e[f],0==a.childNodes.length&&/^\s*$/.test(a.textContent||a.innerText)&&b(a)}},fillMissingCells:function(){var a=0,b=0,g=null;this.setTableMap();if(this.map){a=this.map.length;for(g=0;g<a;g++)this.map[g].length>b&&(b=this.map[g].length);for(var h=0;h<a;h++)for(var l=0;l<b;l++)this.map[h]&&!this.map[h][l]&&0<l&&(this.map[h][l]=new f(this.createCells("td",1)),(g=this.map[h][l-1])&&g.el&&g.el.parent&&e(this.map[h][l-1].el,this.map[h][l].el))}},rectify:function(){if(this.removeEmptyTable())return!1;
this.removeSurplusLines();this.fillMissingCells();return!0},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell))){var a=this.map[this.idx.row][this.idx.col],b=g.getAttribute(a.el,"colspan")?parseInt(g.getAttribute(a.el,"colspan"),10):1,e=a.el.tagName.toLowerCase();if(a.isRowspan){var f=parseInt(g.getAttribute(a.el,"rowspan"),10);if(1<f)for(var h=1,f=f-1;h<=f;h++)this.injectRowAt(this.idx.row+h,this.idx.col,b,e,a);a.el.removeAttribute("rowspan")}this.splitRowToCells(a)}},
merge:function(a){if(this.rectify())if(this.canMerge(a)){a=this.idx_end.row-this.idx_start.row+1;for(var e=this.idx_end.col-this.idx_start.col+1,f=this.idx_start.row,g=this.idx_end.row;f<=g;f++)for(var h=this.idx_start.col,l=this.idx_end.col;h<=l;h++)f==this.idx_start.row&&h==this.idx_start.col?(1<a&&this.map[f][h].el.setAttribute("rowspan",a),1<e&&this.map[f][h].el.setAttribute("colspan",e)):(/^\s*<br\/?>\s*$/.test(this.map[f][h].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=
" "+this.map[f][h].el.innerHTML),b(this.map[f][h].el));this.rectify()}else window.console&&console.log("Do not know how to merge allready merged cells.")},collapseCellToNextRow:function(a){var b=this.getMapIndex(a.el),f=b.row+1,h={row:f,col:b.col};f<this.map.length&&(b=this.getRealRowEl(!1,h),null!==b&&(h=this.correctColIndexForUnreals(h.col,h.row),0<=h?e(this.getRowCells(b)[h],a.el):(f=this.getLastNewCellOnRow(b,f),null!==f?e(f,a.el):b.insertBefore(a.el,b.firstChild)),2<parseInt(g.getAttribute(a.el,
"rowspan"),10)?a.el.setAttribute("rowspan",parseInt(g.getAttribute(a.el,"rowspan"),10)-1):a.el.removeAttribute("rowspan")))},removeRowCell:function(a){a.isReal?a.isRowspan?this.collapseCellToNextRow(a):b(a.el):2<parseInt(g.getAttribute(a.el,"rowspan"),10)?a.el.setAttribute("rowspan",parseInt(g.getAttribute(a.el,"rowspan"),10)-1):a.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var a=[];this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var b=this.map[this.idx.row],
e=0,f=b.length;e<f;e++)b[e].isReal&&a.push(b[e].el);return a},getColumnElementsByCell:function(){var a=[];this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var b=0,e=this.map.length;b<e;b++)this.map[b][this.idx.col]&&this.map[b][this.idx.col].isReal&&a.push(this.map[b][this.idx.col].el);return a},removeRow:function(){var a=g.getParentElement(this.cell,{query:"tr"});if(a){this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var e=this.map[this.idx.row],
f=0,h=e.length;f<h;f++)e[f].modified||(this.setCellAsModified(e[f]),this.removeRowCell(e[f]));b(a)}},removeColCell:function(a){a.isColspan?2<parseInt(g.getAttribute(a.el,"colspan"),10)?a.el.setAttribute("colspan",parseInt(g.getAttribute(a.el,"colspan"),10)-1):a.el.removeAttribute("colspan"):a.isReal&&b(a.el)},removeColumn:function(){this.setTableMap();this.idx=this.getMapIndex(this.cell);if(!1!==this.idx)for(var a=0,b=this.map.length;a<b;a++)this.map[a][this.idx.col].modified||(this.setCellAsModified(this.map[a][this.idx.col]),
this.removeColCell(this.map[a][this.idx.col]))},remove:function(a){if(this.rectify()){switch(a){case "row":this.removeRow();break;case "column":this.removeColumn()}this.rectify()}},addRow:function(a){var b=this.table.ownerDocument;this.setTableMap();this.idx=this.getMapIndex(this.cell);"below"==a&&g.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(g.getAttribute(this.cell,"rowspan"),10)-1);if(!1!==this.idx){for(var f=this.map[this.idx.row],b=b.createElement("tr"),h=0,l=f.length;h<
l;h++)f[h].modified||(this.setCellAsModified(f[h]),this.addRowCell(f[h],b,a));switch(a){case "below":e(this.getRealRowEl(!0),b);break;case "above":(a=g.getParentElement(this.map[this.idx.row][this.idx.col].el,{query:"tr"}))&&a.parentNode.insertBefore(b,a)}}},addRowCell:function(a,b,e){var f=a.isColspan?{colspan:g.getAttribute(a.el,"colspan")}:null;a.isReal?"above"!=e&&a.isRowspan?a.el.setAttribute("rowspan",parseInt(g.getAttribute(a.el,"rowspan"),10)+1):b.appendChild(this.createCells("td",1,f)):"above"!=
e&&a.isRowspan&&a.lastRow?b.appendChild(this.createCells("td",1,f)):c.isRowspan&&a.el.attr("rowspan",parseInt(g.getAttribute(a.el,"rowspan"),10)+1)},add:function(a){this.rectify()&&("below"!=a&&"above"!=a||this.addRow(a),"before"!=a&&"after"!=a||this.addColumn(a))},addColCell:function(a,b,f){var h,l=a.el.tagName.toLowerCase();switch(f){case "before":h=!a.isColspan||a.firstCol;break;case "after":h=!a.isColspan||a.lastCol||a.isColspan&&c.el==this.cell}if(h){switch(f){case "before":a.el.parentNode.insertBefore(this.createCells(l,
1),a.el);break;case "after":e(a.el,this.createCells(l,1))}a.isRowspan&&this.handleCellAddWithRowspan(a,b+1,f)}else a.el.setAttribute("colspan",parseInt(g.getAttribute(a.el,"colspan"),10)+1)},addColumn:function(a){var b;this.setTableMap();this.idx=this.getMapIndex(this.cell);"after"==a&&g.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(g.getAttribute(this.cell,"colspan"),10)-1);if(!1!==this.idx)for(var e=0,f=this.map.length;e<f;e++)b=this.map[e],b[this.idx.col]&&(b=b[this.idx.col],
b.modified||(this.setCellAsModified(b),this.addColCell(b,e,a)))},handleCellAddWithRowspan:function(a,b,f){var h=parseInt(g.getAttribute(this.cell,"rowspan"),10)-1,l=g.getParentElement(a.el,{query:"tr"});a=a.el.tagName.toLowerCase();for(var r,t,v=this.table.ownerDocument,x=0;x<h;x++){r=this.correctColIndexForUnreals(this.idx.col,b+x);a:{for(l=l.nextSibling;1!=l.nodeType;)if(l=l.nextSibling,"tr"==l.tagName.toLowerCase())break a;l=null}if(l)if(0<r)switch(f){case "before":t=this.getRowCells(l);0<r&&this.map[b+
x][this.idx.col].el!=t[r]&&r==t.length-1?e(t[r],this.createCells(a,1)):t[r].parentNode.insertBefore(this.createCells(a,1),t[r]);break;case "after":e(this.getRowCells(l)[r],this.createCells(a,1))}else l.insertBefore(this.createCells(a,1),l.firstChild);else r=v.createElement("tr"),r.appendChild(this.createCells(a,1)),this.table.appendChild(r)}}};g.table={getCellsBetween:function(a,b){return(new l(a)).getMapElsTo(b)},addCells:function(a,b){(new l(a)).add(b)},removeCells:function(a,b){(new l(a)).remove(b)},
mergeCellsBetween:function(a,b){(new l(a)).merge(b)},unmergeCell:function(a){(new l(a)).unmerge()},orderSelectionEnds:function(a,b){return(new l(a)).orderSelectionEnds(b)},indexOf:function(a){var b=new l(a);b.setTableMap();return b.getMapIndex(a)},findCell:function(a,b){return(new l(null,a)).getElementAtIndex(b)},findRowByCell:function(a){return(new l(a)).getRowElementsByCell()},findColumnByCell:function(a){return(new l(a)).getColumnElementsByCell()},canMerge:function(a,b){return(new l(a)).canMerge(b)}}})(wysihtml5);
wysihtml5.dom.query=function(a,h){var b=[],e;a.nodeType&&(a=[a]);for(var g=0,f=a.length;g<f;g++)if(e=a[g].querySelectorAll(h))for(var l=e.length;l--;b.unshift(e[l]));return b};
wysihtml5.dom.compareDocumentPosition=function(){return document.documentElement.compareDocumentPosition?function(a,h){return a.compareDocumentPosition(h)}:function(a,h){if(a===h)return 0;if(a===h.ownerDocument)return 20;if(a.ownerDocument===h)return 10;if((9===a.nodeType?a:a.ownerDocument)!==(9===h.nodeType?h:h.ownerDocument))return 1;if(2===a.nodeType&&a.childNodes&&-1!==wysihtml5.lang.array(a.childNodes).indexOf(h))return 20;if(2===h.nodeType&&h.childNodes&&-1!==wysihtml5.lang.array(h.childNodes).indexOf(a))return 10;
for(var b=a,e=[],g=null;b;){if(b==h)return 10;e.push(b);b=b.parentNode}b=h;for(g=null;b;){if(b==a)return 20;var f=wysihtml5.lang.array(e).indexOf(b);if(-1!==f)return b=e[f],e=wysihtml5.lang.array(b.childNodes).indexOf(e[f-1]),g=wysihtml5.lang.array(b.childNodes).indexOf(g),e>g?2:4;g=b;b=b.parentNode}return 1}}();wysihtml5.dom.unwrap=function(a){var h=[];if(a.parentNode){for(;a.lastChild;)h.unshift(a.lastChild),wysihtml5.dom.insert(a.lastChild).after(a);a.parentNode.removeChild(a)}return h};
wysihtml5.dom.getPastedHtml=function(a){var h;wysihtml5.browser.supportsModernPaste()&&a.clipboardData&&(wysihtml5.lang.array(a.clipboardData.types).contains("text/html")?h=a.clipboardData.getData("text/html"):wysihtml5.lang.array(a.clipboardData.types).contains("text/plain")&&(h=wysihtml5.lang.string(a.clipboardData.getData("text/plain")).escapeHTML(!0,!0)));return h};
wysihtml5.dom.getPastedHtmlWithDiv=function(a,h){var b=a.selection.getBookmark(),e=a.element.ownerDocument,g=e.createElement("DIV"),f=a.getScrollPos();e.body.appendChild(g);g.style.width="1px";g.style.height="1px";g.style.overflow="hidden";g.style.position="absolute";g.style.top=f.y+"px";g.style.left=f.x+"px";g.setAttribute("contenteditable","true");g.focus();setTimeout(function(){var e;a.selection.setBookmark(b);(e=g.innerHTML)&&/^<br\/?>$/i.test(e.trim())&&(e=!1);h(e);g.parentNode.removeChild(g)},
0)};wysihtml5.dom.removeInvisibleSpaces=function(a){a=wysihtml5.dom.getTextNodes(a);for(var h=a.length;h--;)a[h].nodeValue=a[h].nodeValue.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")};
wysihtml5.quirks.cleanPastedHTML=function(){return function(a,h){var b={color:wysihtml5.dom.getStyle("color").from(h.referenceNode),fontSize:wysihtml5.dom.getStyle("font-size").from(h.referenceNode)},e;a:{e=h.rules;var g;if(e){for(var f=0,l=e.length;f<l;f++)if(e[f].condition||(g=e[f].set),e[f].condition&&e[f].condition.test(a)){e=e[f].set;break a}e=g}else e=null}e=wysihtml5.lang.object(e||{}).clone(!0);var k,n;for(k in e.tags)if(e.tags.hasOwnProperty(k)&&e.tags[k].keep_styles)for(n in e.tags[k].keep_styles)e.tags[k].keep_styles.hasOwnProperty(n)&&
b[n]&&(g=e.tags[k].keep_styles,f=n,l=wysihtml5.lang.string(b[n]).trim().replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),g[f]=new RegExp("^((?!^"+l+"$).)*$","i"));return wysihtml5.dom.parse(a,{rules:e,cleanUp:!0,context:h.referenceNode.ownerDocument,uneditableClass:h.uneditableClass,clearInternals:!0,unjoinNbsps:!0})}}();
wysihtml5.quirks.ensureProperClearing=function(){var a=function(){var a=this;setTimeout(function(){var b=a.innerHTML.toLowerCase();if("<p>&nbsp;</p>"==b||"<p>&nbsp;</p><p>&nbsp;</p>"==b)a.innerHTML=""},0)};return function(h){wysihtml5.dom.observe(h.element,["cut","keydown"],a)}}();
(function(a){a.quirks.getCorrectInnerHTML=function(h){var b=h.innerHTML;if(-1===b.indexOf("%7E"))return b;h=h.querySelectorAll("[href*='~'], [src*='~']");var e,g,f,l;l=0;for(f=h.length;l<f;l++)e=h[l].href||h[l].src,g=a.lang.string(e).replace("~").by("%7E"),b=a.lang.string(b).replace(g).by(e);return b}})(wysihtml5);
(function(a){a.quirks.redraw=function(h){a.dom.addClass(h,"wysihtml5-quirks-redraw");a.dom.removeClass(h,"wysihtml5-quirks-redraw");try{var b=h.ownerDocument;b.execCommand("italic",!1,null);b.execCommand("italic",!1,null)}catch(e){}}})(wysihtml5);
wysihtml5.quirks.tableCellsSelection=function(a,h){function b(){if(a){var b=a.querySelectorAll("."+n);if(0<b.length)for(var e=0;e<b.length;e++)l.removeClass(b[e],n)}}function e(a){for(var b=0;b<a.length;b++)l.addClass(a[b],n)}function g(f){var g=null;(f=l.getParentElement(f.target,{query:"td, th"},!1,a))&&k.table&&k.start&&(g=l.getParentElement(f,{query:"table"},!1,a))&&g===k.table&&(b(),g=k.end,k.end=f,k.cells=l.table.getCellsBetween(k.start,f),1<k.cells.length&&h.composer.selection.deselect(),e(k.cells),
k.end!==g&&h.fire("tableselectchange").fire("tableselectchange:composer"))}function f(b){a.removeEventListener("mousemove",g);a.removeEventListener("mouseup",f);h.fire("tableselect").fire("tableselect:composer");setTimeout(function(){a.ownerDocument.addEventListener("click",m)},0)}var l=wysihtml5.dom,k={table:null,start:null,end:null,cells:null,select:function(b,f){k.start=b;k.end=f;k.table=l.getParentElement(k.start,{query:"table"},!1,a);selectedCells=l.table.getCellsBetween(k.start,k.end);e(selectedCells);
a.ownerDocument.addEventListener("click",m);h.fire("tableselect").fire("tableselect:composer")}},n="wysiwyg-tmp-selected-cell",m=function(e){a.ownerDocument.removeEventListener("click",m);l.getParentElement(e.target,{query:"table"},!1,a)!=k.table&&(b(),k.table=null,k.start=null,k.end=null,h.fire("tableunselect").fire("tableunselect:composer"))};a.addEventListener("mousedown",function(e){if(e=wysihtml5.dom.getParentElement(e.target,{query:"td, th"},!1,a))k.start=e,k.end=e,k.cells=[e],k.table=l.getParentElement(k.start,
{query:"table"},!1,a),k.table&&(b(),l.addClass(e,n),a.addEventListener("mousemove",g),a.addEventListener("mouseup",f),h.fire("tableselectstart").fire("tableselectstart:composer"))});return k};
(function(a){function h(a){var e,h;for(e in b)if(b.hasOwnProperty(e)&&(h=b[e],h.regex.test(a)))return h}var b={rgba:{regex:/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,name:"rgba"},rgb:{regex:/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,name:"rgb"},hex6:{regex:/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,name:"hex",radix:16},hex3:{regex:/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,name:"hex",radix:16}},e=function(a){return new RegExp("(^|\\s|;)"+
a+"\\s*:\\s*[^;$]+","gi")};a.quirks.styleParser={getColorParseMethod:h,getColorFormat:function(a){return(a=h(a))?a.name:void 0},parseColor:function(g,f){var l,k,n,m;l=g;if(f){l=e(f);if(!(l=g.match(l)))return!1;l=l.pop().split(":")[1];l=a.lang.string(l).trim()}if(!(k=h(l))||!(n=l.match(k.regex)))return!1;m=k.radix||10;if(k===b.hex3)return n.shift(),n.push(1),a.lang.array(n).map(function(a,b){return 3>b?parseInt(a,m)*m+parseInt(a,m):parseFloat(a)});n.shift();n[3]||n.push(1);return a.lang.array(n).map(function(a,
b){return 3>b?parseInt(a,m):parseFloat(a)})},unparseColor:function(a,b){return"hex"===b?(a[0].toString(16)+a[1].toString(16)+a[2].toString(16)).toUpperCase():"hash"===b?"#"+(a[0].toString(16)+a[1].toString(16)+a[2].toString(16)).toUpperCase():"rgb"===b?"rgb("+a[0]+","+a[1]+","+a[2]+")":"rgba"===b?"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")":"csv"===b?a[0]+","+a[1]+","+a[2]+","+a[3]:a[3]&&1!==a[3]?"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")":"rgb("+a[0]+","+a[1]+","+a[2]+")"},parseFontSize:function(b){return(b=
b.match(e("font-size")))?a.lang.string(b[b.length-1].split(":")[1]).trim():!1}}})(wysihtml5);
(function(a){function h(a,b){for(var e=0;b!==a;)if(e++,b=b.parentNode,!b)throw Error("not a descendant of ancestor!");return e}function b(a,b){return 3===a.nodeType?a:a.childNodes[b]||a}function e(b){var e=document.createElement("span"),g=function(a){b.removeEventListener("mouseup",g);b.removeEventListener("keydown",g);b.removeEventListener("touchstart",g);b.removeEventListener("focus",g);b.removeEventListener("blur",g);b.removeEventListener("paste",h);b.removeEventListener("drop",h);b.removeEventListener("beforepaste",
h);e&&e.parentNode&&e.parentNode.removeChild(e)},h=function(a){e&&e.parentNode&&setTimeout(g,0)};e.appendChild(b.ownerDocument.createTextNode(a.INVISIBLE_SPACE));e.className="_wysihtml5-temp-caret-fix";e.style.display="block";e.style.minWidth="1px";e.style.height="0px";b.addEventListener("mouseup",g);b.addEventListener("keydown",g);b.addEventListener("touchstart",g);b.addEventListener("focus",g);b.addEventListener("blur",g);b.addEventListener("paste",h);b.addEventListener("drop",h);b.addEventListener("beforepaste",
h);return e}var g=a.dom;a.Selection=Base.extend({constructor:function(a,b,e){rangy.init();this.editor=a;this.composer=a.composer;this.doc=this.composer.doc;this.win=this.composer.win;this.contain=b;this.unselectableClass=e||!1},getBookmark:function(){var a=this.getRange();return a&&a.cloneRange()},setBookmark:function(a){a&&this.setSelection(a)},setBefore:function(a){var b=rangy.createRange(this.doc);b.setStartBefore(a);b.setEndBefore(a);return this.setSelection(b)},createTemporaryCaretSpaceAfter:function(b){var e=
this.doc.createElement("span"),g=this.doc.createTextNode(a.INVISIBLE_SPACE),h=function(b){this.contain.removeEventListener("mouseup",h);this.contain.removeEventListener("keydown",p);this.contain.removeEventListener("touchstart",h);this.contain.removeEventListener("focus",h);this.contain.removeEventListener("blur",h);this.contain.removeEventListener("paste",m);this.contain.removeEventListener("drop",m);this.contain.removeEventListener("beforepaste",m);e&&e.parentNode&&(e.innerHTML=e.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,
""),/[^\s]+/.test(e.innerHTML)?(b=e.lastChild,a.dom.unwrap(e),this.setAfter(b)):e.parentNode.removeChild(e))}.bind(this),m=function(a){e&&e.parentNode&&setTimeout(h,0)},p=function(a){8===a.which||91===a.which||17===a.which||86===a.which&&(a.ctrlKey||a.metaKey)||h()};e.className="_wysihtml5-temp-caret-fix";e.style.position="absolute";e.style.display="block";e.style.minWidth="1px";e.style.zIndex="99999";e.appendChild(g);b.parentNode.insertBefore(e,b.nextSibling);this.setBefore(g);this.contain.addEventListener("mouseup",
h);this.contain.addEventListener("keydown",p);this.contain.addEventListener("touchstart",h);this.contain.addEventListener("focus",h);this.contain.addEventListener("blur",h);this.contain.addEventListener("paste",m);this.contain.addEventListener("drop",m);this.contain.addEventListener("beforepaste",m);return e},setAfter:function(b,e,g){var h=this.win,m=rangy.createRange(this.doc),p=function(){var g=b.parentNode,g=g?g.childNodes[g.childNodes.length-1]:null;if(!q||g===b&&1===b.nodeType&&"block"===h.getComputedStyle(b).display)if(e){var k=
this.doc.createTextNode(a.INVISIBLE_SPACE);b.parentNode.insertBefore(k,b.nextSibling);this.selectNode(k);setTimeout(function(){k&&k.parentNode&&k.parentNode.removeChild(k)},0)}else this.createTemporaryCaretSpaceAfter(b)}.bind(this),q;m.setStartAfter(b);m.setEndAfter(b);if(document.activeElement&&document.activeElement===this.composer.element)q=this.setSelection(m),p(),g&&g(q);else{var r=this.composer.getScrollPos();this.composer.element.focus();this.composer.setScrollPos(r);setTimeout(function(){q=
this.setSelection(m);p();g&&g(q)}.bind(this),0)}},selectNode:function(b,e){var h=rangy.createRange(this.doc),n=b.nodeType===a.ELEMENT_NODE,m="canHaveHTML"in b?b.canHaveHTML:"IMG"!==b.nodeName,p=n?b.innerHTML:b.data,p=""===p||p===a.INVISIBLE_SPACE,q=g.getStyle("display").from(b),q="block"===q||"list-item"===q;if(p&&n&&m&&!e)try{b.innerHTML=a.INVISIBLE_SPACE}catch(r){}m?h.selectNodeContents(b):h.selectNode(b);m&&p&&n?h.collapse(q):m&&p&&(h.setStartAfter(b),h.setEndAfter(b));this.setSelection(h)},getSelectedNode:function(a){if(a&&
this.doc.selection&&"Control"===this.doc.selection.type&&(a=this.doc.selection.createRange())&&a.length)return a.item(0);a=this.getSelection(this.doc);return a.focusNode===a.anchorNode?a.focusNode:(a=this.getRange(this.doc))?a.commonAncestorContainer:this.doc.body},fixSelBorders:function(){var a=this.getRange();if(!a.canSurroundContents())for(var b=a.commonAncestorContainer,e=h(b,a.startContainer),g=h(b,a.endContainer);!a.canSurroundContents();)e>g?(a.setStartBefore(a.startContainer),e=h(b,a.startContainer)):
(a.setEndAfter(a.endContainer),g=h(b,a.endContainer));this.setSelection(a)},getSelectedOwnNodes:function(a){a=this.getOwnRanges();for(var b=[],e=0,g=a.length;e<g;e++)b.push(a[e].commonAncestorContainer||this.doc.body);return b},findNodesInSelection:function(b){for(var e=this.getOwnRanges(),g=[],h,m=0,p=e.length;m<p;m++)h=e[m].getNodes([1],function(e){return a.lang.array(b).contains(e.nodeName)}),g=g.concat(h);return g},filterElements:function(a){for(var b=this.getOwnRanges(),e=[],g,h=0,p=b.length;h<
p;h++)g=b[h].getNodes([1],function(e){return a(e,b[h])}),e=e.concat(g);return e},containsUneditable:function(){for(var a=this.getOwnUneditables(),b=this.getSelection(),e=0,g=a.length;e<g;e++)if(b.containsNode(a[e]))return!0;return!1},deleteContents:function(){var a=this.getRange();this.deleteRangeContents(a);this.setSelection(a)},deleteRangeContents:function(b){var e,g,h;if(this.unselectableClass)for((e=a.dom.getParentElement(b.startContainer,{query:"."+this.unselectableClass},!1,this.contain))&&
b.setStartBefore(e),(g=a.dom.getParentElement(b.endContainer,{query:"."+this.unselectableClass},!1,this.contain))&&b.setEndAfter(g),e=b.getNodes([1],function(b){return a.dom.hasClass(b,this.unselectableClass)}.bind(this)),g=e.length;g--;)try{h=new CustomEvent("wysihtml5:uneditable:delete"),e[g].dispatchEvent(h)}catch(m){}b.deleteContents()},getCaretNode:function(){var a=this.getSelection();return a&&a.anchorNode?b(a.anchorNode,a.anchorOffset):null},getPreviousNode:function(e,g){var h;if(!e){var n=
this.getSelection();e=n&&n.anchorNode?b(n.anchorNode,n.anchorOffset):null}if(e===this.contain)return!1;n=e.previousSibling;if(n===this.contain)return!1;n&&3!==n.nodeType&&1!==n.nodeType?n=this.getPreviousNode(n,g):n&&3===n.nodeType&&/^\s*$/.test(n.textContent)?n=this.getPreviousNode(n,g):g&&n&&1===n.nodeType?(h=a.dom.getStyle("display").from(n),a.lang.array(["BR","HR","IMG"]).contains(n.nodeName)||a.lang.array(["block","inline-block","flex","list-item","table"]).contains(h)||!/^[\s]*$/.test(n.innerHTML)||
(n=this.getPreviousNode(n,g))):n||e===this.contain||(h=e.parentNode,h!==this.contain&&(n=this.getPreviousNode(h,g)));return n!==this.contain?n:!1},getNodesNearCaret:function(){if(!this.isCollapsed())throw"Selection must be caret when using selection.getNodesNearCaret()";var a=this.getOwnRanges(),b,e,g,h;return a&&0<a.length?(1===a[0].startContainer.nodeType?(b=a[0].startContainer.childNodes[a[0].startOffset-1],b||0!==a[0].startOffset)?b&&(e=b.previousSibling,g=b.nextSibling):g=a[0].startContainer.childNodes[0]:
(0===a[0].startOffset&&a[0].startContainer.previousSibling?(b=a[0].startContainer.previousSibling,3===b.nodeType&&(h=b.data.length)):(b=a[0].startContainer,h=a[0].startOffset),e=b.previousSibling,g=b.nextSibling),{caretNode:b,prevNode:e,nextNode:g,textOffset:h}):null},getSelectionParentsByTag:function(b){b=this.getSelectedOwnNodes();for(var e,g=[],h=0,m=b.length;h<m;h++)(e=b[h].nodeName&&"LI"===b[h].nodeName?b[h]:a.dom.getParentElement(b[h],{query:"li"},!1,this.contain))&&g.push(e);return g.length?
g:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var a=this.getRange(),b=a.startContainer,a=a.startOffset,e=rangy.createRange(this.doc);e.selectNodeContents(b);e.setStart(b,a);return e}},caretIsLastInSelection:function(){rangy.createRange(this.doc);this.getSelection();var a=this.getRangeToNodeEnd().cloneContents().textContent;return/^\s*$/.test(a)},caretIsFirstInSelection:function(e){var g=rangy.createRange(this.doc),h=this.getSelection(),n=this.getRange(),m=b(n.startContainer,n.startOffset);
if(m){if(m.nodeType===a.TEXT_NODE){if(!m.parentNode||!this.isCollapsed()||m.parentNode.firstChild!==m&&!a.dom.domNode(m.previousSibling).is.block())return!1;e=this.win.getComputedStyle(m.parentNode).whiteSpace;return"pre"===e||"pre-wrap"===e?0===n.startOffset:/^\s*$/.test(m.data.substr(0,n.startOffset))}if(e&&a.dom.domNode(m).is.lineBreak())return!0;g.selectNodeContents(this.getRange().commonAncestorContainer);g.collapse(!0);return this.isCollapsed()&&(g.startContainer===h.anchorNode||g.endContainer===
h.anchorNode)&&g.startOffset===h.anchorOffset}},caretIsInTheBeginnig:function(b){var e=this.getSelection(),g=e.anchorNode,e=e.anchorOffset;if(b&&g)return 0===e&&(g.nodeName&&g.nodeName===b.toUpperCase()||a.dom.getParentElement(g.parentNode,{query:b},1));if(g)return 0===e&&!this.getPreviousNode(g,!0)},getBeforeSelection:function(b){var e=this.getSelection(),g=e.isBackwards()?e.focusNode:e.anchorNode,e=e.isBackwards()?e.focusOffset:e.anchorOffset,h=this.createRange(),m;g&&3===g.nodeType&&/^\s*$/.test(g.data.slice(0,
e))&&(e=0);if(m=a.dom.getParentElement(g,{query:"._wysihtml5-temp-caret-fix"},1))g=m.parentNode,e=Array.prototype.indexOf.call(g.childNodes,m);if(g){if(0<e){if(3===g.nodeType)return h.setStart(g,0),h.setEnd(g,e),{type:"text",range:h,offset:e,node:g};h.setStartBefore(g.childNodes[0]);g=g.childNodes[e-1];h.setEndAfter(g);return{type:"element",range:h,offset:e,node:g}}h.setStartAndEnd(g,0);return b&&(b=this.getPreviousNode(g,!0),m=null,b&&(m=1===b.nodeType&&a.dom.hasClass(b,this.unselectableClass)?b:
a.dom.domNode(b).lastLeafNode()),m)?{type:"leafnode",range:h,offset:e,node:m}:{type:"none",range:h,offset:e,node:g}}return null},executeAndRestoreRangy:function(a,b){var e=rangy.saveSelection(this.win);if(e)try{a()}catch(g){setTimeout(function(){throw g;},0)}else a();rangy.restoreSelection(e)},executeAndRestore:function(b,e){var h=this.doc.body,n=e&&h.scrollTop,m=e&&h.scrollLeft,p='<span class="_wysihtml5-temp-placeholder">'+a.INVISIBLE_SPACE+"</span>",q=this.getRange(!0),r,t,v;if(q){q.collapsed||
(v=q.cloneRange(),r=v.createContextualFragment(p),v.collapse(!1),v.insertNode(r),v.detach());p=q.createContextualFragment(p);q.insertNode(p);r&&(r=this.contain.querySelectorAll("._wysihtml5-temp-placeholder"),q.setStartBefore(r[0]),q.setEndAfter(r[r.length-1]));this.setSelection(q);try{b(q.startContainer,q.endContainer)}catch(x){setTimeout(function(){throw x;},0)}if((r=this.contain.querySelectorAll("._wysihtml5-temp-placeholder"))&&r.length)for(q=rangy.createRange(this.doc),p=r[0].nextSibling,1<r.length&&
(t=r[r.length-1].previousSibling),t&&p?q.setStartBefore(p):(t=this.doc.createTextNode(a.INVISIBLE_SPACE),g.insert(t).after(r[0]),q.setStartBefore(t)),q.setEndAfter(t),this.setSelection(q),t=r.length;t--;)r[t].parentNode.removeChild(r[t]);else this.contain.focus();e&&(h.scrollTop=n,h.scrollLeft=m);try{r.parentNode.removeChild(r)}catch(y){}}else b(h,h)},set:function(a,b){var e=rangy.createRange(this.doc);e.setStart(a,b||0);this.setSelection(e)},insertHTML:function(a){var b=this.getRange(),e=this.doc.createElement("DIV"),
g=this.doc.createDocumentFragment();if(b){b.deleteContents();e.innerHTML=a;for(a=e.lastChild;e.firstChild;)g.appendChild(e.firstChild);b.insertNode(g);for(b=this.contain.lastChild;b&&3===b.nodeType&&b.previousSibling&&/^\s*$/.test(b.data);)b=b.previousSibling;a&&(b&&a===b&&1===a.nodeType&&this.contain.appendChild(this.doc.createElement("br")),this.setAfter(a))}},insertNode:function(a){var b=this.getRange();b&&b.insertNode(a)},canAppendChild:function(a){var b,e=this.getRange();(a=a||e.startContainer)&&
(b=(a.tagName||a.nodeName).toLowerCase());return-1==="area base br col command embed hr img input keygen link meta param source track wbr".split(" ").indexOf(b)},splitElementAtCaret:function(b,e){var g=this.getSelection(),h,m;if(0<g.rangeCount){g=g.getRangeAt(0).cloneRange();g.setEndAfter(b);h=g.extractContents();m=h.childNodes;for(var p=m.length;p--;)a.dom.domNode(m[p]).is.visible()||h.removeChild(m[p]);b.parentNode.insertBefore(h,b.nextSibling);e?(h=e.firstChild||e,m=e.lastChild||e,b.parentNode.insertBefore(e,
b.nextSibling),h&&m&&(g.setStartBefore(h),g.setEndAfter(m),this.setSelection(g))):(g.setStartAfter(b),g.setEndAfter(b));a.dom.domNode(b).is.visible()||(""===a.dom.getTextContent(b)?b.parentNode.removeChild(b):b.parentNode.replaceChild(this.doc.createTextNode(" "),b))}},surround:function(a){var b=this.getOwnRanges(),e,g=[];if(0==b.length)return g;for(var h=b.length;h--;){e=this.doc.createElement(a.nodeName);g.push(e);a.className&&(e.className=a.className);a.cssStyle&&e.setAttribute("style",a.cssStyle);
try{b[h].surroundContents(e),this.selectNode(e)}catch(p){e.appendChild(b[h].extractContents()),b[h].insertNode(e)}}return g},scrollIntoView:function(){var b=this.doc,e=b.documentElement.scrollHeight>b.documentElement.offsetHeight,g;(g=b._wysihtml5ScrollIntoViewElement)||(g=b.createElement("span"),g.innerHTML=a.INVISIBLE_SPACE);g=b._wysihtml5ScrollIntoViewElement=g;if(e){this.insertNode(g);var e=g,h=0;if(e.parentNode){do h+=e.offsetTop||0,e=e.offsetParent;while(e)}e=h;g.parentNode.removeChild(g);e>=
b.body.scrollTop+b.documentElement.offsetHeight-5&&(b.body.scrollTop=e)}},selectLine:function(){var b=rangy.createRange();a.browser.supportsSelectionModify()?this._selectLine_W3C():b.nativeRange&&b.nativeRange.getBoundingClientRect&&this._selectLineUniversal()},includeRangyRangeHelpers:function(){var a=this.getSelection(),b=a.getRangeAt(0),e=function(a){return a&&1===a.nodeType&&a.classList.contains("rangySelectionBoundary")},g=1===a.anchorNode.nodeType?a.anchorNode.childNodes[a.anchorOffset]:a.anchorNode,
h=1===a.focusNode.nodeType?a.focusNode.childNodes[a.focusOffset]:a.focusNode,p;if(p=h){p=a.focusOffset;var q;q=1===h.nodeType?h.childNodes&&h.childNodes.length||0:h.data&&h.data.length||0;p=p===q}p&&h.nextSibling&&e(h.nextSibling)&&b.setEndAfter(h.nextSibling);g&&0===a.anchorOffset&&g.previousSibling&&e(g.previousSibling)&&b.setStartBefore(g.previousSibling);b.select()},_selectLine_W3C:function(){var a=this.win.getSelection(),b=[a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset];a.modify("move",
"left","lineboundary");a.modify("extend","right","lineboundary");a.anchorNode===b[0]&&a.anchorOffset===b[1]&&a.focusNode===b[2]&&a.focusOffset===b[3]?this._selectLineUniversal():this.includeRangyRangeHelpers()},toLineBoundary:function(b,e){e="undefined"===typeof e?!1:e;if(a.browser.supportsSelectionModify()){var g=this.win.getSelection();g.modify("extend",b,"lineboundary");e&&("left"===b?g.collapseToStart():"right"===b&&g.collapseToEnd())}},getRangeRect:function(a){this.doc.createTextNode("i");var b=
this.doc.createTextNode("i");a.collapsed?(a.insertNode(b),a.selectNode(b),b=a.nativeRange.getBoundingClientRect(),a.deleteContents()):b=a.nativeRange.getBoundingClientRect();return b},_selectLineUniversal:function(){var b=this.getSelection().getRangeAt(0),e,g=0,h,m,p,q=this;e=function(b){return b&&1===b.nodeType&&("block"===q.win.getComputedStyle(b).display||a.lang.array(["BR","HR"]).contains(b.nodeName))};h=function(a){if(a)for(;a&&(1===a.nodeType&&a.classList.contains("rangySelectionBoundary")||
3===a.nodeType&&/^\s*$/.test(a.data));)a=a.previousSibling;return a};b.cloneRange();b.cloneRange();b.collapsed&&(3===b.startContainer.nodeType&&b.startOffset<b.startContainer.data.length?b.moveEnd("character",1):1===b.startContainer.nodeType&&b.startContainer.childNodes[b.startOffset]&&3===b.startContainer.childNodes[b.startOffset].nodeType&&0<b.startContainer.childNodes[b.startOffset].data.length?b.moveEnd("character",1):0<b.startOffset&&(3===b.startContainer.nodeType||1===b.startContainer.nodeType&&
!e(h(b.startContainer.childNodes[b.startOffset-1])))&&b.moveStart("character",-1));b.collapsed||b.insertNode(this.doc.createTextNode(a.INVISIBLE_SPACE));e=b.nativeRange.getBoundingClientRect();do h=b.moveStart("character",-1),m=b.nativeRange.getBoundingClientRect(),m&&Math.floor(m.top)===Math.floor(e.top)||(b.moveStart("character",1),p=!0),g++;while(0!==h&&!p&&2E3>g);g=0;p=!1;e=b.nativeRange.getBoundingClientRect();if(b.endContainer!==this.contain||this.contain.lastChild&&this.contain.childNodes[b.endOffset]!==
this.contain.lastChild){do h=b.moveEnd("character",1),m=b.nativeRange.getBoundingClientRect(),m&&Math.floor(m.bottom)===Math.floor(e.bottom)||(b.moveEnd("character",-1),b.endContainer&&1===b.endContainer.nodeType&&b.endContainer.childNodes[b.endOffset]&&1===b.endContainer.childNodes[b.endOffset].nodeType&&"BR"===b.endContainer.childNodes[b.endOffset].nodeName&&b.endContainer.childNodes[b.endOffset].previousSibling&&(1===b.endContainer.childNodes[b.endOffset].previousSibling.nodeType?b.setEnd(b.endContainer.childNodes[b.endOffset].previousSibling,
b.endContainer.childNodes[b.endOffset].previousSibling.childNodes.length):3===b.endContainer.childNodes[b.endOffset].previousSibling.nodeType&&b.setEnd(b.endContainer.childNodes[b.endOffset].previousSibling,b.endContainer.childNodes[b.endOffset].previousSibling.data.length)),p=!0),g++;while(0!==h&&!p&&2E3>g)}b.select();this.includeRangyRangeHelpers()},getText:function(){var a=this.getSelection();return a?a.toString():""},getNodes:function(a,b){var e=this.getRange();return e?e.getNodes(Array.isArray(a)?
a:[a],b):[]},getOwnNodes:function(a,b,e){for(var g=this.getOwnRanges(),h=[],p=0,q=g.length;p<q;p++)g[p]&&(e&&g[p].splitBoundaries(),h=h.concat(g[p].getNodes(Array.isArray(a)?a:[a],b)));return h},fixRangeOverflow:function(a){if(this.contain&&this.contain.firstChild&&a){var b=a.compareNode(this.contain);2!==b?(1===b&&a.setStartBefore(this.contain.firstChild),0===b&&a.setEndAfter(this.contain.lastChild),3===b&&(a.setStartBefore(this.contain.firstChild),a.setEndAfter(this.contain.lastChild))):this._detectInlineRangeProblems(a)&&
(b=a.endContainer.previousElementSibling)&&a.setEnd(b,this._endOffsetForNode(b))}},_endOffsetForNode:function(a){var b=document.createRange();b.selectNodeContents(a);return b.endOffset},_detectInlineRangeProblems:function(a){var b=g.compareDocumentPosition(a.startContainer,a.endContainer);return 0==a.endOffset&&b&4},getRange:function(a){var b=this.getSelection(),b=b&&b.rangeCount&&b.getRangeAt(0);!0!==a&&this.fixRangeOverflow(b);return b},getOwnUneditables:function(){var b=g.query(this.contain,"."+
this.unselectableClass),e=g.query(b,"."+this.unselectableClass);return a.lang.array(b).without(e)},getOwnRanges:function(){var a=[],b=this.getRange();b&&a.push(b);if(this.unselectableClass&&this.contain&&b){var e=this.getOwnUneditables(),g;if(0<e.length)for(var h=0,p=e.length;h<p;h++)for(var b=[],q=0,r=a.length;q<r;q++){if(a[q])switch(a[q].compareNode(e[h])){case 2:break;case 3:g=a[q].cloneRange();g.setEndBefore(e[h]);b.push(g);g=a[q].cloneRange();g.setStartAfter(e[h]);b.push(g);break;default:b.push(a[q])}a=
b}}return a},getSelection:function(){return rangy.getSelection(this.win)},setSelection:function(a){var b=rangy.getSelection(this.win);b.setSingleRange(a);return b&&b.anchorNode&&b.focusNode?b:null},selectAll:function(){var b=this.createRange(),g=this.composer,h=this,n=e(this.composer.element),m=e(this.composer.element),p,q=function(){b.setStart(g.element,0);b.setEnd(g.element,g.element.childNodes.length);p=h.setSelection(b)},r=function(){return!p||p.nativeSelection&&p.nativeSelection.type&&("Caret"===
p.nativeSelection.type||"None"===p.nativeSelection.type)};a.dom.removeInvisibleSpaces(this.composer.element);q();this.composer.element.firstChild&&r()&&(this.composer.element.appendChild(n),q(),r()&&(n.parentNode.removeChild(n),this.composer.element.insertBefore(m,this.composer.element.firstChild),q(),r()&&(this.composer.element.appendChild(n),q())))},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},getHtml:function(){return this.getSelection().toHtml()},
getPlainText:function(){return this.getSelection().toString()},isEndToEndInNode:function(b){var e=this.getRange(),g=e.commonAncestorContainer,h=e.startContainer,m=e.endContainer;g.nodeType===a.TEXT_NODE&&(g=g.parentNode);if(h.nodeType===a.TEXT_NODE&&!/^\s*$/.test(h.data.substr(e.startOffset))||m.nodeType===a.TEXT_NODE&&!/^\s*$/.test(m.data.substr(e.endOffset)))return!1;for(;h&&h!==g;){if(h.nodeType!==a.TEXT_NODE&&!a.dom.contains(g,h)||a.dom.domNode(h).prev({ignoreBlankTexts:!0}))return!1;h=h.parentNode}for(;m&&
m!==g;){if(m.nodeType!==a.TEXT_NODE&&!a.dom.contains(g,m)||a.dom.domNode(m).next({ignoreBlankTexts:!0}))return!1;m=m.parentNode}return a.lang.array(b).contains(g.nodeName)?g:!1},isInThisEditable:function(){var b=this.getSelection(),e=b.focusNode,b=b.anchorNode;e&&1!==e.nodeType&&(e=e.parentNode);b&&1!==b.nodeType&&(b=b.parentNode);return b&&e&&(a.dom.contains(this.composer.element,e)||this.composer.element===e)&&(a.dom.contains(this.composer.element,b)||this.composer.element===b)},deselect:function(){var a=
this.getSelection();a&&a.removeAllRanges()}})})(wysihtml5);
(function(a,h){function b(a,b,f){a.getAttribute("style")?(e(a,f),a.getAttribute("style")&&!/^\s*$/.test(a.getAttribute("style"))?a.setAttribute("style",b+";"+a.getAttribute("style")):a.setAttribute("style",b)):a.setAttribute("style",b)}function e(a,b){var e,f=[];if(a.getAttribute("style")){e=a.getAttribute("style").split(";");for(var g=e.length;g--;)e[g].match(b)||/^\s*$/.test(e[g])||f.push(e[g]);f.length?a.setAttribute("style",f.join(";")):a.removeAttribute("style")}}function g(a,b){var e=[],f=b.split(";"),
g=a.getAttribute("style");if(g){g=g.replace(/\s/gi,"").toLowerCase();e.push(new RegExp("(^|\\s|;)"+b.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var h=f.length;0<h--;)/^\s*$/.test(f[h])||e.push(new RegExp("(^|\\s|;)"+f[h].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));
f=0;for(h=e.length;f<h;f++)if(g.match(e[f]))return e[f]}return!1}function f(b,e,f,k){for(var l=b.length;l--;){var m;m=b[l];var n=e,p=k;m=f?g(m,f):p?a.dom.hasClass(m,p):h.dom.arrayContains(n,m.tagName.toLowerCase());if(!m)return!1}return b.length?!0:!1}function l(a,b){return h.dom.isCharacterDataNode(a)?0==b?!!a.previousSibling:b==a.length?!!a.nextSibling:!0:0<b&&b<a.childNodes.length}function k(a,b,e,f){var g;h.dom.isCharacterDataNode(b)&&(0==e?(e=h.dom.getNodeIndex(b),b=b.parentNode):e==b.length?
(e=h.dom.getNodeIndex(b)+1,b=b.parentNode):g=h.dom.splitDataNode(b,e));if(!(g||f&&b===f)){g=b.cloneNode(!1);g.id&&g.removeAttribute("id");for(var l;l=b.childNodes[e];)g.appendChild(l);h.dom.insertAfter(g,b)}return b==a?g:k(a,g.parentNode,h.dom.getNodeIndex(g),f)}function n(b){this.firstTextNode=(this.isElementMerge=b.nodeType==a.ELEMENT_NODE)?b.lastChild:b;this.textNodes=[this.firstTextNode]}function m(a,b,e,f,g,h,k){this.tagNames=a||["span"];this.cssClass=b||(!1===b?!1:"");this.similarClassRegExp=
e;this.cssStyle=g||"";this.similarStyleRegExp=h;this.normalize=f;this.applyToAnyTagName=!1;this.container=k}var p=/\s+/g;n.prototype={doMerge:function(){for(var a=[],b,e,f=0,g=this.textNodes.length;f<g;++f)b=this.textNodes[f],e=b.parentNode,a[f]=b.data,f&&(e.removeChild(b),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=a=a.join("")},getLength:function(){for(var a=this.textNodes.length,b=0;a--;)b+=this.textNodes[a].length;return b},toString:function(){for(var a=[],b=
0,e=this.textNodes.length;b<e;++b)a[b]="'"+this.textNodes[b].data+"'";return"[Merge("+a.join(",")+")]"}};m.prototype={getAncestorWithClass:function(b){for(var e;b;){if(this.cssClass)if(e=this.cssClass,b.className){var f=b.className.match(this.similarClassRegExp)||[];e=f[f.length-1]===e}else e=!1;else e=""!==this.cssStyle?!1:!0;if(b.nodeType==a.ELEMENT_NODE&&"false"!=b.getAttribute("contenteditable")&&h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&e)return b;b=b.parentNode}return!1},getAncestorWithStyle:function(b){for(var e;b;){if(this.cssStyle){e=
b;var f=this.similarStyleRegExp;e.getAttribute&&e.getAttribute("style")?(e.getAttribute("style").match(f),e=e.getAttribute("style").match(f)?!0:!1):e=!1}else e=!1;if(b.nodeType==a.ELEMENT_NODE&&"false"!=b.getAttribute("contenteditable")&&h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&e)return b;b=b.parentNode}return!1},getMatchingAncestor:function(a){var b=this.getAncestorWithClass(a),e=!1;b?this.cssStyle&&(e="class"):(b=this.getAncestorWithStyle(a))&&(e="style");return{element:b,type:e}},
postApply:function(a,b){for(var e=a[0],f=a[a.length-1],g=[],h,k=e,l=f,m=0,p=f.length,A,D,F=0,K=a.length;F<K;++F)A=a[F],D=null,A&&A.parentNode&&(D=this.getAdjacentMergeableTextNode(A.parentNode,!1)),D?(h||(h=new n(D),g.push(h)),h.textNodes.push(A),A===e&&(k=h.firstTextNode,m=k.length),A===f&&(l=h.firstTextNode,p=h.getLength())):h=null;f&&f.parentNode&&(e=this.getAdjacentMergeableTextNode(f.parentNode,!0))&&(h||(h=new n(f),g.push(h)),h.textNodes.push(e));if(g.length){F=0;for(K=g.length;F<K;++F)g[F].doMerge();
b.setStart(k,m);b.setEnd(l,p)}},getAdjacentMergeableTextNode:function(b,e){var f=b.nodeType==a.TEXT_NODE,g=f?b.parentNode:b,h=e?"nextSibling":"previousSibling";if(f){if((f=b[h])&&f.nodeType==a.TEXT_NODE)return f}else if((f=g[h])&&this.areElementsMergeable(b,f))return f[e?"firstChild":"lastChild"];return null},areElementsMergeable:function(a,b){var e;if(e=h.dom.arrayContains(this.tagNames,(a.tagName||"").toLowerCase())&&h.dom.arrayContains(this.tagNames,(b.tagName||"").toLowerCase()))e=a.className.replace(p,
" ")==b.className.replace(p," ");if(e)a:if(a.attributes.length!=b.attributes.length)e=!1;else{e=0;for(var f=a.attributes.length,g,k;e<f;++e)if(g=a.attributes[e],k=g.name,"class"!=k&&(k=b.attributes.getNamedItem(k),g.specified!=k.specified||g.specified&&g.nodeValue!==k.nodeValue)){e=!1;break a}e=!0}return e},createContainer:function(a){a=a.createElement(this.tagNames[0]);this.cssClass&&(a.className=this.cssClass);this.cssStyle&&a.setAttribute("style",this.cssStyle);return a},applyToTextNode:function(a){var e=
a.parentNode;1==e.childNodes.length&&h.dom.arrayContains(this.tagNames,e.tagName.toLowerCase())?(this.cssClass&&(a=this.cssClass,e.className?(e.className&&(e.className=e.className.replace(this.similarClassRegExp,"")),e.className+=" "+a):e.className=a),this.cssStyle&&b(e,this.cssStyle,this.similarStyleRegExp)):(e=this.createContainer(h.dom.getDocument(a)),a.parentNode.insertBefore(e,a),e.appendChild(a))},isRemovable:function(b){return h.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&""===
a.lang.string(b.className).trim()&&(!b.getAttribute("style")||""===a.lang.string(b.getAttribute("style")).trim())},undoToTextNode:function(a,f,h,m){a=h?!1:!0;h=h||m;m=!1;if(!f.containsNode(h)){var n=f.cloneRange();n.selectNode(h);n.isPointInRange(f.endContainer,f.endOffset)&&l(f.endContainer,f.endOffset)&&(k(h,f.endContainer,f.endOffset,this.container),f.setEndAfter(h));n.isPointInRange(f.startContainer,f.startOffset)&&l(f.startContainer,f.startOffset)&&(h=k(h,f.startContainer,f.startOffset,this.container))}!a&&
this.similarClassRegExp&&h.className&&(h.className=h.className.replace(this.similarClassRegExp,""));a&&this.similarStyleRegExp&&(f=h,a=this.cssStyle,m=this.similarStyleRegExp,(n=g(f,a))?(e(f,n),f="remove"):(b(f,a,m),f="change"),m="change"===f);if(this.isRemovable(h)&&!m){for(f=h.parentNode;h.firstChild;)f.insertBefore(h.firstChild,h);f.removeChild(h)}},applyToRange:function(b){for(var e,f=b.length;f--;){e=b[f].getNodes([a.TEXT_NODE]);if(!e.length)try{var g=this.createContainer(b[f].endContainer.ownerDocument);
b[f].surroundContents(g);this.selectNode(b[f],g);break}catch(h){}b[f].splitBoundaries();e=b[f].getNodes([a.TEXT_NODE]);if(e.length){for(var k,l=0,m=e.length;l<m;++l)k=e[l],this.getMatchingAncestor(k).element||this.applyToTextNode(k);b[f].setStart(e[0],0);k=e[e.length-1];b[f].setEnd(k,k.length);this.normalize&&this.postApply(e,b[f])}}},undoToRange:function(b){for(var e,f,g,h=b.length;h--;){e=b[h].getNodes([a.TEXT_NODE]);e.length?(b[h].splitBoundaries(),e=b[h].getNodes([a.TEXT_NODE])):(e=b[h].endContainer.ownerDocument.createTextNode(a.INVISIBLE_SPACE),
b[h].insertNode(e),b[h].selectNode(e),e=[e]);for(var k=0,l=e.length;k<l;++k)b[h].isValid()&&(f=e[k],g=this.getMatchingAncestor(f),"style"===g.type?this.undoToTextNode(f,b[h],!1,g.element):g.element&&this.undoToTextNode(f,b[h],g.element));1==l?this.selectNode(b[h],e[0]):(b[h].setStart(e[0],0),f=e[e.length-1],b[h].setEnd(f,f.length),this.normalize&&this.postApply(e,b[h]))}},selectNode:function(b,e){var f=e.nodeType===a.ELEMENT_NODE,g="canHaveHTML"in e?e.canHaveHTML:!0,h=f?e.innerHTML:e.data;if((h=""===
h||h===a.INVISIBLE_SPACE)&&f&&g)try{e.innerHTML=a.INVISIBLE_SPACE}catch(k){}b.selectNodeContents(e);h&&f?b.collapse(!1):h&&(b.setStartAfter(e),b.setEndAfter(e))},getTextSelectedByRange:function(a,b){var e=b.cloneRange();e.selectNodeContents(a);var f=e.intersection(b),f=f?f.toString():"";e.detach();return f},isAppliedToRange:function(b){for(var e=[],f="full",g,h,k=b.length;k--;){h=b[k].getNodes([a.TEXT_NODE]);if(!h.length)return(g=this.getMatchingAncestor(b[k].startContainer).element)?{elements:[g],
coverage:f}:!1;for(var l=0,m=h.length,n;l<m;++l)n=this.getTextSelectedByRange(h[l],b[k]),(g=this.getMatchingAncestor(h[l]).element)&&""!=n?(e.push(g),1===a.dom.getTextNodes(g,!0).length?f="full":"full"===f&&(f="inline")):g||(f="partial")}return e.length?{elements:e,coverage:f}:!1},toggleRange:function(a){var b=this.isAppliedToRange(a);b?"full"===b.coverage?this.undoToRange(a):"inline"===b.coverage?(b=f(b.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(a),b||this.applyToRange(a)):
(f(b.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(a),this.applyToRange(a)):this.applyToRange(a)}};a.selection.HTMLApplier=m})(wysihtml5,rangy);
wysihtml5.Commands=Base.extend({constructor:function(a){this.editor=a;this.composer=a.composer;this.doc=this.composer.doc},support:function(a){return wysihtml5.browser.supportsCommand(this.doc,a)},exec:function(a,h){var b=wysihtml5.commands[a],e=wysihtml5.lang.array(arguments).get(),g=b&&b.exec,f=null;this.composer.hasPlaceholderSet()&&!wysihtml5.lang.array(["styleWithCSS","enableObjectResizing","enableInlineTableEditing"]).contains(a)&&(this.composer.element.innerHTML="",this.composer.selection.selectNode(this.composer.element));
this.editor.fire("beforecommand:composer");if(g)e.unshift(this.composer),f=g.apply(b,e);else try{f=this.doc.execCommand(a,!1,h)}catch(l){}this.editor.fire("aftercommand:composer");return f},remove:function(a,h){var b=wysihtml5.commands[a],e=wysihtml5.lang.array(arguments).get(),g=b&&b.remove;if(g)return e.unshift(this.composer),g.apply(b,e)},state:function(a,h){var b=wysihtml5.commands[a],e=wysihtml5.lang.array(arguments).get(),g=b&&b.state;if(g)return e.unshift(this.composer),g.apply(b,e);try{return this.doc.queryCommandState(a)}catch(f){return!1}},
stateValue:function(a){var h=wysihtml5.commands[a],b=wysihtml5.lang.array(arguments).get(),e=h&&h.stateValue;return e?(b.unshift(this.composer),e.apply(h,b)):!1}});(function(a){var h={nodeName:"B",toggle:!0};a.commands.bold={exec:function(b,e){a.commands.formatInline.exec(b,e,h)},state:function(b,e){return a.commands.formatInline.state(b,e,h)}}})(wysihtml5);
(function(a){var h={nodeName:"A",toggle:!1};a.commands.createLink={exec:function(b,e,g){g=a.lang.object({}).merge(h).merge({attribute:g}).get();if(b.selection.isCollapsed()&&!this.state(b,e)){var f=b.doc.createTextNode(g.attribute.href);b.selection.insertNode(f);b.selection.selectNode(f)}a.commands.formatInline.exec(b,e,g)},state:function(b,e){return a.commands.formatInline.state(b,e,h)}}})(wysihtml5);
(function(a){var h={nodeName:"A"};a.commands.removeLink={exec:function(b,e){a.commands.formatInline.remove(b,e,h)},state:function(b,e){return a.commands.formatInline.state(b,e,h)}}})(wysihtml5);(function(a){var h=/wysiwyg-font-size-[0-9a-z\-]+/g;a.commands.fontSize={exec:function(b,e,g){a.commands.formatInline.exec(b,e,{className:"wysiwyg-font-size-"+g,classRegExp:h,toggle:!0})},state:function(b,e,g){return a.commands.formatInline.state(b,e,{className:"wysiwyg-font-size-"+g})}}})(wysihtml5);
(function(a){a.commands.fontSizeStyle={exec:function(h,b,e){e=e.size||e;/^\s*$/.test(e)||a.commands.formatInline.exec(h,b,{styleProperty:"fontSize",styleValue:e,toggle:!1})},state:function(h,b,e){return a.commands.formatInline.state(h,b,{styleProperty:"fontSize",styleValue:e||void 0})},remove:function(h,b){return a.commands.formatInline.remove(h,b,{styleProperty:"fontSize"})},stateValue:function(h,b){var e;(e=this.state(h,b))&&a.lang.object(e).isArray()&&(e=e[0]);return e&&(e=e.getAttribute("style"))?
a.quirks.styleParser.parseFontSize(e):!1}}})(wysihtml5);(function(a){var h=/wysiwyg-color-[0-9a-z]+/g;a.commands.foreColor={exec:function(b,e,g){a.commands.formatInline.exec(b,e,{className:"wysiwyg-color-"+g,classRegExp:h,toggle:!0})},state:function(b,e,g){return a.commands.formatInline.state(b,e,{className:"wysiwyg-color-"+g})}}})(wysihtml5);
(function(a){a.commands.foreColorStyle={exec:function(h,b,e){e&&(e=a.quirks.styleParser.parseColor("color:"+(e.color||e),"color"))&&(e=(1===e[3]?"rgb("+[e[0],e[1],e[2]].join(", "):"rgba("+e.join(", "))+")",a.commands.formatInline.exec(h,b,{styleProperty:"color",styleValue:e}))},state:function(h,b,e){e=e?a.quirks.styleParser.parseColor("color:"+(e.color||e),"color"):null;var g;e&&(g=(1===e[3]?"rgb("+[e[0],e[1],e[2]].join(", "):"rgba("+e.join(", "))+")");return a.commands.formatInline.state(h,b,{styleProperty:"color",
styleValue:g})},remove:function(h,b){return a.commands.formatInline.remove(h,b,{styleProperty:"color"})},stateValue:function(h,b,e){h=this.state(h,b);b=!1;h&&a.lang.object(h).isArray()&&(h=h[0]);return h&&(h=h.getAttribute("style"))?(b=a.quirks.styleParser.parseColor(h,"color"),a.quirks.styleParser.unparseColor(b,e)):!1}}})(wysihtml5);
(function(a){a.commands.bgColorStyle={exec:function(h,b,e){if(e=a.quirks.styleParser.parseColor("background-color:"+(e.color||e),"background-color"))e=(1===e[3]?"rgb("+[e[0],e[1],e[2]].join(", "):"rgba("+e.join(", "))+")",a.commands.formatInline.exec(h,b,{styleProperty:"backgroundColor",styleValue:e})},state:function(h,b,e){e=e?a.quirks.styleParser.parseColor("background-color:"+(e.color||e),"background-color"):null;var g;e&&(g=(1===e[3]?"rgb("+[e[0],e[1],e[2]].join(", "):"rgba("+e.join(", "))+")");
return a.commands.formatInline.state(h,b,{styleProperty:"backgroundColor",styleValue:g})},remove:function(h,b){return a.commands.formatInline.remove(h,b,{styleProperty:"backgroundColor"})},stateValue:function(h,b,e){h=this.state(h,b);b=!1;h&&a.lang.object(h).isArray()&&(h=h[0]);return h&&(h=h.getAttribute("style"))?(b=a.quirks.styleParser.parseColor(h,"background-color"),a.quirks.styleParser.unparseColor(b,e)):!1}}})(wysihtml5);
(function(a){function h(a,b){return 3===a.nodeType?a:a.childNodes[b]||a}function b(a){return a&&1===a.nodeType&&"BR"===a.nodeName}function e(a){return a&&1===a.nodeType&&a.classList.contains("rangySelectionBoundary")}function g(a,e){return b(a)||a&&1===a.nodeType&&"block"===e.win.getComputedStyle(a).display}function f(b,e){a.dom.removeInvisibleSpaces(b.element);for(var f=b.element,g=f.querySelectorAll("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"),h=b.config.classNames.uneditableContainer+[""].concat("h1; h2; h3; h4; h5; h6; p; pre; div; blockquote".split(";")).join(", "+
b.config.classNames.uneditableContainer+" "),f=f.querySelectorAll(h),g=a.lang.array(g).without(f),h=g.length;h--;)""!==g[h].innerHTML.replace(/[\uFEFF]/g,"")||0!==e.length&&g[h]===e[e.length-1]||(f=a.lang.array(e).indexOf(g[h]),-1<f&&e.splice(f,1),g[h].parentNode.removeChild(g[h]));return e}function l(a,b,e){for(var f=null;a&&b&&a!==b;)1===a.nodeType&&a.matches(e?"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote":"h1, h2, h3, h4, h5, h6, p, pre")&&(f=a),a=a.parentNode;return f}function k(b,e,f){b||
(b=f.doc.createElement(e.nodeName||(f.config.useLineBreaks?"DIV":"P")),b.appendChild(f.doc.createTextNode(a.INVISIBLE_SPACE)));e.nodeName&&b.nodeName!==e.nodeName&&(b=z.renameElement(b,e.nodeName));e.classRegExp&&(b.className=b.className.replace(e.classRegExp,""));e.className&&b.classList.add(e.className);e.styleProperty&&"undefined"!==typeof e.styleValue&&(b.style[a.browser.fixStyleKey(e.styleProperty)]=e.styleValue);return b}function n(b){b=b.querySelectorAll("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote")||
[];for(var e,f=b.length;f--;)e=a.dom.domNode(b[f]).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),a.dom.domNode(b[f]).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),e&&1!==e.nodeType&&"BR"!==e.nodeName&&""!==(b[f].innerHTML||b[f].nodeValue||"").trim()&&b[f].parentNode.insertBefore(b[f].ownerDocument.createElement("BR"),e),e&&1!==e.nodeType&&"BR"!==e.nodeName&&""!==(b[f].innerHTML||b[f].nodeValue||"").trim()&&b[f].parentNode.insertBefore(b[f].ownerDocument.createElement("BR"),e),a.dom.unwrap(b[f])}function m(b){for(var e=
[],f,g,h,k,l,m,n=0,r=b.length;n<r;n++){1===b[n].startContainer.nodeType&&b[n].startContainer.matches("ul, ol")&&b[n].setStart(b[n].startContainer.childNodes[b[n].startOffset],0);1===b[n].endContainer.nodeType&&b[n].endContainer.matches("ul, ol")&&(m=b[n].endContainer.childNodes[Math.max(b[n].endOffset-1,0)],m.childNodes&&b[n].setEnd(m,m.childNodes.length));f=b[n].getNodes([1],function(a){return"LI"===a.nodeName});if(0<f.length)for(g=0,h=f.length;g<h;g++){l=b[n].compareNode(f[g]);if(l===b[n].NODE_AFTER||
l===b[n].NODE_INSIDE)k=b[n].cloneRange(),(m=a.dom.domNode(f[g]).prev({nodeTypes:[1]}))?k.setEnd(m,m.childNodes.length):f[g].closest("ul, ol")?k.setEndBefore(f[g].closest("ul, ol")):k.setEndBefore(f[g]),e.push(k),b[n].setStart(f[g],0);if(l===b[n].NODE_BEFORE||l===b[n].NODE_INSIDE)k=b[n].cloneRange(),k.setEnd(f[g],f[g].childNodes.length),e.push(k),(m=a.dom.domNode(f[g]).next({nodeTypes:[1]}))?b[n].setStart(m,0):f[g].closest("ul, ol")?b[n].setStartAfter(f[g].closest("ul, ol")):b[n].setStartAfter(f[g])}e.push(b[n])}return e}
function p(b,e,f,h){var k,m,n=e.startContainer;if(h=h||l(n,f.element,!0))e=b.firstChild,m=b.lastChild,f.selection.splitElementAtCaret(h,b),k=a.dom.domNode(m).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),b=a.dom.domNode(e).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),e&&!g(e,f)&&b&&!g(b,f)&&e.parentNode.insertBefore(f.doc.createElement("br"),e),m&&!g(m,f)&&k&&!g(k,f)&&k.parentNode.insertBefore(f.doc.createElement("br"),k);else{h=f.element;for(var r=n,n=null,p;r&&h&&r!==h;)1===r.nodeType&&r.matches("b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u")&&
(k=r,null===n?m=n=r.cloneNode(!1):(p=r.cloneNode(!1),p.appendChild(n),n=p)),r=r.parentNode;if((h=n)&&m&&k){if(1===b.childNodes.length){for(;b.firstChild.firstChild;)m.appendChild(b.firstChild.firstChild);b.firstChild.appendChild(h)}f.selection.splitElementAtCaret(k,b)}else f=b.firstChild,m=b.lastChild,e.insertNode(b),e.setStartBefore(f),e.setEndAfter(m)}}function q(b,e,f){b=b.cloneRange();var k=h(b.startContainer,b.startOffset).previousSibling,l=h(b.endContainer,b.endOffset).nextSibling,m=b.extractContents();
e=f.doc.createDocumentFragment();for(var r;m.firstChild;)if(1===m.firstChild.nodeType&&m.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote")){n(m.firstChild);r=a.dom.unwrap(m.firstChild);0<r.length&&(e.lastChild&&(1!==e.lastChild.nodeType||!g(e.lastChild,f))||!e.lastChild&&k&&(1!==k.nodeType||g(k,f)))&&e.appendChild(f.doc.createElement("BR"));for(var q=0,t=r.length;q<t;q++)e.appendChild(r[q]);0<r.length&&(1===e.lastChild.nodeType&&g(e.lastChild,f)||(l||e.lastChild!==m.lastChild)&&
e.appendChild(f.doc.createElement("BR")))}else e.appendChild(m.firstChild);k=a.lang.array(e.childNodes).get();p(e,b,f);return k}function r(e,f,g,m){var r=f?{nodeName:f.nodeName||null,className:f.classRegExp?null:f.className||null,classRegExp:f.classRegExp||null,styleProperty:f.styleProperty||null}:null;e=e.cloneRange();var q=e.startContainer,t=h(e.startContainer,e.startOffset),v=h(e.endContainer,e.endOffset),y;if(y=e.startContainer===t&&3===t.nodeType)y=t.data?t.data.slice(0,e.startOffset):"",y=!/^\s*$/.test(y);
var t=y?t:a.dom.domNode(t).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),v=1===e.endContainer.nodeType&&e.endContainer.childNodes[e.endOffset]===v&&(1===v.nodeType||!B(v,e.endOffset)&&!a.dom.domNode(v).is.rangyBookmark())||e.endContainer===v&&3===v.nodeType&&!B(v,e.endOffset)?v:a.dom.domNode(v).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),x=e.extractContents();y=m.doc.createDocumentFragment();var r=r?a.dom.getParentElement(q,r,null,m.element):null,z=!g||!f||"BLOCKQUOTE"===f.nodeName&&"BLOCKQUOTE"===
g,q=r||l(q,m.element,z);a.dom.domNode(v).is.rangyBookmark()&&(v=v.nextSibling);if(x){for(;x.firstChild&&3===x.firstChild.nodeType&&/^\s*$/.test(x.firstChild.data)&&x.lastChild!==x.firstChild;)x.removeChild(x.firstChild);for(;x.lastChild&&3===x.lastChild.nodeType&&/^\s*$/.test(x.lastChild.data)&&x.lastChild!==x.firstChild;)x.removeChild(x.lastChild);x.firstChild&&1===x.firstChild.nodeType&&"BR"===x.firstChild.nodeName&&x.lastChild!==x.firstChild&&x.removeChild(x.firstChild);x.lastChild&&1===x.lastChild.nodeType&&
"BR"===x.lastChild.nodeName&&x.lastChild!==x.firstChild&&x.removeChild(x.lastChild)}if(f&&"BLOCKQUOTE"===f.nodeName)f=k(null,f,m),f.appendChild(x),y.appendChild(f),f=[f];else{if(x.firstChild)for(;x.firstChild;)if(1==x.firstChild.nodeType&&x.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"))k(x.firstChild,f,m),x.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre")&&n(x.firstChild),y.appendChild(x.firstChild);else{var r=g,z=m,R=f?a.lang.object(f).clone(!0):null;R&&(R.nodeName=R.nodeName||
r||(z.config.useLineBreaks?"DIV":"P"));for(r=k(null,R,m);x.firstChild&&(1!==x.firstChild.nodeType||!x.firstChild.matches("h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"));)1==x.firstChild.nodeType&&r.matches("h1, h2, h3, h4, h5, h6, p, pre")&&n(x.firstChild),r.appendChild(x.firstChild);y.appendChild(r)}else y.appendChild(k(null,f,m));f=a.lang.array(y.childNodes).get()}p(y,e,m,q);e=v;g=t&&a.dom.domNode(t).prev({nodeTypes:[1,3],ignoreBlankTexts:!0});b(e)&&e.parentNode.removeChild(e);!b(t)||g&&1===
g.nodeType&&"block"===m.win.getComputedStyle(g).display||t.parentNode.removeChild(t);0<f.length&&("undefined"===typeof f[f.length-1].lastChild||a.dom.domNode(f[f.length-1].lastChild).is.rangyBookmark())&&f[f.length-1].appendChild(m.doc.createElement("br"));return f}function t(b,e){var f=a.dom.getParentElement(b.selection.getOwnRanges()[0].startContainer,{query:"h1, h2, h3, h4, h5, h6, p, pre, "+(e?e.toLowerCase():"div")},null,b.element),g;f?(g=b.selection.createRange(),g.selectNode(f),b.selection.setSelection(g)):
b.isEmpty()||b.selection.selectLine()}function v(a,b){var e=b.selection.createRange(),f=a[a.length-1],g=1===f.nodeType&&f.childNodes?f.childNodes.length|0:f.length||0;e.setStart(a[0],0);e.setEnd(f,g);e.select()}function x(b,e,f){for(var g=e.selection.getOwnRanges(),h=[],k,g=m(g),l=g.length;l--;){k=g[l];var n=e,p=void 0,p=k.startContainer,t=k.endContainer;p&&1===p.nodeType&&p===t?p.firstChild===p.lastChild&&1===k.endOffset&&p!==n.element&&"LI"!==p.nodeName&&"TD"!==p.nodeName&&(k.setStartBefore(p),
k.setEndAfter(t)):p&&1===p.nodeType&&3===t.nodeType?p.firstChild===t&&k.endOffset===t.data.length&&p!==n.element&&"LI"!==p.nodeName&&"TD"!==p.nodeName&&k.setEndAfter(p):t&&1===t.nodeType&&3===p.nodeType?t.firstChild===p&&0===k.startOffset&&t!==n.element&&"LI"!==t.nodeName&&"TD"!==t.nodeName&&k.setStartBefore(t):p&&3===p.nodeType&&p===t&&1===p.parentNode.childNodes.length&&k.endOffset==t.data.length&&0===k.startOffset&&(p=p.parentNode,p!==n.element&&"LI"!==p.nodeName&&"TD"!==p.nodeName&&(k.setStartBefore(p),
k.setEndAfter(p)));k=(k=a.dom.getParentElement(g[l].startContainer,{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},null,e.element))?k.nodeName:null;h="remove"===b?h.concat(q(g[l],k,e)):h.concat(r(g[l],f,k,e))}return h}function y(a){"string"===typeof a&&(a={nodeName:a.toUpperCase()});return a}var z=a.dom,B=function(a,b){var e=a.data?a.data.slice(b):"";return/^\s*$/.test(e)};a.commands.formatBlock={exec:function(g,h,k){k=y(k);var l=[],m,n;k&&k.toggle&&(n=this.state(g,h,k));if(n){m=rangy.saveSelection(g.win);
h=0;for(var r=n.length;h<r;h++){var p=n[h],q=k,B=g,L=void 0,R=p.previousSibling,P=p.nextSibling,X=!1;q.styleProperty&&(p.style[a.browser.fixStyleKey(q.styleProperty)]="");q.className&&p.classList.remove(q.className);q.classRegExp&&(p.className=p.className.replace(q.classRegExp,""));null!==p.getAttribute("class")&&""===p.getAttribute("class").trim()&&p.removeAttribute("class");q.nodeName&&p.nodeName.toLowerCase()===q.nodeName.toLowerCase()&&((L=p.getAttribute("style"))&&""!==L.trim()?p=z.renameElement(p,
B.config.useLineBreaks?"DIV":"P"):(z.unwrap(p),X=!0));null!==p.getAttribute("style")&&""===p.getAttribute("style").trim()&&p.removeAttribute("style");X&&((p=R)&&e(p)&&(p=p.previousSibling),P&&e(P)&&(P=P.nextSibling),p&&(1!==p.nodeType||"block"!==B.win.getComputedStyle(p).display&&!b(p))&&p.parentNode&&p.parentNode.insertBefore(B.doc.createElement("br"),p.nextSibling),P&&(1!==P.nodeType||"block"!==B.win.getComputedStyle(P).display)&&P.parentNode&&P.parentNode.insertBefore(B.doc.createElement("br"),
P))}}else{if(g.selection.isCollapsed()){m=rangy.saveSelection(g.win);a:{if(g.selection.isCollapsed()&&(l=g.selection.getNodesNearCaret())&&l.caretNode&&(a.dom.domNode(l.caretNode).is.lineBreak()||3===l.caretNode.nodeType&&0===l.textOffset&&(!l.prevNode||a.dom.domNode(l.prevNode).is.lineBreak())||1===l.caretNode.nodeType&&l.caretNode.classList.contains("rangySelectionBoundary")&&(!l.prevNode||a.dom.domNode(l.prevNode).is.lineBreak()||a.dom.domNode(l.prevNode).is.block())&&(!l.nextNode||a.dom.domNode(l.nextNode).is.lineBreak()||
a.dom.domNode(l.nextNode).is.block()))){l=!0;break a}l=!1}l?g.selection.selectLine():t(g,k&&k.nodeName?k.nodeName.toUpperCase():void 0)}l=k?x("apply",g,k):x("remove",g)}l=f(g,l);m?rangy.restoreSelection(m):v(l,g)},remove:function(a,b,e){e=y(e);var g;a.selection.isCollapsed()&&(g=rangy.saveSelection(a.win),t(a,e&&e.nodeName?e.nodeName.toUpperCase():void 0));b=x("remove",a);b=f(a,b);g?rangy.restoreSelection(g):v(b,a)},state:function(b,e,f){f=y(f);e=b.selection.filterElements(function(b){return a.dom.domNode(b).test(f||
{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"})}.bind(this));for(var g=b.selection.getSelectedOwnNodes(),h,k=0,l=g.length;k<l;k++)(h=z.getParentElement(g[k],f||{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},null,b.element))&&-1===e.indexOf(h)&&e.push(h);return 0===e.length?!1:e}}})(wysihtml5);
(function(a){a.commands.formatCode={exec:function(h,b,e){var g=this.state(h)[0],f,l;g?h.selection.executeAndRestore(function(){f=g.querySelector("code");a.dom.replaceWithChildNodes(g);f&&a.dom.replaceWithChildNodes(f)}):(b=h.selection.getRange(),l=b.extractContents(),g=h.doc.createElement("pre"),f=h.doc.createElement("code"),e&&(f.className=e),g.appendChild(f),f.appendChild(l),b.insertNode(g),h.selection.selectNode(g))},state:function(h){return(h=h.selection.getSelectedNode())&&h.nodeName&&"PRE"==
h.nodeName&&h.firstChild&&h.firstChild.nodeName&&"CODE"==h.firstChild.nodeName?[h]:(h=a.dom.getParentElement(h,{query:"pre code"}))?[h.parentNode]:!1}}})(wysihtml5);
(function(a){function h(a){return!a.getAttribute("style")||/^\s*$/.test(a.getAttribute("style"))}function b(b,e){var f,g;if(1!==b.nodeType||1!==e.nodeType||b.nodeName!==e.nodeName)return!1;f=b.className.trim().replace(/\s+/g," ").split(" ");g=e.className.trim().replace(/\s+/g," ").split(" ");if(0<a.lang.array(f).without(g).length)return!1;f=a.dom.getAttributes(b);g=a.dom.getAttributes(e);return f.length===g.length&&a.lang.object(a.lang.object(f).difference(g)).isEmpty()?!0:!1}function e(b,e){var f=
b.ownerDocument.createElement(e&&e.nodeName||"SPAN");e.classRegExp&&(f.className=f.className.replace(e.classRegExp,""));e.className&&f.classList.add(e.className);e.styleProperty&&"undefined"!==typeof e.styleValue&&(f.style[a.browser.fixStyleKey(e.styleProperty)]=e.styleValue);if(e.attribute)if("object"===typeof e.attribute)for(var g in e.attribute)e.attribute.hasOwnProperty(g)&&f.setAttribute(g,e.attribute[g]);else"undefined"!==typeof e.attributeValue&&f.setAttribute(e.attribute,e.attributeValue);
return f}function g(b,e){var f,g;e.className&&(!1!==e.toggle&&b.classList.contains(e.className)?b.classList.remove(e.className):(e.classRegExp&&(b.className=b.className.replace(e.classRegExp,"")),b.classList.add(e.className)),/^\s*$/.test(b.className)&&b.removeAttribute("class"));e.styleProperty&&(!1!==e.toggle&&b.style[a.browser.fixStyleKey(e.styleProperty)].trim().replace(/, /g,",")===e.styleValue?b.style[a.browser.fixStyleKey(e.styleProperty)]="":b.style[a.browser.fixStyleKey(e.styleProperty)]=
e.styleValue);h(b)&&b.removeAttribute("style");if(e.attribute){"object"===typeof e.attribute?f=e.attribute:(f={},f[e.attribute]=e.attributeValue||"");var k=e.toggle,l=a.dom.getAttributes(b),m;a:{for(m in f)if(f.hasOwnProperty(m)&&(void 0===typeof l[m]||l[m]!==f[m])){m=!1;break a}m=!0}a.lang.object(l).difference(f);if(m&&!1!==k)for(g in f)f.hasOwnProperty(g)&&b.removeAttribute(g);else for(g in f)f.hasOwnProperty(g)&&b.setAttribute(g,f[g])}g=(g=e.nodeName?E[e.nodeName.toLowerCase()]||e.nodeName.toLowerCase():
null)?a.dom.domNode(b).test({query:g}):!1;if(!e.nodeName||"SPAN"===e.nodeName||g){if(g=(!1!==e.toggle&&g||!e.nodeName&&"SPAN"===b.nodeName)&&/^\s*$/.test(b.className)&&h(b))g=a.dom.getAttributes(b),g=a.lang.object(g).isEmpty();g&&a.dom.unwrap(b)}}function f(b,e){var f=[];b.isCollapsed()||(f=f.concat(b.getOwnNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()},e)));return f}function l(b,e,f,g){e=g?e:{nodeName:e.nodeName||null,className:e.classRegExp?null:e.className||null,classRegExp:e.classRegExp||
null,styleProperty:e.styleProperty||null};do{if(g=1===b.nodeType){g=b;var h=e,k=void 0;h.nodeName?(h=E[h.nodeName.toLowerCase()]||h.nodeName.toLowerCase(),g=a.dom.domNode(g).test({query:h})):(k=a.lang.object(h).clone(),k.query="b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u",g=a.dom.domNode(g).test(k))}if(g)return b;b=b.parentNode}while(b&&b!==f);return null}function k(b,e){var f=document.documentElement||
document.body,g=f.scrollTop,h=f.scrollLeft;rangy.getSelection(b.win);rangy.getSelection(b.win).removeAllRanges();try{rangy.getSelection(b.win).addRange(e)}catch(k){}b.doc.activeElement&&a.dom.contains(b.element,b.doc.activeElement)||(b.element.focus(),f.scrollTop=g,f.scrollLeft=h,rangy.getSelection(b.win).addRange(e))}function n(a,b){var e=rangy.createRange(b.doc),f=a[a.length-1];a[0]&&f&&(e.setStart(a[0],0),e.setEnd(f,f.length),k(b,e))}function m(a,b,e,f){var g=rangy.createRange(a.doc);b&&(g.setStart(b,
e),g.setEnd(b,"undefined"!==typeof f?f:e),k(a,g))}function p(a,b,e){var g=f(a.selection),h=[],k=!1,m;if(a.selection.isInThisEditable()){if(0===g.length&&a.selection.isCollapsed()){m=a.selection.getSelection().anchorNode;if(!m)return{nodes:[],partial:!1};3===m.nodeType&&(g=[m])}g.length||(m=a.selection.getOwnRanges()[0])&&(g=[m.endContainer]);for(var n=0,r=g.length;n<r;n++)(m=l(g[n],b,a.element,e))?h.push(m):k=!0}return{nodes:h,partial:k}}function q(a){var b,e;return a&&(b=a.anchorNode,e=a.anchorOffset,
b&&3===b.nodeType&&0<e&&e<b.data.length)?(a=b.data[e-1],b=b.data[e],/\w/.test(a)&&/\w/.test(b)):!1}function r(b){var e,f,g,h;e=[];if(b&&(e=b.anchorNode,b=g=h=b.anchorOffset,f=e.ownerDocument,f=rangy.createRange(f),e&&3===e.nodeType)){for(;0<g&&/\w/.test(e.data[g-1]);)g--;for(;h<e.data.length&&/\w/.test(e.data[h]);)h++;f.setStartAndEnd(e,g,h);f.splitBoundaries();e=f.getNodes([3],function(b){return!a.dom.domNode(b).is.emptyTextNode()});return{wordOffset:b-g,range:f,textNode:e[0]}}return!1}function t(a){for(var e=
a.length;e--;)if(a[e]&&a[e].parentNode){if(a[e].nextSibling&&b(a[e],a[e].nextSibling)){for(var f=a[e],g=a[e].nextSibling;g.firstChild;)f.appendChild(g.firstChild);g.parentNode.removeChild(g)}if(a[e].previousSibling&&b(a[e],a[e].previousSibling)){f=a[e].previousSibling;for(g=a[e];g.firstChild;)f.appendChild(g.firstChild);g.parentNode.removeChild(g)}}}function v(a,b,e){0<b.length&&n(b,a);t(p(a,e).nodes);0<b.length&&n(b,a)}function x(a,b,e,f){m(a,b,e);t(p(a,f).nodes);m(a,b,e)}function y(a,b){var f=e(a,
b);a.parentNode.insertBefore(f,a);f.appendChild(a)}function z(b,e,f){e=l(b,f,e.element);var h;e&&(h=e.cloneNode(!1),a.dom.domNode(b).escapeParent(e,h),g(h,f))}function B(a){a="string"===typeof a?{nodeName:a}:a;a.nodeName&&(a.nodeName=a.nodeName.toUpperCase());return a}var E={b:"b, strong",strong:"b, strong",em:"em, i",i:"em, i"};a.commands.formatInline={exec:function(b,h,k){k=B(k);b.element.normalize();h=f(b.selection,!0);var m=p(b,k);if(0<m.nodes.length){var n=p(b,k,!0),t=b.selection.getSelection();
if(h.length){if(n.partial||!1===k.toggle)for(n=h.length;n--;)l(h[n],k,b.element)&&z(h[n],b,k),l(h[n],k,b.element)||y(h[n],k);else for(n=h.length;n--;)z(h[n],b,k);v(b,h,k)}else if(!1!==k.toggle)if(q(t))h=r(t),z(h.textNode,b,k),x(b,h.textNode,h.wordOffset,k);else{if(h=b.doc.createTextNode(a.INVISIBLE_SPACE),n=m.nodes[0].cloneNode(!1),n.appendChild(h),b.selection.splitElementAtCaret(m.nodes[0],n),g(n,k),v(b,[h],k),h=b.selection.getSelection(),h.anchorNode&&h.focusNode)try{h.collapseToEnd()}catch(M){}}else for(n=
m.nodes.length;n--;)g(m.nodes[n],k)}else if(m=k,k=b.selection.getSelection(),h.length){for(k=h.length;k--;)y(h[k],m);v(b,h,m)}else if(q(k))h=r(k),y(h.textNode,m),x(b,h.textNode,h.wordOffset,m);else if(h=b.selection.getOwnRanges()[0])m=e(h.endContainer,m),h.surroundContents(m),b.selection.selectNode(m);b.element.normalize()},remove:function(b,e,g){g=B(g);b.element.normalize();e=f(b.selection,!0);var h=p(b,g);if(0<h.nodes.length){var k,m;m=b.selection.getSelection();if(e.length){for(m=e.length;m--;)h=
e[m],(k=l(h,g,b.element))&&a.dom.domNode(h).escapeParent(k);v(b,e,g)}else{e=m.anchorNode;k=m.anchorOffset;for(m=h.nodes.length;m--;)a.dom.unwrap(h.nodes[m]);x(b,e,k,g)}}b.element.normalize()},state:function(a,b,e){e=B(e);a=p(a,e,!0).nodes;return 0===a.length?!1:a}}})(wysihtml5);
(function(a){var h={nodeName:"BLOCKQUOTE",toggle:!0};a.commands.insertBlockQuote={exec:function(b,e){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,e){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);(function(a){a.commands.insertHTML={exec:function(a,b,e){a.selection.insertHTML(e)},state:function(){return!1}}})(wysihtml5);
(function(a){a.commands.insertImage={exec:function(h,b,e){e="object"===typeof e?e:{src:e};var g=h.doc;if((b=this.state(h))&&!e.src)h.selection.setBefore(b),e=b.parentNode,e.removeChild(b),a.dom.removeEmptyTextNodes(e),"A"!==e.nodeName||e.firstChild||(h.selection.setAfter(e),e.parentNode.removeChild(e)),a.quirks.redraw(h.element);else if(b)for(var f in e)e.hasOwnProperty(f)&&b.setAttribute("className"===f?"class":f,e[f]);else{b=g.createElement("IMG");for(var l in e)b.setAttribute("className"===l?"class":
l,e[l]);h.selection.insertNode(b);a.browser.hasProblemsSettingCaretAfterImg()?(e=g.createTextNode(a.INVISIBLE_SPACE),h.selection.insertNode(e),h.selection.setAfter(e)):h.selection.setAfter(b)}},state:function(h){var b;if(!a.dom.hasElementWithTagName(h.doc,"IMG"))return!1;b=h.selection.getSelectedNode();if(!b)return!1;if("IMG"===b.nodeName)return b;if(b.nodeType!==a.ELEMENT_NODE)return!1;b=h.selection.getText();if(b=a.lang.string(b).trim())return!1;h=h.selection.getNodes(a.ELEMENT_NODE,function(a){return"IMG"===
a.nodeName});return 1!==h.length?!1:h[0]}}})(wysihtml5);(function(a){var h="<br>"+(a.browser.needsSpaceAfterLineBreak()?" ":"");a.commands.insertLineBreak={exec:function(a,e){a.selection.insertHTML(h)},state:function(){return!1}}})(wysihtml5);(function(a){a.commands.insertOrderedList={exec:function(h,b){a.commands.insertList.exec(h,b,"OL")},state:function(h,b){return a.commands.insertList.state(h,b,"OL")}}})(wysihtml5);
(function(a){a.commands.insertUnorderedList={exec:function(h,b){a.commands.insertList.exec(h,b,"UL")},state:function(h,b){return a.commands.insertList.state(h,b,"UL")}}})(wysihtml5);
wysihtml5.commands.insertList=function(a){var h=function(a,b){if(a&&a.nodeName){"string"===typeof b&&(b=[b]);for(var e=b.length;e--;)if(a.nodeName===b[e])return!0}return!1},b=function(b,e,f){var g={el:null,other:!1};if(b){var p=a.dom.getParentElement(b,{query:"li"},!1,f.element),q="UL"===e?"OL":"UL";h(b,e)?g.el=b:h(b,q)?g={el:b,other:!0}:p&&(h(p.parentNode,e)?g.el=p.parentNode:h(p.parentNode,q)&&(g={el:p.parentNode,other:!0}))}g.el&&!f.element.contains(g.el)&&(g.el=null);return g},e=function(b,e,
g){var h="UL"===e?"OL":"UL",p,q;g.selection.executeAndRestoreRangy(function(){p=f(h,g);if(p.length)for(var r=p.length;r--;)a.dom.renameElement(p[r],e.toLowerCase());else{q=f(["OL","UL"],g);for(r=q.length;r--;)a.dom.resolveList(q[r],g.config.useLineBreaks);0===q.length&&a.dom.resolveList(b,g.config.useLineBreaks)}})},g=function(b,e,g){var h="UL"===e?"OL":"UL";g.selection.executeAndRestoreRangy(function(){for(var p=[b].concat(f(h,g)),q=p.length;q--;)a.dom.renameElement(p[q],e.toLowerCase())})},f=function(a,
b){for(var e=b.selection.getOwnRanges(),f=[],g=e.length;g--;)f=f.concat(e[g].getNodes([1],function(b){return h(b,a)}));return f};return{exec:function(f,h,n){h=f.doc;var m="OL"===n?"insertOrderedList":"insertUnorderedList",p=f.selection.getSelection(),q=1===p.anchorNode.nodeType&&p.anchorNode.firstChild?p.anchorNode.childNodes[p.anchorOffset]:p.anchorNode,r=1===p.focusNode.nodeType&&p.focusNode.firstChild?p.focusNode.childNodes[p.focusOffset]||p.focusNode.lastChild:p.focusNode;p.isBackwards()&&(q=
[r,r=q][0]);a.dom.domNode(r).is.emptyTextNode(!0)&&r&&(r=a.dom.domNode(r).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}));a.dom.domNode(q).is.emptyTextNode(!0)&&q&&(q=a.dom.domNode(q).next({nodeTypes:[1,3],ignoreBlankTexts:!0}));p=q&&r?q===r?q:a.dom.domNode(q).commonAncestor(r,f.element):f.selection.getSelectedNode();p=b(p,n,f);p.el?p.other?g(p.el,n,f):e(p.el,n,f):f.commands.support(m)?h.execCommand(m,!1,null):(h=rangy.saveSelection(f.win),m="_wysihtml5-temp-"+(new Date).getTime(),f.commands.exec("formatBlock",
{nodeName:"div",className:m}),p=f.element.querySelector("."+m),p.innerHTML=p.innerHTML.replace(a.INVISIBLE_SPACE_REG_EXP,""),p&&(m=/^(\s|(<br>))+$/i.test(p.innerHTML),n=a.dom.convertToList(p,n.toLowerCase(),f.parent.config.classNames.uneditableContainer),h&&rangy.restoreSelection(h),m&&f.selection.selectNode(n.querySelector("li"),!0)))},state:function(a,e,f){e=a.selection.getSelectedNode();a=b(e,f,a);return a.el&&!a.other?a.el:!1}}}(wysihtml5);
(function(a){var h={nodeName:"I",toggle:!0};a.commands.italic={exec:function(b,e){a.commands.formatInline.exec(b,e,h)},state:function(b,e){return a.commands.formatInline.state(b,e,h)}}})(wysihtml5);(function(a){var h={className:"wysiwyg-text-align-center",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyCenter={exec:function(b,e){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,e){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={className:"wysiwyg-text-align-left",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyLeft={exec:function(b,e){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,e){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={className:"wysiwyg-text-align-right",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyRight={exec:function(b,e){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,e){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={className:"wysiwyg-text-align-justify",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};a.commands.justifyFull={exec:function(b,e){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,e){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"right",toggle:!0};a.commands.alignRightStyle={exec:function(b,e){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,e){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"left",toggle:!0};a.commands.alignLeftStyle={exec:function(b,e){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,e){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"center",toggle:!0};a.commands.alignCenterStyle={exec:function(b,e){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,e){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);
(function(a){var h={styleProperty:"textAlign",styleValue:"justify",toggle:!0};a.commands.alignJustifyStyle={exec:function(b,e){return a.commands.formatBlock.exec(b,"formatBlock",h)},state:function(b,e){return a.commands.formatBlock.state(b,"formatBlock",h)}}})(wysihtml5);(function(a){a.commands.redo={exec:function(a){return a.undoManager.redo()},state:function(a){return!1}}})(wysihtml5);
(function(a){var h={nodeName:"U",toggle:!0};a.commands.underline={exec:function(b,e){a.commands.formatInline.exec(b,e,h)},state:function(b,e){return a.commands.formatInline.state(b,e,h)}}})(wysihtml5);(function(a){a.commands.undo={exec:function(a){return a.undoManager.undo()},state:function(a){return!1}}})(wysihtml5);
(function(a){a.commands.createTable={exec:function(a,b,e){var g,f;if(e&&e.cols&&e.rows&&0<parseInt(e.cols,10)&&0<parseInt(e.rows,10)){f=e.tableStyle?'<table style="'+e.tableStyle+'">':"<table>";f+="<tbody>";for(g=0;g<e.rows;g++){f+="<tr>";for(b=0;b<e.cols;b++)f+="<td><br></td>";f+="</tr>"}a.commands.exec("insertHTML",f+"</tbody></table>")}},state:function(a,b){return!1}}})(wysihtml5);
(function(a){a.commands.mergeTableCells={exec:function(h,b){h.tableSelection&&h.tableSelection.start&&h.tableSelection.end&&(this.state(h,b)?a.dom.table.unmergeCell(h.tableSelection.start):a.dom.table.mergeCellsBetween(h.tableSelection.start,h.tableSelection.end))},state:function(h,b){if(h.tableSelection){var e=h.tableSelection.start,g=h.tableSelection.end;if(e&&g&&e==g&&(a.dom.getAttribute(e,"colspan")&&1<parseInt(a.dom.getAttribute(e,"colspan"),10)||a.dom.getAttribute(e,"rowspan")&&1<parseInt(a.dom.getAttribute(e,
"rowspan"),10)))return[e]}return!1}}})(wysihtml5);(function(a){a.commands.addTableCells={exec:function(h,b,e){if(h.tableSelection&&h.tableSelection.start&&h.tableSelection.end){var g=a.dom.table.orderSelectionEnds(h.tableSelection.start,h.tableSelection.end);"before"==e||"above"==e?a.dom.table.addCells(g.start,e):"after"!=e&&"below"!=e||a.dom.table.addCells(g.end,e);setTimeout(function(){h.tableSelection.select(g.start,g.end)},0)}},state:function(a,b){return!1}}})(wysihtml5);
(function(a){a.commands.deleteTableCells={exec:function(h,b,e){if(h.tableSelection&&h.tableSelection.start&&h.tableSelection.end){b=a.dom.table.orderSelectionEnds(h.tableSelection.start,h.tableSelection.end);var g=a.dom.table.indexOf(b.start),f,l=h.tableSelection.table;a.dom.table.removeCells(b.start,e);setTimeout(function(){f=a.dom.table.findCell(l,g);f||("row"==e&&(f=a.dom.table.findCell(l,{row:g.row-1,col:g.col})),"column"==e&&(f=a.dom.table.findCell(l,{row:g.row,col:g.col-1})));f&&h.tableSelection.select(f,
f)},0)}},state:function(a,b){return!1}}})(wysihtml5);
(function(a){a.commands.indentList={exec:function(a,b,e){return(b=a.selection.getSelectionParentsByTag("LI"))?this.tryToPushLiLevel(b,a.selection):!1},state:function(a,b){return!1},tryToPushLiLevel:function(h,b){var e,g,f,l,k,n=!1;b.executeAndRestoreRangy(function(){for(var b=h.length;b--;)l=h[b],e="OL"===l.parentNode.nodeName?"OL":"UL",g=l.ownerDocument.createElement(e),k=(f=a.dom.domNode(l).prev({nodeTypes:[a.ELEMENT_NODE]}))?f.querySelector("ul, ol"):null,f&&(k?k.appendChild(l):(g.appendChild(l),
f.appendChild(g)),n=!0)});return n}}})(wysihtml5);
(function(a){a.commands.outdentList={exec:function(a,b,e){return(b=a.selection.getSelectionParentsByTag("LI"))?this.tryToPullLiLevel(b,a):!1},state:function(a,b){return!1},tryToPullLiLevel:function(h,b){var e,g,f,l,k,n=!1,m=this;b.selection.executeAndRestoreRangy(function(){for(var p=h.length;p--;)if(l=h[p],l.parentNode&&(e=l.parentNode,"OL"===e.tagName||"UL"===e.tagName)){n=!0;g=a.dom.getParentElement(e.parentNode,{query:"ol, ul"},!1,b.element);f=a.dom.getParentElement(e.parentNode,{query:"li"},
!1,b.element);if(g&&f)l.nextSibling&&(k=m.getAfterList(e,l),l.appendChild(k)),g.insertBefore(l,f.nextSibling);else{l.nextSibling&&(k=m.getAfterList(e,l),l.appendChild(k));for(var q=l.childNodes.length;q--;)e.parentNode.insertBefore(l.childNodes[q],e.nextSibling);e.parentNode.insertBefore(document.createElement("br"),e.nextSibling);l.parentNode.removeChild(l)}0===e.childNodes.length&&e.parentNode.removeChild(e)}});return n},getAfterList:function(a,b){for(var e=document.createElement(a.nodeName);b.nextSibling;)e.appendChild(b.nextSibling);
return e}}})(wysihtml5);(function(a){var h={nodeName:"SUB",toggle:!0};a.commands.subscript={exec:function(b,e){a.commands.formatInline.exec(b,e,h)},state:function(b,e){return a.commands.formatInline.state(b,e,h)}}})(wysihtml5);(function(a){var h={nodeName:"SUP",toggle:!0};a.commands.superscript={exec:function(b,e){a.commands.formatInline.exec(b,e,h)},state:function(b,e){return a.commands.formatInline.state(b,e,h)}}})(wysihtml5);
(function(a){var h=a.dom;a.UndoManager=a.lang.Dispatcher.extend({constructor:function(a){this.editor=a;this.composer=a.composer;this.element=this.composer.element;this.position=0;this.historyStr=[];this.historyDom=[];this.transact();this._observe()},_observe:function(){var a=this;this.composer.sandbox.getDocument();var e;h.observe(this.element,"keydown",function(e){if(!e.altKey&&(e.ctrlKey||e.metaKey)){var f=e.keyCode,h=90===f&&e.shiftKey||89===f;90!==f||e.shiftKey?h&&(a.redo(),e.preventDefault()):
(a.undo(),e.preventDefault())}});h.observe(this.element,"keydown",function(g){g=g.keyCode;g!==e&&(e=g,8!==g&&46!==g||a.transact())});this.editor.on("newword:composer",function(){a.transact()}).on("beforecommand:composer",function(){a.transact()})},transact:function(){var b=this.historyStr[this.position-1],e=this.composer.getValue(!1,!1),g=0<this.element.offsetWidth&&0<this.element.offsetHeight,f,h;e!==b&&(25<(this.historyStr.length=this.historyDom.length=this.position)&&(this.historyStr.shift(),this.historyDom.shift(),
this.position--),this.position++,g&&(b=(f=this.composer.selection.getRange())&&f.startContainer?f.startContainer:this.element,g=f&&f.startOffset?f.startOffset:0,b.nodeType===a.ELEMENT_NODE?f=b:(f=b.parentNode,h=this.getChildNodeIndex(f,b)),f.setAttribute("data-wysihtml5-selection-offset",g),"undefined"!==typeof h&&f.setAttribute("data-wysihtml5-selection-node",h)),h=this.element.cloneNode(!!e),this.historyDom.push(h),this.historyStr.push(e),f&&(f.removeAttribute("data-wysihtml5-selection-offset"),
f.removeAttribute("data-wysihtml5-selection-node")))},undo:function(){this.transact();this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return 1<this.position},redoPossible:function(){return this.position<this.historyStr.length},set:function(a){this.element.innerHTML="";for(var e=0,g=a.childNodes,f=a.childNodes.length;e<
f;e++)this.element.appendChild(g[e].cloneNode(!0));a.hasAttribute("data-wysihtml5-selection-offset")?(e=a.getAttribute("data-wysihtml5-selection-offset"),g=a.getAttribute("data-wysihtml5-selection-node"),a=this.element):(a=this.element.querySelector("[data-wysihtml5-selection-offset]")||this.element,e=a.getAttribute("data-wysihtml5-selection-offset"),g=a.getAttribute("data-wysihtml5-selection-node"),a.removeAttribute("data-wysihtml5-selection-offset"),a.removeAttribute("data-wysihtml5-selection-node"));
null!==g&&(a=this.getChildNodeByIndex(a,+g));this.composer.selection.set(a,e)},getChildNodeIndex:function(a,e){for(var g=0,f=a.childNodes,h=f.length;g<h;g++)if(f[g]===e)return g},getChildNodeByIndex:function(a,e){return a.childNodes[e]}})})(wysihtml5);
wysihtml5.views.View=Base.extend({constructor:function(a,h,b){this.parent=a;this.element=h;this.config=b;this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var a=this;this.parent.on("beforeload",function(){a.parent.on("change_view",function(h){h===a.name?(a.parent.currentView=a,a.show(),setTimeout(function(){a.focus()},0)):a.hide()})})},focus:function(){if(!this.element||!this.element.ownerDocument||this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element&&
this.element.focus()}catch(a){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}});
(function(a){var h=a.dom,b=a.browser;a.views.Composer=a.views.View.extend({name:"composer",constructor:function(a,b,f){this.base(a,b,f);this.config.noTextarea?this.editableArea=b:this.textarea=this.parent.textarea;this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=b.displaysCaretInEmptyContentEditableCorrectly()?"":"<br>"},getValue:function(b,g){var f=this.isEmpty()?"":a.quirks.getCorrectInnerHTML(this.element);!1!==b&&(f=this.parent.parse(f,
!1===g?!1:!0));return f},setValue:function(a,b){!1!==b&&(a=this.parent.parse(a));try{this.element.innerHTML=a}catch(f){this.element.innerText=a}},cleanUp:function(a){var b;this.selection&&this.selection.isInThisEditable()&&(b=rangy.saveSelection(this.win));this.parent.parse(this.element,void 0,a);b&&rangy.restoreSelection(b)},show:function(){this.editableArea.style.display=this._displayStyle||"";this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=
h.getStyle("display").from(this.editableArea);"none"===this._displayStyle&&(this._displayStyle=null);this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer");this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer");this.element.setAttribute("contentEditable","true")},focus:function(b){a.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear();this.base();var g=this.element.lastChild;b&&g&&this.selection&&
("BR"===g.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getScrollPos:function(){if(this.doc&&this.win){var a={};a.y="undefined"!==typeof this.win.pageYOffset?this.win.pageYOffset:(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollTop;a.x="undefined"!==typeof this.win.pageXOffset?this.win.pageXOffset:(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollLeft;return a}},setScrollPos:function(a){a&&
"undefined"!==typeof a.x&&"undefined"!==typeof a.y&&this.win.scrollTo(a.x,a.y)},getTextContent:function(){return h.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var a=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(a)||""===a||"<br>"===a||"<p></p>"===a||"<p><br></p>"===
a||this.hasPlaceholderSet()},_initContentEditableArea:function(){var a=this;this.config.noTextarea?this.sandbox=new h.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox},this.editableArea):(this.sandbox=new h.ContentEditableArea(function(){a._create()},{className:this.config.classNames.sandbox}),this.editableArea=this.sandbox.getContentEditable(),h.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var a=
this;this.sandbox=new h.Sandbox(function(){a._create()},{stylesheets:this.config.stylesheets,className:this.config.classNames.sandbox});this.editableArea=this.sandbox.getIframe();var b=this.textarea.element;h.insert(this.editableArea).after(b);this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var a=document.createElement("input");a.type="hidden";a.name="_wysihtml5_mode";a.value=1;h.insert(a).after(this.textarea.element)}},_create:function(){var e=this;
this.doc=this.sandbox.getDocument();this.win=this.sandbox.getWindow();this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body;this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1));this.selection=new a.Selection(this.parent,this.element,this.config.classNames.uneditableContainer);this.commands=new a.Commands(this.parent);this.config.noTextarea||h.copyAttributes("className spellcheck title lang dir accessKey".split(" ")).from(this.textarea.element).to(this.element);
this._initAutoLinking();h.addClass(this.element,this.config.classNames.composer);this.config.style&&!this.config.contentEditableMode&&this.style();this.observe();var g=this.config.name;g&&(h.addClass(this.element,g),this.config.contentEditableMode||h.addClass(this.editableArea,g));this.enable();!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();(g="string"===typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):
this.textarea.element.getAttribute("placeholder"))&&h.simulatePlaceholder(this.parent,this,g,this.config.classNames.placeholder);this.commands.exec("styleWithCSS",!1);this._initObjectResizing();this._initUndoManager();this._initLineBreaking();this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||b.isIos()||setTimeout(function(){e.focus(!0)},100);b.clearsContentEditableCorrectly()||a.quirks.ensureProperClearing(this);this.initSync&&
this.config.sync&&this.initSync();this.config.noTextarea||this.textarea.hide();this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var e=this,g=b.canDisableAutoLinking(),f=b.doesAutoLinkingInContentEditable();g&&this.commands.exec("AutoUrlDetect",!1,!1);if(this.config.autoLink){if(!f||f&&g)this.parent.on("newword:composer",function(){if(h.getTextContent(e.element).match(h.autoLink.URL_REG_EXP)){for(var b=e.selection.getSelectedNode(),f=e.element.querySelectorAll("."+e.config.classNames.uneditableContainer),
g=!1,k=f.length;k--;)a.dom.contains(f[k],b)&&(g=!0);g||h.autoLink(b,[e.config.classNames.uneditableContainer])}}),h.observe(this.element,"blur",function(){h.autoLink(e.element,[e.config.classNames.uneditableContainer])});var l=this.sandbox.getDocument().getElementsByTagName("a"),k=h.autoLink.URL_REG_EXP,n=function(b){b=a.lang.string(h.getTextContent(b)).trim();"www."===b.substr(0,4)&&(b="http://"+b);return b};h.observe(this.element,"keydown",function(a){if(l.length){a=e.selection.getSelectedNode(a.target.ownerDocument);
var b=h.getParentElement(a,{query:"a"},4),f;b&&(f=n(b),setTimeout(function(){var a=n(b);a!==f&&a.match(k)&&b.setAttribute("href",a)},0))}})}},_initObjectResizing:function(){this.commands.exec("enableObjectResizing",!0);if(b.supportsEvent("resizeend")){var e=["width","height"],g=e.length,f=this.element;h.observe(f,"resizeend",function(b){b=b.target||b.srcElement;var h=b.style,n=0,m;if("IMG"===b.nodeName){for(;n<g;n++)m=e[n],h[m]&&(b.setAttribute(m,parseInt(h[m],10)),h[m]="");a.quirks.redraw(f)}})}},
_initUndoManager:function(){this.undoManager=new a.UndoManager(this.parent)},_initLineBreaking:function(){function e(a){var b=h.getParentElement(a,{query:"p, div"},2);b&&h.contains(g.element,b)&&g.selection.executeAndRestoreRangy(function(){g.config.useLineBreaks?((!b.firstChild||b.firstChild===b.lastChild&&1===b.firstChild.nodeType&&b.firstChild.classList.contains("rangySelectionBoundary"))&&b.appendChild(g.doc.createElement("br")),h.replaceWithChildNodes(b)):"P"!==b.nodeName&&h.renameElement(b,
"p")})}var g=this;this.config.useLineBreaks||h.observe(this.element,["focus"],function(){g.isEmpty()&&setTimeout(function(){var a=g.doc.createElement("P");g.element.innerHTML="";g.element.appendChild(a);b.displaysCaretInEmptyContentEditableCorrectly()?g.selection.selectNode(a,!0):(a.innerHTML="<br>",g.selection.setBefore(a.firstChild))},0)});h.observe(this.element,"keydown",function(b){var l=b.keyCode;if(!(b.shiftKey||b.ctrlKey||b.defaultPrevented||l!==a.ENTER_KEY&&l!==a.BACKSPACE_KEY)){var k=h.getParentElement(g.selection.getSelectedNode(),
{query:"li, p, h1, h2, h3, h4, h5, h6"},4);k?setTimeout(function(){var b=g.selection.getSelectedNode(),f;if("LI"===k.nodeName){if(!b)return;(f=h.getParentElement(b,{query:"ul, ol, menu"},2))||e(b)}l===a.ENTER_KEY&&k.nodeName.match(/^H[1-6]$/)&&e(b)},0):g.config.useLineBreaks&&l===a.ENTER_KEY&&!a.browser.insertsLineBreaksOnReturn()&&(b.preventDefault(),g.commands.exec("insertLineBreak"))}})}})})(wysihtml5);
(function(a){var h=a.dom,b=document,e=window,g=b.createElement("div"),f="background-color color cursor font-family font-size font-style font-variant font-weight line-height letter-spacing text-align text-decoration text-indent text-rendering word-break word-wrap word-spacing".split(" "),l="background-color border-collapse border-bottom-color border-bottom-style border-bottom-width border-left-color border-left-style border-left-width border-right-color border-right-style border-right-width border-top-color border-top-style border-top-width clear display float margin-bottom margin-left margin-right margin-top outline-color outline-offset outline-width outline-style padding-left padding-right padding-top padding-bottom position top left right bottom z-index vertical-align text-align -webkit-box-sizing -moz-box-sizing -ms-box-sizing box-sizing -webkit-box-shadow -moz-box-shadow -ms-box-shadow box-shadow -webkit-border-top-right-radius -moz-border-radius-topright border-top-right-radius -webkit-border-bottom-right-radius -moz-border-radius-bottomright border-bottom-right-radius -webkit-border-bottom-left-radius -moz-border-radius-bottomleft border-bottom-left-radius -webkit-border-top-left-radius -moz-border-radius-topleft border-top-left-radius width height".split(" "),
k=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",a.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],n=function(a){if(a.setActive)try{a.setActive()}catch(f){}else{var g=a.style,k=b.documentElement.scrollTop||
b.body.scrollTop,l=b.documentElement.scrollLeft||b.body.scrollLeft,g={position:g.position,top:g.top,left:g.left,WebkitUserSelect:g.WebkitUserSelect};h.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(a);a.focus();h.setStyles(g).on(a);e.scrollTo&&e.scrollTo(l,k)}};a.views.Composer.prototype.style=function(){var e=this,p=b.querySelector(":focus"),q=this.textarea.element,r=q.hasAttribute("placeholder"),t=r&&q.getAttribute("placeholder"),v=q.style.display,x=q.disabled,
y;this.focusStylesHost=g.cloneNode(!1);this.blurStylesHost=g.cloneNode(!1);this.disabledStylesHost=g.cloneNode(!1);r&&q.removeAttribute("placeholder");q===p&&q.blur();q.disabled=!1;q.style.display=y="none";if(q.getAttribute("rows")&&"auto"===h.getStyle("height").from(q)||q.getAttribute("cols")&&"auto"===h.getStyle("width").from(q))q.style.display=y=v;h.copyStyles(l).from(q).to(this.editableArea).andTo(this.blurStylesHost);h.copyStyles(f).from(q).to(this.element).andTo(this.blurStylesHost);h.insertCSS(k).into(this.element.ownerDocument);
q.disabled=!0;h.copyStyles(l).from(q).to(this.disabledStylesHost);h.copyStyles(f).from(q).to(this.disabledStylesHost);q.disabled=x;q.style.display=v;n(q);q.style.display=y;h.copyStyles(l).from(q).to(this.focusStylesHost);h.copyStyles(f).from(q).to(this.focusStylesHost);q.style.display=v;h.copyStyles(["display"]).from(q).to(this.editableArea);var z=a.lang.array(l).without(["display"]);p?p.focus():q.blur();r&&q.setAttribute("placeholder",t);this.parent.on("focus:composer",function(){h.copyStyles(z).from(e.focusStylesHost).to(e.editableArea);
h.copyStyles(f).from(e.focusStylesHost).to(e.element)});this.parent.on("blur:composer",function(){h.copyStyles(z).from(e.blurStylesHost).to(e.editableArea);h.copyStyles(f).from(e.blurStylesHost).to(e.element)});this.parent.observe("disable:composer",function(){h.copyStyles(z).from(e.disabledStylesHost).to(e.editableArea);h.copyStyles(f).from(e.disabledStylesHost).to(e.element)});this.parent.observe("enable:composer",function(){h.copyStyles(z).from(e.blurStylesHost).to(e.editableArea);h.copyStyles(f).from(e.blurStylesHost).to(e.element)});
return this}})(wysihtml5);
(function(a){var h=a.dom,b=h.domNode,e=a.browser,g={66:"bold",73:"italic",85:"underline"},f={addListeners:function(a,b,e){for(var f=0,g=b.length;f<g;f++)a.addEventListener(b[f],e,!1)},removeListeners:function(a,b,e){for(var f=0,g=b.length;f<g;f++)a.removeEventListener(b[f],e,!1)},fixLastBrDeletionInTable:function(b,e){if(b.selection.caretIsLastInSelection()){var f=b.selection.getSelection(),g=f.anchorNode;if(g&&1===g.nodeType&&(a.dom.getParentElement(g,{query:"td, th"},!1,b.element)||e)&&(f=g.childNodes[f.anchorOffset])&&
1===f.nodeType&"BR"===f.nodeName)return f.parentNode.removeChild(f),!0}return!1},handleUneditableDeletion:function(a){var b=a.selection.getBeforeSelection(!0);if(b&&("element"===b.type||"leafnode"===b.type)&&1===b.node.nodeType&&b.node.classList.contains(a.config.classNames.uneditableContainer)){if(f.fixLastBrDeletionInTable(a,!0))return!0;try{var e=new CustomEvent("wysihtml5:uneditable:delete",{bubbles:!0,cancelable:!1});b.node.dispatchEvent(e)}catch(g){}b.node.parentNode.removeChild(b.node);return!0}return!1},
fixDeleteInTheBeginningOfBlock:function(e){var f=e.selection,g=f.getPreviousNode();if(f.caretIsFirstInSelection(a.browser.usesControlRanges())&&g&&1===g.nodeType&&a.dom.domNode(g).is.block()&&!b(g).test({query:"ol, ul, table, tr, dl"})){if(/^\s*$/.test(g.textContent||g.innerText))return g.parentNode.removeChild(g),!0;if(g.lastChild){var h=g.lastChild,k=f.getSelectedNode(),l=b(g).commonAncestor(k,e.element);if(e=a.dom.getParentElement(k,{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},!1,
l||e.element))return b(e).transferContentTo(g,!0),f.setAfter(h),!0;if(a.browser.usesControlRanges())return k=f.getCaretNode(),b(k).transferContentTo(g,!0),f.setAfter(h),!0}}return!1},fixDeleteInTheBeginningOfLi:function(e){if(a.browser.hasLiDeletingProblem()){var f=e.selection.getSelection(),g=f.anchorNode,h;h=e.selection.caretIsFirstInSelection();3===g.nodeType&&0===f.anchorOffset&&g===g.parentNode.firstChild&&(g=g.parentNode,h=!0);if(h&&g&&1===g.nodeType&&"LI"===g.nodeName&&((f=b(g).prev({nodeTypes:[1,
3],ignoreBlankTexts:!0}))||!g.parentNode||"UL"!==g.parentNode.nodeName&&"OL"!==g.parentNode.nodeName||(f=b(g.parentNode).prev({nodeTypes:[1,3],ignoreBlankTexts:!0})),f))return h=g.firstChild,b(g).transferContentTo(f,!0),h?e.selection.setBefore(h):f&&(1===f.nodeType?f.lastChild?e.selection.setAfter(f.lastChild):e.selection.selectNode(f):e.selection.setAfter(f)),!0}return!1},fixDeleteInTheBeginningOfControlSelection:function(a){var e=a.selection,f=e.getPreviousNode(),g=e.getSelectedNode();return e.caretIsFirstInSelection()?
(3===g.nodeType&&(g=g.parentNode),e=g.firstChild,b(g).transferContentTo(f,!0),e&&a.selection.setBefore(e),!0):!1},initTableHandling:function(){var b=function(){window.removeEventListener("load",b);this.doc.execCommand("enableObjectResizing",!1,"false");this.doc.execCommand("enableInlineTableEditing",!1,"false")}.bind(this),e=function(){b.call(this);f.removeListeners(this.sandbox.getIframe(),["focus","mouseup","mouseover"],e)}.bind(this);this.doc.execCommand&&a.browser.supportsCommand(this.doc,"enableObjectResizing")&&
a.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?f.addListeners(this.sandbox.getIframe(),["focus","mouseup","mouseover"],e):window.addEventListener("load",b));this.tableSelection=a.quirks.tableCellsSelection(this.element,this.parent)},doLineBreaksModeEnterWithCaret:function(e){var f,g,k=!1;if(f=e.selection.getNodesNearCaret()){if(f.caretNode||f.nextNode)g=h.getParentElement(f.caretNode||f.nextNode,{query:"p, pre, div, blockquote"},2),g===e.element&&(g=void 0);
if(g&&f.caretNode)if(b(f.caretNode).is.lineBreak()){if(e.config.doubleLineBreakEscapesBlock){k=!0;f.caretNode.parentNode.removeChild(f.caretNode);b(f.nextNode).is.lineBreak()&&f.nextNode.parentNode.removeChild(f.nextNode);var l=e.doc.createElement("br");b(f.nextNode).is.lineBreak()&&f.nextNode===g.lastChild?g.parentNode.insertBefore(l,g.nextSibling):e.selection.splitElementAtCaret(g,l);f.nextNode&&3===f.nextNode.nodeType&&(f.nextNode.data=f.nextNode.data.replace(/^ *[\r\n]+/,""));e.selection.setBefore(l)}}else 3===
f.caretNode.nodeType&&a.browser.hasCaretBlockElementIssue()&&f.textOffset===f.caretNode.data.length&&!f.nextNode&&(k=!0,f=e.doc.createElement("br"),g=e.doc.createElement("br"),l=e.doc.createDocumentFragment(),l.appendChild(f),l.appendChild(g),e.selection.insertNode(l),e.selection.setBefore(g))}return k}},l=function(b,e){var g=e.selection;g.isCollapsed()?f.handleUneditableDeletion(e)?b.preventDefault():f.fixDeleteInTheBeginningOfLi(e)?b.preventDefault():f.fixDeleteInTheBeginningOfBlock(e)?b.preventDefault():
f.fixLastBrDeletionInTable(e)?b.preventDefault():a.browser.usesControlRanges()&&f.fixDeleteInTheBeginningOfControlSelection(e)&&b.preventDefault():g.containsUneditable()&&(b.preventDefault(),g.deleteContents())},k=function(a,b){!b.config.useLineBreaks||a.shiftKey||a.ctrlKey||b.selection.isCollapsed()&&f.doLineBreaksModeEnterWithCaret(b)&&a.preventDefault()},n=function(a,b,e){if(!a.selection.isCollapsed())a.selection.deleteContents();else if(a.selection.caretIsInTheBeginnig("li"))if(e){if(a.commands.exec("outdentList"))return}else if(a.commands.exec("indentList"))return;
a.commands.exec("insertHTML","&emsp;")},m=function(a){this.domNodeRemovedInterval&&clearInterval(domNodeRemovedInterval);this.parent.fire("destroy:composer")},p=function(a){this.parent.fire("beforeinteraction",a).fire("beforeinteraction:composer",a);setTimeout(function(){this.parent.fire("interaction",a).fire("interaction:composer",a)}.bind(this),0)},q=function(a){this.parent.fire("focus",a).fire("focus:composer",a);setTimeout(function(){this.focusState=this.getValue(!1,!1)}.bind(this),0)},r=function(a){if(this.focusState!==
this.getValue(!1,!1)){var b=a;"function"==typeof Object.create&&(b=Object.create(a,{type:{value:"change"}}));this.parent.fire("change",b).fire("change:composer",b)}this.parent.fire("blur",a).fire("blur:composer",a)},t=function(a){this.parent.fire(a.type,a).fire(a.type+":composer",a);"paste"===a.type&&setTimeout(function(){this.parent.fire("newword:composer")}.bind(this),0)},v=function(b){this.config.copyedFromMarking&&(a.browser.supportsModernPaste()&&(b.clipboardData.setData("text/html",this.config.copyedFromMarking+
this.selection.getHtml()),b.clipboardData.setData("text/plain",this.selection.getPlainText()),b.preventDefault()),this.parent.fire(b.type,b).fire(b.type+":composer",b))},x=function(b){b=b.keyCode;b!==a.SPACE_KEY&&b!==a.ENTER_KEY||this.parent.fire("newword:composer")},y=function(b){if(!e.canSelectImagesInContentEditable()){var f=b.target,g=this.element.querySelectorAll("img"),h=this.element.querySelectorAll("."+this.config.classNames.uneditableContainer+" img"),g=a.lang.array(g).without(h);"IMG"===
f.nodeName&&a.lang.array(g).contains(f)&&this.selection.selectNode(f)}a.browser.usesControlRanges()&&(this.selection.lastMouseDownPos={x:b.clientX,y:b.clientY},setTimeout(function(){delete this.selection.lastMouseDownPos}.bind(this),0))},z=function(a){var b=this.selection.lastMouseDownPos;if(b){var e=document.body.createTextRange();setTimeout(function(){try{e.moveToPoint(b.x,b.y),e.select()}catch(a){}}.bind(this),0)}},B=function(b){this.config.classNames.uneditableContainer&&(b=a.dom.getParentElement(b.target,
{query:"."+this.config.classNames.uneditableContainer},!1,this.element))&&this.selection.setAfter(b)},E=function(a){e.canSelectImagesInContentEditable()||setTimeout(function(){this.selection.getSelection().removeAllRanges()}.bind(this),0)},w=function(b){var e=b.keyCode,f=g[e],h;!b.ctrlKey&&!b.metaKey||b.altKey||65!==e?((b.ctrlKey||b.metaKey)&&!b.altKey&&f&&(this.commands.exec(f),b.preventDefault()),e===a.BACKSPACE_KEY&&l(b,this),(e===a.BACKSPACE_KEY||e===a.DELETE_KEY)&&(f=this.selection.getSelectedNode(!0))&&
"IMG"===f.nodeName&&(b.preventDefault(),h=f.parentNode,h.removeChild(f),"A"!==h.nodeName||h.firstChild||h.parentNode.removeChild(h),setTimeout(function(){a.quirks.redraw(this.element)}.bind(this),0)),this.config.handleTabKey&&e===a.TAB_KEY&&(b.preventDefault(),n(this,this.element,b.shiftKey)),e===a.ENTER_KEY&&k(b,this)):(this.selection.selectAll(),b.preventDefault())};a.views.Composer.prototype.observeActions=f;a.views.Composer.prototype.observe=function(){var b=this.sandbox.getIframe?this.sandbox.getIframe():
this.sandbox.getContentEditable(),g=e.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?this.element:this.sandbox.getWindow();this.focusState=this.getValue(!1,!1);b.addEventListener(["DOMNodeRemoved"],m.bind(this),!1);e.supportsMutationEvents()||(this.domNodeRemovedInterval=setInterval(function(){h.contains(document.documentElement,b)||m.call(this)},250));this.config.handleTables&&f.initTableHandling.call(this);f.addListeners(g,["drop","paste","mouseup","focus","keyup"],p.bind(this));
g.addEventListener("focus",q.bind(this),!1);g.addEventListener("blur",r.bind(this),!1);f.addListeners(this.element,["drop","paste","beforepaste"],t.bind(this),!1);this.element.addEventListener("copy",v.bind(this),!1);this.element.addEventListener("mousedown",y.bind(this),!1);this.element.addEventListener("click",B.bind(this),!1);this.element.addEventListener("drop",E.bind(this),!1);this.element.addEventListener("keyup",x.bind(this),!1);this.element.addEventListener("keydown",w.bind(this),!1);a.browser.usesControlRanges()&&
this.element.addEventListener("mscontrolselect",z.bind(this),!1);this.element.addEventListener("dragenter",function(){this.parent.fire("unset_placeholder")}.bind(this),!1)}})(wysihtml5);
(function(a){a.views.Synchronizer=Base.extend({constructor:function(a,b,e){this.editor=a;this.textarea=b;this.composer=e;this._observe()},fromComposerToTextarea:function(h){this.textarea.setValue(a.lang.string(this.composer.getValue(!1,!1)).trim(),h)},fromTextareaToComposer:function(a){var b=this.textarea.getValue(!1,!1);b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(a){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(a):
this.fromComposerToTextarea(a)},_observe:function(){var h,b=this,e=this.textarea.element.form,g=function(){h=setInterval(function(){b.fromComposerToTextarea()},400)},f=function(){clearInterval(h);h=null};g();e&&(a.dom.observe(e,"submit",function(){b.sync(!0)}),a.dom.observe(e,"reset",function(){setTimeout(function(){b.fromTextareaToComposer()},0)}));this.editor.on("change_view",function(a){"composer"!==a||h?"textarea"===a&&(b.fromComposerToTextarea(!0),f()):(b.fromTextareaToComposer(!0),g())});this.editor.on("destroy:composer",
f)}})})(wysihtml5);
(function(a){a.views.SourceView=Base.extend({constructor:function(a,b){this.editor=a;this.composer=b;this._observe()},switchToTextarea:function(a){var b=this.composer.win.getComputedStyle(this.composer.element),e=parseFloat(b.width),b=Math.max(parseFloat(b.height),100);this.textarea||(this.textarea=this.composer.doc.createElement("textarea"),this.textarea.className="wysihtml5-source-view");this.textarea.style.width=e+"px";this.textarea.style.height=b+"px";this.textarea.value=this.editor.getValue(a,!0);
this.composer.element.parentNode.insertBefore(this.textarea,this.composer.element);this.editor.currentView="source";this.composer.element.style.display="none"},switchToComposer:function(a){var b=this.textarea.value;b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire("set_placeholder"));this.textarea.parentNode.removeChild(this.textarea);this.editor.currentView=this.composer;this.composer.element.style.display=""},_observe:function(){this.editor.on("change_view",function(a){"composer"===
a?this.switchToComposer(!0):"textarea"===a&&this.switchToTextarea(!0)}.bind(this))}})})(wysihtml5);
wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(a,h,b){this.base(a,h,b);this._observe()},clear:function(){this.element.value=""},getValue:function(a){var h=this.isEmpty()?"":this.element.value;!1!==a&&(h=this.parent.parse(h));return h},setValue:function(a,h){!1!==h&&(a=this.parent.parse(a));this.element.value=a},cleanUp:function(a){a=this.parent.parse(this.element.value,void 0,a);this.element.value=a},hasPlaceholderSet:function(){var a=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),
h=this.element.getAttribute("placeholder")||null,b=this.element.value;return a&&!b||b===h},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var a=this.element,h=this.parent,b={focusin:"focus",focusout:"blur"},e=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];h.on("beforeload",function(){wysihtml5.dom.observe(a,e,function(a){a=b[a.type]||a.type;h.fire(a).fire(a+":textarea")});
wysihtml5.dom.observe(a,["paste","drop"],function(){setTimeout(function(){h.fire("paste").fire("paste:textarea")},0)})})}});
(function(a){var h={name:void 0,style:!0,toolbar:void 0,showToolbarAfterInit:!0,showToolbarDialogsOnSelection:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{},b:{},i:{},u:{}},classes:{}},pasteParserRulesets:null,parser:a.dom.parse,useLineBreaks:!0,doubleLineBreakEscapesBlock:!0,stylesheets:[],placeholderText:void 0,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,classNames:{composer:"wysihtml5-editor",body:"wysihtml5-supported",sandbox:"wysihtml5-sandbox",
placeholder:"wysihtml5-placeholder",uneditableContainer:"wysihtml5-uneditable-container"},copyedFromMarking:'<meta name="copied-from" content="wysihtml5">'};a.Editor=a.lang.Dispatcher.extend({constructor:function(b,e){this.editableElement="string"===typeof b?document.getElementById(b):b;this.config=a.lang.object({}).merge(h).merge(e).get();this._isCompatible=a.browser.supported();e&&e.classNames&&a.lang.object(this.config.classNames).merge(e.classNames);"textarea"!=this.editableElement.nodeName.toLowerCase()&&
(this.config.contentEditableMode=!0,this.config.noTextarea=!0);this.config.noTextarea||(this.currentView=this.textarea=new a.views.Textarea(this,this.editableElement,this.config));if(!this._isCompatible||!this.config.supportTouchDevices&&a.browser.isTouchDevice()){var g=this;setTimeout(function(){g.fire("beforeload").fire("load")},0)}else a.dom.addClass(document.body,this.config.classNames.body),this.currentView=this.composer=new a.views.Composer(this,this.editableElement,this.config),"function"===
typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea?this.sourceView=new a.views.SourceView(this,this.composer):this.synchronizer=new a.views.Synchronizer(this,this.textarea,this.composer);this.config.toolbar&&(this.toolbar=new a.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){this.currentView.clear();return this},
getValue:function(a,e){return this.currentView.getValue(a,e)},setValue:function(a,e){this.fire("unset_placeholder");if(!a)return this.clear();this.currentView.setValue(a,e);return this},cleanUp:function(a){this.currentView.cleanUp(a)},focus:function(a){this.currentView.focus(a);return this},disable:function(){this.currentView.disable();return this},enable:function(){this.currentView.enable();return this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},
destroy:function(){this.composer&&this.composer.sandbox&&this.composer.sandbox.destroy();this.toolbar&&this.toolbar.destroy();this.off()},parse:function(b,e,g){var f=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null;e=this.config.parser(b,{rules:g||this.config.parserRules,cleanUp:this.config.cleanUp,context:f,uneditableClass:this.config.classNames.uneditableContainer,clearInternals:e});"object"===typeof b&&a.quirks.redraw(b);return e},_initParser:function(){var b;
if(a.browser.supportsModernPaste())this.on("paste:composer",function(e){e.preventDefault();(b=a.dom.getPastedHtml(e))&&this._cleanAndPaste(b)}.bind(this));else this.on("beforepaste:composer",function(b){b.preventDefault();var g=this.composer.getScrollPos();a.dom.getPastedHtmlWithDiv(this.composer,function(a){a&&this._cleanAndPaste(a);this.composer.setScrollPos(g)}.bind(this))}.bind(this))},_cleanAndPaste:function(b){b=a.quirks.cleanPastedHTML(b,{referenceNode:this.composer.element,rules:this.config.pasteParserRulesets||
[{set:this.config.parserRules}],uneditableClass:this.config.classNames.uneditableContainer});this.composer.selection.deleteContents();this.composer.selection.insertHTML(b)}})})(wysihtml5);
(function(a){var h=a.dom;a.toolbar.Dialog=a.lang.Dispatcher.extend({constructor:function(a,e){this.link=a;this.container=e},_observe:function(){if(!this._observed){var b=this,e=function(a){var e=b._serialize();b.fire("save",e);b.hide();a.preventDefault();a.stopPropagation()};h.observe(b.link,"click",function(){h.hasClass(b.link,"wysihtml5-command-dialog-opened")&&setTimeout(function(){b.hide()},0)});h.observe(this.container,"keydown",function(g){var f=g.keyCode;f===a.ENTER_KEY&&e(g);f===a.ESCAPE_KEY&&
b.cancel()});h.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",e);h.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(a){b.cancel();a.preventDefault();a.stopPropagation()});this._observed=!0}},_serialize:function(){for(var a={},e=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),g=e.length,f=0;f<g;f++)a[e[f].getAttribute("data-wysihtml5-dialog-field")]=e[f].value;return a},_interpolate:function(a){for(var e,g,f=document.querySelector(":focus"),
h=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),k=h.length,n=0;n<k;n++)e=h[n],e===f||a&&"hidden"===e.type||(g=e.getAttribute("data-wysihtml5-dialog-field"),g=this.elementToChange&&"boolean"!==typeof this.elementToChange?this.elementToChange.getAttribute(g)||"":e.defaultValue,e.value=g)},update:function(a){this.elementToChange=a?a:this.elementToChange;this._interpolate()},show:function(a){var e=this.container.querySelector("input, select, textarea");this._observe();this.update(a);
h.addClass(this.link,"wysihtml5-command-dialog-opened");this.container.style.display="";this.isOpen=!0;this.fire("show");if(e&&!a)try{e.focus()}catch(g){}},_hide:function(a){this.elementToChange=null;h.removeClass(this.link,"wysihtml5-command-dialog-opened");this.container.style.display="none";this.isOpen=!1},hide:function(){this._hide();this.fire("hide")},cancel:function(){this._hide();this.fire("cancel")}})})(wysihtml5);
(function(a){var h=a.dom,b={position:"relative"},e={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},g={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},f={"x-webkit-speech":"",speech:""};a.toolbar.Speech=function(l,k){var n=document.createElement("input");if(a.browser.supportsSpeechApiOn(n)){var m=l.editor.textarea.element.getAttribute("lang");m&&(f.lang=m);m=document.createElement("div");
a.lang.object(e).merge({width:k.offsetWidth+"px",height:k.offsetHeight+"px"});h.insert(n).into(m);h.insert(m).into(k);h.setStyles(g).on(n);h.setAttributes(f).on(n);h.setStyles(e).on(m);h.setStyles(b).on(k);h.observe(n,"onwebkitspeechchange"in n?"webkitspeechchange":"speechchange",function(){l.execCommand("insertText",n.value);n.value=""});h.observe(n,"click",function(a){h.hasClass(k,"wysihtml5-command-disabled")&&a.preventDefault();a.stopPropagation()})}else k.style.display="none"}})(wysihtml5);
(function(a){function h(b,e){var f=b.commands.state(e.name,e.value);!e.dialog.multiselect&&a.lang.object(f).isArray()&&(f=1===f.length?f[0]:!0);return f}var b="wysihtml5-command-disabled",e="wysihtml5-commands-disabled",g="wysihtml5-command-active",f="wysihtml5-action-active",l=a.dom;a.toolbar.Toolbar=Base.extend({constructor:function(h,l,m){this.editor=h;this.container="string"===typeof l?document.getElementById(l):l;this.composer=h.composer;this._getLinks("command");this._getLinks("action");this._observe();
m&&this.show();null!=h.config.classNameCommandDisabled&&(b=h.config.classNameCommandDisabled);null!=h.config.classNameCommandsDisabled&&(e=h.config.classNameCommandsDisabled);null!=h.config.classNameCommandActive&&(g=h.config.classNameCommandActive);null!=h.config.classNameActionActive&&(f=h.config.classNameActionActive);h=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]");l=h.length;for(m=0;m<l;m++)new a.toolbar.Speech(this,h[m])},_getLinks:function(b){for(var e=this[b+"Links"]=
a.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+b+"]")).get(),f=e.length,g=0,h=this[b+"Mapping"]={},l,t,v,x,y,z;g<f;g++)l=e[g],v=l.getAttribute("data-wysihtml5-"+b),x=l.getAttribute("data-wysihtml5-"+b+"-value"),z=l.getAttribute("data-wysihtml5-"+b+"-blank-value"),t=this.container.querySelector("[data-wysihtml5-"+b+"-group='"+v+"']"),y=this._getDialog(l,v),h[v+":"+x]={link:l,group:t,name:v,value:x,tracksBlankValue:z,dialog:y,state:!1}},_getDialog:function(b,e){var f=this,g=this.container.querySelector("[data-wysihtml5-dialog='"+
e+"']"),h,l;g&&(h=a.toolbar["Dialog_"+e]?new a.toolbar["Dialog_"+e](b,g):new a.toolbar.Dialog(b,g),h.on("show",function(){l=f.composer.selection.getBookmark();f.editor.fire("show:dialog",{command:e,dialogContainer:g,commandLink:b})}),h.on("save",function(a){l&&f.composer.selection.setBookmark(l);f._execCommand(e,a);f.editor.fire("save:dialog",{command:e,dialogContainer:g,commandLink:b});f._hideAllDialogs();f._preventInstantFocus();l=void 0}),h.on("cancel",function(){l&&f.composer.selection.setBookmark(l);
f.editor.fire("cancel:dialog",{command:e,dialogContainer:g,commandLink:b});l=void 0;f._preventInstantFocus()}),h.on("hide",function(){f.editor.fire("hide:dialog",{command:e,dialogContainer:g,commandLink:b});l=void 0}));return h},execCommand:function(a,b){this.commandsDisabled||this._execCommand(a,b)},_execCommand:function(a,b){this.editor.focus(!1);this.composer.commands.exec(a,b);this._updateLinkStates()},execAction:function(a){var b=this.editor;"change_view"===a&&(b.currentView===b.textarea||"source"===
b.currentView?b.fire("change_view","composer"):b.fire("change_view","textarea"));"showSource"==a&&b.fire("showSource")},_observe:function(){for(var b=this,f=this.editor,g=this.container,p=this.commandLinks.concat(this.actionLinks),q=p.length,r=0;r<q;r++)if("A"===p[r].nodeName)l.setAttributes({href:"javascript:;",unselectable:"on"}).on(p[r]);else l.setAttributes({unselectable:"on"}).on(p[r]);l.delegate(g,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(a){a.preventDefault()});
l.delegate(g,"[data-wysihtml5-command]","click",function(a){var e;e=this.getAttribute("data-wysihtml5-command");var f=this.getAttribute("data-wysihtml5-command-value"),g=b.commandMapping[e+":"+f];f||!g.dialog?b.execCommand(e,f):(e=h(b.composer,g),g.dialog.show(e));a.preventDefault()});l.delegate(g,"[data-wysihtml5-action]","click",function(a){var e=this.getAttribute("data-wysihtml5-action");b.execAction(e);a.preventDefault()});f.on("interaction:composer",function(a){b.preventFocus||b._updateLinkStates()});
this._ownerDocumentClick=function(e){a.dom.contains(b.container,e.target)||a.dom.contains(b.composer.element,e.target)||(b._updateLinkStates(),b._preventInstantFocus())};this.container.ownerDocument.addEventListener("click",this._ownerDocumentClick,!1);this.editor.on("destroy:composer",this.destroy.bind(this));this.editor.config.handleTables&&(f.on("tableselect:composer",function(){b.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display=""}),f.on("tableunselect:composer",
function(){b.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display="none"}));f.on("change_view",function(a){setTimeout(function(){b.commandsDisabled="composer"!==a;b._updateLinkStates();b.commandsDisabled?l.addClass(g,e):l.removeClass(g,e)},0)})},destroy:function(){this.container.ownerDocument.removeEventListener("click",this._ownerDocumentClick,!1)},_hideAllDialogs:function(){var a=this.commandMapping,b;for(b in a)a[b].dialog&&a[b].dialog.hide()},_preventInstantFocus:function(){this.preventFocus=
!0;setTimeout(function(){this.preventFocus=!1}.bind(this),0)},_updateLinkStates:function(){var a,e,m,p,q=this.commandMapping,r=this.composer,t=this.actionMapping;for(a in q)if(m=q[a],this.commandsDisabled?(e=!1,l.removeClass(m.link,g),m.group&&l.removeClass(m.group,g),m.dialog&&m.dialog.hide()):(e=this.composer.commands.state(m.name,m.value),l.removeClass(m.link,b),m.group&&l.removeClass(m.group,b)),m.state!==e||m.tracksBlankValue)(m.state=e)?m.tracksBlankValue?l.removeClass(m.link,g):(l.addClass(m.link,
g),m.group&&l.addClass(m.group,g),!m.dialog||"undefined"!==typeof m.value&&null!==m.value||(e&&"object"===typeof e?(e=h(r,m),m.state=e,p=m.dialog.container.dataset?m.dialog.container.dataset.showdialogonselection:!1,r.config.showToolbarDialogsOnSelection||p?m.dialog.show(e):m.dialog.update(e)):m.dialog.hide())):m.tracksBlankValue?l.addClass(m.link,g):(l.removeClass(m.link,g),m.group&&l.removeClass(m.group,g),m.dialog&&!m.value&&m.dialog.hide());for(a in t)e=t[a],"change_view"===e.name&&(e.state=this.editor.currentView===
this.editor.textarea||"source"===this.editor.currentView,e.state?l.addClass(e.link,f):l.removeClass(e.link,f))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})})(wysihtml5);(function(a){a.toolbar.Dialog_createTable=a.toolbar.Dialog.extend({show:function(a){this.base(a)}})})(wysihtml5);
(function(a){a.toolbar.Dialog_foreColorStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var a={},b=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),e=b.length,g=0;g<e;g++)a[b[g].getAttribute("data-wysihtml5-dialog-field")]=b[g].value;return a},_interpolate:function(h){for(var b,e,g=a.quirks.styleParser,f=document.querySelector(":focus"),l=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),k=l.length,n=0,m=(b=(b=this.elementToChange?a.lang.object(this.elementToChange).isArray()?
this.elementToChange[0]:this.elementToChange:null)?b.getAttribute("style"):null)?g.parseColor(b,"color"):null;n<k;n++)b=l[n],b===f||h&&"hidden"===b.type||"color"!==b.getAttribute("data-wysihtml5-dialog-field")||(e=(b.dataset.colormode||"rgb").toLowerCase(),e="hex"===e?"hash":e,b.value=m?g.unparseColor(m,e):g.unparseColor([0,0,0],e))}})})(wysihtml5);
(function(a){a.toolbar.Dialog_fontSizeStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field="size"]').value}},_interpolate:function(h){h=document.querySelector(":focus");var b=this.container.querySelector("[data-wysihtml5-dialog-field='size']"),e=this.elementToChange?a.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,e=(e=e?e.getAttribute("style"):null)?a.quirks.styleParser.parseFontSize(e):
null;b&&b!==h&&e&&!/^\s*$/.test(e)&&(b.value=e)}})})(wysihtml5);!function(a){function h(a){var e=a.length,f=b.type(a);return"function"!==f&&!b.isWindow(a)&&(!(1!==a.nodeType||!e)||"array"===f||0===e||"number"==typeof e&&0<e&&e-1 in a)}if(!a.jQuery){var b=function(a,e){return new b.fn.init(a,e)};b.isWindow=function(a){return a&&a===a.window};b.type=function(a){return a?"object"==typeof a||"function"==typeof a?g[l.call(a)]||"object":typeof a:a+""};b.isArray=Array.isArray||function(a){return"array"===b.type(a)};b.isPlainObject=function(a){var e;if(!a||"object"!==
b.type(a)||a.nodeType||b.isWindow(a))return!1;try{if(a.constructor&&!f.call(a,"constructor")&&!f.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(g){return!1}for(e in a);return void 0===e||f.call(a,e)};b.each=function(a,b,e){var f,g=0,k=a.length,l=h(a);if(e)if(l)for(;g<k&&(f=b.apply(a[g],e),!1!==f);g++);else for(g in a){if(a.hasOwnProperty(g)&&(f=b.apply(a[g],e),!1===f))break}else if(l)for(;g<k&&(f=b.call(a[g],g,a[g]),!1!==f);g++);else for(g in a)if(a.hasOwnProperty(g)&&(f=b.call(a[g],
g,a[g]),!1===f))break;return a};b.data=function(a,f,g){if(void 0===g){g=(g=a[b.expando])&&e[g];if(void 0===f)return g;if(g&&f in g)return g[f]}else if(void 0!==f)return a=a[b.expando]||(a[b.expando]=++b.uuid),e[a]=e[a]||{},e[a][f]=g,g};b.removeData=function(a,f){var g=a[b.expando],h=g&&e[g];h&&(f?b.each(f,function(a,b){delete h[b]}):delete e[g])};b.extend=function(){var a,e,f,g,h,k,l=arguments[0]||{},n=1,z=arguments.length,B=!1;"boolean"==typeof l&&(B=l,l=arguments[n]||{},n++);"object"!=typeof l&&
"function"!==b.type(l)&&(l={});for(n===z&&(l=this,n--);n<z;n++)if(h=arguments[n])for(g in h)h.hasOwnProperty(g)&&(a=l[g],f=h[g],l!==f&&(B&&f&&(b.isPlainObject(f)||(e=b.isArray(f)))?(e?(e=!1,k=a&&b.isArray(a)?a:[]):k=a&&b.isPlainObject(a)?a:{},l[g]=b.extend(B,k,f)):void 0!==f&&(l[g]=f)));return l};b.queue=function(a,e,f){function g(a,b){var e=b||[];if(a)if(h(Object(a))){var f;f="string"==typeof a?[a]:a;for(var k=+f.length,l=0,m=e.length;l<k;)e[m++]=f[l++];if(k!==k)for(;void 0!==f[l];)e[m++]=f[l++];
f=(e.length=m,e);!f}else[].push.call(e,a);return e}if(a){e=(e||"fx")+"queue";var k=b.data(a,e);return f?(!k||b.isArray(f)?k=b.data(a,e,g(f)):k.push(f),k):k||[]}};b.dequeue=function(a,e){b.each(a.nodeType?[a]:a,function(a,f){e=e||"fx";var g=b.queue(f,e),h=g.shift();"inprogress"===h&&(h=g.shift());h&&("fx"===e&&g.unshift("inprogress"),h.call(f,function(){b.dequeue(f,e)}))})};b.fn=b.prototype={init:function(a){if(a.nodeType)return this[0]=a,this;throw Error("Not a DOM node.");},offset:function(){var b=
this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:b.top+(a.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:b.left+(a.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var a=this[0],e;for(e=a.offsetParent||document;e&&"html"!==e.nodeType.toLowerCase&&"static"===e.style.position;)e=e.offsetParent;e=e||document;var f=this.offset(),g=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:b(e).offset();return f.top-=parseFloat(a.style.marginTop)||
0,f.left-=parseFloat(a.style.marginLeft)||0,e.style&&(g.top+=parseFloat(e.style.borderTopWidth)||0,g.left+=parseFloat(e.style.borderLeftWidth)||0),{top:f.top-g.top,left:f.left-g.left}}};var e={};b.expando="velocity"+(new Date).getTime();b.uuid=0;for(var g={},f=g.hasOwnProperty,l=g.toString,k="Boolean Number String Function Array Date RegExp Object Error".split(" "),n=0;n<k.length;n++)g["[object "+k[n]+"]"]=k[n].toLowerCase();b.fn.init.prototype=b.fn;a.Velocity={Utilities:b}}}(window);
(function(a){"object"==typeof module&&"object"==typeof module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):a()})(function(){return function(a,h,b,e){function g(a){for(var b=-1,e=a?a.length:0,f=[];++b<e;){var g=a[b];g&&f.push(g)}return f}function f(a){return x.isWrapped(a)?a=[].slice.call(a):x.isNode(a)&&(a=[a]),a}function l(a){a=r.data(a,"velocity");return null===a?e:a}function k(a){return function(b){return Math.round(b*a)*(1/a)}}function n(a,b,e,f){function g(a,b,e){return(((1-
3*e+3*b)*a+(3*e-6*b))*a+3*b)*a}var k="Float32Array"in h;if(4!==arguments.length)return!1;for(var l=0;4>l;++l)if("number"!=typeof arguments[l]||isNaN(arguments[l])||!isFinite(arguments[l]))return!1;a=Math.min(a,1);e=Math.min(e,1);a=Math.max(a,0);e=Math.max(e,0);var m=k?new Float32Array(11):Array(11),n=!1,k=function(h){if(!n&&(n=!0,a!==b||e!==f))for(var k=0;11>k;++k)m[k]=g(.1*k,a,e);if(a!==b||e!==f)if(0===h)h=0;else if(1===h)h=1;else{for(var l=0,k=1;10!==k&&m[k]<=h;++k)l+=.1;--k;var k=l+(h-m[k])/(m[k+
1]-m[k])*.1,r=3*(1-3*e+3*a)*k*k+2*(3*e-6*a)*k+3*a;if(.001<=r){for(l=0;4>l;++l){r=3*(1-3*e+3*a)*k*k+2*(3*e-6*a)*k+3*a;if(0===r)break;var p=g(k,a,e)-h,k=k-p/r}h=k}else if(0===r)h=k;else{var k=l,l=l+.1,q=0;do p=k+(l-k)/2,r=g(p,a,e)-h,0<r?l=p:k=p;while(1E-7<Math.abs(r)&&10>++q);h=p}h=g(h,b,f)}return h};k.getControlPoints=function(){return[{x:a,y:b},{x:e,y:f}]};var r="generateBezier("+[a,b,e,f]+")";return k.toString=function(){return r},k}function m(a,b){var e=a;return x.isString(a)?B.Easings[a]||(e=!1):
e=x.isArray(a)&&1===a.length?k.apply(null,a):x.isArray(a)&&2===a.length?E.apply(null,a.concat([b])):!(!x.isArray(a)||4!==a.length)&&n.apply(null,a),!1===e&&(e=B.Easings[B.defaults.easing]?B.defaults.easing:z),e}function p(a){if(a){a=B.timestamp&&!0!==a?a:(new Date).getTime();var b=B.State.calls.length;1E4<b&&(B.State.calls=g(B.State.calls),b=B.State.calls.length);for(var f=0;f<b;f++)if(B.State.calls[f]){var h=B.State.calls[f],k=h[0],m=h[2],n=h[3],v=!!n,A=null;n||(n=B.State.calls[f][3]=a-16);for(var y=
Math.min((a-n)/m.duration,1),z=0,E=k.length;z<E;z++){var O=k[z],Z=O.element;if(l(Z)){var ga=!1;m.display!==e&&null!==m.display&&"none"!==m.display&&("flex"===m.display&&r.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],function(a,b){w.setPropertyValue(Z,"display",b)}),w.setPropertyValue(Z,"display",m.display));m.visibility!==e&&"hidden"!==m.visibility&&w.setPropertyValue(Z,"visibility",m.visibility);for(var V in O)if(O.hasOwnProperty(V)&&"element"!==V){var ka,Y=O[V],oa=x.isString(Y.easing)?
B.Easings[Y.easing]:Y.easing;x.isString(Y.pattern)?ka=Y.pattern.replace(/{(\d+)}/g,1===y?function(a,b){return Y.endValue[b]}:function(a,b){var e=Y.startValue[b],f=Y.endValue[b]-e;return e+f*oa(y,m,f)}):1===y?ka=Y.endValue:(ka=Y.endValue-Y.startValue,ka=Y.startValue+ka*oa(y,m,ka));if(v||ka!==Y.currentValue)if(Y.currentValue=ka,"tween"===V)A=ka;else{var ta;if(w.Hooks.registered[V]){ta=w.Hooks.getRoot(V);var pa=l(Z).rootPropertyValueCache[ta];pa&&(Y.rootPropertyValue=pa)}ka=w.setPropertyValue(Z,V,Y.currentValue+
(9>t&&0===parseFloat(ka)?"":Y.unitType),Y.rootPropertyValue,Y.scrollData);w.Hooks.registered[V]&&(w.Normalizations.registered[ta]?l(Z).rootPropertyValueCache[ta]=w.Normalizations.registered[ta]("extract",null,ka[1]):l(Z).rootPropertyValueCache[ta]=ka[1]);"transform"===ka[0]&&(ga=!0)}}m.mobileHA&&l(Z).transformCache.translate3d===e&&(l(Z).transformCache.translate3d="(0px, 0px, 0px)",ga=!0);ga&&w.flushTransformCache(Z)}}m.display!==e&&"none"!==m.display&&(B.State.calls[f][2].display=!1);m.visibility!==
e&&"hidden"!==m.visibility&&(B.State.calls[f][2].visibility=!1);m.progress&&m.progress.call(h[1],h[1],y,Math.max(0,n+m.duration-a),n,A);1===y&&q(f)}}B.State.isTicking&&D(p)}function q(a,b){if(!B.State.calls[a])return!1;for(var f=B.State.calls[a][0],g=B.State.calls[a][1],h=B.State.calls[a][2],k=B.State.calls[a][4],m=!1,n=0,p=f.length;n<p;n++){var q=f[n].element;b||h.loop||("none"===h.display&&w.setPropertyValue(q,"display",h.display),"hidden"===h.visibility&&w.setPropertyValue(q,"visibility",h.visibility));
var t=l(q);if(!0!==h.loop&&(r.queue(q)[1]===e||!/\.velocityQueueEntryFlag/i.test(r.queue(q)[1]))&&t){t.isAnimating=!1;t.rootPropertyValueCache={};var v=!1;r.each(w.Lists.transforms3D,function(a,b){var f=/^scale/.test(b)?1:0,g=t.transformCache[b];t.transformCache[b]!==e&&(new RegExp("^\\("+f+"[^.]")).test(g)&&(v=!0,delete t.transformCache[b])});h.mobileHA&&(v=!0,delete t.transformCache.translate3d);v&&w.flushTransformCache(q);w.Values.removeClass(q,"velocity-animating")}if(!b&&h.complete&&!h.loop&&
n===p-1)try{h.complete.call(g,g)}catch(x){setTimeout(function(){throw x;},1)}k&&!0!==h.loop&&k(g);t&&!0===h.loop&&!b&&(r.each(t.tweensContainer,function(a,b){if(/^rotate/.test(a)&&0===(parseFloat(b.startValue)-parseFloat(b.endValue))%360){var e=b.startValue;b.startValue=b.endValue;b.endValue=e}/^backgroundPosition/.test(a)&&100===parseFloat(b.endValue)&&"%"===b.unitType&&(b.endValue=0,b.startValue=100)}),B(q,"reverse",{loop:!0,delay:h.delay}));!1!==h.queue&&r.dequeue(q,h.queue)}B.State.calls[a]=!1;
f=0;for(g=B.State.calls.length;f<g;f++)if(!1!==B.State.calls[f]){m=!0;break}!1===m&&(B.State.isTicking=!1,delete B.State.calls,B.State.calls=[])}var r,t=function(){if(b.documentMode)return b.documentMode;for(var a=7;4<a;a--){var f=b.createElement("div");if(f.innerHTML="\x3c!--[if IE "+a+"]><span></span><![endif]--\x3e",f.getElementsByTagName("span").length)return a}return e}(),v=function(){var a=0;return h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame||function(b){var e,f=(new Date).getTime();
return e=Math.max(0,16-(f-a)),a=f+e,setTimeout(function(){b(f+e)},e)}}(),x={isNumber:function(a){return"number"==typeof a},isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&
a.length!==e&&(0===a.length||"object"==typeof a[0]&&0<a[0].nodeType)},isWrapped:function(a){return a&&(x.isArray(a)||x.isNumber(a.length)&&!x.isString(a)&&!x.isFunction(a))},isSVG:function(a){return h.SVGElement&&a instanceof h.SVGElement},isEmptyObject:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}},y=!1;if(a.fn&&a.fn.jquery?(r=a,y=!0):r=h.Velocity.Utilities,8>=t&&!y)throw Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=t)return void(jQuery.fn.velocity=
jQuery.fn.animate);var z="swing",B={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:h.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:b.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:r,Redirects:{},Easings:{},
Promise:h.Promise,defaults:{queue:"",duration:400,easing:z,begin:e,complete:e,progress:e,display:e,visibility:e,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(a){r.data(a,"velocity",{isSVG:x.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:3,patch:1},debug:!1,timestamp:!0};h.pageYOffset!==e?(B.State.scrollAnchor=h,B.State.scrollPropertyLeft="pageXOffset",B.State.scrollPropertyTop=
"pageYOffset"):(B.State.scrollAnchor=b.documentElement||b.body.parentNode||b.body,B.State.scrollPropertyLeft="scrollLeft",B.State.scrollPropertyTop="scrollTop");var E=function(){function a(b,e,f){var g=b.v+f.dv*e;return{dx:g,dv:-b.tension*(b.x+f.dx*e)-b.friction*g}}function b(e,f){var g={dx:e.v,dv:-e.tension*e.x-e.friction*e.v},h=a(e,.5*f,g),k=a(e,.5*f,h),l=a(e,f,k),m=1/6*(g.dv+2*(h.dv+k.dv)+l.dv);return e.x+=1/6*(g.dx+2*(h.dx+k.dx)+l.dx)*f,e.v+=m*f,e}return function M(a,e,f){var g,h,k,l={x:-1,v:0,
tension:null,friction:null},m=[0],n=0;a=parseFloat(a)||500;e=parseFloat(e)||20;f=f||null;l.tension=a;l.friction=e;for((g=null!==f)?(n=M(a,e),h=n/f*.016):h=.016;k=b(k||l,h),m.push(1+k.x),n+=16,1E-4<Math.abs(k.x)&&1E-4<Math.abs(k.v););return g?function(a){return m[a*(m.length-1)|0]}:n}}();B.Easings={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}};r.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],
["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,
.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(a,b){B.Easings[b[0]]=n.apply(null,b[1])});var w=B.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},
Lists:{colors:"fill stroke stopColor color backgroundColor borderColor borderTopColor borderRightColor borderBottomColor borderLeftColor outlineColor".split(" "),transformsBase:"translateX translateY scale scaleX scaleY skewX skewY rotateZ".split(" "),transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],
backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a=0;a<w.Lists.colors.length;a++)w.Hooks.templates[w.Lists.colors[a]]=["Red Green Blue Alpha","color"===w.Lists.colors[a]?"0 0 0 1":"255 255 255 1"];var b,e;if(t)for(b in w.Hooks.templates)w.Hooks.templates.hasOwnProperty(b)&&(e=w.Hooks.templates[b],a=e[0].split(" "),e=e[1].match(w.RegEx.valueSplit),"Color"===a[0]&&(a.push(a.shift()),e.push(e.shift()),
w.Hooks.templates[b]=[a.join(" "),e.join(" ")]));for(b in w.Hooks.templates)if(w.Hooks.templates.hasOwnProperty(b)){e=w.Hooks.templates[b];var a=e[0].split(" "),f;for(f in a)a.hasOwnProperty(f)&&(w.Hooks.registered[b+a[f]]=[b,f])}},getRoot:function(a){var b=w.Hooks.registered[a];return b?b[0]:a},cleanRootPropertyValue:function(a,b){return w.RegEx.valueUnwrap.test(b)&&(b=b.match(w.RegEx.valueUnwrap)[1]),w.Values.isCSSNullValue(b)&&(b=w.Hooks.templates[a][1]),b},extractValue:function(a,b){var e=w.Hooks.registered[a];
if(e){var f=e[1];return b=w.Hooks.cleanRootPropertyValue(e[0],b),b.toString().match(w.RegEx.valueSplit)[f]}return b},injectValue:function(a,b,e){if(a=w.Hooks.registered[a]){var f,g=a[1];return e=w.Hooks.cleanRootPropertyValue(a[0],e),f=e.toString().match(w.RegEx.valueSplit),f[g]=b,f.join(" ")}return e}},Normalizations:{registered:{clip:function(a,b,e){switch(a){case "name":return"clip";case "extract":var f;return w.RegEx.wrappedValueAlreadyExtracted.test(e)?f=e:(f=e.toString().match(w.RegEx.valueUnwrap),
f=f?f[1].replace(/,(\s+)?/g," "):e),f;case "inject":return"rect("+e+")"}},blur:function(a,b,e){switch(a){case "name":return B.State.isFirefox?"filter":"-webkit-filter";case "extract":return a=parseFloat(e),a||0===a||(a=(e=e.toString().match(/blur\(([0-9]+[A-z]+)\)/i))?e[1]:0),a;case "inject":return parseFloat(e)?"blur("+e+")":"none"}},opacity:function(a,b,e){if(8>=t)switch(a){case "name":return"filter";case "extract":return(a=e.toString().match(/alpha\(opacity=(.*)\)/i))?a[1]/100:1;case "inject":return b.style.zoom=
1,1<=parseFloat(e)?"":"alpha(opacity="+parseInt(100*parseFloat(e),10)+")"}else switch(a){case "name":return"opacity";case "extract":return e;case "inject":return e}}},register:function(){function a(b,e,f){if("border-box"===w.getPropertyValue(e,"boxSizing").toString().toLowerCase()===(f||!1)){var g,h=0;b="width"===b?["Left","Right"]:["Top","Bottom"];var k=["padding"+b[0],"padding"+b[1],"border"+b[0]+"Width","border"+b[1]+"Width"];for(b=0;b<k.length;b++)g=parseFloat(w.getPropertyValue(e,k[b])),isNaN(g)||
(h+=g);return f?-h:h}return 0}function b(e,f){return function(b,g,h){switch(b){case "name":return e;case "extract":return parseFloat(h)+a(e,g,f);case "inject":return parseFloat(h)-a(e,g,f)+"px"}}}t&&!(9<t)||B.State.isGingerbread||(w.Lists.transformsBase=w.Lists.transformsBase.concat(w.Lists.transforms3D));for(var f=0;f<w.Lists.transformsBase.length;f++)!function(){var a=w.Lists.transformsBase[f];w.Normalizations.registered[a]=function(b,f,g){switch(b){case "name":return"transform";case "extract":return l(f)===
e||l(f).transformCache[a]===e?/^scale/i.test(a)?1:0:l(f).transformCache[a].replace(/[()]/g,"");case "inject":b=!1;switch(a.substr(0,a.length-1)){case "translate":b=!/(%|px|em|rem|vw|vh|\d)$/i.test(g);break;case "scal":case "scale":B.State.isAndroid&&l(f).transformCache[a]===e&&1>g&&(g=1);b=!/(\d)$/i.test(g);break;case "skew":b=!/(deg|\d)$/i.test(g);break;case "rotate":b=!/(deg|\d)$/i.test(g)}return b||(l(f).transformCache[a]="("+g+")"),l(f).transformCache[a]}}}();for(var g=0;g<w.Lists.colors.length;g++)!function(){var a=
w.Lists.colors[g];w.Normalizations.registered[a]=function(b,f,g){switch(b){case "name":return a;case "extract":if(!w.RegEx.wrappedValueAlreadyExtracted.test(g)){var h;b={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(g)?h=b[g]!==e?b[g]:b.black:w.RegEx.isHex.test(g)?h="rgb("+w.Values.hexToRgb(g).join(" ")+")":/^rgba?\(/i.test(g)||(h=b.black);g=(h||g).toString().match(w.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g,
" ")}return(!t||8<t)&&3===g.split(" ").length&&(g+=" 1"),g;case "inject":return/^rgb/.test(g)?g:(8>=t?4===g.split(" ").length&&(g=g.split(/\s+/).slice(0,3).join(" ")):3===g.split(" ").length&&(g+=" 1"),(8>=t?"rgb":"rgba")+"("+g.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();w.Normalizations.registered.innerWidth=b("width",!0);w.Normalizations.registered.innerHeight=b("height",!0);w.Normalizations.registered.outerWidth=b("width");w.Normalizations.registered.outerHeight=b("height")}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,
function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(t||B.State.isAndroid&&!B.State.isChrome)&&(b+="|transform"),(new RegExp("^("+b+")$","i")).test(a)},prefixCheck:function(a){if(B.State.prefixMatches[a])return[B.State.prefixMatches[a],!0];for(var b=["","Webkit","Moz","ms","O"],e=0,f=b.length;e<f;e++){var g;if(g=0===e?a:b[e]+a.replace(/^\w/,function(a){return a.toUpperCase()}),x.isString(B.State.prefixElement.style[g]))return B.State.prefixMatches[a]=
g,[g,!0]}return[a,!1]}},Values:{hexToRgb:function(a){var b;return a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,e,f){return b+b+e+e+f+f}),b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a),b?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:[0,0,0]},isCSSNullValue:function(a){return!a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?
"":"px"},getDisplayType:function(a){a=a&&a.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(a)?"inline":/^(li)$/i.test(a)?"list-item":/^(tr)$/i.test(a)?"table-row":/^(table)$/i.test(a)?"table":/^(tbody)$/i.test(a)?"table-row-group":"block"},addClass:function(a,b){if(a)if(a.classList)a.classList.add(b);else if(x.isString(a.className))a.className+=(a.className.length?
" ":"")+b;else{var e=a.getAttribute(7>=t?"className":"class")||"";a.setAttribute("class",e+(e?" ":"")+b)}},removeClass:function(a,b){if(a)if(a.classList)a.classList.remove(b);else if(x.isString(a.className))a.className=a.className.toString().replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)","gi")," ");else{var e=a.getAttribute(7>=t?"className":"class")||"";a.setAttribute("class",e.replace(new RegExp("(^|s)"+b.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(a,b,f,
g){function k(a,b){var f=0;if(8>=t)f=r.css(a,b);else{var m=!1;/^(width|height)$/.test(b)&&0===w.getPropertyValue(a,"display")&&(m=!0,w.setPropertyValue(a,"display",w.Values.getDisplayType(a)));var n=function(){m&&w.setPropertyValue(a,"display","none")};if(!g){if("height"===b&&"border-box"!==w.getPropertyValue(a,"boxSizing").toString().toLowerCase())return f=a.offsetHeight-(parseFloat(w.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(w.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(w.getPropertyValue(a,
"paddingTop"))||0)-(parseFloat(w.getPropertyValue(a,"paddingBottom"))||0),n(),f;if("width"===b&&"border-box"!==w.getPropertyValue(a,"boxSizing").toString().toLowerCase())return f=a.offsetWidth-(parseFloat(w.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(w.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(w.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(w.getPropertyValue(a,"paddingRight"))||0),n(),f}f=l(a)===e?h.getComputedStyle(a,null):l(a).computedStyle?l(a).computedStyle:l(a).computedStyle=
h.getComputedStyle(a,null);"borderColor"===b&&(b="borderTopColor");f=9===t&&"filter"===b?f.getPropertyValue(b):f[b];""!==f&&null!==f||(f=a.style[b]);n()}"auto"===f&&/^(top|right|bottom|left)$/i.test(b)&&(n=k(a,"position"),("fixed"===n||"absolute"===n&&/top|left/i.test(b))&&(f=r(a).position()[b]+"px"));return f}var m;if(w.Hooks.registered[b])m=w.Hooks.getRoot(b),f===e&&(f=w.getPropertyValue(a,w.Names.prefixCheck(m)[0])),w.Normalizations.registered[m]&&(f=w.Normalizations.registered[m]("extract",a,
f)),m=w.Hooks.extractValue(b,f);else if(w.Normalizations.registered[b]){var n;f=w.Normalizations.registered[b]("name",a);"transform"!==f&&(n=k(a,w.Names.prefixCheck(f)[0]),w.Values.isCSSNullValue(n)&&w.Hooks.templates[b]&&(n=w.Hooks.templates[b][1]));m=w.Normalizations.registered[b]("extract",a,n)}if(!/^[\d-]/.test(m))if((f=l(a))&&f.isSVG&&w.Names.SVGAttribute(b))if(/^(height|width)$/i.test(b))try{m=a.getBBox()[b]}catch(p){m=0}else m=a.getAttribute(b);else m=k(a,w.Names.prefixCheck(b)[0]);return w.Values.isCSSNullValue(m)&&
(m=0),2<=B.debug&&console.log("Get "+b+": "+m),m},setPropertyValue:function(a,b,e,f,g){var k=b;if("scroll"===b)g.container?g.container["scroll"+g.direction]=e:"Left"===g.direction?h.scrollTo(e,g.alternateValue):h.scrollTo(g.alternateValue,e);else if(w.Normalizations.registered[b]&&"transform"===w.Normalizations.registered[b]("name",a))w.Normalizations.registered[b]("inject",a,e),k="transform",e=l(a).transformCache[b];else{w.Hooks.registered[b]&&(k=b,b=w.Hooks.getRoot(b),f=f||w.getPropertyValue(a,
b),e=w.Hooks.injectValue(k,e,f));if(w.Normalizations.registered[b]&&(e=w.Normalizations.registered[b]("inject",a,e),b=w.Normalizations.registered[b]("name",a)),k=w.Names.prefixCheck(b)[0],8>=t)try{a.style[k]=e}catch(m){B.debug&&console.log("Browser does not support ["+e+"] for ["+k+"]")}else(f=l(a))&&f.isSVG&&w.Names.SVGAttribute(b)?a.setAttribute(b,e):a.style[k]=e;2<=B.debug&&console.log("Set "+b+" ("+k+"): "+e)}return[k,e]},flushTransformCache:function(a){var b="",e=l(a);if((t||B.State.isAndroid&&
!B.State.isChrome)&&e&&e.isSVG){var e=function(b){return parseFloat(w.getPropertyValue(a,b))},f={translate:[e("translateX"),e("translateY")],skewX:[e("skewX")],skewY:[e("skewY")],scale:1!==e("scale")?[e("scale"),e("scale")]:[e("scaleX"),e("scaleY")],rotate:[e("rotateZ"),0,0]};r.each(l(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate");f[a]&&(b+=a+"("+f[a].join(" ")+") ",delete f[a])})}else{var g,h;r.each(l(a).transformCache,
function(e){return g=l(a).transformCache[e],"transformPerspective"===e?(h=g,!0):(9===t&&"rotateZ"===e&&(e="rotate"),void(b+=e+g+" "))});h&&(b="perspective"+h+" "+b)}w.setPropertyValue(a,"transform",b)}};w.Hooks.register();w.Normalizations.register();B.hook=function(a,b,g){var h;return a=f(a),r.each(a,function(a,f){if(l(f)===e&&B.init(f),g===e)h===e&&(h=w.getPropertyValue(f,b));else{var k=w.setPropertyValue(f,b,g);"transform"===k[0]&&B.CSS.flushTransformCache(f);h=k}}),h};var A=function(){function a(){return n?
T.promise||null:t}function g(a,f){function k(g){var v,A;if(q.begin&&0===O)try{q.begin.call(y,y)}catch(F){setTimeout(function(){throw F;},1)}if("scroll"===Z){var G,u,K,E=/^x$/i.test(q.axis)?"Left":"Top",J=parseFloat(q.offset)||0;q.container?x.isWrapped(q.container)||x.isNode(q.container)?(q.container=q.container[0]||q.container,G=q.container["scroll"+E],K=G+r(a).position()[E.toLowerCase()]+J):q.container=null:(G=B.State.scrollAnchor[B.State["scrollProperty"+E]],u=B.State.scrollAnchor[B.State["scrollProperty"+
("Left"===E?"Top":"Left")]],K=r(a).offset()[E.toLowerCase()]+J);t={scroll:{rootPropertyValue:!1,startValue:G,currentValue:G,endValue:K,unitType:"",easing:q.easing,scrollData:{container:q.container,direction:E,alternateValue:u}},element:a};B.debug&&console.log("tweensContainer (scroll): ",t.scroll,a)}else if("reverse"===Z){if(v=l(a),!v)return;if(!v.tweensContainer)return void r.dequeue(a,q.queue);"none"===v.opts.display&&(v.opts.display="auto");"hidden"===v.opts.visibility&&(v.opts.visibility="visible");
v.opts.loop=!1;v.opts.begin=null;v.opts.complete=null;D.easing||delete q.easing;D.duration||delete q.duration;q=r.extend({},v.opts,q);A=r.extend(!0,{},v?v.tweensContainer:null);for(J in A)A.hasOwnProperty(J)&&"element"!==J&&(E=A[J].startValue,A[J].startValue=A[J].currentValue=A[J].endValue,A[J].endValue=E,x.isEmptyObject(D)||(A[J].easing=q.easing),B.debug&&console.log("reverse tweensContainer ("+J+"): "+JSON.stringify(A[J]),a));t=A}else if("start"===Z){(v=l(a))&&v.tweensContainer&&!0===v.isAnimating&&
(A=v.tweensContainer);G=function(b,e){var g,h,k;return x.isFunction(b)&&(b=b.call(a,f,da)),x.isArray(b)?(g=b[0],!x.isArray(b[1])&&/^[\d-]/.test(b[1])||x.isFunction(b[1])||w.RegEx.isHex.test(b[1])?k=b[1]:x.isString(b[1])&&!w.RegEx.isHex.test(b[1])&&B.Easings[b[1]]||x.isArray(b[1])?(h=e?b[1]:m(b[1],q.duration),k=b[2]):k=b[1]||b[2]):g=b,e||(h=h||q.easing),x.isFunction(g)&&(g=g.call(a,f,da)),x.isFunction(k)&&(k=k.call(a,f,da)),[g||0,h,k]};u=function(f,g){var k,l=w.Hooks.getRoot(f),m=!1,p=g[0],y=g[1],
u=g[2];if(!(v&&v.isSVG||"tween"===l||!1!==w.Names.prefixCheck(l)[1]||w.Normalizations.registered[l]!==e))return void(B.debug&&console.log("Skipping ["+l+"] due to a lack of browser support."));(q.display!==e&&null!==q.display&&"none"!==q.display||q.visibility!==e&&"hidden"!==q.visibility)&&/opacity|filter/.test(f)&&!u&&0!==p&&(u=0);q._cacheValues&&A&&A[f]?(u===e&&(u=A[f].endValue+A[f].unitType),m=v.rootPropertyValueCache[l]):w.Hooks.registered[f]?u===e?(m=w.getPropertyValue(a,l),u=w.getPropertyValue(a,
f,m)):m=w.Hooks.templates[l][1]:u===e&&(u=w.getPropertyValue(a,f));var z,D,F,G=!1,l=function(a,b){var e,f;return f=(b||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(a){return e=a,""}),e||(e=w.Values.getUnitType(a)),[f,e]};if(x.isString(u)&&x.isString(p)){k="";for(var K=0,E=0,J=[],M=[];K<u.length&&E<p.length;){var L=u[K],H=p[E];if(/[\d\.]/.test(L)&&/[\d\.]/.test(H)){for(var N=L,P=H,R=".",T=".";++K<u.length;){if(L=u[K],L===R)R="..";else if(!/\d/.test(L))break;N+=L}for(;++E<p.length;){if(H=
p[E],H===T)T="..";else if(!/\d/.test(H))break;P+=H}N===P?k+=N:(k+="{"+J.length+"}",J.push(parseFloat(N)),M.push(parseFloat(P)))}else{if(L!==H)break;k+=L;K++;E++}}K===u.length&&E===p.length||(B.debug&&console.error('Trying to pattern match mis-matched strings ["'+p+'", "'+u+'"]'),k=e);k&&(J.length?(B.debug&&console.log('Pattern found "'+k+'" -> ',J,M,u,p),u=J,p=M,D=F=""):k=e)}k||(z=l(f,u),u=z[0],F=z[1],z=l(f,p),p=z[0].replace(/^([+-\/*])=/,function(a,b){return G=b,""}),D=z[1],u=parseFloat(u)||0,p=
parseFloat(p)||0,"%"===D&&(/^(fontSize|lineHeight)$/.test(f)?(p/=100,D="em"):/^scale/.test(f)?(p/=100,D=""):/(Red|Green|Blue)$/i.test(f)&&(p=p/100*255,D="")));z=function(){var e=a.parentNode||b.body,f=w.getPropertyValue(a,"position"),g=w.getPropertyValue(a,"fontSize"),k=f===Y.lastPosition&&e===Y.lastParent,l=g===Y.lastFontSize;Y.lastParent=e;Y.lastPosition=f;Y.lastFontSize=g;var m={};if(l&&k)m.emToPx=Y.lastEmToPx,m.percentToPxWidth=Y.lastPercentToPxWidth,m.percentToPxHeight=Y.lastPercentToPxHeight;
else{var n=v&&v.isSVG?b.createElementNS("http://www.w3.org/2000/svg","rect"):b.createElement("div");B.init(n);e.appendChild(n);r.each(["overflow","overflowX","overflowY"],function(a,b){B.CSS.setPropertyValue(n,b,"hidden")});B.CSS.setPropertyValue(n,"position",f);B.CSS.setPropertyValue(n,"fontSize",g);B.CSS.setPropertyValue(n,"boxSizing","content-box");r.each("minWidth maxWidth width minHeight maxHeight height".split(" "),function(a,b){B.CSS.setPropertyValue(n,b,"100%")});B.CSS.setPropertyValue(n,
"paddingLeft","100em");m.percentToPxWidth=Y.lastPercentToPxWidth=(parseFloat(w.getPropertyValue(n,"width",null,!0))||1)/100;m.percentToPxHeight=Y.lastPercentToPxHeight=(parseFloat(w.getPropertyValue(n,"height",null,!0))||1)/100;m.emToPx=Y.lastEmToPx=(parseFloat(w.getPropertyValue(n,"paddingLeft"))||1)/100;e.removeChild(n)}return null===Y.remToPx&&(Y.remToPx=parseFloat(w.getPropertyValue(b.body,"fontSize"))||16),null===Y.vwToPx&&(Y.vwToPx=parseFloat(h.innerWidth)/100,Y.vhToPx=parseFloat(h.innerHeight)/
100),m.remToPx=Y.remToPx,m.vwToPx=Y.vwToPx,m.vhToPx=Y.vhToPx,1<=B.debug&&console.log("Unit ratios: "+JSON.stringify(m),a),m};if(/[\/*]/.test(G))D=F;else if(F!==D&&0!==u)if(0===p)D=F;else{n=n||z();z=/margin|padding|left|right|width|text|word|letter/i.test(f)||/X$/.test(f)||"x"===f?"x":"y";switch(F){case "%":u*="x"===z?n.percentToPxWidth:n.percentToPxHeight;break;case "px":break;default:u*=n[F+"ToPx"]}switch(D){case "%":u*=1/("x"===z?n.percentToPxWidth:n.percentToPxHeight);break;case "px":break;default:u*=
1/n[D+"ToPx"]}}switch(G){case "+":p=u+p;break;case "-":p=u-p;break;case "*":p*=u;break;case "/":p=u/p}t[f]={rootPropertyValue:m,startValue:u,currentValue:u,endValue:p,unitType:D,easing:y};k&&(t[f].pattern=k);B.debug&&console.log("tweensContainer ("+f+"): "+JSON.stringify(t[f]),a)};for(E in z)if(z.hasOwnProperty(E)){K=w.Names.camelCase(E);g=G(z[E]);if(0<=w.Lists.colors.indexOf(K)){var M=g[0],J=g[1],H=g[2];if(w.RegEx.isHex.test(M)){g=["Red","Green","Blue"];for(var M=w.Values.hexToRgb(M),H=H?w.Values.hexToRgb(H):
e,N=0;N<g.length;N++){var X=[M[N]];J&&X.push(J);H!==e&&X.push(H[N]);u(K+g[N],X)}continue}}u(K,g)}t.element=a}t.element&&(w.Values.addClass(a,"velocity-animating"),oa.push(t),v=l(a),v&&(""===q.queue&&(v.tweensContainer=t,v.opts=q),v.isAnimating=!0),O===da-1?(B.State.calls.push([oa,y,q,null,T.resolver]),!1===B.State.isTicking&&(B.State.isTicking=!0,p())):O++)}var n,q=r.extend({},B.defaults,D),t={};switch(l(a)===e&&B.init(a),parseFloat(q.delay)&&!1!==q.queue&&r.queue(a,q.queue,function(b){B.velocityQueueEntryFlag=
!0;l(a).delayTimer={setTimeout:setTimeout(b,parseFloat(q.delay)),next:b}}),q.duration.toString().toLowerCase()){case "fast":q.duration=200;break;case "normal":q.duration=400;break;case "slow":q.duration=600;break;default:q.duration=parseFloat(q.duration)||1}!1!==B.mock&&(!0===B.mock?q.duration=q.delay=1:(q.duration*=parseFloat(B.mock)||1,q.delay*=parseFloat(B.mock)||1));q.easing=m(q.easing,q.duration);q.begin&&!x.isFunction(q.begin)&&(q.begin=null);q.progress&&!x.isFunction(q.progress)&&(q.progress=
null);q.complete&&!x.isFunction(q.complete)&&(q.complete=null);q.display!==e&&null!==q.display&&(q.display=q.display.toString().toLowerCase(),"auto"===q.display&&(q.display=B.CSS.Values.getDisplayType(a)));q.visibility!==e&&null!==q.visibility&&(q.visibility=q.visibility.toString().toLowerCase());q.mobileHA=q.mobileHA&&B.State.isMobile&&!B.State.isGingerbread;!1===q.queue?q.delay?setTimeout(k,q.delay):k():r.queue(a,q.queue,function(a,b){return!0===b?(T.promise&&T.resolver(y),!0):(B.velocityQueueEntryFlag=
!0,void k(a))});""!==q.queue&&"fx"!==q.queue||"inprogress"===r.queue(a)[0]||r.dequeue(a)}var k,n,t,v,y,z,D,E=arguments[0]&&(arguments[0].p||r.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||x.isString(arguments[0].properties));x.isWrapped(this)?(n=!1,v=0,y=this,t=this):(n=!0,v=1,y=E?arguments[0].elements||arguments[0].e:arguments[0]);var T={promise:null,resolver:null,rejecter:null};if(n&&B.Promise&&(T.promise=new B.Promise(function(a,b){T.resolver=a;T.rejecter=b})),E?(z=arguments[0].properties||
arguments[0].p,D=arguments[0].options||arguments[0].o):(z=arguments[v],D=arguments[v+1]),y=f(y),!y)return void(T.promise&&(z&&D&&!1===D.promiseRejectEmpty?T.resolver():T.rejecter()));var da=y.length,O=0;if(!/^(stop|finish|finishAll)$/i.test(z)&&!r.isPlainObject(D))for(D={},v+=1;v<arguments.length;v++)x.isArray(arguments[v])||!/^(fast|normal|slow)$/i.test(arguments[v])&&!/^\d/.test(arguments[v])?x.isString(arguments[v])||x.isArray(arguments[v])?D.easing=arguments[v]:x.isFunction(arguments[v])&&(D.complete=
arguments[v]):D.duration=arguments[v];var Z;switch(z){case "scroll":Z="scroll";break;case "reverse":Z="reverse";break;case "finish":case "finishAll":case "stop":r.each(y,function(a,b){l(b)&&l(b).delayTimer&&(clearTimeout(l(b).delayTimer.setTimeout),l(b).delayTimer.next&&l(b).delayTimer.next(),delete l(b).delayTimer);"finishAll"!==z||!0!==D&&!x.isString(D)||(r.each(r.queue(b,x.isString(D)?D:""),function(a,b){x.isFunction(b)&&b()}),r.queue(b,x.isString(D)?D:"",[]))});var ga=[];return r.each(B.State.calls,
function(a,b){b&&r.each(b[1],function(f,g){var h=D===e?"":D;return!0!==h&&b[2].queue!==h&&(D!==e||!1!==b[2].queue)||void r.each(y,function(e,f){if(f===g)if((!0===D||x.isString(D))&&(r.each(r.queue(f,x.isString(D)?D:""),function(a,b){x.isFunction(b)&&b(null,!0)}),r.queue(f,x.isString(D)?D:"",[])),"stop"===z){var k=l(f);k&&k.tweensContainer&&!1!==h&&r.each(k.tweensContainer,function(a,b){b.endValue=b.currentValue});ga.push(a)}else"finish"!==z&&"finishAll"!==z||(b[2].duration=1)})})}),"stop"===z&&(r.each(ga,
function(a,b){q(b,!0)}),T.promise&&T.resolver(y)),a();default:if(!r.isPlainObject(z)||x.isEmptyObject(z)){if(x.isString(z)&&B.Redirects[z]){k=r.extend({},D);var V=k.duration,ka=k.delay||0;return!0===k.backwards&&(y=r.extend(!0,[],y).reverse()),r.each(y,function(a,b){parseFloat(k.stagger)?k.delay=ka+parseFloat(k.stagger)*a:x.isFunction(k.stagger)&&(k.delay=ka+k.stagger.call(b,a,da));k.drag&&(k.duration=parseFloat(V)||(/^(callout|transition)/.test(z)?1E3:400),k.duration=Math.max(k.duration*(k.backwards?
1-a/da:(a+1)/da),.75*k.duration,200));B.Redirects[z].call(b,b,k||{},a,da,y,T.promise?T:e)}),a()}v="Velocity: First argument ("+z+") was not a property map, a known action, or a registered redirect. Aborting.";return T.promise?T.rejecter(Error(v)):console.log(v),a()}Z="start"}var Y={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},oa=[];r.each(y,function(a,b){x.isNode(b)&&g(b,a)});k=r.extend({},
B.defaults,D);k.loop=parseInt(k.loop,10);v=2*k.loop-1;if(k.loop)for(E=0;E<v;E++){var ta={delay:k.delay,progress:k.progress};E===v-1&&(ta.display=k.display,ta.visibility=k.visibility,ta.complete=k.complete);A(y,"reverse",ta)}return a()},B=r.extend(A,B);B.animate=A;var D=h.requestAnimationFrame||v;return B.State.isMobile||b.hidden===e||b.addEventListener("visibilitychange",function(){b.hidden?(D=function(a){return setTimeout(function(){a(!0)},16)},p()):D=h.requestAnimationFrame||v}),a.Velocity=B,a!==
h&&(a.fn.velocity=A,a.fn.velocity.defaults=B.defaults),r.each(["Down","Up"],function(a,b){B.Redirects["slide"+b]=function(a,f,g,h,k,l){f=r.extend({},f);var m=f.begin,n=f.complete,p={},q={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};f.display===e&&(f.display="Down"===b?"inline"===B.CSS.Values.getDisplayType(a)?"inline-block":"block":"none");f.begin=function(){0===g&&m&&m.call(k,k);for(var e in q)if(q.hasOwnProperty(e)){p[e]=a.style[e];var f=w.getPropertyValue(a,e);q[e]="Down"===
b?[f,0]:[0,f]}p.overflow=a.style.overflow;a.style.overflow="hidden"};f.complete=function(){for(var b in p)p.hasOwnProperty(b)&&(a.style[b]=p[b]);g===h-1&&(n&&n.call(k,k),l&&l.resolver(k))};B(a,q,f)}}),r.each(["In","Out"],function(a,b){B.Redirects["fade"+b]=function(a,f,g,h,k,l){a=r.extend({},f);var m=a.complete;f={opacity:"In"===b?1:0};0!==g&&(a.begin=null);g!==h-1?a.complete=null:a.complete=function(){m&&m.call(k,k);l&&l.resolver(k)};a.display===e&&(a.display="In"===b?"auto":"none");B(this,f,a)}}),
B}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)});!function(a){"function"==typeof require&&"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(["velocity"],a):a()}(function(){return function(a,h,b,e){var g=a.Velocity;if(!g||!g.Utilities)return void(h.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting."));var f=g.Utilities;if(function(a,b){var e=[];return!(!a||!b)&&(f.each([a,b],function(a,b){var g=[];f.each(b,function(a,b){for(;5>b.toString().length;)b="0"+b;g.push(b)});e.push(g.join(""))}),
parseFloat(e[0])>parseFloat(e[1]))}({major:1,minor:1,patch:0},g.version))throw alert("Velocity UI Pack: You need to update Velocity (velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity."),Error("Velocity UI Pack: You need to update Velocity (velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.");g.RegisterEffect=g.RegisterUI=function(a,b){function h(a,b,e,k){var l,m=0;f.each(a.nodeType?[a]:a,function(a,b){k&&(e+=a*k);l=b.parentNode;var h=["height",
"paddingTop","paddingBottom","marginTop","marginBottom"];"border-box"===g.CSS.getPropertyValue(b,"boxSizing").toString().toLowerCase()&&(h=["height"]);f.each(h,function(a,e){m+=parseFloat(g.CSS.getPropertyValue(b,e))})});g.animate(l,{height:("In"===b?"+":"-")+"="+m},{queue:!1,easing:"ease-in-out",duration:e*("In"===b?.6:1)})}return g.Redirects[a]=function(l,q,r,t,v,x,y){var z=r===t-1;y=y||b.loop;"function"==typeof b.defaultDuration?b.defaultDuration=b.defaultDuration.call(v,v):b.defaultDuration=parseFloat(b.defaultDuration);
for(var B=0;B<b.calls.length;B++){var E=b.calls[B],w=E[0],A=1E3,D=E[1],E=E[2]||{},F={};if(q.duration!==e?A=q.duration:b.defaultDuration!==e&&(A=b.defaultDuration),F.duration=A*(D||1),F.queue=q.queue||"",F.easing=E.easing||"ease",F.delay=parseFloat(E.delay)||0,F.loop=!b.loop&&E.loop,F._cacheValues=E._cacheValues||!0,0===B){if(F.delay+=parseFloat(q.delay)||0,0===r&&(F.begin=function(){q.begin&&q.begin.call(v,v);var b=a.match(/(In|Out)$/);b&&"In"===b[0]&&w.opacity!==e&&f.each(v.nodeType?[v]:v,function(a,
b){g.CSS.setPropertyValue(b,"opacity",0)});q.animateParentHeight&&b&&h(v,b[0],A+F.delay,q.stagger)}),null!==q.display)q.display!==e&&"none"!==q.display?F.display=q.display:/In$/.test(a)&&(D=g.CSS.Values.getDisplayType(l),F.display="inline"===D?"inline-block":D);q.visibility&&"hidden"!==q.visibility&&(F.visibility=q.visibility)}if(B===b.calls.length-1){var K=function(){q.display!==e&&"none"!==q.display||!/Out$/.test(a)||f.each(v.nodeType?[v]:v,function(a,b){g.CSS.setPropertyValue(b,"display","none")});
q.complete&&q.complete.call(v,v);x&&x.resolver(v||l)};F.complete=function(){if(y&&g.Redirects[a](l,q,r,t,v,x,!0===y||Math.max(0,y-1)),b.reset){for(var f in b.reset)if(b.reset.hasOwnProperty(f)){var h=b.reset[f];g.CSS.Hooks.registered[f]!==e||"string"!=typeof h&&"number"!=typeof h||(b.reset[f]=[b.reset[f],b.reset[f]])}f={duration:0,queue:!1};z&&(f.complete=K);g.animate(l,b.reset,f)}else z&&K()};"hidden"===q.visibility&&(F.visibility=q.visibility)}g.animate(l,w,F)}},g};g.RegisterEffect.packagedEffects=
{"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:0},.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]},.25],[{opacity:[1,"easeInOutQuad"]},.25],[{opacity:[0,
"easeInOutQuad"]},.25],[{opacity:[1,"easeInOutQuad"]},.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1E3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",
.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,
rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},
"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,
400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,
translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,
scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%",
"50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],
[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1E3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1E3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1E3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,
-1E3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1E3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1E3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},
.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,
1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},
"transition.slideRightIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,
calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,
75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,
800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,
800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,2E3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,
2E3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,
2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var l in g.RegisterEffect.packagedEffects)g.RegisterEffect.packagedEffects.hasOwnProperty(l)&&g.RegisterEffect(l,g.RegisterEffect.packagedEffects[l]);g.RunSequence=function(a){var b=f.extend(!0,[],a);1<b.length&&(f.each(b.reverse(),function(a,e){var h=b[a+1];if(h){var k=e.o||e.options,l=h.o||h.options,k=k&&!1===k.sequenceQueue?"begin":
"complete",v=l&&l[k],x={};x[k]=function(){var a=h.e||h.elements,a=a.nodeType?[a]:a;v&&v.call(a,a);g(e)};h.o?h.o=f.extend({},l,x):h.options=f.extend({},l,x)}}),b.reverse());g(b[0])}}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)});(function(){var a=window.Messenger,h;h=window.Messenger=function(){return h._call.apply(this,arguments)};window.Messenger.noConflict=function(){window.Messenger=a;return h}})();
window.Messenger._=function(){if(window._)return window._;var a=Array.prototype,h=a.slice,b=Object.prototype.toString,e=a.forEach,g=a.filter,a=Object.keys,f=Function.prototype.bind,l={},k={},n=l.each=l.forEach=function(a,b,f){if(null!=a)if(e&&a.forEach===e)a.forEach(b,f);else if(a.length===+a.length)for(var g=0,h=a.length;g<h&&b.call(f,a[g],g,a)!==k;g++);else for(g in a)if(l.has(a,g)&&b.call(f,a[g],g,a)===k)break};l.result=function(a,b){if(null==a)return null;var e=a[b];return l.isFunction(e)?e.call(a):
e};l.once=function(a){var b=!1,e;return function(){if(b)return e;b=!0;e=a.apply(this,arguments);a=null;return e}};var m=0;l.uniqueId=function(a){var b=++m+"";return a?a+b:b};l.filter=l.select=function(a,b,e){var f=[];if(null==a)return f;if(g&&a.filter===g)return a.filter(b,e);n(a,function(a,g,h){b.call(e,a,g,h)&&(f[f.length]=a)});return f};n("Arguments Function String Number Date RegExp".split(" "),function(a){l["is"+a]=function(e){return b.call(e)=="[object "+a+"]"}});l.defaults=function(a){n(h.call(arguments,
1),function(b){if(b)for(var e in b)null==a[e]&&(a[e]=b[e])});return a};l.extend=function(a){n(h.call(arguments,1),function(b){if(b)for(var e in b)a[e]=b[e]});return a};l.keys=a||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],e;for(e in a)l.has(a,e)&&(b[b.length]=e);return b};l.bind=function(a,b){if(a.bind===f&&f)return f.apply(a,h.call(arguments,1));var e=h.call(arguments,2);return function(){return a.apply(b,e.concat(h.call(arguments)))}};l.isObject=function(a){return a===
Object(a)};return l}();
window.Messenger.Events=function(){return window.Backbone&&Backbone.Events?Backbone.Events:function(){var a=/\s+/,h=function(b,e,h,k){if(!h)return!0;if("object"===typeof h)for(var n in h)b[e].apply(b,[n,h[n]].concat(k));else if(a.test(h)){h=h.split(a);n=0;for(var m=h.length;n<m;n++)b[e].apply(b,[h[n]].concat(k))}else return!0},b=function(a,b){var e,h=-1,n=a.length;switch(b.length){case 0:for(;++h<n;)(e=a[h]).callback.call(e.ctx);break;case 1:for(;++h<n;)(e=a[h]).callback.call(e.ctx,b[0]);break;case 2:for(;++h<
n;)(e=a[h]).callback.call(e.ctx,b[0],b[1]);break;case 3:for(;++h<n;)(e=a[h]).callback.call(e.ctx,b[0],b[1],b[2]);break;default:for(;++h<n;)(e=a[h]).callback.apply(e.ctx,b)}},e={on:function(a,b,e){if(!h(this,"on",a,[b,e])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:e,ctx:e||this});return this},once:function(a,b,e){if(!h(this,"once",a,[b,e])||!b)return this;var k=this,n=_.once(function(){k.off(a,n);b.apply(this,arguments)});n._callback=
b;this.on(a,n,e);return this},off:function(a,b,e){var k,n,m,p,q,r,t,v;if(!this._events||!h(this,"off",a,[b,e]))return this;if(!a&&!b&&!e)return this._events={},this;p=a?[a]:_.keys(this._events);q=0;for(r=p.length;q<r;q++)if(a=p[q],k=this._events[a]){m=[];if(b||e)for(t=0,v=k.length;t<v;t++)n=k[t],(b&&b!==n.callback&&b!==n.callback._callback||e&&e!==n.context)&&m.push(n);this._events[a]=m}return this},trigger:function(a){if(!this._events)return this;var e=Array.prototype.slice.call(arguments,1);if(!h(this,
"trigger",a,e))return this;var l=this._events[a],k=this._events.all;l&&b(l,e);k&&b(k,arguments);return this},listenTo:function(a,b,e){var h=this._listeners||(this._listeners={}),n=a._listenerId||(a._listenerId=_.uniqueId("l"));h[n]=a;a.on(b,"object"===typeof b?this:e,this);return this},stopListening:function(a,b,e){var h=this._listeners;if(h){if(a)a.off(b,"object"===typeof b?this:e,this),b||e||delete h[a._listenerId];else{"object"===typeof b&&(e=this);for(var n in h)h[n].off(b,e,this);this._listeners=
{}}return this}}};e.bind=e.on;e.unbind=e.off;return e}()}();
(function(){var a,h,b,e,g,f,l,k,n,m,p={}.hasOwnProperty,q=function(a,b){function e(){this.constructor=a}for(var f in b)p.call(b,f)&&(a[f]=b[f]);e.prototype=b.prototype;a.prototype=new e;a.__super__=b.prototype;return a},r=[].slice,t=[].indexOf||function(a){for(var b=0,e=this.length;b<e;b++)if(b in this&&this[b]===a)return b;return-1};a=jQuery;f=null!=(b=window._)?b:window.Messenger._;e=null!=(n="undefined"!==typeof Backbone&&null!==Backbone?Backbone.Events:void 0)?n:window.Messenger.Events;b=function(){function b(g){a.extend(this,
e);f.isObject(g)&&(g.el&&this.setElement(g.el),this.model=g.model);this.initialize.apply(this,arguments)}b.prototype.setElement=function(b){this.$el=a(b);return this.el=this.$el[0]};b.prototype.delegateEvents=function(a){var b,e,g,h,k,l;if(a||(a=f.result(this,"events"))){this.undelegateEvents();b=/^(\S+)\s*(.*)$/;l=[];for(g in a){k=a[g];f.isFunction(k)||(k=this[a[g]]);if(!k)throw Error('Method "'+a[g]+'" does not exist');h=g.match(b);e=h[1];h=h[2];k=f.bind(k,this);e+=".delegateEvents"+this.cid;""===
h?l.push(this.jqon(e,k)):l.push(this.jqon(e,h,k))}return l}};b.prototype.jqon=function(a,b,e){var f;if(null!=this.$el.on)return(f=this.$el).on.apply(f,arguments);null==e&&(e=b,b=void 0);return null!=b?this.$el.delegate(b,a,e):this.$el.bind(a,e)};b.prototype.jqoff=function(a){var b;if(null!=this.$el.off)return(b=this.$el).off.apply(b,arguments);this.$el.undelegate();return this.$el.unbind(a)};b.prototype.undelegateEvents=function(){return this.jqoff(".delegateEvents"+this.cid)};b.prototype.remove=
function(){this.undelegateEvents();return this.$el.remove()};return b}();l=function(b){function e(){return e.__super__.constructor.apply(this,arguments)}q(e,b);e.prototype.defaults={hideAfter:10,scroll:!0,closeButtonText:"&times;",escapeText:!1};e.prototype.initialize=function(b){null==b&&(b={});this.rendered=this.shown=!1;this.messenger=b.messenger;return this.options=a.extend({},this.options,b,this.defaults)};e.prototype.show=function(){var a;this.rendered||this.render();this.$message.removeClass("messenger-hidden");
a=this.shown;this.shown=!0;if(!a)return this.trigger("show")};e.prototype.hide=function(){var a;if(this.rendered&&(this.$message.addClass("messenger-hidden"),a=this.shown,this.shown=!1,a))return this.trigger("hide")};e.prototype.cancel=function(){return this.hide()};e.prototype.update=function(b){var e,g=this;f.isString(b)&&(b={message:b});a.extend(this.options,b);this.lastUpdate=new Date;this.rendered=!1;this.events=null!=(e=this.options.events)?e:{};this.render();this.actionsToEvents();this.delegateEvents();
this.checkClickable();this.options.hideAfter?(this.$message.addClass("messenger-will-hide-after"),null!=this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(function(){return g.hide()},1E3*this.options.hideAfter)):this.$message.removeClass("messenger-will-hide-after");if(this.options.hideOnNavigate){if(this.$message.addClass("messenger-will-hide-on-navigate"),null!=("undefined"!==typeof Backbone&&null!==Backbone?Backbone.history:void 0))Backbone.history.on("route",function(){return g.hide()})}else this.$message.removeClass("messenger-will-hide-on-navigate");
return this.trigger("update",this)};e.prototype.scrollTo=function(){if(this.options.scroll)return a.scrollTo(this.$el,{duration:400,offset:{left:0,top:-20}})};e.prototype.timeSinceUpdate=function(){return this.lastUpdate?new Date-this.lastUpdate:null};e.prototype.actionsToEvents=function(){var a,b,e,f,g=this;e=this.options.actions;f=[];for(b in e)a=e[b],f.push(this.events['click [data-action="'+b+'"] a']=function(a){return function(e){e.preventDefault();e.stopPropagation();g.trigger("action:"+b,a,
e);return a.action.call(g,e,g)}}(a));return f};e.prototype.checkClickable=function(){var a,b,e;b=this.events;e=[];for(a in b)"click"===a?e.push(this.$message.addClass("messenger-clickable")):e.push(void 0);return e};e.prototype.undelegateEvents=function(){var a;e.__super__.undelegateEvents.apply(this,arguments);return null!=(a=this.$message)?a.removeClass("messenger-clickable"):void 0};e.prototype.parseActions=function(){var b,e,f,g;e=[];g=this.options.actions;for(f in g)b=g[f],b=a.extend({},b),b.name=
f,null==b.label&&(b.label=f),e.push(b);return e};e.prototype.template=function(b){var e,f,g,h,k,l,m,n=this;g=a("<div class='messenger-message message alert "+b.type+" message-"+b.type+" alert-"+b.type+"'>");b.showCloseButton&&(f=a('<button type="button" class="messenger-close" data-dismiss="alert">'),f.html(b.closeButtonText),f.click(function(){var a;n.cancel();if("function"===typeof(a=n.options).onClickClose)a.onClickClose();return!0}),g.append(f));f=b.escapeText?a('<div class="messenger-message-inner"></div>').text(b.message):
a('<div class="messenger-message-inner">'+b.message+"</div>");g.append(f);b.actions.length&&(e=a('<div class="messenger-actions">'));m=b.actions;k=0;for(l=m.length;k<l;k++)h=m[k],b=a("<span>"),b.attr("data-action",""+h.name),f=a("<a>"),f.html(h.label),b.append(a('<span class="messenger-phrase">')),b.append(f),e.append(b);g.append(e);return g};e.prototype.render=function(){var b;if(!this.rendered)return this._hasSlot||(this.setElement(this.messenger._reserveMessageSlot(this)),this._hasSlot=!0),b=a.extend({},
this.options,{actions:this.parseActions()}),this.$message=a(this.template(b)),this.$el.html(this.$message),this.rendered=this.shown=!0,this.trigger("render")};return e}(b);g=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}q(b,a);b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);return this._timers={}};b.prototype.cancel=function(){this.clearTimers();this.hide();if(null!=this._actionInstance&&null!=this._actionInstance.abort)return this._actionInstance.abort()};
b.prototype.clearTimers=function(){var a,b,e,f;e=this._timers;for(a in e)b=e[a],clearTimeout(b);this._timers={};return null!=(f=this.$message)?f.removeClass("messenger-retry-soon messenger-retry-later"):void 0};b.prototype.render=function(){var a,e,f,g;b.__super__.render.apply(this,arguments);this.clearTimers();f=this.options.actions;g=[];for(e in f)a=f[e],a.auto?g.push(this.startCountdown(e,a)):g.push(void 0);return g};b.prototype.renderPhrase=function(a,b){return a.phrase.replace("TIME",this.formatTime(b))};
b.prototype.formatTime=function(a){var b;b=function(a,b){a=Math.floor(a);1!==a&&(b+="s");return"in "+a+" "+b};if(0===Math.floor(a))return"now...";if(60>a)return b(a,"second");a/=60;return 60>a?b(a,"minute"):b(a/60,"hour")};b.prototype.startCountdown=function(a,b){var e,f,g,h,k=this;if(null==this._timers[a])return e=this.$message.find("[data-action='"+a+"'] .messenger-phrase"),f=null!=(h=b.delay)?h:3,10>=f?(this.$message.removeClass("messenger-retry-later"),this.$message.addClass("messenger-retry-soon")):
(this.$message.removeClass("messenger-retry-soon"),this.$message.addClass("messenger-retry-later")),g=function(){var h;e.text(k.renderPhrase(b,f));if(0<f)return h=Math.min(f,1),f-=h,k._timers[a]=setTimeout(g,1E3*h);k.$message.removeClass("messenger-retry-soon messenger-retry-later");delete k._timers[a];return b.action()},g()};return b}(l);k=function(b){function e(){return e.__super__.constructor.apply(this,arguments)}q(e,b);e.prototype.tagName="ul";e.prototype.className="messenger";e.prototype.messageDefaults=
{type:"info"};e.prototype.initialize=function(b){this.options=null!=b?b:{};this.history=[];return this.messageDefaults=a.extend({},this.messageDefaults,this.options.messageDefaults)};e.prototype.render=function(){return this.updateMessageSlotClasses()};e.prototype.findById=function(a){return f.filter(this.history,function(b){return b.msg.options.id===a})};e.prototype._reserveMessageSlot=function(b){var e,f,g=this;e=a("<li>");e.addClass("messenger-message-slot");this.$el.prepend(e);this.history.push({msg:b,
$slot:e});this._enforceIdConstraint(b);for(b.on("update",function(){return g._enforceIdConstraint(b)});this.options.maxMessages&&this.history.length>this.options.maxMessages;)f=this.history.shift(),f.msg.remove(),f.$slot.remove();return e};e.prototype._enforceIdConstraint=function(a){var b,e,f,g;if(null!=a.options.id)for(g=this.history,e=0,f=g.length;e<f;e++)if(b=g[e],b=b.msg,null!=b.options.id&&b.options.id===a.options.id&&a!==b)if(a.options.singleton){a.hide();break}else b.hide()};e.prototype.newMessage=
function(a){var b,e,f,h,k=this;null==a&&(a={});a.messenger=this;l=null!=(e=null!=(f=Messenger.themes[null!=(h=a.theme)?h:this.options.theme])?f.Message:void 0)?e:g;b=new l(a);b.on("show",function(){if(a.scrollTo&&"fixed"!==k.$el.css("position"))return b.scrollTo()});b.on("hide show render",this.updateMessageSlotClasses,this);return b};e.prototype.updateMessageSlotClasses=function(){var a,b,e,f,g,h,k;f=!0;b=null;a=!1;k=this.history;g=0;for(h=k.length;g<h;g++)e=k[g],e.$slot.removeClass("messenger-first messenger-last messenger-shown"),
e.msg.shown&&e.msg.rendered&&(e.$slot.addClass("messenger-shown"),a=!0,b=e,f&&(f=!1,e.$slot.addClass("messenger-first")));null!=b&&b.$slot.addClass("messenger-last");return this.$el[""+(a?"remove":"add")+"Class"]("messenger-empty")};e.prototype.hideAll=function(){var a,b,e,f,g;f=this.history;g=[];b=0;for(e=f.length;b<e;b++)a=f[b],g.push(a.msg.hide());return g};e.prototype.post=function(b){var e;f.isString(b)&&(b={message:b});b=a.extend(!0,{},this.messageDefaults,b);e=this.newMessage(b);e.update(b);
return e};return e}(b);h=function(b){function e(){return e.__super__.constructor.apply(this,arguments)}q(e,b);e.prototype.doDefaults={progressMessage:null,successMessage:null,errorMessage:"Error connecting to the server.",showSuccessWithoutError:!0,retry:{auto:!0,allow:!0},action:a.ajax};e.prototype.hookBackboneAjax=function(b){var e,g=this;null==b&&(b={});if(null==window.Backbone)throw"Expected Backbone to be defined";b=f.defaults(b,{id:"BACKBONE_ACTION",errorMessage:!1,successMessage:"Request completed successfully.",
showSuccessWithoutError:!1});e=function(a){var e;e=f.extend({},b,a.messenger);return g["do"](e,a)};if(null!=Backbone.ajax){Backbone.ajax._withoutMessenger&&(Backbone.ajax=Backbone.ajax._withoutMessenger);if(null==b.action||b.action===this.doDefaults.action)b.action=Backbone.ajax;e._withoutMessenger=Backbone.ajax;return Backbone.ajax=e}return Backbone.sync=f.wrap(Backbone.sync,function(){var b,f,g;g=arguments[0];b=2<=arguments.length?r.call(arguments,1):[];f=a.ajax;a.ajax=e;g.call.apply(g,[this].concat(r.call(b)));
return a.ajax=f})};e.prototype._getHandlerResponse=function(a){return!1===a?!1:!0===a||null==a?!0:a};e.prototype._parseEvents=function(a){var b,e,f,g,h;null==a&&(a={});g={};for(f in a)e=a[f],b=f.indexOf(" "),h=f.substring(0,b),b=f.substring(b+1),null==g[h]&&(g[h]={}),g[h][b]=e;return g};e.prototype._normalizeResponse=function(){var a,b,e,g,h,k,l;e=1<=arguments.length?r.call(arguments,0):[];a=h=g=null;k=0;for(l=e.length;k<l;k++)b=e[k],"success"===b||"timeout"===b||"abort"===b?g=b:null!=(null!=b?b.readyState:
void 0)&&null!=(null!=b?b.responseText:void 0)?h=b:f.isObject(b)&&(a=b);return[g,a,h]};e.prototype.run=function(){var b,e,g,h,k,l,m,n,p,q=this;l=arguments[0];n=arguments[1];b=3<=arguments.length?r.call(arguments,2):[];null==n&&(n={});l=a.extend(!0,{},this.messageDefaults,this.doDefaults,null!=l?l:{});e=this._parseEvents(l.events);g=function(a,b){var e;e=l[a+"Message"];return f.isFunction(e)?e.call(q,a,b):e};m=null!=(h=l.messageInstance)?h:this.newMessage(l);null!=l.id&&(m.options.id=l.id);null!=l.progressMessage&&
m.update(a.extend({},l,{message:g("progress",null),type:"info"}));k={};f.each(["error","success"],function(h){var p;p=n[h];return k[h]=function(){var k,w,v,x,K,E,da,O;w=1<=arguments.length?r.call(arguments,0):[];x=q._normalizeResponse.apply(q,w);k=x[0];x=x[2];"success"===h&&null==m.errorCount&&!1===l.showSuccessWithoutError&&(l.successMessage=null);"error"===h&&(null==l.errorCount&&(l.errorCount=0),l.errorCount+=1);w=l.returnsPromise?w[0]:"function"===typeof p?p.apply(null,w):void 0;w=q._getHandlerResponse(w);
f.isString(w)&&(w={message:w});if("error"!==h||0!==(null!=x?x.status:void 0)&&"abort"!==k)if("error"===h&&null!=l.ignoredErrorCodes&&(K=null!=x?x.status:void 0,0<=t.call(l.ignoredErrorCodes,K)))m.hide();else return k={message:g(h,x),type:h,events:null!=(E=e[h])?E:{},hideOnNavigate:"success"===h},v=a.extend({},l,k,w),"number"===typeof(null!=(da=v.retry)?da.allow:void 0)&&v.retry.allow--,"error"===h&&500<=(null!=x?x.status:void 0)&&null!=(O=v.retry)&&O.allow?(null==v.retry.delay&&(v.retry.delay=4>v.errorCount?
10:300),v.hideAfter&&(null==v._hideAfter&&(v._hideAfter=v.hideAfter),v.hideAfter=v._hideAfter+v.retry.delay),v._retryActions=!0,v.actions={retry:{label:"retry now",phrase:"Retrying TIME",auto:v.retry.auto,delay:v.retry.delay,action:function(){v.messageInstance=m;return setTimeout(function(){return q["do"].apply(q,[v,n].concat(r.call(b)))},0)}},cancel:{action:function(){return m.cancel()}}}):v._retryActions&&(delete v.actions.retry,delete v.actions.cancel,delete l._retryActions),m.update(v),w&&v.message?
(Messenger(f.extend({},q.options,{instance:q})),m.show()):m.hide();else m.hide()}});if(!l.returnsPromise)for(p in k)h=k[p],n[p]=h;m._actionInstance=l.action.apply(l,[n].concat(r.call(b)));l.returnsPromise&&m._actionInstance.then(k.success,k.error);return m};e.prototype["do"]=e.prototype.run;e.prototype.ajax=function(){var b,e;e=arguments[0];b=2<=arguments.length?r.call(arguments,1):[];e.action=a.ajax;return this.run.apply(this,[e].concat(r.call(b)))};e.prototype.expectPromise=function(a,b){b=f.extend({},
b,{action:a,returnsPromise:!0});return this.run(b)};e.prototype.error=function(a){null==a&&(a={});"string"===typeof a&&(a={message:a});a.type="error";return this.post(a)};e.prototype.info=function(a){null==a&&(a={});"string"===typeof a&&(a={message:a});a.type="info";return this.post(a)};e.prototype.success=function(a){null==a&&(a={});"string"===typeof a&&(a={message:a});a.type="success";return this.post(a)};return e}(k);a.fn.messenger=function(){var b,e,g,l,m;e=arguments[0];b=2<=arguments.length?
r.call(arguments,1):[];null==e&&(e={});if(null!=e&&f.isString(e))return(m=this.data("messenger"))[e].apply(m,b);b=e;null==this.data("messenger")&&(k=null!=(g=null!=(l=Messenger.themes[b.theme])?l.Messenger:void 0)?g:h,this.data("messenger",g=new k(a.extend({el:this},b))),g.render());return this.data("messenger")};window.Messenger._call=function(b){var e,f,g,h,k,l,m;b=a.extend({extraClasses:"messenger-fixed messenger-on-bottom messenger-on-right",theme:"future",maxMessages:9,parentLocations:["body"]},
a._messengerDefaults,Messenger.options,b);null!=b.theme&&(b.extraClasses+=" messenger-theme-"+b.theme);e=b.instance||Messenger.instance;if(null==b.instance){k=b.parentLocations;f=null;l=0;for(m=k.length;l<m;l++)if(h=k[l],f=a(h),f.length){g=h;break}e?a(e._location).is(a(g))||(e.$el.detach(),f.prepend(e.$el)):(e=a("<ul>"),f.prepend(e),e=e.messenger(b),e._location=g,Messenger.instance=e)}null!=e._addedClasses&&e.$el.removeClass(e._addedClasses);e.$el.addClass(b=""+e.className+" "+b.extraClasses);e._addedClasses=
b;return e};a.extend(Messenger,{Message:g,Messenger:h,themes:null!=(m=Messenger.themes)?m:{}});a.globalMessenger=window.Messenger=Messenger}).call(this);(function(a){var h=function(b,e){this.options=a.extend({},a.fn.editableform.defaults,e);this.$div=a(b);this.options.scope||(this.options.scope=this)};h.prototype={constructor:h,initInput:function(){this.input=this.options.input;this.value=this.input.str2value(this.options.value);this.input.prerender()},initTemplate:function(){this.$form=a(a.fn.editableform.template)},initButtons:function(){var b=this.$form.find(".editable-buttons");b.append(a.fn.editableform.buttons);"bottom"===this.options.showbuttons&&
b.addClass("editable-buttons-bottom")},render:function(){this.$loading=a(a.fn.editableform.loading);this.$div.empty().append(this.$loading);this.initTemplate();this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove();this.showLoading();this.isSaving=!1;this.$div.triggerHandler("rendering");this.initInput();this.$form.find("div.editable-input").append(this.input.$tpl);this.$div.append(this.$form);a.when(this.input.render()).then(a.proxy(function(){this.options.showbuttons||
this.input.autosubmit();this.$form.find(".editable-cancel").click(a.proxy(this.cancel,this));this.input.error?(this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(a){a.preventDefault()})):(this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled"),this.input.value2input(null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:
this.value),this.$form.submit(a.proxy(this.submit,this)));this.$div.triggerHandler("rendered");this.showForm();this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var a,e;this.$form?(a=this.$form.outerWidth(),e=this.$form.outerHeight(),a&&this.$loading.width(a),e&&this.$loading.height(e),this.$form.hide()):(a=this.$loading.parent().width())&&this.$loading.width(a);this.$loading.show()},showForm:function(a){this.$loading.hide();
this.$form.show();!1!==a&&this.input.activate();this.$div.triggerHandler("show")},error:function(b){var e=this.$form.find(".control-group"),g=this.$form.find(".editable-error-block");if(!1===b)e.removeClass(a.fn.editableform.errorGroupClass),g.removeClass(a.fn.editableform.errorBlockClass).empty().hide();else{if(b){b=(""+b).split("\n");for(var f=0;f<b.length;f++)b[f]=a("<div>").text(b[f]).html();b=b.join("<br>")}e.addClass(a.fn.editableform.errorGroupClass);g.addClass(a.fn.editableform.errorBlockClass).html(b).show()}},
submit:function(b){b.stopPropagation();b.preventDefault();var e=this.input.input2value();b=this.validate(e);if("object"===a.type(b)&&void 0!==b.newValue){if(e=b.newValue,this.input.value2input(e),"string"===typeof b.msg){this.error(b.msg);this.showForm();return}}else if(b){this.error(b);this.showForm();return}if(this.options.savenochange||this.input.value2str(e)!=this.input.value2str(this.value)){var g=this.input.value2submit(e);this.isSaving=!0;a.when(this.save(g)).done(a.proxy(function(a){this.isSaving=
!1;var b="function"===typeof this.options.success?this.options.success.call(this.options.scope,a,e):null;!1===b?(this.error(!1),this.showForm(!1)):"string"===typeof b?(this.error(b),this.showForm()):(b&&"object"===typeof b&&b.hasOwnProperty("newValue")&&(e=b.newValue),this.error(!1),this.value=e,this.$div.triggerHandler("save",{newValue:e,submitValue:g,response:a}))},this)).fail(a.proxy(function(a){this.isSaving=!1;a="function"===typeof this.options.error?this.options.error.call(this.options.scope,
a,e):"string"===typeof a?a:a.responseText||a.statusText||"Unknown error!";this.error(a);this.showForm()},this))}else this.$div.triggerHandler("nochange")},save:function(b){this.options.pk=a.fn.editableutils.tryParseJson(this.options.pk,!0);var e="function"===typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk;if("function"===typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==e&&void 0!==e))return this.showLoading(),
b={name:this.options.name||"",value:b,pk:e},"function"===typeof this.options.params?b=this.options.params.call(this.options.scope,b):(this.options.params=a.fn.editableutils.tryParseJson(this.options.params,!0),a.extend(b,this.options.params)),"function"===typeof this.options.url?this.options.url.call(this.options.scope,b):a.ajax(a.extend({url:this.options.url,data:b,type:"POST"},this.options.ajaxOptions))},validate:function(a){void 0===a&&(a=this.value);if("function"===typeof this.options.validate)return this.options.validate.call(this.options.scope,
a)},option:function(a,e){a in this.options&&(this.options[a]=e);"value"===a&&this.setValue(e)},setValue:function(a,e){this.value=e?this.input.str2value(a):a;this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}};a.fn.editableform=function(b){var e=arguments;return this.each(function(){var g=a(this),f=g.data("editableform"),l="object"===typeof b&&b;f||g.data("editableform",f=new h(this,l));"string"===typeof b&&f[b].apply(f,Array.prototype.slice.call(e,1))})};a.fn.editableform.Constructor=
h;a.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1};a.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>';a.fn.editableform.loading='<div class="editableform-loading"></div>';
a.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>';a.fn.editableform.errorGroupClass=null;a.fn.editableform.errorBlockClass="editable-error";a.fn.editableform.engine="jquery"})(window.jQuery);
(function(a){a.fn.editableutils={inherit:function(a,b){var e=function(){};e.prototype=b.prototype;a.prototype=new e;a.prototype.constructor=a;a.superclass=b.prototype},setCursorPosition:function(a,b){if(a.setSelectionRange)a.setSelectionRange(b,b);else if(a.createTextRange){var e=a.createTextRange();e.collapse(!0);e.moveEnd("character",b);e.moveStart("character",b);e.select()}},tryParseJson:function(a,b){if("string"===typeof a&&a.length&&a.match(/^[\{\[].*[\}\]]$/))if(b)try{a=(new Function("return "+
a))()}catch(e){}finally{}else a=(new Function("return "+a))();return a},sliceObj:function(h,b,e){var g,f,l={};if(!a.isArray(b)||!b.length)return l;for(var k=0;k<b.length;k++)g=b[k],h.hasOwnProperty(g)&&(l[g]=h[g]),!0!==e&&(f=g.toLowerCase(),h.hasOwnProperty(f)&&(l[g]=h[f]));return l},getConfigData:function(h){var b={};a.each(h.data(),function(a,g){if("object"!==typeof g||g&&"object"===typeof g&&(g.constructor===Object||g.constructor===Array))b[a]=g});return b},objectKeys:function(a){if(Object.keys)return Object.keys(a);
if(a!==Object(a))throw new TypeError("Object.keys called on a non-object");var b=[],e;for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&b.push(e);return b},escape:function(h){return a("<div>").text(h).html()},itemsByValue:function(h,b,e){if(!b||null===h)return[];if("function"!==typeof e){var g=e||"value";e=function(a){return a[g]}}var f=a.isArray(h),l=[],k=this;a.each(b,function(b,g){if(g.children)l=l.concat(k.itemsByValue(h,g.children,e));else if(f)a.grep(h,function(a){return a==(g&&"object"===
typeof g?e(g):g)}).length&&l.push(g);else{var p=g&&"object"===typeof g?e(g):g;h==p&&l.push(g)}});return l},createInput:function(h){var b;b=h.type;"date"===b&&("inline"===h.mode?a.fn.editabletypes.datefield?b="datefield":a.fn.editabletypes.dateuifield&&(b="dateuifield"):a.fn.editabletypes.date?b="date":a.fn.editabletypes.dateui&&(b="dateui"),"date"!==b||a.fn.editabletypes.date||(b="combodate"));"datetime"===b&&"inline"===h.mode&&(b="datetimefield");"wysihtml5"!==b||a.fn.editabletypes[b]||(b="textarea");
if("function"===typeof a.fn.editabletypes[b])return b=a.fn.editabletypes[b],h=this.sliceObj(h,this.objectKeys(b.defaults)),h=new b(h);a.error("Unknown type: "+b);return!1},supportsTransitions:function(){var a=(document.body||document.documentElement).style,b="transition",e=["Moz","Webkit","Khtml","O","ms"];if("string"===typeof a[b])return!0;for(var b=b.charAt(0).toUpperCase()+b.substr(1),g=0;g<e.length;g++)if("string"===typeof a[e[g]+b])return!0;return!1}}})(window.jQuery);
(function(a){var h=function(a,b){this.init(a,b)},b=function(a,b){this.init(a,b)};h.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(b,g){this.$element=a(b);this.options=a.extend({},a.fn.editableContainer.defaults,g);this.splitOptions();this.formOptions.scope=this.$element[0];this.initContainer();this.delayedHide=!1;this.$element.on("destroyed",a.proxy(function(){this.destroy()},this));a(document).data("editable-handlers-attached")||
(a(document).on("keyup.editable",function(b){27===b.which&&a(".editable-open").editableContainer("hide")}),a(document).on("click.editable",function(b){var e=a(b.target),g,n=".editable-container .ui-datepicker-header .datepicker .modal-backdrop .bootstrap-wysihtml5-insert-image-modal .bootstrap-wysihtml5-insert-link-modal".split(" ");if(a.contains(document.documentElement,b.target)&&!e.is(document)){for(g=0;g<n.length;g++)if(e.is(n[g])||e.parents(n[g]).length)return;h.prototype.closeOthers(b.target)}}),
a(document).data("editable-handlers-attached",!0))},splitOptions:function(){this.containerOptions={};this.formOptions={};if(!a.fn[this.containerName])throw Error(this.containerName+" not found. Have you included corresponding js file?");for(var b in this.options)b in this.defaults?this.containerOptions[b]=this.options[b]:this.formOptions[b]=this.options[b]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var a;return this.containerDataName&&(a=this.$element.data(this.containerDataName))?
a:a=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:a.proxy(this.save,this),nochange:a.proxy(function(){this.hide("nochange")},this),cancel:a.proxy(function(){this.hide("cancel")},this),show:a.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},
this),rendering:a.proxy(this.setPosition,this),resize:a.proxy(this.setPosition,this),rendered:a.proxy(function(){this.$element.triggerHandler("shown",a(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(b){this.$element.addClass("editable-open");!1!==b&&this.closeOthers(this.$element[0]);this.innerShow();this.tip().addClass(this.containerClass);this.$form=a("<div>");this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form);
this.renderForm()},hide:function(a){this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")&&(this.$form.data("editableform").isSaving?this.delayedHide={reason:a}:(this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",a||"manual")))},innerShow:function(){},innerHide:function(){},toggle:function(a){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(a)},setPosition:function(){},save:function(a,
b){this.$element.triggerHandler("save",b);this.hide("save")},option:function(a,b){this.options[a]=b;a in this.containerOptions?(this.containerOptions[a]=b,this.setContainerOption(a,b)):(this.formOptions[a]=b,this.$form&&this.$form.editableform("option",a,b))},setContainerOption:function(a,b){this.call("option",a,b)},destroy:function(){this.hide();this.innerDestroy();this.$element.off("destroyed");this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(b){a(".editable-open").each(function(g,
f){if(f!==b&&!a(f).find(b).length){var h=a(f),k=h.data("editableContainer");k&&("cancel"===k.options.onblur?h.data("editableContainer").hide("onblur"):"submit"===k.options.onblur&&h.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}};a.fn.editableContainer=function(e){var g=arguments;return this.each(function(){var f=a(this),l=f.data("editableContainer"),k="object"===typeof e&&
e,n="inline"===k.mode?b:h;l||f.data("editableContainer",l=new n(this,k));"string"===typeof e&&l[e].apply(l,Array.prototype.slice.call(g,1))})};a.fn.editableContainer.Popup=h;a.fn.editableContainer.Inline=b;a.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"};jQuery.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(window.jQuery);
(function(a){a.extend(a.fn.editableContainer.Inline.prototype,a.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=a("<span></span>");this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={};this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide();this.tip().insertAfter(this.$element).show()},
innerHide:function(){this.$tip.hide(this.options.anim,a.proxy(function(){this.$element.show();this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})})(window.jQuery);
(function(a){var h=function(b,e){this.$element=a(b);this.options=a.extend({},a.fn.editable.defaults,e,a.fn.editableutils.getConfigData(this.$element));this.options.selector?this.initLive():this.init();this.options.highlight&&!a.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};h.prototype={constructor:h,init:function(){var b=!1;this.options.name=this.options.name||this.$element.attr("id");this.options.scope=this.$element[0];if(this.input=a.fn.editableutils.createInput(this.options)){void 0===
this.options.value||null===this.options.value?(this.value=this.input.html2value(a.trim(this.$element.html())),b=!0):(this.options.value=a.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"===typeof this.options.value?this.input.str2value(this.options.value):this.options.value);this.$element.addClass("editable");"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped");"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+
".editable",a.proxy(function(a){this.options.disabled||a.preventDefault();"mouseenter"===this.options.toggle?this.show():this.toggle("click"!==this.options.toggle)},this))):this.$element.attr("tabindex",-1);"function"===typeof this.options.display&&(this.options.autotext="always");switch(this.options.autotext){case "always":b=!0;break;case "auto":b=!a.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!b;break;default:b=!1}a.when(b?this.render():!0).then(a.proxy(function(){this.options.disabled?
this.disable():this.enable();this.$element.triggerHandler("init",this)},this))}},initLive:function(){var b=this.options.selector;this.options.selector=!1;this.options.autotext="never";this.$element.on(this.options.toggle+".editable",b,a.proxy(function(b){var g=a(b.target);g.data("editable")||(g.hasClass(this.options.emptyclass)&&g.empty(),g.editable(this.options).trigger(b))},this))},render:function(a){if(!1!==this.options.display)return this.input.value2htmlFinal?this.input.value2html(this.value,
this.$element[0],this.options.display,a):"function"===typeof this.options.display?this.options.display.call(this.$element[0],this.value,a):this.input.value2html(this.value,this.$element[0])},enable:function(){this.options.disabled=!1;this.$element.removeClass("editable-disabled");this.handleEmpty(this.isEmpty);"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0;this.hide();this.$element.addClass("editable-disabled");
this.handleEmpty(this.isEmpty);this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(b,e){if(b&&"object"===typeof b)a.each(b,a.proxy(function(b,e){this.option(a.trim(b),e)},this));else{this.options[b]=e;if("disabled"===b)return e?this.disable():this.enable();"value"===b&&this.setValue(e);this.container&&this.container.option(b,e);this.input.option&&this.input.option(b,e)}},handleEmpty:function(b){!1!==this.options.display&&
((this.isEmpty=void 0!==b?b:"function"===typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===a.trim(this.$element.html()),this.options.disabled)?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(b){if(!this.options.disabled){if(!this.container){var e=
a.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(e);this.$element.on("save.internal",a.proxy(this.save,this));this.container=this.$element.data("editableContainer")}else if(this.container.tip().is(":visible"))return;this.container.show(b)}},hide:function(){this.container&&this.container.hide()},toggle:function(a){this.container&&this.container.tip().is(":visible")?this.hide():this.show(a)},save:function(a,e){if(this.options.unsavedclass){var g;(g=(g=(g=
(g="function"===typeof this.options.url)||!1===this.options.display)||void 0!==e.response)||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(e.newValue))?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var f=this.$element,h=f.css("background-color");f.css("background-color",this.options.highlight);setTimeout(function(){"transparent"===h&&(h="");f.css("background-color",h);f.addClass("editable-bg-transition");
setTimeout(function(){f.removeClass("editable-bg-transition")},1700)},10)}this.setValue(e.newValue,!1,e.response)},validate:function(){if("function"===typeof this.options.validate)return this.options.validate.call(this,this.value)},setValue:function(b,e,g){this.value=e?this.input.str2value(b):b;this.container&&this.container.option("value",this.value);a.when(this.render(g)).then(a.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable();
this.container&&this.container.destroy();this.input.destroy();"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable"));this.$element.off("save.internal");this.$element.removeClass("editable editable-open editable-disabled");this.$element.removeData("editable")}};a.fn.editable=function(b){var e={},g=arguments;switch(b){case "validate":return this.each(function(){var b=a(this).data("editable"),f;b&&(f=b.validate())&&(e[b.options.name]=
f)}),e;case "getValue":return 2===arguments.length&&!0===arguments[1]?e=this.eq(0).data("editable").value:this.each(function(){var b=a(this).data("editable");b&&void 0!==b.value&&null!==b.value&&(e[b.options.name]=b.input.value2submit(b.value))}),e;case "submit":var f=arguments[1]||{},l=this,k=this.editable("validate");if(a.isEmptyObject(k)){var n={};1===l.length?(k=l.data("editable"),n={name:k.options.name||"",value:k.input.value2submit(k.value),pk:"function"===typeof k.options.pk?k.options.pk.call(k.options.scope):
k.options.pk},"function"===typeof k.options.params?n=k.options.params.call(k.options.scope,n):(k.options.params=a.fn.editableutils.tryParseJson(k.options.params,!0),a.extend(n,k.options.params)),n={url:k.options.url,data:n,type:"POST"},f.success=f.success||k.options.success,f.error=f.error||k.options.error):(k=this.editable("getValue"),n={url:f.url,data:k,type:"POST"});n.success="function"===typeof f.success?function(a){f.success.call(l,a,f)}:a.noop;n.error="function"===typeof f.error?function(){f.error.apply(l,
arguments)}:a.noop;f.ajaxOptions&&a.extend(n,f.ajaxOptions);f.data&&a.extend(n.data,f.data);a.ajax(n)}else"function"===typeof f.error&&f.error.call(l,k);return this}return this.each(function(){var e=a(this),f=e.data("editable"),k="object"===typeof b&&b;k&&k.selector?new h(this,k):(f||e.data("editable",f=new h(this,k)),"string"===typeof b&&f[b].apply(f,Array.prototype.slice.call(g,1)))})};a.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,
emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}})(window.jQuery);
(function(a){a.fn.editabletypes={};var h=function(){};h.prototype={init:function(b,e,g){this.type=b;this.options=a.extend({},g,e)},prerender:function(){this.$input=this.$tpl=a(this.options.tpl);this.error=this.$clear=null},render:function(){},value2html:function(b,e){a(e)[this.options.escape?"text":"html"](a.trim(b))},html2value:function(b){return a("<div>").html(b).text()},value2str:function(a){return a},str2value:function(a){return a},value2submit:function(a){return a},value2input:function(a){this.$input.val(a)},
input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(b){return a("<div>").text(b).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(a){void 0!==this.options[a]&&null!==this.options[a]&&this.$input.attr(a,this.options[a])},option:function(a,e){this.options[a]=e}};h.defaults=
{tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0};a.extend(a.fn.editabletypes,{abstractinput:h})})(window.jQuery);
(function(a){var h=function(a){};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{render:function(){var b=a.Deferred();this.error=null;this.onSourceReady(function(){this.renderList();b.resolve()},function(){this.error=this.options.sourceError;b.resolve()});return b.promise()},html2value:function(a){return null},value2html:function(b,e,g,f){var h=a.Deferred(),k=function(){"function"===typeof g?g.call(e,b,this.sourceData,f):this.value2htmlFinal(b,e);h.resolve()};
if(null===b)k.call(this);else this.onSourceReady(k,function(){h.resolve()});return h.promise()},onSourceReady:function(b,e){var g;a.isFunction(this.options.source)?(g=this.options.source.call(this.options.scope),this.sourceData=null):g=this.options.source;if(this.options.sourceCache&&a.isArray(this.sourceData))b.call(this);else{try{g=a.fn.editableutils.tryParseJson(g,!1)}catch(f){e.call(this);return}if("string"===typeof g){if(this.options.sourceCache){var h=g,k;a(document).data(h)||a(document).data(h,
{});k=a(document).data(h);if(!1===k.loading&&k.sourceData){this.sourceData=k.sourceData;this.doPrepend();b.call(this);return}if(!0===k.loading){k.callbacks.push(a.proxy(function(){this.sourceData=k.sourceData;this.doPrepend();b.call(this)},this));k.err_callbacks.push(a.proxy(e,this));return}k.loading=!0;k.callbacks=[];k.err_callbacks=[]}g=a.extend({url:g,type:"get",cache:!1,dataType:"json",success:a.proxy(function(f){k&&(k.loading=!1);this.sourceData=this.makeArray(f);a.isArray(this.sourceData)?(k&&
(k.sourceData=this.sourceData,a.each(k.callbacks,function(){this.call()})),this.doPrepend(),b.call(this)):(e.call(this),k&&a.each(k.err_callbacks,function(){this.call()}))},this),error:a.proxy(function(){e.call(this);k&&(k.loading=!1,a.each(k.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);a.ajax(g)}else this.sourceData=this.makeArray(g),a.isArray(this.sourceData)?(this.doPrepend(),b.call(this)):e.call(this)}},doPrepend:function(){null!==this.options.prepend&&void 0!==
this.options.prepend&&(a.isArray(this.prependData)||(a.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=a.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"===typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),a.isArray(this.prependData)&&a.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},
value2htmlFinal:function(a,e){},makeArray:function(b){var e,g,f=[],h,k;if(!b||"string"===typeof b)return null;if(a.isArray(b)){k=function(a,b){g={value:a,text:b};if(2<=e++)return!1};for(var n=0;n<b.length;n++)h=b[n],"object"===typeof h?(e=0,a.each(h,k),1===e?f.push(g):1<e&&(h.children&&(h.children=this.makeArray(h.children)),f.push(h))):f.push({value:h,text:h})}else a.each(b,function(a,b){f.push({value:a,text:b})});return f},option:function(a,e){this.options[a]=e;"source"===a&&(this.sourceData=null);
"prepend"===a&&(this.prependData=null)}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null});a.fn.editabletypes.list=h})(window.jQuery);
(function(a){var h=function(a){this.init("text",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),a.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=a('<span class="editable-clear-x"></span>'),
this.$input.after(this.$clear).css("padding-right",24).keyup(a.proxy(function(b){if(!~a.inArray(b.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var e=this;this.t=setTimeout(function(){e.toggleClear(b)},100)}},this)).parent().css("position","relative"),this.$clear.click(a.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(a){if(this.$clear){a=this.$input.val().length;var e=this.$clear.is(":visible");a&&!e&&this.$clear.show();!a&&e&&this.$clear.hide()}},clear:function(){this.$clear.hide();
this.$input.val("").focus()}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0});a.fn.editabletypes.text=h})(window.jQuery);
(function(a){var h=function(a){this.init("textarea",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{render:function(){this.setClass();this.setAttr("placeholder");this.setAttr("rows");this.$input.keydown(function(b){b.ctrlKey&&13===b.which&&a(this).closest("form").submit()})},activate:function(){a.fn.editabletypes.text.prototype.activate.call(this)}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",
placeholder:null,rows:7});a.fn.editabletypes.textarea=h})(window.jQuery);
(function(a){var h=function(a){this.init("select",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.list);a.extend(h.prototype,{renderList:function(){this.$input.empty();var b=function(e,g){var f;if(a.isArray(g))for(var h=0;h<g.length;h++)f={},g[h].children?(f.label=g[h].text,e.append(b(a("<optgroup>",f),g[h].children))):(f.value=g[h].value,g[h].disabled&&(f.disabled=!0),e.append(a("<option>",f).text(g[h].text)));return e};b(this.$input,this.sourceData);this.setClass();this.$input.on("keydown.editable",
function(b){13===b.which&&a(this).closest("form").submit()})},value2htmlFinal:function(b,e){var g="",f=a.fn.editableutils.itemsByValue(b,this.sourceData);f.length&&(g=f[0].text);a.fn.editabletypes.abstractinput.prototype.value2html.call(this,g,e)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){a(this).closest("form").submit()})}});h.defaults=a.extend({},a.fn.editabletypes.list.defaults,{tpl:"<select></select>"});a.fn.editabletypes.select=h})(window.jQuery);
(function(a){var h=function(a){this.init("checklist",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.list);a.extend(h.prototype,{renderList:function(){var b;this.$tpl.empty();if(a.isArray(this.sourceData)){for(var e=0;e<this.sourceData.length;e++)b=a("<label>").append(a("<input>",{type:"checkbox",value:this.sourceData[e].value})).append(a("<span>").text(" "+this.sourceData[e].text)),a("<div>").append(b).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]');this.setClass()}},
value2str:function(b){return a.isArray(b)?b.sort().join(a.trim(this.options.separator)):""},str2value:function(b){var e;e=null;"string"===typeof b&&b.length?(e=new RegExp("\\s*"+a.trim(this.options.separator)+"\\s*"),e=b.split(e)):e=a.isArray(b)?b:[b];return e},value2input:function(b){this.$input.prop("checked",!1);a.isArray(b)&&b.length&&this.$input.each(function(e,g){var f=a(g);a.each(b,function(a,b){f.val()==b&&f.prop("checked",!0)})})},input2value:function(){var b=[];this.$input.filter(":checked").each(function(e,
g){b.push(a(g).val())});return b},value2htmlFinal:function(b,e){var g=[],f=a.fn.editableutils.itemsByValue(b,this.sourceData),h=this.options.escape;f.length?(a.each(f,function(b,e){var f=h?a.fn.editableutils.escape(e.text):e.text;g.push(f)}),a(e).html(g.join("<br>"))):a(e).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(b){13===b.which&&a(this).closest("form").submit()})}});h.defaults=a.extend({},a.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',
inputclass:null,separator:","});a.fn.editabletypes.checklist=h})(window.jQuery);(function(a){var h=function(a){this.init("password",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.text);a.extend(h.prototype,{value2html:function(b,e){b?a(e).text("[hidden]"):a(e).empty()},html2value:function(a){return null}});h.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="password">'});a.fn.editabletypes.password=h})(window.jQuery);
(function(a){var h=function(a){this.init("email",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.text);h.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="email">'});a.fn.editabletypes.email=h})(window.jQuery);(function(a){var h=function(a){this.init("url",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.text);h.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="url">'});a.fn.editabletypes.url=h})(window.jQuery);
(function(a){var h=function(a){this.init("tel",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.text);h.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'});a.fn.editabletypes.tel=h})(window.jQuery);
(function(a){var h=function(a){this.init("number",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.text);a.extend(h.prototype,{render:function(){h.superclass.render.call(this);this.setAttr("min");this.setAttr("max");this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}});h.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null});a.fn.editabletypes.number=h})(window.jQuery);
(function(a){var h=function(a){this.init("range",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.number);a.extend(h.prototype,{render:function(){this.$input=this.$tpl.filter("input");this.setClass();this.setAttr("min");this.setAttr("max");this.setAttr("step");this.$input.on("input",function(){a(this).siblings("output").text(a(this).val())})},activate:function(){this.$input.focus()}});h.defaults=a.extend({},a.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',
inputclass:"input-medium"});a.fn.editabletypes.range=h})(window.jQuery);(function(a){var h=function(a){this.init("time",a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{render:function(){this.setClass()}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'});a.fn.editabletypes.time=h})(window.jQuery);
(function(a){var h=function(b){this.init("select2",b,h.defaults);b.select2=b.select2||{};this.sourceData=null;b.placeholder&&(b.select2.placeholder=b.placeholder);if(!b.select2.tags&&b.source){var e=b.source;a.isFunction(b.source)&&(e=b.source.call(b.scope));"string"===typeof e?(b.select2.ajax=b.select2.ajax||{},b.select2.ajax.data||(b.select2.ajax.data=function(a){return{query:a}}),b.select2.ajax.results||(b.select2.ajax.results=function(a){return{results:a}}),b.select2.ajax.url=e):(this.sourceData=
this.convertSource(e),b.select2.data=this.sourceData)}this.options.select2=a.extend({},h.defaults.select2,b.select2);this.isMultiple=this.options.select2.tags||this.options.select2.multiple;this.isRemote="ajax"in this.options.select2;this.idFunc=this.options.select2.id;if("function"!==typeof this.idFunc){var g=this.idFunc||"id";this.idFunc=function(a){return a[g]}}this.formatSelection=this.options.select2.formatSelection;"function"!==typeof this.formatSelection&&(this.formatSelection=function(a){return a.text})};
a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{render:function(){this.setClass();if(this.isRemote)this.$input.on("select2-loaded",a.proxy(function(a){this.sourceData=a.items.results},this));if(this.isMultiple)this.$input.on("change",function(){a(this).closest("form").parent().triggerHandler("resize")})},value2html:function(b,e){var g="",f,l=this;this.options.select2.tags?f=b:this.sourceData&&(f=a.fn.editableutils.itemsByValue(b,this.sourceData,this.idFunc));a.isArray(f)?
(g=[],a.each(f,function(a,b){g.push(b&&"object"===typeof b?l.formatSelection(b):b)})):f&&(g=l.formatSelection(f));g=a.isArray(g)?g.join(this.options.viewseparator):g;h.superclass.value2html.call(this,g,e)},html2value:function(a){return this.options.select2.tags?this.str2value(a,this.options.viewseparator):null},value2input:function(b){a.isArray(b)&&(b=b.join(this.getSeparator()));this.$input.data("select2")?this.$input.val(b).trigger("change",!0):(this.$input.val(b),this.$input.select2(this.options.select2));
if(this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var e=this.options.select2.formatSelection;this.options.select2.id||e||(e=a(this.options.scope),e.data("editable").isEmpty||(b={id:b,text:e.text()},this.$input.select2("data",b)))}},input2value:function(){return this.$input.select2("val")},str2value:function(b,e){if("string"!==typeof b||!this.isMultiple)return b;e=e||this.getSeparator();var g,f,h;if(null===b||1>b.length)return null;g=b.split(e);f=0;for(h=g.length;f<h;f+=1)g[f]=
a.trim(g[f]);return g},autosubmit:function(){this.$input.on("change",function(b,e){e||a(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||a.fn.select2.defaults.separator},convertSource:function(b){if(a.isArray(b)&&b.length&&void 0!==b[0].value)for(var e=0;e<b.length;e++)void 0!==b[e].value&&(b[e].id=b[e].value,delete b[e].value);return b},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,
{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "});a.fn.editabletypes.select2=h})(window.jQuery);
(function(a){var h=function(b,e){this.$element=a(b);this.$element.is("input")?(this.options=a.extend({},a.fn.combodate.defaults,e,this.$element.data()),this.init()):a.error("Combodate should be applied to INPUT element")};h.prototype={constructor:h,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]};this.$widget=a('<span class="combodate"></span>').html(this.getTemplate());this.initCombos();
this.$widget.on("change","select",a.proxy(function(b){this.$element.val(this.getValue()).change();this.options.smartDays&&(a(b.target).is(".month")||a(b.target).is(".year"))&&this.fillCombo("day")},this));this.$widget.find("select").css("width","auto");this.$element.hide().after(this.$widget);this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var b=this.options.template;a.each(this.map,function(a,g){g=g[0];var f=new RegExp(g+"+"),h=1<g.length?g.substring(1,2):g;b=b.replace(f,
"{"+h+"}")});b=b.replace(/ /g,"&nbsp;");a.each(this.map,function(a,g){g=g[0];var f=1<g.length?g.substring(1,2):g;b=b.replace("{"+f+"}",'<select class="'+a+'"></select>')});return b},initCombos:function(){for(var a in this.map){var e=this.$widget.find("."+a);this["$"+a]=e.length?e:null;this.fillCombo(a)}},fillCombo:function(a){var e=this["$"+a];if(e){a=this["fill"+a.charAt(0).toUpperCase()+a.slice(1)]();var g=e.val();e.empty();for(var f=0;f<a.length;f++)e.append('<option value="'+a[f][0]+'">'+a[f][1]+
"</option>");e.val(g)}},fillCommon:function(a){var e=[],g;"name"===this.options.firstItem?(g=moment.relativeTime||moment.langData()._relativeTime,a="function"===typeof g[a]?g[a](1,!0,a,!1):g[a],a=a.split(" ").reverse()[0],e.push(["",a])):"empty"===this.options.firstItem&&e.push(["",""]);return e},fillDay:function(){var a=this.fillCommon("d"),e,g,f=-1!==this.options.template.indexOf("DD"),h=31;this.options.smartDays&&this.$month&&this.$year&&(e=parseInt(this.$month.val(),10),g=parseInt(this.$year.val(),
10),isNaN(e)||isNaN(g)||(h=moment([g,e]).daysInMonth()));for(g=1;g<=h;g++)e=f?this.leadZero(g):g,a.push([g,e]);return a},fillMonth:function(){var a=this.fillCommon("M"),e,g,f=-1!==this.options.template.indexOf("MMMM"),h=-1!==this.options.template.indexOf("MMM"),k=-1!==this.options.template.indexOf("MM");for(g=0;11>=g;g++)e=f?moment().date(1).month(g).format("MMMM"):h?moment().date(1).month(g).format("MMM"):k?this.leadZero(g+1):g+1,a.push([g,e]);return a},fillYear:function(){var a=[],e,g,f=-1!==this.options.template.indexOf("YYYY");
for(g=this.options.maxYear;g>=this.options.minYear;g--)e=f?g:(g+"").substring(2),a[this.options.yearDescending?"push":"unshift"]([g,e]);return a=this.fillCommon("y").concat(a)},fillHour:function(){var a=this.fillCommon("h"),e,g;e=-1!==this.options.template.indexOf("h");this.options.template.indexOf("H");var f=-1!==this.options.template.toLowerCase().indexOf("hh"),h=e?12:23;for(g=e?1:0;g<=h;g++)e=f?this.leadZero(g):g,a.push([g,e]);return a},fillMinute:function(){var a=this.fillCommon("m"),e,g,f=-1!==
this.options.template.indexOf("mm");for(g=0;59>=g;g+=this.options.minuteStep)e=f?this.leadZero(g):g,a.push([g,e]);return a},fillSecond:function(){var a=this.fillCommon("s"),e,g,f=-1!==this.options.template.indexOf("ss");for(g=0;59>=g;g+=this.options.secondStep)e=f?this.leadZero(g):g,a.push([g,e]);return a},fillAmpm:function(){var a=-1!==this.options.template.indexOf("a");this.options.template.indexOf("A");return[["am",a?"am":"AM"],["pm",a?"pm":"PM"]]},getValue:function(b){var e,g={},f=this,h=!1;a.each(this.map,
function(a,b){if("ampm"!==a){var e="day"===a?1:0;g[a]=f["$"+a]?parseInt(f["$"+a].val(),10):e;if(isNaN(g[a]))return h=!0,!1}});if(h)return"";this.$ampm&&(g.hour=12===g.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?g.hour:g.hour+12);e=moment([g.year,g.month,g.day,g.hour,g.minute,g.second]);this.highlight(e);b=void 0===b?this.options.format:b;return null===b?e.isValid()?e:null:e.isValid()?e.format(b):""},setValue:function(b){function e(b,e){var f={};b.children("option").each(function(b,g){var h=
a(g).attr("value"),k;""!==h&&(k=Math.abs(h-e),"undefined"===typeof f.distance||k<f.distance)&&(f={value:h,distance:k})});return f.value}if(b){var g="string"===typeof b?moment(b,this.options.format):moment(b),f=this,h={};g.isValid()&&(a.each(this.map,function(a,b){"ampm"!==a&&(h[a]=g[b[1]]())}),this.$ampm&&(12<=h.hour?(h.ampm="pm",12<h.hour&&(h.hour-=12)):(h.ampm="am",0===h.hour&&(h.hour=12))),a.each(h,function(a,b){f["$"+a]&&("minute"===a&&1<f.options.minuteStep&&f.options.roundTime&&(b=e(f["$"+a],
b)),"second"===a&&1<f.options.secondStep&&f.options.roundTime&&(b=e(f["$"+a],b)),f["$"+a].val(b))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(g.format(this.options.format)).change())}},highlight:function(a){a.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),
this.$widget.find("select").css("border-color","red"))},leadZero:function(a){return 9>=a?"0"+a:a},destroy:function(){this.$widget.remove();this.$element.removeData("combodate").show()}};a.fn.combodate=function(b){var e,g=Array.apply(null,arguments);g.shift();return"getValue"===b&&this.length&&(e=this.eq(0).data("combodate"))?e.getValue.apply(e,g):this.each(function(){var e=a(this),l=e.data("combodate"),k="object"==typeof b&&b;l||e.data("combodate",l=new h(this,k));"string"==typeof b&&"function"==
typeof l[b]&&l[b].apply(l,g)})};a.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}})(window.jQuery);
(function(a){var h=function(b){this.init("combodate",b,h.defaults);this.options.viewformat||(this.options.viewformat=this.options.format);b.combodate=a.fn.editableutils.tryParseJson(b.combodate,!0);this.options.combodate=a.extend({},h.defaults.combodate,b.combodate,{format:this.options.format,template:this.options.template})};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{render:function(){this.$input.combodate(this.options.combodate);"bs3"===a.fn.editableform.engine&&
this.$input.siblings().find("select").addClass("form-control");this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(a,e){var g=a?a.format(this.options.viewformat):"";h.superclass.value2html.call(this,g,e)},html2value:function(a){return a?moment(a,this.options.viewformat):null},value2str:function(a){return a?a.format(this.options.format):""},str2value:function(a){return a?moment(a,this.options.format):null},value2submit:function(a){return this.value2str(a)},
value2input:function(a){this.$input.combodate("setValue",a)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null});a.fn.editabletypes.combodate=h})(window.jQuery);
(function(a){var h=a.fn.editableform.Constructor.prototype.initInput;a.extend(a.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=a(a.fn.editableform.template);this.$form.find(".control-group").addClass("form-group");this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){h.apply(this);var b=null===this.input.options.inputclass||!1===this.input.options.inputclass;~a.inArray(this.input.type,"text select textarea password email url tel number range time typeaheadjs".split(" "))&&
(this.input.$input.addClass("form-control"),b&&(this.input.options.inputclass="input-sm input-transparent",this.input.$input.addClass("input-sm input-transparent")));for(var e=this.$form.find(".editable-buttons"),b=b?["input-sm input-transparent"]:this.input.options.inputclass.split(" "),g=0;g<b.length;g++)"input-lg"===b[g].toLowerCase()&&e.find("button").removeClass("btn-sm").addClass("btn-lg")}});a.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="fa-check"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="fa-remove"></i></button>';
a.fn.editableform.errorGroupClass="has-error";a.fn.editableform.errorBlockClass=null;a.fn.editableform.engine="bs3"})(window.jQuery);
(function(a){a.extend(a.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:a.fn.popover.Constructor.DEFAULTS,initContainer:function(){a.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var h;this.$element.data("template")&&(h=this.$element.data("template"),this.$element.removeData("template"));this.call(this.containerOptions);h&&this.$element.data("template",h)},innerShow:function(){this.call("show")},
innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(a,b){this.container().options[a]=b},setPosition:function(){(function(){var a=this.tip(),b="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,g=e.test(b);g&&(b=b.replace(e,"")||"top");var e=this.getPosition(),f=a[0].offsetWidth,l=a[0].offsetHeight;if(g){var k=this.$element.parent(),g=b,n=document.documentElement.scrollTop||
document.body.scrollTop,m="body"==this.options.container?window.innerWidth:k.outerWidth(),p="body"==this.options.container?window.innerHeight:k.outerHeight(),k="body"==this.options.container?0:k.offset().left,b="bottom"==b&&e.top+e.height+l-n>p?"top":"top"==b&&0>e.top-n-l?"bottom":"right"==b&&e.right+f>m?"left":"left"==b&&e.left-f<k?"right":b;a.removeClass(g).addClass(b)}a=this.getCalculatedOffset(b,e,f,l);this.applyPlacement(a,b)}).call(this.container())}})})(window.jQuery);
(function(a){function h(){return new Date(Date.UTC.apply(Date,arguments))}function b(b,e){var f=a(b).data(),g={},h,k=new RegExp("^"+e.toLowerCase()+"([A-Z])");e=new RegExp("^"+e.toLowerCase());for(var l in f)e.test(l)&&(h=l.replace(k,function(a,b){return b.toLowerCase()}),g[h]=f[l]);return g}function e(b){var e={};if(!p[b]&&(b=b.split("-")[0],!p[b]))return;var f=p[b];a.each(m,function(a,b){b in f&&(e[b]=f[b])});return e}var g=function(b,e){this._process_options(e);this.element=a(b);this.isInline=
!1;this.isInput=this.element.is("input");this.hasInput=(this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1)&&this.element.find("input").length;this.component&&0===this.component.length&&(this.component=!1);this.picker=a(q.template);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right"));
this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(a,b){return parseInt(b)+1});this._allow_update=!1;this.setStartDate(this.o.startDate);this.setEndDate(this.o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()};g.prototype={constructor:g,_process_options:function(b){this._o=a.extend({},this._o,b);b=this.o=a.extend({},
this._o);var e=b.language;p[e]||(e=e.split("-")[0],p[e]||(e=n.language));b.language=e;switch(b.startView){case 2:case "decade":b.startView=2;break;case 1:case "year":b.startView=1;break;default:b.startView=0}switch(b.minViewMode){case 1:case "months":b.minViewMode=1;break;case 2:case "years":b.minViewMode=2;break;default:b.minViewMode=0}b.startView=Math.max(b.startView,b.minViewMode);b.weekStart%=7;b.weekEnd=(b.weekStart+6)%7;e=q.parseFormat(b.format);-Infinity!==b.startDate&&(b.startDate=q.parseDate(b.startDate,
e,b.language));Infinity!==b.endDate&&(b.endDate=q.parseDate(b.endDate,e,b.language));b.daysOfWeekDisabled=b.daysOfWeekDisabled||[];a.isArray(b.daysOfWeekDisabled)||(b.daysOfWeekDisabled=b.daysOfWeekDisabled.split(/[,\s]*/));b.daysOfWeekDisabled=a.map(b.daysOfWeekDisabled,function(a){return parseInt(a,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var b=0,e,f;b<a.length;b++)e=a[b][0],f=a[b][1],e.on(f)},_unapplyEvents:function(a){for(var b=0,e,f;b<a.length;b++)e=a[b][0],f=a[b][1],
e.off(f)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this),keydown:a.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this),keydown:a.proxy(this.keydown,this)}],[this.component,{click:a.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:a.proxy(this.show,this)}]];this._secondaryEvents=
[[this.picker,{click:a.proxy(this.click,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{mousedown:a.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).size()||this.picker.is(a.target)||this.picker.find(a.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},
_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(b,e){var f=e||this.date,g=new Date(f.getTime()+6E4*f.getTimezoneOffset());this.element.trigger({type:b,date:g,format:a.proxy(function(a){return q.formatDate(f,a||this.o.format,this.o.language)},this)})},show:function(a){this.isInline||this.picker.appendTo("body");this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();
a&&a.preventDefault();this._trigger("show")},hide:function(a){!this.isInline&&this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;this.isInput||
delete this.element.data().date},getDate:function(){var a=this.getUTCDate();return new Date(a.getTime()+6E4*a.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(a){this.setUTCDate(new Date(a.getTime()-6E4*a.getTimezoneOffset()))},setUTCDate:function(a){this.date=a;this.setValue()},setValue:function(){var a=this.getFormattedDate();this.isInput?this.element.val(a):this.component&&this.element.find("input").val(a)},getFormattedDate:function(a){void 0===a&&(a=this.o.format);
return q.formatDate(this.date,a,this.o.language)},setStartDate:function(a){this._process_options({startDate:a});this.update();this.updateNavArrows()},setEndDate:function(a){this._process_options({endDate:a});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(a){this._process_options({daysOfWeekDisabled:a});this.update();this.updateNavArrows()},place:function(){if(!this.isInline){var b=parseInt(this.element.parents().filter(function(){return"auto"!=a(this).css("z-index")}).first().css("z-index"))+
10,e=this.component?this.component.parent().offset():this.element.offset(),f=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:e.top+f,left:e.left,zIndex:b})}},_allow_update:!0,update:function(){if(this._allow_update){var a,b=!1;arguments&&arguments.length&&("string"===typeof arguments[0]||arguments[0]instanceof Date)?(a=arguments[0],b=!0):(a=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date);
this.date=q.parseDate(a,this.o.format,this.o.language);b&&this.setValue();this.viewDate=this.date<this.o.startDate?new Date(this.o.startDate):this.date>this.o.endDate?new Date(this.o.endDate):new Date(this.date);this.fill()}},fillDow:function(){var a=this.o.weekStart,b="<tr>";this.o.calendarWeeks&&(b+='<th class="cw">&nbsp;</th>',this.picker.find(".datepicker-days thead tr:first-child").prepend('<th class="cw">&nbsp;</th>'));for(;a<this.o.weekStart+7;)b+='<th class="dow">'+p[this.o.language].daysMin[a++%
7]+"</th>";b+="</tr>";this.picker.find(".datepicker-days thead").append(b)},fillMonths:function(){for(var a="",b=0;12>b;)a+='<span class="month">'+p[this.o.language].monthsShort[b++]+"</span>";this.picker.find(".datepicker-months td").html(a)},setRange:function(b){b&&b.length?this.range=a.map(b,function(a){return a.valueOf()}):delete this.range;this.fill()},getClassNames:function(b){var e=[],f=this.viewDate.getUTCFullYear(),g=this.viewDate.getUTCMonth(),h=this.date.valueOf(),k=new Date;b.getUTCFullYear()<
f||b.getUTCFullYear()==f&&b.getUTCMonth()<g?e.push("old"):(b.getUTCFullYear()>f||b.getUTCFullYear()==f&&b.getUTCMonth()>g)&&e.push("new");this.o.todayHighlight&&b.getUTCFullYear()==k.getFullYear()&&b.getUTCMonth()==k.getMonth()&&b.getUTCDate()==k.getDate()&&e.push("today");h&&b.valueOf()==h&&e.push("active");(b.valueOf()<this.o.startDate||b.valueOf()>this.o.endDate||-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekDisabled))&&e.push("disabled");this.range&&(b>this.range[0]&&b<this.range[this.range.length-
1]&&e.push("range"),-1!=a.inArray(b.valueOf(),this.range)&&e.push("selected"));return e},fill:function(){var b=new Date(this.viewDate),e=b.getUTCFullYear(),f=b.getUTCMonth(),b=-Infinity!==this.o.startDate?this.o.startDate.getUTCFullYear():-Infinity,g=-Infinity!==this.o.startDate?this.o.startDate.getUTCMonth():-Infinity,k=Infinity!==this.o.endDate?this.o.endDate.getUTCFullYear():Infinity,l=Infinity!==this.o.endDate?this.o.endDate.getUTCMonth():Infinity,m;this.picker.find(".datepicker-days thead th.datepicker-switch").text(p[this.o.language].months[f]+
" "+e);this.picker.find("tfoot th.today").text(p[this.o.language].today).toggle(!1!==this.o.todayBtn);this.picker.find("tfoot th.clear").text(p[this.o.language].clear).toggle(!1!==this.o.clearBtn);this.updateNavArrows();this.fillMonths();var n=h(e,f-1,28,0,0,0,0),f=q.getDaysInMonth(n.getUTCFullYear(),n.getUTCMonth());n.setUTCDate(f);n.setUTCDate(f-(n.getUTCDay()-this.o.weekStart+7)%7);var w=new Date(n);w.setUTCDate(w.getUTCDate()+42);for(var w=w.valueOf(),f=[],A;n.valueOf()<w;){if(n.getUTCDay()==
this.o.weekStart&&(f.push("<tr>"),this.o.calendarWeeks)){A=new Date(+n+(this.o.weekStart-n.getUTCDay()-7)%7*864E5);A=new Date(+A+(11-A.getUTCDay())%7*864E5);var D=new Date(+(D=h(A.getUTCFullYear(),0,1))+(11-D.getUTCDay())%7*864E5);f.push('<td class="cw">'+((A-D)/864E5/7+1)+"</td>")}A=this.getClassNames(n);A.push("day");var F=this.o.beforeShowDay(n);void 0===F?F={}:"boolean"===typeof F?F={enabled:F}:"string"===typeof F&&(F={classes:F});!1===F.enabled&&A.push("disabled");F.classes&&(A=A.concat(F.classes.split(/\s+/)));
F.tooltip&&(m=F.tooltip);A=a.unique(A);f.push('<td class="'+A.join(" ")+'"'+(m?' title="'+m+'"':"")+">"+n.getUTCDate()+"</td>");n.getUTCDay()==this.o.weekEnd&&f.push("</tr>");n.setUTCDate(n.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(f.join(""));m=this.date&&this.date.getUTCFullYear();f=this.picker.find(".datepicker-months").find("th:eq(1)").text(e).end().find("span").removeClass("active");m&&m==e&&f.eq(this.date.getUTCMonth()).addClass("active");(e<b||e>k)&&f.addClass("disabled");
e==b&&f.slice(0,g).addClass("disabled");e==k&&f.slice(l+1).addClass("disabled");f="";e=10*parseInt(e/10,10);g=this.picker.find(".datepicker-years").find("th:eq(1)").text(e+"-"+(e+9)).end().find("td");--e;for(l=-1;11>l;l++)f+='<span class="year'+(-1==l?" old":10==l?" new":"")+(m==e?" active":"")+(e<b||e>k?" disabled":"")+'">'+e+"</span>",e+=1;g.html(f)},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getUTCFullYear(),a=a.getUTCMonth();switch(this.viewMode){case 0:-Infinity!==
this.o.startDate&&b<=this.o.startDate.getUTCFullYear()&&a<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()&&a>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:-Infinity!==this.o.startDate&&b<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):
this.picker.find(".prev").css({visibility:"visible"}),Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(b){b.preventDefault();b=a(b.target).closest("span, td, th");if(1==b.length)switch(b[0].nodeName.toLowerCase()){case "th":switch(b[0].className){case "datepicker-switch":this.showMode(1);break;case "prev":case "next":b=q.modes[this.viewMode].navStep*("prev"==b[0].className?
-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,b);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,b)}this.fill();break;case "today":b=new Date;b=h(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0);this.showMode(-2);this._setDate(b,"linked"==this.o.todayBtn?null:"view");break;case "clear":var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input"));e&&e.val("").change();this._trigger("changeDate");this.update();this.o.autoclose&&this.hide()}break;
case "span":if(!b.is(".disabled")){this.viewDate.setUTCDate(1);if(b.is(".month")){e=1;var f=b.parent().find("span").index(b),g=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(f);this._trigger("changeMonth",this.viewDate);1===this.o.minViewMode&&this._setDate(h(g,f,e,0,0,0,0))}else g=parseInt(b.text(),10)||0,e=1,f=0,this.viewDate.setUTCFullYear(g),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(h(g,f,e,0,0,0,0));this.showMode(-1);this.fill()}break;case "td":b.is(".day")&&
!b.is(".disabled")&&(e=parseInt(b.text(),10)||1,g=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),b.is(".old")?0===f?(f=11,--g):--f:b.is(".new")&&(11==f?(f=0,g+=1):f+=1),this._setDate(h(g,f,e,0,0,0,0)))}},_setDate:function(a,b){b&&"date"!=b||(this.date=new Date(a));b&&"view"!=b||(this.viewDate=new Date(a));this.fill();this.setValue();this._trigger("changeDate");var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input"));e&&(e.change(),!this.o.autoclose||b&&"date"!=
b||this.hide())},moveMonth:function(a,b){if(!b)return a;var e=new Date(a.valueOf()),f=e.getUTCDate(),g=e.getUTCMonth(),h=Math.abs(b),k;b=0<b?1:-1;if(1==h){if(h=-1==b?function(){return e.getUTCMonth()==g}:function(){return e.getUTCMonth()!=k},k=g+b,e.setUTCMonth(k),0>k||11<k)k=(k+12)%12}else{for(var l=0;l<h;l++)e=this.moveMonth(e,b);k=e.getUTCMonth();e.setUTCDate(f);h=function(){return k!=e.getUTCMonth()}}for(;h();)e.setUTCDate(--f),e.setUTCMonth(k);return e},moveYear:function(a,b){return this.moveMonth(a,
12*b)},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(this.picker.is(":not(:visible)"))27==a.keyCode&&this.show();else{var b=!1,e,f,g;switch(a.keyCode){case 27:this.hide();a.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37==a.keyCode?-1:1;a.ctrlKey?(f=this.moveYear(this.date,e),g=this.moveYear(this.viewDate,e)):a.shiftKey?(f=this.moveMonth(this.date,e),g=this.moveMonth(this.viewDate,e)):(f=new Date(this.date),f.setUTCDate(this.date.getUTCDate()+
e),g=new Date(this.viewDate),g.setUTCDate(this.viewDate.getUTCDate()+e));this.dateWithinRange(f)&&(this.date=f,this.viewDate=g,this.setValue(),this.update(),a.preventDefault(),b=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38==a.keyCode?-1:1;a.ctrlKey?(f=this.moveYear(this.date,e),g=this.moveYear(this.viewDate,e)):a.shiftKey?(f=this.moveMonth(this.date,e),g=this.moveMonth(this.viewDate,e)):(f=new Date(this.date),f.setUTCDate(this.date.getUTCDate()+7*e),g=new Date(this.viewDate),
g.setUTCDate(this.viewDate.getUTCDate()+7*e));this.dateWithinRange(f)&&(this.date=f,this.viewDate=g,this.setValue(),this.update(),a.preventDefault(),b=!0);break;case 13:this.hide();a.preventDefault();break;case 9:this.hide()}if(b){this._trigger("changeDate");var h;this.isInput?h=this.element:this.component&&(h=this.element.find("input"));h&&h.change()}}},showMode:function(a){a&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+a)));this.picker.find(">div").hide().filter(".datepicker-"+
q.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var f=function(b,e){this.element=a(b);this.inputs=a.map(e.inputs,function(a){return a.jquery?a[0]:a});delete e.inputs;a(this.inputs).datepicker(e).bind("changeDate",a.proxy(this.dateUpdated,this));this.pickers=a.map(this.inputs,function(b){return a(b).data("datepicker")});this.updateDates()};f.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(a){return a.date});this.updateRanges()},updateRanges:function(){var b=
a.map(this.dates,function(a){return a.valueOf()});a.each(this.pickers,function(a,e){e.setRange(b)})},dateUpdated:function(b){var e=a(b.target).data("datepicker").getUTCDate();b=a.inArray(b.target,this.inputs);var f=this.inputs.length;if(-1!=b){if(e<this.dates[b])for(;0<=b&&e<this.dates[b];)this.pickers[b--].setUTCDate(e);else if(e>this.dates[b])for(;b<f&&e>this.dates[b];)this.pickers[b++].setUTCDate(e);this.updateDates()}},remove:function(){a.map(this.pickers,function(a){a.remove()});delete this.element.data().datepicker}};
var l=a.fn.datepicker,k=a.fn.datepicker=function(h){var k=Array.apply(null,arguments);k.shift();var l;this.each(function(){var m=a(this),p=m.data("datepicker"),q="object"==typeof h&&h;if(!p){var p=b(this,"date"),B=a.extend({},n,p,q),B=e(B.language),q=a.extend({},n,B,p,q);m.is(".input-daterange")||q.inputs?(p={inputs:q.inputs||m.find("input").toArray()},m.data("datepicker",p=new f(this,a.extend(q,p)))):m.data("datepicker",p=new g(this,q))}if("string"==typeof h&&"function"==typeof p[h]&&(l=p[h].apply(p,
k),void 0!==l))return!1});return void 0!==l?l:this},n=a.fn.datepicker.defaults={autoclose:!1,beforeShowDay:a.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},m=a.fn.datepicker.locale_opts=["format","rtl","weekStart"];a.fn.datepicker.Constructor=g;var p=a.fn.datepicker.dates={en:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
daysShort:"Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),daysMin:"Su Mo Tu We Th Fr Sa Su".split(" "),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),today:"Today",clear:"Clear"}},q={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return 0===a%4&&0!==a%
100||0===a%400},getDaysInMonth:function(a,b){return[31,q.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(a){var b=a.replace(this.validParts,"\x00").split("\x00");a=a.match(this.validParts);if(!b||!b.length||!a||0===a.length)throw Error("Invalid date format.");return{separators:b,parts:a}},parseDate:function(b,e,f){if(b instanceof Date)return b;"string"===typeof e&&(e=q.parseFormat(e));
if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(b)){var k=/([\-+]\d+)([dmwy])/,l=b.match(/([\-+]\d+)([dmwy])/g),m;b=new Date;for(var n=0;n<l.length;n++)switch(e=k.exec(l[n]),m=parseInt(e[1]),e[2]){case "d":b.setUTCDate(b.getUTCDate()+m);break;case "m":b=g.prototype.moveMonth.call(g.prototype,b,m);break;case "w":b.setUTCDate(b.getUTCDate()+7*m);break;case "y":b=g.prototype.moveYear.call(g.prototype,b,m)}return h(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),0,0,0)}l=b&&b.match(this.nonpunctuation)||
[];b=new Date;var k={},E="yyyy yy M MM m mm d dd".split(" ");m={yyyy:function(a,b){return a.setUTCFullYear(b)},yy:function(a,b){return a.setUTCFullYear(2E3+b)},m:function(a,b){for(--b;0>b;)b+=12;b%=12;for(a.setUTCMonth(b);a.getUTCMonth()!=b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};var w;m.M=m.MM=m.mm=m.m;m.dd=m.d;b=h(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0);var A=e.parts.slice();l.length!=A.length&&(A=a(A).filter(function(b,e){return-1!==a.inArray(e,
E)}).toArray());if(l.length==A.length){for(var n=0,D=A.length;n<D;n++){w=parseInt(l[n],10);e=A[n];if(isNaN(w))switch(e){case "MM":w=a(p[f].months).filter(function(){var a=this.slice(0,l[n].length),b=l[n].slice(0,a.length);return a==b});w=a.inArray(w[0],p[f].months)+1;break;case "M":w=a(p[f].monthsShort).filter(function(){var a=this.slice(0,l[n].length),b=l[n].slice(0,a.length);return a==b}),w=a.inArray(w[0],p[f].monthsShort)+1}k[e]=w}for(n=0;n<E.length;n++)if(e=E[n],e in k&&!isNaN(k[e]))m[e](b,k[e])}return b},
formatDate:function(b,e,f){"string"===typeof e&&(e=q.parseFormat(e));f={d:b.getUTCDate(),D:p[f].daysShort[b.getUTCDay()],DD:p[f].days[b.getUTCDay()],m:b.getUTCMonth()+1,M:p[f].monthsShort[b.getUTCMonth()],MM:p[f].months[b.getUTCMonth()],yy:b.getUTCFullYear().toString().substring(2),yyyy:b.getUTCFullYear()};f.dd=(10>f.d?"0":"")+f.d;f.mm=(10>f.m?"0":"")+f.m;b=[];for(var g=a.extend([],e.separators),h=0,k=e.parts.length;h<=k;h++)g.length&&b.push(g.shift()),b.push(f[e.parts[h]]);return b.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',
contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};q.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+q.headTemplate+"<tbody></tbody>"+q.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+q.headTemplate+q.contTemplate+q.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+
q.headTemplate+q.contTemplate+q.footTemplate+"</table></div></div>";a.fn.datepicker.DPGlobal=q;a.fn.datepicker.noConflict=function(){a.fn.datepicker=l;return this};a(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(b){var e=a(this);e.data("datepicker")||(b.preventDefault(),k.call(e,"show"))});a(function(){k.call(a('[data-provide="datepicker-inline"]'))})})(window.jQuery);
(function(a){a.fn.bdatepicker=a.fn.datepicker.noConflict();a.fn.datepicker||(a.fn.datepicker=a.fn.bdatepicker);var h=function(a){this.init("date",a,h.defaults);this.initPicker(a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{initPicker:function(b,e){this.options.viewformat||(this.options.viewformat=this.options.format);b.datepicker=a.fn.editableutils.tryParseJson(b.datepicker,!0);this.options.datepicker=a.extend({},e.datepicker,b.datepicker,{format:this.options.viewformat});
this.options.datepicker.language=this.options.datepicker.language||"en";this.dpg=a.fn.bdatepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker);this.options.clear&&(this.$clear=a('<a href="#"></a>').html(this.options.clear).click(a.proxy(function(a){a.preventDefault();a.stopPropagation();this.clear()},this)),this.$tpl.parent().append(a('<div class="editable-clear">').append(this.$clear)))},
value2html:function(a,e){var g=a?this.dpg.formatDate(a,this.parsedViewFormat,this.options.datepicker.language):"";h.superclass.value2html.call(this,g,e)},html2value:function(a){return this.parseDate(a,this.parsedViewFormat)},value2str:function(a){return a?this.dpg.formatDate(a,this.parsedFormat,this.options.datepicker.language):""},str2value:function(a){return this.parseDate(a,this.parsedFormat)},value2submit:function(a){return this.value2str(a)},value2input:function(a){this.$input.bdatepicker("update",
a)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null;this.$input.find(".active").removeClass("active");this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(b){if(!a(b.currentTarget).is(".old")&&!a(b.currentTarget).is(".new")){var e=a(this).closest("form");setTimeout(function(){e.submit()},200)}})},parseDate:function(a,e){var g=
null,f;a&&(g=this.dpg.parseDate(a,e,this.options.datepicker.language),"string"===typeof a&&(f=this.dpg.formatDate(g,e,this.options.datepicker.language),a!==f&&(g=null)));return g}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"});a.fn.editabletypes.date=h})(window.jQuery);
(function(a){var h=function(a){this.init("datefield",a,h.defaults);this.initPicker(a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.date);a.extend(h.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.bdatepicker(this.options.datepicker);this.$input.off("focus keydown");this.$input.keyup(a.proxy(function(){this.$tpl.removeData("date");this.$tpl.bdatepicker("update")},this))},value2input:function(a){this.$input.val(a?
this.dpg.formatDate(a,this.parsedViewFormat,this.options.datepicker.language):"");this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){a.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});h.defaults=a.extend({},a.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,
startView:0,minViewMode:0,autoclose:!0}});a.fn.editabletypes.datefield=h})(window.jQuery);
(function(a){var h=function(a){this.init("datetime",a,h.defaults);this.initPicker(a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.abstractinput);a.extend(h.prototype,{initPicker:function(b,e){this.options.viewformat||(this.options.viewformat=this.options.format);b.datetimepicker=a.fn.editableutils.tryParseJson(b.datetimepicker,!0);this.options.datetimepicker=a.extend({},e.datetimepicker,b.datetimepicker,{format:this.options.viewformat});this.options.datetimepicker.language=this.options.datetimepicker.language||
"en";this.dpg=a.fn.datetimepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker);this.$input.on("changeMode",function(b){var e=a(this).closest("form").parent();setTimeout(function(){e.triggerHandler("resize")},0)});this.options.clear&&(this.$clear=a('<a href="#"></a>').html(this.options.clear).click(a.proxy(function(a){a.preventDefault();
a.stopPropagation();this.clear()},this)),this.$tpl.parent().append(a('<div class="editable-clear">').append(this.$clear)))},value2html:function(a,e){var g=a?this.dpg.formatDate(this.toUTC(a),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";if(e)h.superclass.value2html.call(this,g,e);else return g},html2value:function(a){return(a=this.parseDate(a,this.parsedViewFormat))?this.fromUTC(a):null},value2str:function(a){return a?this.dpg.formatDate(this.toUTC(a),this.parsedFormat,
this.options.datetimepicker.language,this.options.formatType):""},str2value:function(a){return(a=this.parseDate(a,this.parsedFormat))?this.fromUTC(a):null},value2submit:function(a){return this.value2str(a)},value2input:function(a){a&&this.$input.data("datetimepicker").setDate(a)},input2value:function(){var a=this.$input.data("datetimepicker");return a.date?a.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null;this.$input.find(".active").removeClass("active");
this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(b){var e=a(this).closest("form");setTimeout(function(){e.submit()},200)})},toUTC:function(a){return a?new Date(a.valueOf()-6E4*a.getTimezoneOffset()):a},fromUTC:function(a){return a?new Date(a.valueOf()+6E4*a.getTimezoneOffset()):a},parseDate:function(a,e){var g=null,f;a&&(g=this.dpg.parseDate(a,e,this.options.datetimepicker.language,this.options.formatType),"string"===
typeof a&&(f=this.dpg.formatDate(g,e,this.options.datetimepicker.language,this.options.formatType),a!==f&&(g=null)));return g}});h.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"});a.fn.editabletypes.datetime=h})(window.jQuery);
(function(a){var h=function(a){this.init("datetimefield",a,h.defaults);this.initPicker(a,h.defaults)};a.fn.editableutils.inherit(h,a.fn.editabletypes.datetime);a.extend(h.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.datetimepicker(this.options.datetimepicker);this.$input.off("focus keydown");this.$input.keyup(a.proxy(function(){this.$tpl.removeData("date");this.$tpl.datetimepicker("update")},this))},value2input:function(a){this.$input.val(this.value2html(a));
this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){a.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});h.defaults=a.extend({},a.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}});a.fn.editabletypes.datetimefield=h})(window.jQuery);(function(a,h,b,e){function g(b,e){this.element=a(b);this.settings=a.extend({},l,e);this._defaults=l;this._name="bootstrapDropdownHover";this.init()}function f(b){a("body").one("touchstart.dropdownhover",function(){m=!0});a("body").one("mouseenter.dropdownhover",function(){m||(p=!0)});a(".dropdown-toggle, .dropdown-menu",b.element.parent()).on("mouseenter.dropdownhover",function(){p&&!a(this).is(":hover")&&(p=!1);p&&(clearTimeout(k),b.element.parent().hasClass("open")||(n=!1,b.element.dropdown("toggle")))});
a(".dropdown-toggle, .dropdown-menu",b.element.parent()).on("mouseleave.dropdownhover",function(){});b.element.on("click.dropdownhover",function(a){if(p)switch(b.settings.clickBehavior){case "disable":a.preventDefault();a.stopImmediatePropagation();break;case "sticky":n?n=!1:(n=!0,b.element.parent().hasClass("open")&&(a.stopImmediatePropagation(),a.preventDefault()))}})}var l={clickBehavior:"sticky",hideTimeout:200},k,n=!1,m=!1,p=!1;g.prototype={init:function(){this.setClickBehavior(this.settings.clickBehavior);
this.setHideTimeout(this.settings.hideTimeout);f(this);return this.element},setClickBehavior:function(a){this.settings.clickBehavior=a;return this.element},setHideTimeout:function(a){this.settings.hideTimeout=a;return this.element},destroy:function(){clearTimeout(k);a(".dropdown-toggle, .dropdown-menu",this.element.parent()).off(".dropdownhover");a(".dropdown-toggle, .dropdown-menu",this.element.parent()).off(".dropdown");this.element.off(".dropdownhover");a("body").off(".dropdownhover");this.element.data("plugin_bootstrapDropdownHover",
null);return this.element}};a.fn.bootstrapDropdownHover=function(f){var h=arguments;if(f===e||"object"===typeof f)return a.contains(b,a(this)[0])||a('[data-toggle="dropdown"]').each(function(b,e){a(e).bootstrapDropdownHover(f)}),this.each(function(){a(this).hasClass("dropdown-toggle")&&"dropdown"===a(this).data("toggle")?a.data(this,"plugin_bootstrapDropdownHover")||a.data(this,"plugin_bootstrapDropdownHover",new g(this,f)):a('[data-toggle="dropdown"]',this).each(function(b,e){a(e).bootstrapDropdownHover(f)})});
if("string"===typeof f&&"_"!==f[0]&&"init"!==f){var k;this.each(function(){var b=a.data(this,"plugin_bootstrapDropdownHover");b instanceof g&&"function"===typeof b[f]&&(k=b[f].apply(b,Array.prototype.slice.call(h,1)))});return k!==e?k:this}}})(jQuery,window,document);(function(a){var h=function(b,e){b=a(b);var g=this,f=[],h=a.extend({},a.fn.bootstrapWizard.defaults,e),k=null,n=null;this.rebindClick=function(a,b){a.unbind("click",b).bind("click",b)};this.fixNavigationButtons=function(){k.length||(n.find("a:first").tab("show"),k=n.find('li:has([data-toggle="tab"]):first'));a(h.previousSelector,b).toggleClass("disabled",g.firstIndex()>=g.currentIndex());a(h.nextSelector,b).toggleClass("disabled",g.currentIndex()>=g.navigationLength());a(h.nextSelector,b).toggleClass("hidden",
g.currentIndex()>=g.navigationLength()&&0<a(h.finishSelector,b).length);a(h.lastSelector,b).toggleClass("hidden",g.currentIndex()>=g.navigationLength()&&0<a(h.finishSelector,b).length);a(h.finishSelector,b).toggleClass("hidden",g.currentIndex()<g.navigationLength());a(h.backSelector,b).toggleClass("disabled",0==f.length);a(h.backSelector,b).toggleClass("hidden",g.currentIndex()>=g.navigationLength()&&0<a(h.finishSelector,b).length);g.rebindClick(a(h.nextSelector,b),g.next);g.rebindClick(a(h.previousSelector,
b),g.previous);g.rebindClick(a(h.lastSelector,b),g.last);g.rebindClick(a(h.firstSelector,b),g.first);g.rebindClick(a(h.finishSelector,b),g.finish);g.rebindClick(a(h.backSelector,b),g.back);if(h.onTabShow&&"function"===typeof h.onTabShow&&!1===h.onTabShow(k,n,g.currentIndex()))return!1};this.next=function(a){if(b.hasClass("last")||h.onNext&&"function"===typeof h.onNext&&!1===h.onNext(k,n,g.nextIndex()))return!1;a=g.currentIndex();var e=g.nextIndex();e>g.navigationLength()||(f.push(a),n.find('li:has([data-toggle="tab"])'+
(h.withVisible?":visible":"")+":eq("+e+") a").tab("show"))};this.previous=function(a){if(b.hasClass("first")||h.onPrevious&&"function"===typeof h.onPrevious&&!1===h.onPrevious(k,n,g.previousIndex()))return!1;a=g.currentIndex();var e=g.previousIndex();0>e||(f.push(a),n.find('li:has([data-toggle="tab"])'+(h.withVisible?":visible":"")+":eq("+e+") a").tab("show"))};this.first=function(a){if(h.onFirst&&"function"===typeof h.onFirst&&!1===h.onFirst(k,n,g.firstIndex())||b.hasClass("disabled"))return!1;f.push(g.currentIndex());
n.find('li:has([data-toggle="tab"]):eq(0) a').tab("show")};this.last=function(a){if(h.onLast&&"function"===typeof h.onLast&&!1===h.onLast(k,n,g.lastIndex())||b.hasClass("disabled"))return!1;f.push(g.currentIndex());n.find('li:has([data-toggle="tab"]):eq('+g.navigationLength()+") a").tab("show")};this.finish=function(a){if(h.onFinish&&"function"===typeof h.onFinish)h.onFinish(k,n,g.lastIndex())};this.back=function(){if(0==f.length)return null;var a=f.pop();if(h.onBack&&"function"===typeof h.onBack&&
!1===h.onBack(k,n,a))return f.push(a),!1;b.find('li:has([data-toggle="tab"]):eq('+a+") a").tab("show")};this.currentIndex=function(){return n.find('li:has([data-toggle="tab"])').index(k)};this.firstIndex=function(){return 0};this.lastIndex=function(){return g.navigationLength()};this.getIndex=function(a){return n.find('li:has([data-toggle="tab"])').index(a)};this.nextIndex=function(){return n.find('li:has([data-toggle="tab"])').index(k)+1};this.previousIndex=function(){return n.find('li:has([data-toggle="tab"])').index(k)-
1};this.navigationLength=function(){return n.find('li:has([data-toggle="tab"])').length-1};this.activeTab=function(){return k};this.nextTab=function(){return n.find('li:has([data-toggle="tab"]):eq('+(g.currentIndex()+1)+")").length?n.find('li:has([data-toggle="tab"]):eq('+(g.currentIndex()+1)+")"):null};this.previousTab=function(){return 0>=g.currentIndex()?null:n.find('li:has([data-toggle="tab"]):eq('+parseInt(g.currentIndex()-1)+")")};this.show=function(a){a=isNaN(a)?b.find('li:has([data-toggle="tab"]) a[href=#'+
a+"]"):b.find('li:has([data-toggle="tab"]):eq('+a+") a");0<a.length&&(f.push(g.currentIndex()),a.tab("show"))};this.disable=function(a){n.find('li:has([data-toggle="tab"]):eq('+a+")").addClass("disabled")};this.enable=function(a){n.find('li:has([data-toggle="tab"]):eq('+a+")").removeClass("disabled")};this.hide=function(a){n.find('li:has([data-toggle="tab"]):eq('+a+")").hide()};this.display=function(a){n.find('li:has([data-toggle="tab"]):eq('+a+")").show()};this.remove=function(b){var e="undefined"!=
typeof b[1]?b[1]:!1;b=n.find('li:has([data-toggle="tab"]):eq('+b[0]+")");e&&(e=b.find("a").attr("href"),a(e).remove());b.remove()};var m=function(b){var e=n.find('li:has([data-toggle="tab"])');b=e.index(a(b.currentTarget).parent('li:has([data-toggle="tab"])'));e=a(e[b]);if(h.onTabClick&&"function"===typeof h.onTabClick&&!1===h.onTabClick(k,n,g.currentIndex(),b,e))return!1},p=function(b){b=a(b.target).parent();var e=n.find('li:has([data-toggle="tab"])').index(b);if(b.hasClass("disabled")||h.onTabChange&&
"function"===typeof h.onTabChange&&!1===h.onTabChange(k,n,g.currentIndex(),e))return!1;k=b;g.fixNavigationButtons()};this.resetWizard=function(){a('a[data-toggle="tab"]',n).off("click",m);a('a[data-toggle="tab"]',n).off("shown shown.bs.tab",p);n=b.find("ul:first",b);k=n.find('li:has([data-toggle="tab"]).active',b);a('a[data-toggle="tab"]',n).on("click",m);a('a[data-toggle="tab"]',n).on("shown shown.bs.tab",p);g.fixNavigationButtons()};n=b.find("ul:first",b);k=n.find('li:has([data-toggle="tab"]).active',
b);n.hasClass(h.tabClass)||n.addClass(h.tabClass);if(h.onInit&&"function"===typeof h.onInit)h.onInit(k,n,0);if(h.onShow&&"function"===typeof h.onShow)h.onShow(k,n,g.nextIndex());a('a[data-toggle="tab"]',n).on("click",m);a('a[data-toggle="tab"]',n).on("shown shown.bs.tab",p)};a.fn.bootstrapWizard=function(b){if("string"==typeof b){var e=Array.prototype.slice.call(arguments,1);1===e.length&&e.toString();return this.data("bootstrapWizard")[b](e)}return this.each(function(e){e=a(this);if(!e.data("bootstrapWizard")){var f=
new h(e,b);e.data("bootstrapWizard",f);f.fixNavigationButtons()}})};a.fn.bootstrapWizard.defaults={withVisible:!0,tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",finishSelector:".wizard li.finish",backSelector:".wizard li.back",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onFinish:null,onBack:null,onTabChange:null,onTabClick:null,onTabShow:null}})(jQuery);(function(a,h){"function"===typeof define&&define.amd?define("sifter",h):"object"===typeof exports?module.exports=h():a.Sifter=h()})(this,function(){var a=function(a,b){this.items=a;this.settings=b||{diacritics:!0}};a.prototype.tokenize=function(a){a=(String(a||"").toLowerCase()+"").replace(/^\s+|\s+$|/g,"");if(!a||!a.length)return[];var b,e,f,h=[],q=a.split(/ +/);a=0;for(b=q.length;a<b;a++){e=(q[a]+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");if(this.settings.diacritics)for(f in g)g.hasOwnProperty(f)&&
(e=e.replace(new RegExp(f,"g"),g[f]));h.push({string:q[a],regex:new RegExp(e,"i")})}return h};a.prototype.iterator=function(a,b){(e(a)?Array.prototype.forEach||function(a){for(var b=0,e=this.length;b<e;b++)a(this[b],b,this)}:function(a){for(var b in this)this.hasOwnProperty(b)&&a(this[b],b,this)}).apply(a,[b])};a.prototype.getScoreFunction=function(a,b){var e,f,g;a=this.prepareSearch(a,b);f=a.tokens;e=a.options.fields;g=f.length;var h=function(a,b){var e,f;if(!a)return 0;a=String(a||"");f=a.search(b.regex);
if(-1===f)return 0;e=b.string.length/a.length;0===f&&(e+=.5);return e},r=function(){var a=e.length;return a?1===a?function(a,b){return h(b[e[0]],a)}:function(b,f){for(var g=0,k=0;g<a;g++)k+=h(f[e[g]],b);return k/a}:function(){return 0}}();return g?1===g?function(a){return r(f[0],a)}:"and"===a.options.conjunction?function(a){for(var b,e=0,h=0;e<g;e++){b=r(f[e],a);if(0>=b)return 0;h+=b}return h/g}:function(a){for(var b=0,e=0;b<g;b++)e+=r(f[b],a);return e/g}:function(){return 0}};a.prototype.getSortFunction=
function(a,b){var e,f,g,q,r,t,v,x,y,z;g=this;a=g.prepareSearch(a,b);z=!a.query&&b.sort_empty||b.sort;y=function(a,b){return"$score"===a?b.score:g.items[b.id][a]};r=[];if(z)for(e=0,f=z.length;e<f;e++)(a.query||"$score"!==z[e].field)&&r.push(z[e]);if(a.query){z=!0;e=0;for(f=r.length;e<f;e++)if("$score"===r[e].field){z=!1;break}z&&r.unshift({field:"$score",direction:"desc"})}else for(e=0,f=r.length;e<f;e++)if("$score"===r[e].field){r.splice(e,1);break}x=[];e=0;for(f=r.length;e<f;e++)x.push("desc"===
r[e].direction?-1:1);return(t=r.length)?1===t?(q=r[0].field,v=x[0],function(a,b){return v*h(y(q,a),y(q,b))}):function(a,b){var e,f;for(e=0;e<t;e++)if(f=r[e].field,f=x[e]*h(y(f,a),y(f,b)))return f;return 0}:null};a.prototype.prepareSearch=function(a,f){if("object"===typeof a)return a;f=b({},f);var g=f.fields,h=f.sort,p=f.sort_empty;g&&!e(g)&&(f.fields=[g]);h&&!e(h)&&(f.sort=[h]);p&&!e(p)&&(f.sort_empty=[p]);return{options:f,query:String(a||"").toLowerCase(),tokens:this.tokenize(a),total:0,items:[]}};
a.prototype.search=function(a,b){var e,f,g,h;f=this.prepareSearch(a,b);b=f.options;a=f.query;h=b.score||this.getScoreFunction(f);a.length?this.iterator(this.items,function(a,g){e=h(a);(!1===b.filter||0<e)&&f.items.push({score:e,id:g})}):this.iterator(this.items,function(a,b){f.items.push({score:1,id:b})});(g=this.getSortFunction(f,b))&&f.items.sort(g);f.total=f.items.length;"number"===typeof b.limit&&(f.items=f.items.slice(0,b.limit));return f};var h=function(a,b){if("number"===typeof a&&"number"===
typeof b)return a>b?1:a<b?-1:0;a=f(String(a||""));b=f(String(b||""));return a>b?1:b>a?-1:0},b=function(a,b){var e,f,g,h;e=1;for(f=arguments.length;e<f;e++)if(h=arguments[e])for(g in h)h.hasOwnProperty(g)&&(a[g]=h[g]);return a},e=Array.isArray||$&&$.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},g={a:"[a\u00c0\u00c1\u00c2\u00c3\u00c4\u00c5\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5\u0100\u0101\u0105\u0104]",c:"[c\u00c7\u00e7\u0107\u0106\u010d\u010c]",d:"[d\u0111\u0110\u010f\u010e]",
e:"[e\u00c8\u00c9\u00ca\u00cb\u00e8\u00e9\u00ea\u00eb\u011b\u011a\u0112\u0113\u0119\u0118]",i:"[i\u00cc\u00cd\u00ce\u00cf\u00ec\u00ed\u00ee\u00ef\u012a\u012b]",l:"[l\u0142\u0141]",n:"[n\u00d1\u00f1\u0148\u0147\u0144\u0143]",o:"[o\u00d2\u00d3\u00d4\u00d5\u00d5\u00d6\u00d8\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8\u014c\u014d]",r:"[r\u0159\u0158]",s:"[s\u0160\u0161\u015b\u015a]",t:"[t\u0165\u0164]",u:"[u\u00d9\u00da\u00db\u00dc\u00f9\u00fa\u00fb\u00fc\u016f\u016e\u016a\u016b]",y:"[y\u0178\u00ff\u00fd\u00dd]",
z:"[z\u017d\u017e\u017c\u017b\u017a\u0179]"},f=function(){var a,b,e,f,h="",q={};for(e in g)if(g.hasOwnProperty(e))for(f=g[e].substring(2,g[e].length-1),h+=f,a=0,b=f.length;a<b;a++)q[f.charAt(a)]=e;var r=new RegExp("["+h+"]","g");return function(a){return a.replace(r,function(a){return q[a]}).toLowerCase()}}();return a});
(function(a,h){"function"===typeof define&&define.amd?define("microplugin",h):"object"===typeof exports?module.exports=h():a.MicroPlugin=h()})(this,function(){var a={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}};return{mixin:function(h){h.plugins={};h.prototype.initializePlugins=function(b){var e,g,f=[];this.plugins={names:[],settings:{},requested:{},loaded:{}};if(a.isArray(b))for(e=0,g=b.length;e<g;e++)"string"===typeof b[e]?f.push(b[e]):(this.plugins.settings[b[e].name]=
b[e].options,f.push(b[e].name));else if(b)for(e in b)b.hasOwnProperty(e)&&(this.plugins.settings[e]=b[e],f.push(e));for(;f.length;)this.require(f.shift())};h.prototype.loadPlugin=function(a){var e=this.plugins,g=h.plugins[a];if(!h.plugins.hasOwnProperty(a))throw Error('Unable to find "'+a+'" plugin');e.requested[a]=!0;e.loaded[a]=g.fn.apply(this,[this.plugins.settings[a]||{}]);e.names.push(a)};h.prototype.require=function(a){var e=this.plugins;if(!this.plugins.loaded.hasOwnProperty(a)){if(e.requested[a])throw Error('Plugin has circular dependency ("'+
a+'")');this.loadPlugin(a)}return e.loaded[a]};h.define=function(a,e){h.plugins[a]={name:a,fn:e}}}}});
(function(a,h){"function"===typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],h):"object"===typeof exports?module.exports=h(require("jquery"),require("sifter"),require("microplugin")):a.Selectize=h(a.jQuery,a.Sifter,a.MicroPlugin)})(this,function(a,h,b){var e=function(a,b){if("string"!==typeof b||b.length){var e="string"===typeof b?new RegExp(b,"i"):b,f=function(a){var b=0;if(3===a.nodeType){var g=a.data.search(e);if(0<=g&&0<a.data.length){var h=a.data.match(e),b=document.createElement("span");
b.className="highlight";a=a.splitText(g);a.splitText(h[0].length);g=a.cloneNode(!0);b.appendChild(g);a.parentNode.replaceChild(b,a);b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(g=0;g<a.childNodes.length;++g)g+=f(a.childNodes[g]);return b};return a.each(function(){f(this)})}},g=function(){};g.prototype={on:function(a,b){this._events=this._events||{};this._events[a]=this._events[a]||[];this._events[a].push(b)},off:function(a,b){var e=arguments.length;if(0===e)return delete this._events;
if(1===e)return delete this._events[a];this._events=this._events||{};!1!==a in this._events&&this._events[a].splice(this._events[a].indexOf(b),1)},trigger:function(a){this._events=this._events||{};if(!1!==a in this._events)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}};g.mixin=function(a){for(var b=["on","off","trigger"],e=0;e<b.length;e++)a.prototype[b[e]]=g.prototype[b[e]]};var f=/Mac/.test(navigator.userAgent),l=f?91:17,k=f?18:
17,n=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,m=function(a){return"undefined"===typeof a||null===a?null:"boolean"===typeof a?a?"1":"0":a+""},p=function(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},q=function(a){return(a+"").replace(/\$/g,"$$$$")},r={before:function(a,b,e){var f=a[b];a[b]=function(){e.apply(a,arguments);return f.apply(a,arguments)}},after:function(a,b,e){var f=a[b];a[b]=function(){var b=
f.apply(a,arguments);e.apply(a,arguments);return b}}},t=function(a){var b=!1;return function(){b||(b=!0,a.apply(this,arguments))}},v=function(a,b){var e;return function(){var f=this,g=arguments;window.clearTimeout(e);e=window.setTimeout(function(){a.apply(f,g)},b)}},x=function(a,b,e){var f,g=a.trigger,h={};a.trigger=function(){var e=arguments[0];if(-1!==b.indexOf(e))h[e]=arguments;else return g.apply(a,arguments)};e.apply(a,[]);a.trigger=g;for(f in h)h.hasOwnProperty(f)&&g.apply(a,h[f])},y=function(a,
b,e,f){a.on(b,e,function(b){for(var e=b.target;e&&e.parentNode!==a[0];)e=e.parentNode;b.currentTarget=e;return f.apply(this,[b])})},z=function(a){var b={};if("selectionStart"in a)b.start=a.selectionStart,b.length=a.selectionEnd-b.start;else if(document.selection){a.focus();var e=document.selection.createRange(),f=document.selection.createRange().text.length;e.moveStart("character",-a.value.length);b.start=e.text.length-f;b.length=f}return b},B=function(b){var e=null,f=function(f,g){var h,k,l;f=f||
window.event||{};g=g||{};if(!f.metaKey&&!f.altKey&&(g.force||!1!==b.data("grow"))){h=b.val();f.type&&"keydown"===f.type.toLowerCase()&&(k=f.keyCode,l=97<=k&&122>=k||65<=k&&90>=k||48<=k&&57>=k||32===k,46===k||8===k?(l=z(b[0]),l.length?h=h.substring(0,l.start)+h.substring(l.start+l.length):8===k&&l.start?h=h.substring(0,l.start-1)+h.substring(l.start+1):46===k&&"undefined"!==typeof l.start&&(h=h.substring(0,l.start)+h.substring(l.start+1))):l&&(k=f.shiftKey,l=String.fromCharCode(f.keyCode),l=k?l.toUpperCase():
l.toLowerCase(),h+=l));k=b.attr("placeholder");!h&&k&&(h=k);if(h){h=a("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(h).appendTo("body");k=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];var m,n={};if(k)for(l=0,m=k.length;l<m;l++)n[k[l]]=b.css(k[l]);else n=b.css();h.css(n);k=h.width();h.remove();h=k}else h=0;h+=4;h!==e&&(e=h,b.width(h),b.triggerHandler("resize"))}};b.on("keydown keyup update blur",f);f()},E=function(b,
e){var f,g;f=b[0];f.selectize=this;g=(g=(g=window.getComputedStyle&&window.getComputedStyle(f,null))?g.getPropertyValue("direction"):f.currentStyle&&f.currentStyle.direction)||b.parents("[dir]:first").attr("dir")||"";a.extend(this,{order:0,settings:e,$input:b,tabIndex:b.attr("tabindex")||"",tagType:"select"===f.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(g),eventNS:".selectize"+ ++E.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:b.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,
isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===e.loadThrottle?this.onSearchChange:v(this.onSearchChange,e.loadThrottle)});this.sifter=new h(this.options,{diacritics:e.diacritics});if(this.settings.options){f=0;for(g=this.settings.options.length;f<
g;f++)this.registerOption(this.settings.options[f]);delete this.settings.options}if(this.settings.optgroups){f=0;for(g=this.settings.optgroups.length;f<g;f++)this.registerOptionGroup(this.settings.optgroups[f]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi");"boolean"!==typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode);this.initializePlugins(this.settings.plugins);this.setupCallbacks();this.setupTemplates();
this.setup()};g.mixin(E);b.mixin(E);a.extend(E.prototype,{setup:function(){var b=this,e=b.settings,g=b.eventNS,h=a(window),m=a(document),p=b.$input,q,r,t,v,x,z;x=b.settings.mode;z=p.attr("class")||"";q=a("<div>").addClass(e.wrapperClass).addClass(z).addClass(x);r=a("<div>").addClass(e.inputClass).addClass("items").appendTo(q);t=a('<input type="text" autocomplete="off" />').appendTo(r).attr("tabindex",p.is(":disabled")?"-1":b.tabIndex);v=a(e.dropdownParent||q);v=a("<div>").addClass(e.dropdownClass).addClass(x).hide().appendTo(v);
x=a("<div>").addClass(e.dropdownContentClass).appendTo(v);b.settings.copyClassesToDropdown&&v.addClass(z);q.css({width:p[0].style.width});b.plugins.names.length&&(z="plugin-"+b.plugins.names.join(" plugin-"),q.addClass(z),v.addClass(z));(null===e.maxItems||1<e.maxItems)&&1===b.tagType&&p.attr("multiple","multiple");b.settings.placeholder&&t.attr("placeholder",e.placeholder);!b.settings.splitOn&&b.settings.delimiter&&(z=b.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),b.settings.splitOn=
new RegExp("\\s*"+z+"+\\s*"));p.attr("autocorrect")&&t.attr("autocorrect",p.attr("autocorrect"));p.attr("autocapitalize")&&t.attr("autocapitalize",p.attr("autocapitalize"));b.$wrapper=q;b.$control=r;b.$control_input=t;b.$dropdown=v;b.$dropdown_content=x;v.on("mouseenter","[data-selectable]",function(){return b.onOptionHover.apply(b,arguments)});v.on("mousedown click","[data-selectable]",function(){return b.onOptionSelect.apply(b,arguments)});y(r,"mousedown","*:not(input)",function(){return b.onItemSelect.apply(b,
arguments)});B(t);r.on({mousedown:function(){return b.onMouseDown.apply(b,arguments)},click:function(){return b.onClick.apply(b,arguments)}});t.on({mousedown:function(a){a.stopPropagation()},keydown:function(){return b.onKeyDown.apply(b,arguments)},keyup:function(){return b.onKeyUp.apply(b,arguments)},keypress:function(){return b.onKeyPress.apply(b,arguments)},resize:function(){b.positionDropdown.apply(b,[])},blur:function(){return b.onBlur.apply(b,arguments)},focus:function(){b.ignoreBlur=!1;return b.onFocus.apply(b,
arguments)},paste:function(){return b.onPaste.apply(b,arguments)}});m.on("keydown"+g,function(a){b.isCmdDown=a[f?"metaKey":"ctrlKey"];b.isCtrlDown=a[f?"altKey":"ctrlKey"];b.isShiftDown=a.shiftKey});m.on("keyup"+g,function(a){a.keyCode===k&&(b.isCtrlDown=!1);16===a.keyCode&&(b.isShiftDown=!1);a.keyCode===l&&(b.isCmdDown=!1)});m.on("mousedown"+g,function(a){if(b.isFocused){if(a.target===b.$dropdown[0]||a.target.parentNode===b.$dropdown[0])return!1;b.$control.has(a.target).length||a.target===b.$control[0]||
b.blur(a.target)}});h.on(["scroll"+g,"resize"+g].join(" "),function(){b.isOpen&&b.positionDropdown.apply(b,arguments)});h.on("mousemove"+g,function(){b.ignoreHover=!1});this.revertSettings={$children:p.children().detach(),tabindex:p.attr("tabindex")};p.attr("tabindex",-1).hide().after(b.$wrapper);a.isArray(e.items)&&(b.setValue(e.items),delete e.items);if(n)p.on("invalid"+g,function(a){a.preventDefault();b.isInvalid=!0;b.refreshState()});b.updateOriginalInput();b.refreshItems();b.refreshState();b.updatePlaceholder();
b.isSetup=!0;p.is(":disabled")&&b.disable();b.on("change",this.onChange);p.data("selectize",b);p.addClass("selectized");b.trigger("initialize");if(!0===e.preload)b.onSearchChange("")},setupTemplates:function(){var b=this.settings.labelField,e=this.settings.optgroupLabelField;this.settings.render=a.extend({},{optgroup:function(a){return'<div class="optgroup">'+a.html+"</div>"},optgroup_header:function(a,b){return'<div class="optgroup-header">'+b(a[e])+"</div>"},option:function(a,e){return'<div class="option">'+
e(a[b])+"</div>"},item:function(a,e){return'<div class="item">'+e(a[b])+"</div>"},option_create:function(a,b){return'<div class="create">Add <strong>'+b(a.input)+"</strong>&hellip;</div>"}},this.settings.render)},setupCallbacks:function(){var a,b,e={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",
optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(a in e)if(e.hasOwnProperty(a)&&(b=this.settings[e[a]]))this.on(a,b)},onClick:function(a){this.isFocused||(this.focus(),a.preventDefault())},onMouseDown:function(b){var e=this,f=b.isDefaultPrevented();a(b.target);if(e.isFocused){if(b.target!==e.$control_input[0])return"single"===e.settings.mode?e.isOpen?e.close():e.open():f||e.setActiveItem(null),
!1}else f||window.setTimeout(function(){e.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(b){var e=this;e.isFull()||e.isInputHidden||e.isLocked?b.preventDefault():e.settings.splitOn&&setTimeout(function(){for(var b=a.trim(e.$control_input.val()||"").split(e.settings.splitOn),f=0,g=b.length;f<g;f++)e.createItem(b[f])},0)},onKeyPress:function(a){if(this.isLocked)return a&&a.preventDefault();var b=String.fromCharCode(a.keyCode||a.which);if(this.settings.create&&"multi"===
this.settings.mode&&b===this.settings.delimiter)return this.createItem(),a.preventDefault(),!1},onKeyDown:function(a){if(this.isLocked)9!==a.keyCode&&a.preventDefault();else{switch(a.keyCode){case 65:if(this.isCmdDown){this.selectAll();return}break;case 27:this.isOpen&&(a.preventDefault(),a.stopPropagation(),this.close());return;case 78:if(!a.ctrlKey||a.altKey)break;case 40:if(!this.isOpen&&this.hasOptions)this.open();else if(this.$activeOption){this.ignoreHover=!0;var b=this.getAdjacentOption(this.$activeOption,
1);b.length&&this.setActiveOption(b,!0,!0)}a.preventDefault();return;case 80:if(!a.ctrlKey||a.altKey)break;case 38:this.$activeOption&&(this.ignoreHover=!0,b=this.getAdjacentOption(this.$activeOption,-1),b.length&&this.setActiveOption(b,!0,!0));a.preventDefault();return;case 13:this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),a.preventDefault());return;case 37:this.advanceSelection(-1,a);return;case 39:this.advanceSelection(1,a);return;case 9:this.settings.selectOnTab&&
this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),this.isFull()||a.preventDefault());this.settings.create&&this.createItem()&&a.preventDefault();return;case 8:case 46:this.deleteSelection(a);return}!this.isFull()&&!this.isInputHidden||(f?a.metaKey:a.ctrlKey)||a.preventDefault()}},onKeyUp:function(a){if(this.isLocked)return a&&a.preventDefault();a=this.$control_input.val()||"";this.lastValue!==a&&(this.lastValue=a,this.onSearchChange(a),this.refreshOptions(),
this.trigger("type",a))},onSearchChange:function(a){var b=this,e=b.settings.load;e&&!b.loadedSearches.hasOwnProperty(a)&&(b.loadedSearches[a]=!0,b.load(function(f){e.apply(b,[a,f])}))},onFocus:function(a){var b=this.isFocused;if(this.isDisabled)return this.blur(),a&&a.preventDefault(),!1;if(!this.ignoreFocus){this.isFocused=!0;if("focus"===this.settings.preload)this.onSearchChange("");b||this.trigger("focus");this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus));
this.refreshState()}},onBlur:function(a,b){var e=this;if(e.isFocused&&(e.isFocused=!1,!e.ignoreFocus))if(e.ignoreBlur||document.activeElement!==e.$dropdown_content[0]){var f=function(){e.close();e.setTextboxValue("");e.setActiveItem(null);e.setActiveOption(null);e.setCaret(e.items.length);e.refreshState();(b||document.body).focus();e.ignoreFocus=!1;e.trigger("blur")};e.ignoreFocus=!0;e.settings.create&&e.settings.createOnBlur?e.createItem(null,!1,f):f()}else e.ignoreBlur=!0,e.onFocus(a)},onOptionHover:function(a){this.ignoreHover||
this.setActiveOption(a.currentTarget,!1)},onOptionSelect:function(b){var e,f=this;b.preventDefault&&(b.preventDefault(),b.stopPropagation());e=a(b.currentTarget);e.hasClass("create")?f.createItem(null,function(){f.settings.closeAfterSelect&&f.close()}):(e=e.attr("data-value"),"undefined"!==typeof e&&(f.lastQuery=null,f.setTextboxValue(""),f.addItem(e),f.settings.closeAfterSelect?f.close():!f.settings.hideSelected&&b.type&&/mouse/.test(b.type)&&f.setActiveOption(f.getOption(e))))},onItemSelect:function(a){this.isLocked||
"multi"!==this.settings.mode||(a.preventDefault(),this.setActiveItem(a.currentTarget,a))},load:function(a){var b=this,e=b.$wrapper.addClass(b.settings.loadingClass);b.loading++;a.apply(b,[function(a){b.loading=Math.max(b.loading-1,0);a&&a.length&&(b.addOption(a),b.refreshOptions(b.isFocused&&!b.isInputHidden));b.loading||e.removeClass(b.settings.loadingClass);b.trigger("load",a)}])},setTextboxValue:function(a){var b=this.$control_input;b.val()!==a&&(b.val(a).triggerHandler("update"),this.lastValue=
a)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(a,b){x(this,b?[]:["change"],function(){this.clear(b);this.addItems(a,b)})},setActiveItem:function(b,e){var f,g,h;if("single"!==this.settings.mode)if(b=a(b),b.length){f=e&&e.type.toLowerCase();if("mousedown"===f&&this.isShiftDown&&this.$activeItems.length){f=this.$control.children(".active:last");g=Array.prototype.indexOf.apply(this.$control[0].childNodes,
[f[0]]);f=Array.prototype.indexOf.apply(this.$control[0].childNodes,[b[0]]);g>f&&(h=g,g=f,f=h);for(;g<=f;g++)h=this.$control[0].childNodes[g],-1===this.$activeItems.indexOf(h)&&(a(h).addClass("active"),this.$activeItems.push(h));e.preventDefault()}else"mousedown"===f&&this.isCtrlDown||"keydown"===f&&this.isShiftDown?b.hasClass("active")?(f=this.$activeItems.indexOf(b[0]),this.$activeItems.splice(f,1),b.removeClass("active")):this.$activeItems.push(b.addClass("active")[0]):(a(this.$activeItems).removeClass("active"),
this.$activeItems=[b.addClass("active")[0]]);this.hideInput();this.isFocused||this.focus()}else a(this.$activeItems).removeClass("active"),this.$activeItems=[],this.isFocused&&this.showInput()},setActiveOption:function(b,e,f){var g,h,k;this.$activeOption&&this.$activeOption.removeClass("active");this.$activeOption=null;b=a(b);b.length&&(this.$activeOption=b.addClass("active"),e||"undefined"===typeof e)&&(b=this.$dropdown_content.height(),g=this.$activeOption.outerHeight(!0),e=this.$dropdown_content.scrollTop()||
0,h=this.$activeOption.offset().top-this.$dropdown_content.offset().top+e,k=h-b+g,h+g>b+e?this.$dropdown_content.stop().animate({scrollTop:k},f?this.settings.scrollDuration:0):h<e&&this.$dropdown_content.stop().animate({scrollTop:h},f?this.settings.scrollDuration:0))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue("");
this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1E4:-1E4});this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0});this.isInputHidden=!1},focus:function(){var a=this;a.isDisabled||(a.ignoreFocus=!0,a.$control_input[0].focus(),window.setTimeout(function(){a.ignoreFocus=!1;a.onFocus()},0))},blur:function(a){this.$control_input[0].blur();this.onBlur(null,a)},getScoreFunction:function(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())},
getSearchOptions:function(){var a=this.settings,b=a.sortField;"string"===typeof b&&(b=[{field:b}]);return{fields:a.searchField,conjunction:a.searchConjunction,sort:b}},search:function(b){var e,f;e=this.settings;var g=this.getSearchOptions();if(e.score&&(f=this.settings.score.apply(this,[b]),"function"!==typeof f))throw Error('Selectize "score" setting must be a function that returns a function');b!==this.lastQuery?(this.lastQuery=b,this.currentResults=b=this.sifter.search(b,a.extend(g,{score:f}))):
b=a.extend(!0,{},this.currentResults);if(e.hideSelected)for(e=b.items.length-1;0<=e;e--)-1!==this.items.indexOf(m(b.items[e].id))&&b.items.splice(e,1);return b},refreshOptions:function(b){var f,g,h,k,l,n,p,q,r,t,v,x;"undefined"===typeof b&&(b=!0);var y=this;v=a.trim(y.$control_input.val());var z=y.search(v),B=y.$dropdown_content,E=y.$activeOption&&m(y.$activeOption.attr("data-value"));k=z.items.length;"number"===typeof y.settings.maxOptions&&(k=Math.min(k,y.settings.maxOptions));l={};n=[];for(f=0;f<
k;f++)for(p=y.options[z.items[f].id],q=y.render("option",p),p=p[y.settings.optgroupField]||"",r=a.isArray(p)?p:[p],g=0,h=r&&r.length;g<h;g++)p=r[g],y.optgroups.hasOwnProperty(p)||(p=""),l.hasOwnProperty(p)||(l[p]=[],n.push(p)),l[p].push(q);this.settings.lockOptgroupOrder&&n.sort(function(a,b){return(y.optgroups[a].$order||0)-(y.optgroups[b].$order||0)});q=[];f=0;for(k=n.length;f<k;f++)p=n[f],y.optgroups.hasOwnProperty(p)&&l[p].length?(g=y.render("optgroup_header",y.optgroups[p])||"",g+=l[p].join(""),
q.push(y.render("optgroup",a.extend({},y.optgroups[p],{html:g})))):q.push(l[p].join(""));B.html(q.join(""));if(y.settings.highlight&&z.query.length&&z.tokens.length)for(f=0,k=z.tokens.length;f<k;f++)e(B,z.tokens[f].regex);if(!y.settings.hideSelected)for(f=0,k=y.items.length;f<k;f++)y.getOption(y.items[f]).addClass("selected");if(f=y.canCreate(v))B.prepend(y.render("option_create",{input:v})),x=a(B[0].childNodes[0]);y.hasOptions=0<z.items.length||f;y.hasOptions?(0<z.items.length?((v=E&&y.getOption(E))&&
v.length?t=v:"single"===y.settings.mode&&y.items.length&&(t=y.getOption(y.items[0])),t&&t.length||(t=x&&!y.settings.addPrecedence?y.getAdjacentOption(x,1):B.find("[data-selectable]:first"))):t=x,y.setActiveOption(t),b&&!y.isOpen&&y.open()):(y.setActiveOption(null),b&&y.isOpen&&y.close())},addOption:function(b){var e,f;if(a.isArray(b))for(e=0,f=b.length;e<f;e++)this.addOption(b[e]);else if(e=this.registerOption(b))this.userOptions[e]=!0,this.lastQuery=null,this.trigger("option_add",e,b)},registerOption:function(a){var b=
m(a[this.settings.valueField]);if(!b||this.options.hasOwnProperty(b))return!1;a.$order=a.$order||++this.order;this.options[b]=a;return b},registerOptionGroup:function(a){var b=m(a[this.settings.optgroupValueField]);if(!b)return!1;a.$order=a.$order||++this.order;this.optgroups[b]=a;return b},addOptionGroup:function(a,b){b[this.settings.optgroupValueField]=a;(a=this.registerOptionGroup(b))&&this.trigger("optgroup_add",a,b)},removeOptionGroup:function(a){this.optgroups.hasOwnProperty(a)&&(delete this.optgroups[a],
this.renderCache={},this.trigger("optgroup_remove",a))},clearOptionGroups:function(){this.optgroups={};this.renderCache={};this.trigger("optgroup_clear")},updateOption:function(b,e){var f,g,h;b=m(b);f=m(e[this.settings.valueField]);if(null!==b&&this.options.hasOwnProperty(b)){if("string"!==typeof f)throw Error("Value must be set in option data");h=this.options[b].$order;f!==b&&(delete this.options[b],g=this.items.indexOf(b),-1!==g&&this.items.splice(g,1,f));e.$order=e.$order||h;this.options[f]=e;
g=this.renderCache.item;h=this.renderCache.option;g&&(delete g[b],delete g[f]);h&&(delete h[b],delete h[f]);-1!==this.items.indexOf(f)&&(f=this.getItem(b),g=a(this.render("item",e)),f.hasClass("active")&&g.addClass("active"),f.replaceWith(g));this.lastQuery=null;this.isOpen&&this.refreshOptions(!1)}},removeOption:function(a,b){a=m(a);var e=this.renderCache.item,f=this.renderCache.option;e&&delete e[a];f&&delete f[a];delete this.userOptions[a];delete this.options[a];this.lastQuery=null;this.trigger("option_remove",
a);this.removeItem(a,b)},clearOptions:function(){this.loadedSearches={};this.userOptions={};this.renderCache={};this.options=this.sifter.items={};this.lastQuery=null;this.trigger("option_clear");this.clear()},getOption:function(a){return this.getElementWithValue(a,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(b,e){var f=this.$dropdown.find("[data-selectable]"),g=f.index(b)+e;return 0<=g&&g<f.length?f.eq(g):a()},getElementWithValue:function(b,e){b=m(b);if("undefined"!==
typeof b&&null!==b)for(var f=0,g=e.length;f<g;f++)if(e[f].getAttribute("data-value")===b)return a(e[f]);return a()},getItem:function(a){return this.getElementWithValue(a,this.$control.children())},addItems:function(b,e){for(var f=a.isArray(b)?b:[b],g=0,h=f.length;g<h;g++)this.isPending=g<h-1,this.addItem(f[g],e)},addItem:function(b,e){x(this,e?[]:["change"],function(){var f,g,h,k=this.settings.mode;b=m(b);-1!==this.items.indexOf(b)?"single"===k&&this.close():this.options.hasOwnProperty(b)&&("single"===
k&&this.clear(e),"multi"===k&&this.isFull()||(f=a(this.render("item",this.options[b])),h=this.isFull(),this.items.splice(this.caretPos,0,b),this.insertAtCaret(f),(!this.isPending||!h&&this.isFull())&&this.refreshState(),this.isSetup&&(h=this.$dropdown_content.find("[data-selectable]"),this.isPending||(g=this.getOption(b),g=this.getAdjacentOption(g,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==k),g&&this.setActiveOption(this.getOption(g))),!h.length||this.isFull()?this.close():
this.positionDropdown(),this.updatePlaceholder(),this.trigger("item_add",b,f),this.updateOriginalInput({silent:e}))))})},removeItem:function(a,b){var e,f,g;e="object"===typeof a?a:this.getItem(a);a=m(e.attr("data-value"));f=this.items.indexOf(a);-1!==f&&(e.remove(),e.hasClass("active")&&(g=this.$activeItems.indexOf(e[0]),this.$activeItems.splice(g,1)),this.items.splice(f,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(a)&&this.removeOption(a,b),f<this.caretPos&&this.setCaret(this.caretPos-
1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:b}),this.positionDropdown(),this.trigger("item_remove",a,e))},createItem:function(b,e){var f=this,g=f.caretPos;b=b||a.trim(f.$control_input.val()||"");var h=arguments[arguments.length-1];"function"!==typeof h&&(h=function(){});"boolean"!==typeof e&&(e=!0);if(!f.canCreate(b))return h(),!1;f.lock();var k="function"===typeof f.settings.create?this.settings.create:function(a){var b={};b[f.settings.labelField]=a;b[f.settings.valueField]=
a;return b},l=t(function(a){f.unlock();if(!a||"object"!==typeof a)return h();var b=m(a[f.settings.valueField]);if("string"!==typeof b)return h();f.setTextboxValue("");f.addOption(a);f.setCaret(g);f.addItem(b);f.refreshOptions(e&&"single"!==f.settings.mode);h(a)}),k=k.apply(this,[b,l]);"undefined"!==typeof k&&l(k);return!0},refreshItems:function(){this.lastQuery=null;this.isSetup&&this.addItem(this.items);this.refreshState();this.updateOriginalInput()},refreshState:function(){this.isRequired&&(this.items.length&&
(this.isInvalid=!1),this.$control_input.prop("required",void 0));this.refreshClasses()},refreshClasses:function(){var b=this.isFull(),e=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl);this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",e).toggleClass("full",b).toggleClass("not-full",!b).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",
this.isOpen).toggleClass("has-options",!a.isEmptyObject(this.options)).toggleClass("has-items",0<this.items.length);this.$control_input.data("grow",!b&&!e)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(a){var b,e,f,g;a=a||{};if(1===this.tagType){f=[];b=0;for(e=this.items.length;b<e;b++)g=this.options[this.items[b]][this.settings.labelField]||"",f.push('<option value="'+p(this.items[b])+'" selected="selected">'+p(g)+
"</option>");f.length||this.$input.attr("multiple")||f.push('<option value="" selected="selected"></option>');this.$input.html(f.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&(a.silent||this.trigger("change",this.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var a=this.$control_input;this.items.length?a.removeAttr("placeholder"):a.attr("placeholder",this.settings.placeholder);a.triggerHandler("update",{force:!0})}},
open:function(){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var a=this.isOpen;"single"===this.settings.mode&&this.items.length&&this.hideInput();this.isOpen=!1;this.$dropdown.hide();this.setActiveOption(null);this.refreshState();a&&this.trigger("dropdown_close",
this.$dropdown)},positionDropdown:function(){var a=this.$control,b="body"===this.settings.dropdownParent?a.offset():a.position();b.top+=a.outerHeight(!0);this.$dropdown.css({width:a.outerWidth(),top:b.top,left:b.left})},clear:function(a){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:a}),this.refreshState(),this.showInput(),this.trigger("clear"))},
insertAtCaret:function(b){var e=Math.min(this.caretPos,this.items.length);0===e?this.$control.prepend(b):a(this.$control[0].childNodes[e]).before(b);this.setCaret(e+1)},deleteSelection:function(b){var e,f,g,h,k;e=b&&8===b.keyCode?-1:1;f=z(this.$control_input[0]);this.$activeOption&&!this.settings.hideSelected&&(k=this.getAdjacentOption(this.$activeOption,-1).attr("data-value"));g=[];if(this.$activeItems.length){h=this.$control.children(".active:"+(0<e?"last":"first"));h=this.$control.children(":not(input)").index(h);
0<e&&h++;e=0;for(f=this.$activeItems.length;e<f;e++)g.push(a(this.$activeItems[e]).attr("data-value"));b&&(b.preventDefault(),b.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(0>e&&0===f.start&&0===f.length?g.push(this.items[this.caretPos-1]):0<e&&f.start===this.$control_input.val().length&&g.push(this.items[this.caretPos]));if(!g.length||"function"===typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[g]))return!1;for("undefined"!==typeof h&&
this.setCaret(h);g.length;)this.removeItem(g.pop());this.showInput();this.positionDropdown();this.refreshOptions(!0);k&&(b=this.getOption(k),b.length&&this.setActiveOption(b));return!0},advanceSelection:function(a,b){var e,f;0!==a&&(this.rtl&&(a*=-1),e=0<a?"last":"first",f=z(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(e=this.$control_input.val().length,(f=0>a?0===f.start&&0===f.length:f.start===e)&&!e&&this.advanceCaret(a,b)):(f=this.$control.children(".active:"+e),f.length&&(f=this.$control.children(":not(input)").index(f),
this.setActiveItem(null),this.setCaret(0<a?f+1:f))))},advanceCaret:function(a,b){var e;0!==a&&(e=0<a?"next":"prev",this.isShiftDown?(e=this.$control_input[e](),e.length&&(this.hideInput(),this.setActiveItem(e),b&&b.preventDefault())):this.setCaret(this.caretPos+a))},setCaret:function(b){b="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,b));if(!this.isPending){var e,f,g,h;g=this.$control.children(":not(input)");e=0;for(f=g.length;e<f;e++)h=a(g[e]).detach(),e<b?
this.$control_input.before(h):this.$control.append(h)}this.caretPos=b},lock:function(){this.close();this.isLocked=!0;this.refreshState()},unlock:function(){this.isLocked=!1;this.refreshState()},disable:function(){this.$input.prop("disabled",!0);this.$control_input.prop("disabled",!0).prop("tabindex",-1);this.isDisabled=!0;this.lock()},enable:function(){this.$input.prop("disabled",!1);this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex);this.isDisabled=!1;this.unlock()},destroy:function(){var b=
this.eventNS,e=this.revertSettings;this.trigger("destroy");this.off();this.$wrapper.remove();this.$dropdown.remove();this.$input.html("").append(e.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:e.tabindex}).show();this.$control_input.removeData("grow");this.$input.removeData("selectize");a(window).off(b);a(document).off(b);a(document.body).off(b);delete this.$input[0].selectize},render:function(a,b){var e,f,g="",h=!1,k=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;
if("option"===a||"item"===a)e=m(b[this.settings.valueField]),h=!!e;if(h&&("undefined"===typeof this.renderCache[a]&&(this.renderCache[a]={}),this.renderCache[a].hasOwnProperty(e)))return this.renderCache[a][e];g=this.settings.render[a].apply(this,[b,p]);if("option"===a||"option_create"===a)g=g.replace(k,"<$1 data-selectable");"optgroup"===a&&(f=b[this.settings.optgroupValueField]||"",g=g.replace(k,'<$1 data-group="'+q(p(f))+'"'));if("option"===a||"item"===a)g=g.replace(k,'<$1 data-value="'+q(p(e||
""))+'"');h&&(this.renderCache[a][e]=g);return g},clearCache:function(a){"undefined"===typeof a?this.renderCache={}:delete this.renderCache[a]},canCreate:function(a){if(!this.settings.create)return!1;var b=this.settings.createFilter;return a.length&&("function"!==typeof b||b.apply(this,[a]))&&("string"!==typeof b||(new RegExp(b)).test(a))&&(!(b instanceof RegExp)||b.test(a))}});E.count=0;E.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,
createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1E3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",
dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}};a.fn.selectize=function(b){var e=a.fn.selectize.defaults,f=a.extend({},e,b),g=f.dataAttr,h=f.labelField,k=f.valueField,l=f.optgroupField,n=f.optgroupLabelField,p=f.optgroupValueField,q=function(b,e){var q,r,t,v,w=e.options,x={},y=function(a){a=g&&a.attr(g);return"string"===typeof a&&a.length?JSON.parse(a):null},z=function(b,g){b=a(b);var n=m(b.attr("value"));
if(n||f.allowEmptyOption)if(x.hasOwnProperty(n)){if(g){var p=x[n][l];p?a.isArray(p)?p.push(g):x[n][l]=[p,g]:x[n][l]=g}}else p=y(b)||{},p[h]=p[h]||b.text(),p[k]=p[k]||n,p[l]=p[l]||g,x[n]=p,w.push(p),b.is(":selected")&&e.items.push(n)},A=function(b){var f,g,h;b=a(b);if(g=b.attr("label"))f=y(b)||{},f[n]=g,f[p]=g,e.optgroups.push(f);h=a("option",b);b=0;for(f=h.length;b<f;b++)z(h[b],g)};e.maxItems=b.attr("multiple")?null:1;v=b.children();q=0;for(r=v.length;q<r;q++)t=v[q].tagName.toLowerCase(),"optgroup"===
t?A(v[q]):"option"===t&&z(v[q])};return this.each(function(){if(!this.selectize){var l=a(this),m=this.tagName.toLowerCase(),n=l.attr("placeholder")||l.attr("data-placeholder");n||f.allowEmptyOption||(n=l.children('option[value=""]').text());n={placeholder:n,options:[],optgroups:[],items:[]};if("select"===m)q(l,n);else{var p,r,t;if(m=l.attr(g))for(n.options=JSON.parse(m),m=0,p=n.options.length;m<p;m++)n.items.push(n.options[m][k]);else if(m=a.trim(l.val()||""),f.allowEmptyOption||m.length){r=m.split(f.delimiter);
m=0;for(p=r.length;m<p;m++)t={},t[h]=r[m],t[k]=r[m],n.options.push(t);n.items=r}}new E(l,a.extend(!0,{},e,n,b))}})};a.fn.selectize.defaults=E.defaults;a.fn.selectize.support={validity:n};E.define("drag_drop",function(b){if(!a.fn.sortable)throw Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var e=this;e.lock=function(){var a=e.lock;return function(){var b=e.$control.data("sortable");b&&b.disable();return a.apply(e,arguments)}}();e.unlock=function(){var a=
e.unlock;return function(){var b=e.$control.data("sortable");b&&b.enable();return a.apply(e,arguments)}}();e.setup=function(){var b=e.setup;return function(){b.apply(this,arguments);var f=e.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:e.isLocked,start:function(a,b){b.placeholder.css("width",b.helper.css("width"));f.css({overflow:"visible"})},stop:function(){f.css({overflow:"hidden"});var b=e.$activeItems?e.$activeItems.slice():null,g=[];f.children("[data-value]").each(function(){g.push(a(this).attr("data-value"))});
e.setValue(g);e.setActiveItem(b)}})}}()}});E.define("dropdown_header",function(b){var e=this;b=a.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(a){return'<div class="'+a.headerClass+'"><div class="'+a.titleRowClass+'"><span class="'+a.labelClass+'">'+a.title+'</span><a href="javascript:void(0)" class="'+a.closeClass+'">&times;</a></div></div>'}},
b);e.setup=function(){var f=e.setup;return function(){f.apply(e,arguments);e.$dropdown_header=a(b.html(b));e.$dropdown.prepend(e.$dropdown_header)}}()});E.define("optgroup_columns",function(b){var e=this;b=a.extend({equalizeWidth:!0,equalizeHeight:!0},b);this.getAdjacentOption=function(b,e){var f=b.closest("[data-group]").find("[data-selectable]"),g=f.index(b)+e;return 0<=g&&g<f.length?f.eq(g):a()};this.onKeyDown=function(){var a=e.onKeyDown;return function(b){var f,g;if(!this.isOpen||37!==b.keyCode&&
39!==b.keyCode)return a.apply(this,arguments);e.ignoreHover=!0;g=this.$activeOption.closest("[data-group]");f=g.find("[data-selectable]").index(this.$activeOption);g=37===b.keyCode?g.prev("[data-group]"):g.next("[data-group]");g=g.find("[data-selectable]");f=g.eq(Math.min(g.length-1,f));f.length&&this.setActiveOption(f)}}();var f=function(){var a,b=f.width,e=document;"undefined"===typeof b&&(a=e.createElement("div"),a.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',
a=a.firstChild,e.body.appendChild(a),b=f.width=a.offsetWidth-a.clientWidth,e.body.removeChild(a));return b},g=function(){var g,h,k,l;l=a("[data-group]",e.$dropdown_content);if((h=l.length)&&e.$dropdown_content.width()){if(b.equalizeHeight){for(g=k=0;g<h;g++)k=Math.max(k,l.eq(g).height());l.css({height:k})}b.equalizeWidth&&(k=e.$dropdown_content.innerWidth()-f(),g=Math.round(k/h),l.css({width:g}),1<h&&(g=k-g*(h-1),l.eq(h-1).css({width:g})))}};if(b.equalizeHeight||b.equalizeWidth)r.after(this,"positionDropdown",
g),r.after(this,"refreshOptions",g)});E.define("remove_button",function(b){if("single"!==this.settings.mode){b=a.extend({label:"&times;",title:"Remove",className:"remove",append:!0},b);var e=this,f='<a href="javascript:void(0)" class="'+b.className+'" tabindex="-1" title="'+p(b.title)+'">'+b.label+"</a>";this.setup=function(){var g=e.setup;return function(){if(b.append){var h=e.settings.render.item;e.settings.render.item=function(a){var b=h.apply(this,arguments),e=b.search(/(<\/[^>]+>\s*)$/);return b.substring(0,
e)+f+b.substring(e)}}g.apply(this,arguments);this.$control.on("click","."+b.className,function(b){b.preventDefault();e.isLocked||(b=a(b.currentTarget).parent(),e.setActiveItem(b),e.deleteSelection()&&e.setCaret(e.items.length))})}}()}});E.define("restore_on_backspace",function(a){var b=this;a.text=a.text||function(a){return a[this.settings.labelField]};this.onKeyDown=function(){var e=b.onKeyDown;return function(b){var f;if(8===b.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&
(f=this.caretPos-1,0<=f&&f<this.items.length)){f=this.options[this.items[f]];this.deleteSelection(b)&&(this.setTextboxValue(a.text.apply(this,[f])),this.refreshOptions(!0));b.preventDefault();return}return e.apply(this,arguments)}}()});return E});var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};
Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert first argument to object");for(var h=Object(a),b=1;b<arguments.length;b++){var e=arguments[b];if(void 0!==e&&null!==e)for(var e=Object(e),g=Object.keys(Object(e)),f=0,l=g.length;f<l;f++){var k=g[f],n=Object.getOwnPropertyDescriptor(e,k);void 0!==n&&n.enumerable&&(h[k]=e[k])}}return h}});
Array.prototype.find||(Array.prototype.find=function(a,h){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof a)throw new TypeError("predicate must be a function");for(var b=Object(this),e=b.length>>>0,g,f=0;f<e;f++)if(g=b[f],a.call(h,g,f,b))return g});
Array.prototype.findIndex||(Array.prototype.findIndex=function(a,h){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!==typeof a)throw new TypeError("predicate must be a function");for(var b=Object(this),e=b.length>>>0,g,f=0;f<e;f++)if(g=b[f],a.call(h,g,f,b))return f;return-1});
Array.prototype.includes||(Array.prototype.includes=function(a,h){var b=Object(this),e=parseInt(b.length)||0;if(0===e)return!1;var g=parseInt(h)||0;0<=g||(g=e+g,0>g&&(g=0));for(var f;g<e;){f=b[g];if(a===f||a!==a&&f!==f)return!0;g++}return!1});String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)});
String.prototype.endsWith||(String.prototype.endsWith=function(a,h){var b=this.toString();if("number"!==typeof h||!isFinite(h)||Math.floor(h)!==h||h>b.length)h=b.length;h-=a.length;b=b.indexOf(a,h);return-1!==b&&b===h});
var jsPanel={version:"3.0.0 RC1",date:"2016-04-16 10:59",id:0,zi:100,modalcount:0,autopositionSpacing:5,pbTreshold:.556,lastbeforeclose:!1,template:'<div class="jsPanel">\n                <div class="jsPanel-hdr">\n                    <div class="jsPanel-headerbar">\n                        <div class="jsPanel-titlebar">\n                            <h3 class="jsPanel-title"></h3>\n                        </div>\n                        <div class="jsPanel-controlbar">\n                            <div class="jsPanel-btn jsPanel-btn-smallify"><span class="jsglyph jsglyph-chevron-up"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-smallifyrev"><span class="jsglyph jsglyph-chevron-down"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-minimize"><span class="jsglyph jsglyph-minimize"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-normalize"><span class="jsglyph jsglyph-normalize"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-maximize"><span class="jsglyph jsglyph-maximize"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-close"><span class="jsglyph jsglyph-close"></span></div>\n                        </div>\n                    </div>\n                    <div class="jsPanel-hdr-toolbar"></div>\n                </div>\n                <div class="jsPanel-content"></div>\n                <div class="jsPanel-ftr"></div>\n               </div>',replacementTemplate:'<div class="jsPanel-replacement">\n                            <div class="jsPanel-hdr">\n                                <div class="jsPanel-headerbar">\n                                    <div class="jsPanel-titlebar">\n                                        <h3 class="jsPanel-title"></h3>\n                                    </div>\n                                    <div class="jsPanel-controlbar">\n                                        <div class="jsPanel-btn jsPanel-btn-normalize"><span class="jsglyph jsglyph-normalize"></span></div>\n                                        <div class="jsPanel-btn jsPanel-btn-maximize"><span class="jsglyph jsglyph-maximize"></span></div>\n                                        <div class="jsPanel-btn jsPanel-btn-close"><span class="jsglyph jsglyph-close"></span></div>\n                                    </div>\n                                </div>\n                            </div>\n                          </div>',
themes:"default primary info success warning danger".split(" "),tplHeaderOnly:'<div class="jsPanel">\n                        <div class="jsPanel-hdr">\n                            <div class="jsPanel-headerbar">\n                                <div class="jsPanel-titlebar">\n                                    <h3 class="jsPanel-title"></h3>\n                                </div>\n                                <div class="jsPanel-controlbar">\n                                    <div class="jsPanel-btn jsPanel-btn-close"><span class="jsglyph jsglyph-close"></span></div>\n                                </div>\n                            </div>\n                            <div class="jsPanel-hdr-toolbar"></div>\n                        </div>\n                    </div>',
tplContentOnly:'<div class="jsPanel">\n                        <div class="jsPanel-content jsPanel-content-noheader jsPanel-content-nofooter"></div>\n                     </div>',activePanels:{list:[],getPanel:function(a){return"string"===typeof a?document.getElementById(a).jspanel.noop():document.getElementById(this.list[a]).jspanel.noop()}},position:function(a,h){function b(a,b){var e;if((e=a.ownerDocument.defaultView)&&e.getComputedStyle)return b=b.replace(/([A-Z])/g,"-$1").toLowerCase(),e.getComputedStyle(a,
null).getPropertyValue(b);if(a.currentStyle)return b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),e=a.currentStyle[b],/^\d+(em|pt|%|ex)?$/i.test(e)?function(b){var e=a.style.left,f=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b||0;b=a.style.pixelLeft+"px";a.style.left=e;a.runtimeStyle.left=f;return b}(e):e}function e(a){var b={};x.includes(a)?b.left=window.pageXOffset:y.includes(a)?b.left=window.pageXOffset+document.documentElement.clientWidth/2:z.includes(a)?
b.left=window.pageXOffset+document.documentElement.clientWidth:b.left=window.pageXOffset;B.includes(a)?b.top=window.pageYOffset:E.includes(a)?b.top=window.pageYOffset+window.innerHeight/2:w.includes(a)?b.top=window.pageYOffset+window.innerHeight:b.top=window.pageYOffset;return b}function g(a){var b={},e=k(p.of);x.includes(a)?b.left=e.left:y.includes(a)?b.left=e.left+e.width/2:z.includes(a)?b.left=e.left+e.width:b.left=e.left;B.includes(a)?b.top=e.top:E.includes(a)?b.top=e.top+e.height/2:w.includes(a)?
b.top=e.top+e.height:b.top=e.top;return b}function f(a){var b={},e=q.getBoundingClientRect();x.includes(a)?b.left=0:y.includes(a)?b.left=e.width/2:z.includes(a)?b.left=e.width:b.left=0;B.includes(a)?b.top=0:E.includes(a)?b.top=e.height/2:w.includes(a)?b.top=e.height:b.top=0;return b}function l(a){var b={},e=q.getBoundingClientRect(),f=document.querySelector(p.of).getBoundingClientRect(),g=f.left-e.left,e=f.top-e.top;x.includes(a)?b.left=g:y.includes(a)?b.left=g+f.width/2:z.includes(a)?b.left=g+f.width:
b.left=g;B.includes(a)?b.top=e:E.includes(a)?b.top=e+f.height/2:w.includes(a)?b.top=e+f.height:b.top=e;return b}function k(a){var b=void 0,b=a.jquery?a[0].getBoundingClientRect():"string"===typeof a?document.querySelector(a).getBoundingClientRect():a.getBoundingClientRect();return{width:Math.round(b.width),height:Math.round(b.height),left:Math.round(b.left+window.pageXOffset),top:Math.round(b.top+window.pageYOffset)}}var n=void 0,m=void 0,p=void 0,q=void 0,r=0,t=0,v=m=m=void 0,x=["left-top","left-center",
"left-bottom"],y=["center-top","center","center-bottom"],z=["right-top","right-center","right-bottom"],B=["left-top","center-top","right-top"],E=["left-center","center","right-center"],w=["left-bottom","center-bottom","right-bottom"];"string"===typeof h&&(n=h.match(/\b[a-z]{4,6}-{1}[a-z]{3,6}\b/),m=h.match(/DOWN|UP|RIGHT|LEFT/),v=h.match(/[+-]?\d+\.?\d*%?/g),h=$.isArray(n)?{my:n[0],at:n[0]}:{my:"center",at:"center"},$.isArray(m)&&(h.autoposition=m[0]),$.isArray(v)&&(h.offsetX=v[0],2===v.length&&(h.offsetY=
v[1])));p=Object.assign({my:"center",at:"center",offsetX:0,offsetY:0,modify:!1,fixed:"true"},h);n="string"===typeof a?document.querySelector(a):a.jquery?a[0]:a;q=n.parentElement;p.of||(q===document.body?p.of="window":p.of=q);m=k(n);"string"===typeof p.offsetX&&"%"===p.offsetX.slice(-1)?p.offsetX="window"===p.of?window.innerWidth*(parseInt(p.offsetX,10)/100):q.clientWidth*(parseInt(p.offsetX,10)/100):"string"===typeof p.offsetX?p.offsetX=parseFloat(p.offsetX):$.isFunction(p.offsetX)&&(p.offsetX=parseInt(p.offsetX.call(a,
a)));"string"===typeof p.offsetY&&"%"===p.offsetY.slice(-1)?p.offsetY="window"===p.of?window.innerHeight*(parseInt(p.offsetY,10)/100):q.clientHeight*(parseInt(p.offsetY,10)/100):"string"===typeof p.offsetY?p.offsetY=parseFloat(p.offsetY):$.isFunction(p.offsetY)&&(p.offsetY=parseInt(p.offsetY.call(a,a)));v=parseInt(b(q,"border-left-width"));x.includes(p.my)?r=v:y.includes(p.my)?r=m.width/2+v:z.includes(p.my)&&(r=m.width+v);v=parseInt(b(q,"border-top-width"));B.includes(p.my)?t=v:E.includes(p.my)?t=
m.height/2+v:w.includes(p.my)&&(t=m.height+v);n.parentElement===document.body?"window"===p.of?(v=e(p.at),p.fixed?(m=v.left-r+p.offsetX-window.pageXOffset,v=v.top-t+p.offsetY-window.pageYOffset):(m=v.left-r+p.offsetX,v=v.top-t+p.offsetY)):(v=g(p.at),m=v.left-r+p.offsetX,v=v.top-t+p.offsetY):(m=v=void 0,m="string"===typeof p.of?document.querySelector(p.of):p.of.jquery?p.of[0]:p.of,v=q===m?f(p.at):l(p.at),m=v.left-r+p.offsetX,v=v.top-t+p.offsetY);if(p.autoposition){var A=void 0,r=void 0,t=[],D=this.autopositionSpacing;
p.my===p.at&&(A=p.my);n.setAttribute("data-autoposition",p.autoposition);$.isFunction(p.offsetX)||n.setAttribute("data-offsetx",p.offsetX);$.isFunction(p.offsetY)||n.setAttribute("data-offsety",p.offsetY);n.classList.add(A);r=document.getElementsByClassName(A);for(A=0;A<r.length;A++)r[A].parentElement===q&&t.push(r[A]);if("DOWN"===p.autoposition)for(A=0;A<t.length-1;A++)v+=t[A].getBoundingClientRect().height+D;else if("UP"===p.autoposition)for(A=0;A<t.length-1;A++)v-=t[A].getBoundingClientRect().height+
D;else if("RIGHT"===p.autoposition)for(A=0;A<t.length-1;A++)m+=t[A].getBoundingClientRect().width+D;else if("LEFT"===p.autoposition)for(A=0;A<t.length-1;A++)m-=t[A].getBoundingClientRect().width+D}m={left:m,top:v};"function"===typeof p.modify&&(m=p.modify.call(m,m));n.style.position="absolute";n.style.left=m.left+"px";n.style.top=m.top+"px";n.style.opacity=1;"window"===p.of&&p.fixed&&q===document.body&&(n.style.position="fixed");return n},reposition:function(a){var h=1>=arguments.length||void 0===
arguments[1]?a.option.position:arguments[1];"minimized"!==a.data("status")&&(0<$(".jsPanel-connector",a).length&&$(".jsPanel-connector",a).remove(),this.position(a,h),a.option.position=h);return a},addCustomTheme:function(a){this.themes.includes(a)||this.themes.push(a)},hslToRgb:function(a,h,b){if(0===h)b=h=a=b;else{var e=function(a,b,e){0>e&&(e+=1);1<e&&--e;return e<1/6?a+6*(b-a)*e:.5>e?b:e<2/3?a+(b-a)*(2/3-e)*6:a},g=.5>b?b*(1+h):b+h-b*h,f=2*b-g;b=e(f,g,a+1/3);h=e(f,g,a);a=e(f,g,a-1/3)}return[Math.round(255*
b),Math.round(255*h),Math.round(255*a)]},rgbToHsl:function(a,h,b){a/=255;h/=255;b/=255;var e=Math.max(a,h,b),g=Math.min(a,h,b),f,l=(e+g)/2;if(e===g)f=g=0;else{var k=e-g,g=.5<l?k/(2-e-g):k/(e+g);switch(e){case a:f=(h-b)/k+(h<b?6:0);break;case h:f=(b-a)/k+2;break;case b:f=(a-h)/k+4}f/=6}f*=360;g=100*g+"%";l=100*l+"%";return{css:"hsl("+f+","+g+","+l+")",h:f,s:g,l:l}},rgbToHex:function(a,h,b){var e=void 0,g=void 0,f=void 0,e=Number(a).toString(16);1===e.length&&(e="0"+e);g=Number(h).toString(16);1===
g.length&&(g="0"+g);f=Number(b).toString(16);1===f.length&&(f="0"+f);return"#"+e+g+f},perceivedBrightness:function(a){a=this.color(a).rgb;return a.r/255*.2627+a.g/255*.678+a.b/255*.0593},lighten:function(a,h){var b=this.color(a).hsl,e=parseFloat(b.l);return"hsl("+b.h+","+b.s+","+(e+(100-e)*h+"%")+")"},darken:function(a,h){var b=this.color(a).hsl,e=parseFloat(b.l);return"hsl("+b.h+","+b.s+","+(e-e*h+"%")+")"},color:function(a){a=a.toLowerCase();var h=void 0,b=void 0,e=void 0,g=e=b=void 0,h=b=h=void 0,
f={},h=/^rgba?\(([0-9]{1,3}),([0-9]{1,3}),([0-9]{1,3}),?(0|1|0\.[0-9]{1,2}|\.[0-9]{1,2})?\)$/gi,b=/^hsla?\(([0-9]{1,3}),([0-9]{1,3}\%),([0-9]{1,3}\%),?(0|1|0\.[0-9]{1,2}|\.[0-9]{1,2})?\)$/gi,e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",
cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",
dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",
lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",
midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",
salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};e[a]&&(a=e[a]);null!==a.match(/^#?([0-9a-f]{3}|[0-9a-f]{6})$/gi)?(a=a.replace("#",""),1===a.length%
2?(h=a.substr(0,1).repeat(2),b=a.substr(1,1).repeat(2),e=a.substr(2,1).repeat(2),f.rgb={r:parseInt(h,16),g:parseInt(b,16),b:parseInt(e,16)},f.hex="#"+h+b+e):(f.rgb={r:parseInt(a.substr(0,2),16),g:parseInt(a.substr(2,2),16),b:parseInt(a.substr(4,2),16)},f.hex="#"+a),h=this.rgbToHsl(f.rgb.r,f.rgb.g,f.rgb.b),f.hsl=h,f.rgb.css="rgb("+f.rgb.r+","+f.rgb.g+","+f.rgb.b+")"):a.match(h)?(h=h.exec(a),f.rgb={css:a,r:h[1],g:h[2],b:h[3]},f.hex=this.rgbToHex(h[1],h[2],h[3]),h=this.rgbToHsl(h[1],h[2],h[3]),f.hsl=
h):a.match(b)?(h=b.exec(a),b=h[1]/360,e=h[2].substr(0,h[2].length-1)/100,g=h[3].substr(0,h[3].length-1)/100,b=this.hslToRgb(b,e,g),f.rgb={css:"rgb("+b[0]+","+b[1]+","+b[2]+")",r:b[0],g:b[1],b:b[2]},f.hex=this.rgbToHex(f.rgb.r,f.rgb.g,f.rgb.b),f.hsl={css:"hsl("+h[1]+","+h[2]+","+h[3]+")",h:h[1],s:h[2],l:h[3]}):(f.hex="#f5f5f5",f.rgb={css:"rgb(245,245,245)",r:245,g:245,b:245},f.hsl={css:"hsl(0,0%,96.08%)",h:0,s:"0%",l:"96.08%"});return f},calcColors:function(a){var h=this.color(a),b=this.lighten(a,
.81),e=this.darken(a,.5),g=void 0,f=void 0,l=void 0;this.perceivedBrightness(a)<=this.pbTreshold?g="#ffffff":g="#000000";this.perceivedBrightness(b)<=this.pbTreshold?f="#ffffff":f="#000000";this.perceivedBrightness(e)<=this.pbTreshold?l="#000000":l="#ffffff";return[h.hsl.css,b,e,g,f,l]},insertModalBackdrop:function(a){var h=void 0,h=void 0;0===$(".jsPanel-modal-backdrop").length?h="rgba(0,0,0,0.65)":h="rgba(0,0,0,0.15)";h=a?'<div id="jsPanel-modal-backdrop-'+a.attr("id")+'" class="jsPanel-modal-backdrop" style="background:'+
h+";z-index:"+(this.modalcount+9999)+'"></div>':'<div id="jsPanel-modal-backdrop" class="jsPanel-modal-backdrop" style="background:'+h+";z-index:"+(this.modalcount+9999)+'"></div>';$("body").append(h);this.modalcount+=1},addConnector:function(a){function h(b){if(b.match(/top|topleft|topright|lefttopcorner|righttopcorner|leftbottom|rightbottom/))return"none"!==a.footer.css("display")?k:0<parseFloat(a.option.contentSize.height)?l:n}function b(b){if(b.match(/bottom|bottomleft|bottomright|leftbottomcorner|rightbottomcorner/)){if(!a.option.headerRemove)return n;
if(0<parseFloat(a.option.contentSize.height))return l;if("none"!==a.footer.css("display"))return k}}function e(b){if(b.match(/lefttop|righttop/))return a.option.headerRemove?l:n}function g(b){if(b.match(/left|right/)){if(0<parseFloat(a.option.contentSize.height))return l;if(!a.option.headerRemove)return n;if("none"!==a.footer.css("display"))return k}}var f=a.option.paneltype.connectorBG||null,l=a.content.css("background-color"),k=a.footer.css("background-color"),n=a.css("background-color");a.hasClass("jsPanel-tooltip-top")?
(a.append("<div class='jsPanel-connector jsPanel-connector-top'>"),$(".jsPanel-connector-top",a).css("border-top-color",f||h("top")),a.option.position.offsetY=a.option.position.offsetY-10||-10):a.hasClass("jsPanel-tooltip-bottom")?(a.append("<div class='jsPanel-connector jsPanel-connector-bottom'>"),$(".jsPanel-connector-bottom",a).css("border-bottom-color",f||b("bottom")),a.option.position.offsetY=a.option.position.offsetY+10||10):a.hasClass("jsPanel-tooltip-left")?(a.append("<div class='jsPanel-connector jsPanel-connector-left'>"),
$(".jsPanel-connector-left",a).css("border-left-color",f||g("left")),a.option.position.offsetX=a.option.position.offsetX-12||-12):a.hasClass("jsPanel-tooltip-right")?(a.append("<div class='jsPanel-connector jsPanel-connector-right'>"),$(".jsPanel-connector-right",a).css("border-right-color",f||g("right")),a.option.position.offsetX=a.option.position.offsetX+12||12):a.hasClass("jsPanel-tooltip-lefttopcorner")?(a.append("<div class='jsPanel-connector jsPanel-connector-lefttopcorner'>"),$(".jsPanel-connector-lefttopcorner",
a).css("background-color",f||h("lefttopcorner"))):a.hasClass("jsPanel-tooltip-righttopcorner")?(a.append("<div class='jsPanel-connector jsPanel-connector-righttopcorner'>"),$(".jsPanel-connector-righttopcorner",a).css("background-color",f||h("righttopcorner"))):a.hasClass("jsPanel-tooltip-rightbottomcorner")?(a.append("<div class='jsPanel-connector jsPanel-connector-rightbottomcorner'>"),$(".jsPanel-connector-rightbottomcorner",a).css("background-color",f||b("rightbottomcorner"))):a.hasClass("jsPanel-tooltip-leftbottomcorner")?
(a.append("<div class='jsPanel-connector jsPanel-connector-leftbottomcorner'>"),$(".jsPanel-connector-leftbottomcorner",a).css("background-color",f||b("leftbottomcorner"))):a.hasClass("jsPanel-tooltip-lefttop")?(a.append("<div class='jsPanel-connector jsPanel-connector-lefttop'>"),$(".jsPanel-connector-lefttop",a).css("border-left-color",f||e("lefttop")),a.option.position.offsetX=a.option.position.offsetX-12||-12):a.hasClass("jsPanel-tooltip-leftbottom")?(a.append("<div class='jsPanel-connector jsPanel-connector-leftbottom'>"),
$(".jsPanel-connector-leftbottom",a).css("border-left-color",f||h("leftbottom")),a.option.position.offsetX=a.option.position.offsetX-12||-12):a.hasClass("jsPanel-tooltip-topleft")?(a.append("<div class='jsPanel-connector jsPanel-connector-topleft'>"),$(".jsPanel-connector-topleft",a).css("border-top-color",f||h("topleft")),a.option.position.offsetY=a.option.position.offsetY-10||-10):a.hasClass("jsPanel-tooltip-topright")?(a.append("<div class='jsPanel-connector jsPanel-connector-topright'>"),$(".jsPanel-connector-topright",
a).css("border-top-color",f||h("topright")),a.option.position.offsetY=a.option.position.offsetY-10||-10):a.hasClass("jsPanel-tooltip-righttop")?(a.append("<div class='jsPanel-connector jsPanel-connector-righttop'>"),$(".jsPanel-connector-righttop",a).css("border-right-color",f||e("righttop")),a.option.position.offsetX=a.option.position.offsetX+12||12):a.hasClass("jsPanel-tooltip-rightbottom")?(a.append("<div class='jsPanel-connector jsPanel-connector-rightbottom'>"),$(".jsPanel-connector-rightbottom",
a).css("border-right-color",f||h("rightbottom")),a.option.position.offsetX=a.option.position.offsetX+12||12):a.hasClass("jsPanel-tooltip-bottomleft")?(a.append("<div class='jsPanel-connector jsPanel-connector-bottomleft'>"),$(".jsPanel-connector-bottomleft",a).css("border-bottom-color",f||b("bottomleft")),a.option.position.offsetY=a.option.position.offsetY+10||10):a.hasClass("jsPanel-tooltip-bottomright")&&(a.append("<div class='jsPanel-connector jsPanel-connector-bottomright'>"),$(".jsPanel-connector-bottomright",
a).css("border-bottom-color",f||b("bottomright")),a.option.position.offsetY=a.option.position.offsetY+10||10)},setTrigger:function(a){return"string"===typeof a.of?document.querySelector(a.of):a.of.jquery?a.of[0]:a.of},closeTooltips:function(){$(".jsPanel-tooltip").each(function(a,h){return h.jspanel.close()})},setTooltipClass:function(a){var h=a.option.position;"center-bottom"===h.my&&"center-top"===h.at?a.addClass("jsPanel-tooltip-top"):"left-bottom"===h.my&&"right-top"===h.at?a.addClass("jsPanel-tooltip-righttopcorner"):
"left-center"===h.my&&"right-center"===h.at?a.addClass("jsPanel-tooltip-right"):"left-top"===h.my&&"right-bottom"===h.at?a.addClass("jsPanel-tooltip-rightbottomcorner"):"center-top"===h.my&&"center-bottom"===h.at?a.addClass("jsPanel-tooltip-bottom"):"right-top"===h.my&&"left-bottom"===h.at?a.addClass("jsPanel-tooltip-leftbottomcorner"):"right-center"===h.my&&"left-center"===h.at?a.addClass("jsPanel-tooltip-left"):"right-bottom"===h.my&&"left-top"===h.at?a.addClass("jsPanel-tooltip-lefttopcorner"):
"center"===h.my&&"center"===h.at?a.addClass("jsPanel-tooltip-center"):"right-top"===h.my&&"left-top"===h.at?a.addClass("jsPanel-tooltip-lefttop"):"right-bottom"===h.my&&"left-bottom"===h.at?a.addClass("jsPanel-tooltip-leftbottom"):"left-bottom"===h.my&&"left-top"===h.at?a.addClass("jsPanel-tooltip-topleft"):"right-bottom"===h.my&&"right-top"===h.at?a.addClass("jsPanel-tooltip-topright"):"left-top"===h.my&&"right-top"===h.at?a.addClass("jsPanel-tooltip-righttop"):"left-bottom"===h.my&&"right-bottom"===
h.at?a.addClass("jsPanel-tooltip-rightbottom"):"left-top"===h.my&&"left-bottom"===h.at?a.addClass("jsPanel-tooltip-bottomleft"):"right-top"===h.my&&"right-bottom"===h.at&&a.addClass("jsPanel-tooltip-bottomright")},setTooltipMode:function(a,h){"semisticky"===a.option.paneltype.mode?a.hover(function(){return $.noop()},function(){a.close();$(h).removeClass("hasTooltip")}):"sticky"===a.option.paneltype.mode?$.noop():$(h).mouseout(function(){a.close();$(h).removeClass("hasTooltip")})},ajax:function(a){var h=
a.option.contentAjax;$.ajax(h).done(function(b,e,g){h.autoload&&a.content.append(b);$.isFunction(h.done)&&h.done.call(a,b,e,g,a)}).fail(function(b,e,g){$.isFunction(h.fail)&&h.fail.call(a,b,e,g,a)}).always(function(b,e,g){$.isFunction(h.always)&&h.always.call(a,b,e,g,a)}).then(function(b,e,g){h.then&&$.isArray(h.then)&&$.isFunction(h.then[0])&&h.then[0].call(a,b,e,g,a)},function(b,e,g){$.isArray(h.then)&&$.isFunction(h.then[1])&&h.then[1].call(a,b,e,g,a)});a.data("ajaxURL",h.url)},iframe:function(a){var h=
$("<iframe></iframe>"),b=a.option.contentIframe;b.srcdoc&&(h.prop("srcdoc",b.srcdoc),a.data("iframeDOC",b.srcdoc));b.src&&(h.prop("src",b.src),a.data("iframeSRC",b.src));"auto"===a.option.contentSize.width||b.width?h.prop("width",b.width):h.css("width","100%");"auto"===a.option.contentSize.height||b.height?h.prop("height",b.height):h.css("height","100%");b.name&&h.prop("name",b.name);b.sandbox&&h.prop("sandox",b.sandbox);b.id&&h.prop("id",b.id);$.isPlainObject(b.style)&&h.css(b.style);"string"===
typeof b.classname?h.addClass(b.classname):$.isFunction(b.classname)&&h.addClass(b.classname());a.content.append(h)},contentReload:function(a){a.option.content?a.content.empty().append(a.option.content):a.option.contentAjax?(a.content.empty(),this.ajax(a)):a.option.contentIframe&&(a.content.empty(),this.iframe(a));return a},contentResize:function(a){var h=void 0;a.footer.hasClass("active")?h=a.header.outerHeight()+a.footer.outerHeight():h=a.header.outerHeight();a.content.css({height:a.outerHeight()-
h});return a},configIconfont:function(a){var h="close maximize normalize minimize smallify smallifyrev".split(" "),b="remove fullscreen resize-full minus chevron-up chevron-down".split(" "),e="times arrows-alt expand minus chevron-up chevron-down".split(" "),g=a.option.headerControls.iconfont,f=a.header.headerbar;"bootstrap"===g||"glyphicon"===g?(h.forEach(function(a,e){$(".jsPanel-btn-"+a+" span",f).removeClass().addClass("glyphicon glyphicon-"+b[e])}),$(".jsPanel-headerbar .jsPanel-btn",a).css("padding-top",
"4px")):"font-awesome"===g&&h.forEach(function(a,b){$(".jsPanel-btn-"+a+" span",f).removeClass().addClass("fa fa-"+e[b])})},headerControl:function(a,h,b){var e=a.header.headerbar,g=a[0];"disable"===b?"removed"!==g.getAttribute("data-btn"+h)&&(g.setAttribute("data-btn"+h,"disabled"),$(".jsPanel-btn-"+h,e).css({pointerEvents:"none",opacity:.4,cursor:"default"})):"enable"===b?"removed"!==g.getAttribute("data-btn"+h)&&(g.setAttribute("data-btn"+h,"enabled"),$(".jsPanel-btn-"+h,e).css({pointerEvents:"auto",
opacity:1,cursor:"pointer"})):"remove"===b&&"close"!==h&&(g.setAttribute("data-btn"+h,"removed"),$(".jsPanel-btn-"+h,e).remove());return a},hideControls:function(a,h){var b=h.header.headerbar;$("div",b).css("display","flex");$(a,b).css("display","none")},headerTitle:function(a,h){return h?(a.header.title.empty().append(h),a):a.header.title.html()},configToolbar:function(a,h,b){var e=void 0,g=void 0;a.forEach(function(a){"object"===("undefined"===typeof a?"undefined":_typeof(a))&&(e=$(a.item),"string"===
typeof a.btntext&&e.append(a.btntext),"string"===typeof a.btnclass&&e.addClass(a.btnclass),h.append(e),$.isFunction(a.callback)&&(g=a.event||"click",e.on(g,b,a.callback)))})},toolbar:function(a,h,b){"header"===h?(a.header.toolbar.addClass("active"),$.isArray(b)?this.configToolbar(b,a.header.toolbar,a):$.isFunction(b)?a.header.toolbar.append(b(a.header)):a.header.toolbar.append(b)):"footer"===h&&(a.content.removeClass("jsPanel-content-nofooter"),a.footer.addClass("active"),$.isArray(b)?this.configToolbar(b,
a.footer,a):$.isFunction(b)?a.footer.append(b(a.footer)):a.footer.append(b));this.contentResize(a);return a},closeChildpanels:function(a){$(".jsPanel",a).each(function(a,b){b.jspanel.close()});return a},dblclickhelper:function(a,h){if("string"===typeof a)if("maximize"===a||"normalize"===a)"normalized"===h.data("status")?h.maximize():h.normalize();else if("minimize"===a||"smallify"===a||"close"===a)h[a]()},exportPanels:function(){var a=void 0,h=void 0,b=void 0,e=void 0,g=void 0,f=void 0,l=void 0,k=
[],n=void 0,m=$(".jsPanel").not(".jsPanel-tooltip, .jsPanel-hint, .jsPanel-modal");m.each(function(a,b){"normalized"!==$(b).data("status")&&$(".jsPanel-btn-normalize",b).trigger("click")});m.each(function(m,q){l=$(q).data("container");a=$(q).offset();h=$(q).position();"body"===l.toLowerCase()?(b=Math.floor(a.top-$(window).scrollTop()),e=Math.floor(a.left-$(window).scrollLeft())):(b=Math.floor(h.top),e=Math.floor(h.left));g=$(q).css("width");f=$(".jsPanel-content",q).css("height");n={status:$(q).data("status"),
id:$(q).prop("id"),headerTitle:$(".jsPanel-title",q).html(),custom:$(q).data("custom"),content:$(q).data("content"),contentSize:{width:g,height:f},position:{my:"left-top",at:"left-top",offsetX:e,offsetY:b}};$(q).data("ajaxURL")&&(n.contentAjax={url:$(q).data("ajaxURL"),autoload:!0});if($(q).data("iframeDOC")||$(q).data("iframeSRC"))n.contentIframe={src:$(q).data("iframeSRC")||"",srcdoc:$(q).data("iframeDOC")||""};k.push(n);switch(n.status){case "minimized":$(".jsPanel-btn-minimize",q).trigger("click");
break;case "maximized":$(".jsPanel-btn-maximize",q).trigger("click");break;case "smallified":$(".jsPanel-btn-smallify",q).trigger("click");break;case "smallifiedMax":$(".jsPanel-btn-smallify",q).trigger("click")}});window.localStorage.setItem("jspanels",JSON.stringify(k));return k},importPanels:function(a){var h=JSON.parse(localStorage.jspanels)||{},b=a["default"]||{},e=void 0;h.forEach(function(g){e="string"===typeof g.custom.config?$.extend(!0,{},b,a[g.custom.config],g):$.extend(!0,{},b,g);$.jsPanel(e)})},
resize:function(a,h,b){if("minimized"!==a.data("status")){if($.isFunction(a.option.onbeforeresize)&&!1===a.option.onbeforeresize.call(a,a))return a;h&&null!==h||(h=a.content.css("width")+a.content.css("border-left-width"));a.css("width",h);b&&null!==b&&a.css("height",b);a.contentResize();$.isFunction(a.option.onresized)&&a.option.onresized.call(a,a)}return a},setZi:function(a){a.hasClass("jsPanel-modal")||(this.zi+=1)>a.css("z-index")&&a.css("z-index",this.zi)},resetZis:function(){var a=[];$(".jsPanel:not(.jsPanel-modal):not(.jsPanel-hint)").each(function(h,
b){a.push(b)});a.sort(function(a,b){return $(a).css("z-index")-$(b).css("z-index")}).forEach(function(a,b){(jsPanel.zi+=1)>$(a).css("z-index")&&$(a).css("z-index",100+b)});this.zi=99+a.length},updateCachedData:function(a){var h=window.getComputedStyle(a[0],null);a.cachedData.top=h.getPropertyValue("top");a.cachedData.left=h.getPropertyValue("left");a.cachedData.width=h.getPropertyValue("width");a.cachedData.height=h.getPropertyValue("height")}};$(document.body).append("<div id='jsPanel-replacement-container'>");
(function(a){a.jsPanel=function(h){var b=void 0,e=h||{},g=a.extend(!0,{},e.config||{},e),f=void 0,l=[],k=void 0,n=void 0,m=a(e.template||jsPanel.template),p=void 0;h.zi&&(jsPanel.zi=h.zi);"tooltip"===g.paneltype&&(g.paneltype={tooltip:!0});g.paneltype?"modal"===g.paneltype?m.option=a.extend(!0,{},a.jsPanel.defaults,a.jsPanel.modaldefaults,g):g.paneltype.tooltip?m.option=a.extend(!0,{},a.jsPanel.defaults,a.jsPanel.tooltipdefaults,g):"hint"===g.paneltype&&(m.option=a.extend(!0,{},a.jsPanel.defaults,
a.jsPanel.hintdefaults,g)):m.option=a.extend(!0,{},a.jsPanel.defaults,g);if(m.option.paneltype.tooltip&&(p=jsPanel.setTrigger(m.option.position),a(p).hasClass("hasTooltip")))return!1;var q="container contentAjax contentIframe contentOverflow contentSize footerToolbar headerControls headerRemove headerTitle headerToolbar".split(" ");"selector ajax iframe overflow size toolbarFooter controls removeHeader title toolbarHeader".split(" ").forEach(function(a,b){m.option[a]&&(m.option[q[b]]=m.option[a])});
switch(m.option.theme){case "light":m.option.theme="gainsboro";break;case "medium":m.option.theme="silver";break;case "dark":m.option.theme="gray";break;case "autumngreen":m.option.theme="#5A521B";break;case "autumnbrown":m.option.theme="#823E1D";break;case "autumnred":m.option.theme="#852228"}if(m.option.bootstrap)switch(m.option.bootstrap){case "default":m.option.theme="bootstrap-default";break;case "primary":m.option.theme="bootstrap-primary";break;case "info":m.option.theme="bootstrap-info";break;
case "success":m.option.theme="bootstrap-success";break;case "warning":m.option.theme="bootstrap-warning";break;case "danger":m.option.theme="bootstrap-danger"}m.option.load.url&&(m.option.contentAjax={url:m.option.load.url,autoload:!0,data:m.option.load.data||void 0,done:m.option.load.complete||void 0});m.option.panelstatus&&("smallifiedMax"===m.option.panelstatus?m.option.setstatus="maximize smallify":m.option.setstatus=m.option.panelstatus);m.option.headerControls.buttons&&(m.option.headerControls.controls=
m.option.headerControls.buttons);f=m.option.theme.toLowerCase().replace(/ /g,"");f.endsWith("filled")?(l[1]="filled",l[0]=f.substr(0,f.length-6)):f.endsWith("filledlight")?(l[1]="filledlight",l[0]=f.substr(0,f.length-11)):(l[1]="",l[0]=f);l[0].match("-")&&(k=l[0].split("-"),n=!0);"string"===typeof m.option.id?b=m.option.id:a.isFunction(m.option.id)&&(m.option.id=b=m.option.id());if(0<a("#"+b).length)return console.warn("jsPanel Error: No jsPanel created - id attribute passed with option.id already exists in document"),
!1;m.attr("id",b);m.data("custom",m.option.custom);m.header=a(".jsPanel-hdr",m);m.header.headerbar=a(".jsPanel-headerbar",m.header);m.header.title=a(".jsPanel-title",m.header.headerbar);m.header.controls=a(".jsPanel-controlbar",m.header.headerbar);m.header.toolbar=a(".jsPanel-hdr-toolbar",m.header);m.content=a(".jsPanel-content",m);m.footer=a(".jsPanel-ftr",m);m.data("status","initialized");m.cachedData={};m.toolbarAdd=function(){return jsPanel.toolbar(m,0>=arguments.length||void 0===arguments[0]?
"header":arguments[0],1>=arguments.length||void 0===arguments[1]?[]:arguments[1])};m.close=function(){a(document).trigger("jspanelbeforeclose",b);if(a.isFunction(m.option.onbeforeclose)&&!1===m.option.onbeforeclose.call(m,m))return m;var e=m.option.position;if(e.autoposition||"string"===typeof e&&e.match(/DOWN|RIGHT|UP|LEFT/)){var e=a("#"+b).parent(),f=document.getElementById(b).className.match(/left-top|center-top|right-top|left-center|center|right-center|left-bottom|center-bottom|right-bottom/);
f&&(jsPanel.lastbeforeclose={parent:e,"class":f[0]})}m.closeChildpanels().remove();e=jsPanel.activePanels.list.findIndex(function(a){return a===b});-1<e&&jsPanel.activePanels.list.splice(e,1);a("#"+b+"-min").remove();"modal"===m.option.paneltype&&a("#jsPanel-modal-backdrop-"+m.attr("id")).remove();m.option.paneltype.tooltip&&a(p).removeClass("hasTooltip");a(document).trigger("jspanelclosed",b);a(document).trigger("jspanelstatuschange",b);var g=e=e=void 0;jsPanel.lastbeforeclose&&(e=jsPanel.lastbeforeclose.parent,
e=a("."+jsPanel.lastbeforeclose["class"],e),g=jsPanel.lastbeforeclose["class"]);e&&(e.each(function(b,e){a(e).removeClass(g)}),e.each(function(a,b){var e=b.getAttribute("data-autoposition"),f=b.getAttribute("data-offsetx"),h=b.getAttribute("data-offsety");jsPanel.position(b,{my:g,at:g,autoposition:e,offsetX:f,offsetY:h})}));jsPanel.lastbeforeclose=!1;a.isFunction(m.option.onclosed)&&m.option.onclosed.call(m,m);jsPanel.resetZis()};m.closeChildpanels=function(){return jsPanel.closeChildpanels(m)};m.contentReload=
function(){return jsPanel.contentReload(m)};m.contentResize=function(){return jsPanel.contentResize(m)};m.headerControl=function(a){var b=1>=arguments.length||void 0===arguments[1]?"enable":arguments[1];a?jsPanel.headerControl(m,a,b):["close","maximize","minimize","normalize","smallify"].forEach(function(a){jsPanel.headerControl(m,a,b)});return m};m.headerTitle=function(a){return jsPanel.headerTitle(m,a)};m.front=function(){m.css("z-index",jsPanel.setZi(m));jsPanel.resetZis();return m};m.normalize=
function(){if("normalized"===m.data("status"))return m;a(document).trigger("jspanelbeforenormalize",b);if(a.isFunction(m.option.onbeforenormalize)&&!1===m.option.onbeforenormalize.call(m,m))return m;m.css({left:m.cachedData.left,top:m.cachedData.top,width:m.cachedData.width,height:m.cachedData.height,zIndex:function(){jsPanel.setZi(m)}}).data("status","normalized").contentResize();jsPanel.hideControls(".jsPanel-btn-normalize, .jsPanel-btn-smallifyrev",m);a("#"+m.prop("id")+"-min").remove();a(document).trigger("jspanelnormalized",
b);a(document).trigger("jspanelstatuschange",b);a.isFunction(m.option.onnormalized)&&m.option.onnormalized.call(m,m);return m};m.maximize=function(){var e=m.option.maximizedMargin,f=m[0].parentNode;if("maximized"===m.data("status"))return m;"normalized"===m.data("status")&&jsPanel.updateCachedData(m);a(document).trigger("jspanelbeforemaximize",b);if(a.isFunction(m.option.onbeforemaximize)&&!1===m.option.onbeforemaximize.call(m,m))return m;f===document.body?(m.css({width:document.documentElement.clientWidth-
e.left-e.right+"px",height:document.documentElement.clientHeight-e.top-e.bottom+"px",left:e.left+"px",top:e.top+"px"}),!1===m.option.position.fixed&&m.css({left:window.pageXOffset+e.left+"px",top:window.pageYOffset+e.top+"px"})):m.css({width:f.clientWidth-e.left-e.right+"px",height:f.clientHeight-e.top-e.bottom+"px",left:e.left+"px",top:e.top+"px"});m.contentResize().data("status","maximized").css("z-index",jsPanel.setZi(m));jsPanel.hideControls(".jsPanel-btn-maximize, .jsPanel-btn-smallifyrev",m);
a("#"+m.prop("id")+"-min").remove();a(document).trigger("jspanelmaximized",b);a(document).trigger("jspanelstatuschange",b);a.isFunction(m.option.onmaximized)&&m.option.onmaximized.call(m,m);return m};m.minimize=function(){if("minimized"===m.data("status"))return m;a(document).trigger("jspanelbeforeminimize",b);if(a.isFunction(m.option.onbeforeminimize)&&!1===m.option.onbeforeminimize.call(m,m))return m;var e=m.header.headerbar.css("color"),f=void 0,f=n?"transparent"===m.header.css("background-color")?
m.css("background-color"):m.header.css("background-color"):m.css("background-color");"normalized"===m.data("status")&&jsPanel.updateCachedData(m);var g=a(jsPanel.replacementTemplate);g.left=m.css("left");m.css("left","-9999px").data("status","minimized");g.css({backgroundColor:f}).prop("id",m.prop("id")+"-min").find("h3").css({color:e}).html(m.headerTitle());a(".jsPanel-btn",g).css({color:e});e=a(m.option.container).closest(".jsPanel-content");e.length?(a(".jsPanel-minimized-box").length||a(e[0]).append("<div class='jsPanel-minimized-box'>"),
a(".jsPanel-minimized-box").append(g)):a("#jsPanel-replacement-container").append(g);a(document).trigger("jspanelminimized",b);a(document).trigger("jspanelstatuschange",b);a.isFunction(m.option.onminimized)&&m.option.onminimized.call(m,m);a(".jsPanel-btn-normalize",g).css("display","block").click(function(){m.css("left",g.left);g.remove();a(".jsPanel-btn-normalize",m).trigger("click")});"disabled"===m[0].dataset.btnnormalize?a(".jsPanel-btn-normalize",g).css({pointerEvents:"none",opacity:.5,cursor:"default"}):
"removed"===m[0].dataset.btnnormalize&&a(".jsPanel-btn-normalize",g).remove();a(".jsPanel-btn-maximize",g).click(function(){m.css("left",g.left);g.remove();a(".jsPanel-btn-maximize",m).trigger("click")});"disabled"===m[0].dataset.btnmaximize?a(".jsPanel-btn-maximize",g).css({pointerEvents:"none",opacity:.5,cursor:"default"}):"removed"===m[0].dataset.btnmaximize&&a(".jsPanel-btn-maximize",g).remove();a(".jsPanel-btn-close",g).click(function(){g.remove();m.close()});"disabled"===m[0].dataset.btnclose&&
a(".jsPanel-btn-close",g).css({pointerEvents:"none",opacity:.5,cursor:"default"});return m};m.reposition=function(a){return jsPanel.reposition(m,a)};m.resize=function(a,b){return jsPanel.resize(m,a,b)};m.smallify=function(){"normalized"===m.data("status")||"maximized"===m.data("status")?"smallified"!==m.data("status")&&"smallifiedMax"!==m.data("status")&&(m.smallify.height=m.outerHeight(),m.animate({height:m.header.headerbar.outerHeight()+"px"}),"maximized"===m.data("status")?(jsPanel.hideControls(".jsPanel-btn-maximize, .jsPanel-btn-smallify",
m),m.data("status","smallifiedMax"),a(document).trigger("jspanelsmallifiedmax",b)):(jsPanel.hideControls(".jsPanel-btn-normalize, .jsPanel-btn-smallify",m),m.data("status","smallified"),a(document).trigger("jspanelsmallified",b)),a(document).trigger("jspanelstatuschange",b),a.isFunction(m.option.onsmallified)&&m.option.onsmallified.call(m,m)):"minimized"!==m.data("status")&&(m.animate({height:m.smallify.height}),"smallified"===m.data("status")?(jsPanel.hideControls(".jsPanel-btn-normalize, .jsPanel-btn-smallifyrev",
m),m.data("status","normalized"),a(document).trigger("jspanelnormalized",b)):(jsPanel.hideControls(".jsPanel-btn-maximize, .jsPanel-btn-smallifyrev",m),m.data("status","maximized"),a(document).trigger("jspanelmaximized",b)),a(document).trigger("jspanelstatuschange",b),a.isFunction(m.option.onunsmallified)&&m.option.onunsmallified.call(m,m));m.css("z-index",jsPanel.setZi(m));return m};m.addToolbar=m.toolbarAdd;m.reloadContent=m.contentReload;m.resizeContent=m.contentResize;m.control=m.headerControl;
m.title=m.headerTitle;a(".jsPanel-btn-close",m).on("click",function(a){a.preventDefault();m.close()});a(".jsPanel-btn-minimize",m).on("click",function(a){a.preventDefault();m.minimize()});a(".jsPanel-btn-maximize",m).on("click",function(a){a.preventDefault();m.maximize()});a(".jsPanel-btn-normalize",m).on("click",function(a){a.preventDefault();m.normalize()});a(".jsPanel-btn-smallify, .jsPanel-btn-smallifyrev",m).on("click",function(a){a.preventDefault();m.smallify()});m.option.headerRemove?(m.header.remove(),
m.content.addClass("jsPanel-content-noheader"),["close","maximize","minimize","normalize","smallify"].forEach(function(a){m[0].setAttribute("data-btn"+a,"removed")})):"closeonly"===m.option.headerControls.controls?(a(".jsPanel-btn:not(.jsPanel-btn-close)",m.header.headerbar).remove(),["maximize","minimize","normalize","smallify"].forEach(function(a){m[0].setAttribute("data-btn"+a,"removed")}),m[0].setAttribute("data-btn-close","enabled")):"none"===m.option.headerControls.controls?(a(m.header.controls).remove(),
["close","maximize","minimize","normalize","smallify"].forEach(function(a){m[0].setAttribute("data-btn"+a,"removed")})):["close","maximize","minimize","normalize","smallify"].forEach(function(a){"disable"===m.option.headerControls[a]?m.headerControl(a,"disable"):"remove"===m.option.headerControls[a]?m.headerControl(a,"remove"):m[0].setAttribute("data-btn"+a,"enabled")});jsPanel.configIconfont(m);"modal"===m.option.paneltype?(jsPanel.insertModalBackdrop(m),m.addClass("jsPanel-modal").css("z-index",
jsPanel.modalcount+9999)):"hint"===m.option.paneltype?m.addClass("jsPanel-hint").css("z-index",1E4):m.option.paneltype.tooltip&&(p=jsPanel.setTrigger(m.option.position),m.addClass("jsPanel-tooltip"),jsPanel.setTooltipClass(m),m.option.paneltype.solo&&jsPanel.closeTooltips(),jsPanel.setTooltipMode(m,p));m.appendTo(m.option.container);jsPanel.activePanels.list.push(b);m.option.paneltype.tooltip&&a(p).addClass("hasTooltip");a(document).trigger("jspanelloaded",b);m.data("container",m.option.container);
n?(e=h=void 0,m.addClass("panel panel-"+k[1]).addClass("card card-inverse card-"+k[1]).header.addClass("panel-heading").title.addClass("panel-title"),m.content.addClass("panel-body").css("border-top-color",function(){return m.header.css("border-top-color")}),m.footer.addClass("panel-footer card-footer"),h="transparent"===a(".panel-heading",m).css("background-color")?m.css("background-color").replace(/\s+/g,""):a(".panel-heading",m).css("background-color").replace(/\s+/g,""),e=jsPanel.calcColors(h),
a("*",m.header).css("color",e[3]),m.option.headerToolbar?m.header.toolbar.css({boxShadow:"0 0 1px "+e[3]+" inset",width:"calc(100% + 4px)",marginLeft:"-2px"}):m.content.css({borderTop:"1px solid "+e[3]}),"filled"===l[1]?m.content.css({backgroundColor:h,color:e[3]}):"filledlight"===l[1]&&m.content.css({backgroundColor:e[1],color:"#000000"})):jsPanel.themes.includes(l[0])?([m,m.header,m.content,m.footer].forEach(function(b){return a(b).addClass("jsPanel-theme-"+l[0])}),"filled"===l[1]?m.content.css("background",
"").addClass("jsPanel-content-filled"):"filledlight"===l[1]&&m.content.css("background","").addClass("jsPanel-content-filledlight"),m.option.headerToolbar||m.content.css({borderTop:"1px solid "+m.header.title.css("color")})):(k=jsPanel.calcColors(l[0]),m.css("background-color",k[0]),a(".jsPanel-hdr *",m).css({color:k[3]}),m.option.headerToolbar?m.header.toolbar.css({boxShadow:"0 0 1px "+k[3]+" inset",width:"calc(100% + 4px)",marginLeft:"-2px"}):m.content.css({borderTop:"1px solid "+k[3]}),"filled"===
l[1]?m.content.css({"background-color":k[0],color:k[3]}):"filledlight"===l[1]&&m.content.css({"background-color":k[1]}));(m.option.headerRemove||1>a(".jsPanel-hdr").length)&&m.content.css("border","none");m.option.headerToolbar&&!m.option.headerRemove&&jsPanel.toolbar(m,"header",m.option.headerToolbar);m.option.footerToolbar&&jsPanel.toolbar(m,"footer",m.option.footerToolbar);m.option.content&&(m.content.append(m.option.content),m.data("content",m.option.content));"string"===typeof m.option.contentAjax?
(m.option.contentAjax={url:m.option.contentAjax,autoload:!0},jsPanel.ajax(m)):a.isPlainObject(m.option.contentAjax)&&jsPanel.ajax(m);a.isPlainObject(m.option.contentIframe)&&(m.option.contentIframe.src||m.option.contentIframe.srcdoc)&&jsPanel.iframe(m);m.option.paneltype.connector&&jsPanel.addConnector(m);"string"===typeof m.option.contentSize&&(k=m.option.contentSize.trim().split(" "),h=k.length,m.option.contentSize={width:k[0],height:k[--h]});0===m.option.contentSize.height&&(m.option.contentSize.height=
"0");m.content.css({width:m.option.contentSize.width||a.jsPanel.defaults.contentSize.width,height:m.option.contentSize.height||a.jsPanel.defaults.contentSize.height});m.css({width:function(){return 0<a(".jsPanel-content",m).length?m.content.outerWidth()+"px":m.option.contentSize.width||a.jsPanel.defaults.contentSize.width},zIndex:function(){jsPanel.setZi(m)}});m.content.css("width","100%");jsPanel.position(m,m.option.position);m.data("status","normalized");a(document).trigger("jspanelstatuschange",
b);if(!m.option.paneltype&&m.option.dblclicks){if(m.option.dblclicks.title)m.header.headerbar.on("dblclick",function(a){a.preventDefault();jsPanel.dblclickhelper(m.option.dblclicks.title,m)});if(m.option.dblclicks.content)m.content.on("dblclick",function(a){a.preventDefault();jsPanel.dblclickhelper(m.option.dblclicks.content,m)});if(m.option.dblclicks.footer)m.footer.on("dblclick",function(a){a.preventDefault();jsPanel.dblclickhelper(m.option.dblclicks.footer,m)})}"string"===typeof m.option.contentOverflow?
m.content.css("overflow",m.option.contentOverflow):a.isPlainObject(m.option.contentOverflow)&&m.content.css({"overflow-y":m.option.contentOverflow.vertical||m.option.contentOverflow["overflow-y"],"overflow-x":m.option.contentOverflow.horizontal||m.option.contentOverflow["overflow-x"]});a.isPlainObject(m.option.draggable)?m.draggable(m.option.draggable):"disabled"===m.option.draggable?(a(".jsPanel-hdr, .jsPanel-ftr",m).css("cursor","default"),m.draggable({disabled:!0})):a(".jsPanel-hdr, .jsPanel-ftr",
m).css("cursor","default");a.isPlainObject(m.option.resizable)?m.resizable(m.option.resizable):"disabled"===m.option.resizable&&(m.resizable({disabled:!0}),a(".ui-icon-gripsmall-diagonal-se, .ui-resizable-handle.ui-resizable-sw",m).css({"background-image":"none","text-indent":-9999}),a(".ui-resizable-handle",m).css({cursor:"inherit"}));m.on("resize",function(){return m.contentResize()});!0===m.option.rtl.rtl&&(a(".jsPanel-hdr, .jsPanel-headerbar, .jsPanel-titlebar, .jsPanel-controlbar, .jsPanel-hdr-toolbar, .jsPanel-ftr",
m).addClass("jsPanel-rtl"),[m.header.title,m.content,a("*",m.header.toolbar),a("*",m.footer)].forEach(function(a){a.prop("dir","rtl");m.option.rtl.lang&&a.prop("lang",m.option.rtl.lang)}),a(".ui-icon-gripsmall-diagonal-se",m).css({backgroundImage:"none",textIndent:-9999}));"string"===typeof m.option.show&&m.addClass(m.option.show).css("opacity",1);m.header.title.empty().prepend(m.option.headerTitle);m[0].addEventListener("mousedown",function(b){b=a(b.target).closest(".jsPanel").css("z-index");!m.hasClass("jsPanel-modal")&&
b<jsPanel.zi&&(m.css("z-index",jsPanel.setZi(m)),jsPanel.resetZis())},!1);jsPanel.updateCachedData(m);"string"===typeof m.option.setstatus&&("maximize smallify"===m.option.setstatus?m.maximize().smallify():m[m.option.setstatus]());"number"===typeof m.option.autoclose&&0<m.option.autoclose&&window.setTimeout(function(){m&&m.close()},m.option.autoclose);m[0].jspanel={close:function(){m.close()},normalize:function(){m.normalize();return m},maximize:function(){m.maximize();return m},minimize:function(){m.minimize();
return m},smallify:function(){m.smallify();return m},front:function(){m.front();return m},closeChildpanels:function(){m.closeChildpanels();return m},reposition:function(a){m.reposition(a);return m},resize:function(a,b){m.resize(a,b);return m},contentResize:function(){m.contentResize();return m},contentReload:function(){m.contentReload();return m},headerTitle:function(a){m.headerTitle(a);return m},headerControl:function(a,b){m.headerControl(a,b);return m},toolbarAdd:function(a,b){m.toolbarAdd(a,b);
return m},noop:function(){return m}};m.option.callback&&a.isFunction(m.option.callback)?m.option.callback.call(m,m):a.isArray(m.option.callback)&&m.option.callback.forEach(function(b){a.isFunction(b)&&b.call(m,m)});return m};a.jsPanel.defaults={autoclose:!1,callback:!1,container:"body",content:!1,contentAjax:!1,contentIframe:!1,contentOverflow:"hidden",contentSize:{width:400,height:200},custom:!1,dblclicks:!1,draggable:{handle:"div.jsPanel-hdr, div.jsPanel-ftr",opacity:.8},footerToolbar:!1,headerControls:{close:!1,
maximize:!1,minimize:!1,normalize:!1,smallify:!1,controls:"all",iconfont:"jsglyph"},headerRemove:!1,headerTitle:"jsPanel",headerToolbar:!1,id:function(){return"jsPanel-"+(jsPanel.id+=1)},load:!1,maximizedMargin:{top:5,right:5,bottom:5,left:5},onbeforeclose:!1,onbeforemaximize:!1,onbeforeminimize:!1,onbeforenormalize:!1,onclosed:!1,onmaximized:!1,onminimized:!1,onnormalized:!1,onbeforeresize:!1,onresized:!1,onsmallified:!1,onunsmallified:!1,paneltype:!1,position:{my:"center",at:"center"},resizable:{handles:"n, e, s, w, ne, se, sw, nw",
autoHide:!1,minWidth:40,minHeight:40},rtl:!1,setstatus:!1,show:!1,template:!1,theme:"default"};a.jsPanel.modaldefaults={draggable:"disabled",headerControls:{controls:"closeonly"},position:{my:"center",at:"center"},resizable:"disabled"};a.jsPanel.tooltipdefaults={draggable:!1,headerControls:{controls:"closeonly"},position:{fixed:!1},resizable:!1};a.jsPanel.hintdefaults={autoclose:8E3,draggable:!1,headerControls:{controls:"closeonly"},resizable:!1}})(jQuery);
